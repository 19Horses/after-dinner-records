function _mergeNamespaces(c,e){for(var s=0;s<e.length;s++){const d=e[s];if(typeof d!="string"&&!Array.isArray(d)){for(const nt in d)if(nt!=="default"&&!(nt in c)){const o=Object.getOwnPropertyDescriptor(d,nt);o&&Object.defineProperty(c,nt,o.get?o:{enumerable:!0,get:()=>d[nt]})}}}return Object.freeze(Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const nt of document.querySelectorAll('link[rel="modulepreload"]'))d(nt);new MutationObserver(nt=>{for(const o of nt)if(o.type==="childList")for(const ft of o.addedNodes)ft.tagName==="LINK"&&ft.rel==="modulepreload"&&d(ft)}).observe(document,{childList:!0,subtree:!0});function s(nt){const o={};return nt.integrity&&(o.integrity=nt.integrity),nt.referrerPolicy&&(o.referrerPolicy=nt.referrerPolicy),nt.crossOrigin==="use-credentials"?o.credentials="include":nt.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function d(nt){if(nt.ep)return;nt.ep=!0;const o=s(nt);fetch(nt.href,o)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$3(c){return c===null||typeof c!="object"?null:(c=z$2&&c[z$2]||c["@@iterator"],typeof c=="function"?c:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$3={};function E$3(c,e,s){this.props=c,this.context=e,this.refs=D$3,this.updater=s||B$3}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(c,e){if(typeof c!="object"&&typeof c!="function"&&c!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,c,e,"setState")};E$3.prototype.forceUpdate=function(c){this.updater.enqueueForceUpdate(this,c,"forceUpdate")};function F$2(){}F$2.prototype=E$3.prototype;function G$3(c,e,s){this.props=c,this.context=e,this.refs=D$3,this.updater=s||B$3}var H$2=G$3.prototype=new F$2;H$2.constructor=G$3;C$3(H$2,E$3.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(c,e,s){var d,nt={},o=null,ft=null;if(e!=null)for(d in e.ref!==void 0&&(ft=e.ref),e.key!==void 0&&(o=""+e.key),e)J$1.call(e,d)&&!L$2.hasOwnProperty(d)&&(nt[d]=e[d]);var gt=arguments.length-2;if(gt===1)nt.children=s;else if(1<gt){for(var xt=Array(gt),St=0;St<gt;St++)xt[St]=arguments[St+2];nt.children=xt}if(c&&c.defaultProps)for(d in gt=c.defaultProps,gt)nt[d]===void 0&&(nt[d]=gt[d]);return{$$typeof:l$2,type:c,key:o,ref:ft,props:nt,_owner:K$2.current}}function N$1(c,e){return{$$typeof:l$2,type:c.type,key:e,ref:c.ref,props:c.props,_owner:c._owner}}function O$2(c){return typeof c=="object"&&c!==null&&c.$$typeof===l$2}function escape(c){var e={"=":"=0",":":"=2"};return"$"+c.replace(/[=:]/g,function(s){return e[s]})}var P$1=/\/+/g;function Q$2(c,e){return typeof c=="object"&&c!==null&&c.key!=null?escape(""+c.key):e.toString(36)}function R$2(c,e,s,d,nt){var o=typeof c;(o==="undefined"||o==="boolean")&&(c=null);var ft=!1;if(c===null)ft=!0;else switch(o){case"string":case"number":ft=!0;break;case"object":switch(c.$$typeof){case l$2:case n$1:ft=!0}}if(ft)return ft=c,nt=nt(ft),c=d===""?"."+Q$2(ft,0):d,I$2(nt)?(s="",c!=null&&(s=c.replace(P$1,"$&/")+"/"),R$2(nt,e,s,"",function(St){return St})):nt!=null&&(O$2(nt)&&(nt=N$1(nt,s+(!nt.key||ft&&ft.key===nt.key?"":(""+nt.key).replace(P$1,"$&/")+"/")+c)),e.push(nt)),1;if(ft=0,d=d===""?".":d+":",I$2(c))for(var gt=0;gt<c.length;gt++){o=c[gt];var xt=d+Q$2(o,gt);ft+=R$2(o,e,s,xt,nt)}else if(xt=A$3(c),typeof xt=="function")for(c=xt.call(c),gt=0;!(o=c.next()).done;)o=o.value,xt=d+Q$2(o,gt++),ft+=R$2(o,e,s,xt,nt);else if(o==="object")throw e=String(c),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return ft}function S$2(c,e,s){if(c==null)return c;var d=[],nt=0;return R$2(c,d,"","",function(o){return e.call(s,o,nt++)}),d}function T$3(c){if(c._status===-1){var e=c._result;e=e(),e.then(function(s){(c._status===0||c._status===-1)&&(c._status=1,c._result=s)},function(s){(c._status===0||c._status===-1)&&(c._status=2,c._result=s)}),c._status===-1&&(c._status=0,c._result=e)}if(c._status===1)return c._result.default;throw c._result}var U$2={current:null},V$2={transition:null},W$3={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};function X$3(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(c,e,s){S$2(c,function(){e.apply(this,arguments)},s)},count:function(c){var e=0;return S$2(c,function(){e++}),e},toArray:function(c){return S$2(c,function(e){return e})||[]},only:function(c){if(!O$2(c))throw Error("React.Children.only expected to receive a single React element child.");return c}};react_production_min.Component=E$3;react_production_min.Fragment=p$2;react_production_min.Profiler=r;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$3;react_production_min.cloneElement=function(c,e,s){if(c==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+c+".");var d=C$3({},c.props),nt=c.key,o=c.ref,ft=c._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,ft=K$2.current),e.key!==void 0&&(nt=""+e.key),c.type&&c.type.defaultProps)var gt=c.type.defaultProps;for(xt in e)J$1.call(e,xt)&&!L$2.hasOwnProperty(xt)&&(d[xt]=e[xt]===void 0&&gt!==void 0?gt[xt]:e[xt])}var xt=arguments.length-2;if(xt===1)d.children=s;else if(1<xt){gt=Array(xt);for(var St=0;St<xt;St++)gt[St]=arguments[St+2];d.children=gt}return{$$typeof:l$2,type:c.type,key:nt,ref:o,props:d,_owner:ft}};react_production_min.createContext=function(c){return c={$$typeof:u,_currentValue:c,_currentValue2:c,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},c.Provider={$$typeof:t,_context:c},c.Consumer=c};react_production_min.createElement=M$2;react_production_min.createFactory=function(c){var e=M$2.bind(null,c);return e.type=c,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(c){return{$$typeof:v$2,render:c}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(c){return{$$typeof:y$2,_payload:{_status:-1,_result:c},_init:T$3}};react_production_min.memo=function(c,e){return{$$typeof:x$2,type:c,compare:e===void 0?null:e}};react_production_min.startTransition=function(c){var e=V$2.transition;V$2.transition={};try{c()}finally{V$2.transition=e}};react_production_min.unstable_act=X$3;react_production_min.useCallback=function(c,e){return U$2.current.useCallback(c,e)};react_production_min.useContext=function(c){return U$2.current.useContext(c)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(c){return U$2.current.useDeferredValue(c)};react_production_min.useEffect=function(c,e){return U$2.current.useEffect(c,e)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(c,e,s){return U$2.current.useImperativeHandle(c,e,s)};react_production_min.useInsertionEffect=function(c,e){return U$2.current.useInsertionEffect(c,e)};react_production_min.useLayoutEffect=function(c,e){return U$2.current.useLayoutEffect(c,e)};react_production_min.useMemo=function(c,e){return U$2.current.useMemo(c,e)};react_production_min.useReducer=function(c,e,s){return U$2.current.useReducer(c,e,s)};react_production_min.useRef=function(c){return U$2.current.useRef(c)};react_production_min.useState=function(c){return U$2.current.useState(c)};react_production_min.useSyncExternalStore=function(c,e,s){return U$2.current.useSyncExternalStore(c,e,s)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$2=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$2=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q$1(c,e,s){var d,nt={},o=null,ft=null;s!==void 0&&(o=""+s),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(ft=e.ref);for(d in e)m$2.call(e,d)&&!p$1.hasOwnProperty(d)&&(nt[d]=e[d]);if(c&&c.defaultProps)for(d in e=c.defaultProps,e)nt[d]===void 0&&(nt[d]=e[d]);return{$$typeof:k$2,type:c,key:o,ref:ft,props:nt,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;const Fragment=jsxRuntimeExports.Fragment,jsx=jsxRuntimeExports.jsx,jsxs=jsxRuntimeExports.jsxs;var client$1={},reactDom={exports:{}},reactDom_production_min={},scheduler$1={exports:{}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(c){function e(rn,un){var pn=rn.length;rn.push(un);e:for(;0<pn;){var Rn=pn-1>>>1,zn=rn[Rn];if(0<nt(zn,un))rn[Rn]=un,rn[pn]=zn,pn=Rn;else break e}}function s(rn){return rn.length===0?null:rn[0]}function d(rn){if(rn.length===0)return null;var un=rn[0],pn=rn.pop();if(pn!==un){rn[0]=pn;e:for(var Rn=0,zn=rn.length,ir=zn>>>1;Rn<ir;){var An=2*(Rn+1)-1,jn=rn[An],or=An+1,er=rn[or];if(0>nt(jn,pn))or<zn&&0>nt(er,jn)?(rn[Rn]=er,rn[or]=pn,Rn=or):(rn[Rn]=jn,rn[An]=pn,Rn=An);else if(or<zn&&0>nt(er,pn))rn[Rn]=er,rn[or]=pn,Rn=or;else break e}}return un}function nt(rn,un){var pn=rn.sortIndex-un.sortIndex;return pn!==0?pn:rn.id-un.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;c.unstable_now=function(){return o.now()}}else{var ft=Date,gt=ft.now();c.unstable_now=function(){return ft.now()-gt}}var xt=[],St=[],Tt=1,At=null,Ct=3,Rt=!1,yt=!1,Ot=!1,Nt=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,Dt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ft(rn){for(var un=s(St);un!==null;){if(un.callback===null)d(St);else if(un.startTime<=rn)d(St),un.sortIndex=un.expirationTime,e(xt,un);else break;un=s(St)}}function Ut(rn){if(Ot=!1,Ft(rn),!yt)if(s(xt)!==null)yt=!0,Tn(Wt);else{var un=s(St);un!==null&&kn(Ut,un.startTime-rn)}}function Wt(rn,un){yt=!1,Ot&&(Ot=!1,bt(Yt),Yt=-1),Rt=!0;var pn=Ct;try{for(Ft(un),At=s(xt);At!==null&&(!(At.expirationTime>un)||rn&&!Jt());){var Rn=At.callback;if(typeof Rn=="function"){At.callback=null,Ct=At.priorityLevel;var zn=Rn(At.expirationTime<=un);un=c.unstable_now(),typeof zn=="function"?At.callback=zn:At===s(xt)&&d(xt),Ft(un)}else d(xt);At=s(xt)}if(At!==null)var ir=!0;else{var An=s(St);An!==null&&kn(Ut,An.startTime-un),ir=!1}return ir}finally{At=null,Ct=pn,Rt=!1}}var Gt=!1,Xt=null,Yt=-1,Kt=5,jt=-1;function Jt(){return!(c.unstable_now()-jt<Kt)}function fn(){if(Xt!==null){var rn=c.unstable_now();jt=rn;var un=!0;try{un=Xt(!0,rn)}finally{un?sn():(Gt=!1,Xt=null)}}else Gt=!1}var sn;if(typeof Dt=="function")sn=function(){Dt(fn)};else if(typeof MessageChannel<"u"){var wn=new MessageChannel,Mn=wn.port2;wn.port1.onmessage=fn,sn=function(){Mn.postMessage(null)}}else sn=function(){Nt(fn,0)};function Tn(rn){Xt=rn,Gt||(Gt=!0,sn())}function kn(rn,un){Yt=Nt(function(){rn(c.unstable_now())},un)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(rn){rn.callback=null},c.unstable_continueExecution=function(){yt||Rt||(yt=!0,Tn(Wt))},c.unstable_forceFrameRate=function(rn){0>rn||125<rn?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Kt=0<rn?Math.floor(1e3/rn):5},c.unstable_getCurrentPriorityLevel=function(){return Ct},c.unstable_getFirstCallbackNode=function(){return s(xt)},c.unstable_next=function(rn){switch(Ct){case 1:case 2:case 3:var un=3;break;default:un=Ct}var pn=Ct;Ct=un;try{return rn()}finally{Ct=pn}},c.unstable_pauseExecution=function(){},c.unstable_requestPaint=function(){},c.unstable_runWithPriority=function(rn,un){switch(rn){case 1:case 2:case 3:case 4:case 5:break;default:rn=3}var pn=Ct;Ct=rn;try{return un()}finally{Ct=pn}},c.unstable_scheduleCallback=function(rn,un,pn){var Rn=c.unstable_now();switch(typeof pn=="object"&&pn!==null?(pn=pn.delay,pn=typeof pn=="number"&&0<pn?Rn+pn:Rn):pn=Rn,rn){case 1:var zn=-1;break;case 2:zn=250;break;case 5:zn=1073741823;break;case 4:zn=1e4;break;default:zn=5e3}return zn=pn+zn,rn={id:Tt++,callback:un,priorityLevel:rn,startTime:pn,expirationTime:zn,sortIndex:-1},pn>Rn?(rn.sortIndex=pn,e(St,rn),s(xt)===null&&rn===s(St)&&(Ot?(bt(Yt),Yt=-1):Ot=!0,kn(Ut,pn-Rn))):(rn.sortIndex=zn,e(xt,rn),yt||Rt||(yt=!0,Tn(Wt))),rn},c.unstable_shouldYield=Jt,c.unstable_wrapCallback=function(rn){var un=Ct;return function(){var pn=Ct;Ct=un;try{return rn.apply(this,arguments)}finally{Ct=pn}}}})(scheduler_production_min$1);scheduler$1.exports=scheduler_production_min$1;var schedulerExports$1=scheduler$1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports$1;function p(c){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+c,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+c+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(c,e){ha(c,e),ha(c+"Capture",e)}function ha(c,e){for(ea[c]=e,c=0;c<e.length;c++)da.add(e[c])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(c){return ja.call(ma,c)?!0:ja.call(la,c)?!1:ka.test(c)?ma[c]=!0:(la[c]=!0,!1)}function pa(c,e,s,d){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return d?!1:s!==null?!s.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function qa(c,e,s,d){if(e===null||typeof e>"u"||pa(c,e,s,d))return!0;if(d)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v$1(c,e,s,d,nt,o,ft){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=d,this.attributeNamespace=nt,this.mustUseProperty=s,this.propertyName=c,this.type=e,this.sanitizeURL=o,this.removeEmptyString=ft}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){z$1[c]=new v$1(c,0,!1,c,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var e=c[0];z$1[e]=new v$1(e,1,!1,c[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(c){z$1[c]=new v$1(c,2,!1,c.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){z$1[c]=new v$1(c,2,!1,c,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){z$1[c]=new v$1(c,3,!1,c.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(c){z$1[c]=new v$1(c,3,!0,c,null,!1,!1)});["capture","download"].forEach(function(c){z$1[c]=new v$1(c,4,!1,c,null,!1,!1)});["cols","rows","size","span"].forEach(function(c){z$1[c]=new v$1(c,6,!1,c,null,!1,!1)});["rowSpan","start"].forEach(function(c){z$1[c]=new v$1(c,5,!1,c.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var e=c.replace(ra,sa);z$1[e]=new v$1(e,1,!1,c,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var e=c.replace(ra,sa);z$1[e]=new v$1(e,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(c){var e=c.replace(ra,sa);z$1[e]=new v$1(e,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(c){z$1[c]=new v$1(c,1,!1,c.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(c){z$1[c]=new v$1(c,1,!1,c.toLowerCase(),null,!0,!0)});function ta(c,e,s,d){var nt=z$1.hasOwnProperty(e)?z$1[e]:null;(nt!==null?nt.type!==0:d||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa(e,s,nt,d)&&(s=null),d||nt===null?oa(e)&&(s===null?c.removeAttribute(e):c.setAttribute(e,""+s)):nt.mustUseProperty?c[nt.propertyName]=s===null?nt.type===3?!1:"":s:(e=nt.attributeName,d=nt.attributeNamespace,s===null?c.removeAttribute(e):(nt=nt.type,s=nt===3||nt===4&&s===!0?"":""+s,d?c.setAttributeNS(d,e,s):c.setAttribute(e,s))))}var ua$1=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(c){return c===null||typeof c!="object"?null:(c=Ja&&c[Ja]||c["@@iterator"],typeof c=="function"?c:null)}var A$2=Object.assign,La;function Ma(c){if(La===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+c}var Na=!1;function Oa(c,e){if(!c||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(St){var d=St}Reflect.construct(c,[],e)}else{try{e.call()}catch(St){d=St}c.call(e.prototype)}else{try{throw Error()}catch(St){d=St}c()}}catch(St){if(St&&d&&typeof St.stack=="string"){for(var nt=St.stack.split(`
`),o=d.stack.split(`
`),ft=nt.length-1,gt=o.length-1;1<=ft&&0<=gt&&nt[ft]!==o[gt];)gt--;for(;1<=ft&&0<=gt;ft--,gt--)if(nt[ft]!==o[gt]){if(ft!==1||gt!==1)do if(ft--,gt--,0>gt||nt[ft]!==o[gt]){var xt=`
`+nt[ft].replace(" at new "," at ");return c.displayName&&xt.includes("<anonymous>")&&(xt=xt.replace("<anonymous>",c.displayName)),xt}while(1<=ft&&0<=gt);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(c=c?c.displayName||c.name:"")?Ma(c):""}function Pa(c){switch(c.tag){case 5:return Ma(c.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return c=Oa(c.type,!1),c;case 11:return c=Oa(c.type.render,!1),c;case 1:return c=Oa(c.type,!0),c;default:return""}}function Qa(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case Ca:return(c.displayName||"Context")+".Consumer";case Ba:return(c._context.displayName||"Context")+".Provider";case Da:var e=c.render;return c=c.displayName,c||(c=e.displayName||e.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case Ga:return e=c.displayName||null,e!==null?e:Qa(c.type)||"Memo";case Ha:e=c._payload,c=c._init;try{return Qa(c(e))}catch{}}return null}function Ra(c){var e=c.type;switch(c.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=e.render,c=c.displayName||c.name||"",e.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(e);case 8:return e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Ta(c){var e=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua(c){var e=Ta(c)?"checked":"value",s=Object.getOwnPropertyDescriptor(c.constructor.prototype,e),d=""+c[e];if(!c.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var nt=s.get,o=s.set;return Object.defineProperty(c,e,{configurable:!0,get:function(){return nt.call(this)},set:function(ft){d=""+ft,o.call(this,ft)}}),Object.defineProperty(c,e,{enumerable:s.enumerable}),{getValue:function(){return d},setValue:function(ft){d=""+ft},stopTracking:function(){c._valueTracker=null,delete c[e]}}}}function Va(c){c._valueTracker||(c._valueTracker=Ua(c))}function Wa(c){if(!c)return!1;var e=c._valueTracker;if(!e)return!0;var s=e.getValue(),d="";return c&&(d=Ta(c)?c.checked?"true":"false":c.value),c=d,c!==s?(e.setValue(c),!0):!1}function Xa(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Ya(c,e){var s=e.checked;return A$2({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??c._wrapperState.initialChecked})}function Za(c,e){var s=e.defaultValue==null?"":e.defaultValue,d=e.checked!=null?e.checked:e.defaultChecked;s=Sa(e.value!=null?e.value:s),c._wrapperState={initialChecked:d,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(c,e){e=e.checked,e!=null&&ta(c,"checked",e,!1)}function bb(c,e){ab(c,e);var s=Sa(e.value),d=e.type;if(s!=null)d==="number"?(s===0&&c.value===""||c.value!=s)&&(c.value=""+s):c.value!==""+s&&(c.value=""+s);else if(d==="submit"||d==="reset"){c.removeAttribute("value");return}e.hasOwnProperty("value")?cb(c,e.type,s):e.hasOwnProperty("defaultValue")&&cb(c,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(c.defaultChecked=!!e.defaultChecked)}function db(c,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var d=e.type;if(!(d!=="submit"&&d!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+c._wrapperState.initialValue,s||e===c.value||(c.value=e),c.defaultValue=e}s=c.name,s!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,s!==""&&(c.name=s)}function cb(c,e,s){(e!=="number"||Xa(c.ownerDocument)!==c)&&(s==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+s&&(c.defaultValue=""+s))}var eb=Array.isArray;function fb(c,e,s,d){if(c=c.options,e){e={};for(var nt=0;nt<s.length;nt++)e["$"+s[nt]]=!0;for(s=0;s<c.length;s++)nt=e.hasOwnProperty("$"+c[s].value),c[s].selected!==nt&&(c[s].selected=nt),nt&&d&&(c[s].defaultSelected=!0)}else{for(s=""+Sa(s),e=null,nt=0;nt<c.length;nt++){if(c[nt].value===s){c[nt].selected=!0,d&&(c[nt].defaultSelected=!0);return}e!==null||c[nt].disabled||(e=c[nt])}e!==null&&(e.selected=!0)}}function gb(c,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p(91));return A$2({},e,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function hb(c,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(p(92));if(eb(s)){if(1<s.length)throw Error(p(93));s=s[0]}e=s}e==null&&(e=""),s=e}c._wrapperState={initialValue:Sa(s)}}function ib(c,e){var s=Sa(e.value),d=Sa(e.defaultValue);s!=null&&(s=""+s,s!==c.value&&(c.value=s),e.defaultValue==null&&c.defaultValue!==s&&(c.defaultValue=s)),d!=null&&(c.defaultValue=""+d)}function jb(c){var e=c.textContent;e===c._wrapperState.initialValue&&e!==""&&e!==null&&(c.value=e)}function kb(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(c,e){return c==null||c==="http://www.w3.org/1999/xhtml"?kb(e):c==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var mb,nb=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,d,nt){MSApp.execUnsafeLocalFunction(function(){return c(e,s,d,nt)})}:c}(function(c,e){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;e.firstChild;)c.appendChild(e.firstChild)}});function ob(c,e){if(e){var s=c.firstChild;if(s&&s===c.lastChild&&s.nodeType===3){s.nodeValue=e;return}}c.textContent=e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(c){qb.forEach(function(e){e=e+c.charAt(0).toUpperCase()+c.substring(1),pb[e]=pb[c]})});function rb(c,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||pb.hasOwnProperty(c)&&pb[c]?(""+e).trim():e+"px"}function sb(c,e){c=c.style;for(var s in e)if(e.hasOwnProperty(s)){var d=s.indexOf("--")===0,nt=rb(s,e[s],d);s==="float"&&(s="cssFloat"),d?c.setProperty(s,nt):c[s]=nt}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(c,e){if(e){if(tb[c]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p(137,c));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p(62))}}function vb(c,e){if(c.indexOf("-")===-1)return typeof e.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var yb=null,zb=null,Ab=null;function Bb(c){if(c=Cb(c)){if(typeof yb!="function")throw Error(p(280));var e=c.stateNode;e&&(e=Db(e),yb(c.stateNode,c.type,e))}}function Eb(c){zb?Ab?Ab.push(c):Ab=[c]:zb=c}function Fb(){if(zb){var c=zb,e=Ab;if(Ab=zb=null,Bb(c),e)for(c=0;c<e.length;c++)Bb(e[c])}}function Gb(c,e){return c(e)}function Hb(){}var Ib=!1;function Jb(c,e,s){if(Ib)return c(e,s);Ib=!0;try{return Gb(c,e,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(c,e){var s=c.stateNode;if(s===null)return null;var d=Db(s);if(d===null)return null;s=d[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(c=c.type,d=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!d;break e;default:c=!1}if(c)return null;if(s&&typeof s!="function")throw Error(p(231,e,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(c,e,s,d,nt,o,ft,gt,xt){var St=Array.prototype.slice.call(arguments,3);try{e.apply(s,St)}catch(Tt){this.onError(Tt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(c){Ob=!0,Pb=c}};function Tb(c,e,s,d,nt,o,ft,gt,xt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(c,e,s,d,nt,o,ft,gt,xt){if(Tb.apply(this,arguments),Ob){if(Ob){var St=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=St)}}function Vb(c){var e=c,s=c;if(c.alternate)for(;e.return;)e=e.return;else{c=e;do e=c,e.flags&4098&&(s=e.return),c=e.return;while(c)}return e.tag===3?s:null}function Wb(c){if(c.tag===13){var e=c.memoizedState;if(e===null&&(c=c.alternate,c!==null&&(e=c.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(c){if(Vb(c)!==c)throw Error(p(188))}function Yb(c){var e=c.alternate;if(!e){if(e=Vb(c),e===null)throw Error(p(188));return e!==c?null:c}for(var s=c,d=e;;){var nt=s.return;if(nt===null)break;var o=nt.alternate;if(o===null){if(d=nt.return,d!==null){s=d;continue}break}if(nt.child===o.child){for(o=nt.child;o;){if(o===s)return Xb(nt),c;if(o===d)return Xb(nt),e;o=o.sibling}throw Error(p(188))}if(s.return!==d.return)s=nt,d=o;else{for(var ft=!1,gt=nt.child;gt;){if(gt===s){ft=!0,s=nt,d=o;break}if(gt===d){ft=!0,d=nt,s=o;break}gt=gt.sibling}if(!ft){for(gt=o.child;gt;){if(gt===s){ft=!0,s=o,d=nt;break}if(gt===d){ft=!0,d=o,s=nt;break}gt=gt.sibling}if(!ft)throw Error(p(189))}}if(s.alternate!==d)throw Error(p(190))}if(s.tag!==3)throw Error(p(188));return s.stateNode.current===s?c:e}function Zb(c){return c=Yb(c),c!==null?$b(c):null}function $b(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var e=$b(c);if(e!==null)return e;c=c.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$2=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(c){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,c,void 0,(c.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(c){return c>>>=0,c===0?32:31-(pc(c)/qc|0)|0}var rc=64,sc=4194304;function tc(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function uc(c,e){var s=c.pendingLanes;if(s===0)return 0;var d=0,nt=c.suspendedLanes,o=c.pingedLanes,ft=s&268435455;if(ft!==0){var gt=ft&~nt;gt!==0?d=tc(gt):(o&=ft,o!==0&&(d=tc(o)))}else ft=s&~nt,ft!==0?d=tc(ft):o!==0&&(d=tc(o));if(d===0)return 0;if(e!==0&&e!==d&&!(e&nt)&&(nt=d&-d,o=e&-e,nt>=o||nt===16&&(o&4194240)!==0))return e;if(d&4&&(d|=s&16),e=c.entangledLanes,e!==0)for(c=c.entanglements,e&=d;0<e;)s=31-oc(e),nt=1<<s,d|=c[s],e&=~nt;return d}function vc(c,e){switch(c){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(c,e){for(var s=c.suspendedLanes,d=c.pingedLanes,nt=c.expirationTimes,o=c.pendingLanes;0<o;){var ft=31-oc(o),gt=1<<ft,xt=nt[ft];xt===-1?(!(gt&s)||gt&d)&&(nt[ft]=vc(gt,e)):xt<=e&&(c.expiredLanes|=gt),o&=~gt}}function xc(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function yc(){var c=rc;return rc<<=1,!(rc&4194240)&&(rc=64),c}function zc(c){for(var e=[],s=0;31>s;s++)e.push(c);return e}function Ac(c,e,s){c.pendingLanes|=e,e!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,e=31-oc(e),c[e]=s}function Bc(c,e){var s=c.pendingLanes&~e;c.pendingLanes=e,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=e,c.mutableReadLanes&=e,c.entangledLanes&=e,e=c.entanglements;var d=c.eventTimes;for(c=c.expirationTimes;0<s;){var nt=31-oc(s),o=1<<nt;e[nt]=0,d[nt]=-1,c[nt]=-1,s&=~o}}function Cc(c,e){var s=c.entangledLanes|=e;for(c=c.entanglements;s;){var d=31-oc(s),nt=1<<d;nt&e|c[d]&e&&(c[d]|=e),s&=~nt}}var C$2=0;function Dc(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(c,e){switch(c){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Tc(c,e,s,d,nt,o){return c===null||c.nativeEvent!==o?(c={blockedOn:e,domEventName:s,eventSystemFlags:d,nativeEvent:o,targetContainers:[nt]},e!==null&&(e=Cb(e),e!==null&&Fc(e)),c):(c.eventSystemFlags|=d,e=c.targetContainers,nt!==null&&e.indexOf(nt)===-1&&e.push(nt),c)}function Uc(c,e,s,d,nt){switch(e){case"focusin":return Lc=Tc(Lc,c,e,s,d,nt),!0;case"dragenter":return Mc=Tc(Mc,c,e,s,d,nt),!0;case"mouseover":return Nc=Tc(Nc,c,e,s,d,nt),!0;case"pointerover":var o=nt.pointerId;return Oc.set(o,Tc(Oc.get(o)||null,c,e,s,d,nt)),!0;case"gotpointercapture":return o=nt.pointerId,Pc.set(o,Tc(Pc.get(o)||null,c,e,s,d,nt)),!0}return!1}function Vc(c){var e=Wc(c.target);if(e!==null){var s=Vb(e);if(s!==null){if(e=s.tag,e===13){if(e=Wb(s),e!==null){c.blockedOn=e,Ic(c.priority,function(){Gc(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){c.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Xc(c){if(c.blockedOn!==null)return!1;for(var e=c.targetContainers;0<e.length;){var s=Yc(c.domEventName,c.eventSystemFlags,e[0],c.nativeEvent);if(s===null){s=c.nativeEvent;var d=new s.constructor(s.type,s);wb=d,s.target.dispatchEvent(d),wb=null}else return e=Cb(s),e!==null&&Fc(e),c.blockedOn=s,!1;e.shift()}return!0}function Zc(c,e,s){Xc(c)&&s.delete(e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(c,e){c.blockedOn===e&&(c.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(c){function e(nt){return ad(nt,c)}if(0<Kc.length){ad(Kc[0],c);for(var s=1;s<Kc.length;s++){var d=Kc[s];d.blockedOn===c&&(d.blockedOn=null)}}for(Lc!==null&&ad(Lc,c),Mc!==null&&ad(Mc,c),Nc!==null&&ad(Nc,c),Oc.forEach(e),Pc.forEach(e),s=0;s<Qc.length;s++)d=Qc[s],d.blockedOn===c&&(d.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua$1.ReactCurrentBatchConfig,dd=!0;function ed(c,e,s,d){var nt=C$2,o=cd.transition;cd.transition=null;try{C$2=1,fd(c,e,s,d)}finally{C$2=nt,cd.transition=o}}function gd(c,e,s,d){var nt=C$2,o=cd.transition;cd.transition=null;try{C$2=4,fd(c,e,s,d)}finally{C$2=nt,cd.transition=o}}function fd(c,e,s,d){if(dd){var nt=Yc(c,e,s,d);if(nt===null)hd(c,e,d,id,s),Sc(c,d);else if(Uc(nt,c,e,s,d))d.stopPropagation();else if(Sc(c,d),e&4&&-1<Rc.indexOf(c)){for(;nt!==null;){var o=Cb(nt);if(o!==null&&Ec(o),o=Yc(c,e,s,d),o===null&&hd(c,e,d,id,s),o===nt)break;nt=o}nt!==null&&d.stopPropagation()}else hd(c,e,d,null,s)}}var id=null;function Yc(c,e,s,d){if(id=null,c=xb(d),c=Wc(c),c!==null)if(e=Vb(c),e===null)c=null;else if(s=e.tag,s===13){if(c=Wb(e),c!==null)return c;c=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;c=null}else e!==c&&(c=null);return id=c,null}function jd(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var c,e=ld,s=e.length,d,nt="value"in kd?kd.value:kd.textContent,o=nt.length;for(c=0;c<s&&e[c]===nt[c];c++);var ft=s-c;for(d=1;d<=ft&&e[s-d]===nt[o-d];d++);return md=nt.slice(c,1<d?1-d:void 0)}function od(c){var e=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&e===13&&(c=13)):c=e,c===10&&(c=13),32<=c||c===13?c:0}function pd(){return!0}function qd(){return!1}function rd(c){function e(s,d,nt,o,ft){this._reactName=s,this._targetInst=nt,this.type=d,this.nativeEvent=o,this.target=ft,this.currentTarget=null;for(var gt in c)c.hasOwnProperty(gt)&&(s=c[gt],this[gt]=s?s(o):o[gt]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==yd&&(yd&&c.type==="mousemove"?(wd=c.screenX-yd.screenX,xd=c.screenY-yd.screenY):xd=wd=0,yd=c),wd)},movementY:function(c){return"movementY"in c?c.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(c){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(c):(c=Od[c])?!!e[c]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(c){if(c.key){var e=Md[c.key]||c.key;if(e!=="Unidentified")return e}return c.type==="keypress"?(c=od(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Nd[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(c){return c.type==="keypress"?od(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?od(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=String.fromCharCode(32),fe$1=!1;function ge$1(c,e){switch(c){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var ie$1=!1;function je$1(c,e){switch(c){case"compositionend":return he$1(e);case"keypress":return e.which!==32?null:(fe$1=!0,ee$1);case"textInput":return c=e.data,c===ee$1&&fe$1?null:c;default:return null}}function ke$1(c,e){if(ie$1)return c==="compositionend"||!ae$1&&ge$1(c,e)?(c=nd(),md=ld=kd=null,ie$1=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de&&e.locale!=="ko"?null:e.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(c){var e=c&&c.nodeName&&c.nodeName.toLowerCase();return e==="input"?!!le$1[c.type]:e==="textarea"}function ne$1(c,e,s,d){Eb(d),e=oe$1(e,"onChange"),0<e.length&&(s=new td("onChange","change",null,s,d),c.push({event:s,listeners:e}))}var pe=null,qe$1=null;function re$1(c){se$1(c,0)}function te$1(c){var e=ue$1(c);if(Wa(e))return c}function ve$1(c,e){if(c==="change")return e}var we$1=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe&&(pe.detachEvent("onpropertychange",Be),qe$1=pe=null)}function Be(c){if(c.propertyName==="value"&&te$1(qe$1)){var e=[];ne$1(e,qe$1,c,xb(c)),Jb(re$1,e)}}function Ce$1(c,e,s){c==="focusin"?(Ae$1(),pe=e,qe$1=s,pe.attachEvent("onpropertychange",Be)):c==="focusout"&&Ae$1()}function De$1(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return te$1(qe$1)}function Ee$1(c,e){if(c==="click")return te$1(e)}function Fe$1(c,e){if(c==="input"||c==="change")return te$1(e)}function Ge$1(c,e){return c===e&&(c!==0||1/c===1/e)||c!==c&&e!==e}var He$1=typeof Object.is=="function"?Object.is:Ge$1;function Ie$1(c,e){if(He$1(c,e))return!0;if(typeof c!="object"||c===null||typeof e!="object"||e===null)return!1;var s=Object.keys(c),d=Object.keys(e);if(s.length!==d.length)return!1;for(d=0;d<s.length;d++){var nt=s[d];if(!ja.call(e,nt)||!He$1(c[nt],e[nt]))return!1}return!0}function Je$1(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Ke$1(c,e){var s=Je$1(c);c=0;for(var d;s;){if(s.nodeType===3){if(d=c+s.textContent.length,c<=e&&d>=e)return{node:s,offset:e-c};c=d}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je$1(s)}}function Le(c,e){return c&&e?c===e?!0:c&&c.nodeType===3?!1:e&&e.nodeType===3?Le(c,e.parentNode):"contains"in c?c.contains(e):c.compareDocumentPosition?!!(c.compareDocumentPosition(e)&16):!1:!1}function Me$1(){for(var c=window,e=Xa();e instanceof c.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)c=e.contentWindow;else break;e=Xa(c.document)}return e}function Ne$1(c){var e=c&&c.nodeName&&c.nodeName.toLowerCase();return e&&(e==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||e==="textarea"||c.contentEditable==="true")}function Oe$1(c){var e=Me$1(),s=c.focusedElem,d=c.selectionRange;if(e!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(d!==null&&Ne$1(s)){if(e=d.start,c=d.end,c===void 0&&(c=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(c,s.value.length);else if(c=(e=s.ownerDocument||document)&&e.defaultView||window,c.getSelection){c=c.getSelection();var nt=s.textContent.length,o=Math.min(d.start,nt);d=d.end===void 0?o:Math.min(d.end,nt),!c.extend&&o>d&&(nt=d,d=o,o=nt),nt=Ke$1(s,o);var ft=Ke$1(s,d);nt&&ft&&(c.rangeCount!==1||c.anchorNode!==nt.node||c.anchorOffset!==nt.offset||c.focusNode!==ft.node||c.focusOffset!==ft.offset)&&(e=e.createRange(),e.setStart(nt.node,nt.offset),c.removeAllRanges(),o>d?(c.addRange(e),c.extend(ft.node,ft.offset)):(e.setEnd(ft.node,ft.offset),c.addRange(e)))}}for(e=[],c=s;c=c.parentNode;)c.nodeType===1&&e.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)c=e[s],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var Pe$1=ia&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re$1=null,Se$1=null,Te$1=!1;function Ue$1(c,e,s){var d=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te$1||Qe$1==null||Qe$1!==Xa(d)||(d=Qe$1,"selectionStart"in d&&Ne$1(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se$1&&Ie$1(Se$1,d)||(Se$1=d,d=oe$1(Re$1,"onSelect"),0<d.length&&(e=new td("onSelect","select",null,e,s),c.push({event:e,listeners:d}),e.target=Qe$1)))}function Ve$1(c,e){var s={};return s[c.toLowerCase()]=e.toLowerCase(),s["Webkit"+c]="webkit"+e,s["Moz"+c]="moz"+e,s}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze$1(c){if(Xe$1[c])return Xe$1[c];if(!We$1[c])return c;var e=We$1[c],s;for(s in e)if(e.hasOwnProperty(s)&&s in Ye)return Xe$1[c]=e[s];return c}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(c,e){df.set(c,e),fa(e,[c])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(c,e,s){var d=c.type||"unknown-event";c.currentTarget=s,Ub(d,e,void 0,c),c.currentTarget=null}function se$1(c,e){e=(e&4)!==0;for(var s=0;s<c.length;s++){var d=c[s],nt=d.event;d=d.listeners;e:{var o=void 0;if(e)for(var ft=d.length-1;0<=ft;ft--){var gt=d[ft],xt=gt.instance,St=gt.currentTarget;if(gt=gt.listener,xt!==o&&nt.isPropagationStopped())break e;nf(nt,gt,St),o=xt}else for(ft=0;ft<d.length;ft++){if(gt=d[ft],xt=gt.instance,St=gt.currentTarget,gt=gt.listener,xt!==o&&nt.isPropagationStopped())break e;nf(nt,gt,St),o=xt}}}if(Qb)throw c=Rb,Qb=!1,Rb=null,c}function D$2(c,e){var s=e[of];s===void 0&&(s=e[of]=new Set);var d=c+"__bubble";s.has(d)||(pf(e,c,2,!1),s.add(d))}function qf(c,e,s){var d=0;e&&(d|=4),pf(s,c,d,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(c){if(!c[rf]){c[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,c),qf(s,!0,c))});var e=c.nodeType===9?c:c.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(c,e,s,d){switch(jd(e)){case 1:var nt=ed;break;case 4:nt=gd;break;default:nt=fd}s=nt.bind(null,e,s,c),nt=void 0,!Lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(nt=!0),d?nt!==void 0?c.addEventListener(e,s,{capture:!0,passive:nt}):c.addEventListener(e,s,!0):nt!==void 0?c.addEventListener(e,s,{passive:nt}):c.addEventListener(e,s,!1)}function hd(c,e,s,d,nt){var o=d;if(!(e&1)&&!(e&2)&&d!==null)e:for(;;){if(d===null)return;var ft=d.tag;if(ft===3||ft===4){var gt=d.stateNode.containerInfo;if(gt===nt||gt.nodeType===8&&gt.parentNode===nt)break;if(ft===4)for(ft=d.return;ft!==null;){var xt=ft.tag;if((xt===3||xt===4)&&(xt=ft.stateNode.containerInfo,xt===nt||xt.nodeType===8&&xt.parentNode===nt))return;ft=ft.return}for(;gt!==null;){if(ft=Wc(gt),ft===null)return;if(xt=ft.tag,xt===5||xt===6){d=o=ft;continue e}gt=gt.parentNode}}d=d.return}Jb(function(){var St=o,Tt=xb(s),At=[];e:{var Ct=df.get(c);if(Ct!==void 0){var Rt=td,yt=c;switch(c){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":Rt=Rd;break;case"focusin":yt="focus",Rt=Fd;break;case"focusout":yt="blur",Rt=Fd;break;case"beforeblur":case"afterblur":Rt=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Rt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Rt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Rt=Vd;break;case $e$1:case af:case bf:Rt=Hd;break;case cf:Rt=Xd;break;case"scroll":Rt=vd;break;case"wheel":Rt=Zd;break;case"copy":case"cut":case"paste":Rt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Rt=Td}var Ot=(e&4)!==0,Nt=!Ot&&c==="scroll",bt=Ot?Ct!==null?Ct+"Capture":null:Ct;Ot=[];for(var Dt=St,Ft;Dt!==null;){Ft=Dt;var Ut=Ft.stateNode;if(Ft.tag===5&&Ut!==null&&(Ft=Ut,bt!==null&&(Ut=Kb(Dt,bt),Ut!=null&&Ot.push(tf(Dt,Ut,Ft)))),Nt)break;Dt=Dt.return}0<Ot.length&&(Ct=new Rt(Ct,yt,null,s,Tt),At.push({event:Ct,listeners:Ot}))}}if(!(e&7)){e:{if(Ct=c==="mouseover"||c==="pointerover",Rt=c==="mouseout"||c==="pointerout",Ct&&s!==wb&&(yt=s.relatedTarget||s.fromElement)&&(Wc(yt)||yt[uf]))break e;if((Rt||Ct)&&(Ct=Tt.window===Tt?Tt:(Ct=Tt.ownerDocument)?Ct.defaultView||Ct.parentWindow:window,Rt?(yt=s.relatedTarget||s.toElement,Rt=St,yt=yt?Wc(yt):null,yt!==null&&(Nt=Vb(yt),yt!==Nt||yt.tag!==5&&yt.tag!==6)&&(yt=null)):(Rt=null,yt=St),Rt!==yt)){if(Ot=Bd,Ut="onMouseLeave",bt="onMouseEnter",Dt="mouse",(c==="pointerout"||c==="pointerover")&&(Ot=Td,Ut="onPointerLeave",bt="onPointerEnter",Dt="pointer"),Nt=Rt==null?Ct:ue$1(Rt),Ft=yt==null?Ct:ue$1(yt),Ct=new Ot(Ut,Dt+"leave",Rt,s,Tt),Ct.target=Nt,Ct.relatedTarget=Ft,Ut=null,Wc(Tt)===St&&(Ot=new Ot(bt,Dt+"enter",yt,s,Tt),Ot.target=Ft,Ot.relatedTarget=Nt,Ut=Ot),Nt=Ut,Rt&&yt)t:{for(Ot=Rt,bt=yt,Dt=0,Ft=Ot;Ft;Ft=vf(Ft))Dt++;for(Ft=0,Ut=bt;Ut;Ut=vf(Ut))Ft++;for(;0<Dt-Ft;)Ot=vf(Ot),Dt--;for(;0<Ft-Dt;)bt=vf(bt),Ft--;for(;Dt--;){if(Ot===bt||bt!==null&&Ot===bt.alternate)break t;Ot=vf(Ot),bt=vf(bt)}Ot=null}else Ot=null;Rt!==null&&wf(At,Ct,Rt,Ot,!1),yt!==null&&Nt!==null&&wf(At,Nt,yt,Ot,!0)}}e:{if(Ct=St?ue$1(St):window,Rt=Ct.nodeName&&Ct.nodeName.toLowerCase(),Rt==="select"||Rt==="input"&&Ct.type==="file")var Wt=ve$1;else if(me(Ct))if(we$1)Wt=Fe$1;else{Wt=De$1;var Gt=Ce$1}else(Rt=Ct.nodeName)&&Rt.toLowerCase()==="input"&&(Ct.type==="checkbox"||Ct.type==="radio")&&(Wt=Ee$1);if(Wt&&(Wt=Wt(c,St))){ne$1(At,Wt,s,Tt);break e}Gt&&Gt(c,Ct,St),c==="focusout"&&(Gt=Ct._wrapperState)&&Gt.controlled&&Ct.type==="number"&&cb(Ct,"number",Ct.value)}switch(Gt=St?ue$1(St):window,c){case"focusin":(me(Gt)||Gt.contentEditable==="true")&&(Qe$1=Gt,Re$1=St,Se$1=null);break;case"focusout":Se$1=Re$1=Qe$1=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$1(At,s,Tt);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue$1(At,s,Tt)}var Xt;if(ae$1)e:{switch(c){case"compositionstart":var Yt="onCompositionStart";break e;case"compositionend":Yt="onCompositionEnd";break e;case"compositionupdate":Yt="onCompositionUpdate";break e}Yt=void 0}else ie$1?ge$1(c,s)&&(Yt="onCompositionEnd"):c==="keydown"&&s.keyCode===229&&(Yt="onCompositionStart");Yt&&(de&&s.locale!=="ko"&&(ie$1||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&ie$1&&(Xt=nd()):(kd=Tt,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),Gt=oe$1(St,Yt),0<Gt.length&&(Yt=new Ld(Yt,c,null,s,Tt),At.push({event:Yt,listeners:Gt}),Xt?Yt.data=Xt:(Xt=he$1(s),Xt!==null&&(Yt.data=Xt)))),(Xt=ce$1?je$1(c,s):ke$1(c,s))&&(St=oe$1(St,"onBeforeInput"),0<St.length&&(Tt=new Ld("onBeforeInput","beforeinput",null,s,Tt),At.push({event:Tt,listeners:St}),Tt.data=Xt))}se$1(At,e)})}function tf(c,e,s){return{instance:c,listener:e,currentTarget:s}}function oe$1(c,e){for(var s=e+"Capture",d=[];c!==null;){var nt=c,o=nt.stateNode;nt.tag===5&&o!==null&&(nt=o,o=Kb(c,s),o!=null&&d.unshift(tf(c,o,nt)),o=Kb(c,e),o!=null&&d.push(tf(c,o,nt))),c=c.return}return d}function vf(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function wf(c,e,s,d,nt){for(var o=e._reactName,ft=[];s!==null&&s!==d;){var gt=s,xt=gt.alternate,St=gt.stateNode;if(xt!==null&&xt===d)break;gt.tag===5&&St!==null&&(gt=St,nt?(xt=Kb(s,o),xt!=null&&ft.unshift(tf(s,xt,gt))):nt||(xt=Kb(s,o),xt!=null&&ft.push(tf(s,xt,gt)))),s=s.return}ft.length!==0&&c.push({event:e,listeners:ft})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(c){return(typeof c=="string"?c:""+c).replace(xf,`
`).replace(yf,"")}function Af(c,e,s){if(e=zf(e),zf(c)!==e&&s)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(c,e){return c==="textarea"||c==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(c){return Hf.resolve(null).then(c).catch(If)}:Ff;function If(c){setTimeout(function(){throw c})}function Kf(c,e){var s=e,d=0;do{var nt=s.nextSibling;if(c.removeChild(s),nt&&nt.nodeType===8)if(s=nt.data,s==="/$"){if(d===0){c.removeChild(nt),bd(e);return}d--}else s!=="$"&&s!=="$?"&&s!=="$!"||d++;s=nt}while(s);bd(e)}function Lf(c){for(;c!=null;c=c.nextSibling){var e=c.nodeType;if(e===1||e===3)break;if(e===8){if(e=c.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return c}function Mf(c){c=c.previousSibling;for(var e=0;c;){if(c.nodeType===8){var s=c.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return c;e--}else s==="/$"&&e++}c=c.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(c){var e=c[Of];if(e)return e;for(var s=c.parentNode;s;){if(e=s[uf]||s[Of]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(c=Mf(c);c!==null;){if(s=c[Of])return s;c=Mf(c)}return e}c=s,s=c.parentNode}return null}function Cb(c){return c=c[Of]||c[uf],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function ue$1(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(p(33))}function Db(c){return c[Pf]||null}var Sf=[],Tf=-1;function Uf(c){return{current:c}}function E$2(c){0>Tf||(c.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(c,e){Tf++,Sf[Tf]=c.current,c.current=e}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(c,e){var s=c.type.contextTypes;if(!s)return Vf;var d=c.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===e)return d.__reactInternalMemoizedMaskedChildContext;var nt={},o;for(o in s)nt[o]=e[o];return d&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=e,c.__reactInternalMemoizedMaskedChildContext=nt),nt}function Zf(c){return c=c.childContextTypes,c!=null}function $f(){E$2(Wf),E$2(H$1)}function ag(c,e,s){if(H$1.current!==Vf)throw Error(p(168));G$2(H$1,e),G$2(Wf,s)}function bg(c,e,s){var d=c.stateNode;if(e=e.childContextTypes,typeof d.getChildContext!="function")return s;d=d.getChildContext();for(var nt in d)if(!(nt in e))throw Error(p(108,Ra(c)||"Unknown",nt));return A$2({},s,d)}function cg(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$2(H$1,c),G$2(Wf,Wf.current),!0}function dg(c,e,s){var d=c.stateNode;if(!d)throw Error(p(169));s?(c=bg(c,e,Xf),d.__reactInternalMemoizedMergedChildContext=c,E$2(Wf),E$2(H$1),G$2(H$1,c)):E$2(Wf),G$2(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(c){eg===null?eg=[c]:eg.push(c)}function ig(c){fg=!0,hg(c)}function jg(){if(!gg&&eg!==null){gg=!0;var c=0,e=C$2;try{var s=eg;for(C$2=1;c<s.length;c++){var d=s[c];do d=d(!0);while(d!==null)}eg=null,fg=!1}catch(nt){throw eg!==null&&(eg=eg.slice(c+1)),ac(fc,jg),nt}finally{C$2=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(c,e){kg[lg++]=ng,kg[lg++]=mg,mg=c,ng=e}function ug(c,e,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=c;var d=rg;c=sg;var nt=32-oc(d)-1;d&=~(1<<nt),s+=1;var o=32-oc(e)+nt;if(30<o){var ft=nt-nt%5;o=(d&(1<<ft)-1).toString(32),d>>=ft,nt-=ft,rg=1<<32-oc(e)+nt|s<<nt|d,sg=o+c}else rg=1<<o|s<<nt|d,sg=c}function vg(c){c.return!==null&&(tg(c,1),ug(c,1,0))}function wg(c){for(;c===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;c===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(c,e){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=c,e=c.deletions,e===null?(c.deletions=[s],c.flags|=16):e.push(s)}function Cg(c,e){switch(c.tag){case 5:var s=c.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(c.stateNode=e,xg=c,yg=Lf(e.firstChild),!0):!1;case 6:return e=c.pendingProps===""||e.nodeType!==3?null:e,e!==null?(c.stateNode=e,xg=c,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=qg!==null?{id:rg,overflow:sg}:null,c.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=e,s.return=c,c.child=s,xg=c,yg=null,!0):!1;default:return!1}}function Dg(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Eg(c){if(I$1){var e=yg;if(e){var s=e;if(!Cg(c,e)){if(Dg(c))throw Error(p(418));e=Lf(s.nextSibling);var d=xg;e&&Cg(c,e)?Ag(d,s):(c.flags=c.flags&-4097|2,I$1=!1,xg=c)}}else{if(Dg(c))throw Error(p(418));c.flags=c.flags&-4097|2,I$1=!1,xg=c}}}function Fg(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;xg=c}function Gg(c){if(c!==xg)return!1;if(!I$1)return Fg(c),I$1=!0,!1;var e;if((e=c.tag!==3)&&!(e=c.tag!==5)&&(e=c.type,e=e!=="head"&&e!=="body"&&!Ef(c.type,c.memoizedProps)),e&&(e=yg)){if(Dg(c))throw Hg(),Error(p(418));for(;e;)Ag(c,e),e=Lf(e.nextSibling)}if(Fg(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p(317));e:{for(c=c.nextSibling,e=0;c;){if(c.nodeType===8){var s=c.data;if(s==="/$"){if(e===0){yg=Lf(c.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}c=c.nextSibling}yg=null}}else yg=xg?Lf(c.stateNode.nextSibling):null;return!0}function Hg(){for(var c=yg;c;)c=Lf(c.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(c){zg===null?zg=[c]:zg.push(c)}var Kg=ua$1.ReactCurrentBatchConfig;function Lg(c,e,s){if(c=s.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p(309));var d=s.stateNode}if(!d)throw Error(p(147,c));var nt=d,o=""+c;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(ft){var gt=nt.refs;ft===null?delete gt[o]:gt[o]=ft},e._stringRef=o,e)}if(typeof c!="string")throw Error(p(284));if(!s._owner)throw Error(p(290,c))}return c}function Mg(c,e){throw c=Object.prototype.toString.call(e),Error(p(31,c==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":c))}function Ng(c){var e=c._init;return e(c._payload)}function Og(c){function e(bt,Dt){if(c){var Ft=bt.deletions;Ft===null?(bt.deletions=[Dt],bt.flags|=16):Ft.push(Dt)}}function s(bt,Dt){if(!c)return null;for(;Dt!==null;)e(bt,Dt),Dt=Dt.sibling;return null}function d(bt,Dt){for(bt=new Map;Dt!==null;)Dt.key!==null?bt.set(Dt.key,Dt):bt.set(Dt.index,Dt),Dt=Dt.sibling;return bt}function nt(bt,Dt){return bt=Pg(bt,Dt),bt.index=0,bt.sibling=null,bt}function o(bt,Dt,Ft){return bt.index=Ft,c?(Ft=bt.alternate,Ft!==null?(Ft=Ft.index,Ft<Dt?(bt.flags|=2,Dt):Ft):(bt.flags|=2,Dt)):(bt.flags|=1048576,Dt)}function ft(bt){return c&&bt.alternate===null&&(bt.flags|=2),bt}function gt(bt,Dt,Ft,Ut){return Dt===null||Dt.tag!==6?(Dt=Qg(Ft,bt.mode,Ut),Dt.return=bt,Dt):(Dt=nt(Dt,Ft),Dt.return=bt,Dt)}function xt(bt,Dt,Ft,Ut){var Wt=Ft.type;return Wt===ya?Tt(bt,Dt,Ft.props.children,Ut,Ft.key):Dt!==null&&(Dt.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===Ha&&Ng(Wt)===Dt.type)?(Ut=nt(Dt,Ft.props),Ut.ref=Lg(bt,Dt,Ft),Ut.return=bt,Ut):(Ut=Rg(Ft.type,Ft.key,Ft.props,null,bt.mode,Ut),Ut.ref=Lg(bt,Dt,Ft),Ut.return=bt,Ut)}function St(bt,Dt,Ft,Ut){return Dt===null||Dt.tag!==4||Dt.stateNode.containerInfo!==Ft.containerInfo||Dt.stateNode.implementation!==Ft.implementation?(Dt=Sg(Ft,bt.mode,Ut),Dt.return=bt,Dt):(Dt=nt(Dt,Ft.children||[]),Dt.return=bt,Dt)}function Tt(bt,Dt,Ft,Ut,Wt){return Dt===null||Dt.tag!==7?(Dt=Tg(Ft,bt.mode,Ut,Wt),Dt.return=bt,Dt):(Dt=nt(Dt,Ft),Dt.return=bt,Dt)}function At(bt,Dt,Ft){if(typeof Dt=="string"&&Dt!==""||typeof Dt=="number")return Dt=Qg(""+Dt,bt.mode,Ft),Dt.return=bt,Dt;if(typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case va:return Ft=Rg(Dt.type,Dt.key,Dt.props,null,bt.mode,Ft),Ft.ref=Lg(bt,null,Dt),Ft.return=bt,Ft;case wa:return Dt=Sg(Dt,bt.mode,Ft),Dt.return=bt,Dt;case Ha:var Ut=Dt._init;return At(bt,Ut(Dt._payload),Ft)}if(eb(Dt)||Ka(Dt))return Dt=Tg(Dt,bt.mode,Ft,null),Dt.return=bt,Dt;Mg(bt,Dt)}return null}function Ct(bt,Dt,Ft,Ut){var Wt=Dt!==null?Dt.key:null;if(typeof Ft=="string"&&Ft!==""||typeof Ft=="number")return Wt!==null?null:gt(bt,Dt,""+Ft,Ut);if(typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case va:return Ft.key===Wt?xt(bt,Dt,Ft,Ut):null;case wa:return Ft.key===Wt?St(bt,Dt,Ft,Ut):null;case Ha:return Wt=Ft._init,Ct(bt,Dt,Wt(Ft._payload),Ut)}if(eb(Ft)||Ka(Ft))return Wt!==null?null:Tt(bt,Dt,Ft,Ut,null);Mg(bt,Ft)}return null}function Rt(bt,Dt,Ft,Ut,Wt){if(typeof Ut=="string"&&Ut!==""||typeof Ut=="number")return bt=bt.get(Ft)||null,gt(Dt,bt,""+Ut,Wt);if(typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case va:return bt=bt.get(Ut.key===null?Ft:Ut.key)||null,xt(Dt,bt,Ut,Wt);case wa:return bt=bt.get(Ut.key===null?Ft:Ut.key)||null,St(Dt,bt,Ut,Wt);case Ha:var Gt=Ut._init;return Rt(bt,Dt,Ft,Gt(Ut._payload),Wt)}if(eb(Ut)||Ka(Ut))return bt=bt.get(Ft)||null,Tt(Dt,bt,Ut,Wt,null);Mg(Dt,Ut)}return null}function yt(bt,Dt,Ft,Ut){for(var Wt=null,Gt=null,Xt=Dt,Yt=Dt=0,Kt=null;Xt!==null&&Yt<Ft.length;Yt++){Xt.index>Yt?(Kt=Xt,Xt=null):Kt=Xt.sibling;var jt=Ct(bt,Xt,Ft[Yt],Ut);if(jt===null){Xt===null&&(Xt=Kt);break}c&&Xt&&jt.alternate===null&&e(bt,Xt),Dt=o(jt,Dt,Yt),Gt===null?Wt=jt:Gt.sibling=jt,Gt=jt,Xt=Kt}if(Yt===Ft.length)return s(bt,Xt),I$1&&tg(bt,Yt),Wt;if(Xt===null){for(;Yt<Ft.length;Yt++)Xt=At(bt,Ft[Yt],Ut),Xt!==null&&(Dt=o(Xt,Dt,Yt),Gt===null?Wt=Xt:Gt.sibling=Xt,Gt=Xt);return I$1&&tg(bt,Yt),Wt}for(Xt=d(bt,Xt);Yt<Ft.length;Yt++)Kt=Rt(Xt,bt,Yt,Ft[Yt],Ut),Kt!==null&&(c&&Kt.alternate!==null&&Xt.delete(Kt.key===null?Yt:Kt.key),Dt=o(Kt,Dt,Yt),Gt===null?Wt=Kt:Gt.sibling=Kt,Gt=Kt);return c&&Xt.forEach(function(Jt){return e(bt,Jt)}),I$1&&tg(bt,Yt),Wt}function Ot(bt,Dt,Ft,Ut){var Wt=Ka(Ft);if(typeof Wt!="function")throw Error(p(150));if(Ft=Wt.call(Ft),Ft==null)throw Error(p(151));for(var Gt=Wt=null,Xt=Dt,Yt=Dt=0,Kt=null,jt=Ft.next();Xt!==null&&!jt.done;Yt++,jt=Ft.next()){Xt.index>Yt?(Kt=Xt,Xt=null):Kt=Xt.sibling;var Jt=Ct(bt,Xt,jt.value,Ut);if(Jt===null){Xt===null&&(Xt=Kt);break}c&&Xt&&Jt.alternate===null&&e(bt,Xt),Dt=o(Jt,Dt,Yt),Gt===null?Wt=Jt:Gt.sibling=Jt,Gt=Jt,Xt=Kt}if(jt.done)return s(bt,Xt),I$1&&tg(bt,Yt),Wt;if(Xt===null){for(;!jt.done;Yt++,jt=Ft.next())jt=At(bt,jt.value,Ut),jt!==null&&(Dt=o(jt,Dt,Yt),Gt===null?Wt=jt:Gt.sibling=jt,Gt=jt);return I$1&&tg(bt,Yt),Wt}for(Xt=d(bt,Xt);!jt.done;Yt++,jt=Ft.next())jt=Rt(Xt,bt,Yt,jt.value,Ut),jt!==null&&(c&&jt.alternate!==null&&Xt.delete(jt.key===null?Yt:jt.key),Dt=o(jt,Dt,Yt),Gt===null?Wt=jt:Gt.sibling=jt,Gt=jt);return c&&Xt.forEach(function(fn){return e(bt,fn)}),I$1&&tg(bt,Yt),Wt}function Nt(bt,Dt,Ft,Ut){if(typeof Ft=="object"&&Ft!==null&&Ft.type===ya&&Ft.key===null&&(Ft=Ft.props.children),typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case va:e:{for(var Wt=Ft.key,Gt=Dt;Gt!==null;){if(Gt.key===Wt){if(Wt=Ft.type,Wt===ya){if(Gt.tag===7){s(bt,Gt.sibling),Dt=nt(Gt,Ft.props.children),Dt.return=bt,bt=Dt;break e}}else if(Gt.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===Ha&&Ng(Wt)===Gt.type){s(bt,Gt.sibling),Dt=nt(Gt,Ft.props),Dt.ref=Lg(bt,Gt,Ft),Dt.return=bt,bt=Dt;break e}s(bt,Gt);break}else e(bt,Gt);Gt=Gt.sibling}Ft.type===ya?(Dt=Tg(Ft.props.children,bt.mode,Ut,Ft.key),Dt.return=bt,bt=Dt):(Ut=Rg(Ft.type,Ft.key,Ft.props,null,bt.mode,Ut),Ut.ref=Lg(bt,Dt,Ft),Ut.return=bt,bt=Ut)}return ft(bt);case wa:e:{for(Gt=Ft.key;Dt!==null;){if(Dt.key===Gt)if(Dt.tag===4&&Dt.stateNode.containerInfo===Ft.containerInfo&&Dt.stateNode.implementation===Ft.implementation){s(bt,Dt.sibling),Dt=nt(Dt,Ft.children||[]),Dt.return=bt,bt=Dt;break e}else{s(bt,Dt);break}else e(bt,Dt);Dt=Dt.sibling}Dt=Sg(Ft,bt.mode,Ut),Dt.return=bt,bt=Dt}return ft(bt);case Ha:return Gt=Ft._init,Nt(bt,Dt,Gt(Ft._payload),Ut)}if(eb(Ft))return yt(bt,Dt,Ft,Ut);if(Ka(Ft))return Ot(bt,Dt,Ft,Ut);Mg(bt,Ft)}return typeof Ft=="string"&&Ft!==""||typeof Ft=="number"?(Ft=""+Ft,Dt!==null&&Dt.tag===6?(s(bt,Dt.sibling),Dt=nt(Dt,Ft),Dt.return=bt,bt=Dt):(s(bt,Dt),Dt=Qg(Ft,bt.mode,Ut),Dt.return=bt,bt=Dt),ft(bt)):s(bt,Dt)}return Nt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(c){var e=Wg.current;E$2(Wg),c._currentValue=e}function bh(c,e,s){for(;c!==null;){var d=c.alternate;if((c.childLanes&e)!==e?(c.childLanes|=e,d!==null&&(d.childLanes|=e)):d!==null&&(d.childLanes&e)!==e&&(d.childLanes|=e),c===s)break;c=c.return}}function ch(c,e){Xg=c,Zg=Yg=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&e&&(dh=!0),c.firstContext=null)}function eh(c){var e=c._currentValue;if(Zg!==c)if(c={context:c,memoizedValue:e,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=c,Xg.dependencies={lanes:0,firstContext:c}}else Yg=Yg.next=c;return e}var fh=null;function gh(c){fh===null?fh=[c]:fh.push(c)}function hh(c,e,s,d){var nt=e.interleaved;return nt===null?(s.next=s,gh(e)):(s.next=nt.next,nt.next=s),e.interleaved=s,ih(c,d)}function ih(c,e){c.lanes|=e;var s=c.alternate;for(s!==null&&(s.lanes|=e),s=c,c=c.return;c!==null;)c.childLanes|=e,s=c.alternate,s!==null&&(s.childLanes|=e),s=c,c=c.return;return s.tag===3?s.stateNode:null}var jh=!1;function kh(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(c,e){c=c.updateQueue,e.updateQueue===c&&(e.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function mh(c,e){return{eventTime:c,lane:e,tag:0,payload:null,callback:null,next:null}}function nh(c,e,s){var d=c.updateQueue;if(d===null)return null;if(d=d.shared,K$1&2){var nt=d.pending;return nt===null?e.next=e:(e.next=nt.next,nt.next=e),d.pending=e,ih(c,s)}return nt=d.interleaved,nt===null?(e.next=e,gh(d)):(e.next=nt.next,nt.next=e),d.interleaved=e,ih(c,s)}function oh(c,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var d=e.lanes;d&=c.pendingLanes,s|=d,e.lanes=s,Cc(c,s)}}function ph(c,e){var s=c.updateQueue,d=c.alternate;if(d!==null&&(d=d.updateQueue,s===d)){var nt=null,o=null;if(s=s.firstBaseUpdate,s!==null){do{var ft={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};o===null?nt=o=ft:o=o.next=ft,s=s.next}while(s!==null);o===null?nt=o=e:o=o.next=e}else nt=o=e;s={baseState:d.baseState,firstBaseUpdate:nt,lastBaseUpdate:o,shared:d.shared,effects:d.effects},c.updateQueue=s;return}c=s.lastBaseUpdate,c===null?s.firstBaseUpdate=e:c.next=e,s.lastBaseUpdate=e}function qh(c,e,s,d){var nt=c.updateQueue;jh=!1;var o=nt.firstBaseUpdate,ft=nt.lastBaseUpdate,gt=nt.shared.pending;if(gt!==null){nt.shared.pending=null;var xt=gt,St=xt.next;xt.next=null,ft===null?o=St:ft.next=St,ft=xt;var Tt=c.alternate;Tt!==null&&(Tt=Tt.updateQueue,gt=Tt.lastBaseUpdate,gt!==ft&&(gt===null?Tt.firstBaseUpdate=St:gt.next=St,Tt.lastBaseUpdate=xt))}if(o!==null){var At=nt.baseState;ft=0,Tt=St=xt=null,gt=o;do{var Ct=gt.lane,Rt=gt.eventTime;if((d&Ct)===Ct){Tt!==null&&(Tt=Tt.next={eventTime:Rt,lane:0,tag:gt.tag,payload:gt.payload,callback:gt.callback,next:null});e:{var yt=c,Ot=gt;switch(Ct=e,Rt=s,Ot.tag){case 1:if(yt=Ot.payload,typeof yt=="function"){At=yt.call(Rt,At,Ct);break e}At=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=Ot.payload,Ct=typeof yt=="function"?yt.call(Rt,At,Ct):yt,Ct==null)break e;At=A$2({},At,Ct);break e;case 2:jh=!0}}gt.callback!==null&&gt.lane!==0&&(c.flags|=64,Ct=nt.effects,Ct===null?nt.effects=[gt]:Ct.push(gt))}else Rt={eventTime:Rt,lane:Ct,tag:gt.tag,payload:gt.payload,callback:gt.callback,next:null},Tt===null?(St=Tt=Rt,xt=At):Tt=Tt.next=Rt,ft|=Ct;if(gt=gt.next,gt===null){if(gt=nt.shared.pending,gt===null)break;Ct=gt,gt=Ct.next,Ct.next=null,nt.lastBaseUpdate=Ct,nt.shared.pending=null}}while(1);if(Tt===null&&(xt=At),nt.baseState=xt,nt.firstBaseUpdate=St,nt.lastBaseUpdate=Tt,e=nt.shared.interleaved,e!==null){nt=e;do ft|=nt.lane,nt=nt.next;while(nt!==e)}else o===null&&(nt.shared.lanes=0);rh|=ft,c.lanes=ft,c.memoizedState=At}}function sh(c,e,s){if(c=e.effects,e.effects=null,c!==null)for(e=0;e<c.length;e++){var d=c[e],nt=d.callback;if(nt!==null){if(d.callback=null,d=s,typeof nt!="function")throw Error(p(191,nt));nt.call(d)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(c){if(c===th)throw Error(p(174));return c}function yh(c,e){switch(G$2(wh,e),G$2(vh,c),G$2(uh,th),c=e.nodeType,c){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb(null,"");break;default:c=c===8?e.parentNode:e,e=c.namespaceURI||null,c=c.tagName,e=lb(e,c)}E$2(uh),G$2(uh,e)}function zh(){E$2(uh),E$2(vh),E$2(wh)}function Ah(c){xh(wh.current);var e=xh(uh.current),s=lb(e,c.type);e!==s&&(G$2(vh,c),G$2(uh,s))}function Bh(c){vh.current===c&&(E$2(uh),E$2(vh))}var L$1=Uf(0);function Ch(c){for(var e=c;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===c)break;for(;e.sibling===null;){if(e.return===null||e.return===c)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dh=[];function Eh(){for(var c=0;c<Dh.length;c++)Dh[c]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua$1.ReactCurrentDispatcher,Gh=ua$1.ReactCurrentBatchConfig,Hh=0,M$1=null,N=null,O$1=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(c,e){if(e===null)return!1;for(var s=0;s<e.length&&s<c.length;s++)if(!He$1(c[s],e[s]))return!1;return!0}function Nh(c,e,s,d,nt,o){if(Hh=o,M$1=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fh.current=c===null||c.memoizedState===null?Oh:Ph,c=s(d,nt),Jh){o=0;do{if(Jh=!1,Kh=0,25<=o)throw Error(p(301));o+=1,O$1=N=null,e.updateQueue=null,Fh.current=Qh,c=s(d,nt)}while(Jh)}if(Fh.current=Rh,e=N!==null&&N.next!==null,Hh=0,O$1=N=M$1=null,Ih=!1,e)throw Error(p(300));return c}function Sh(){var c=Kh!==0;return Kh=0,c}function Th(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$1===null?M$1.memoizedState=O$1=c:O$1=O$1.next=c,O$1}function Uh(){if(N===null){var c=M$1.alternate;c=c!==null?c.memoizedState:null}else c=N.next;var e=O$1===null?M$1.memoizedState:O$1.next;if(e!==null)O$1=e,N=c;else{if(c===null)throw Error(p(310));N=c,c={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O$1===null?M$1.memoizedState=O$1=c:O$1=O$1.next=c}return O$1}function Vh(c,e){return typeof e=="function"?e(c):e}function Wh(c){var e=Uh(),s=e.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=c;var d=N,nt=d.baseQueue,o=s.pending;if(o!==null){if(nt!==null){var ft=nt.next;nt.next=o.next,o.next=ft}d.baseQueue=nt=o,s.pending=null}if(nt!==null){o=nt.next,d=d.baseState;var gt=ft=null,xt=null,St=o;do{var Tt=St.lane;if((Hh&Tt)===Tt)xt!==null&&(xt=xt.next={lane:0,action:St.action,hasEagerState:St.hasEagerState,eagerState:St.eagerState,next:null}),d=St.hasEagerState?St.eagerState:c(d,St.action);else{var At={lane:Tt,action:St.action,hasEagerState:St.hasEagerState,eagerState:St.eagerState,next:null};xt===null?(gt=xt=At,ft=d):xt=xt.next=At,M$1.lanes|=Tt,rh|=Tt}St=St.next}while(St!==null&&St!==o);xt===null?ft=d:xt.next=gt,He$1(d,e.memoizedState)||(dh=!0),e.memoizedState=d,e.baseState=ft,e.baseQueue=xt,s.lastRenderedState=d}if(c=s.interleaved,c!==null){nt=c;do o=nt.lane,M$1.lanes|=o,rh|=o,nt=nt.next;while(nt!==c)}else nt===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function Xh(c){var e=Uh(),s=e.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=c;var d=s.dispatch,nt=s.pending,o=e.memoizedState;if(nt!==null){s.pending=null;var ft=nt=nt.next;do o=c(o,ft.action),ft=ft.next;while(ft!==nt);He$1(o,e.memoizedState)||(dh=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),s.lastRenderedState=o}return[o,d]}function Yh(){}function Zh(c,e){var s=M$1,d=Uh(),nt=e(),o=!He$1(d.memoizedState,nt);if(o&&(d.memoizedState=nt,dh=!0),d=d.queue,$h(ai.bind(null,s,d,c),[c]),d.getSnapshot!==e||o||O$1!==null&&O$1.memoizedState.tag&1){if(s.flags|=2048,bi(9,ci.bind(null,s,d,nt,e),void 0,null),Q$1===null)throw Error(p(349));Hh&30||di(s,e,nt)}return nt}function di(c,e,s){c.flags|=16384,c={getSnapshot:e,value:s},e=M$1.updateQueue,e===null?(e={lastEffect:null,stores:null},M$1.updateQueue=e,e.stores=[c]):(s=e.stores,s===null?e.stores=[c]:s.push(c))}function ci(c,e,s,d){e.value=s,e.getSnapshot=d,ei(e)&&fi(c)}function ai(c,e,s){return s(function(){ei(e)&&fi(c)})}function ei(c){var e=c.getSnapshot;c=c.value;try{var s=e();return!He$1(c,s)}catch{return!0}}function fi(c){var e=ih(c,1);e!==null&&gi(e,c,1,-1)}function hi(c){var e=Th();return typeof c=="function"&&(c=c()),e.memoizedState=e.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:c},e.queue=c,c=c.dispatch=ii.bind(null,M$1,c),[e.memoizedState,c]}function bi(c,e,s,d){return c={tag:c,create:e,destroy:s,deps:d,next:null},e=M$1.updateQueue,e===null?(e={lastEffect:null,stores:null},M$1.updateQueue=e,e.lastEffect=c.next=c):(s=e.lastEffect,s===null?e.lastEffect=c.next=c:(d=s.next,s.next=c,c.next=d,e.lastEffect=c)),c}function ji(){return Uh().memoizedState}function ki(c,e,s,d){var nt=Th();M$1.flags|=c,nt.memoizedState=bi(1|e,s,void 0,d===void 0?null:d)}function li(c,e,s,d){var nt=Uh();d=d===void 0?null:d;var o=void 0;if(N!==null){var ft=N.memoizedState;if(o=ft.destroy,d!==null&&Mh(d,ft.deps)){nt.memoizedState=bi(e,s,o,d);return}}M$1.flags|=c,nt.memoizedState=bi(1|e,s,o,d)}function mi(c,e){return ki(8390656,8,c,e)}function $h(c,e){return li(2048,8,c,e)}function ni(c,e){return li(4,2,c,e)}function oi(c,e){return li(4,4,c,e)}function pi(c,e){if(typeof e=="function")return c=c(),e(c),function(){e(null)};if(e!=null)return c=c(),e.current=c,function(){e.current=null}}function qi(c,e,s){return s=s!=null?s.concat([c]):null,li(4,4,pi.bind(null,e,c),s)}function ri(){}function si(c,e){var s=Uh();e=e===void 0?null:e;var d=s.memoizedState;return d!==null&&e!==null&&Mh(e,d[1])?d[0]:(s.memoizedState=[c,e],c)}function ti(c,e){var s=Uh();e=e===void 0?null:e;var d=s.memoizedState;return d!==null&&e!==null&&Mh(e,d[1])?d[0]:(c=c(),s.memoizedState=[c,e],c)}function ui(c,e,s){return Hh&21?(He$1(s,e)||(s=yc(),M$1.lanes|=s,rh|=s,c.baseState=!0),e):(c.baseState&&(c.baseState=!1,dh=!0),c.memoizedState=s)}function vi(c,e){var s=C$2;C$2=s!==0&&4>s?s:4,c(!0);var d=Gh.transition;Gh.transition={};try{c(!1),e()}finally{C$2=s,Gh.transition=d}}function wi(){return Uh().memoizedState}function xi(c,e,s){var d=yi(c);if(s={lane:d,action:s,hasEagerState:!1,eagerState:null,next:null},zi(c))Ai(e,s);else if(s=hh(c,e,s,d),s!==null){var nt=R$1();gi(s,c,d,nt),Bi(s,e,d)}}function ii(c,e,s){var d=yi(c),nt={lane:d,action:s,hasEagerState:!1,eagerState:null,next:null};if(zi(c))Ai(e,nt);else{var o=c.alternate;if(c.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var ft=e.lastRenderedState,gt=o(ft,s);if(nt.hasEagerState=!0,nt.eagerState=gt,He$1(gt,ft)){var xt=e.interleaved;xt===null?(nt.next=nt,gh(e)):(nt.next=xt.next,xt.next=nt),e.interleaved=nt;return}}catch{}finally{}s=hh(c,e,nt,d),s!==null&&(nt=R$1(),gi(s,c,d,nt),Bi(s,e,d))}}function zi(c){var e=c.alternate;return c===M$1||e!==null&&e===M$1}function Ai(c,e){Jh=Ih=!0;var s=c.pending;s===null?e.next=e:(e.next=s.next,s.next=e),c.pending=e}function Bi(c,e,s){if(s&4194240){var d=e.lanes;d&=c.pendingLanes,s|=d,e.lanes=s,Cc(c,s)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(c,e){return Th().memoizedState=[c,e===void 0?null:e],c},useContext:eh,useEffect:mi,useImperativeHandle:function(c,e,s){return s=s!=null?s.concat([c]):null,ki(4194308,4,pi.bind(null,e,c),s)},useLayoutEffect:function(c,e){return ki(4194308,4,c,e)},useInsertionEffect:function(c,e){return ki(4,2,c,e)},useMemo:function(c,e){var s=Th();return e=e===void 0?null:e,c=c(),s.memoizedState=[c,e],c},useReducer:function(c,e,s){var d=Th();return e=s!==void 0?s(e):e,d.memoizedState=d.baseState=e,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:e},d.queue=c,c=c.dispatch=xi.bind(null,M$1,c),[d.memoizedState,c]},useRef:function(c){var e=Th();return c={current:c},e.memoizedState=c},useState:hi,useDebugValue:ri,useDeferredValue:function(c){return Th().memoizedState=c},useTransition:function(){var c=hi(!1),e=c[0];return c=vi.bind(null,c[1]),Th().memoizedState=c,[e,c]},useMutableSource:function(){},useSyncExternalStore:function(c,e,s){var d=M$1,nt=Th();if(I$1){if(s===void 0)throw Error(p(407));s=s()}else{if(s=e(),Q$1===null)throw Error(p(349));Hh&30||di(d,e,s)}nt.memoizedState=s;var o={value:s,getSnapshot:e};return nt.queue=o,mi(ai.bind(null,d,o,c),[c]),d.flags|=2048,bi(9,ci.bind(null,d,o,s,e),void 0,null),s},useId:function(){var c=Th(),e=Q$1.identifierPrefix;if(I$1){var s=sg,d=rg;s=(d&~(1<<32-oc(d)-1)).toString(32)+s,e=":"+e+"R"+s,s=Kh++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=Lh++,e=":"+e+"r"+s.toString(32)+":";return c.memoizedState=e},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(c){var e=Uh();return ui(e,N.memoizedState,c)},useTransition:function(){var c=Wh(Vh)[0],e=Uh().memoizedState;return[c,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(c){var e=Uh();return N===null?e.memoizedState=c:ui(e,N.memoizedState,c)},useTransition:function(){var c=Xh(Vh)[0],e=Uh().memoizedState;return[c,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(c,e){if(c&&c.defaultProps){e=A$2({},e),c=c.defaultProps;for(var s in c)e[s]===void 0&&(e[s]=c[s]);return e}return e}function Di(c,e,s,d){e=c.memoizedState,s=s(d,e),s=s==null?e:A$2({},e,s),c.memoizedState=s,c.lanes===0&&(c.updateQueue.baseState=s)}var Ei={isMounted:function(c){return(c=c._reactInternals)?Vb(c)===c:!1},enqueueSetState:function(c,e,s){c=c._reactInternals;var d=R$1(),nt=yi(c),o=mh(d,nt);o.payload=e,s!=null&&(o.callback=s),e=nh(c,o,nt),e!==null&&(gi(e,c,nt,d),oh(e,c,nt))},enqueueReplaceState:function(c,e,s){c=c._reactInternals;var d=R$1(),nt=yi(c),o=mh(d,nt);o.tag=1,o.payload=e,s!=null&&(o.callback=s),e=nh(c,o,nt),e!==null&&(gi(e,c,nt,d),oh(e,c,nt))},enqueueForceUpdate:function(c,e){c=c._reactInternals;var s=R$1(),d=yi(c),nt=mh(s,d);nt.tag=2,e!=null&&(nt.callback=e),e=nh(c,nt,d),e!==null&&(gi(e,c,d,s),oh(e,c,d))}};function Fi(c,e,s,d,nt,o,ft){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(d,o,ft):e.prototype&&e.prototype.isPureReactComponent?!Ie$1(s,d)||!Ie$1(nt,o):!0}function Gi(c,e,s){var d=!1,nt=Vf,o=e.contextType;return typeof o=="object"&&o!==null?o=eh(o):(nt=Zf(e)?Xf:H$1.current,d=e.contextTypes,o=(d=d!=null)?Yf(c,nt):Vf),e=new e(s,o),c.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ei,c.stateNode=e,e._reactInternals=c,d&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=nt,c.__reactInternalMemoizedMaskedChildContext=o),e}function Hi(c,e,s,d){c=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,d),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,d),e.state!==c&&Ei.enqueueReplaceState(e,e.state,null)}function Ii(c,e,s,d){var nt=c.stateNode;nt.props=s,nt.state=c.memoizedState,nt.refs={},kh(c);var o=e.contextType;typeof o=="object"&&o!==null?nt.context=eh(o):(o=Zf(e)?Xf:H$1.current,nt.context=Yf(c,o)),nt.state=c.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Di(c,e,o,s),nt.state=c.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof nt.getSnapshotBeforeUpdate=="function"||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(e=nt.state,typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount(),e!==nt.state&&Ei.enqueueReplaceState(nt,nt.state,null),qh(c,s,nt,d),nt.state=c.memoizedState),typeof nt.componentDidMount=="function"&&(c.flags|=4194308)}function Ji(c,e){try{var s="",d=e;do s+=Pa(d),d=d.return;while(d);var nt=s}catch(o){nt=`
Error generating stack: `+o.message+`
`+o.stack}return{value:c,source:e,stack:nt,digest:null}}function Ki(c,e,s){return{value:c,source:null,stack:s??null,digest:e??null}}function Li(c,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(c,e,s){s=mh(-1,s),s.tag=3,s.payload={element:null};var d=e.value;return s.callback=function(){Oi||(Oi=!0,Pi=d),Li(c,e)},s}function Qi(c,e,s){s=mh(-1,s),s.tag=3;var d=c.type.getDerivedStateFromError;if(typeof d=="function"){var nt=e.value;s.payload=function(){return d(nt)},s.callback=function(){Li(c,e)}}var o=c.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(s.callback=function(){Li(c,e),typeof d!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var ft=e.stack;this.componentDidCatch(e.value,{componentStack:ft!==null?ft:""})}),s}function Si(c,e,s){var d=c.pingCache;if(d===null){d=c.pingCache=new Mi;var nt=new Set;d.set(e,nt)}else nt=d.get(e),nt===void 0&&(nt=new Set,d.set(e,nt));nt.has(s)||(nt.add(s),c=Ti.bind(null,c,e,s),e.then(c,c))}function Ui(c){do{var e;if((e=c.tag===13)&&(e=c.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return c;c=c.return}while(c!==null);return null}function Vi(c,e,s,d,nt){return c.mode&1?(c.flags|=65536,c.lanes=nt,c):(c===e?c.flags|=65536:(c.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=mh(-1,1),e.tag=2,nh(s,e,1))),s.lanes|=1),c)}var Wi=ua$1.ReactCurrentOwner,dh=!1;function Xi(c,e,s,d){e.child=c===null?Vg(e,null,s,d):Ug(e,c.child,s,d)}function Yi(c,e,s,d,nt){s=s.render;var o=e.ref;return ch(e,nt),d=Nh(c,e,s,d,o,nt),s=Sh(),c!==null&&!dh?(e.updateQueue=c.updateQueue,e.flags&=-2053,c.lanes&=~nt,Zi(c,e,nt)):(I$1&&s&&vg(e),e.flags|=1,Xi(c,e,d,nt),e.child)}function $i(c,e,s,d,nt){if(c===null){var o=s.type;return typeof o=="function"&&!aj(o)&&o.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=o,bj(c,e,o,d,nt)):(c=Rg(s.type,null,d,e,e.mode,nt),c.ref=e.ref,c.return=e,e.child=c)}if(o=c.child,!(c.lanes&nt)){var ft=o.memoizedProps;if(s=s.compare,s=s!==null?s:Ie$1,s(ft,d)&&c.ref===e.ref)return Zi(c,e,nt)}return e.flags|=1,c=Pg(o,d),c.ref=e.ref,c.return=e,e.child=c}function bj(c,e,s,d,nt){if(c!==null){var o=c.memoizedProps;if(Ie$1(o,d)&&c.ref===e.ref)if(dh=!1,e.pendingProps=d=o,(c.lanes&nt)!==0)c.flags&131072&&(dh=!0);else return e.lanes=c.lanes,Zi(c,e,nt)}return cj(c,e,s,d,nt)}function dj(c,e,s){var d=e.pendingProps,nt=d.children,o=c!==null?c.memoizedState:null;if(d.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(ej,fj),fj|=s;else{if(!(s&1073741824))return c=o!==null?o.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:c,cachePool:null,transitions:null},e.updateQueue=null,G$2(ej,fj),fj|=c,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=o!==null?o.baseLanes:s,G$2(ej,fj),fj|=d}else o!==null?(d=o.baseLanes|s,e.memoizedState=null):d=s,G$2(ej,fj),fj|=d;return Xi(c,e,nt,s),e.child}function gj(c,e){var s=e.ref;(c===null&&s!==null||c!==null&&c.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function cj(c,e,s,d,nt){var o=Zf(s)?Xf:H$1.current;return o=Yf(e,o),ch(e,nt),s=Nh(c,e,s,d,o,nt),d=Sh(),c!==null&&!dh?(e.updateQueue=c.updateQueue,e.flags&=-2053,c.lanes&=~nt,Zi(c,e,nt)):(I$1&&d&&vg(e),e.flags|=1,Xi(c,e,s,nt),e.child)}function hj(c,e,s,d,nt){if(Zf(s)){var o=!0;cg(e)}else o=!1;if(ch(e,nt),e.stateNode===null)ij(c,e),Gi(e,s,d),Ii(e,s,d,nt),d=!0;else if(c===null){var ft=e.stateNode,gt=e.memoizedProps;ft.props=gt;var xt=ft.context,St=s.contextType;typeof St=="object"&&St!==null?St=eh(St):(St=Zf(s)?Xf:H$1.current,St=Yf(e,St));var Tt=s.getDerivedStateFromProps,At=typeof Tt=="function"||typeof ft.getSnapshotBeforeUpdate=="function";At||typeof ft.UNSAFE_componentWillReceiveProps!="function"&&typeof ft.componentWillReceiveProps!="function"||(gt!==d||xt!==St)&&Hi(e,ft,d,St),jh=!1;var Ct=e.memoizedState;ft.state=Ct,qh(e,d,ft,nt),xt=e.memoizedState,gt!==d||Ct!==xt||Wf.current||jh?(typeof Tt=="function"&&(Di(e,s,Tt,d),xt=e.memoizedState),(gt=jh||Fi(e,s,gt,d,Ct,xt,St))?(At||typeof ft.UNSAFE_componentWillMount!="function"&&typeof ft.componentWillMount!="function"||(typeof ft.componentWillMount=="function"&&ft.componentWillMount(),typeof ft.UNSAFE_componentWillMount=="function"&&ft.UNSAFE_componentWillMount()),typeof ft.componentDidMount=="function"&&(e.flags|=4194308)):(typeof ft.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=d,e.memoizedState=xt),ft.props=d,ft.state=xt,ft.context=St,d=gt):(typeof ft.componentDidMount=="function"&&(e.flags|=4194308),d=!1)}else{ft=e.stateNode,lh(c,e),gt=e.memoizedProps,St=e.type===e.elementType?gt:Ci(e.type,gt),ft.props=St,At=e.pendingProps,Ct=ft.context,xt=s.contextType,typeof xt=="object"&&xt!==null?xt=eh(xt):(xt=Zf(s)?Xf:H$1.current,xt=Yf(e,xt));var Rt=s.getDerivedStateFromProps;(Tt=typeof Rt=="function"||typeof ft.getSnapshotBeforeUpdate=="function")||typeof ft.UNSAFE_componentWillReceiveProps!="function"&&typeof ft.componentWillReceiveProps!="function"||(gt!==At||Ct!==xt)&&Hi(e,ft,d,xt),jh=!1,Ct=e.memoizedState,ft.state=Ct,qh(e,d,ft,nt);var yt=e.memoizedState;gt!==At||Ct!==yt||Wf.current||jh?(typeof Rt=="function"&&(Di(e,s,Rt,d),yt=e.memoizedState),(St=jh||Fi(e,s,St,d,Ct,yt,xt)||!1)?(Tt||typeof ft.UNSAFE_componentWillUpdate!="function"&&typeof ft.componentWillUpdate!="function"||(typeof ft.componentWillUpdate=="function"&&ft.componentWillUpdate(d,yt,xt),typeof ft.UNSAFE_componentWillUpdate=="function"&&ft.UNSAFE_componentWillUpdate(d,yt,xt)),typeof ft.componentDidUpdate=="function"&&(e.flags|=4),typeof ft.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof ft.componentDidUpdate!="function"||gt===c.memoizedProps&&Ct===c.memoizedState||(e.flags|=4),typeof ft.getSnapshotBeforeUpdate!="function"||gt===c.memoizedProps&&Ct===c.memoizedState||(e.flags|=1024),e.memoizedProps=d,e.memoizedState=yt),ft.props=d,ft.state=yt,ft.context=xt,d=St):(typeof ft.componentDidUpdate!="function"||gt===c.memoizedProps&&Ct===c.memoizedState||(e.flags|=4),typeof ft.getSnapshotBeforeUpdate!="function"||gt===c.memoizedProps&&Ct===c.memoizedState||(e.flags|=1024),d=!1)}return jj(c,e,s,d,o,nt)}function jj(c,e,s,d,nt,o){gj(c,e);var ft=(e.flags&128)!==0;if(!d&&!ft)return nt&&dg(e,s,!1),Zi(c,e,o);d=e.stateNode,Wi.current=e;var gt=ft&&typeof s.getDerivedStateFromError!="function"?null:d.render();return e.flags|=1,c!==null&&ft?(e.child=Ug(e,c.child,null,o),e.child=Ug(e,null,gt,o)):Xi(c,e,gt,o),e.memoizedState=d.state,nt&&dg(e,s,!0),e.child}function kj(c){var e=c.stateNode;e.pendingContext?ag(c,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(c,e.context,!1),yh(c,e.containerInfo)}function lj(c,e,s,d,nt){return Ig(),Jg(nt),e.flags|=256,Xi(c,e,s,d),e.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(c){return{baseLanes:c,cachePool:null,transitions:null}}function oj(c,e,s){var d=e.pendingProps,nt=L$1.current,o=!1,ft=(e.flags&128)!==0,gt;if((gt=ft)||(gt=c!==null&&c.memoizedState===null?!1:(nt&2)!==0),gt?(o=!0,e.flags&=-129):(c===null||c.memoizedState!==null)&&(nt|=1),G$2(L$1,nt&1),c===null)return Eg(e),c=e.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(e.mode&1?c.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(ft=d.children,c=d.fallback,o?(d=e.mode,o=e.child,ft={mode:"hidden",children:ft},!(d&1)&&o!==null?(o.childLanes=0,o.pendingProps=ft):o=pj(ft,d,0,null),c=Tg(c,d,s,null),o.return=e,c.return=e,o.sibling=c,e.child=o,e.child.memoizedState=nj(s),e.memoizedState=mj,c):qj(e,ft));if(nt=c.memoizedState,nt!==null&&(gt=nt.dehydrated,gt!==null))return rj(c,e,ft,d,gt,nt,s);if(o){o=d.fallback,ft=e.mode,nt=c.child,gt=nt.sibling;var xt={mode:"hidden",children:d.children};return!(ft&1)&&e.child!==nt?(d=e.child,d.childLanes=0,d.pendingProps=xt,e.deletions=null):(d=Pg(nt,xt),d.subtreeFlags=nt.subtreeFlags&14680064),gt!==null?o=Pg(gt,o):(o=Tg(o,ft,s,null),o.flags|=2),o.return=e,d.return=e,d.sibling=o,e.child=d,d=o,o=e.child,ft=c.child.memoizedState,ft=ft===null?nj(s):{baseLanes:ft.baseLanes|s,cachePool:null,transitions:ft.transitions},o.memoizedState=ft,o.childLanes=c.childLanes&~s,e.memoizedState=mj,d}return o=c.child,c=o.sibling,d=Pg(o,{mode:"visible",children:d.children}),!(e.mode&1)&&(d.lanes=s),d.return=e,d.sibling=null,c!==null&&(s=e.deletions,s===null?(e.deletions=[c],e.flags|=16):s.push(c)),e.child=d,e.memoizedState=null,d}function qj(c,e){return e=pj({mode:"visible",children:e},c.mode,0,null),e.return=c,c.child=e}function sj(c,e,s,d){return d!==null&&Jg(d),Ug(e,c.child,null,s),c=qj(e,e.pendingProps.children),c.flags|=2,e.memoizedState=null,c}function rj(c,e,s,d,nt,o,ft){if(s)return e.flags&256?(e.flags&=-257,d=Ki(Error(p(422))),sj(c,e,ft,d)):e.memoizedState!==null?(e.child=c.child,e.flags|=128,null):(o=d.fallback,nt=e.mode,d=pj({mode:"visible",children:d.children},nt,0,null),o=Tg(o,nt,ft,null),o.flags|=2,d.return=e,o.return=e,d.sibling=o,e.child=d,e.mode&1&&Ug(e,c.child,null,ft),e.child.memoizedState=nj(ft),e.memoizedState=mj,o);if(!(e.mode&1))return sj(c,e,ft,null);if(nt.data==="$!"){if(d=nt.nextSibling&&nt.nextSibling.dataset,d)var gt=d.dgst;return d=gt,o=Error(p(419)),d=Ki(o,d,void 0),sj(c,e,ft,d)}if(gt=(ft&c.childLanes)!==0,dh||gt){if(d=Q$1,d!==null){switch(ft&-ft){case 4:nt=2;break;case 16:nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nt=32;break;case 536870912:nt=268435456;break;default:nt=0}nt=nt&(d.suspendedLanes|ft)?0:nt,nt!==0&&nt!==o.retryLane&&(o.retryLane=nt,ih(c,nt),gi(d,c,nt,-1))}return tj(),d=Ki(Error(p(421))),sj(c,e,ft,d)}return nt.data==="$?"?(e.flags|=128,e.child=c.child,e=uj.bind(null,c),nt._reactRetry=e,null):(c=o.treeContext,yg=Lf(nt.nextSibling),xg=e,I$1=!0,zg=null,c!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=c.id,sg=c.overflow,qg=e),e=qj(e,d.children),e.flags|=4096,e)}function vj(c,e,s){c.lanes|=e;var d=c.alternate;d!==null&&(d.lanes|=e),bh(c.return,e,s)}function wj(c,e,s,d,nt){var o=c.memoizedState;o===null?c.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:d,tail:s,tailMode:nt}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=d,o.tail=s,o.tailMode=nt)}function xj(c,e,s){var d=e.pendingProps,nt=d.revealOrder,o=d.tail;if(Xi(c,e,d.children,s),d=L$1.current,d&2)d=d&1|2,e.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=e.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&vj(c,s,e);else if(c.tag===19)vj(c,s,e);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}d&=1}if(G$2(L$1,d),!(e.mode&1))e.memoizedState=null;else switch(nt){case"forwards":for(s=e.child,nt=null;s!==null;)c=s.alternate,c!==null&&Ch(c)===null&&(nt=s),s=s.sibling;s=nt,s===null?(nt=e.child,e.child=null):(nt=s.sibling,s.sibling=null),wj(e,!1,nt,s,o);break;case"backwards":for(s=null,nt=e.child,e.child=null;nt!==null;){if(c=nt.alternate,c!==null&&Ch(c)===null){e.child=nt;break}c=nt.sibling,nt.sibling=s,s=nt,nt=c}wj(e,!0,s,null,o);break;case"together":wj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ij(c,e){!(e.mode&1)&&c!==null&&(c.alternate=null,e.alternate=null,e.flags|=2)}function Zi(c,e,s){if(c!==null&&(e.dependencies=c.dependencies),rh|=e.lanes,!(s&e.childLanes))return null;if(c!==null&&e.child!==c.child)throw Error(p(153));if(e.child!==null){for(c=e.child,s=Pg(c,c.pendingProps),e.child=s,s.return=e;c.sibling!==null;)c=c.sibling,s=s.sibling=Pg(c,c.pendingProps),s.return=e;s.sibling=null}return e.child}function yj(c,e,s){switch(e.tag){case 3:kj(e),Ig();break;case 5:Ah(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:yh(e,e.stateNode.containerInfo);break;case 10:var d=e.type._context,nt=e.memoizedProps.value;G$2(Wg,d._currentValue),d._currentValue=nt;break;case 13:if(d=e.memoizedState,d!==null)return d.dehydrated!==null?(G$2(L$1,L$1.current&1),e.flags|=128,null):s&e.child.childLanes?oj(c,e,s):(G$2(L$1,L$1.current&1),c=Zi(c,e,s),c!==null?c.sibling:null);G$2(L$1,L$1.current&1);break;case 19:if(d=(s&e.childLanes)!==0,c.flags&128){if(d)return xj(c,e,s);e.flags|=128}if(nt=e.memoizedState,nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),G$2(L$1,L$1.current),d)break;return null;case 22:case 23:return e.lanes=0,dj(c,e,s)}return Zi(c,e,s)}var zj,Aj,Bj,Cj;zj=function(c,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)c.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Aj=function(){};Bj=function(c,e,s,d){var nt=c.memoizedProps;if(nt!==d){c=e.stateNode,xh(uh.current);var o=null;switch(s){case"input":nt=Ya(c,nt),d=Ya(c,d),o=[];break;case"select":nt=A$2({},nt,{value:void 0}),d=A$2({},d,{value:void 0}),o=[];break;case"textarea":nt=gb(c,nt),d=gb(c,d),o=[];break;default:typeof nt.onClick!="function"&&typeof d.onClick=="function"&&(c.onclick=Bf)}ub(s,d);var ft;s=null;for(St in nt)if(!d.hasOwnProperty(St)&&nt.hasOwnProperty(St)&&nt[St]!=null)if(St==="style"){var gt=nt[St];for(ft in gt)gt.hasOwnProperty(ft)&&(s||(s={}),s[ft]="")}else St!=="dangerouslySetInnerHTML"&&St!=="children"&&St!=="suppressContentEditableWarning"&&St!=="suppressHydrationWarning"&&St!=="autoFocus"&&(ea.hasOwnProperty(St)?o||(o=[]):(o=o||[]).push(St,null));for(St in d){var xt=d[St];if(gt=nt!=null?nt[St]:void 0,d.hasOwnProperty(St)&&xt!==gt&&(xt!=null||gt!=null))if(St==="style")if(gt){for(ft in gt)!gt.hasOwnProperty(ft)||xt&&xt.hasOwnProperty(ft)||(s||(s={}),s[ft]="");for(ft in xt)xt.hasOwnProperty(ft)&&gt[ft]!==xt[ft]&&(s||(s={}),s[ft]=xt[ft])}else s||(o||(o=[]),o.push(St,s)),s=xt;else St==="dangerouslySetInnerHTML"?(xt=xt?xt.__html:void 0,gt=gt?gt.__html:void 0,xt!=null&&gt!==xt&&(o=o||[]).push(St,xt)):St==="children"?typeof xt!="string"&&typeof xt!="number"||(o=o||[]).push(St,""+xt):St!=="suppressContentEditableWarning"&&St!=="suppressHydrationWarning"&&(ea.hasOwnProperty(St)?(xt!=null&&St==="onScroll"&&D$2("scroll",c),o||gt===xt||(o=[])):(o=o||[]).push(St,xt))}s&&(o=o||[]).push("style",s);var St=o;(e.updateQueue=St)&&(e.flags|=4)}};Cj=function(c,e,s,d){s!==d&&(e.flags|=4)};function Dj(c,e){if(!I$1)switch(c.tailMode){case"hidden":e=c.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?c.tail=null:s.sibling=null;break;case"collapsed":s=c.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?e||c.tail===null?c.tail=null:c.tail.sibling=null:d.sibling=null}}function S$1(c){var e=c.alternate!==null&&c.alternate.child===c.child,s=0,d=0;if(e)for(var nt=c.child;nt!==null;)s|=nt.lanes|nt.childLanes,d|=nt.subtreeFlags&14680064,d|=nt.flags&14680064,nt.return=c,nt=nt.sibling;else for(nt=c.child;nt!==null;)s|=nt.lanes|nt.childLanes,d|=nt.subtreeFlags,d|=nt.flags,nt.return=c,nt=nt.sibling;return c.subtreeFlags|=d,c.childLanes=s,e}function Ej(c,e,s){var d=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(e),null;case 1:return Zf(e.type)&&$f(),S$1(e),null;case 3:return d=e.stateNode,zh(),E$2(Wf),E$2(H$1),Eh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(c===null||c.child===null)&&(Gg(e)?e.flags|=4:c===null||c.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(c,e),S$1(e),null;case 5:Bh(e);var nt=xh(wh.current);if(s=e.type,c!==null&&e.stateNode!=null)Bj(c,e,s,d,nt),c.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!d){if(e.stateNode===null)throw Error(p(166));return S$1(e),null}if(c=xh(uh.current),Gg(e)){d=e.stateNode,s=e.type;var o=e.memoizedProps;switch(d[Of]=e,d[Pf]=o,c=(e.mode&1)!==0,s){case"dialog":D$2("cancel",d),D$2("close",d);break;case"iframe":case"object":case"embed":D$2("load",d);break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$2(lf[nt],d);break;case"source":D$2("error",d);break;case"img":case"image":case"link":D$2("error",d),D$2("load",d);break;case"details":D$2("toggle",d);break;case"input":Za(d,o),D$2("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!o.multiple},D$2("invalid",d);break;case"textarea":hb(d,o),D$2("invalid",d)}ub(s,o),nt=null;for(var ft in o)if(o.hasOwnProperty(ft)){var gt=o[ft];ft==="children"?typeof gt=="string"?d.textContent!==gt&&(o.suppressHydrationWarning!==!0&&Af(d.textContent,gt,c),nt=["children",gt]):typeof gt=="number"&&d.textContent!==""+gt&&(o.suppressHydrationWarning!==!0&&Af(d.textContent,gt,c),nt=["children",""+gt]):ea.hasOwnProperty(ft)&&gt!=null&&ft==="onScroll"&&D$2("scroll",d)}switch(s){case"input":Va(d),db(d,o,!0);break;case"textarea":Va(d),jb(d);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(d.onclick=Bf)}d=nt,e.updateQueue=d,d!==null&&(e.flags|=4)}else{ft=nt.nodeType===9?nt:nt.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=kb(s)),c==="http://www.w3.org/1999/xhtml"?s==="script"?(c=ft.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof d.is=="string"?c=ft.createElement(s,{is:d.is}):(c=ft.createElement(s),s==="select"&&(ft=c,d.multiple?ft.multiple=!0:d.size&&(ft.size=d.size))):c=ft.createElementNS(c,s),c[Of]=e,c[Pf]=d,zj(c,e,!1,!1),e.stateNode=c;e:{switch(ft=vb(s,d),s){case"dialog":D$2("cancel",c),D$2("close",c),nt=d;break;case"iframe":case"object":case"embed":D$2("load",c),nt=d;break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$2(lf[nt],c);nt=d;break;case"source":D$2("error",c),nt=d;break;case"img":case"image":case"link":D$2("error",c),D$2("load",c),nt=d;break;case"details":D$2("toggle",c),nt=d;break;case"input":Za(c,d),nt=Ya(c,d),D$2("invalid",c);break;case"option":nt=d;break;case"select":c._wrapperState={wasMultiple:!!d.multiple},nt=A$2({},d,{value:void 0}),D$2("invalid",c);break;case"textarea":hb(c,d),nt=gb(c,d),D$2("invalid",c);break;default:nt=d}ub(s,nt),gt=nt;for(o in gt)if(gt.hasOwnProperty(o)){var xt=gt[o];o==="style"?sb(c,xt):o==="dangerouslySetInnerHTML"?(xt=xt?xt.__html:void 0,xt!=null&&nb(c,xt)):o==="children"?typeof xt=="string"?(s!=="textarea"||xt!=="")&&ob(c,xt):typeof xt=="number"&&ob(c,""+xt):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ea.hasOwnProperty(o)?xt!=null&&o==="onScroll"&&D$2("scroll",c):xt!=null&&ta(c,o,xt,ft))}switch(s){case"input":Va(c),db(c,d,!1);break;case"textarea":Va(c),jb(c);break;case"option":d.value!=null&&c.setAttribute("value",""+Sa(d.value));break;case"select":c.multiple=!!d.multiple,o=d.value,o!=null?fb(c,!!d.multiple,o,!1):d.defaultValue!=null&&fb(c,!!d.multiple,d.defaultValue,!0);break;default:typeof nt.onClick=="function"&&(c.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S$1(e),null;case 6:if(c&&e.stateNode!=null)Cj(c,e,c.memoizedProps,d);else{if(typeof d!="string"&&e.stateNode===null)throw Error(p(166));if(s=xh(wh.current),xh(uh.current),Gg(e)){if(d=e.stateNode,s=e.memoizedProps,d[Of]=e,(o=d.nodeValue!==s)&&(c=xg,c!==null))switch(c.tag){case 3:Af(d.nodeValue,s,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Af(d.nodeValue,s,(c.mode&1)!==0)}o&&(e.flags|=4)}else d=(s.nodeType===9?s:s.ownerDocument).createTextNode(d),d[Of]=e,e.stateNode=d}return S$1(e),null;case 13:if(E$2(L$1),d=e.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&e.mode&1&&!(e.flags&128))Hg(),Ig(),e.flags|=98560,o=!1;else if(o=Gg(e),d!==null&&d.dehydrated!==null){if(c===null){if(!o)throw Error(p(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(p(317));o[Of]=e}else Ig(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;S$1(e),o=!1}else zg!==null&&(Fj(zg),zg=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(d=d!==null,d!==(c!==null&&c.memoizedState!==null)&&d&&(e.child.flags|=8192,e.mode&1&&(c===null||L$1.current&1?T$2===0&&(T$2=3):tj())),e.updateQueue!==null&&(e.flags|=4),S$1(e),null);case 4:return zh(),Aj(c,e),c===null&&sf(e.stateNode.containerInfo),S$1(e),null;case 10:return ah(e.type._context),S$1(e),null;case 17:return Zf(e.type)&&$f(),S$1(e),null;case 19:if(E$2(L$1),o=e.memoizedState,o===null)return S$1(e),null;if(d=(e.flags&128)!==0,ft=o.rendering,ft===null)if(d)Dj(o,!1);else{if(T$2!==0||c!==null&&c.flags&128)for(c=e.child;c!==null;){if(ft=Ch(c),ft!==null){for(e.flags|=128,Dj(o,!1),d=ft.updateQueue,d!==null&&(e.updateQueue=d,e.flags|=4),e.subtreeFlags=0,d=s,s=e.child;s!==null;)o=s,c=d,o.flags&=14680066,ft=o.alternate,ft===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=ft.childLanes,o.lanes=ft.lanes,o.child=ft.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=ft.memoizedProps,o.memoizedState=ft.memoizedState,o.updateQueue=ft.updateQueue,o.type=ft.type,c=ft.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s=s.sibling;return G$2(L$1,L$1.current&1|2),e.child}c=c.sibling}o.tail!==null&&B$2()>Gj&&(e.flags|=128,d=!0,Dj(o,!1),e.lanes=4194304)}else{if(!d)if(c=Ch(ft),c!==null){if(e.flags|=128,d=!0,s=c.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),Dj(o,!0),o.tail===null&&o.tailMode==="hidden"&&!ft.alternate&&!I$1)return S$1(e),null}else 2*B$2()-o.renderingStartTime>Gj&&s!==1073741824&&(e.flags|=128,d=!0,Dj(o,!1),e.lanes=4194304);o.isBackwards?(ft.sibling=e.child,e.child=ft):(s=o.last,s!==null?s.sibling=ft:e.child=ft,o.last=ft)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=B$2(),e.sibling=null,s=L$1.current,G$2(L$1,d?s&1|2:s&1),e):(S$1(e),null);case 22:case 23:return Hj(),d=e.memoizedState!==null,c!==null&&c.memoizedState!==null!==d&&(e.flags|=8192),d&&e.mode&1?fj&1073741824&&(S$1(e),e.subtreeFlags&6&&(e.flags|=8192)):S$1(e),null;case 24:return null;case 25:return null}throw Error(p(156,e.tag))}function Ij(c,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),c=e.flags,c&65536?(e.flags=c&-65537|128,e):null;case 3:return zh(),E$2(Wf),E$2(H$1),Eh(),c=e.flags,c&65536&&!(c&128)?(e.flags=c&-65537|128,e):null;case 5:return Bh(e),null;case 13:if(E$2(L$1),c=e.memoizedState,c!==null&&c.dehydrated!==null){if(e.alternate===null)throw Error(p(340));Ig()}return c=e.flags,c&65536?(e.flags=c&-65537|128,e):null;case 19:return E$2(L$1),null;case 4:return zh(),null;case 10:return ah(e.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(c,e){var s=c.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(d){W$2(c,e,d)}else s.current=null}function Mj(c,e,s){try{s()}catch(d){W$2(c,e,d)}}var Nj=!1;function Oj(c,e){if(Cf=dd,c=Me$1(),Ne$1(c)){if("selectionStart"in c)var s={start:c.selectionStart,end:c.selectionEnd};else e:{s=(s=c.ownerDocument)&&s.defaultView||window;var d=s.getSelection&&s.getSelection();if(d&&d.rangeCount!==0){s=d.anchorNode;var nt=d.anchorOffset,o=d.focusNode;d=d.focusOffset;try{s.nodeType,o.nodeType}catch{s=null;break e}var ft=0,gt=-1,xt=-1,St=0,Tt=0,At=c,Ct=null;t:for(;;){for(var Rt;At!==s||nt!==0&&At.nodeType!==3||(gt=ft+nt),At!==o||d!==0&&At.nodeType!==3||(xt=ft+d),At.nodeType===3&&(ft+=At.nodeValue.length),(Rt=At.firstChild)!==null;)Ct=At,At=Rt;for(;;){if(At===c)break t;if(Ct===s&&++St===nt&&(gt=ft),Ct===o&&++Tt===d&&(xt=ft),(Rt=At.nextSibling)!==null)break;At=Ct,Ct=At.parentNode}At=Rt}s=gt===-1||xt===-1?null:{start:gt,end:xt}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:c,selectionRange:s},dd=!1,V$1=e;V$1!==null;)if(e=V$1,c=e.child,(e.subtreeFlags&1028)!==0&&c!==null)c.return=e,V$1=c;else for(;V$1!==null;){e=V$1;try{var yt=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(yt!==null){var Ot=yt.memoizedProps,Nt=yt.memoizedState,bt=e.stateNode,Dt=bt.getSnapshotBeforeUpdate(e.elementType===e.type?Ot:Ci(e.type,Ot),Nt);bt.__reactInternalSnapshotBeforeUpdate=Dt}break;case 3:var Ft=e.stateNode.containerInfo;Ft.nodeType===1?Ft.textContent="":Ft.nodeType===9&&Ft.documentElement&&Ft.removeChild(Ft.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(Ut){W$2(e,e.return,Ut)}if(c=e.sibling,c!==null){c.return=e.return,V$1=c;break}V$1=e.return}return yt=Nj,Nj=!1,yt}function Pj(c,e,s){var d=e.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var nt=d=d.next;do{if((nt.tag&c)===c){var o=nt.destroy;nt.destroy=void 0,o!==void 0&&Mj(e,s,o)}nt=nt.next}while(nt!==d)}}function Qj(c,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&c)===c){var d=s.create;s.destroy=d()}s=s.next}while(s!==e)}}function Rj(c){var e=c.ref;if(e!==null){var s=c.stateNode;switch(c.tag){case 5:c=s;break;default:c=s}typeof e=="function"?e(c):e.current=c}}function Sj(c){var e=c.alternate;e!==null&&(c.alternate=null,Sj(e)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(e=c.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function Tj(c){return c.tag===5||c.tag===3||c.tag===4}function Uj(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Tj(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Vj(c,e,s){var d=c.tag;if(d===5||d===6)c=c.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(c,e):s.insertBefore(c,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(c,s)):(e=s,e.appendChild(c)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=Bf));else if(d!==4&&(c=c.child,c!==null))for(Vj(c,e,s),c=c.sibling;c!==null;)Vj(c,e,s),c=c.sibling}function Wj(c,e,s){var d=c.tag;if(d===5||d===6)c=c.stateNode,e?s.insertBefore(c,e):s.appendChild(c);else if(d!==4&&(c=c.child,c!==null))for(Wj(c,e,s),c=c.sibling;c!==null;)Wj(c,e,s),c=c.sibling}var X$2=null,Xj=!1;function Yj(c,e,s){for(s=s.child;s!==null;)Zj(c,e,s),s=s.sibling}function Zj(c,e,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U$1||Lj(s,e);case 6:var d=X$2,nt=Xj;X$2=null,Yj(c,e,s),X$2=d,Xj=nt,X$2!==null&&(Xj?(c=X$2,s=s.stateNode,c.nodeType===8?c.parentNode.removeChild(s):c.removeChild(s)):X$2.removeChild(s.stateNode));break;case 18:X$2!==null&&(Xj?(c=X$2,s=s.stateNode,c.nodeType===8?Kf(c.parentNode,s):c.nodeType===1&&Kf(c,s),bd(c)):Kf(X$2,s.stateNode));break;case 4:d=X$2,nt=Xj,X$2=s.stateNode.containerInfo,Xj=!0,Yj(c,e,s),X$2=d,Xj=nt;break;case 0:case 11:case 14:case 15:if(!U$1&&(d=s.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){nt=d=d.next;do{var o=nt,ft=o.destroy;o=o.tag,ft!==void 0&&(o&2||o&4)&&Mj(s,e,ft),nt=nt.next}while(nt!==d)}Yj(c,e,s);break;case 1:if(!U$1&&(Lj(s,e),d=s.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=s.memoizedProps,d.state=s.memoizedState,d.componentWillUnmount()}catch(gt){W$2(s,e,gt)}Yj(c,e,s);break;case 21:Yj(c,e,s);break;case 22:s.mode&1?(U$1=(d=U$1)||s.memoizedState!==null,Yj(c,e,s),U$1=d):Yj(c,e,s);break;default:Yj(c,e,s)}}function ak(c){var e=c.updateQueue;if(e!==null){c.updateQueue=null;var s=c.stateNode;s===null&&(s=c.stateNode=new Kj),e.forEach(function(d){var nt=bk.bind(null,c,d);s.has(d)||(s.add(d),d.then(nt,nt))})}}function ck(c,e){var s=e.deletions;if(s!==null)for(var d=0;d<s.length;d++){var nt=s[d];try{var o=c,ft=e,gt=ft;e:for(;gt!==null;){switch(gt.tag){case 5:X$2=gt.stateNode,Xj=!1;break e;case 3:X$2=gt.stateNode.containerInfo,Xj=!0;break e;case 4:X$2=gt.stateNode.containerInfo,Xj=!0;break e}gt=gt.return}if(X$2===null)throw Error(p(160));Zj(o,ft,nt),X$2=null,Xj=!1;var xt=nt.alternate;xt!==null&&(xt.return=null),nt.return=null}catch(St){W$2(nt,e,St)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dk(e,c),e=e.sibling}function dk(c,e){var s=c.alternate,d=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(ck(e,c),ek(c),d&4){try{Pj(3,c,c.return),Qj(3,c)}catch(Ot){W$2(c,c.return,Ot)}try{Pj(5,c,c.return)}catch(Ot){W$2(c,c.return,Ot)}}break;case 1:ck(e,c),ek(c),d&512&&s!==null&&Lj(s,s.return);break;case 5:if(ck(e,c),ek(c),d&512&&s!==null&&Lj(s,s.return),c.flags&32){var nt=c.stateNode;try{ob(nt,"")}catch(Ot){W$2(c,c.return,Ot)}}if(d&4&&(nt=c.stateNode,nt!=null)){var o=c.memoizedProps,ft=s!==null?s.memoizedProps:o,gt=c.type,xt=c.updateQueue;if(c.updateQueue=null,xt!==null)try{gt==="input"&&o.type==="radio"&&o.name!=null&&ab(nt,o),vb(gt,ft);var St=vb(gt,o);for(ft=0;ft<xt.length;ft+=2){var Tt=xt[ft],At=xt[ft+1];Tt==="style"?sb(nt,At):Tt==="dangerouslySetInnerHTML"?nb(nt,At):Tt==="children"?ob(nt,At):ta(nt,Tt,At,St)}switch(gt){case"input":bb(nt,o);break;case"textarea":ib(nt,o);break;case"select":var Ct=nt._wrapperState.wasMultiple;nt._wrapperState.wasMultiple=!!o.multiple;var Rt=o.value;Rt!=null?fb(nt,!!o.multiple,Rt,!1):Ct!==!!o.multiple&&(o.defaultValue!=null?fb(nt,!!o.multiple,o.defaultValue,!0):fb(nt,!!o.multiple,o.multiple?[]:"",!1))}nt[Pf]=o}catch(Ot){W$2(c,c.return,Ot)}}break;case 6:if(ck(e,c),ek(c),d&4){if(c.stateNode===null)throw Error(p(162));nt=c.stateNode,o=c.memoizedProps;try{nt.nodeValue=o}catch(Ot){W$2(c,c.return,Ot)}}break;case 3:if(ck(e,c),ek(c),d&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(Ot){W$2(c,c.return,Ot)}break;case 4:ck(e,c),ek(c);break;case 13:ck(e,c),ek(c),nt=c.child,nt.flags&8192&&(o=nt.memoizedState!==null,nt.stateNode.isHidden=o,!o||nt.alternate!==null&&nt.alternate.memoizedState!==null||(fk=B$2())),d&4&&ak(c);break;case 22:if(Tt=s!==null&&s.memoizedState!==null,c.mode&1?(U$1=(St=U$1)||Tt,ck(e,c),U$1=St):ck(e,c),ek(c),d&8192){if(St=c.memoizedState!==null,(c.stateNode.isHidden=St)&&!Tt&&c.mode&1)for(V$1=c,Tt=c.child;Tt!==null;){for(At=V$1=Tt;V$1!==null;){switch(Ct=V$1,Rt=Ct.child,Ct.tag){case 0:case 11:case 14:case 15:Pj(4,Ct,Ct.return);break;case 1:Lj(Ct,Ct.return);var yt=Ct.stateNode;if(typeof yt.componentWillUnmount=="function"){d=Ct,s=Ct.return;try{e=d,yt.props=e.memoizedProps,yt.state=e.memoizedState,yt.componentWillUnmount()}catch(Ot){W$2(d,s,Ot)}}break;case 5:Lj(Ct,Ct.return);break;case 22:if(Ct.memoizedState!==null){gk(At);continue}}Rt!==null?(Rt.return=Ct,V$1=Rt):gk(At)}Tt=Tt.sibling}e:for(Tt=null,At=c;;){if(At.tag===5){if(Tt===null){Tt=At;try{nt=At.stateNode,St?(o=nt.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(gt=At.stateNode,xt=At.memoizedProps.style,ft=xt!=null&&xt.hasOwnProperty("display")?xt.display:null,gt.style.display=rb("display",ft))}catch(Ot){W$2(c,c.return,Ot)}}}else if(At.tag===6){if(Tt===null)try{At.stateNode.nodeValue=St?"":At.memoizedProps}catch(Ot){W$2(c,c.return,Ot)}}else if((At.tag!==22&&At.tag!==23||At.memoizedState===null||At===c)&&At.child!==null){At.child.return=At,At=At.child;continue}if(At===c)break e;for(;At.sibling===null;){if(At.return===null||At.return===c)break e;Tt===At&&(Tt=null),At=At.return}Tt===At&&(Tt=null),At.sibling.return=At.return,At=At.sibling}}break;case 19:ck(e,c),ek(c),d&4&&ak(c);break;case 21:break;default:ck(e,c),ek(c)}}function ek(c){var e=c.flags;if(e&2){try{e:{for(var s=c.return;s!==null;){if(Tj(s)){var d=s;break e}s=s.return}throw Error(p(160))}switch(d.tag){case 5:var nt=d.stateNode;d.flags&32&&(ob(nt,""),d.flags&=-33);var o=Uj(c);Wj(c,o,nt);break;case 3:case 4:var ft=d.stateNode.containerInfo,gt=Uj(c);Vj(c,gt,ft);break;default:throw Error(p(161))}}catch(xt){W$2(c,c.return,xt)}c.flags&=-3}e&4096&&(c.flags&=-4097)}function hk(c,e,s){V$1=c,ik(c)}function ik(c,e,s){for(var d=(c.mode&1)!==0;V$1!==null;){var nt=V$1,o=nt.child;if(nt.tag===22&&d){var ft=nt.memoizedState!==null||Jj;if(!ft){var gt=nt.alternate,xt=gt!==null&&gt.memoizedState!==null||U$1;gt=Jj;var St=U$1;if(Jj=ft,(U$1=xt)&&!St)for(V$1=nt;V$1!==null;)ft=V$1,xt=ft.child,ft.tag===22&&ft.memoizedState!==null?jk(nt):xt!==null?(xt.return=ft,V$1=xt):jk(nt);for(;o!==null;)V$1=o,ik(o),o=o.sibling;V$1=nt,Jj=gt,U$1=St}kk(c)}else nt.subtreeFlags&8772&&o!==null?(o.return=nt,V$1=o):kk(c)}}function kk(c){for(;V$1!==null;){var e=V$1;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:U$1||Qj(5,e);break;case 1:var d=e.stateNode;if(e.flags&4&&!U$1)if(s===null)d.componentDidMount();else{var nt=e.elementType===e.type?s.memoizedProps:Ci(e.type,s.memoizedProps);d.componentDidUpdate(nt,s.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&sh(e,o,d);break;case 3:var ft=e.updateQueue;if(ft!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}sh(e,ft,s)}break;case 5:var gt=e.stateNode;if(s===null&&e.flags&4){s=gt;var xt=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":xt.autoFocus&&s.focus();break;case"img":xt.src&&(s.src=xt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var St=e.alternate;if(St!==null){var Tt=St.memoizedState;if(Tt!==null){var At=Tt.dehydrated;At!==null&&bd(At)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U$1||e.flags&512&&Rj(e)}catch(Ct){W$2(e,e.return,Ct)}}if(e===c){V$1=null;break}if(s=e.sibling,s!==null){s.return=e.return,V$1=s;break}V$1=e.return}}function gk(c){for(;V$1!==null;){var e=V$1;if(e===c){V$1=null;break}var s=e.sibling;if(s!==null){s.return=e.return,V$1=s;break}V$1=e.return}}function jk(c){for(;V$1!==null;){var e=V$1;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{Qj(4,e)}catch(xt){W$2(e,s,xt)}break;case 1:var d=e.stateNode;if(typeof d.componentDidMount=="function"){var nt=e.return;try{d.componentDidMount()}catch(xt){W$2(e,nt,xt)}}var o=e.return;try{Rj(e)}catch(xt){W$2(e,o,xt)}break;case 5:var ft=e.return;try{Rj(e)}catch(xt){W$2(e,ft,xt)}}}catch(xt){W$2(e,e.return,xt)}if(e===c){V$1=null;break}var gt=e.sibling;if(gt!==null){gt.return=e.return,V$1=gt;break}V$1=e.return}}var lk=Math.ceil,mk=ua$1.ReactCurrentDispatcher,nk=ua$1.ReactCurrentOwner,ok=ua$1.ReactCurrentBatchConfig,K$1=0,Q$1=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T$2=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K$1&6?B$2():Ak!==-1?Ak:Ak=B$2()}function yi(c){return c.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(c=C$2,c!==0||(c=window.event,c=c===void 0?16:jd(c.type)),c):1}function gi(c,e,s,d){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(c,s,d),(!(K$1&2)||c!==Q$1)&&(c===Q$1&&(!(K$1&2)&&(qk|=s),T$2===4&&Ck(c,Z$1)),Dk(c,d),s===1&&K$1===0&&!(e.mode&1)&&(Gj=B$2()+500,fg&&jg()))}function Dk(c,e){var s=c.callbackNode;wc(c,e);var d=uc(c,c===Q$1?Z$1:0);if(d===0)s!==null&&bc(s),c.callbackNode=null,c.callbackPriority=0;else if(e=d&-d,c.callbackPriority!==e){if(s!=null&&bc(s),e===1)c.tag===0?ig(Ek.bind(null,c)):hg(Ek.bind(null,c)),Jf(function(){!(K$1&6)&&jg()}),s=null;else{switch(Dc(d)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Fk(s,Gk.bind(null,c))}c.callbackPriority=e,c.callbackNode=s}}function Gk(c,e){if(Ak=-1,Bk=0,K$1&6)throw Error(p(327));var s=c.callbackNode;if(Hk()&&c.callbackNode!==s)return null;var d=uc(c,c===Q$1?Z$1:0);if(d===0)return null;if(d&30||d&c.expiredLanes||e)e=Ik(c,d);else{e=d;var nt=K$1;K$1|=2;var o=Jk();(Q$1!==c||Z$1!==e)&&(uk=null,Gj=B$2()+500,Kk(c,e));do try{Lk();break}catch(gt){Mk(c,gt)}while(1);$g(),mk.current=o,K$1=nt,Y$1!==null?e=0:(Q$1=null,Z$1=0,e=T$2)}if(e!==0){if(e===2&&(nt=xc(c),nt!==0&&(d=nt,e=Nk(c,nt))),e===1)throw s=pk,Kk(c,0),Ck(c,d),Dk(c,B$2()),s;if(e===6)Ck(c,d);else{if(nt=c.current.alternate,!(d&30)&&!Ok(nt)&&(e=Ik(c,d),e===2&&(o=xc(c),o!==0&&(d=o,e=Nk(c,o))),e===1))throw s=pk,Kk(c,0),Ck(c,d),Dk(c,B$2()),s;switch(c.finishedWork=nt,c.finishedLanes=d,e){case 0:case 1:throw Error(p(345));case 2:Pk(c,tk,uk);break;case 3:if(Ck(c,d),(d&130023424)===d&&(e=fk+500-B$2(),10<e)){if(uc(c,0)!==0)break;if(nt=c.suspendedLanes,(nt&d)!==d){R$1(),c.pingedLanes|=c.suspendedLanes&nt;break}c.timeoutHandle=Ff(Pk.bind(null,c,tk,uk),e);break}Pk(c,tk,uk);break;case 4:if(Ck(c,d),(d&4194240)===d)break;for(e=c.eventTimes,nt=-1;0<d;){var ft=31-oc(d);o=1<<ft,ft=e[ft],ft>nt&&(nt=ft),d&=~o}if(d=nt,d=B$2()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*lk(d/1960))-d,10<d){c.timeoutHandle=Ff(Pk.bind(null,c,tk,uk),d);break}Pk(c,tk,uk);break;case 5:Pk(c,tk,uk);break;default:throw Error(p(329))}}}return Dk(c,B$2()),c.callbackNode===s?Gk.bind(null,c):null}function Nk(c,e){var s=sk;return c.current.memoizedState.isDehydrated&&(Kk(c,e).flags|=256),c=Ik(c,e),c!==2&&(e=tk,tk=s,e!==null&&Fj(e)),c}function Fj(c){tk===null?tk=c:tk.push.apply(tk,c)}function Ok(c){for(var e=c;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var d=0;d<s.length;d++){var nt=s[d],o=nt.getSnapshot;nt=nt.value;try{if(!He$1(o(),nt))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===c)break;for(;e.sibling===null;){if(e.return===null||e.return===c)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ck(c,e){for(e&=~rk,e&=~qk,c.suspendedLanes|=e,c.pingedLanes&=~e,c=c.expirationTimes;0<e;){var s=31-oc(e),d=1<<s;c[s]=-1,e&=~d}}function Ek(c){if(K$1&6)throw Error(p(327));Hk();var e=uc(c,0);if(!(e&1))return Dk(c,B$2()),null;var s=Ik(c,e);if(c.tag!==0&&s===2){var d=xc(c);d!==0&&(e=d,s=Nk(c,d))}if(s===1)throw s=pk,Kk(c,0),Ck(c,e),Dk(c,B$2()),s;if(s===6)throw Error(p(345));return c.finishedWork=c.current.alternate,c.finishedLanes=e,Pk(c,tk,uk),Dk(c,B$2()),null}function Qk(c,e){var s=K$1;K$1|=1;try{return c(e)}finally{K$1=s,K$1===0&&(Gj=B$2()+500,fg&&jg())}}function Rk(c){wk!==null&&wk.tag===0&&!(K$1&6)&&Hk();var e=K$1;K$1|=1;var s=ok.transition,d=C$2;try{if(ok.transition=null,C$2=1,c)return c()}finally{C$2=d,ok.transition=s,K$1=e,!(K$1&6)&&jg()}}function Hj(){fj=ej.current,E$2(ej)}function Kk(c,e){c.finishedWork=null,c.finishedLanes=0;var s=c.timeoutHandle;if(s!==-1&&(c.timeoutHandle=-1,Gf(s)),Y$1!==null)for(s=Y$1.return;s!==null;){var d=s;switch(wg(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&$f();break;case 3:zh(),E$2(Wf),E$2(H$1),Eh();break;case 5:Bh(d);break;case 4:zh();break;case 13:E$2(L$1);break;case 19:E$2(L$1);break;case 10:ah(d.type._context);break;case 22:case 23:Hj()}s=s.return}if(Q$1=c,Y$1=c=Pg(c.current,null),Z$1=fj=e,T$2=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(e=0;e<fh.length;e++)if(s=fh[e],d=s.interleaved,d!==null){s.interleaved=null;var nt=d.next,o=s.pending;if(o!==null){var ft=o.next;o.next=nt,d.next=ft}s.pending=d}fh=null}return c}function Mk(c,e){do{var s=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var d=M$1.memoizedState;d!==null;){var nt=d.queue;nt!==null&&(nt.pending=null),d=d.next}Ih=!1}if(Hh=0,O$1=N=M$1=null,Jh=!1,Kh=0,nk.current=null,s===null||s.return===null){T$2=1,pk=e,Y$1=null;break}e:{var o=c,ft=s.return,gt=s,xt=e;if(e=Z$1,gt.flags|=32768,xt!==null&&typeof xt=="object"&&typeof xt.then=="function"){var St=xt,Tt=gt,At=Tt.tag;if(!(Tt.mode&1)&&(At===0||At===11||At===15)){var Ct=Tt.alternate;Ct?(Tt.updateQueue=Ct.updateQueue,Tt.memoizedState=Ct.memoizedState,Tt.lanes=Ct.lanes):(Tt.updateQueue=null,Tt.memoizedState=null)}var Rt=Ui(ft);if(Rt!==null){Rt.flags&=-257,Vi(Rt,ft,gt,o,e),Rt.mode&1&&Si(o,St,e),e=Rt,xt=St;var yt=e.updateQueue;if(yt===null){var Ot=new Set;Ot.add(xt),e.updateQueue=Ot}else yt.add(xt);break e}else{if(!(e&1)){Si(o,St,e),tj();break e}xt=Error(p(426))}}else if(I$1&&gt.mode&1){var Nt=Ui(ft);if(Nt!==null){!(Nt.flags&65536)&&(Nt.flags|=256),Vi(Nt,ft,gt,o,e),Jg(Ji(xt,gt));break e}}o=xt=Ji(xt,gt),T$2!==4&&(T$2=2),sk===null?sk=[o]:sk.push(o),o=ft;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var bt=Ni(o,xt,e);ph(o,bt);break e;case 1:gt=xt;var Dt=o.type,Ft=o.stateNode;if(!(o.flags&128)&&(typeof Dt.getDerivedStateFromError=="function"||Ft!==null&&typeof Ft.componentDidCatch=="function"&&(Ri===null||!Ri.has(Ft)))){o.flags|=65536,e&=-e,o.lanes|=e;var Ut=Qi(o,gt,e);ph(o,Ut);break e}}o=o.return}while(o!==null)}Sk(s)}catch(Wt){e=Wt,Y$1===s&&s!==null&&(Y$1=s=s.return);continue}break}while(1)}function Jk(){var c=mk.current;return mk.current=Rh,c===null?Rh:c}function tj(){(T$2===0||T$2===3||T$2===2)&&(T$2=4),Q$1===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$1,Z$1)}function Ik(c,e){var s=K$1;K$1|=2;var d=Jk();(Q$1!==c||Z$1!==e)&&(uk=null,Kk(c,e));do try{Tk();break}catch(nt){Mk(c,nt)}while(1);if($g(),K$1=s,mk.current=d,Y$1!==null)throw Error(p(261));return Q$1=null,Z$1=0,T$2}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(c){var e=Vk(c.alternate,c,fj);c.memoizedProps=c.pendingProps,e===null?Sk(c):Y$1=e,nk.current=null}function Sk(c){var e=c;do{var s=e.alternate;if(c=e.return,e.flags&32768){if(s=Ij(s,e),s!==null){s.flags&=32767,Y$1=s;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{T$2=6,Y$1=null;return}}else if(s=Ej(s,e,fj),s!==null){Y$1=s;return}if(e=e.sibling,e!==null){Y$1=e;return}Y$1=e=c}while(e!==null);T$2===0&&(T$2=5)}function Pk(c,e,s){var d=C$2,nt=ok.transition;try{ok.transition=null,C$2=1,Wk(c,e,s,d)}finally{ok.transition=nt,C$2=d}return null}function Wk(c,e,s,d){do Hk();while(wk!==null);if(K$1&6)throw Error(p(327));s=c.finishedWork;var nt=c.finishedLanes;if(s===null)return null;if(c.finishedWork=null,c.finishedLanes=0,s===c.current)throw Error(p(177));c.callbackNode=null,c.callbackPriority=0;var o=s.lanes|s.childLanes;if(Bc(c,o),c===Q$1&&(Y$1=Q$1=null,Z$1=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),o=(s.flags&15990)!==0,s.subtreeFlags&15990||o){o=ok.transition,ok.transition=null;var ft=C$2;C$2=1;var gt=K$1;K$1|=4,nk.current=null,Oj(c,s),dk(s,c),Oe$1(Df),dd=!!Cf,Df=Cf=null,c.current=s,hk(s),dc(),K$1=gt,C$2=ft,ok.transition=o}else c.current=s;if(vk&&(vk=!1,wk=c,xk=nt),o=c.pendingLanes,o===0&&(Ri=null),mc(s.stateNode),Dk(c,B$2()),e!==null)for(d=c.onRecoverableError,s=0;s<e.length;s++)nt=e[s],d(nt.value,{componentStack:nt.stack,digest:nt.digest});if(Oi)throw Oi=!1,c=Pi,Pi=null,c;return xk&1&&c.tag!==0&&Hk(),o=c.pendingLanes,o&1?c===zk?yk++:(yk=0,zk=c):yk=0,jg(),null}function Hk(){if(wk!==null){var c=Dc(xk),e=ok.transition,s=C$2;try{if(ok.transition=null,C$2=16>c?16:c,wk===null)var d=!1;else{if(c=wk,wk=null,xk=0,K$1&6)throw Error(p(331));var nt=K$1;for(K$1|=4,V$1=c.current;V$1!==null;){var o=V$1,ft=o.child;if(V$1.flags&16){var gt=o.deletions;if(gt!==null){for(var xt=0;xt<gt.length;xt++){var St=gt[xt];for(V$1=St;V$1!==null;){var Tt=V$1;switch(Tt.tag){case 0:case 11:case 15:Pj(8,Tt,o)}var At=Tt.child;if(At!==null)At.return=Tt,V$1=At;else for(;V$1!==null;){Tt=V$1;var Ct=Tt.sibling,Rt=Tt.return;if(Sj(Tt),Tt===St){V$1=null;break}if(Ct!==null){Ct.return=Rt,V$1=Ct;break}V$1=Rt}}}var yt=o.alternate;if(yt!==null){var Ot=yt.child;if(Ot!==null){yt.child=null;do{var Nt=Ot.sibling;Ot.sibling=null,Ot=Nt}while(Ot!==null)}}V$1=o}}if(o.subtreeFlags&2064&&ft!==null)ft.return=o,V$1=ft;else e:for(;V$1!==null;){if(o=V$1,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Pj(9,o,o.return)}var bt=o.sibling;if(bt!==null){bt.return=o.return,V$1=bt;break e}V$1=o.return}}var Dt=c.current;for(V$1=Dt;V$1!==null;){ft=V$1;var Ft=ft.child;if(ft.subtreeFlags&2064&&Ft!==null)Ft.return=ft,V$1=Ft;else e:for(ft=Dt;V$1!==null;){if(gt=V$1,gt.flags&2048)try{switch(gt.tag){case 0:case 11:case 15:Qj(9,gt)}}catch(Wt){W$2(gt,gt.return,Wt)}if(gt===ft){V$1=null;break e}var Ut=gt.sibling;if(Ut!==null){Ut.return=gt.return,V$1=Ut;break e}V$1=gt.return}}if(K$1=nt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,c)}catch{}d=!0}return d}finally{C$2=s,ok.transition=e}}return!1}function Xk(c,e,s){e=Ji(s,e),e=Ni(c,e,1),c=nh(c,e,1),e=R$1(),c!==null&&(Ac(c,1,e),Dk(c,e))}function W$2(c,e,s){if(c.tag===3)Xk(c,c,s);else for(;e!==null;){if(e.tag===3){Xk(e,c,s);break}else if(e.tag===1){var d=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ri===null||!Ri.has(d))){c=Ji(s,c),c=Qi(e,c,1),e=nh(e,c,1),c=R$1(),e!==null&&(Ac(e,1,c),Dk(e,c));break}}e=e.return}}function Ti(c,e,s){var d=c.pingCache;d!==null&&d.delete(e),e=R$1(),c.pingedLanes|=c.suspendedLanes&s,Q$1===c&&(Z$1&s)===s&&(T$2===4||T$2===3&&(Z$1&130023424)===Z$1&&500>B$2()-fk?Kk(c,0):rk|=s),Dk(c,e)}function Yk(c,e){e===0&&(c.mode&1?(e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):e=1);var s=R$1();c=ih(c,e),c!==null&&(Ac(c,e,s),Dk(c,s))}function uj(c){var e=c.memoizedState,s=0;e!==null&&(s=e.retryLane),Yk(c,s)}function bk(c,e){var s=0;switch(c.tag){case 13:var d=c.stateNode,nt=c.memoizedState;nt!==null&&(s=nt.retryLane);break;case 19:d=c.stateNode;break;default:throw Error(p(314))}d!==null&&d.delete(e),Yk(c,s)}var Vk;Vk=function(c,e,s){if(c!==null)if(c.memoizedProps!==e.pendingProps||Wf.current)dh=!0;else{if(!(c.lanes&s)&&!(e.flags&128))return dh=!1,yj(c,e,s);dh=!!(c.flags&131072)}else dh=!1,I$1&&e.flags&1048576&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var d=e.type;ij(c,e),c=e.pendingProps;var nt=Yf(e,H$1.current);ch(e,s),nt=Nh(null,e,d,c,nt,s);var o=Sh();return e.flags|=1,typeof nt=="object"&&nt!==null&&typeof nt.render=="function"&&nt.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(d)?(o=!0,cg(e)):o=!1,e.memoizedState=nt.state!==null&&nt.state!==void 0?nt.state:null,kh(e),nt.updater=Ei,e.stateNode=nt,nt._reactInternals=e,Ii(e,d,c,s),e=jj(null,e,d,!0,o,s)):(e.tag=0,I$1&&o&&vg(e),Xi(null,e,nt,s),e=e.child),e;case 16:d=e.elementType;e:{switch(ij(c,e),c=e.pendingProps,nt=d._init,d=nt(d._payload),e.type=d,nt=e.tag=Zk(d),c=Ci(d,c),nt){case 0:e=cj(null,e,d,c,s);break e;case 1:e=hj(null,e,d,c,s);break e;case 11:e=Yi(null,e,d,c,s);break e;case 14:e=$i(null,e,d,Ci(d.type,c),s);break e}throw Error(p(306,d,""))}return e;case 0:return d=e.type,nt=e.pendingProps,nt=e.elementType===d?nt:Ci(d,nt),cj(c,e,d,nt,s);case 1:return d=e.type,nt=e.pendingProps,nt=e.elementType===d?nt:Ci(d,nt),hj(c,e,d,nt,s);case 3:e:{if(kj(e),c===null)throw Error(p(387));d=e.pendingProps,o=e.memoizedState,nt=o.element,lh(c,e),qh(e,d,null,s);var ft=e.memoizedState;if(d=ft.element,o.isDehydrated)if(o={element:d,isDehydrated:!1,cache:ft.cache,pendingSuspenseBoundaries:ft.pendingSuspenseBoundaries,transitions:ft.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){nt=Ji(Error(p(423)),e),e=lj(c,e,d,s,nt);break e}else if(d!==nt){nt=Ji(Error(p(424)),e),e=lj(c,e,d,s,nt);break e}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I$1=!0,zg=null,s=Vg(e,null,d,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),d===nt){e=Zi(c,e,s);break e}Xi(c,e,d,s)}e=e.child}return e;case 5:return Ah(e),c===null&&Eg(e),d=e.type,nt=e.pendingProps,o=c!==null?c.memoizedProps:null,ft=nt.children,Ef(d,nt)?ft=null:o!==null&&Ef(d,o)&&(e.flags|=32),gj(c,e),Xi(c,e,ft,s),e.child;case 6:return c===null&&Eg(e),null;case 13:return oj(c,e,s);case 4:return yh(e,e.stateNode.containerInfo),d=e.pendingProps,c===null?e.child=Ug(e,null,d,s):Xi(c,e,d,s),e.child;case 11:return d=e.type,nt=e.pendingProps,nt=e.elementType===d?nt:Ci(d,nt),Yi(c,e,d,nt,s);case 7:return Xi(c,e,e.pendingProps,s),e.child;case 8:return Xi(c,e,e.pendingProps.children,s),e.child;case 12:return Xi(c,e,e.pendingProps.children,s),e.child;case 10:e:{if(d=e.type._context,nt=e.pendingProps,o=e.memoizedProps,ft=nt.value,G$2(Wg,d._currentValue),d._currentValue=ft,o!==null)if(He$1(o.value,ft)){if(o.children===nt.children&&!Wf.current){e=Zi(c,e,s);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var gt=o.dependencies;if(gt!==null){ft=o.child;for(var xt=gt.firstContext;xt!==null;){if(xt.context===d){if(o.tag===1){xt=mh(-1,s&-s),xt.tag=2;var St=o.updateQueue;if(St!==null){St=St.shared;var Tt=St.pending;Tt===null?xt.next=xt:(xt.next=Tt.next,Tt.next=xt),St.pending=xt}}o.lanes|=s,xt=o.alternate,xt!==null&&(xt.lanes|=s),bh(o.return,s,e),gt.lanes|=s;break}xt=xt.next}}else if(o.tag===10)ft=o.type===e.type?null:o.child;else if(o.tag===18){if(ft=o.return,ft===null)throw Error(p(341));ft.lanes|=s,gt=ft.alternate,gt!==null&&(gt.lanes|=s),bh(ft,s,e),ft=o.sibling}else ft=o.child;if(ft!==null)ft.return=o;else for(ft=o;ft!==null;){if(ft===e){ft=null;break}if(o=ft.sibling,o!==null){o.return=ft.return,ft=o;break}ft=ft.return}o=ft}Xi(c,e,nt.children,s),e=e.child}return e;case 9:return nt=e.type,d=e.pendingProps.children,ch(e,s),nt=eh(nt),d=d(nt),e.flags|=1,Xi(c,e,d,s),e.child;case 14:return d=e.type,nt=Ci(d,e.pendingProps),nt=Ci(d.type,nt),$i(c,e,d,nt,s);case 15:return bj(c,e,e.type,e.pendingProps,s);case 17:return d=e.type,nt=e.pendingProps,nt=e.elementType===d?nt:Ci(d,nt),ij(c,e),e.tag=1,Zf(d)?(c=!0,cg(e)):c=!1,ch(e,s),Gi(e,d,nt),Ii(e,d,nt,s),jj(null,e,d,!0,c,s);case 19:return xj(c,e,s);case 22:return dj(c,e,s)}throw Error(p(156,e.tag))};function Fk(c,e){return ac(c,e)}function $k(c,e,s,d){this.tag=c,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(c,e,s,d){return new $k(c,e,s,d)}function aj(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Zk(c){if(typeof c=="function")return aj(c)?1:0;if(c!=null){if(c=c.$$typeof,c===Da)return 11;if(c===Ga)return 14}return 2}function Pg(c,e){var s=c.alternate;return s===null?(s=Bg(c.tag,e,c.key,c.mode),s.elementType=c.elementType,s.type=c.type,s.stateNode=c.stateNode,s.alternate=c,c.alternate=s):(s.pendingProps=e,s.type=c.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=c.flags&14680064,s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,e=c.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=c.sibling,s.index=c.index,s.ref=c.ref,s}function Rg(c,e,s,d,nt,o){var ft=2;if(d=c,typeof c=="function")aj(c)&&(ft=1);else if(typeof c=="string")ft=5;else e:switch(c){case ya:return Tg(s.children,nt,o,e);case za:ft=8,nt|=8;break;case Aa:return c=Bg(12,s,e,nt|2),c.elementType=Aa,c.lanes=o,c;case Ea:return c=Bg(13,s,e,nt),c.elementType=Ea,c.lanes=o,c;case Fa:return c=Bg(19,s,e,nt),c.elementType=Fa,c.lanes=o,c;case Ia:return pj(s,nt,o,e);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case Ba:ft=10;break e;case Ca:ft=9;break e;case Da:ft=11;break e;case Ga:ft=14;break e;case Ha:ft=16,d=null;break e}throw Error(p(130,c==null?c:typeof c,""))}return e=Bg(ft,s,e,nt),e.elementType=c,e.type=d,e.lanes=o,e}function Tg(c,e,s,d){return c=Bg(7,c,d,e),c.lanes=s,c}function pj(c,e,s,d){return c=Bg(22,c,d,e),c.elementType=Ia,c.lanes=s,c.stateNode={isHidden:!1},c}function Qg(c,e,s){return c=Bg(6,c,null,e),c.lanes=s,c}function Sg(c,e,s){return e=Bg(4,c.children!==null?c.children:[],c.key,e),e.lanes=s,e.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},e}function al(c,e,s,d,nt){this.tag=e,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=d,this.onRecoverableError=nt,this.mutableSourceEagerHydrationData=null}function bl(c,e,s,d,nt,o,ft,gt,xt){return c=new al(c,e,s,gt,xt),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Bg(3,null,null,e),c.current=o,o.stateNode=c,o.memoizedState={element:d,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(o),c}function cl(c,e,s){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:d==null?null:""+d,children:c,containerInfo:e,implementation:s}}function dl(c){if(!c)return Vf;c=c._reactInternals;e:{if(Vb(c)!==c||c.tag!==1)throw Error(p(170));var e=c;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(p(171))}if(c.tag===1){var s=c.type;if(Zf(s))return bg(c,s,e)}return e}function el(c,e,s,d,nt,o,ft,gt,xt){return c=bl(s,d,!0,c,nt,o,ft,gt,xt),c.context=dl(null),s=c.current,d=R$1(),nt=yi(s),o=mh(d,nt),o.callback=e??null,nh(s,o,nt),c.current.lanes=nt,Ac(c,nt,d),Dk(c,d),c}function fl(c,e,s,d){var nt=e.current,o=R$1(),ft=yi(nt);return s=dl(s),e.context===null?e.context=s:e.pendingContext=s,e=mh(o,ft),e.payload={element:c},d=d===void 0?null:d,d!==null&&(e.callback=d),c=nh(nt,e,ft),c!==null&&(gi(c,nt,ft,o),oh(c,nt,ft)),ft}function gl(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function hl(c,e){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var s=c.retryLane;c.retryLane=s!==0&&s<e?s:e}}function il(c,e){hl(c,e),(c=c.alternate)&&hl(c,e)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(c){console.error(c)};function ll(c){this._internalRoot=c}ml.prototype.render=ll.prototype.render=function(c){var e=this._internalRoot;if(e===null)throw Error(p(409));fl(c,e,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var e=c.containerInfo;Rk(function(){fl(null,c,null,null)}),e[uf]=null}};function ml(c){this._internalRoot=c}ml.prototype.unstable_scheduleHydration=function(c){if(c){var e=Hc();c={blockedOn:null,target:c,priority:e};for(var s=0;s<Qc.length&&e!==0&&e<Qc[s].priority;s++);Qc.splice(s,0,c),s===0&&Vc(c)}};function nl(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function ol(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(c,e,s,d,nt){if(nt){if(typeof d=="function"){var o=d;d=function(){var St=gl(ft);o.call(St)}}var ft=el(e,d,c,0,null,!1,!1,"",pl);return c._reactRootContainer=ft,c[uf]=ft.current,sf(c.nodeType===8?c.parentNode:c),Rk(),ft}for(;nt=c.lastChild;)c.removeChild(nt);if(typeof d=="function"){var gt=d;d=function(){var St=gl(xt);gt.call(St)}}var xt=bl(c,0,!1,null,null,!1,!1,"",pl);return c._reactRootContainer=xt,c[uf]=xt.current,sf(c.nodeType===8?c.parentNode:c),Rk(function(){fl(e,xt,s,d)}),xt}function rl(c,e,s,d,nt){var o=s._reactRootContainer;if(o){var ft=o;if(typeof nt=="function"){var gt=nt;nt=function(){var xt=gl(ft);gt.call(xt)}}fl(e,ft,c,nt)}else ft=ql(s,e,c,nt,d);return gl(ft)}Ec=function(c){switch(c.tag){case 3:var e=c.stateNode;if(e.current.memoizedState.isDehydrated){var s=tc(e.pendingLanes);s!==0&&(Cc(e,s|1),Dk(e,B$2()),!(K$1&6)&&(Gj=B$2()+500,jg()))}break;case 13:Rk(function(){var d=ih(c,1);if(d!==null){var nt=R$1();gi(d,c,1,nt)}}),il(c,1)}};Fc=function(c){if(c.tag===13){var e=ih(c,134217728);if(e!==null){var s=R$1();gi(e,c,134217728,s)}il(c,134217728)}};Gc=function(c){if(c.tag===13){var e=yi(c),s=ih(c,e);if(s!==null){var d=R$1();gi(s,c,e,d)}il(c,e)}};Hc=function(){return C$2};Ic=function(c,e){var s=C$2;try{return C$2=c,e()}finally{C$2=s}};yb=function(c,e,s){switch(e){case"input":if(bb(c,s),e=s.name,s.type==="radio"&&e!=null){for(s=c;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var d=s[e];if(d!==c&&d.form===c.form){var nt=Db(d);if(!nt)throw Error(p(90));Wa(d),bb(d,nt)}}}break;case"textarea":ib(c,s);break;case"select":e=s.value,e!=null&&fb(c,!!s.multiple,e,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$1.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Zb(c),c===null?null:c.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(c,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(e))throw Error(p(200));return cl(c,e,null,s)};reactDom_production_min.createRoot=function(c,e){if(!nl(c))throw Error(p(299));var s=!1,d="",nt=kl;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(d=e.identifierPrefix),e.onRecoverableError!==void 0&&(nt=e.onRecoverableError)),e=bl(c,1,!1,null,null,s,!1,d,nt),c[uf]=e.current,sf(c.nodeType===8?c.parentNode:c),new ll(e)};reactDom_production_min.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var e=c._reactInternals;if(e===void 0)throw typeof c.render=="function"?Error(p(188)):(c=Object.keys(c).join(","),Error(p(268,c)));return c=Zb(e),c=c===null?null:c.stateNode,c};reactDom_production_min.flushSync=function(c){return Rk(c)};reactDom_production_min.hydrate=function(c,e,s){if(!ol(e))throw Error(p(200));return rl(null,c,e,!0,s)};reactDom_production_min.hydrateRoot=function(c,e,s){if(!nl(c))throw Error(p(405));var d=s!=null&&s.hydratedSources||null,nt=!1,o="",ft=kl;if(s!=null&&(s.unstable_strictMode===!0&&(nt=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onRecoverableError!==void 0&&(ft=s.onRecoverableError)),e=el(e,null,c,1,s??null,nt,!1,o,ft),c[uf]=e.current,sf(c),d)for(c=0;c<d.length;c++)s=d[c],nt=s._getVersion,nt=nt(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,nt]:e.mutableSourceEagerHydrationData.push(s,nt);return new ml(e)};reactDom_production_min.render=function(c,e,s){if(!ol(e))throw Error(p(200));return rl(null,c,e,!1,s)};reactDom_production_min.unmountComponentAtNode=function(c){if(!ol(c))throw Error(p(40));return c._reactRootContainer?(Rk(function(){rl(null,null,c,!1,function(){c._reactRootContainer=null,c[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(c,e,s,d){if(!ol(s))throw Error(p(200));if(c==null||c._reactInternals===void 0)throw Error(p(38));return rl(c,e,s,!1,d)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(c){console.error(c)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot$1,m$1=reactDomExports;createRoot$1=client$1.createRoot=m$1.createRoot,client$1.hydrateRoot=m$1.hydrateRoot;var extendStatics=function(c,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,d){s.__proto__=d}||function(s,d){for(var nt in d)Object.prototype.hasOwnProperty.call(d,nt)&&(s[nt]=d[nt])},extendStatics(c,e)};function __extends(c,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");extendStatics(c,e);function s(){this.constructor=c}c.prototype=e===null?Object.create(e):(s.prototype=e.prototype,new s)}var __assign$1=function(){return __assign$1=Object.assign||function(e){for(var s,d=1,nt=arguments.length;d<nt;d++){s=arguments[d];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},__assign$1.apply(this,arguments)};function __rest(c,e){var s={};for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&e.indexOf(d)<0&&(s[d]=c[d]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,d=Object.getOwnPropertySymbols(c);nt<d.length;nt++)e.indexOf(d[nt])<0&&Object.prototype.propertyIsEnumerable.call(c,d[nt])&&(s[d[nt]]=c[d[nt]]);return s}function __awaiter(c,e,s,d){function nt(o){return o instanceof s?o:new s(function(ft){ft(o)})}return new(s||(s=Promise))(function(o,ft){function gt(Tt){try{St(d.next(Tt))}catch(At){ft(At)}}function xt(Tt){try{St(d.throw(Tt))}catch(At){ft(At)}}function St(Tt){Tt.done?o(Tt.value):nt(Tt.value).then(gt,xt)}St((d=d.apply(c,e||[])).next())})}function __generator(c,e){var s={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},d,nt,o,ft=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return ft.next=gt(0),ft.throw=gt(1),ft.return=gt(2),typeof Symbol=="function"&&(ft[Symbol.iterator]=function(){return this}),ft;function gt(St){return function(Tt){return xt([St,Tt])}}function xt(St){if(d)throw new TypeError("Generator is already executing.");for(;ft&&(ft=0,St[0]&&(s=0)),s;)try{if(d=1,nt&&(o=St[0]&2?nt.return:St[0]?nt.throw||((o=nt.return)&&o.call(nt),0):nt.next)&&!(o=o.call(nt,St[1])).done)return o;switch(nt=0,o&&(St=[St[0]&2,o.value]),St[0]){case 0:case 1:o=St;break;case 4:return s.label++,{value:St[1],done:!1};case 5:s.label++,nt=St[1],St=[0];continue;case 7:St=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(St[0]===6||St[0]===2)){s=0;continue}if(St[0]===3&&(!o||St[1]>o[0]&&St[1]<o[3])){s.label=St[1];break}if(St[0]===6&&s.label<o[1]){s.label=o[1],o=St;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(St);break}o[2]&&s.ops.pop(),s.trys.pop();continue}St=e.call(c,s)}catch(Tt){St=[6,Tt],nt=0}finally{d=o=0}if(St[0]&5)throw St[1];return{value:St[0]?St[1]:void 0,done:!0}}}function __spreadArray$1(c,e,s){if(s||arguments.length===2)for(var d=0,nt=e.length,o;d<nt;d++)(o||!(d in e))&&(o||(o=Array.prototype.slice.call(e,0,d)),o[d]=e[d]);return c.concat(o||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;var genericMessage="Invariant Violation",_a$1=Object.setPrototypeOf,setPrototypeOf=_a$1===void 0?function(c,e){return c.__proto__=e,c}:_a$1,InvariantError=function(c){__extends(e,c);function e(s){s===void 0&&(s=genericMessage);var d=c.call(this,typeof s=="number"?genericMessage+": "+s+" (see https://github.com/apollographql/invariant-packages)":s)||this;return d.framesToPop=1,d.name=genericMessage,setPrototypeOf(d,e.prototype),d}return e}(Error);function invariant$2(c,e){if(!c)throw new InvariantError(e)}var verbosityLevels=["debug","log","warn","error","silent"],verbosityLevel=verbosityLevels.indexOf("log");function wrapConsoleMethod(c){return function(){if(verbosityLevels.indexOf(c)>=verbosityLevel){var e=console[c]||console.log;return e.apply(console,arguments)}}}(function(c){c.debug=wrapConsoleMethod("debug"),c.log=wrapConsoleMethod("log"),c.warn=wrapConsoleMethod("warn"),c.error=wrapConsoleMethod("error")})(invariant$2||(invariant$2={}));var version="3.13.8";function maybe$1(c){try{return c()}catch{}}const global$1=maybe$1(function(){return globalThis})||maybe$1(function(){return window})||maybe$1(function(){return self})||maybe$1(function(){return global})||maybe$1(function(){return maybe$1.constructor("return this")()});var prefixCounts=new Map;function makeUniqueId(c){var e=prefixCounts.get(c)||1;return prefixCounts.set(c,e+1),"".concat(c,":").concat(e,":").concat(Math.random().toString(36).slice(2))}function stringifyForDisplay(c,e){e===void 0&&(e=0);var s=makeUniqueId("stringifyForDisplay");return JSON.stringify(c,function(d,nt){return nt===void 0?s:nt},e).split(JSON.stringify(s)).join("<undefined>")}function wrap$2(c){return function(e){for(var s=[],d=1;d<arguments.length;d++)s[d-1]=arguments[d];if(typeof e=="number"){var nt=e;e=getHandledErrorMsg(nt),e||(e=getFallbackErrorMsg(nt,s),s=[])}c.apply(void 0,[e].concat(s))}}var invariant$1=Object.assign(function(e,s){for(var d=[],nt=2;nt<arguments.length;nt++)d[nt-2]=arguments[nt];e||invariant$2(e,getHandledErrorMsg(s,d)||getFallbackErrorMsg(s,d))},{debug:wrap$2(invariant$2.debug),log:wrap$2(invariant$2.log),warn:wrap$2(invariant$2.warn),error:wrap$2(invariant$2.error)});function newInvariantError(c){for(var e=[],s=1;s<arguments.length;s++)e[s-1]=arguments[s];return new InvariantError(getHandledErrorMsg(c,e)||getFallbackErrorMsg(c,e))}var ApolloErrorMessageHandler=Symbol.for("ApolloErrorMessageHandler_"+version);function stringify$1(c){if(typeof c=="string")return c;try{return stringifyForDisplay(c,2).slice(0,1e3)}catch{return"<non-serializable>"}}function getHandledErrorMsg(c,e){if(e===void 0&&(e=[]),!!c)return global$1[ApolloErrorMessageHandler]&&global$1[ApolloErrorMessageHandler](c,e.map(stringify$1))}function getFallbackErrorMsg(c,e){if(e===void 0&&(e=[]),!!c)return"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version,message:c,args:e.map(stringify$1)})))}function devAssert(c,e){if(!!!c)throw new Error(e)}function isObjectLike(c){return typeof c=="object"&&c!==null}function invariant(c,e){if(!!!c)throw new Error(e??"Unexpected invariant triggered.")}const LineRegExp=/\r\n|[\n\r]/g;function getLocation(c,e){let s=0,d=1;for(const nt of c.body.matchAll(LineRegExp)){if(typeof nt.index=="number"||invariant(!1),nt.index>=e)break;s=nt.index+nt[0].length,d+=1}return{line:d,column:e+1-s}}function printLocation(c){return printSourceLocation(c.source,getLocation(c.source,c.start))}function printSourceLocation(c,e){const s=c.locationOffset.column-1,d="".padStart(s)+c.body,nt=e.line-1,o=c.locationOffset.line-1,ft=e.line+o,gt=e.line===1?s:0,xt=e.column+gt,St=`${c.name}:${ft}:${xt}
`,Tt=d.split(/\r\n|[\n\r]/g),At=Tt[nt];if(At.length>120){const Ct=Math.floor(xt/80),Rt=xt%80,yt=[];for(let Ot=0;Ot<At.length;Ot+=80)yt.push(At.slice(Ot,Ot+80));return St+printPrefixedLines([[`${ft} |`,yt[0]],...yt.slice(1,Ct+1).map(Ot=>["|",Ot]),["|","^".padStart(Rt)],["|",yt[Ct+1]]])}return St+printPrefixedLines([[`${ft-1} |`,Tt[nt-1]],[`${ft} |`,At],["|","^".padStart(xt)],[`${ft+1} |`,Tt[nt+1]]])}function printPrefixedLines(c){const e=c.filter(([d,nt])=>nt!==void 0),s=Math.max(...e.map(([d])=>d.length));return e.map(([d,nt])=>d.padStart(s)+(nt?" "+nt:"")).join(`
`)}function toNormalizedOptions(c){const e=c[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:c[1],positions:c[2],path:c[3],originalError:c[4],extensions:c[5]}:e}class GraphQLError extends Error{constructor(e,...s){var d,nt,o;const{nodes:ft,source:gt,positions:xt,path:St,originalError:Tt,extensions:At}=toNormalizedOptions(s);super(e),this.name="GraphQLError",this.path=St??void 0,this.originalError=Tt??void 0,this.nodes=undefinedIfEmpty(Array.isArray(ft)?ft:ft?[ft]:void 0);const Ct=undefinedIfEmpty((d=this.nodes)===null||d===void 0?void 0:d.map(yt=>yt.loc).filter(yt=>yt!=null));this.source=gt??(Ct==null||(nt=Ct[0])===null||nt===void 0?void 0:nt.source),this.positions=xt??(Ct==null?void 0:Ct.map(yt=>yt.start)),this.locations=xt&&gt?xt.map(yt=>getLocation(gt,yt)):Ct==null?void 0:Ct.map(yt=>getLocation(yt.source,yt.start));const Rt=isObjectLike(Tt==null?void 0:Tt.extensions)?Tt==null?void 0:Tt.extensions:void 0;this.extensions=(o=At??Rt)!==null&&o!==void 0?o:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),Tt!=null&&Tt.stack?Object.defineProperty(this,"stack",{value:Tt.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,GraphQLError):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const s of this.nodes)s.loc&&(e+=`

`+printLocation(s.loc));else if(this.source&&this.locations)for(const s of this.locations)e+=`

`+printSourceLocation(this.source,s);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function undefinedIfEmpty(c){return c===void 0||c.length===0?void 0:c}function syntaxError(c,e,s){return new GraphQLError(`Syntax Error: ${s}`,{source:c,positions:[e]})}class Location{constructor(e,s,d){this.start=e.start,this.end=s.end,this.startToken=e,this.endToken=s,this.source=d}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class Token{constructor(e,s,d,nt,o,ft){this.kind=e,this.start=s,this.end=d,this.line=nt,this.column=o,this.value=ft,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},kindValues=new Set(Object.keys(QueryDocumentKeys));function isNode(c){const e=c==null?void 0:c.kind;return typeof e=="string"&&kindValues.has(e)}var OperationTypeNode;(function(c){c.QUERY="query",c.MUTATION="mutation",c.SUBSCRIPTION="subscription"})(OperationTypeNode||(OperationTypeNode={}));var DirectiveLocation;(function(c){c.QUERY="QUERY",c.MUTATION="MUTATION",c.SUBSCRIPTION="SUBSCRIPTION",c.FIELD="FIELD",c.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",c.FRAGMENT_SPREAD="FRAGMENT_SPREAD",c.INLINE_FRAGMENT="INLINE_FRAGMENT",c.VARIABLE_DEFINITION="VARIABLE_DEFINITION",c.SCHEMA="SCHEMA",c.SCALAR="SCALAR",c.OBJECT="OBJECT",c.FIELD_DEFINITION="FIELD_DEFINITION",c.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",c.INTERFACE="INTERFACE",c.UNION="UNION",c.ENUM="ENUM",c.ENUM_VALUE="ENUM_VALUE",c.INPUT_OBJECT="INPUT_OBJECT",c.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(DirectiveLocation||(DirectiveLocation={}));var Kind;(function(c){c.NAME="Name",c.DOCUMENT="Document",c.OPERATION_DEFINITION="OperationDefinition",c.VARIABLE_DEFINITION="VariableDefinition",c.SELECTION_SET="SelectionSet",c.FIELD="Field",c.ARGUMENT="Argument",c.FRAGMENT_SPREAD="FragmentSpread",c.INLINE_FRAGMENT="InlineFragment",c.FRAGMENT_DEFINITION="FragmentDefinition",c.VARIABLE="Variable",c.INT="IntValue",c.FLOAT="FloatValue",c.STRING="StringValue",c.BOOLEAN="BooleanValue",c.NULL="NullValue",c.ENUM="EnumValue",c.LIST="ListValue",c.OBJECT="ObjectValue",c.OBJECT_FIELD="ObjectField",c.DIRECTIVE="Directive",c.NAMED_TYPE="NamedType",c.LIST_TYPE="ListType",c.NON_NULL_TYPE="NonNullType",c.SCHEMA_DEFINITION="SchemaDefinition",c.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",c.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",c.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",c.FIELD_DEFINITION="FieldDefinition",c.INPUT_VALUE_DEFINITION="InputValueDefinition",c.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",c.UNION_TYPE_DEFINITION="UnionTypeDefinition",c.ENUM_TYPE_DEFINITION="EnumTypeDefinition",c.ENUM_VALUE_DEFINITION="EnumValueDefinition",c.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",c.DIRECTIVE_DEFINITION="DirectiveDefinition",c.SCHEMA_EXTENSION="SchemaExtension",c.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",c.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",c.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",c.UNION_TYPE_EXTENSION="UnionTypeExtension",c.ENUM_TYPE_EXTENSION="EnumTypeExtension",c.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(Kind||(Kind={}));function isWhiteSpace(c){return c===9||c===32}function isDigit(c){return c>=48&&c<=57}function isLetter(c){return c>=97&&c<=122||c>=65&&c<=90}function isNameStart(c){return isLetter(c)||c===95}function isNameContinue(c){return isLetter(c)||isDigit(c)||c===95}function dedentBlockStringLines(c){var e;let s=Number.MAX_SAFE_INTEGER,d=null,nt=-1;for(let ft=0;ft<c.length;++ft){var o;const gt=c[ft],xt=leadingWhitespace(gt);xt!==gt.length&&(d=(o=d)!==null&&o!==void 0?o:ft,nt=ft,ft!==0&&xt<s&&(s=xt))}return c.map((ft,gt)=>gt===0?ft:ft.slice(s)).slice((e=d)!==null&&e!==void 0?e:0,nt+1)}function leadingWhitespace(c){let e=0;for(;e<c.length&&isWhiteSpace(c.charCodeAt(e));)++e;return e}function printBlockString(c,e){const s=c.replace(/"""/g,'\\"""'),d=s.split(/\r\n|[\n\r]/g),nt=d.length===1,o=d.length>1&&d.slice(1).every(Rt=>Rt.length===0||isWhiteSpace(Rt.charCodeAt(0))),ft=s.endsWith('\\"""'),gt=c.endsWith('"')&&!ft,xt=c.endsWith("\\"),St=gt||xt,Tt=!(e!=null&&e.minimize)&&(!nt||c.length>70||St||o||ft);let At="";const Ct=nt&&isWhiteSpace(c.charCodeAt(0));return(Tt&&!Ct||o)&&(At+=`
`),At+=s,(Tt||St)&&(At+=`
`),'"""'+At+'"""'}var TokenKind;(function(c){c.SOF="<SOF>",c.EOF="<EOF>",c.BANG="!",c.DOLLAR="$",c.AMP="&",c.PAREN_L="(",c.PAREN_R=")",c.SPREAD="...",c.COLON=":",c.EQUALS="=",c.AT="@",c.BRACKET_L="[",c.BRACKET_R="]",c.BRACE_L="{",c.PIPE="|",c.BRACE_R="}",c.NAME="Name",c.INT="Int",c.FLOAT="Float",c.STRING="String",c.BLOCK_STRING="BlockString",c.COMMENT="Comment"})(TokenKind||(TokenKind={}));class Lexer{constructor(e){const s=new Token(TokenKind.SOF,0,0,0,0);this.source=e,this.lastToken=s,this.token=s,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==TokenKind.EOF)do if(e.next)e=e.next;else{const s=readNextToken(this,e.end);e.next=s,s.prev=e,e=s}while(e.kind===TokenKind.COMMENT);return e}}function isPunctuatorTokenKind(c){return c===TokenKind.BANG||c===TokenKind.DOLLAR||c===TokenKind.AMP||c===TokenKind.PAREN_L||c===TokenKind.PAREN_R||c===TokenKind.SPREAD||c===TokenKind.COLON||c===TokenKind.EQUALS||c===TokenKind.AT||c===TokenKind.BRACKET_L||c===TokenKind.BRACKET_R||c===TokenKind.BRACE_L||c===TokenKind.PIPE||c===TokenKind.BRACE_R}function isUnicodeScalarValue(c){return c>=0&&c<=55295||c>=57344&&c<=1114111}function isSupplementaryCodePoint(c,e){return isLeadingSurrogate(c.charCodeAt(e))&&isTrailingSurrogate(c.charCodeAt(e+1))}function isLeadingSurrogate(c){return c>=55296&&c<=56319}function isTrailingSurrogate(c){return c>=56320&&c<=57343}function printCodePointAt(c,e){const s=c.source.body.codePointAt(e);if(s===void 0)return TokenKind.EOF;if(s>=32&&s<=126){const d=String.fromCodePoint(s);return d==='"'?`'"'`:`"${d}"`}return"U+"+s.toString(16).toUpperCase().padStart(4,"0")}function createToken(c,e,s,d,nt){const o=c.line,ft=1+s-c.lineStart;return new Token(e,s,d,o,ft,nt)}function readNextToken(c,e){const s=c.source.body,d=s.length;let nt=e;for(;nt<d;){const o=s.charCodeAt(nt);switch(o){case 65279:case 9:case 32:case 44:++nt;continue;case 10:++nt,++c.line,c.lineStart=nt;continue;case 13:s.charCodeAt(nt+1)===10?nt+=2:++nt,++c.line,c.lineStart=nt;continue;case 35:return readComment(c,nt);case 33:return createToken(c,TokenKind.BANG,nt,nt+1);case 36:return createToken(c,TokenKind.DOLLAR,nt,nt+1);case 38:return createToken(c,TokenKind.AMP,nt,nt+1);case 40:return createToken(c,TokenKind.PAREN_L,nt,nt+1);case 41:return createToken(c,TokenKind.PAREN_R,nt,nt+1);case 46:if(s.charCodeAt(nt+1)===46&&s.charCodeAt(nt+2)===46)return createToken(c,TokenKind.SPREAD,nt,nt+3);break;case 58:return createToken(c,TokenKind.COLON,nt,nt+1);case 61:return createToken(c,TokenKind.EQUALS,nt,nt+1);case 64:return createToken(c,TokenKind.AT,nt,nt+1);case 91:return createToken(c,TokenKind.BRACKET_L,nt,nt+1);case 93:return createToken(c,TokenKind.BRACKET_R,nt,nt+1);case 123:return createToken(c,TokenKind.BRACE_L,nt,nt+1);case 124:return createToken(c,TokenKind.PIPE,nt,nt+1);case 125:return createToken(c,TokenKind.BRACE_R,nt,nt+1);case 34:return s.charCodeAt(nt+1)===34&&s.charCodeAt(nt+2)===34?readBlockString(c,nt):readString(c,nt)}if(isDigit(o)||o===45)return readNumber(c,nt,o);if(isNameStart(o))return readName(c,nt);throw syntaxError(c.source,nt,o===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:isUnicodeScalarValue(o)||isSupplementaryCodePoint(s,nt)?`Unexpected character: ${printCodePointAt(c,nt)}.`:`Invalid character: ${printCodePointAt(c,nt)}.`)}return createToken(c,TokenKind.EOF,d,d)}function readComment(c,e){const s=c.source.body,d=s.length;let nt=e+1;for(;nt<d;){const o=s.charCodeAt(nt);if(o===10||o===13)break;if(isUnicodeScalarValue(o))++nt;else if(isSupplementaryCodePoint(s,nt))nt+=2;else break}return createToken(c,TokenKind.COMMENT,e,nt,s.slice(e+1,nt))}function readNumber(c,e,s){const d=c.source.body;let nt=e,o=s,ft=!1;if(o===45&&(o=d.charCodeAt(++nt)),o===48){if(o=d.charCodeAt(++nt),isDigit(o))throw syntaxError(c.source,nt,`Invalid number, unexpected digit after 0: ${printCodePointAt(c,nt)}.`)}else nt=readDigits(c,nt,o),o=d.charCodeAt(nt);if(o===46&&(ft=!0,o=d.charCodeAt(++nt),nt=readDigits(c,nt,o),o=d.charCodeAt(nt)),(o===69||o===101)&&(ft=!0,o=d.charCodeAt(++nt),(o===43||o===45)&&(o=d.charCodeAt(++nt)),nt=readDigits(c,nt,o),o=d.charCodeAt(nt)),o===46||isNameStart(o))throw syntaxError(c.source,nt,`Invalid number, expected digit but got: ${printCodePointAt(c,nt)}.`);return createToken(c,ft?TokenKind.FLOAT:TokenKind.INT,e,nt,d.slice(e,nt))}function readDigits(c,e,s){if(!isDigit(s))throw syntaxError(c.source,e,`Invalid number, expected digit but got: ${printCodePointAt(c,e)}.`);const d=c.source.body;let nt=e+1;for(;isDigit(d.charCodeAt(nt));)++nt;return nt}function readString(c,e){const s=c.source.body,d=s.length;let nt=e+1,o=nt,ft="";for(;nt<d;){const gt=s.charCodeAt(nt);if(gt===34)return ft+=s.slice(o,nt),createToken(c,TokenKind.STRING,e,nt+1,ft);if(gt===92){ft+=s.slice(o,nt);const xt=s.charCodeAt(nt+1)===117?s.charCodeAt(nt+2)===123?readEscapedUnicodeVariableWidth(c,nt):readEscapedUnicodeFixedWidth(c,nt):readEscapedCharacter(c,nt);ft+=xt.value,nt+=xt.size,o=nt;continue}if(gt===10||gt===13)break;if(isUnicodeScalarValue(gt))++nt;else if(isSupplementaryCodePoint(s,nt))nt+=2;else throw syntaxError(c.source,nt,`Invalid character within String: ${printCodePointAt(c,nt)}.`)}throw syntaxError(c.source,nt,"Unterminated string.")}function readEscapedUnicodeVariableWidth(c,e){const s=c.source.body;let d=0,nt=3;for(;nt<12;){const o=s.charCodeAt(e+nt++);if(o===125){if(nt<5||!isUnicodeScalarValue(d))break;return{value:String.fromCodePoint(d),size:nt}}if(d=d<<4|readHexDigit(o),d<0)break}throw syntaxError(c.source,e,`Invalid Unicode escape sequence: "${s.slice(e,e+nt)}".`)}function readEscapedUnicodeFixedWidth(c,e){const s=c.source.body,d=read16BitHexCode(s,e+2);if(isUnicodeScalarValue(d))return{value:String.fromCodePoint(d),size:6};if(isLeadingSurrogate(d)&&s.charCodeAt(e+6)===92&&s.charCodeAt(e+7)===117){const nt=read16BitHexCode(s,e+8);if(isTrailingSurrogate(nt))return{value:String.fromCodePoint(d,nt),size:12}}throw syntaxError(c.source,e,`Invalid Unicode escape sequence: "${s.slice(e,e+6)}".`)}function read16BitHexCode(c,e){return readHexDigit(c.charCodeAt(e))<<12|readHexDigit(c.charCodeAt(e+1))<<8|readHexDigit(c.charCodeAt(e+2))<<4|readHexDigit(c.charCodeAt(e+3))}function readHexDigit(c){return c>=48&&c<=57?c-48:c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:-1}function readEscapedCharacter(c,e){const s=c.source.body;switch(s.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw syntaxError(c.source,e,`Invalid character escape sequence: "${s.slice(e,e+2)}".`)}function readBlockString(c,e){const s=c.source.body,d=s.length;let nt=c.lineStart,o=e+3,ft=o,gt="";const xt=[];for(;o<d;){const St=s.charCodeAt(o);if(St===34&&s.charCodeAt(o+1)===34&&s.charCodeAt(o+2)===34){gt+=s.slice(ft,o),xt.push(gt);const Tt=createToken(c,TokenKind.BLOCK_STRING,e,o+3,dedentBlockStringLines(xt).join(`
`));return c.line+=xt.length-1,c.lineStart=nt,Tt}if(St===92&&s.charCodeAt(o+1)===34&&s.charCodeAt(o+2)===34&&s.charCodeAt(o+3)===34){gt+=s.slice(ft,o),ft=o+1,o+=4;continue}if(St===10||St===13){gt+=s.slice(ft,o),xt.push(gt),St===13&&s.charCodeAt(o+1)===10?o+=2:++o,gt="",ft=o,nt=o;continue}if(isUnicodeScalarValue(St))++o;else if(isSupplementaryCodePoint(s,o))o+=2;else throw syntaxError(c.source,o,`Invalid character within String: ${printCodePointAt(c,o)}.`)}throw syntaxError(c.source,o,"Unterminated string.")}function readName(c,e){const s=c.source.body,d=s.length;let nt=e+1;for(;nt<d;){const o=s.charCodeAt(nt);if(isNameContinue(o))++nt;else break}return createToken(c,TokenKind.NAME,e,nt,s.slice(e,nt))}const MAX_ARRAY_LENGTH=10,MAX_RECURSIVE_DEPTH=2;function inspect(c){return formatValue(c,[])}function formatValue(c,e){switch(typeof c){case"string":return JSON.stringify(c);case"function":return c.name?`[function ${c.name}]`:"[function]";case"object":return formatObjectValue(c,e);default:return String(c)}}function formatObjectValue(c,e){if(c===null)return"null";if(e.includes(c))return"[Circular]";const s=[...e,c];if(isJSONable(c)){const d=c.toJSON();if(d!==c)return typeof d=="string"?d:formatValue(d,s)}else if(Array.isArray(c))return formatArray(c,s);return formatObject(c,s)}function isJSONable(c){return typeof c.toJSON=="function"}function formatObject(c,e){const s=Object.entries(c);return s.length===0?"{}":e.length>MAX_RECURSIVE_DEPTH?"["+getObjectTag(c)+"]":"{ "+s.map(([nt,o])=>nt+": "+formatValue(o,e)).join(", ")+" }"}function formatArray(c,e){if(c.length===0)return"[]";if(e.length>MAX_RECURSIVE_DEPTH)return"[Array]";const s=Math.min(MAX_ARRAY_LENGTH,c.length),d=c.length-s,nt=[];for(let o=0;o<s;++o)nt.push(formatValue(c[o],e));return d===1?nt.push("... 1 more item"):d>1&&nt.push(`... ${d} more items`),"["+nt.join(", ")+"]"}function getObjectTag(c){const e=Object.prototype.toString.call(c).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof c.constructor=="function"){const s=c.constructor.name;if(typeof s=="string"&&s!=="")return s}return e}const isProduction=globalThis.process&&!0,instanceOf=isProduction?function(e,s){return e instanceof s}:function(e,s){if(e instanceof s)return!0;if(typeof e=="object"&&e!==null){var d;const nt=s.prototype[Symbol.toStringTag],o=Symbol.toStringTag in e?e[Symbol.toStringTag]:(d=e.constructor)===null||d===void 0?void 0:d.name;if(nt===o){const ft=inspect(e);throw new Error(`Cannot use ${nt} "${ft}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};let Source$1=class{constructor(e,s="GraphQL request",d={line:1,column:1}){typeof e=="string"||devAssert(!1,`Body must be a string. Received: ${inspect(e)}.`),this.body=e,this.name=s,this.locationOffset=d,this.locationOffset.line>0||devAssert(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||devAssert(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}};function isSource(c){return instanceOf(c,Source$1)}function parse$1(c,e){const s=new Parser(c,e),d=s.parseDocument();return Object.defineProperty(d,"tokenCount",{enumerable:!1,value:s.tokenCount}),d}class Parser{constructor(e,s={}){const d=isSource(e)?e:new Source$1(e);this._lexer=new Lexer(d),this._options=s,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){const e=this.expectToken(TokenKind.NAME);return this.node(e,{kind:Kind.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:Kind.DOCUMENT,definitions:this.many(TokenKind.SOF,this.parseDefinition,TokenKind.EOF)})}parseDefinition(){if(this.peek(TokenKind.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),s=e?this._lexer.lookahead():this._lexer.token;if(s.kind===TokenKind.NAME){switch(s.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw syntaxError(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(s.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(s)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(TokenKind.BRACE_L))return this.node(e,{kind:Kind.OPERATION_DEFINITION,operation:OperationTypeNode.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const s=this.parseOperationType();let d;return this.peek(TokenKind.NAME)&&(d=this.parseName()),this.node(e,{kind:Kind.OPERATION_DEFINITION,operation:s,name:d,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(TokenKind.NAME);switch(e.value){case"query":return OperationTypeNode.QUERY;case"mutation":return OperationTypeNode.MUTATION;case"subscription":return OperationTypeNode.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(TokenKind.PAREN_L,this.parseVariableDefinition,TokenKind.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:Kind.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(TokenKind.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(TokenKind.DOLLAR),this.node(e,{kind:Kind.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:Kind.SELECTION_SET,selections:this.many(TokenKind.BRACE_L,this.parseSelection,TokenKind.BRACE_R)})}parseSelection(){return this.peek(TokenKind.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,s=this.parseName();let d,nt;return this.expectOptionalToken(TokenKind.COLON)?(d=s,nt=this.parseName()):nt=s,this.node(e,{kind:Kind.FIELD,alias:d,name:nt,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(TokenKind.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const s=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(TokenKind.PAREN_L,s,TokenKind.PAREN_R)}parseArgument(e=!1){const s=this._lexer.token,d=this.parseName();return this.expectToken(TokenKind.COLON),this.node(s,{kind:Kind.ARGUMENT,name:d,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(TokenKind.SPREAD);const s=this.expectOptionalKeyword("on");return!s&&this.peek(TokenKind.NAME)?this.node(e,{kind:Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:Kind.INLINE_FRAGMENT,typeCondition:s?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const s=this._lexer.token;switch(s.kind){case TokenKind.BRACKET_L:return this.parseList(e);case TokenKind.BRACE_L:return this.parseObject(e);case TokenKind.INT:return this.advanceLexer(),this.node(s,{kind:Kind.INT,value:s.value});case TokenKind.FLOAT:return this.advanceLexer(),this.node(s,{kind:Kind.FLOAT,value:s.value});case TokenKind.STRING:case TokenKind.BLOCK_STRING:return this.parseStringLiteral();case TokenKind.NAME:switch(this.advanceLexer(),s.value){case"true":return this.node(s,{kind:Kind.BOOLEAN,value:!0});case"false":return this.node(s,{kind:Kind.BOOLEAN,value:!1});case"null":return this.node(s,{kind:Kind.NULL});default:return this.node(s,{kind:Kind.ENUM,value:s.value})}case TokenKind.DOLLAR:if(e)if(this.expectToken(TokenKind.DOLLAR),this._lexer.token.kind===TokenKind.NAME){const d=this._lexer.token.value;throw syntaxError(this._lexer.source,s.start,`Unexpected variable "$${d}" in constant value.`)}else throw this.unexpected(s);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:Kind.STRING,value:e.value,block:e.kind===TokenKind.BLOCK_STRING})}parseList(e){const s=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:Kind.LIST,values:this.any(TokenKind.BRACKET_L,s,TokenKind.BRACKET_R)})}parseObject(e){const s=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:Kind.OBJECT,fields:this.any(TokenKind.BRACE_L,s,TokenKind.BRACE_R)})}parseObjectField(e){const s=this._lexer.token,d=this.parseName();return this.expectToken(TokenKind.COLON),this.node(s,{kind:Kind.OBJECT_FIELD,name:d,value:this.parseValueLiteral(e)})}parseDirectives(e){const s=[];for(;this.peek(TokenKind.AT);)s.push(this.parseDirective(e));return s}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const s=this._lexer.token;return this.expectToken(TokenKind.AT),this.node(s,{kind:Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let s;if(this.expectOptionalToken(TokenKind.BRACKET_L)){const d=this.parseTypeReference();this.expectToken(TokenKind.BRACKET_R),s=this.node(e,{kind:Kind.LIST_TYPE,type:d})}else s=this.parseNamedType();return this.expectOptionalToken(TokenKind.BANG)?this.node(e,{kind:Kind.NON_NULL_TYPE,type:s}):s}parseNamedType(){return this.node(this._lexer.token,{kind:Kind.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(TokenKind.STRING)||this.peek(TokenKind.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,s=this.parseDescription();this.expectKeyword("schema");const d=this.parseConstDirectives(),nt=this.many(TokenKind.BRACE_L,this.parseOperationTypeDefinition,TokenKind.BRACE_R);return this.node(e,{kind:Kind.SCHEMA_DEFINITION,description:s,directives:d,operationTypes:nt})}parseOperationTypeDefinition(){const e=this._lexer.token,s=this.parseOperationType();this.expectToken(TokenKind.COLON);const d=this.parseNamedType();return this.node(e,{kind:Kind.OPERATION_TYPE_DEFINITION,operation:s,type:d})}parseScalarTypeDefinition(){const e=this._lexer.token,s=this.parseDescription();this.expectKeyword("scalar");const d=this.parseName(),nt=this.parseConstDirectives();return this.node(e,{kind:Kind.SCALAR_TYPE_DEFINITION,description:s,name:d,directives:nt})}parseObjectTypeDefinition(){const e=this._lexer.token,s=this.parseDescription();this.expectKeyword("type");const d=this.parseName(),nt=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),ft=this.parseFieldsDefinition();return this.node(e,{kind:Kind.OBJECT_TYPE_DEFINITION,description:s,name:d,interfaces:nt,directives:o,fields:ft})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(TokenKind.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(TokenKind.BRACE_L,this.parseFieldDefinition,TokenKind.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,s=this.parseDescription(),d=this.parseName(),nt=this.parseArgumentDefs();this.expectToken(TokenKind.COLON);const o=this.parseTypeReference(),ft=this.parseConstDirectives();return this.node(e,{kind:Kind.FIELD_DEFINITION,description:s,name:d,arguments:nt,type:o,directives:ft})}parseArgumentDefs(){return this.optionalMany(TokenKind.PAREN_L,this.parseInputValueDef,TokenKind.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,s=this.parseDescription(),d=this.parseName();this.expectToken(TokenKind.COLON);const nt=this.parseTypeReference();let o;this.expectOptionalToken(TokenKind.EQUALS)&&(o=this.parseConstValueLiteral());const ft=this.parseConstDirectives();return this.node(e,{kind:Kind.INPUT_VALUE_DEFINITION,description:s,name:d,type:nt,defaultValue:o,directives:ft})}parseInterfaceTypeDefinition(){const e=this._lexer.token,s=this.parseDescription();this.expectKeyword("interface");const d=this.parseName(),nt=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),ft=this.parseFieldsDefinition();return this.node(e,{kind:Kind.INTERFACE_TYPE_DEFINITION,description:s,name:d,interfaces:nt,directives:o,fields:ft})}parseUnionTypeDefinition(){const e=this._lexer.token,s=this.parseDescription();this.expectKeyword("union");const d=this.parseName(),nt=this.parseConstDirectives(),o=this.parseUnionMemberTypes();return this.node(e,{kind:Kind.UNION_TYPE_DEFINITION,description:s,name:d,directives:nt,types:o})}parseUnionMemberTypes(){return this.expectOptionalToken(TokenKind.EQUALS)?this.delimitedMany(TokenKind.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,s=this.parseDescription();this.expectKeyword("enum");const d=this.parseName(),nt=this.parseConstDirectives(),o=this.parseEnumValuesDefinition();return this.node(e,{kind:Kind.ENUM_TYPE_DEFINITION,description:s,name:d,directives:nt,values:o})}parseEnumValuesDefinition(){return this.optionalMany(TokenKind.BRACE_L,this.parseEnumValueDefinition,TokenKind.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,s=this.parseDescription(),d=this.parseEnumValueName(),nt=this.parseConstDirectives();return this.node(e,{kind:Kind.ENUM_VALUE_DEFINITION,description:s,name:d,directives:nt})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw syntaxError(this._lexer.source,this._lexer.token.start,`${getTokenDesc(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,s=this.parseDescription();this.expectKeyword("input");const d=this.parseName(),nt=this.parseConstDirectives(),o=this.parseInputFieldsDefinition();return this.node(e,{kind:Kind.INPUT_OBJECT_TYPE_DEFINITION,description:s,name:d,directives:nt,fields:o})}parseInputFieldsDefinition(){return this.optionalMany(TokenKind.BRACE_L,this.parseInputValueDef,TokenKind.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===TokenKind.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const s=this.parseConstDirectives(),d=this.optionalMany(TokenKind.BRACE_L,this.parseOperationTypeDefinition,TokenKind.BRACE_R);if(s.length===0&&d.length===0)throw this.unexpected();return this.node(e,{kind:Kind.SCHEMA_EXTENSION,directives:s,operationTypes:d})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const s=this.parseName(),d=this.parseConstDirectives();if(d.length===0)throw this.unexpected();return this.node(e,{kind:Kind.SCALAR_TYPE_EXTENSION,name:s,directives:d})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const s=this.parseName(),d=this.parseImplementsInterfaces(),nt=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(d.length===0&&nt.length===0&&o.length===0)throw this.unexpected();return this.node(e,{kind:Kind.OBJECT_TYPE_EXTENSION,name:s,interfaces:d,directives:nt,fields:o})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const s=this.parseName(),d=this.parseImplementsInterfaces(),nt=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(d.length===0&&nt.length===0&&o.length===0)throw this.unexpected();return this.node(e,{kind:Kind.INTERFACE_TYPE_EXTENSION,name:s,interfaces:d,directives:nt,fields:o})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const s=this.parseName(),d=this.parseConstDirectives(),nt=this.parseUnionMemberTypes();if(d.length===0&&nt.length===0)throw this.unexpected();return this.node(e,{kind:Kind.UNION_TYPE_EXTENSION,name:s,directives:d,types:nt})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const s=this.parseName(),d=this.parseConstDirectives(),nt=this.parseEnumValuesDefinition();if(d.length===0&&nt.length===0)throw this.unexpected();return this.node(e,{kind:Kind.ENUM_TYPE_EXTENSION,name:s,directives:d,values:nt})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const s=this.parseName(),d=this.parseConstDirectives(),nt=this.parseInputFieldsDefinition();if(d.length===0&&nt.length===0)throw this.unexpected();return this.node(e,{kind:Kind.INPUT_OBJECT_TYPE_EXTENSION,name:s,directives:d,fields:nt})}parseDirectiveDefinition(){const e=this._lexer.token,s=this.parseDescription();this.expectKeyword("directive"),this.expectToken(TokenKind.AT);const d=this.parseName(),nt=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const ft=this.parseDirectiveLocations();return this.node(e,{kind:Kind.DIRECTIVE_DEFINITION,description:s,name:d,arguments:nt,repeatable:o,locations:ft})}parseDirectiveLocations(){return this.delimitedMany(TokenKind.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,s=this.parseName();if(Object.prototype.hasOwnProperty.call(DirectiveLocation,s.value))return s;throw this.unexpected(e)}node(e,s){return this._options.noLocation!==!0&&(s.loc=new Location(e,this._lexer.lastToken,this._lexer.source)),s}peek(e){return this._lexer.token.kind===e}expectToken(e){const s=this._lexer.token;if(s.kind===e)return this.advanceLexer(),s;throw syntaxError(this._lexer.source,s.start,`Expected ${getTokenKindDesc(e)}, found ${getTokenDesc(s)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){const s=this._lexer.token;if(s.kind===TokenKind.NAME&&s.value===e)this.advanceLexer();else throw syntaxError(this._lexer.source,s.start,`Expected "${e}", found ${getTokenDesc(s)}.`)}expectOptionalKeyword(e){const s=this._lexer.token;return s.kind===TokenKind.NAME&&s.value===e?(this.advanceLexer(),!0):!1}unexpected(e){const s=e??this._lexer.token;return syntaxError(this._lexer.source,s.start,`Unexpected ${getTokenDesc(s)}.`)}any(e,s,d){this.expectToken(e);const nt=[];for(;!this.expectOptionalToken(d);)nt.push(s.call(this));return nt}optionalMany(e,s,d){if(this.expectOptionalToken(e)){const nt=[];do nt.push(s.call(this));while(!this.expectOptionalToken(d));return nt}return[]}many(e,s,d){this.expectToken(e);const nt=[];do nt.push(s.call(this));while(!this.expectOptionalToken(d));return nt}delimitedMany(e,s){this.expectOptionalToken(e);const d=[];do d.push(s.call(this));while(this.expectOptionalToken(e));return d}advanceLexer(){const{maxTokens:e}=this._options,s=this._lexer.advance();if(s.kind!==TokenKind.EOF&&(++this._tokenCounter,e!==void 0&&this._tokenCounter>e))throw syntaxError(this._lexer.source,s.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function getTokenDesc(c){const e=c.value;return getTokenKindDesc(c.kind)+(e!=null?` "${e}"`:"")}function getTokenKindDesc(c){return isPunctuatorTokenKind(c)?`"${c}"`:c}function printString(c){return`"${c.replace(escapedRegExp,escapedReplacer)}"`}const escapedRegExp=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function escapedReplacer(c){return escapeSequences[c.charCodeAt(0)]}const escapeSequences=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],BREAK=Object.freeze({});function visit(c,e,s=QueryDocumentKeys){const d=new Map;for(const bt of Object.values(Kind))d.set(bt,getEnterLeaveForKind(e,bt));let nt,o=Array.isArray(c),ft=[c],gt=-1,xt=[],St=c,Tt,At;const Ct=[],Rt=[];do{gt++;const bt=gt===ft.length,Dt=bt&&xt.length!==0;if(bt){if(Tt=Rt.length===0?void 0:Ct[Ct.length-1],St=At,At=Rt.pop(),Dt)if(o){St=St.slice();let Ut=0;for(const[Wt,Gt]of xt){const Xt=Wt-Ut;Gt===null?(St.splice(Xt,1),Ut++):St[Xt]=Gt}}else{St={...St};for(const[Ut,Wt]of xt)St[Ut]=Wt}gt=nt.index,ft=nt.keys,xt=nt.edits,o=nt.inArray,nt=nt.prev}else if(At){if(Tt=o?gt:ft[gt],St=At[Tt],St==null)continue;Ct.push(Tt)}let Ft;if(!Array.isArray(St)){var yt,Ot;isNode(St)||devAssert(!1,`Invalid AST Node: ${inspect(St)}.`);const Ut=bt?(yt=d.get(St.kind))===null||yt===void 0?void 0:yt.leave:(Ot=d.get(St.kind))===null||Ot===void 0?void 0:Ot.enter;if(Ft=Ut==null?void 0:Ut.call(e,St,Tt,At,Ct,Rt),Ft===BREAK)break;if(Ft===!1){if(!bt){Ct.pop();continue}}else if(Ft!==void 0&&(xt.push([Tt,Ft]),!bt))if(isNode(Ft))St=Ft;else{Ct.pop();continue}}if(Ft===void 0&&Dt&&xt.push([Tt,St]),bt)Ct.pop();else{var Nt;nt={inArray:o,index:gt,keys:ft,edits:xt,prev:nt},o=Array.isArray(St),ft=o?St:(Nt=s[St.kind])!==null&&Nt!==void 0?Nt:[],gt=-1,xt=[],At&&Rt.push(At),At=St}}while(nt!==void 0);return xt.length!==0?xt[xt.length-1][1]:c}function getEnterLeaveForKind(c,e){const s=c[e];return typeof s=="object"?s:typeof s=="function"?{enter:s,leave:void 0}:{enter:c.enter,leave:c.leave}}function print$2(c){return visit(c,printDocASTReducer)}const MAX_LINE_LENGTH=80,printDocASTReducer={Name:{leave:c=>c.value},Variable:{leave:c=>"$"+c.name},Document:{leave:c=>join(c.definitions,`

`)},OperationDefinition:{leave(c){const e=wrap$1("(",join(c.variableDefinitions,", "),")"),s=join([c.operation,join([c.name,e]),join(c.directives," ")]," ");return(s==="query"?"":s+" ")+c.selectionSet}},VariableDefinition:{leave:({variable:c,type:e,defaultValue:s,directives:d})=>c+": "+e+wrap$1(" = ",s)+wrap$1(" ",join(d," "))},SelectionSet:{leave:({selections:c})=>block(c)},Field:{leave({alias:c,name:e,arguments:s,directives:d,selectionSet:nt}){const o=wrap$1("",c,": ")+e;let ft=o+wrap$1("(",join(s,", "),")");return ft.length>MAX_LINE_LENGTH&&(ft=o+wrap$1(`(
`,indent(join(s,`
`)),`
)`)),join([ft,join(d," "),nt]," ")}},Argument:{leave:({name:c,value:e})=>c+": "+e},FragmentSpread:{leave:({name:c,directives:e})=>"..."+c+wrap$1(" ",join(e," "))},InlineFragment:{leave:({typeCondition:c,directives:e,selectionSet:s})=>join(["...",wrap$1("on ",c),join(e," "),s]," ")},FragmentDefinition:{leave:({name:c,typeCondition:e,variableDefinitions:s,directives:d,selectionSet:nt})=>`fragment ${c}${wrap$1("(",join(s,", "),")")} on ${e} ${wrap$1("",join(d," ")," ")}`+nt},IntValue:{leave:({value:c})=>c},FloatValue:{leave:({value:c})=>c},StringValue:{leave:({value:c,block:e})=>e?printBlockString(c):printString(c)},BooleanValue:{leave:({value:c})=>c?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:c})=>c},ListValue:{leave:({values:c})=>"["+join(c,", ")+"]"},ObjectValue:{leave:({fields:c})=>"{"+join(c,", ")+"}"},ObjectField:{leave:({name:c,value:e})=>c+": "+e},Directive:{leave:({name:c,arguments:e})=>"@"+c+wrap$1("(",join(e,", "),")")},NamedType:{leave:({name:c})=>c},ListType:{leave:({type:c})=>"["+c+"]"},NonNullType:{leave:({type:c})=>c+"!"},SchemaDefinition:{leave:({description:c,directives:e,operationTypes:s})=>wrap$1("",c,`
`)+join(["schema",join(e," "),block(s)]," ")},OperationTypeDefinition:{leave:({operation:c,type:e})=>c+": "+e},ScalarTypeDefinition:{leave:({description:c,name:e,directives:s})=>wrap$1("",c,`
`)+join(["scalar",e,join(s," ")]," ")},ObjectTypeDefinition:{leave:({description:c,name:e,interfaces:s,directives:d,fields:nt})=>wrap$1("",c,`
`)+join(["type",e,wrap$1("implements ",join(s," & ")),join(d," "),block(nt)]," ")},FieldDefinition:{leave:({description:c,name:e,arguments:s,type:d,directives:nt})=>wrap$1("",c,`
`)+e+(hasMultilineItems(s)?wrap$1(`(
`,indent(join(s,`
`)),`
)`):wrap$1("(",join(s,", "),")"))+": "+d+wrap$1(" ",join(nt," "))},InputValueDefinition:{leave:({description:c,name:e,type:s,defaultValue:d,directives:nt})=>wrap$1("",c,`
`)+join([e+": "+s,wrap$1("= ",d),join(nt," ")]," ")},InterfaceTypeDefinition:{leave:({description:c,name:e,interfaces:s,directives:d,fields:nt})=>wrap$1("",c,`
`)+join(["interface",e,wrap$1("implements ",join(s," & ")),join(d," "),block(nt)]," ")},UnionTypeDefinition:{leave:({description:c,name:e,directives:s,types:d})=>wrap$1("",c,`
`)+join(["union",e,join(s," "),wrap$1("= ",join(d," | "))]," ")},EnumTypeDefinition:{leave:({description:c,name:e,directives:s,values:d})=>wrap$1("",c,`
`)+join(["enum",e,join(s," "),block(d)]," ")},EnumValueDefinition:{leave:({description:c,name:e,directives:s})=>wrap$1("",c,`
`)+join([e,join(s," ")]," ")},InputObjectTypeDefinition:{leave:({description:c,name:e,directives:s,fields:d})=>wrap$1("",c,`
`)+join(["input",e,join(s," "),block(d)]," ")},DirectiveDefinition:{leave:({description:c,name:e,arguments:s,repeatable:d,locations:nt})=>wrap$1("",c,`
`)+"directive @"+e+(hasMultilineItems(s)?wrap$1(`(
`,indent(join(s,`
`)),`
)`):wrap$1("(",join(s,", "),")"))+(d?" repeatable":"")+" on "+join(nt," | ")},SchemaExtension:{leave:({directives:c,operationTypes:e})=>join(["extend schema",join(c," "),block(e)]," ")},ScalarTypeExtension:{leave:({name:c,directives:e})=>join(["extend scalar",c,join(e," ")]," ")},ObjectTypeExtension:{leave:({name:c,interfaces:e,directives:s,fields:d})=>join(["extend type",c,wrap$1("implements ",join(e," & ")),join(s," "),block(d)]," ")},InterfaceTypeExtension:{leave:({name:c,interfaces:e,directives:s,fields:d})=>join(["extend interface",c,wrap$1("implements ",join(e," & ")),join(s," "),block(d)]," ")},UnionTypeExtension:{leave:({name:c,directives:e,types:s})=>join(["extend union",c,join(e," "),wrap$1("= ",join(s," | "))]," ")},EnumTypeExtension:{leave:({name:c,directives:e,values:s})=>join(["extend enum",c,join(e," "),block(s)]," ")},InputObjectTypeExtension:{leave:({name:c,directives:e,fields:s})=>join(["extend input",c,join(e," "),block(s)]," ")}};function join(c,e=""){var s;return(s=c==null?void 0:c.filter(d=>d).join(e))!==null&&s!==void 0?s:""}function block(c){return wrap$1(`{
`,indent(join(c,`
`)),`
}`)}function wrap$1(c,e,s=""){return e!=null&&e!==""?c+e+s:""}function indent(c){return wrap$1("  ",c.replace(/\n/g,`
  `))}function hasMultilineItems(c){var e;return(e=c==null?void 0:c.some(s=>s.includes(`
`)))!==null&&e!==void 0?e:!1}function isSelectionNode(c){return c.kind===Kind.FIELD||c.kind===Kind.FRAGMENT_SPREAD||c.kind===Kind.INLINE_FRAGMENT}function shouldInclude(c,e){var s=c.directives;return!s||!s.length?!0:getInclusionDirectives(s).every(function(d){var nt=d.directive,o=d.ifArgument,ft=!1;return o.value.kind==="Variable"?(ft=e&&e[o.value.name.value],invariant$1(ft!==void 0,78,nt.name.value)):ft=o.value.value,nt.name.value==="skip"?!ft:ft})}function hasDirectives(c,e,s){var d=new Set(c),nt=d.size;return visit(e,{Directive:function(o){if(d.delete(o.name.value)&&(!s||!d.size))return BREAK}}),s?!d.size:d.size<nt}function hasClientExports(c){return c&&hasDirectives(["client","export"],c,!0)}function isInclusionDirective(c){var e=c.name.value;return e==="skip"||e==="include"}function getInclusionDirectives(c){var e=[];return c&&c.length&&c.forEach(function(s){if(isInclusionDirective(s)){var d=s.arguments,nt=s.name.value;invariant$1(d&&d.length===1,79,nt);var o=d[0];invariant$1(o.name&&o.name.value==="if",80,nt);var ft=o.value;invariant$1(ft&&(ft.kind==="Variable"||ft.kind==="BooleanValue"),81,nt),e.push({directive:s,ifArgument:o})}}),e}function getFragmentMaskMode(c){var e,s,d=(e=c.directives)===null||e===void 0?void 0:e.find(function(o){var ft=o.name;return ft.value==="unmask"});if(!d)return"mask";var nt=(s=d.arguments)===null||s===void 0?void 0:s.find(function(o){var ft=o.name;return ft.value==="mode"});return globalThis.__DEV__!==!1&&nt&&(nt.value.kind===Kind.VARIABLE?globalThis.__DEV__!==!1&&invariant$1.warn(82):nt.value.kind!==Kind.STRING?globalThis.__DEV__!==!1&&invariant$1.warn(83):nt.value.value!=="migrate"&&globalThis.__DEV__!==!1&&invariant$1.warn(84,nt.value.value)),nt&&"value"in nt.value&&nt.value.value==="migrate"?"migrate":"unmask"}const defaultMakeData=()=>Object.create(null),{forEach,slice:slice$1}=Array.prototype,{hasOwnProperty:hasOwnProperty$7}=Object.prototype;class Trie{constructor(e=!0,s=defaultMakeData){this.weakness=e,this.makeData=s}lookup(){return this.lookupArray(arguments)}lookupArray(e){let s=this;return forEach.call(e,d=>s=s.getChildTrie(d)),hasOwnProperty$7.call(s,"data")?s.data:s.data=this.makeData(slice$1.call(e))}peek(){return this.peekArray(arguments)}peekArray(e){let s=this;for(let d=0,nt=e.length;s&&d<nt;++d){const o=s.mapFor(e[d],!1);s=o&&o.get(e[d])}return s&&s.data}remove(){return this.removeArray(arguments)}removeArray(e){let s;if(e.length){const d=e[0],nt=this.mapFor(d,!1),o=nt&&nt.get(d);o&&(s=o.removeArray(slice$1.call(e,1)),!o.data&&!o.weak&&!(o.strong&&o.strong.size)&&nt.delete(d))}else s=this.data,delete this.data;return s}getChildTrie(e){const s=this.mapFor(e,!0);let d=s.get(e);return d||s.set(e,d=new Trie(this.weakness,this.makeData)),d}mapFor(e,s){return this.weakness&&isObjRef(e)?this.weak||(s?this.weak=new WeakMap:void 0):this.strong||(s?this.strong=new Map:void 0)}}function isObjRef(c){switch(typeof c){case"object":if(c===null)break;case"function":return!0}return!1}var isReactNative=maybe$1(function(){return navigator.product})=="ReactNative",canUseWeakMap=typeof WeakMap=="function"&&!(isReactNative&&!global.HermesInternal),canUseWeakSet=typeof WeakSet=="function",canUseSymbol=typeof Symbol=="function"&&typeof Symbol.for=="function",canUseAsyncIteratorSymbol=canUseSymbol&&Symbol.asyncIterator,canUseDOM=typeof maybe$1(function(){return window.document.createElement})=="function",usingJSDOM=maybe$1(function(){return navigator.userAgent.indexOf("jsdom")>=0})||!1,canUseLayoutEffect=(canUseDOM||isReactNative)&&!usingJSDOM;function isNonNullObject(c){return c!==null&&typeof c=="object"}function getFragmentQueryDocument(c,e){var s=e,d=[];c.definitions.forEach(function(o){if(o.kind==="OperationDefinition")throw newInvariantError(85,o.operation,o.name?" named '".concat(o.name.value,"'"):"");o.kind==="FragmentDefinition"&&d.push(o)}),typeof s>"u"&&(invariant$1(d.length===1,86,d.length),s=d[0].name.value);var nt=__assign$1(__assign$1({},c),{definitions:__spreadArray$1([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:s}}]}}],c.definitions,!0)});return nt}function createFragmentMap(c){c===void 0&&(c=[]);var e={};return c.forEach(function(s){e[s.name.value]=s}),e}function getFragmentFromSelection(c,e){switch(c.kind){case"InlineFragment":return c;case"FragmentSpread":{var s=c.name.value;if(typeof e=="function")return e(s);var d=e&&e[s];return invariant$1(d,87,s),d||null}default:return null}}function isFullyUnmaskedOperation(c){var e=!0;return visit(c,{FragmentSpread:function(s){if(e=!!s.directives&&s.directives.some(function(d){return d.name.value==="unmask"}),!e)return BREAK}}),e}function defaultDispose$1(){}class StrongCache{constructor(e=1/0,s=defaultDispose$1){this.max=e,this.dispose=s,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){const s=this.getNode(e);return s&&s.value}get size(){return this.map.size}getNode(e){const s=this.map.get(e);if(s&&s!==this.newest){const{older:d,newer:nt}=s;nt&&(nt.older=d),d&&(d.newer=nt),s.older=this.newest,s.older.newer=s,s.newer=null,this.newest=s,s===this.oldest&&(this.oldest=nt)}return s}set(e,s){let d=this.getNode(e);return d?d.value=s:(d={key:e,value:s,newer:null,older:this.newest},this.newest&&(this.newest.newer=d),this.newest=d,this.oldest=this.oldest||d,this.map.set(e,d),d.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){const s=this.map.get(e);return s?(s===this.newest&&(this.newest=s.older),s===this.oldest&&(this.oldest=s.newer),s.newer&&(s.newer.older=s.older),s.older&&(s.older.newer=s.newer),this.map.delete(e),this.dispose(s.value,e),!0):!1}}function noop$1(){}const defaultDispose=noop$1,_WeakRef=typeof WeakRef<"u"?WeakRef:function(c){return{deref:()=>c}},_WeakMap=typeof WeakMap<"u"?WeakMap:Map,_FinalizationRegistry=typeof FinalizationRegistry<"u"?FinalizationRegistry:function(){return{register:noop$1,unregister:noop$1}},finalizationBatchSize=10024;class WeakCache{constructor(e=1/0,s=defaultDispose){this.max=e,this.dispose=s,this.map=new _WeakMap,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{const d=this.unfinalizedNodes.values();for(let nt=0;nt<finalizationBatchSize;nt++){const o=d.next().value;if(!o)break;this.unfinalizedNodes.delete(o);const ft=o.key;delete o.key,o.keyRef=new _WeakRef(ft),this.registry.register(ft,o,o)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new _FinalizationRegistry(this.deleteNode.bind(this))}has(e){return this.map.has(e)}get(e){const s=this.getNode(e);return s&&s.value}getNode(e){const s=this.map.get(e);if(s&&s!==this.newest){const{older:d,newer:nt}=s;nt&&(nt.older=d),d&&(d.newer=nt),s.older=this.newest,s.older.newer=s,s.newer=null,this.newest=s,s===this.oldest&&(this.oldest=nt)}return s}set(e,s){let d=this.getNode(e);return d?d.value=s:(d={key:e,value:s,newer:null,older:this.newest},this.newest&&(this.newest.newer=d),this.newest=d,this.oldest=this.oldest||d,this.scheduleFinalization(d),this.map.set(e,d),this.size++,d.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(e){e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.size--;const s=e.key||e.keyRef&&e.keyRef.deref();this.dispose(e.value,s),e.keyRef?this.registry.unregister(e):this.unfinalizedNodes.delete(e),s&&this.map.delete(s)}delete(e){const s=this.map.get(e);return s?(this.deleteNode(s),!0):!1}scheduleFinalization(e){this.unfinalizedNodes.add(e),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}var scheduledCleanup=new WeakSet;function schedule(c){c.size<=(c.max||-1)||scheduledCleanup.has(c)||(scheduledCleanup.add(c),setTimeout(function(){c.clean(),scheduledCleanup.delete(c)},100))}var AutoCleanedWeakCache=function(c,e){var s=new WeakCache(c,e);return s.set=function(d,nt){var o=WeakCache.prototype.set.call(this,d,nt);return schedule(this),o},s},AutoCleanedStrongCache=function(c,e){var s=new StrongCache(c,e);return s.set=function(d,nt){var o=StrongCache.prototype.set.call(this,d,nt);return schedule(this),o},s},cacheSizeSymbol=Symbol.for("apollo.cacheSize"),cacheSizes=__assign$1({},global$1[cacheSizeSymbol]),globalCaches={};function registerGlobalCache(c,e){globalCaches[c]=e}var getApolloClientMemoryInternals=globalThis.__DEV__!==!1?_getApolloClientMemoryInternals:void 0,getInMemoryCacheMemoryInternals=globalThis.__DEV__!==!1?_getInMemoryCacheMemoryInternals:void 0,getApolloCacheMemoryInternals=globalThis.__DEV__!==!1?_getApolloCacheMemoryInternals:void 0;function getCurrentCacheSizes(){var c={parser:1e3,canonicalStringify:1e3,print:2e3,"documentTransform.cache":2e3,"queryManager.getDocumentInfo":2e3,"PersistedQueryLink.persistedQueryHashes":2e3,"fragmentRegistry.transform":2e3,"fragmentRegistry.lookup":1e3,"fragmentRegistry.findFragmentSpreads":4e3,"cache.fragmentQueryDocuments":1e3,"removeTypenameFromVariables.getVariableDefinitions":2e3,"inMemoryCache.maybeBroadcastWatch":5e3,"inMemoryCache.executeSelectionSet":5e4,"inMemoryCache.executeSubSelectedArray":1e4};return Object.fromEntries(Object.entries(c).map(function(e){var s=e[0],d=e[1];return[s,cacheSizes[s]||d]}))}function _getApolloClientMemoryInternals(){var c,e,s,d,nt;if(globalThis.__DEV__===!1)throw new Error("only supported in development mode");return{limits:getCurrentCacheSizes(),sizes:__assign$1({print:(c=globalCaches.print)===null||c===void 0?void 0:c.call(globalCaches),parser:(e=globalCaches.parser)===null||e===void 0?void 0:e.call(globalCaches),canonicalStringify:(s=globalCaches.canonicalStringify)===null||s===void 0?void 0:s.call(globalCaches),links:linkInfo(this.link),queryManager:{getDocumentInfo:this.queryManager.transformCache.size,documentTransforms:transformInfo(this.queryManager.documentTransform)}},(nt=(d=this.cache).getMemoryInternals)===null||nt===void 0?void 0:nt.call(d))}}function _getApolloCacheMemoryInternals(){return{cache:{fragmentQueryDocuments:getWrapperInformation(this.getFragmentDoc)}}}function _getInMemoryCacheMemoryInternals(){var c=this.config.fragments;return __assign$1(__assign$1({},_getApolloCacheMemoryInternals.apply(this)),{addTypenameDocumentTransform:transformInfo(this.addTypenameTransform),inMemoryCache:{executeSelectionSet:getWrapperInformation(this.storeReader.executeSelectionSet),executeSubSelectedArray:getWrapperInformation(this.storeReader.executeSubSelectedArray),maybeBroadcastWatch:getWrapperInformation(this.maybeBroadcastWatch)},fragmentRegistry:{findFragmentSpreads:getWrapperInformation(c==null?void 0:c.findFragmentSpreads),lookup:getWrapperInformation(c==null?void 0:c.lookup),transform:getWrapperInformation(c==null?void 0:c.transform)}})}function isWrapper(c){return!!c&&"dirtyKey"in c}function getWrapperInformation(c){return isWrapper(c)?c.size:void 0}function isDefined(c){return c!=null}function transformInfo(c){return recurseTransformInfo(c).map(function(e){return{cache:e}})}function recurseTransformInfo(c){return c?__spreadArray$1(__spreadArray$1([getWrapperInformation(c==null?void 0:c.performWork)],recurseTransformInfo(c==null?void 0:c.left),!0),recurseTransformInfo(c==null?void 0:c.right),!0).filter(isDefined):[]}function linkInfo(c){var e;return c?__spreadArray$1(__spreadArray$1([(e=c==null?void 0:c.getMemoryInternals)===null||e===void 0?void 0:e.call(c)],linkInfo(c==null?void 0:c.left),!0),linkInfo(c==null?void 0:c.right),!0).filter(isDefined):[]}var canonicalStringify=Object.assign(function(e){return JSON.stringify(e,stableObjectReplacer)},{reset:function(){sortingMap=new AutoCleanedStrongCache(cacheSizes.canonicalStringify||1e3)}});globalThis.__DEV__!==!1&&registerGlobalCache("canonicalStringify",function(){return sortingMap.size});var sortingMap;canonicalStringify.reset();function stableObjectReplacer(c,e){if(e&&typeof e=="object"){var s=Object.getPrototypeOf(e);if(s===Object.prototype||s===null){var d=Object.keys(e);if(d.every(everyKeyInOrder))return e;var nt=JSON.stringify(d),o=sortingMap.get(nt);if(!o){d.sort();var ft=JSON.stringify(d);o=sortingMap.get(ft)||d,sortingMap.set(nt,o),sortingMap.set(ft,o)}var gt=Object.create(s);return o.forEach(function(xt){gt[xt]=e[xt]}),gt}}return e}function everyKeyInOrder(c,e,s){return e===0||s[e-1]<=c}function makeReference(c){return{__ref:String(c)}}function isReference(c){return!!(c&&typeof c=="object"&&typeof c.__ref=="string")}function isDocumentNode(c){return isNonNullObject(c)&&c.kind==="Document"&&Array.isArray(c.definitions)}function isStringValue(c){return c.kind==="StringValue"}function isBooleanValue(c){return c.kind==="BooleanValue"}function isIntValue(c){return c.kind==="IntValue"}function isFloatValue(c){return c.kind==="FloatValue"}function isVariable(c){return c.kind==="Variable"}function isObjectValue(c){return c.kind==="ObjectValue"}function isListValue(c){return c.kind==="ListValue"}function isEnumValue(c){return c.kind==="EnumValue"}function isNullValue(c){return c.kind==="NullValue"}function valueToObjectRepresentation(c,e,s,d){if(isIntValue(s)||isFloatValue(s))c[e.value]=Number(s.value);else if(isBooleanValue(s)||isStringValue(s))c[e.value]=s.value;else if(isObjectValue(s)){var nt={};s.fields.map(function(ft){return valueToObjectRepresentation(nt,ft.name,ft.value,d)}),c[e.value]=nt}else if(isVariable(s)){var o=(d||{})[s.name.value];c[e.value]=o}else if(isListValue(s))c[e.value]=s.values.map(function(ft){var gt={};return valueToObjectRepresentation(gt,e,ft,d),gt[e.value]});else if(isEnumValue(s))c[e.value]=s.value;else if(isNullValue(s))c[e.value]=null;else throw newInvariantError(96,e.value,s.kind)}function storeKeyNameFromField(c,e){var s=null;c.directives&&(s={},c.directives.forEach(function(nt){s[nt.name.value]={},nt.arguments&&nt.arguments.forEach(function(o){var ft=o.name,gt=o.value;return valueToObjectRepresentation(s[nt.name.value],ft,gt,e)})}));var d=null;return c.arguments&&c.arguments.length&&(d={},c.arguments.forEach(function(nt){var o=nt.name,ft=nt.value;return valueToObjectRepresentation(d,o,ft,e)})),getStoreKeyName(c.name.value,d,s)}var KNOWN_DIRECTIVES=["connection","include","skip","client","rest","export","nonreactive"],storeKeyNameStringify=canonicalStringify,getStoreKeyName=Object.assign(function(c,e,s){if(e&&s&&s.connection&&s.connection.key)if(s.connection.filter&&s.connection.filter.length>0){var d=s.connection.filter?s.connection.filter:[];d.sort();var nt={};return d.forEach(function(gt){nt[gt]=e[gt]}),"".concat(s.connection.key,"(").concat(storeKeyNameStringify(nt),")")}else return s.connection.key;var o=c;if(e){var ft=storeKeyNameStringify(e);o+="(".concat(ft,")")}return s&&Object.keys(s).forEach(function(gt){KNOWN_DIRECTIVES.indexOf(gt)===-1&&(s[gt]&&Object.keys(s[gt]).length?o+="@".concat(gt,"(").concat(storeKeyNameStringify(s[gt]),")"):o+="@".concat(gt))}),o},{setStringify:function(c){var e=storeKeyNameStringify;return storeKeyNameStringify=c,e}});function argumentsObjectFromField(c,e){if(c.arguments&&c.arguments.length){var s={};return c.arguments.forEach(function(d){var nt=d.name,o=d.value;return valueToObjectRepresentation(s,nt,o,e)}),s}return null}function resultKeyNameFromField(c){return c.alias?c.alias.value:c.name.value}function getTypenameFromResult(c,e,s){for(var d,nt=0,o=e.selections;nt<o.length;nt++){var ft=o[nt];if(isField(ft)){if(ft.name.value==="__typename")return c[resultKeyNameFromField(ft)]}else d?d.push(ft):d=[ft]}if(typeof c.__typename=="string")return c.__typename;if(d)for(var gt=0,xt=d;gt<xt.length;gt++){var ft=xt[gt],St=getTypenameFromResult(c,getFragmentFromSelection(ft,s).selectionSet,s);if(typeof St=="string")return St}}function isField(c){return c.kind==="Field"}function isInlineFragment(c){return c.kind==="InlineFragment"}function checkDocument(c){invariant$1(c&&c.kind==="Document",88);var e=c.definitions.filter(function(s){return s.kind!=="FragmentDefinition"}).map(function(s){if(s.kind!=="OperationDefinition")throw newInvariantError(89,s.kind);return s});return invariant$1(e.length<=1,90,e.length),c}function getOperationDefinition(c){return checkDocument(c),c.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function getOperationName(c){return c.definitions.filter(function(e){return e.kind==="OperationDefinition"&&!!e.name}).map(function(e){return e.name.value})[0]||null}function getFragmentDefinitions(c){return c.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function getQueryDefinition(c){var e=getOperationDefinition(c);return invariant$1(e&&e.operation==="query",91),e}function getFragmentDefinition(c){invariant$1(c.kind==="Document",92),invariant$1(c.definitions.length<=1,93);var e=c.definitions[0];return invariant$1(e.kind==="FragmentDefinition",94),e}function getMainDefinition(c){checkDocument(c);for(var e,s=0,d=c.definitions;s<d.length;s++){var nt=d[s];if(nt.kind==="OperationDefinition"){var o=nt.operation;if(o==="query"||o==="mutation"||o==="subscription")return nt}nt.kind==="FragmentDefinition"&&!e&&(e=nt)}if(e)return e;throw newInvariantError(95)}function getDefaultValues(c){var e=Object.create(null),s=c&&c.variableDefinitions;return s&&s.length&&s.forEach(function(d){d.defaultValue&&valueToObjectRepresentation(e,d.variable.name,d.defaultValue)}),e}let currentContext=null;const MISSING_VALUE={};let idCounter=1;const makeSlotClass=()=>class{constructor(){this.id=["slot",idCounter++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=currentContext;e;e=e.parent)if(this.id in e.slots){const s=e.slots[this.id];if(s===MISSING_VALUE)break;return e!==currentContext&&(currentContext.slots[this.id]=s),!0}return currentContext&&(currentContext.slots[this.id]=MISSING_VALUE),!1}getValue(){if(this.hasValue())return currentContext.slots[this.id]}withValue(e,s,d,nt){const o={__proto__:null,[this.id]:e},ft=currentContext;currentContext={parent:ft,slots:o};try{return s.apply(nt,d)}finally{currentContext=ft}}static bind(e){const s=currentContext;return function(){const d=currentContext;try{return currentContext=s,e.apply(this,arguments)}finally{currentContext=d}}}static noContext(e,s,d){if(currentContext){const nt=currentContext;try{return currentContext=null,e.apply(d,s)}finally{currentContext=nt}}else return e.apply(d,s)}};function maybe(c){try{return c()}catch{}}const globalKey="@wry/context:Slot",host=maybe(()=>globalThis)||maybe(()=>global)||Object.create(null),globalHost=host,Slot=globalHost[globalKey]||Array[globalKey]||function(c){try{Object.defineProperty(globalHost,globalKey,{value:c,enumerable:!1,writable:!1,configurable:!0})}finally{return c}}(makeSlotClass()),parentEntrySlot=new Slot,{hasOwnProperty:hasOwnProperty$6}=Object.prototype,arrayFromSet=Array.from||function(c){const e=[];return c.forEach(s=>e.push(s)),e};function maybeUnsubscribe(c){const{unsubscribe:e}=c;typeof e=="function"&&(c.unsubscribe=void 0,e())}const emptySetPool=[],POOL_TARGET_SIZE=100;function assert(c,e){if(!c)throw new Error(e||"assertion failure")}function valueIs(c,e){const s=c.length;return s>0&&s===e.length&&c[s-1]===e[s-1]}function valueGet(c){switch(c.length){case 0:throw new Error("unknown value");case 1:return c[0];case 2:throw c[1]}}function valueCopy(c){return c.slice(0)}class Entry{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++Entry.count}peek(){if(this.value.length===1&&!mightBeDirty(this))return rememberParent(this),this.value[0]}recompute(e){return assert(!this.recomputing,"already recomputing"),rememberParent(this),mightBeDirty(this)?reallyRecompute(this,e):valueGet(this.value)}setDirty(){this.dirty||(this.dirty=!0,reportDirty(this),maybeUnsubscribe(this))}dispose(){this.setDirty(),forgetChildren(this),eachParent(this,(e,s)=>{e.setDirty(),forgetChild(e,this)})}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=emptySetPool.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(arrayFromSet(this.deps).forEach(e=>e.delete(this)),this.deps.clear(),emptySetPool.push(this.deps),this.deps=null)}}Entry.count=0;function rememberParent(c){const e=parentEntrySlot.getValue();if(e)return c.parents.add(e),e.childValues.has(c)||e.childValues.set(c,[]),mightBeDirty(c)?reportDirtyChild(e,c):reportCleanChild(e,c),e}function reallyRecompute(c,e){return forgetChildren(c),parentEntrySlot.withValue(c,recomputeNewValue,[c,e]),maybeSubscribe(c,e)&&setClean(c),valueGet(c.value)}function recomputeNewValue(c,e){c.recomputing=!0;const{normalizeResult:s}=c;let d;s&&c.value.length===1&&(d=valueCopy(c.value)),c.value.length=0;try{if(c.value[0]=c.fn.apply(null,e),s&&d&&!valueIs(d,c.value))try{c.value[0]=s(c.value[0],d[0])}catch{}}catch(nt){c.value[1]=nt}c.recomputing=!1}function mightBeDirty(c){return c.dirty||!!(c.dirtyChildren&&c.dirtyChildren.size)}function setClean(c){c.dirty=!1,!mightBeDirty(c)&&reportClean(c)}function reportDirty(c){eachParent(c,reportDirtyChild)}function reportClean(c){eachParent(c,reportCleanChild)}function eachParent(c,e){const s=c.parents.size;if(s){const d=arrayFromSet(c.parents);for(let nt=0;nt<s;++nt)e(d[nt],c)}}function reportDirtyChild(c,e){assert(c.childValues.has(e)),assert(mightBeDirty(e));const s=!mightBeDirty(c);if(!c.dirtyChildren)c.dirtyChildren=emptySetPool.pop()||new Set;else if(c.dirtyChildren.has(e))return;c.dirtyChildren.add(e),s&&reportDirty(c)}function reportCleanChild(c,e){assert(c.childValues.has(e)),assert(!mightBeDirty(e));const s=c.childValues.get(e);s.length===0?c.childValues.set(e,valueCopy(e.value)):valueIs(s,e.value)||c.setDirty(),removeDirtyChild(c,e),!mightBeDirty(c)&&reportClean(c)}function removeDirtyChild(c,e){const s=c.dirtyChildren;s&&(s.delete(e),s.size===0&&(emptySetPool.length<POOL_TARGET_SIZE&&emptySetPool.push(s),c.dirtyChildren=null))}function forgetChildren(c){c.childValues.size>0&&c.childValues.forEach((e,s)=>{forgetChild(c,s)}),c.forgetDeps(),assert(c.dirtyChildren===null)}function forgetChild(c,e){e.parents.delete(c),c.childValues.delete(e),removeDirtyChild(c,e)}function maybeSubscribe(c,e){if(typeof c.subscribe=="function")try{maybeUnsubscribe(c),c.unsubscribe=c.subscribe.apply(null,e)}catch{return c.setDirty(),!1}return!0}const EntryMethods={setDirty:!0,dispose:!0,forget:!0};function dep(c){const e=new Map,s=c&&c.subscribe;function d(nt){const o=parentEntrySlot.getValue();if(o){let ft=e.get(nt);ft||e.set(nt,ft=new Set),o.dependOn(ft),typeof s=="function"&&(maybeUnsubscribe(ft),ft.unsubscribe=s(nt))}}return d.dirty=function(o,ft){const gt=e.get(o);if(gt){const xt=ft&&hasOwnProperty$6.call(EntryMethods,ft)?ft:"setDirty";arrayFromSet(gt).forEach(St=>St[xt]()),e.delete(o),maybeUnsubscribe(gt)}},d}let defaultKeyTrie;function defaultMakeCacheKey(...c){return(defaultKeyTrie||(defaultKeyTrie=new Trie(typeof WeakMap=="function"))).lookupArray(c)}const caches=new Set;function wrap(c,{max:e=Math.pow(2,16),keyArgs:s,makeCacheKey:d=defaultMakeCacheKey,normalizeResult:nt,subscribe:o,cache:ft=StrongCache}=Object.create(null)){const gt=typeof ft=="function"?new ft(e,Ct=>Ct.dispose()):ft,xt=function(){const Ct=d.apply(null,s?s.apply(null,arguments):arguments);if(Ct===void 0)return c.apply(null,arguments);let Rt=gt.get(Ct);Rt||(gt.set(Ct,Rt=new Entry(c)),Rt.normalizeResult=nt,Rt.subscribe=o,Rt.forget=()=>gt.delete(Ct));const yt=Rt.recompute(Array.prototype.slice.call(arguments));return gt.set(Ct,Rt),caches.add(gt),parentEntrySlot.hasValue()||(caches.forEach(Ot=>Ot.clean()),caches.clear()),yt};Object.defineProperty(xt,"size",{get:()=>gt.size,configurable:!1,enumerable:!1}),Object.freeze(xt.options={max:e,keyArgs:s,makeCacheKey:d,normalizeResult:nt,subscribe:o,cache:gt});function St(Ct){const Rt=Ct&&gt.get(Ct);Rt&&Rt.setDirty()}xt.dirtyKey=St,xt.dirty=function(){St(d.apply(null,arguments))};function Tt(Ct){const Rt=Ct&&gt.get(Ct);if(Rt)return Rt.peek()}xt.peekKey=Tt,xt.peek=function(){return Tt(d.apply(null,arguments))};function At(Ct){return Ct?gt.delete(Ct):!1}return xt.forgetKey=At,xt.forget=function(){return At(d.apply(null,arguments))},xt.makeCacheKey=d,xt.getKey=s?function(){return d.apply(null,s.apply(null,arguments))}:d,Object.freeze(xt)}function identity$1(c){return c}var DocumentTransform=function(){function c(e,s){s===void 0&&(s=Object.create(null)),this.resultCache=canUseWeakSet?new WeakSet:new Set,this.transform=e,s.getCacheKey&&(this.getCacheKey=s.getCacheKey),this.cached=s.cache!==!1,this.resetCache()}return c.prototype.getCacheKey=function(e){return[e]},c.identity=function(){return new c(identity$1,{cache:!1})},c.split=function(e,s,d){return d===void 0&&(d=c.identity()),Object.assign(new c(function(nt){var o=e(nt)?s:d;return o.transformDocument(nt)},{cache:!1}),{left:s,right:d})},c.prototype.resetCache=function(){var e=this;if(this.cached){var s=new Trie(canUseWeakMap);this.performWork=wrap(c.prototype.performWork.bind(this),{makeCacheKey:function(d){var nt=e.getCacheKey(d);if(nt)return invariant$1(Array.isArray(nt),77),s.lookupArray(nt)},max:cacheSizes["documentTransform.cache"],cache:WeakCache})}},c.prototype.performWork=function(e){return checkDocument(e),this.transform(e)},c.prototype.transformDocument=function(e){if(this.resultCache.has(e))return e;var s=this.performWork(e);return this.resultCache.add(s),s},c.prototype.concat=function(e){var s=this;return Object.assign(new c(function(d){return e.transformDocument(s.transformDocument(d))},{cache:!1}),{left:this,right:e})},c}(),printCache,print$1=Object.assign(function(c){var e=printCache.get(c);return e||(e=print$2(c),printCache.set(c,e)),e},{reset:function(){printCache=new AutoCleanedWeakCache(cacheSizes.print||2e3)}});print$1.reset();globalThis.__DEV__!==!1&&registerGlobalCache("print",function(){return printCache?printCache.size:0});var isArray=Array.isArray;function isNonEmptyArray(c){return Array.isArray(c)&&c.length>0}var TYPENAME_FIELD={kind:Kind.FIELD,name:{kind:Kind.NAME,value:"__typename"}};function isEmpty(c,e){return!c||c.selectionSet.selections.every(function(s){return s.kind===Kind.FRAGMENT_SPREAD&&isEmpty(e[s.name.value],e)})}function nullIfDocIsEmpty(c){return isEmpty(getOperationDefinition(c)||getFragmentDefinition(c),createFragmentMap(getFragmentDefinitions(c)))?null:c}function getDirectiveMatcher(c){var e=new Map,s=new Map;return c.forEach(function(d){d&&(d.name?e.set(d.name,d):d.test&&s.set(d.test,d))}),function(d){var nt=e.get(d.name.value);return!nt&&s.size&&s.forEach(function(o,ft){ft(d)&&(nt=o)}),nt}}function makeInUseGetterFunction(c){var e=new Map;return function(d){d===void 0&&(d=c);var nt=e.get(d);return nt||e.set(d,nt={variables:new Set,fragmentSpreads:new Set}),nt}}function removeDirectivesFromDocument(c,e){checkDocument(e);for(var s=makeInUseGetterFunction(""),d=makeInUseGetterFunction(""),nt=function(bt){for(var Dt=0,Ft=void 0;Dt<bt.length&&(Ft=bt[Dt]);++Dt)if(!isArray(Ft)){if(Ft.kind===Kind.OPERATION_DEFINITION)return s(Ft.name&&Ft.name.value);if(Ft.kind===Kind.FRAGMENT_DEFINITION)return d(Ft.name.value)}return globalThis.__DEV__!==!1&&invariant$1.error(97),null},o=0,ft=e.definitions.length-1;ft>=0;--ft)e.definitions[ft].kind===Kind.OPERATION_DEFINITION&&++o;var gt=getDirectiveMatcher(c),xt=function(bt){return isNonEmptyArray(bt)&&bt.map(gt).some(function(Dt){return Dt&&Dt.remove})},St=new Map,Tt=!1,At={enter:function(bt){if(xt(bt.directives))return Tt=!0,null}},Ct=visit(e,{Field:At,InlineFragment:At,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(bt,Dt,Ft,Ut,Wt){var Gt=nt(Wt);Gt&&Gt.variables.add(bt.name.value)}},FragmentSpread:{enter:function(bt,Dt,Ft,Ut,Wt){if(xt(bt.directives))return Tt=!0,null;var Gt=nt(Wt);Gt&&Gt.fragmentSpreads.add(bt.name.value)}},FragmentDefinition:{enter:function(bt,Dt,Ft,Ut){St.set(JSON.stringify(Ut),bt)},leave:function(bt,Dt,Ft,Ut){var Wt=St.get(JSON.stringify(Ut));if(bt===Wt)return bt;if(o>0&&bt.selectionSet.selections.every(function(Gt){return Gt.kind===Kind.FIELD&&Gt.name.value==="__typename"}))return d(bt.name.value).removed=!0,Tt=!0,null}},Directive:{leave:function(bt){if(gt(bt))return Tt=!0,null}}});if(!Tt)return e;var Rt=function(bt){return bt.transitiveVars||(bt.transitiveVars=new Set(bt.variables),bt.removed||bt.fragmentSpreads.forEach(function(Dt){Rt(d(Dt)).transitiveVars.forEach(function(Ft){bt.transitiveVars.add(Ft)})})),bt},yt=new Set;Ct.definitions.forEach(function(bt){bt.kind===Kind.OPERATION_DEFINITION?Rt(s(bt.name&&bt.name.value)).fragmentSpreads.forEach(function(Dt){yt.add(Dt)}):bt.kind===Kind.FRAGMENT_DEFINITION&&o===0&&!d(bt.name.value).removed&&yt.add(bt.name.value)}),yt.forEach(function(bt){Rt(d(bt)).fragmentSpreads.forEach(function(Dt){yt.add(Dt)})});var Ot=function(bt){return!!(!yt.has(bt)||d(bt).removed)},Nt={enter:function(bt){if(Ot(bt.name.value))return null}};return nullIfDocIsEmpty(visit(Ct,{FragmentSpread:Nt,FragmentDefinition:Nt,OperationDefinition:{leave:function(bt){if(bt.variableDefinitions){var Dt=Rt(s(bt.name&&bt.name.value)).transitiveVars;if(Dt.size<bt.variableDefinitions.length)return __assign$1(__assign$1({},bt),{variableDefinitions:bt.variableDefinitions.filter(function(Ft){return Dt.has(Ft.variable.name.value)})})}}}}))}var addTypenameToDocument=Object.assign(function(c){return visit(c,{SelectionSet:{enter:function(e,s,d){if(!(d&&d.kind===Kind.OPERATION_DEFINITION)){var nt=e.selections;if(nt){var o=nt.some(function(gt){return isField(gt)&&(gt.name.value==="__typename"||gt.name.value.lastIndexOf("__",0)===0)});if(!o){var ft=d;if(!(isField(ft)&&ft.directives&&ft.directives.some(function(gt){return gt.name.value==="export"})))return __assign$1(__assign$1({},e),{selections:__spreadArray$1(__spreadArray$1([],nt,!0),[TYPENAME_FIELD],!1)})}}}}}})},{added:function(c){return c===TYPENAME_FIELD}});function buildQueryFromSelectionSet(c){var e=getMainDefinition(c),s=e.operation;if(s==="query")return c;var d=visit(c,{OperationDefinition:{enter:function(nt){return __assign$1(__assign$1({},nt),{operation:"query"})}}});return d}function removeClientSetsFromDocument(c){checkDocument(c);var e=removeDirectivesFromDocument([{test:function(s){return s.name.value==="client"},remove:!0}],c);return e}function addNonReactiveToNamedFragments(c){return checkDocument(c),visit(c,{FragmentSpread:function(e){var s;if(!(!((s=e.directives)===null||s===void 0)&&s.some(function(d){return d.name.value==="unmask"})))return __assign$1(__assign$1({},e),{directives:__spreadArray$1(__spreadArray$1([],e.directives||[],!0),[{kind:Kind.DIRECTIVE,name:{kind:Kind.NAME,value:"nonreactive"}}],!1)})}})}var hasOwnProperty$5=Object.prototype.hasOwnProperty;function mergeDeep(){for(var c=[],e=0;e<arguments.length;e++)c[e]=arguments[e];return mergeDeepArray(c)}function mergeDeepArray(c){var e=c[0]||{},s=c.length;if(s>1)for(var d=new DeepMerger,nt=1;nt<s;++nt)e=d.merge(e,c[nt]);return e}var defaultReconciler=function(c,e,s){return this.merge(c[s],e[s])},DeepMerger=function(){function c(e){e===void 0&&(e=defaultReconciler),this.reconciler=e,this.isObject=isNonNullObject,this.pastCopies=new Set}return c.prototype.merge=function(e,s){for(var d=this,nt=[],o=2;o<arguments.length;o++)nt[o-2]=arguments[o];return isNonNullObject(s)&&isNonNullObject(e)?(Object.keys(s).forEach(function(ft){if(hasOwnProperty$5.call(e,ft)){var gt=e[ft];if(s[ft]!==gt){var xt=d.reconciler.apply(d,__spreadArray$1([e,s,ft],nt,!1));xt!==gt&&(e=d.shallowCopyForMerge(e),e[ft]=xt)}}else e=d.shallowCopyForMerge(e),e[ft]=s[ft]}),e):s},c.prototype.shallowCopyForMerge=function(e){return isNonNullObject(e)&&(this.pastCopies.has(e)||(Array.isArray(e)?e=e.slice(0):e=__assign$1({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},c}();function _createForOfIteratorHelperLoose(c,e){var s=typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(s)return(s=s.call(c)).next.bind(s);if(Array.isArray(c)||(s=_unsupportedIterableToArray$1(c))||e&&c&&typeof c.length=="number"){s&&(c=s);var d=0;return function(){return d>=c.length?{done:!0}:{done:!1,value:c[d++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(c,e){if(c){if(typeof c=="string")return _arrayLikeToArray$1(c,e);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray$1(c,e)}}function _arrayLikeToArray$1(c,e){(e==null||e>c.length)&&(e=c.length);for(var s=0,d=new Array(e);s<e;s++)d[s]=c[s];return d}function _defineProperties$1(c,e){for(var s=0;s<e.length;s++){var d=e[s];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}function _createClass$2(c,e,s){return e&&_defineProperties$1(c.prototype,e),s&&_defineProperties$1(c,s),Object.defineProperty(c,"prototype",{writable:!1}),c}var hasSymbols=function(){return typeof Symbol=="function"},hasSymbol=function(c){return hasSymbols()&&!!Symbol[c]},getSymbol=function(c){return hasSymbol(c)?Symbol[c]:"@@"+c};hasSymbols()&&!hasSymbol("observable")&&(Symbol.observable=Symbol("observable"));var SymbolIterator=getSymbol("iterator"),SymbolObservable=getSymbol("observable"),SymbolSpecies=getSymbol("species");function getMethod(c,e){var s=c[e];if(s!=null){if(typeof s!="function")throw new TypeError(s+" is not a function");return s}}function getSpecies(c){var e=c.constructor;return e!==void 0&&(e=e[SymbolSpecies],e===null&&(e=void 0)),e!==void 0?e:Observable}function isObservable(c){return c instanceof Observable}function hostReportError(c){hostReportError.log?hostReportError.log(c):setTimeout(function(){throw c})}function enqueue(c){Promise.resolve().then(function(){try{c()}catch(e){hostReportError(e)}})}function cleanupSubscription(c){var e=c._cleanup;if(e!==void 0&&(c._cleanup=void 0,!!e))try{if(typeof e=="function")e();else{var s=getMethod(e,"unsubscribe");s&&s.call(e)}}catch(d){hostReportError(d)}}function closeSubscription(c){c._observer=void 0,c._queue=void 0,c._state="closed"}function flushSubscription(c){var e=c._queue;if(e){c._queue=void 0,c._state="ready";for(var s=0;s<e.length&&(notifySubscription(c,e[s].type,e[s].value),c._state!=="closed");++s);}}function notifySubscription(c,e,s){c._state="running";var d=c._observer;try{var nt=getMethod(d,e);switch(e){case"next":nt&&nt.call(d,s);break;case"error":if(closeSubscription(c),nt)nt.call(d,s);else throw s;break;case"complete":closeSubscription(c),nt&&nt.call(d);break}}catch(o){hostReportError(o)}c._state==="closed"?cleanupSubscription(c):c._state==="running"&&(c._state="ready")}function onNotify(c,e,s){if(c._state!=="closed"){if(c._state==="buffering"){c._queue.push({type:e,value:s});return}if(c._state!=="ready"){c._state="buffering",c._queue=[{type:e,value:s}],enqueue(function(){return flushSubscription(c)});return}notifySubscription(c,e,s)}}var Subscription=function(){function c(s,d){this._cleanup=void 0,this._observer=s,this._queue=void 0,this._state="initializing";var nt=new SubscriptionObserver(this);try{this._cleanup=d.call(void 0,nt)}catch(o){nt.error(o)}this._state==="initializing"&&(this._state="ready")}var e=c.prototype;return e.unsubscribe=function(){this._state!=="closed"&&(closeSubscription(this),cleanupSubscription(this))},_createClass$2(c,[{key:"closed",get:function(){return this._state==="closed"}}]),c}(),SubscriptionObserver=function(){function c(s){this._subscription=s}var e=c.prototype;return e.next=function(d){onNotify(this._subscription,"next",d)},e.error=function(d){onNotify(this._subscription,"error",d)},e.complete=function(){onNotify(this._subscription,"complete")},_createClass$2(c,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),c}(),Observable=function(){function c(s){if(!(this instanceof c))throw new TypeError("Observable cannot be called as a function");if(typeof s!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=s}var e=c.prototype;return e.subscribe=function(d){return(typeof d!="object"||d===null)&&(d={next:d,error:arguments[1],complete:arguments[2]}),new Subscription(d,this._subscriber)},e.forEach=function(d){var nt=this;return new Promise(function(o,ft){if(typeof d!="function"){ft(new TypeError(d+" is not a function"));return}function gt(){xt.unsubscribe(),o()}var xt=nt.subscribe({next:function(St){try{d(St,gt)}catch(Tt){ft(Tt),xt.unsubscribe()}},error:ft,complete:o})})},e.map=function(d){var nt=this;if(typeof d!="function")throw new TypeError(d+" is not a function");var o=getSpecies(this);return new o(function(ft){return nt.subscribe({next:function(gt){try{gt=d(gt)}catch(xt){return ft.error(xt)}ft.next(gt)},error:function(gt){ft.error(gt)},complete:function(){ft.complete()}})})},e.filter=function(d){var nt=this;if(typeof d!="function")throw new TypeError(d+" is not a function");var o=getSpecies(this);return new o(function(ft){return nt.subscribe({next:function(gt){try{if(!d(gt))return}catch(xt){return ft.error(xt)}ft.next(gt)},error:function(gt){ft.error(gt)},complete:function(){ft.complete()}})})},e.reduce=function(d){var nt=this;if(typeof d!="function")throw new TypeError(d+" is not a function");var o=getSpecies(this),ft=arguments.length>1,gt=!1,xt=arguments[1],St=xt;return new o(function(Tt){return nt.subscribe({next:function(At){var Ct=!gt;if(gt=!0,!Ct||ft)try{St=d(St,At)}catch(Rt){return Tt.error(Rt)}else St=At},error:function(At){Tt.error(At)},complete:function(){if(!gt&&!ft)return Tt.error(new TypeError("Cannot reduce an empty sequence"));Tt.next(St),Tt.complete()}})})},e.concat=function(){for(var d=this,nt=arguments.length,o=new Array(nt),ft=0;ft<nt;ft++)o[ft]=arguments[ft];var gt=getSpecies(this);return new gt(function(xt){var St,Tt=0;function At(Ct){St=Ct.subscribe({next:function(Rt){xt.next(Rt)},error:function(Rt){xt.error(Rt)},complete:function(){Tt===o.length?(St=void 0,xt.complete()):At(gt.from(o[Tt++]))}})}return At(d),function(){St&&(St.unsubscribe(),St=void 0)}})},e.flatMap=function(d){var nt=this;if(typeof d!="function")throw new TypeError(d+" is not a function");var o=getSpecies(this);return new o(function(ft){var gt=[],xt=nt.subscribe({next:function(Tt){if(d)try{Tt=d(Tt)}catch(Ct){return ft.error(Ct)}var At=o.from(Tt).subscribe({next:function(Ct){ft.next(Ct)},error:function(Ct){ft.error(Ct)},complete:function(){var Ct=gt.indexOf(At);Ct>=0&&gt.splice(Ct,1),St()}});gt.push(At)},error:function(Tt){ft.error(Tt)},complete:function(){St()}});function St(){xt.closed&&gt.length===0&&ft.complete()}return function(){gt.forEach(function(Tt){return Tt.unsubscribe()}),xt.unsubscribe()}})},e[SymbolObservable]=function(){return this},c.from=function(d){var nt=typeof this=="function"?this:c;if(d==null)throw new TypeError(d+" is not an object");var o=getMethod(d,SymbolObservable);if(o){var ft=o.call(d);if(Object(ft)!==ft)throw new TypeError(ft+" is not an object");return isObservable(ft)&&ft.constructor===nt?ft:new nt(function(gt){return ft.subscribe(gt)})}if(hasSymbol("iterator")&&(o=getMethod(d,SymbolIterator),o))return new nt(function(gt){enqueue(function(){if(!gt.closed){for(var xt=_createForOfIteratorHelperLoose(o.call(d)),St;!(St=xt()).done;){var Tt=St.value;if(gt.next(Tt),gt.closed)return}gt.complete()}})});if(Array.isArray(d))return new nt(function(gt){enqueue(function(){if(!gt.closed){for(var xt=0;xt<d.length;++xt)if(gt.next(d[xt]),gt.closed)return;gt.complete()}})});throw new TypeError(d+" is not observable")},c.of=function(){for(var d=arguments.length,nt=new Array(d),o=0;o<d;o++)nt[o]=arguments[o];var ft=typeof this=="function"?this:c;return new ft(function(gt){enqueue(function(){if(!gt.closed){for(var xt=0;xt<nt.length;++xt)if(gt.next(nt[xt]),gt.closed)return;gt.complete()}})})},_createClass$2(c,null,[{key:SymbolSpecies,get:function(){return this}}]),c}();hasSymbols()&&Object.defineProperty(Observable,Symbol("extensions"),{value:{symbol:SymbolObservable,hostReportError},configurable:!0});function symbolObservablePonyfill(c){var e,s=c.Symbol;if(typeof s=="function")if(s.observable)e=s.observable;else{typeof s.for=="function"?e=s.for("https://github.com/benlesh/symbol-observable"):e=s("https://github.com/benlesh/symbol-observable");try{s.observable=e}catch{}}else e="@@observable";return e}var root;typeof self<"u"?root=self:typeof window<"u"?root=window:typeof global<"u"?root=global:typeof module<"u"?root=module:root=Function("return this")();symbolObservablePonyfill(root);var prototype=Observable.prototype,fakeObsSymbol="@@observable";prototype[fakeObsSymbol]||(prototype[fakeObsSymbol]=function(){return this});function preventUnhandledRejection(c){return c.catch(function(){}),c}var toString$1=Object.prototype.toString;function cloneDeep(c){return cloneDeepHelper(c)}function cloneDeepHelper(c,e){switch(toString$1.call(c)){case"[object Array]":{if(e=e||new Map,e.has(c))return e.get(c);var s=c.slice(0);return e.set(c,s),s.forEach(function(nt,o){s[o]=cloneDeepHelper(nt,e)}),s}case"[object Object]":{if(e=e||new Map,e.has(c))return e.get(c);var d=Object.create(Object.getPrototypeOf(c));return e.set(c,d),Object.keys(c).forEach(function(nt){d[nt]=cloneDeepHelper(c[nt],e)}),d}default:return c}}function deepFreeze(c){var e=new Set([c]);return e.forEach(function(s){isNonNullObject(s)&&shallowFreeze(s)===s&&Object.getOwnPropertyNames(s).forEach(function(d){isNonNullObject(s[d])&&e.add(s[d])})}),c}function shallowFreeze(c){if(globalThis.__DEV__!==!1&&!Object.isFrozen(c))try{Object.freeze(c)}catch(e){if(e instanceof TypeError)return null;throw e}return c}function maybeDeepFreeze(c){return globalThis.__DEV__!==!1&&deepFreeze(c),c}function iterateObserversSafely(c,e,s){var d=[];c.forEach(function(nt){return nt[e]&&d.push(nt)}),d.forEach(function(nt){return nt[e](s)})}function asyncMap(c,e,s){return new Observable(function(d){var nt={then:function(xt){return new Promise(function(St){return St(xt())})}};function o(xt,St){return function(Tt){if(xt){var At=function(){return d.closed?0:xt(Tt)};nt=nt.then(At,At).then(function(Ct){return d.next(Ct)},function(Ct){return d.error(Ct)})}else d[St](Tt)}}var ft={next:o(e,"next"),error:o(s,"error"),complete:function(){nt.then(function(){return d.complete()})}},gt=c.subscribe(ft);return function(){return gt.unsubscribe()}})}function fixObservableSubclass(c){function e(s){Object.defineProperty(c,s,{value:Observable})}return canUseSymbol&&Symbol.species&&e(Symbol.species),e("@@species"),c}function isPromiseLike(c){return c&&typeof c.then=="function"}var Concast=function(c){__extends(e,c);function e(s){var d=c.call(this,function(nt){return d.addObserver(nt),function(){return d.removeObserver(nt)}})||this;return d.observers=new Set,d.promise=new Promise(function(nt,o){d.resolve=nt,d.reject=o}),d.handlers={next:function(nt){d.sub!==null&&(d.latest=["next",nt],d.notify("next",nt),iterateObserversSafely(d.observers,"next",nt))},error:function(nt){var o=d.sub;o!==null&&(o&&setTimeout(function(){return o.unsubscribe()}),d.sub=null,d.latest=["error",nt],d.reject(nt),d.notify("error",nt),iterateObserversSafely(d.observers,"error",nt))},complete:function(){var nt=d,o=nt.sub,ft=nt.sources,gt=ft===void 0?[]:ft;if(o!==null){var xt=gt.shift();xt?isPromiseLike(xt)?xt.then(function(St){return d.sub=St.subscribe(d.handlers)},d.handlers.error):d.sub=xt.subscribe(d.handlers):(o&&setTimeout(function(){return o.unsubscribe()}),d.sub=null,d.latest&&d.latest[0]==="next"?d.resolve(d.latest[1]):d.resolve(),d.notify("complete"),iterateObserversSafely(d.observers,"complete"))}}},d.nextResultListeners=new Set,d.cancel=function(nt){d.reject(nt),d.sources=[],d.handlers.error(nt)},d.promise.catch(function(nt){}),typeof s=="function"&&(s=[new Observable(s)]),isPromiseLike(s)?s.then(function(nt){return d.start(nt)},d.handlers.error):d.start(s),d}return e.prototype.start=function(s){this.sub===void 0&&(this.sources=Array.from(s),this.handlers.complete())},e.prototype.deliverLastMessage=function(s){if(this.latest){var d=this.latest[0],nt=s[d];nt&&nt.call(s,this.latest[1]),this.sub===null&&d==="next"&&s.complete&&s.complete()}},e.prototype.addObserver=function(s){this.observers.has(s)||(this.deliverLastMessage(s),this.observers.add(s))},e.prototype.removeObserver=function(s){this.observers.delete(s)&&this.observers.size<1&&this.handlers.complete()},e.prototype.notify=function(s,d){var nt=this.nextResultListeners;nt.size&&(this.nextResultListeners=new Set,nt.forEach(function(o){return o(s,d)}))},e.prototype.beforeNext=function(s){var d=!1;this.nextResultListeners.add(function(nt,o){d||(d=!0,s(nt,o))})},e}(Observable);fixObservableSubclass(Concast);function isExecutionPatchIncrementalResult(c){return"incremental"in c}function isExecutionPatchInitialResult(c){return"hasNext"in c&&"data"in c}function isExecutionPatchResult(c){return isExecutionPatchIncrementalResult(c)||isExecutionPatchInitialResult(c)}function isApolloPayloadResult(c){return isNonNullObject(c)&&"payload"in c}function mergeIncrementalData(c,e){var s=c,d=new DeepMerger;return isExecutionPatchIncrementalResult(e)&&isNonEmptyArray(e.incremental)&&e.incremental.forEach(function(nt){for(var o=nt.data,ft=nt.path,gt=ft.length-1;gt>=0;--gt){var xt=ft[gt],St=!isNaN(+xt),Tt=St?[]:{};Tt[xt]=o,o=Tt}s=d.merge(s,o)}),s}function graphQLResultHasError(c){var e=getGraphQLErrorsFromResult(c);return isNonEmptyArray(e)}function getGraphQLErrorsFromResult(c){var e=isNonEmptyArray(c.errors)?c.errors.slice(0):[];return isExecutionPatchIncrementalResult(c)&&isNonEmptyArray(c.incremental)&&c.incremental.forEach(function(s){s.errors&&e.push.apply(e,s.errors)}),e}function compact(){for(var c=[],e=0;e<arguments.length;e++)c[e]=arguments[e];var s=Object.create(null);return c.forEach(function(d){d&&Object.keys(d).forEach(function(nt){var o=d[nt];o!==void 0&&(s[nt]=o)})}),s}function mergeOptions(c,e){return compact(c,e,e.variables&&{variables:compact(__assign$1(__assign$1({},c&&c.variables),e.variables))})}function fromError(c){return new Observable(function(e){e.error(c)})}var throwServerError=function(c,e,s){var d=new Error(s);throw d.name="ServerError",d.response=c,d.statusCode=c.status,d.result=e,d};function validateOperation(c){for(var e=["query","operationName","variables","extensions","context"],s=0,d=Object.keys(c);s<d.length;s++){var nt=d[s];if(e.indexOf(nt)<0)throw newInvariantError(46,nt)}return c}function createOperation(c,e){var s=__assign$1({},c),d=function(o){typeof o=="function"?s=__assign$1(__assign$1({},s),o(s)):s=__assign$1(__assign$1({},s),o)},nt=function(){return __assign$1({},s)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:d}),Object.defineProperty(e,"getContext",{enumerable:!1,value:nt}),e}function transformOperation(c){var e={variables:c.variables||{},extensions:c.extensions||{},operationName:c.operationName,query:c.query};return e.operationName||(e.operationName=typeof e.query!="string"?getOperationName(e.query)||void 0:""),e}function filterOperationVariables(c,e){var s=__assign$1({},c),d=new Set(Object.keys(c));return visit(e,{Variable:function(nt,o,ft){ft&&ft.kind!=="VariableDefinition"&&d.delete(nt.name.value)}}),d.forEach(function(nt){delete s[nt]}),s}function passthrough(c,e){return e?e(c):Observable.of()}function toLink(c){return typeof c=="function"?new ApolloLink(c):c}function isTerminating(c){return c.request.length<=1}var ApolloLink=function(){function c(e){e&&(this.request=e)}return c.empty=function(){return new c(function(){return Observable.of()})},c.from=function(e){return e.length===0?c.empty():e.map(toLink).reduce(function(s,d){return s.concat(d)})},c.split=function(e,s,d){var nt=toLink(s),o=toLink(d||new c(passthrough)),ft;return isTerminating(nt)&&isTerminating(o)?ft=new c(function(gt){return e(gt)?nt.request(gt)||Observable.of():o.request(gt)||Observable.of()}):ft=new c(function(gt,xt){return e(gt)?nt.request(gt,xt)||Observable.of():o.request(gt,xt)||Observable.of()}),Object.assign(ft,{left:nt,right:o})},c.execute=function(e,s){return e.request(createOperation(s.context,transformOperation(validateOperation(s))))||Observable.of()},c.concat=function(e,s){var d=toLink(e);if(isTerminating(d))return globalThis.__DEV__!==!1&&invariant$1.warn(38,d),d;var nt=toLink(s),o;return isTerminating(nt)?o=new c(function(ft){return d.request(ft,function(gt){return nt.request(gt)||Observable.of()})||Observable.of()}):o=new c(function(ft,gt){return d.request(ft,function(xt){return nt.request(xt,gt)||Observable.of()})||Observable.of()}),Object.assign(o,{left:d,right:nt})},c.prototype.split=function(e,s,d){return this.concat(c.split(e,s,d||new c(passthrough)))},c.prototype.concat=function(e){return c.concat(this,e)},c.prototype.request=function(e,s){throw newInvariantError(39)},c.prototype.onError=function(e,s){if(s&&s.error)return s.error(e),!1;throw e},c.prototype.setOnError=function(e){return this.onError=e,this},c}(),execute=ApolloLink.execute;function asyncIterator(c){var e,s=c[Symbol.asyncIterator]();return e={next:function(){return s.next()}},e[Symbol.asyncIterator]=function(){return this},e}function nodeStreamIterator(c){var e=null,s=null,d=!1,nt=[],o=[];function ft(At){if(!s){if(o.length){var Ct=o.shift();if(Array.isArray(Ct)&&Ct[0])return Ct[0]({value:At,done:!1})}nt.push(At)}}function gt(At){s=At;var Ct=o.slice();Ct.forEach(function(Rt){Rt[1](At)}),!e||e()}function xt(){d=!0;var At=o.slice();At.forEach(function(Ct){Ct[0]({value:void 0,done:!0})}),!e||e()}e=function(){e=null,c.removeListener("data",ft),c.removeListener("error",gt),c.removeListener("end",xt),c.removeListener("finish",xt),c.removeListener("close",xt)},c.on("data",ft),c.on("error",gt),c.on("end",xt),c.on("finish",xt),c.on("close",xt);function St(){return new Promise(function(At,Ct){if(s)return Ct(s);if(nt.length)return At({value:nt.shift(),done:!1});if(d)return At({value:void 0,done:!0});o.push([At,Ct])})}var Tt={next:function(){return St()}};return canUseAsyncIteratorSymbol&&(Tt[Symbol.asyncIterator]=function(){return this}),Tt}function promiseIterator(c){var e=!1,s={next:function(){return e?Promise.resolve({value:void 0,done:!0}):(e=!0,new Promise(function(d,nt){c.then(function(o){d({value:o,done:!1})}).catch(nt)}))}};return canUseAsyncIteratorSymbol&&(s[Symbol.asyncIterator]=function(){return this}),s}function readerIterator(c){var e={next:function(){return c.read()}};return canUseAsyncIteratorSymbol&&(e[Symbol.asyncIterator]=function(){return this}),e}function isNodeResponse(c){return!!c.body}function isReadableStream(c){return!!c.getReader}function isAsyncIterableIterator(c){return!!(canUseAsyncIteratorSymbol&&c[Symbol.asyncIterator])}function isStreamableBlob(c){return!!c.stream}function isBlob(c){return!!c.arrayBuffer}function isNodeReadableStream(c){return!!c.pipe}function responseIterator(c){var e=c;if(isNodeResponse(c)&&(e=c.body),isAsyncIterableIterator(e))return asyncIterator(e);if(isReadableStream(e))return readerIterator(e.getReader());if(isStreamableBlob(e))return readerIterator(e.stream().getReader());if(isBlob(e))return promiseIterator(e.arrayBuffer());if(isNodeReadableStream(e))return nodeStreamIterator(e);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var PROTOCOL_ERRORS_SYMBOL=Symbol();function graphQLResultHasProtocolErrors(c){return c.extensions?Array.isArray(c.extensions[PROTOCOL_ERRORS_SYMBOL]):!1}function isApolloError(c){return c.hasOwnProperty("graphQLErrors")}var generateErrorMessage=function(c){var e=__spreadArray$1(__spreadArray$1(__spreadArray$1([],c.graphQLErrors,!0),c.clientErrors,!0),c.protocolErrors,!0);return c.networkError&&e.push(c.networkError),e.map(function(s){return isNonNullObject(s)&&s.message||"Error message not found."}).join(`
`)},ApolloError=function(c){__extends(e,c);function e(s){var d=s.graphQLErrors,nt=s.protocolErrors,o=s.clientErrors,ft=s.networkError,gt=s.errorMessage,xt=s.extraInfo,St=c.call(this,gt)||this;return St.name="ApolloError",St.graphQLErrors=d||[],St.protocolErrors=nt||[],St.clientErrors=o||[],St.networkError=ft||null,St.message=gt||generateErrorMessage(St),St.extraInfo=xt,St.cause=__spreadArray$1(__spreadArray$1(__spreadArray$1([ft],d||[],!0),nt||[],!0),o||[],!0).find(function(Tt){return!!Tt})||null,St.__proto__=e.prototype,St}return e}(Error),hasOwnProperty$4=Object.prototype.hasOwnProperty;function readMultipartBody(c,e){return __awaiter(this,void 0,void 0,function(){var s,d,nt,o,ft,gt,xt,St,Tt,At,Ct,Rt,yt,Ot,Nt,bt,Dt,Ft,Ut,Wt,Gt,Xt,Yt,Kt;return __generator(this,function(jt){switch(jt.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");s=new TextDecoder("utf-8"),d=(Kt=c.headers)===null||Kt===void 0?void 0:Kt.get("content-type"),nt="boundary=",o=d!=null&&d.includes(nt)?d==null?void 0:d.substring((d==null?void 0:d.indexOf(nt))+nt.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",ft=`\r
--`.concat(o),gt="",xt=responseIterator(c),St=!0,jt.label=1;case 1:return St?[4,xt.next()]:[3,3];case 2:for(Tt=jt.sent(),At=Tt.value,Ct=Tt.done,Rt=typeof At=="string"?At:s.decode(At),yt=gt.length-ft.length+1,St=!Ct,gt+=Rt,Ot=gt.indexOf(ft,yt);Ot>-1;){if(Nt=void 0,Xt=[gt.slice(0,Ot),gt.slice(Ot+ft.length)],Nt=Xt[0],gt=Xt[1],bt=Nt.indexOf(`\r
\r
`),Dt=parseHeaders(Nt.slice(0,bt)),Ft=Dt["content-type"],Ft&&Ft.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");if(Ut=Nt.slice(bt),Ut){if(Wt=parseJsonBody(c,Ut),Object.keys(Wt).length>1||"data"in Wt||"incremental"in Wt||"errors"in Wt||"payload"in Wt)if(isApolloPayloadResult(Wt)){if(Gt={},"payload"in Wt){if(Object.keys(Wt).length===1&&Wt.payload===null)return[2];Gt=__assign$1({},Wt.payload)}"errors"in Wt&&(Gt=__assign$1(__assign$1({},Gt),{extensions:__assign$1(__assign$1({},"extensions"in Gt?Gt.extensions:null),(Yt={},Yt[PROTOCOL_ERRORS_SYMBOL]=Wt.errors,Yt))})),e(Gt)}else e(Wt);else if(Object.keys(Wt).length===1&&"hasNext"in Wt&&!Wt.hasNext)return[2]}Ot=gt.indexOf(ft)}return[3,1];case 3:return[2]}})})}function parseHeaders(c){var e={};return c.split(`
`).forEach(function(s){var d=s.indexOf(":");if(d>-1){var nt=s.slice(0,d).trim().toLowerCase(),o=s.slice(d+1).trim();e[nt]=o}}),e}function parseJsonBody(c,e){if(c.status>=300){var s=function(){try{return JSON.parse(e)}catch{return e}};throwServerError(c,s(),"Response not successful: Received status code ".concat(c.status))}try{return JSON.parse(e)}catch(nt){var d=nt;throw d.name="ServerParseError",d.response=c,d.statusCode=c.status,d.bodyText=e,d}}function handleError(c,e){c.result&&c.result.errors&&c.result.data&&e.next(c.result),e.error(c)}function parseAndCheckHttpResponse(c){return function(e){return e.text().then(function(s){return parseJsonBody(e,s)}).then(function(s){return!Array.isArray(s)&&!hasOwnProperty$4.call(s,"data")&&!hasOwnProperty$4.call(s,"errors")&&throwServerError(e,s,"Server response was missing for query '".concat(Array.isArray(c)?c.map(function(d){return d.operationName}):c.operationName,"'.")),s})}}var serializeFetchParameter=function(c,e){var s;try{s=JSON.stringify(c)}catch(nt){var d=newInvariantError(42,e,nt.message);throw d.parseError=nt,d}return s},defaultHttpOptions={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},defaultHeaders={accept:"*/*","content-type":"application/json"},defaultOptions={method:"POST"},fallbackHttpConfig={http:defaultHttpOptions,headers:defaultHeaders,options:defaultOptions},defaultPrinter=function(c,e){return e(c)};function selectHttpOptionsAndBodyInternal(c,e){for(var s=[],d=2;d<arguments.length;d++)s[d-2]=arguments[d];var nt={},o={};s.forEach(function(At){nt=__assign$1(__assign$1(__assign$1({},nt),At.options),{headers:__assign$1(__assign$1({},nt.headers),At.headers)}),At.credentials&&(nt.credentials=At.credentials),o=__assign$1(__assign$1({},o),At.http)}),nt.headers&&(nt.headers=removeDuplicateHeaders(nt.headers,o.preserveHeaderCase));var ft=c.operationName,gt=c.extensions,xt=c.variables,St=c.query,Tt={operationName:ft,variables:xt};return o.includeExtensions&&(Tt.extensions=gt),o.includeQuery&&(Tt.query=e(St,print$1)),{options:nt,body:Tt}}function removeDuplicateHeaders(c,e){if(!e){var s={};return Object.keys(Object(c)).forEach(function(o){s[o.toLowerCase()]=c[o]}),s}var d={};Object.keys(Object(c)).forEach(function(o){d[o.toLowerCase()]={originalName:o,value:c[o]}});var nt={};return Object.keys(d).forEach(function(o){nt[d[o].originalName]=d[o].value}),nt}var checkFetcher=function(c){if(!c&&typeof fetch>"u")throw newInvariantError(40)},selectURI=function(c,e){var s=c.getContext(),d=s.uri;return d||(typeof e=="function"?e(c):e||"/graphql")};function rewriteURIForGET(c,e){var s=[],d=function(At,Ct){s.push("".concat(At,"=").concat(encodeURIComponent(Ct)))};if("query"in e&&d("query",e.query),e.operationName&&d("operationName",e.operationName),e.variables){var nt=void 0;try{nt=serializeFetchParameter(e.variables,"Variables map")}catch(At){return{parseError:At}}d("variables",nt)}if(e.extensions){var o=void 0;try{o=serializeFetchParameter(e.extensions,"Extensions map")}catch(At){return{parseError:At}}d("extensions",o)}var ft="",gt=c,xt=c.indexOf("#");xt!==-1&&(ft=c.substr(xt),gt=c.substr(0,xt));var St=gt.indexOf("?")===-1?"?":"&",Tt=gt+St+s.join("&")+ft;return{newURI:Tt}}var backupFetch=maybe$1(function(){return fetch}),createHttpLink=function(c){c===void 0&&(c={});var e=c.uri,s=e===void 0?"/graphql":e,d=c.fetch,nt=c.print,o=nt===void 0?defaultPrinter:nt,ft=c.includeExtensions,gt=c.preserveHeaderCase,xt=c.useGETForQueries,St=c.includeUnusedVariables,Tt=St===void 0?!1:St,At=__rest(c,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);globalThis.__DEV__!==!1&&checkFetcher(d||backupFetch);var Ct={http:{includeExtensions:ft,preserveHeaderCase:gt},options:At.fetchOptions,credentials:At.credentials,headers:At.headers};return new ApolloLink(function(Rt){var yt=selectURI(Rt,s),Ot=Rt.getContext(),Nt={};if(Ot.clientAwareness){var bt=Ot.clientAwareness,Dt=bt.name,Ft=bt.version;Dt&&(Nt["apollographql-client-name"]=Dt),Ft&&(Nt["apollographql-client-version"]=Ft)}var Ut=__assign$1(__assign$1({},Nt),Ot.headers),Wt={http:Ot.http,options:Ot.fetchOptions,credentials:Ot.credentials,headers:Ut};if(hasDirectives(["client"],Rt.query)){var Gt=removeClientSetsFromDocument(Rt.query);if(!Gt)return fromError(new Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));Rt.query=Gt}var Xt=selectHttpOptionsAndBodyInternal(Rt,o,fallbackHttpConfig,Ct,Wt),Yt=Xt.options,Kt=Xt.body;Kt.variables&&!Tt&&(Kt.variables=filterOperationVariables(Kt.variables,Rt.query));var jt;!Yt.signal&&typeof AbortController<"u"&&(jt=new AbortController,Yt.signal=jt.signal);var Jt=function(un){return un.kind==="OperationDefinition"&&un.operation==="mutation"},fn=function(un){return un.kind==="OperationDefinition"&&un.operation==="subscription"},sn=fn(getMainDefinition(Rt.query)),wn=hasDirectives(["defer"],Rt.query);if(xt&&!Rt.query.definitions.some(Jt)&&(Yt.method="GET"),wn||sn){Yt.headers=Yt.headers||{};var Mn="multipart/mixed;";sn&&wn&&globalThis.__DEV__!==!1&&invariant$1.warn(41),sn?Mn+="boundary=graphql;subscriptionSpec=1.0,application/json":wn&&(Mn+="deferSpec=20220824,application/json"),Yt.headers.accept=Mn}if(Yt.method==="GET"){var Tn=rewriteURIForGET(yt,Kt),kn=Tn.newURI,rn=Tn.parseError;if(rn)return fromError(rn);yt=kn}else try{Yt.body=serializeFetchParameter(Kt,"Payload")}catch(un){return fromError(un)}return new Observable(function(un){var pn=d||maybe$1(function(){return fetch})||backupFetch,Rn=un.next.bind(un);return pn(yt,Yt).then(function(zn){var ir;Rt.setContext({response:zn});var An=(ir=zn.headers)===null||ir===void 0?void 0:ir.get("content-type");return An!==null&&/^multipart\/mixed/i.test(An)?readMultipartBody(zn,Rn):parseAndCheckHttpResponse(Rt)(zn).then(Rn)}).then(function(){jt=void 0,un.complete()}).catch(function(zn){jt=void 0,handleError(zn,un)}),function(){jt&&jt.abort()}})})},HttpLink=function(c){__extends(e,c);function e(s){s===void 0&&(s={});var d=c.call(this,createHttpLink(s).request)||this;return d.options=s,d}return e}(ApolloLink);const{toString,hasOwnProperty:hasOwnProperty$3}=Object.prototype,fnToStr=Function.prototype.toString,previousComparisons=new Map;function equal(c,e){try{return check(c,e)}finally{previousComparisons.clear()}}function check(c,e){if(c===e)return!0;const s=toString.call(c),d=toString.call(e);if(s!==d)return!1;switch(s){case"[object Array]":if(c.length!==e.length)return!1;case"[object Object]":{if(previouslyCompared(c,e))return!0;const nt=definedKeys(c),o=definedKeys(e),ft=nt.length;if(ft!==o.length)return!1;for(let gt=0;gt<ft;++gt)if(!hasOwnProperty$3.call(e,nt[gt]))return!1;for(let gt=0;gt<ft;++gt){const xt=nt[gt];if(!check(c[xt],e[xt]))return!1}return!0}case"[object Error]":return c.name===e.name&&c.message===e.message;case"[object Number]":if(c!==c)return e!==e;case"[object Boolean]":case"[object Date]":return+c==+e;case"[object RegExp]":case"[object String]":return c==`${e}`;case"[object Map]":case"[object Set]":{if(c.size!==e.size)return!1;if(previouslyCompared(c,e))return!0;const nt=c.entries(),o=s==="[object Map]";for(;;){const ft=nt.next();if(ft.done)break;const[gt,xt]=ft.value;if(!e.has(gt)||o&&!check(xt,e.get(gt)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":c=new Uint8Array(c),e=new Uint8Array(e);case"[object DataView]":{let nt=c.byteLength;if(nt===e.byteLength)for(;nt--&&c[nt]===e[nt];);return nt===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const nt=fnToStr.call(c);return nt!==fnToStr.call(e)?!1:!endsWith(nt,nativeCodeSuffix)}}return!1}function definedKeys(c){return Object.keys(c).filter(isDefinedKey,c)}function isDefinedKey(c){return this[c]!==void 0}const nativeCodeSuffix="{ [native code] }";function endsWith(c,e){const s=c.length-e.length;return s>=0&&c.indexOf(e,s)===s}function previouslyCompared(c,e){let s=previousComparisons.get(c);if(s){if(s.has(e))return!0}else previousComparisons.set(c,s=new Set);return s.add(e),!1}function equalByQuery(c,e,s,d){var nt=e.data,o=__rest(e,["data"]),ft=s.data,gt=__rest(s,["data"]);return equal(o,gt)&&equalBySelectionSet(getMainDefinition(c).selectionSet,nt,ft,{fragmentMap:createFragmentMap(getFragmentDefinitions(c)),variables:d})}function equalBySelectionSet(c,e,s,d){if(e===s)return!0;var nt=new Set;return c.selections.every(function(o){if(nt.has(o)||(nt.add(o),!shouldInclude(o,d.variables))||selectionHasNonreactiveDirective(o))return!0;if(isField(o)){var ft=resultKeyNameFromField(o),gt=e&&e[ft],xt=s&&s[ft],St=o.selectionSet;if(!St)return equal(gt,xt);var Tt=Array.isArray(gt),At=Array.isArray(xt);if(Tt!==At)return!1;if(Tt&&At){var Ct=gt.length;if(xt.length!==Ct)return!1;for(var Rt=0;Rt<Ct;++Rt)if(!equalBySelectionSet(St,gt[Rt],xt[Rt],d))return!1;return!0}return equalBySelectionSet(St,gt,xt,d)}else{var yt=getFragmentFromSelection(o,d.fragmentMap);if(yt)return selectionHasNonreactiveDirective(yt)?!0:equalBySelectionSet(yt.selectionSet,e,s,d)}})}function selectionHasNonreactiveDirective(c){return!!c.directives&&c.directives.some(directiveIsNonreactive)}function directiveIsNonreactive(c){return c.name.value==="nonreactive"}var MapImpl=canUseWeakMap?WeakMap:Map,SetImpl=canUseWeakSet?WeakSet:Set,disableWarningsSlot=new Slot,issuedWarning=!1;function warnOnImproperCacheImplementation(){issuedWarning||(issuedWarning=!0,globalThis.__DEV__!==!1&&invariant$1.warn(52))}function maskDefinition(c,e,s){return disableWarningsSlot.withValue(!0,function(){var d=maskSelectionSet(c,e,s,!1);return Object.isFrozen(c)&&maybeDeepFreeze(d),d})}function getMutableTarget(c,e){if(e.has(c))return e.get(c);var s=Array.isArray(c)?[]:Object.create(null);return e.set(c,s),s}function maskSelectionSet(c,e,s,d,nt){var o,ft=s.knownChanged,gt=getMutableTarget(c,s.mutableTargets);if(Array.isArray(c)){for(var xt=0,St=Array.from(c.entries());xt<St.length;xt++){var Tt=St[xt],At=Tt[0],Ct=Tt[1];if(Ct===null){gt[At]=null;continue}var Rt=maskSelectionSet(Ct,e,s,d,globalThis.__DEV__!==!1?"".concat(nt||"","[").concat(At,"]"):void 0);ft.has(Rt)&&ft.add(gt),gt[At]=Rt}return ft.has(gt)?gt:c}for(var yt=0,Ot=e.selections;yt<Ot.length;yt++){var Nt=Ot[yt],bt=void 0;if(d&&ft.add(gt),Nt.kind===Kind.FIELD){var Dt=resultKeyNameFromField(Nt),Ft=Nt.selectionSet;if(bt=gt[Dt]||c[Dt],bt===void 0)continue;if(Ft&&bt!==null){var Rt=maskSelectionSet(c[Dt],Ft,s,d,globalThis.__DEV__!==!1?"".concat(nt||"",".").concat(Dt):void 0);ft.has(Rt)&&(bt=Rt)}globalThis.__DEV__===!1&&(gt[Dt]=bt),globalThis.__DEV__!==!1&&(d&&Dt!=="__typename"&&!(!((o=Object.getOwnPropertyDescriptor(gt,Dt))===null||o===void 0)&&o.value)?Object.defineProperty(gt,Dt,getAccessorWarningDescriptor(Dt,bt,nt||"",s.operationName,s.operationType)):(delete gt[Dt],gt[Dt]=bt))}if(Nt.kind===Kind.INLINE_FRAGMENT&&(!Nt.typeCondition||s.cache.fragmentMatches(Nt,c.__typename))&&(bt=maskSelectionSet(c,Nt.selectionSet,s,d,nt)),Nt.kind===Kind.FRAGMENT_SPREAD){var Ut=Nt.name.value,Wt=s.fragmentMap[Ut]||(s.fragmentMap[Ut]=s.cache.lookupFragment(Ut));invariant$1(Wt,47,Ut);var Gt=getFragmentMaskMode(Nt);Gt!=="mask"&&(bt=maskSelectionSet(c,Wt.selectionSet,s,Gt==="migrate",nt))}ft.has(bt)&&ft.add(gt)}return"__typename"in c&&!("__typename"in gt)&&(gt.__typename=c.__typename),Object.keys(gt).length!==Object.keys(c).length&&ft.add(gt),ft.has(gt)?gt:c}function getAccessorWarningDescriptor(c,e,s,d,nt){var o=function(){return disableWarningsSlot.getValue()||(globalThis.__DEV__!==!1&&invariant$1.warn(48,d?"".concat(nt," '").concat(d,"'"):"anonymous ".concat(nt),"".concat(s,".").concat(c).replace(/^\./,"")),o=function(){return e}),e};return{get:function(){return o()},set:function(ft){o=function(){return ft}},enumerable:!0,configurable:!0}}function maskFragment(c,e,s,d){if(!s.fragmentMatches)return globalThis.__DEV__!==!1&&warnOnImproperCacheImplementation(),c;var nt=e.definitions.filter(function(ft){return ft.kind===Kind.FRAGMENT_DEFINITION});typeof d>"u"&&(invariant$1(nt.length===1,49,nt.length),d=nt[0].name.value);var o=nt.find(function(ft){return ft.name.value===d});return invariant$1(!!o,50,d),c==null||equal(c,{})?c:maskDefinition(c,o.selectionSet,{operationType:"fragment",operationName:o.name.value,fragmentMap:createFragmentMap(getFragmentDefinitions(e)),cache:s,mutableTargets:new MapImpl,knownChanged:new SetImpl})}function maskOperation(c,e,s){var d;if(!s.fragmentMatches)return globalThis.__DEV__!==!1&&warnOnImproperCacheImplementation(),c;var nt=getOperationDefinition(e);return invariant$1(nt,51),c==null?c:maskDefinition(c,nt.selectionSet,{operationType:nt.operation,operationName:(d=nt.name)===null||d===void 0?void 0:d.value,fragmentMap:createFragmentMap(getFragmentDefinitions(e)),cache:s,mutableTargets:new MapImpl,knownChanged:new SetImpl})}var ApolloCache=function(){function c(){this.assumeImmutableResults=!1,this.getFragmentDoc=wrap(getFragmentQueryDocument,{max:cacheSizes["cache.fragmentQueryDocuments"]||1e3,cache:WeakCache})}return c.prototype.lookupFragment=function(e){return null},c.prototype.batch=function(e){var s=this,d=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0,nt;return this.performTransaction(function(){return nt=e.update(s)},d),nt},c.prototype.recordOptimisticTransaction=function(e,s){this.performTransaction(e,s)},c.prototype.transformDocument=function(e){return e},c.prototype.transformForLink=function(e){return e},c.prototype.identify=function(e){},c.prototype.gc=function(){return[]},c.prototype.modify=function(e){return!1},c.prototype.readQuery=function(e,s){return s===void 0&&(s=!!e.optimistic),this.read(__assign$1(__assign$1({},e),{rootId:e.id||"ROOT_QUERY",optimistic:s}))},c.prototype.watchFragment=function(e){var s=this,d=e.fragment,nt=e.fragmentName,o=e.from,ft=e.optimistic,gt=ft===void 0?!0:ft,xt=__rest(e,["fragment","fragmentName","from","optimistic"]),St=this.getFragmentDoc(d,nt),Tt=typeof o>"u"||typeof o=="string"?o:this.identify(o),At=!!e[Symbol.for("apollo.dataMasking")];if(globalThis.__DEV__!==!1){var Ct=nt||getFragmentDefinition(d).name.value;Tt||globalThis.__DEV__!==!1&&invariant$1.warn(1,Ct)}var Rt=__assign$1(__assign$1({},xt),{returnPartialData:!0,id:Tt,query:St,optimistic:gt}),yt;return new Observable(function(Ot){return s.watch(__assign$1(__assign$1({},Rt),{immediate:!0,callback:function(Nt){var bt=At?maskFragment(Nt.result,d,s,nt):Nt.result;if(!(yt&&equalByQuery(St,{data:yt.result},{data:bt},e.variables))){var Dt={data:bt,complete:!!Nt.complete};Nt.missing&&(Dt.missing=mergeDeepArray(Nt.missing.map(function(Ft){return Ft.missing}))),yt=__assign$1(__assign$1({},Nt),{result:bt}),Ot.next(Dt)}}}))})},c.prototype.readFragment=function(e,s){return s===void 0&&(s=!!e.optimistic),this.read(__assign$1(__assign$1({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:s}))},c.prototype.writeQuery=function(e){var s=e.id,d=e.data,nt=__rest(e,["id","data"]);return this.write(Object.assign(nt,{dataId:s||"ROOT_QUERY",result:d}))},c.prototype.writeFragment=function(e){var s=e.id,d=e.data,nt=e.fragment,o=e.fragmentName,ft=__rest(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(ft,{query:this.getFragmentDoc(nt,o),dataId:s,result:d}))},c.prototype.updateQuery=function(e,s){return this.batch({update:function(d){var nt=d.readQuery(e),o=s(nt);return o==null?nt:(d.writeQuery(__assign$1(__assign$1({},e),{data:o})),o)}})},c.prototype.updateFragment=function(e,s){return this.batch({update:function(d){var nt=d.readFragment(e),o=s(nt);return o==null?nt:(d.writeFragment(__assign$1(__assign$1({},e),{data:o})),o)}})},c}();globalThis.__DEV__!==!1&&(ApolloCache.prototype.getMemoryInternals=getApolloCacheMemoryInternals);var MissingFieldError=function(c){__extends(e,c);function e(s,d,nt,o){var ft,gt=c.call(this,s)||this;if(gt.message=s,gt.path=d,gt.query=nt,gt.variables=o,Array.isArray(gt.path)){gt.missing=gt.message;for(var xt=gt.path.length-1;xt>=0;--xt)gt.missing=(ft={},ft[gt.path[xt]]=gt.missing,ft)}else gt.missing=gt.path;return gt.__proto__=e.prototype,gt}return e}(Error),hasOwn=Object.prototype.hasOwnProperty;function isNullish(c){return c==null}function defaultDataIdFromObject(c,e){var s=c.__typename,d=c.id,nt=c._id;if(typeof s=="string"&&(e&&(e.keyObject=isNullish(d)?isNullish(nt)?void 0:{_id:nt}:{id:d}),isNullish(d)&&!isNullish(nt)&&(d=nt),!isNullish(d)))return"".concat(s,":").concat(typeof d=="number"||typeof d=="string"?d:JSON.stringify(d))}var defaultConfig={dataIdFromObject:defaultDataIdFromObject,addTypename:!0,resultCaching:!0,canonizeResults:!1};function normalizeConfig(c){return compact(defaultConfig,c)}function shouldCanonizeResults(c){var e=c.canonizeResults;return e===void 0?defaultConfig.canonizeResults:e}function getTypenameFromStoreObject(c,e){return isReference(e)?c.get(e.__ref,"__typename"):e&&e.__typename}var TypeOrFieldNameRegExp=/^[_a-z][_0-9a-z]*/i;function fieldNameFromStoreName(c){var e=c.match(TypeOrFieldNameRegExp);return e?e[0]:c}function selectionSetMatchesResult(c,e,s){return isNonNullObject(e)?isArray(e)?e.every(function(d){return selectionSetMatchesResult(c,d,s)}):c.selections.every(function(d){if(isField(d)&&shouldInclude(d,s)){var nt=resultKeyNameFromField(d);return hasOwn.call(e,nt)&&(!d.selectionSet||selectionSetMatchesResult(d.selectionSet,e[nt],s))}return!0}):!1}function storeValueIsStoreObject(c){return isNonNullObject(c)&&!isReference(c)&&!isArray(c)}function makeProcessedFieldsMerger(){return new DeepMerger}function extractFragmentContext(c,e){var s=createFragmentMap(getFragmentDefinitions(c));return{fragmentMap:s,lookupFragment:function(d){var nt=s[d];return!nt&&e&&(nt=e.lookup(d)),nt||null}}}var DELETE=Object.create(null),delModifier=function(){return DELETE},INVALIDATE=Object.create(null),EntityStore=function(){function c(e,s){var d=this;this.policies=e,this.group=s,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(nt,o){return maybeDeepFreeze(isReference(nt)?d.get(nt.__ref,o):nt&&nt[o])},this.canRead=function(nt){return isReference(nt)?d.has(nt.__ref):typeof nt=="object"},this.toReference=function(nt,o){if(typeof nt=="string")return makeReference(nt);if(isReference(nt))return nt;var ft=d.policies.identify(nt)[0];if(ft){var gt=makeReference(ft);return o&&d.merge(ft,nt),gt}}}return c.prototype.toObject=function(){return __assign$1({},this.data)},c.prototype.has=function(e){return this.lookup(e,!0)!==void 0},c.prototype.get=function(e,s){if(this.group.depend(e,s),hasOwn.call(this.data,e)){var d=this.data[e];if(d&&hasOwn.call(d,s))return d[s]}if(s==="__typename"&&hasOwn.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof Layer)return this.parent.get(e,s)},c.prototype.lookup=function(e,s){if(s&&this.group.depend(e,"__exists"),hasOwn.call(this.data,e))return this.data[e];if(this instanceof Layer)return this.parent.lookup(e,s);if(this.policies.rootTypenamesById[e])return Object.create(null)},c.prototype.merge=function(e,s){var d=this,nt;isReference(e)&&(e=e.__ref),isReference(s)&&(s=s.__ref);var o=typeof e=="string"?this.lookup(nt=e):e,ft=typeof s=="string"?this.lookup(nt=s):s;if(ft){invariant$1(typeof nt=="string",2);var gt=new DeepMerger(storeObjectReconciler).merge(o,ft);if(this.data[nt]=gt,gt!==o&&(delete this.refs[nt],this.group.caching)){var xt=Object.create(null);o||(xt.__exists=1),Object.keys(ft).forEach(function(St){if(!o||o[St]!==gt[St]){xt[St]=1;var Tt=fieldNameFromStoreName(St);Tt!==St&&!d.policies.hasKeyArgs(gt.__typename,Tt)&&(xt[Tt]=1),gt[St]===void 0&&!(d instanceof Layer)&&delete gt[St]}}),xt.__typename&&!(o&&o.__typename)&&this.policies.rootTypenamesById[nt]===gt.__typename&&delete xt.__typename,Object.keys(xt).forEach(function(St){return d.group.dirty(nt,St)})}}},c.prototype.modify=function(e,s){var d=this,nt=this.lookup(e);if(nt){var o=Object.create(null),ft=!1,gt=!0,xt={DELETE,INVALIDATE,isReference,toReference:this.toReference,canRead:this.canRead,readField:function(St,Tt){return d.policies.readField(typeof St=="string"?{fieldName:St,from:Tt||makeReference(e)}:St,{store:d})}};if(Object.keys(nt).forEach(function(St){var Tt=fieldNameFromStoreName(St),At=nt[St];if(At!==void 0){var Ct=typeof s=="function"?s:s[St]||s[Tt];if(Ct){var Rt=Ct===delModifier?DELETE:Ct(maybeDeepFreeze(At),__assign$1(__assign$1({},xt),{fieldName:Tt,storeFieldName:St,storage:d.getStorage(e,St)}));if(Rt===INVALIDATE)d.group.dirty(e,St);else if(Rt===DELETE&&(Rt=void 0),Rt!==At&&(o[St]=Rt,ft=!0,At=Rt,globalThis.__DEV__!==!1)){var yt=function(Wt){if(d.lookup(Wt.__ref)===void 0)return globalThis.__DEV__!==!1&&invariant$1.warn(3,Wt),!0};if(isReference(Rt))yt(Rt);else if(Array.isArray(Rt))for(var Ot=!1,Nt=void 0,bt=0,Dt=Rt;bt<Dt.length;bt++){var Ft=Dt[bt];if(isReference(Ft)){if(Ot=!0,yt(Ft))break}else if(typeof Ft=="object"&&Ft){var Ut=d.policies.identify(Ft)[0];Ut&&(Nt=Ft)}if(Ot&&Nt!==void 0){globalThis.__DEV__!==!1&&invariant$1.warn(4,Nt);break}}}}At!==void 0&&(gt=!1)}}),ft)return this.merge(e,o),gt&&(this instanceof Layer?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},c.prototype.delete=function(e,s,d){var nt,o=this.lookup(e);if(o){var ft=this.getFieldValue(o,"__typename"),gt=s&&d?this.policies.getStoreFieldName({typename:ft,fieldName:s,args:d}):s;return this.modify(e,gt?(nt={},nt[gt]=delModifier,nt):delModifier)}return!1},c.prototype.evict=function(e,s){var d=!1;return e.id&&(hasOwn.call(this.data,e.id)&&(d=this.delete(e.id,e.fieldName,e.args)),this instanceof Layer&&this!==s&&(d=this.parent.evict(e,s)||d),(e.fieldName||d)&&this.group.dirty(e.id,e.fieldName||"__exists")),d},c.prototype.clear=function(){this.replace(null)},c.prototype.extract=function(){var e=this,s=this.toObject(),d=[];return this.getRootIdSet().forEach(function(nt){hasOwn.call(e.policies.rootTypenamesById,nt)||d.push(nt)}),d.length&&(s.__META={extraRootIds:d.sort()}),s},c.prototype.replace=function(e){var s=this;if(Object.keys(this.data).forEach(function(o){e&&hasOwn.call(e,o)||s.delete(o)}),e){var d=e.__META,nt=__rest(e,["__META"]);Object.keys(nt).forEach(function(o){s.merge(o,nt[o])}),d&&d.extraRootIds.forEach(this.retain,this)}},c.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},c.prototype.release=function(e){if(this.rootIds[e]>0){var s=--this.rootIds[e];return s||delete this.rootIds[e],s}return 0},c.prototype.getRootIdSet=function(e){return e===void 0&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof Layer?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},c.prototype.gc=function(){var e=this,s=this.getRootIdSet(),d=this.toObject();s.forEach(function(ft){hasOwn.call(d,ft)&&(Object.keys(e.findChildRefIds(ft)).forEach(s.add,s),delete d[ft])});var nt=Object.keys(d);if(nt.length){for(var o=this;o instanceof Layer;)o=o.parent;nt.forEach(function(ft){return o.delete(ft)})}return nt},c.prototype.findChildRefIds=function(e){if(!hasOwn.call(this.refs,e)){var s=this.refs[e]=Object.create(null),d=this.data[e];if(!d)return s;var nt=new Set([d]);nt.forEach(function(o){isReference(o)&&(s[o.__ref]=!0),isNonNullObject(o)&&Object.keys(o).forEach(function(ft){var gt=o[ft];isNonNullObject(gt)&&nt.add(gt)})})}return this.refs[e]},c.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},c}(),CacheGroup=function(){function c(e,s){s===void 0&&(s=null),this.caching=e,this.parent=s,this.d=null,this.resetCaching()}return c.prototype.resetCaching=function(){this.d=this.caching?dep():null,this.keyMaker=new Trie(canUseWeakMap)},c.prototype.depend=function(e,s){if(this.d){this.d(makeDepKey(e,s));var d=fieldNameFromStoreName(s);d!==s&&this.d(makeDepKey(e,d)),this.parent&&this.parent.depend(e,s)}},c.prototype.dirty=function(e,s){this.d&&this.d.dirty(makeDepKey(e,s),s==="__exists"?"forget":"setDirty")},c}();function makeDepKey(c,e){return e+"#"+c}function maybeDependOnExistenceOfEntity(c,e){supportsResultCaching(c)&&c.group.depend(e,"__exists")}(function(c){var e=function(s){__extends(d,s);function d(nt){var o=nt.policies,ft=nt.resultCaching,gt=ft===void 0?!0:ft,xt=nt.seed,St=s.call(this,o,new CacheGroup(gt))||this;return St.stump=new Stump(St),St.storageTrie=new Trie(canUseWeakMap),xt&&St.replace(xt),St}return d.prototype.addLayer=function(nt,o){return this.stump.addLayer(nt,o)},d.prototype.removeLayer=function(){return this},d.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},d}(c);c.Root=e})(EntityStore||(EntityStore={}));var Layer=function(c){__extends(e,c);function e(s,d,nt,o){var ft=c.call(this,d.policies,o)||this;return ft.id=s,ft.parent=d,ft.replay=nt,ft.group=o,nt(ft),ft}return e.prototype.addLayer=function(s,d){return new e(s,this,d,this.group)},e.prototype.removeLayer=function(s){var d=this,nt=this.parent.removeLayer(s);return s===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(o){var ft=d.data[o],gt=nt.lookup(o);gt?ft?ft!==gt&&Object.keys(ft).forEach(function(xt){equal(ft[xt],gt[xt])||d.group.dirty(o,xt)}):(d.group.dirty(o,"__exists"),Object.keys(gt).forEach(function(xt){d.group.dirty(o,xt)})):d.delete(o)}),nt):nt===this.parent?this:nt.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return __assign$1(__assign$1({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(s){var d=this.parent.findChildRefIds(s);return hasOwn.call(this.data,s)?__assign$1(__assign$1({},d),c.prototype.findChildRefIds.call(this,s)):d},e.prototype.getStorage=function(){for(var s=this.parent;s.parent;)s=s.parent;return s.getStorage.apply(s,arguments)},e}(EntityStore),Stump=function(c){__extends(e,c);function e(s){return c.call(this,"EntityStore.Stump",s,function(){},new CacheGroup(s.group.caching,s.group))||this}return e.prototype.removeLayer=function(){return this},e.prototype.merge=function(s,d){return this.parent.merge(s,d)},e}(Layer);function storeObjectReconciler(c,e,s){var d=c[s],nt=e[s];return equal(d,nt)?d:nt}function supportsResultCaching(c){return!!(c instanceof EntityStore&&c.group.caching)}function shallowCopy(c){return isNonNullObject(c)?isArray(c)?c.slice(0):__assign$1({__proto__:Object.getPrototypeOf(c)},c):c}var ObjectCanon=function(){function c(){this.known=new(canUseWeakSet?WeakSet:Set),this.pool=new Trie(canUseWeakMap),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return c.prototype.isKnown=function(e){return isNonNullObject(e)&&this.known.has(e)},c.prototype.pass=function(e){if(isNonNullObject(e)){var s=shallowCopy(e);return this.passes.set(s,e),s}return e},c.prototype.admit=function(e){var s=this;if(isNonNullObject(e)){var d=this.passes.get(e);if(d)return d;var nt=Object.getPrototypeOf(e);switch(nt){case Array.prototype:{if(this.known.has(e))return e;var o=e.map(this.admit,this),ft=this.pool.lookupArray(o);return ft.array||(this.known.add(ft.array=o),globalThis.__DEV__!==!1&&Object.freeze(o)),ft.array}case null:case Object.prototype:{if(this.known.has(e))return e;var gt=Object.getPrototypeOf(e),xt=[gt],St=this.sortedKeys(e);xt.push(St.json);var Tt=xt.length;St.sorted.forEach(function(Rt){xt.push(s.admit(e[Rt]))});var ft=this.pool.lookupArray(xt);if(!ft.object){var At=ft.object=Object.create(gt);this.known.add(At),St.sorted.forEach(function(Rt,yt){At[Rt]=xt[Tt+yt]}),globalThis.__DEV__!==!1&&Object.freeze(At)}return ft.object}}}return e},c.prototype.sortedKeys=function(e){var s=Object.keys(e),d=this.pool.lookupArray(s);if(!d.keys){s.sort();var nt=JSON.stringify(s);(d.keys=this.keysByJSON.get(nt))||this.keysByJSON.set(nt,d.keys={sorted:s,json:nt})}return d.keys},c}();function execSelectionSetKeyArgs(c){return[c.selectionSet,c.objectOrReference,c.context,c.context.canonizeResults]}var StoreReader=function(){function c(e){var s=this;this.knownResults=new(canUseWeakMap?WeakMap:Map),this.config=compact(e,{addTypename:e.addTypename!==!1,canonizeResults:shouldCanonizeResults(e)}),this.canon=e.canon||new ObjectCanon,this.executeSelectionSet=wrap(function(d){var nt,o=d.context.canonizeResults,ft=execSelectionSetKeyArgs(d);ft[3]=!o;var gt=(nt=s.executeSelectionSet).peek.apply(nt,ft);return gt?o?__assign$1(__assign$1({},gt),{result:s.canon.admit(gt.result)}):gt:(maybeDependOnExistenceOfEntity(d.context.store,d.enclosingRef.__ref),s.execSelectionSetImpl(d))},{max:this.config.resultCacheMaxSize||cacheSizes["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:execSelectionSetKeyArgs,makeCacheKey:function(d,nt,o,ft){if(supportsResultCaching(o.store))return o.store.makeCacheKey(d,isReference(nt)?nt.__ref:nt,o.varString,ft)}}),this.executeSubSelectedArray=wrap(function(d){return maybeDependOnExistenceOfEntity(d.context.store,d.enclosingRef.__ref),s.execSubSelectedArrayImpl(d)},{max:this.config.resultCacheMaxSize||cacheSizes["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey:function(d){var nt=d.field,o=d.array,ft=d.context;if(supportsResultCaching(ft.store))return ft.store.makeCacheKey(nt,o,ft.varString)}})}return c.prototype.resetCanon=function(){this.canon=new ObjectCanon},c.prototype.diffQueryAgainstStore=function(e){var s=e.store,d=e.query,nt=e.rootId,o=nt===void 0?"ROOT_QUERY":nt,ft=e.variables,gt=e.returnPartialData,xt=gt===void 0?!0:gt,St=e.canonizeResults,Tt=St===void 0?this.config.canonizeResults:St,At=this.config.cache.policies;ft=__assign$1(__assign$1({},getDefaultValues(getQueryDefinition(d))),ft);var Ct=makeReference(o),Rt=this.executeSelectionSet({selectionSet:getMainDefinition(d).selectionSet,objectOrReference:Ct,enclosingRef:Ct,context:__assign$1({store:s,query:d,policies:At,variables:ft,varString:canonicalStringify(ft),canonizeResults:Tt},extractFragmentContext(d,this.config.fragments))}),yt;if(Rt.missing&&(yt=[new MissingFieldError(firstMissing(Rt.missing),Rt.missing,d,ft)],!xt))throw yt[0];return{result:Rt.result,complete:!yt,missing:yt}},c.prototype.isFresh=function(e,s,d,nt){if(supportsResultCaching(nt.store)&&this.knownResults.get(e)===d){var o=this.executeSelectionSet.peek(d,s,nt,this.canon.isKnown(e));if(o&&e===o.result)return!0}return!1},c.prototype.execSelectionSetImpl=function(e){var s=this,d=e.selectionSet,nt=e.objectOrReference,o=e.enclosingRef,ft=e.context;if(isReference(nt)&&!ft.policies.rootTypenamesById[nt.__ref]&&!ft.store.has(nt.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(nt.__ref," object")};var gt=ft.variables,xt=ft.policies,St=ft.store,Tt=St.getFieldValue(nt,"__typename"),At=[],Ct,Rt=new DeepMerger;this.config.addTypename&&typeof Tt=="string"&&!xt.rootIdsByTypename[Tt]&&At.push({__typename:Tt});function yt(Ft,Ut){var Wt;return Ft.missing&&(Ct=Rt.merge(Ct,(Wt={},Wt[Ut]=Ft.missing,Wt))),Ft.result}var Ot=new Set(d.selections);Ot.forEach(function(Ft){var Ut,Wt;if(shouldInclude(Ft,gt))if(isField(Ft)){var Gt=xt.readField({fieldName:Ft.name.value,field:Ft,variables:ft.variables,from:nt},ft),Xt=resultKeyNameFromField(Ft);Gt===void 0?addTypenameToDocument.added(Ft)||(Ct=Rt.merge(Ct,(Ut={},Ut[Xt]="Can't find field '".concat(Ft.name.value,"' on ").concat(isReference(nt)?nt.__ref+" object":"object "+JSON.stringify(nt,null,2)),Ut))):isArray(Gt)?Gt.length>0&&(Gt=yt(s.executeSubSelectedArray({field:Ft,array:Gt,enclosingRef:o,context:ft}),Xt)):Ft.selectionSet?Gt!=null&&(Gt=yt(s.executeSelectionSet({selectionSet:Ft.selectionSet,objectOrReference:Gt,enclosingRef:isReference(Gt)?Gt:o,context:ft}),Xt)):ft.canonizeResults&&(Gt=s.canon.pass(Gt)),Gt!==void 0&&At.push((Wt={},Wt[Xt]=Gt,Wt))}else{var Yt=getFragmentFromSelection(Ft,ft.lookupFragment);if(!Yt&&Ft.kind===Kind.FRAGMENT_SPREAD)throw newInvariantError(10,Ft.name.value);Yt&&xt.fragmentMatches(Yt,Tt)&&Yt.selectionSet.selections.forEach(Ot.add,Ot)}});var Nt=mergeDeepArray(At),bt={result:Nt,missing:Ct},Dt=ft.canonizeResults?this.canon.admit(bt):maybeDeepFreeze(bt);return Dt.result&&this.knownResults.set(Dt.result,d),Dt},c.prototype.execSubSelectedArrayImpl=function(e){var s=this,d=e.field,nt=e.array,o=e.enclosingRef,ft=e.context,gt,xt=new DeepMerger;function St(Tt,At){var Ct;return Tt.missing&&(gt=xt.merge(gt,(Ct={},Ct[At]=Tt.missing,Ct))),Tt.result}return d.selectionSet&&(nt=nt.filter(ft.store.canRead)),nt=nt.map(function(Tt,At){return Tt===null?null:isArray(Tt)?St(s.executeSubSelectedArray({field:d,array:Tt,enclosingRef:o,context:ft}),At):d.selectionSet?St(s.executeSelectionSet({selectionSet:d.selectionSet,objectOrReference:Tt,enclosingRef:isReference(Tt)?Tt:o,context:ft}),At):(globalThis.__DEV__!==!1&&assertSelectionSetForIdValue(ft.store,d,Tt),Tt)}),{result:ft.canonizeResults?this.canon.admit(nt):nt,missing:gt}},c}();function firstMissing(c){try{JSON.stringify(c,function(e,s){if(typeof s=="string")throw s;return s})}catch(e){return e}}function assertSelectionSetForIdValue(c,e,s){if(!e.selectionSet){var d=new Set([s]);d.forEach(function(nt){isNonNullObject(nt)&&(invariant$1(!isReference(nt),11,getTypenameFromStoreObject(c,nt),e.name.value),Object.values(nt).forEach(d.add,d))})}}var cacheSlot=new Slot,cacheInfoMap=new WeakMap;function getCacheInfo(c){var e=cacheInfoMap.get(c);return e||cacheInfoMap.set(c,e={vars:new Set,dep:dep()}),e}function forgetCache(c){getCacheInfo(c).vars.forEach(function(e){return e.forgetCache(c)})}function recallCache(c){getCacheInfo(c).vars.forEach(function(e){return e.attachCache(c)})}function makeVar(c){var e=new Set,s=new Set,d=function(o){if(arguments.length>0){if(c!==o){c=o,e.forEach(function(xt){getCacheInfo(xt).dep.dirty(d),broadcast(xt)});var ft=Array.from(s);s.clear(),ft.forEach(function(xt){return xt(c)})}}else{var gt=cacheSlot.getValue();gt&&(nt(gt),getCacheInfo(gt).dep(d))}return c};d.onNextChange=function(o){return s.add(o),function(){s.delete(o)}};var nt=d.attachCache=function(o){return e.add(o),getCacheInfo(o).vars.add(d),d};return d.forgetCache=function(o){return e.delete(o)},d}function broadcast(c){c.broadcastWatches&&c.broadcastWatches()}var specifierInfoCache=Object.create(null);function lookupSpecifierInfo(c){var e=JSON.stringify(c);return specifierInfoCache[e]||(specifierInfoCache[e]=Object.create(null))}function keyFieldsFnFromSpecifier(c){var e=lookupSpecifierInfo(c);return e.keyFieldsFn||(e.keyFieldsFn=function(s,d){var nt=function(ft,gt){return d.readField(gt,ft)},o=d.keyObject=collectSpecifierPaths(c,function(ft){var gt=extractKeyPath(d.storeObject,ft,nt);return gt===void 0&&s!==d.storeObject&&hasOwn.call(s,ft[0])&&(gt=extractKeyPath(s,ft,extractKey)),invariant$1(gt!==void 0,5,ft.join("."),s),gt});return"".concat(d.typename,":").concat(JSON.stringify(o))})}function keyArgsFnFromSpecifier(c){var e=lookupSpecifierInfo(c);return e.keyArgsFn||(e.keyArgsFn=function(s,d){var nt=d.field,o=d.variables,ft=d.fieldName,gt=collectSpecifierPaths(c,function(St){var Tt=St[0],At=Tt.charAt(0);if(At==="@"){if(nt&&isNonEmptyArray(nt.directives)){var Ct=Tt.slice(1),Rt=nt.directives.find(function(bt){return bt.name.value===Ct}),yt=Rt&&argumentsObjectFromField(Rt,o);return yt&&extractKeyPath(yt,St.slice(1))}return}if(At==="$"){var Ot=Tt.slice(1);if(o&&hasOwn.call(o,Ot)){var Nt=St.slice(0);return Nt[0]=Ot,extractKeyPath(o,Nt)}return}if(s)return extractKeyPath(s,St)}),xt=JSON.stringify(gt);return(s||xt!=="{}")&&(ft+=":"+xt),ft})}function collectSpecifierPaths(c,e){var s=new DeepMerger;return getSpecifierPaths(c).reduce(function(d,nt){var o,ft=e(nt);if(ft!==void 0){for(var gt=nt.length-1;gt>=0;--gt)ft=(o={},o[nt[gt]]=ft,o);d=s.merge(d,ft)}return d},Object.create(null))}function getSpecifierPaths(c){var e=lookupSpecifierInfo(c);if(!e.paths){var s=e.paths=[],d=[];c.forEach(function(nt,o){isArray(nt)?(getSpecifierPaths(nt).forEach(function(ft){return s.push(d.concat(ft))}),d.length=0):(d.push(nt),isArray(c[o+1])||(s.push(d.slice(0)),d.length=0))})}return e.paths}function extractKey(c,e){return c[e]}function extractKeyPath(c,e,s){return s=s||extractKey,normalize$2(e.reduce(function d(nt,o){return isArray(nt)?nt.map(function(ft){return d(ft,o)}):nt&&s(nt,o)},c))}function normalize$2(c){return isNonNullObject(c)?isArray(c)?c.map(normalize$2):collectSpecifierPaths(Object.keys(c).sort(),function(e){return extractKeyPath(c,e)}):c}function argsFromFieldSpecifier(c){return c.args!==void 0?c.args:c.field?argumentsObjectFromField(c.field,c.variables):null}var nullKeyFieldsFn=function(){},simpleKeyArgsFn=function(c,e){return e.fieldName},mergeTrueFn=function(c,e,s){var d=s.mergeObjects;return d(c,e)},mergeFalseFn=function(c,e){return e},Policies=function(){function c(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=__assign$1({dataIdFromObject:defaultDataIdFromObject},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return c.prototype.identify=function(e,s){var d,nt=this,o=s&&(s.typename||((d=s.storeObject)===null||d===void 0?void 0:d.__typename))||e.__typename;if(o===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];var ft=s&&s.storeObject||e,gt=__assign$1(__assign$1({},s),{typename:o,storeObject:ft,readField:s&&s.readField||function(){var At=normalizeReadFieldOptions(arguments,ft);return nt.readField(At,{store:nt.cache.data,variables:At.variables})}}),xt,St=o&&this.getTypePolicy(o),Tt=St&&St.keyFn||this.config.dataIdFromObject;return disableWarningsSlot.withValue(!0,function(){for(;Tt;){var At=Tt(__assign$1(__assign$1({},e),ft),gt);if(isArray(At))Tt=keyFieldsFnFromSpecifier(At);else{xt=At;break}}}),xt=xt?String(xt):void 0,gt.keyObject?[xt,gt.keyObject]:[xt]},c.prototype.addTypePolicies=function(e){var s=this;Object.keys(e).forEach(function(d){var nt=e[d],o=nt.queryType,ft=nt.mutationType,gt=nt.subscriptionType,xt=__rest(nt,["queryType","mutationType","subscriptionType"]);o&&s.setRootTypename("Query",d),ft&&s.setRootTypename("Mutation",d),gt&&s.setRootTypename("Subscription",d),hasOwn.call(s.toBeAdded,d)?s.toBeAdded[d].push(xt):s.toBeAdded[d]=[xt]})},c.prototype.updateTypePolicy=function(e,s){var d=this,nt=this.getTypePolicy(e),o=s.keyFields,ft=s.fields;function gt(xt,St){xt.merge=typeof St=="function"?St:St===!0?mergeTrueFn:St===!1?mergeFalseFn:xt.merge}gt(nt,s.merge),nt.keyFn=o===!1?nullKeyFieldsFn:isArray(o)?keyFieldsFnFromSpecifier(o):typeof o=="function"?o:nt.keyFn,ft&&Object.keys(ft).forEach(function(xt){var St=d.getFieldPolicy(e,xt,!0),Tt=ft[xt];if(typeof Tt=="function")St.read=Tt;else{var At=Tt.keyArgs,Ct=Tt.read,Rt=Tt.merge;St.keyFn=At===!1?simpleKeyArgsFn:isArray(At)?keyArgsFnFromSpecifier(At):typeof At=="function"?At:St.keyFn,typeof Ct=="function"&&(St.read=Ct),gt(St,Rt)}St.read&&St.merge&&(St.keyFn=St.keyFn||simpleKeyArgsFn)})},c.prototype.setRootTypename=function(e,s){s===void 0&&(s=e);var d="ROOT_"+e.toUpperCase(),nt=this.rootTypenamesById[d];s!==nt&&(invariant$1(!nt||nt===e,6,e),nt&&delete this.rootIdsByTypename[nt],this.rootIdsByTypename[s]=d,this.rootTypenamesById[d]=s)},c.prototype.addPossibleTypes=function(e){var s=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(d){s.getSupertypeSet(d,!0),e[d].forEach(function(nt){s.getSupertypeSet(nt,!0).add(d);var o=nt.match(TypeOrFieldNameRegExp);(!o||o[0]!==nt)&&s.fuzzySubtypes.set(nt,new RegExp(nt))})})},c.prototype.getTypePolicy=function(e){var s=this;if(!hasOwn.call(this.typePolicies,e)){var d=this.typePolicies[e]=Object.create(null);d.fields=Object.create(null);var nt=this.supertypeMap.get(e);!nt&&this.fuzzySubtypes.size&&(nt=this.getSupertypeSet(e,!0),this.fuzzySubtypes.forEach(function(ft,gt){if(ft.test(e)){var xt=s.supertypeMap.get(gt);xt&&xt.forEach(function(St){return nt.add(St)})}})),nt&&nt.size&&nt.forEach(function(ft){var gt=s.getTypePolicy(ft),xt=gt.fields,St=__rest(gt,["fields"]);Object.assign(d,St),Object.assign(d.fields,xt)})}var o=this.toBeAdded[e];return o&&o.length&&o.splice(0).forEach(function(ft){s.updateTypePolicy(e,ft)}),this.typePolicies[e]},c.prototype.getFieldPolicy=function(e,s,d){if(e){var nt=this.getTypePolicy(e).fields;return nt[s]||d&&(nt[s]=Object.create(null))}},c.prototype.getSupertypeSet=function(e,s){var d=this.supertypeMap.get(e);return!d&&s&&this.supertypeMap.set(e,d=new Set),d},c.prototype.fragmentMatches=function(e,s,d,nt){var o=this;if(!e.typeCondition)return!0;if(!s)return!1;var ft=e.typeCondition.name.value;if(s===ft)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(ft))for(var gt=this.getSupertypeSet(s,!0),xt=[gt],St=function(yt){var Ot=o.getSupertypeSet(yt,!1);Ot&&Ot.size&&xt.indexOf(Ot)<0&&xt.push(Ot)},Tt=!!(d&&this.fuzzySubtypes.size),At=!1,Ct=0;Ct<xt.length;++Ct){var Rt=xt[Ct];if(Rt.has(ft))return gt.has(ft)||(At&&globalThis.__DEV__!==!1&&invariant$1.warn(7,s,ft),gt.add(ft)),!0;Rt.forEach(St),Tt&&Ct===xt.length-1&&selectionSetMatchesResult(e.selectionSet,d,nt)&&(Tt=!1,At=!0,this.fuzzySubtypes.forEach(function(yt,Ot){var Nt=s.match(yt);Nt&&Nt[0]===s&&St(Ot)}))}return!1},c.prototype.hasKeyArgs=function(e,s){var d=this.getFieldPolicy(e,s,!1);return!!(d&&d.keyFn)},c.prototype.getStoreFieldName=function(e){var s=e.typename,d=e.fieldName,nt=this.getFieldPolicy(s,d,!1),o,ft=nt&&nt.keyFn;if(ft&&s)for(var gt={typename:s,fieldName:d,field:e.field||null,variables:e.variables},xt=argsFromFieldSpecifier(e);ft;){var St=ft(xt,gt);if(isArray(St))ft=keyArgsFnFromSpecifier(St);else{o=St||d;break}}return o===void 0&&(o=e.field?storeKeyNameFromField(e.field,e.variables):getStoreKeyName(d,argsFromFieldSpecifier(e))),o===!1?d:d===fieldNameFromStoreName(o)?o:d+":"+o},c.prototype.readField=function(e,s){var d=e.from;if(d){var nt=e.field||e.fieldName;if(nt){if(e.typename===void 0){var o=s.store.getFieldValue(d,"__typename");o&&(e.typename=o)}var ft=this.getStoreFieldName(e),gt=fieldNameFromStoreName(ft),xt=s.store.getFieldValue(d,ft),St=this.getFieldPolicy(e.typename,gt,!1),Tt=St&&St.read;if(Tt){var At=makeFieldFunctionOptions(this,d,e,s,s.store.getStorage(isReference(d)?d.__ref:d,ft));return cacheSlot.withValue(this.cache,Tt,[xt,At])}return xt}}},c.prototype.getReadFunction=function(e,s){var d=this.getFieldPolicy(e,s,!1);return d&&d.read},c.prototype.getMergeFunction=function(e,s,d){var nt=this.getFieldPolicy(e,s,!1),o=nt&&nt.merge;return!o&&d&&(nt=this.getTypePolicy(d),o=nt&&nt.merge),o},c.prototype.runMergeFunction=function(e,s,d,nt,o){var ft=d.field,gt=d.typename,xt=d.merge;return xt===mergeTrueFn?makeMergeObjectsFunction(nt.store)(e,s):xt===mergeFalseFn?s:(nt.overwrite&&(e=void 0),xt(e,s,makeFieldFunctionOptions(this,void 0,{typename:gt,fieldName:ft.name.value,field:ft,variables:nt.variables},nt,o||Object.create(null))))},c}();function makeFieldFunctionOptions(c,e,s,d,nt){var o=c.getStoreFieldName(s),ft=fieldNameFromStoreName(o),gt=s.variables||d.variables,xt=d.store,St=xt.toReference,Tt=xt.canRead;return{args:argsFromFieldSpecifier(s),field:s.field||null,fieldName:ft,storeFieldName:o,variables:gt,isReference,toReference:St,storage:nt,cache:c.cache,canRead:Tt,readField:function(){return c.readField(normalizeReadFieldOptions(arguments,e,gt),d)},mergeObjects:makeMergeObjectsFunction(d.store)}}function normalizeReadFieldOptions(c,e,s){var d=c[0],nt=c[1],o=c.length,ft;return typeof d=="string"?ft={fieldName:d,from:o>1?nt:e}:(ft=__assign$1({},d),hasOwn.call(ft,"from")||(ft.from=e)),globalThis.__DEV__!==!1&&ft.from===void 0&&globalThis.__DEV__!==!1&&invariant$1.warn(8,stringifyForDisplay(Array.from(c))),ft.variables===void 0&&(ft.variables=s),ft}function makeMergeObjectsFunction(c){return function(s,d){if(isArray(s)||isArray(d))throw newInvariantError(9);if(isNonNullObject(s)&&isNonNullObject(d)){var nt=c.getFieldValue(s,"__typename"),o=c.getFieldValue(d,"__typename"),ft=nt&&o&&nt!==o;if(ft)return d;if(isReference(s)&&storeValueIsStoreObject(d))return c.merge(s.__ref,d),s;if(storeValueIsStoreObject(s)&&isReference(d))return c.merge(s,d.__ref),d;if(storeValueIsStoreObject(s)&&storeValueIsStoreObject(d))return __assign$1(__assign$1({},s),d)}return d}}function getContextFlavor(c,e,s){var d="".concat(e).concat(s),nt=c.flavors.get(d);return nt||c.flavors.set(d,nt=c.clientOnly===e&&c.deferred===s?c:__assign$1(__assign$1({},c),{clientOnly:e,deferred:s})),nt}var StoreWriter=function(){function c(e,s,d){this.cache=e,this.reader=s,this.fragments=d}return c.prototype.writeToStore=function(e,s){var d=this,nt=s.query,o=s.result,ft=s.dataId,gt=s.variables,xt=s.overwrite,St=getOperationDefinition(nt),Tt=makeProcessedFieldsMerger();gt=__assign$1(__assign$1({},getDefaultValues(St)),gt);var At=__assign$1(__assign$1({store:e,written:Object.create(null),merge:function(Rt,yt){return Tt.merge(Rt,yt)},variables:gt,varString:canonicalStringify(gt)},extractFragmentContext(nt,this.fragments)),{overwrite:!!xt,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),Ct=this.processSelectionSet({result:o||Object.create(null),dataId:ft,selectionSet:St.selectionSet,mergeTree:{map:new Map},context:At});if(!isReference(Ct))throw newInvariantError(12,o);return At.incomingById.forEach(function(Rt,yt){var Ot=Rt.storeObject,Nt=Rt.mergeTree,bt=Rt.fieldNodeSet,Dt=makeReference(yt);if(Nt&&Nt.map.size){var Ft=d.applyMerges(Nt,Dt,Ot,At);if(isReference(Ft))return;Ot=Ft}if(globalThis.__DEV__!==!1&&!At.overwrite){var Ut=Object.create(null);bt.forEach(function(Xt){Xt.selectionSet&&(Ut[Xt.name.value]=!0)});var Wt=function(Xt){return Ut[fieldNameFromStoreName(Xt)]===!0},Gt=function(Xt){var Yt=Nt&&Nt.map.get(Xt);return!!(Yt&&Yt.info&&Yt.info.merge)};Object.keys(Ot).forEach(function(Xt){Wt(Xt)&&!Gt(Xt)&&warnAboutDataLoss(Dt,Ot,Xt,At.store)})}e.merge(yt,Ot)}),e.retain(Ct.__ref),Ct},c.prototype.processSelectionSet=function(e){var s=this,d=e.dataId,nt=e.result,o=e.selectionSet,ft=e.context,gt=e.mergeTree,xt=this.cache.policies,St=Object.create(null),Tt=d&&xt.rootTypenamesById[d]||getTypenameFromResult(nt,o,ft.fragmentMap)||d&&ft.store.get(d,"__typename");typeof Tt=="string"&&(St.__typename=Tt);var At=function(){var Ft=normalizeReadFieldOptions(arguments,St,ft.variables);if(isReference(Ft.from)){var Ut=ft.incomingById.get(Ft.from.__ref);if(Ut){var Wt=xt.readField(__assign$1(__assign$1({},Ft),{from:Ut.storeObject}),ft);if(Wt!==void 0)return Wt}}return xt.readField(Ft,ft)},Ct=new Set;this.flattenFields(o,nt,ft,Tt).forEach(function(Ft,Ut){var Wt,Gt=resultKeyNameFromField(Ut),Xt=nt[Gt];if(Ct.add(Ut),Xt!==void 0){var Yt=xt.getStoreFieldName({typename:Tt,fieldName:Ut.name.value,field:Ut,variables:Ft.variables}),Kt=getChildMergeTree(gt,Yt),jt=s.processFieldValue(Xt,Ut,Ut.selectionSet?getContextFlavor(Ft,!1,!1):Ft,Kt),Jt=void 0;Ut.selectionSet&&(isReference(jt)||storeValueIsStoreObject(jt))&&(Jt=At("__typename",jt));var fn=xt.getMergeFunction(Tt,Ut.name.value,Jt);fn?Kt.info={field:Ut,typename:Tt,merge:fn}:maybeRecycleChildMergeTree(gt,Yt),St=Ft.merge(St,(Wt={},Wt[Yt]=jt,Wt))}else globalThis.__DEV__!==!1&&!Ft.clientOnly&&!Ft.deferred&&!addTypenameToDocument.added(Ut)&&!xt.getReadFunction(Tt,Ut.name.value)&&globalThis.__DEV__!==!1&&invariant$1.error(13,resultKeyNameFromField(Ut),nt)});try{var Rt=xt.identify(nt,{typename:Tt,selectionSet:o,fragmentMap:ft.fragmentMap,storeObject:St,readField:At}),yt=Rt[0],Ot=Rt[1];d=d||yt,Ot&&(St=ft.merge(St,Ot))}catch(Ft){if(!d)throw Ft}if(typeof d=="string"){var Nt=makeReference(d),bt=ft.written[d]||(ft.written[d]=[]);if(bt.indexOf(o)>=0||(bt.push(o),this.reader&&this.reader.isFresh(nt,Nt,o,ft)))return Nt;var Dt=ft.incomingById.get(d);return Dt?(Dt.storeObject=ft.merge(Dt.storeObject,St),Dt.mergeTree=mergeMergeTrees(Dt.mergeTree,gt),Ct.forEach(function(Ft){return Dt.fieldNodeSet.add(Ft)})):ft.incomingById.set(d,{storeObject:St,mergeTree:mergeTreeIsEmpty(gt)?void 0:gt,fieldNodeSet:Ct}),Nt}return St},c.prototype.processFieldValue=function(e,s,d,nt){var o=this;return!s.selectionSet||e===null?globalThis.__DEV__!==!1?cloneDeep(e):e:isArray(e)?e.map(function(ft,gt){var xt=o.processFieldValue(ft,s,d,getChildMergeTree(nt,gt));return maybeRecycleChildMergeTree(nt,gt),xt}):this.processSelectionSet({result:e,selectionSet:s.selectionSet,context:d,mergeTree:nt})},c.prototype.flattenFields=function(e,s,d,nt){nt===void 0&&(nt=getTypenameFromResult(s,e,d.fragmentMap));var o=new Map,ft=this.cache.policies,gt=new Trie(!1);return function xt(St,Tt){var At=gt.lookup(St,Tt.clientOnly,Tt.deferred);At.visited||(At.visited=!0,St.selections.forEach(function(Ct){if(shouldInclude(Ct,d.variables)){var Rt=Tt.clientOnly,yt=Tt.deferred;if(!(Rt&&yt)&&isNonEmptyArray(Ct.directives)&&Ct.directives.forEach(function(bt){var Dt=bt.name.value;if(Dt==="client"&&(Rt=!0),Dt==="defer"){var Ft=argumentsObjectFromField(bt,d.variables);(!Ft||Ft.if!==!1)&&(yt=!0)}}),isField(Ct)){var Ot=o.get(Ct);Ot&&(Rt=Rt&&Ot.clientOnly,yt=yt&&Ot.deferred),o.set(Ct,getContextFlavor(d,Rt,yt))}else{var Nt=getFragmentFromSelection(Ct,d.lookupFragment);if(!Nt&&Ct.kind===Kind.FRAGMENT_SPREAD)throw newInvariantError(14,Ct.name.value);Nt&&ft.fragmentMatches(Nt,nt,s,d.variables)&&xt(Nt.selectionSet,getContextFlavor(d,Rt,yt))}}}))}(e,d),o},c.prototype.applyMerges=function(e,s,d,nt,o){var ft,gt=this;if(e.map.size&&!isReference(d)){var xt=!isArray(d)&&(isReference(s)||storeValueIsStoreObject(s))?s:void 0,St=d;xt&&!o&&(o=[isReference(xt)?xt.__ref:xt]);var Tt,At=function(Ct,Rt){return isArray(Ct)?typeof Rt=="number"?Ct[Rt]:void 0:nt.store.getFieldValue(Ct,String(Rt))};e.map.forEach(function(Ct,Rt){var yt=At(xt,Rt),Ot=At(St,Rt);if(Ot!==void 0){o&&o.push(Rt);var Nt=gt.applyMerges(Ct,yt,Ot,nt,o);Nt!==Ot&&(Tt=Tt||new Map,Tt.set(Rt,Nt)),o&&invariant$1(o.pop()===Rt)}}),Tt&&(d=isArray(St)?St.slice(0):__assign$1({},St),Tt.forEach(function(Ct,Rt){d[Rt]=Ct}))}return e.info?this.cache.policies.runMergeFunction(s,d,e.info,nt,o&&(ft=nt.store).getStorage.apply(ft,o)):d},c}(),emptyMergeTreePool=[];function getChildMergeTree(c,e){var s=c.map;return s.has(e)||s.set(e,emptyMergeTreePool.pop()||{map:new Map}),s.get(e)}function mergeMergeTrees(c,e){if(c===e||!e||mergeTreeIsEmpty(e))return c;if(!c||mergeTreeIsEmpty(c))return e;var s=c.info&&e.info?__assign$1(__assign$1({},c.info),e.info):c.info||e.info,d=c.map.size&&e.map.size,nt=d?new Map:c.map.size?c.map:e.map,o={info:s,map:nt};if(d){var ft=new Set(e.map.keys());c.map.forEach(function(gt,xt){o.map.set(xt,mergeMergeTrees(gt,e.map.get(xt))),ft.delete(xt)}),ft.forEach(function(gt){o.map.set(gt,mergeMergeTrees(e.map.get(gt),c.map.get(gt)))})}return o}function mergeTreeIsEmpty(c){return!c||!(c.info||c.map.size)}function maybeRecycleChildMergeTree(c,e){var s=c.map,d=s.get(e);d&&mergeTreeIsEmpty(d)&&(emptyMergeTreePool.push(d),s.delete(e))}var warnings=new Set;function warnAboutDataLoss(c,e,s,d){var nt=function(At){var Ct=d.getFieldValue(At,s);return typeof Ct=="object"&&Ct},o=nt(c);if(o){var ft=nt(e);if(ft&&!isReference(o)&&!equal(o,ft)&&!Object.keys(o).every(function(At){return d.getFieldValue(ft,At)!==void 0})){var gt=d.getFieldValue(c,"__typename")||d.getFieldValue(e,"__typename"),xt=fieldNameFromStoreName(s),St="".concat(gt,".").concat(xt);if(!warnings.has(St)){warnings.add(St);var Tt=[];!isArray(o)&&!isArray(ft)&&[o,ft].forEach(function(At){var Ct=d.getFieldValue(At,"__typename");typeof Ct=="string"&&!Tt.includes(Ct)&&Tt.push(Ct)}),globalThis.__DEV__!==!1&&invariant$1.warn(15,xt,gt,Tt.length?"either ensure all objects of type "+Tt.join(" and ")+" have an ID or a custom merge function, or ":"",St,__assign$1({},o),__assign$1({},ft))}}}}var InMemoryCache=function(c){__extends(e,c);function e(s){s===void 0&&(s={});var d=c.call(this)||this;return d.watches=new Set,d.addTypenameTransform=new DocumentTransform(addTypenameToDocument),d.assumeImmutableResults=!0,d.makeVar=makeVar,d.txCount=0,d.config=normalizeConfig(s),d.addTypename=!!d.config.addTypename,d.policies=new Policies({cache:d,dataIdFromObject:d.config.dataIdFromObject,possibleTypes:d.config.possibleTypes,typePolicies:d.config.typePolicies}),d.init(),d}return e.prototype.init=function(){var s=this.data=new EntityStore.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=s.stump,this.resetResultCache()},e.prototype.resetResultCache=function(s){var d=this,nt=this.storeReader,o=this.config.fragments;this.storeWriter=new StoreWriter(this,this.storeReader=new StoreReader({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:shouldCanonizeResults(this.config),canon:s?void 0:nt&&nt.canon,fragments:o}),o),this.maybeBroadcastWatch=wrap(function(ft,gt){return d.broadcastWatch(ft,gt)},{max:this.config.resultCacheMaxSize||cacheSizes["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:function(ft){var gt=ft.optimistic?d.optimisticData:d.data;if(supportsResultCaching(gt)){var xt=ft.optimistic,St=ft.id,Tt=ft.variables;return gt.makeCacheKey(ft.query,ft.callback,canonicalStringify({optimistic:xt,id:St,variables:Tt}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(ft){return ft.resetCaching()})},e.prototype.restore=function(s){return this.init(),s&&this.data.replace(s),this},e.prototype.extract=function(s){return s===void 0&&(s=!1),(s?this.optimisticData:this.data).extract()},e.prototype.read=function(s){var d=s.returnPartialData,nt=d===void 0?!1:d;try{return this.storeReader.diffQueryAgainstStore(__assign$1(__assign$1({},s),{store:s.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:nt})).result||null}catch(o){if(o instanceof MissingFieldError)return null;throw o}},e.prototype.write=function(s){try{return++this.txCount,this.storeWriter.writeToStore(this.data,s)}finally{!--this.txCount&&s.broadcast!==!1&&this.broadcastWatches()}},e.prototype.modify=function(s){if(hasOwn.call(s,"id")&&!s.id)return!1;var d=s.optimistic?this.optimisticData:this.data;try{return++this.txCount,d.modify(s.id||"ROOT_QUERY",s.fields)}finally{!--this.txCount&&s.broadcast!==!1&&this.broadcastWatches()}},e.prototype.diff=function(s){return this.storeReader.diffQueryAgainstStore(__assign$1(__assign$1({},s),{store:s.optimistic?this.optimisticData:this.data,rootId:s.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(s){var d=this;return this.watches.size||recallCache(this),this.watches.add(s),s.immediate&&this.maybeBroadcastWatch(s),function(){d.watches.delete(s)&&!d.watches.size&&forgetCache(d),d.maybeBroadcastWatch.forget(s)}},e.prototype.gc=function(s){var d;canonicalStringify.reset(),print$1.reset(),this.addTypenameTransform.resetCache(),(d=this.config.fragments)===null||d===void 0||d.resetCaches();var nt=this.optimisticData.gc();return s&&!this.txCount&&(s.resetResultCache?this.resetResultCache(s.resetResultIdentities):s.resetResultIdentities&&this.storeReader.resetCanon()),nt},e.prototype.retain=function(s,d){return(d?this.optimisticData:this.data).retain(s)},e.prototype.release=function(s,d){return(d?this.optimisticData:this.data).release(s)},e.prototype.identify=function(s){if(isReference(s))return s.__ref;try{return this.policies.identify(s)[0]}catch(d){globalThis.__DEV__!==!1&&invariant$1.warn(d)}},e.prototype.evict=function(s){if(!s.id){if(hasOwn.call(s,"id"))return!1;s=__assign$1(__assign$1({},s),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(s,this.data)}finally{!--this.txCount&&s.broadcast!==!1&&this.broadcastWatches()}},e.prototype.reset=function(s){var d=this;return this.init(),canonicalStringify.reset(),s&&s.discardWatches?(this.watches.forEach(function(nt){return d.maybeBroadcastWatch.forget(nt)}),this.watches.clear(),forgetCache(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(s){var d=this.optimisticData.removeLayer(s);d!==this.optimisticData&&(this.optimisticData=d,this.broadcastWatches())},e.prototype.batch=function(s){var d=this,nt=s.update,o=s.optimistic,ft=o===void 0?!0:o,gt=s.removeOptimistic,xt=s.onWatchUpdated,St,Tt=function(Ct){var Rt=d,yt=Rt.data,Ot=Rt.optimisticData;++d.txCount,Ct&&(d.data=d.optimisticData=Ct);try{return St=nt(d)}finally{--d.txCount,d.data=yt,d.optimisticData=Ot}},At=new Set;return xt&&!this.txCount&&this.broadcastWatches(__assign$1(__assign$1({},s),{onWatchUpdated:function(Ct){return At.add(Ct),!1}})),typeof ft=="string"?this.optimisticData=this.optimisticData.addLayer(ft,Tt):ft===!1?Tt(this.data):Tt(),typeof gt=="string"&&(this.optimisticData=this.optimisticData.removeLayer(gt)),xt&&At.size?(this.broadcastWatches(__assign$1(__assign$1({},s),{onWatchUpdated:function(Ct,Rt){var yt=xt.call(this,Ct,Rt);return yt!==!1&&At.delete(Ct),yt}})),At.size&&At.forEach(function(Ct){return d.maybeBroadcastWatch.dirty(Ct)})):this.broadcastWatches(s),St},e.prototype.performTransaction=function(s,d){return this.batch({update:s,optimistic:d||d!==null})},e.prototype.transformDocument=function(s){return this.addTypenameToDocument(this.addFragmentsToDocument(s))},e.prototype.fragmentMatches=function(s,d){return this.policies.fragmentMatches(s,d)},e.prototype.lookupFragment=function(s){var d;return((d=this.config.fragments)===null||d===void 0?void 0:d.lookup(s))||null},e.prototype.broadcastWatches=function(s){var d=this;this.txCount||this.watches.forEach(function(nt){return d.maybeBroadcastWatch(nt,s)})},e.prototype.addFragmentsToDocument=function(s){var d=this.config.fragments;return d?d.transform(s):s},e.prototype.addTypenameToDocument=function(s){return this.addTypename?this.addTypenameTransform.transformDocument(s):s},e.prototype.broadcastWatch=function(s,d){var nt=s.lastDiff,o=this.diff(s);d&&(s.optimistic&&typeof d.optimistic=="string"&&(o.fromOptimisticTransaction=!0),d.onWatchUpdated&&d.onWatchUpdated.call(this,s,o,nt)===!1)||(!nt||!equal(nt.result,o.result))&&s.callback(s.lastDiff=o,nt)},e}(ApolloCache);globalThis.__DEV__!==!1&&(InMemoryCache.prototype.getMemoryInternals=getInMemoryCacheMemoryInternals);var NetworkStatus;(function(c){c[c.loading=1]="loading",c[c.setVariables=2]="setVariables",c[c.fetchMore=3]="fetchMore",c[c.refetch=4]="refetch",c[c.poll=6]="poll",c[c.ready=7]="ready",c[c.error=8]="error"})(NetworkStatus||(NetworkStatus={}));function isNetworkRequestInFlight(c){return c?c<7:!1}var assign$1=Object.assign,hasOwnProperty$2=Object.hasOwnProperty,ObservableQuery=function(c){__extends(e,c);function e(s){var d=s.queryManager,nt=s.queryInfo,o=s.options,ft=this,gt=e.inactiveOnCreation.getValue();ft=c.call(this,function(bt){gt&&(d.queries.set(ft.queryId,nt),gt=!1);try{var Dt=bt._subscription._observer;Dt&&!Dt.error&&(Dt.error=defaultSubscriptionObserverErrorCallback)}catch{}var Ft=!ft.observers.size;ft.observers.add(bt);var Ut=ft.last;return Ut&&Ut.error?bt.error&&bt.error(Ut.error):Ut&&Ut.result&&bt.next&&bt.next(ft.maskResult(Ut.result)),Ft&&ft.reobserve().catch(function(){}),function(){ft.observers.delete(bt)&&!ft.observers.size&&ft.tearDownQuery()}})||this,ft.observers=new Set,ft.subscriptions=new Set,ft.dirty=!1,ft.queryInfo=nt,ft.queryManager=d,ft.waitForOwnResult=skipCacheDataFor(o.fetchPolicy),ft.isTornDown=!1,ft.subscribeToMore=ft.subscribeToMore.bind(ft),ft.maskResult=ft.maskResult.bind(ft);var xt=d.defaultOptions.watchQuery,St=xt===void 0?{}:xt,Tt=St.fetchPolicy,At=Tt===void 0?"cache-first":Tt,Ct=o.fetchPolicy,Rt=Ct===void 0?At:Ct,yt=o.initialFetchPolicy,Ot=yt===void 0?Rt==="standby"?At:Rt:yt;ft.options=__assign$1(__assign$1({},o),{initialFetchPolicy:Ot,fetchPolicy:Rt}),ft.queryId=nt.queryId||d.generateQueryId();var Nt=getOperationDefinition(ft.query);return ft.queryName=Nt&&Nt.name&&Nt.name.value,ft}return Object.defineProperty(e.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var s=this;return new Promise(function(d,nt){var o={next:function(gt){d(gt),s.observers.delete(o),s.observers.size||s.queryManager.removeQuery(s.queryId),setTimeout(function(){ft.unsubscribe()},0)},error:nt},ft=s.subscribe(o)})},e.prototype.resetDiff=function(){this.queryInfo.resetDiff()},e.prototype.getCurrentFullResult=function(s){s===void 0&&(s=!0);var d=this.getLastResult(!0),nt=this.queryInfo.networkStatus||d&&d.networkStatus||NetworkStatus.ready,o=__assign$1(__assign$1({},d),{loading:isNetworkRequestInFlight(nt),networkStatus:nt}),ft=this.options.fetchPolicy,gt=ft===void 0?"cache-first":ft;if(!(skipCacheDataFor(gt)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers))if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var xt=this.queryInfo.getDiff();(xt.complete||this.options.returnPartialData)&&(o.data=xt.result),equal(o.data,{})&&(o.data=void 0),xt.complete?(delete o.partial,xt.complete&&o.networkStatus===NetworkStatus.loading&&(gt==="cache-first"||gt==="cache-only")&&(o.networkStatus=NetworkStatus.ready,o.loading=!1)):o.partial=!0,o.networkStatus===NetworkStatus.ready&&(o.error||o.errors)&&(o.networkStatus=NetworkStatus.error),globalThis.__DEV__!==!1&&!xt.complete&&!this.options.partialRefetch&&!o.loading&&!o.data&&!o.error&&logMissingFieldErrors(xt.missing)}return s&&this.updateLastResult(o),o},e.prototype.getCurrentResult=function(s){return s===void 0&&(s=!0),this.maskResult(this.getCurrentFullResult(s))},e.prototype.isDifferentFromLastResult=function(s,d){if(!this.last)return!0;var nt=this.queryManager.getDocumentInfo(this.query),o=this.queryManager.dataMasking,ft=o?nt.nonReactiveQuery:this.query,gt=o||nt.hasNonreactiveDirective?!equalByQuery(ft,this.last.result,s,this.variables):!equal(this.last.result,s);return gt||d&&!equal(this.last.variables,d)},e.prototype.getLast=function(s,d){var nt=this.last;if(nt&&nt[s]&&(!d||equal(nt.variables,this.variables)))return nt[s]},e.prototype.getLastResult=function(s){return this.getLast("result",s)},e.prototype.getLastError=function(s){return this.getLast("error",s)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(s){var d,nt={pollInterval:0},o=this.options.fetchPolicy;if(o==="no-cache"?nt.fetchPolicy="no-cache":nt.fetchPolicy="network-only",globalThis.__DEV__!==!1&&s&&hasOwnProperty$2.call(s,"variables")){var ft=getQueryDefinition(this.query),gt=ft.variableDefinitions;(!gt||!gt.some(function(xt){return xt.variable.name.value==="variables"}))&&globalThis.__DEV__!==!1&&invariant$1.warn(21,s,((d=ft.name)===null||d===void 0?void 0:d.value)||ft)}return s&&!equal(this.options.variables,s)&&(nt.variables=this.options.variables=__assign$1(__assign$1({},this.options.variables),s)),this.queryInfo.resetLastWrite(),this.reobserve(nt,NetworkStatus.refetch)},e.prototype.fetchMore=function(s){var d=this,nt=__assign$1(__assign$1({},s.query?s:__assign$1(__assign$1(__assign$1(__assign$1({},this.options),{query:this.options.query}),s),{variables:__assign$1(__assign$1({},this.options.variables),s.variables)})),{fetchPolicy:"no-cache"});nt.query=this.transformDocument(nt.query);var o=this.queryManager.generateQueryId();this.lastQuery=s.query?this.transformDocument(this.options.query):nt.query;var ft=this.queryInfo,gt=ft.networkStatus;ft.networkStatus=NetworkStatus.fetchMore,nt.notifyOnNetworkStatusChange&&this.observe();var xt=new Set,St=s==null?void 0:s.updateQuery,Tt=this.options.fetchPolicy!=="no-cache";return Tt||invariant$1(St,22),this.queryManager.fetchQuery(o,nt,NetworkStatus.fetchMore).then(function(At){if(d.queryManager.removeQuery(o),ft.networkStatus===NetworkStatus.fetchMore&&(ft.networkStatus=gt),Tt)d.queryManager.cache.batch({update:function(yt){var Ot=s.updateQuery;Ot?yt.updateQuery({query:d.query,variables:d.variables,returnPartialData:!0,optimistic:!1},function(Nt){return Ot(Nt,{fetchMoreResult:At.data,variables:nt.variables})}):yt.writeQuery({query:nt.query,variables:nt.variables,data:At.data})},onWatchUpdated:function(yt){xt.add(yt.query)}});else{var Ct=d.getLast("result"),Rt=St(Ct.data,{fetchMoreResult:At.data,variables:nt.variables});d.reportResult(__assign$1(__assign$1({},Ct),{networkStatus:gt,loading:isNetworkRequestInFlight(gt),data:Rt}),d.variables)}return d.maskResult(At)}).finally(function(){Tt&&!xt.has(d.query)&&d.reobserveCacheFirst()})},e.prototype.subscribeToMore=function(s){var d=this,nt=this.queryManager.startGraphQLSubscription({query:s.document,variables:s.variables,context:s.context}).subscribe({next:function(o){var ft=s.updateQuery;ft&&d.updateQuery(function(gt,xt){return ft(gt,__assign$1({subscriptionData:o},xt))})},error:function(o){if(s.onError){s.onError(o);return}globalThis.__DEV__!==!1&&invariant$1.error(23,o)}});return this.subscriptions.add(nt),function(){d.subscriptions.delete(nt)&&nt.unsubscribe()}},e.prototype.setOptions=function(s){return this.reobserve(s)},e.prototype.silentSetOptions=function(s){var d=compact(this.options,s||{});assign$1(this.options,d)},e.prototype.setVariables=function(s){return equal(this.variables,s)?this.observers.size?this.result():Promise.resolve():(this.options.variables=s,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:s},NetworkStatus.setVariables):Promise.resolve())},e.prototype.updateQuery=function(s){var d=this.queryManager,nt=d.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}),o=nt.result,ft=nt.complete,gt=s(o,{variables:this.variables,complete:!!ft,previousData:o});gt&&(d.cache.writeQuery({query:this.options.query,data:gt,variables:this.variables}),d.broadcastQueries())},e.prototype.startPolling=function(s){this.options.pollInterval=s,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.applyNextFetchPolicy=function(s,d){if(d.nextFetchPolicy){var nt=d.fetchPolicy,o=nt===void 0?"cache-first":nt,ft=d.initialFetchPolicy,gt=ft===void 0?o:ft;o==="standby"||(typeof d.nextFetchPolicy=="function"?d.fetchPolicy=d.nextFetchPolicy(o,{reason:s,options:d,observable:this,initialFetchPolicy:gt}):s==="variables-changed"?d.fetchPolicy=gt:d.fetchPolicy=d.nextFetchPolicy)}return d.fetchPolicy},e.prototype.fetch=function(s,d,nt){var o=this.queryManager.getOrCreateQuery(this.queryId);return o.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(o,s,d,nt)},e.prototype.updatePolling=function(){var s=this;if(!this.queryManager.ssrMode){var d=this,nt=d.pollingInfo,o=d.options.pollInterval;if(!o||!this.hasObservers()){nt&&(clearTimeout(nt.timeout),delete this.pollingInfo);return}if(!(nt&&nt.interval===o)){invariant$1(o,24);var ft=nt||(this.pollingInfo={});ft.interval=o;var gt=function(){var St,Tt;s.pollingInfo&&(!isNetworkRequestInFlight(s.queryInfo.networkStatus)&&!(!((Tt=(St=s.options).skipPollAttempt)===null||Tt===void 0)&&Tt.call(St))?s.reobserve({fetchPolicy:s.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},NetworkStatus.poll).then(xt,xt):xt())},xt=function(){var St=s.pollingInfo;St&&(clearTimeout(St.timeout),St.timeout=setTimeout(gt,St.interval))};xt()}}},e.prototype.updateLastResult=function(s,d){d===void 0&&(d=this.variables);var nt=this.getLastError();return nt&&this.last&&!equal(d,this.last.variables)&&(nt=void 0),this.last=__assign$1({result:this.queryManager.assumeImmutableResults?s:cloneDeep(s),variables:d},nt?{error:nt}:null)},e.prototype.reobserveAsConcast=function(s,d){var nt=this;this.isTornDown=!1;var o=d===NetworkStatus.refetch||d===NetworkStatus.fetchMore||d===NetworkStatus.poll,ft=this.options.variables,gt=this.options.fetchPolicy,xt=compact(this.options,s||{}),St=o?xt:assign$1(this.options,xt),Tt=this.transformDocument(St.query);this.lastQuery=Tt,o||(this.updatePolling(),s&&s.variables&&!equal(s.variables,ft)&&St.fetchPolicy!=="standby"&&(St.fetchPolicy===gt||typeof St.nextFetchPolicy=="function")&&(this.applyNextFetchPolicy("variables-changed",St),d===void 0&&(d=NetworkStatus.setVariables))),this.waitForOwnResult&&(this.waitForOwnResult=skipCacheDataFor(St.fetchPolicy));var At=function(){nt.concast===yt&&(nt.waitForOwnResult=!1)},Ct=St.variables&&__assign$1({},St.variables),Rt=this.fetch(St,d,Tt),yt=Rt.concast,Ot=Rt.fromLink,Nt={next:function(bt){equal(nt.variables,Ct)&&(At(),nt.reportResult(bt,Ct))},error:function(bt){equal(nt.variables,Ct)&&(isApolloError(bt)||(bt=new ApolloError({networkError:bt})),At(),nt.reportError(bt,Ct))}};return!o&&(Ot||!this.concast)&&(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=yt,this.observer=Nt),yt.addObserver(Nt),yt},e.prototype.reobserve=function(s,d){return preventUnhandledRejection(this.reobserveAsConcast(s,d).promise.then(this.maskResult))},e.prototype.resubscribeAfterError=function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];var nt=this.last;this.resetLastResults();var o=this.subscribe.apply(this,s);return this.last=nt,o},e.prototype.observe=function(){this.reportResult(this.getCurrentFullResult(!1),this.variables)},e.prototype.reportResult=function(s,d){var nt=this.getLastError(),o=this.isDifferentFromLastResult(s,d);(nt||!s.partial||this.options.returnPartialData)&&this.updateLastResult(s,d),(nt||o)&&iterateObserversSafely(this.observers,"next",this.maskResult(s))},e.prototype.reportError=function(s,d){var nt=__assign$1(__assign$1({},this.getLastResult()),{error:s,errors:s.graphQLErrors,networkStatus:NetworkStatus.error,loading:!1});this.updateLastResult(nt,d),iterateObserversSafely(this.observers,"error",this.last.error=s)},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(s){return s.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e.prototype.transformDocument=function(s){return this.queryManager.transform(s)},e.prototype.maskResult=function(s){return s&&"data"in s?__assign$1(__assign$1({},s),{data:this.queryManager.maskOperation({document:this.query,data:s.data,fetchPolicy:this.options.fetchPolicy,id:this.queryId})}):s},e.prototype.resetNotifications=function(){this.cancelNotifyTimeout(),this.dirty=!1},e.prototype.cancelNotifyTimeout=function(){this.notifyTimeout&&(clearTimeout(this.notifyTimeout),this.notifyTimeout=void 0)},e.prototype.scheduleNotify=function(){var s=this;this.dirty||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return s.notify()},0)))},e.prototype.notify=function(){if(this.cancelNotifyTimeout(),this.dirty&&(this.options.fetchPolicy=="cache-only"||this.options.fetchPolicy=="cache-and-network"||!isNetworkRequestInFlight(this.queryInfo.networkStatus))){var s=this.queryInfo.getDiff();s.fromOptimisticTransaction?this.observe():this.reobserveCacheFirst()}this.dirty=!1},e.prototype.reobserveCacheFirst=function(){var s=this.options,d=s.fetchPolicy,nt=s.nextFetchPolicy;return d==="cache-and-network"||d==="network-only"?this.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(o,ft){return this.nextFetchPolicy=nt,typeof this.nextFetchPolicy=="function"?this.nextFetchPolicy(o,ft):d}}):this.reobserve()},e.inactiveOnCreation=new Slot,e}(Observable);fixObservableSubclass(ObservableQuery);function defaultSubscriptionObserverErrorCallback(c){globalThis.__DEV__!==!1&&invariant$1.error(25,c.message,c.stack)}function logMissingFieldErrors(c){globalThis.__DEV__!==!1&&c&&globalThis.__DEV__!==!1&&invariant$1.debug(26,c)}function skipCacheDataFor(c){return c==="network-only"||c==="no-cache"||c==="standby"}var destructiveMethodCounts=new(canUseWeakMap?WeakMap:Map);function wrapDestructiveCacheMethod(c,e){var s=c[e];typeof s=="function"&&(c[e]=function(){return destructiveMethodCounts.set(c,(destructiveMethodCounts.get(c)+1)%1e15),s.apply(this,arguments)})}var QueryInfo=function(){function c(e,s){s===void 0&&(s=e.generateQueryId()),this.queryId=s,this.document=null,this.lastRequestId=1,this.stopped=!1,this.observableQuery=null;var d=this.cache=e.cache;destructiveMethodCounts.has(d)||(destructiveMethodCounts.set(d,0),wrapDestructiveCacheMethod(d,"evict"),wrapDestructiveCacheMethod(d,"modify"),wrapDestructiveCacheMethod(d,"reset"))}return c.prototype.init=function(e){var s=e.networkStatus||NetworkStatus.loading;return this.variables&&this.networkStatus!==NetworkStatus.loading&&!equal(this.variables,e.variables)&&(s=NetworkStatus.setVariables),equal(e.variables,this.variables)||(this.lastDiff=void 0,this.cancel()),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:s}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},c.prototype.resetDiff=function(){this.lastDiff=void 0},c.prototype.getDiff=function(){var e=this.getDiffOptions();if(this.lastDiff&&equal(e,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var s=this.observableQuery;if(s&&s.options.fetchPolicy==="no-cache")return{complete:!1};var d=this.cache.diff(e);return this.updateLastDiff(d,e),d},c.prototype.updateLastDiff=function(e,s){this.lastDiff=e?{diff:e,options:s||this.getDiffOptions()}:void 0},c.prototype.getDiffOptions=function(e){var s;return e===void 0&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:(s=this.observableQuery)===null||s===void 0?void 0:s.options.canonizeResults}},c.prototype.setDiff=function(e){var s,d,nt=this.lastDiff&&this.lastDiff.diff;e&&!e.complete&&(!((s=this.observableQuery)===null||s===void 0)&&s.getLastError())||(this.updateLastDiff(e),equal(nt&&nt.result,e&&e.result)||(d=this.observableQuery)===null||d===void 0||d.scheduleNotify())},c.prototype.setObservableQuery=function(e){e!==this.observableQuery&&(this.observableQuery=e,e&&(e.queryInfo=this))},c.prototype.stop=function(){var e;if(!this.stopped){this.stopped=!0,(e=this.observableQuery)===null||e===void 0||e.resetNotifications(),this.cancel();var s=this.observableQuery;s&&s.stopPolling()}},c.prototype.cancel=function(){var e;(e=this.cancelWatch)===null||e===void 0||e.call(this),this.cancelWatch=void 0},c.prototype.updateWatch=function(e){var s=this;e===void 0&&(e=this.variables);var d=this.observableQuery;if(!(d&&d.options.fetchPolicy==="no-cache")){var nt=__assign$1(__assign$1({},this.getDiffOptions(e)),{watcher:this,callback:function(o){return s.setDiff(o)}});(!this.lastWatch||!equal(nt,this.lastWatch))&&(this.cancel(),this.cancelWatch=this.cache.watch(this.lastWatch=nt))}},c.prototype.resetLastWrite=function(){this.lastWrite=void 0},c.prototype.shouldWrite=function(e,s){var d=this.lastWrite;return!(d&&d.dmCount===destructiveMethodCounts.get(this.cache)&&equal(s,d.variables)&&equal(e.data,d.result.data))},c.prototype.markResult=function(e,s,d,nt){var o=this,ft,gt=new DeepMerger,xt=isNonEmptyArray(e.errors)?e.errors.slice(0):[];if((ft=this.observableQuery)===null||ft===void 0||ft.resetNotifications(),"incremental"in e&&isNonEmptyArray(e.incremental)){var St=mergeIncrementalData(this.getDiff().result,e);e.data=St}else if("hasNext"in e&&e.hasNext){var Tt=this.getDiff();e.data=gt.merge(Tt.result,e.data)}this.graphQLErrors=xt,d.fetchPolicy==="no-cache"?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(d.variables)):nt!==0&&(shouldWriteResult(e,d.errorPolicy)?this.cache.performTransaction(function(At){if(o.shouldWrite(e,d.variables))At.writeQuery({query:s,data:e.data,variables:d.variables,overwrite:nt===1}),o.lastWrite={result:e,variables:d.variables,dmCount:destructiveMethodCounts.get(o.cache)};else if(o.lastDiff&&o.lastDiff.diff.complete){e.data=o.lastDiff.diff.result;return}var Ct=o.getDiffOptions(d.variables),Rt=At.diff(Ct);!o.stopped&&equal(o.variables,d.variables)&&o.updateWatch(d.variables),o.updateLastDiff(Rt,Ct),Rt.complete&&(e.data=Rt.result)}):this.lastWrite=void 0)},c.prototype.markReady=function(){return this.networkError=null,this.networkStatus=NetworkStatus.ready},c.prototype.markError=function(e){var s;return this.networkStatus=NetworkStatus.error,this.lastWrite=void 0,(s=this.observableQuery)===null||s===void 0||s.resetNotifications(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},c}();function shouldWriteResult(c,e){e===void 0&&(e="none");var s=e==="ignore"||e==="all",d=!graphQLResultHasError(c);return!d&&s&&c.data&&(d=!0),d}var hasOwnProperty$1=Object.prototype.hasOwnProperty,IGNORE=Object.create(null),QueryManager=function(){function c(e){var s=this;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new AutoCleanedWeakCache(cacheSizes["queryManager.getDocumentInfo"]||2e3),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Trie(!1),this.noCacheWarningsByQueryId=new Set;var d=new DocumentTransform(function(o){return s.cache.transformDocument(o)},{cache:!1});this.cache=e.cache,this.link=e.link,this.defaultOptions=e.defaultOptions,this.queryDeduplication=e.queryDeduplication,this.clientAwareness=e.clientAwareness,this.localState=e.localState,this.ssrMode=e.ssrMode,this.assumeImmutableResults=e.assumeImmutableResults,this.dataMasking=e.dataMasking;var nt=e.documentTransform;this.documentTransform=nt?d.concat(nt).concat(d):d,this.defaultContext=e.defaultContext||Object.create(null),(this.onBroadcast=e.onBroadcast)&&(this.mutationStore=Object.create(null))}return c.prototype.stop=function(){var e=this;this.queries.forEach(function(s,d){e.stopQueryNoBroadcast(d)}),this.cancelPendingFetches(newInvariantError(27))},c.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(s){return s(e)}),this.fetchCancelFns.clear()},c.prototype.mutate=function(e){return __awaiter(this,arguments,void 0,function(s){var d,nt,o,ft,gt,xt,St,Tt=s.mutation,At=s.variables,Ct=s.optimisticResponse,Rt=s.updateQueries,yt=s.refetchQueries,Ot=yt===void 0?[]:yt,Nt=s.awaitRefetchQueries,bt=Nt===void 0?!1:Nt,Dt=s.update,Ft=s.onQueryUpdated,Ut=s.fetchPolicy,Wt=Ut===void 0?((xt=this.defaultOptions.mutate)===null||xt===void 0?void 0:xt.fetchPolicy)||"network-only":Ut,Gt=s.errorPolicy,Xt=Gt===void 0?((St=this.defaultOptions.mutate)===null||St===void 0?void 0:St.errorPolicy)||"none":Gt,Yt=s.keepRootFields,Kt=s.context;return __generator(this,function(jt){switch(jt.label){case 0:return invariant$1(Tt,28),invariant$1(Wt==="network-only"||Wt==="no-cache",29),d=this.generateMutationId(),Tt=this.cache.transformForLink(this.transform(Tt)),nt=this.getDocumentInfo(Tt).hasClientExports,At=this.getVariables(Tt,At),nt?[4,this.localState.addExportedVariables(Tt,At,Kt)]:[3,2];case 1:At=jt.sent(),jt.label=2;case 2:return o=this.mutationStore&&(this.mutationStore[d]={mutation:Tt,variables:At,loading:!0,error:null}),ft=Ct&&this.markMutationOptimistic(Ct,{mutationId:d,document:Tt,variables:At,fetchPolicy:Wt,errorPolicy:Xt,context:Kt,updateQueries:Rt,update:Dt,keepRootFields:Yt}),this.broadcastQueries(),gt=this,[2,new Promise(function(Jt,fn){return asyncMap(gt.getObservableFromLink(Tt,__assign$1(__assign$1({},Kt),{optimisticResponse:ft?Ct:void 0}),At,{},!1),function(sn){if(graphQLResultHasError(sn)&&Xt==="none")throw new ApolloError({graphQLErrors:getGraphQLErrorsFromResult(sn)});o&&(o.loading=!1,o.error=null);var wn=__assign$1({},sn);return typeof Ot=="function"&&(Ot=Ot(wn)),Xt==="ignore"&&graphQLResultHasError(wn)&&delete wn.errors,gt.markMutationResult({mutationId:d,result:wn,document:Tt,variables:At,fetchPolicy:Wt,errorPolicy:Xt,context:Kt,update:Dt,updateQueries:Rt,awaitRefetchQueries:bt,refetchQueries:Ot,removeOptimistic:ft?d:void 0,onQueryUpdated:Ft,keepRootFields:Yt})}).subscribe({next:function(sn){gt.broadcastQueries(),(!("hasNext"in sn)||sn.hasNext===!1)&&Jt(__assign$1(__assign$1({},sn),{data:gt.maskOperation({document:Tt,data:sn.data,fetchPolicy:Wt,id:d})}))},error:function(sn){o&&(o.loading=!1,o.error=sn),ft&&gt.cache.removeOptimistic(d),gt.broadcastQueries(),fn(sn instanceof ApolloError?sn:new ApolloError({networkError:sn}))}})})]}})})},c.prototype.markMutationResult=function(e,s){var d=this;s===void 0&&(s=this.cache);var nt=e.result,o=[],ft=e.fetchPolicy==="no-cache";if(!ft&&shouldWriteResult(nt,e.errorPolicy)){if(isExecutionPatchIncrementalResult(nt)||o.push({result:nt.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),isExecutionPatchIncrementalResult(nt)&&isNonEmptyArray(nt.incremental)){var gt=s.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),xt=void 0;gt.result&&(xt=mergeIncrementalData(gt.result,nt)),typeof xt<"u"&&(nt.data=xt,o.push({result:xt,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var St=e.updateQueries;St&&this.queries.forEach(function(At,Ct){var Rt=At.observableQuery,yt=Rt&&Rt.queryName;if(!(!yt||!hasOwnProperty$1.call(St,yt))){var Ot=St[yt],Nt=d.queries.get(Ct),bt=Nt.document,Dt=Nt.variables,Ft=s.diff({query:bt,variables:Dt,returnPartialData:!0,optimistic:!1}),Ut=Ft.result,Wt=Ft.complete;if(Wt&&Ut){var Gt=Ot(Ut,{mutationResult:nt,queryName:bt&&getOperationName(bt)||void 0,queryVariables:Dt});Gt&&o.push({result:Gt,dataId:"ROOT_QUERY",query:bt,variables:Dt})}}})}if(o.length>0||(e.refetchQueries||"").length>0||e.update||e.onQueryUpdated||e.removeOptimistic){var Tt=[];if(this.refetchQueries({updateCache:function(At){ft||o.forEach(function(Ot){return At.write(Ot)});var Ct=e.update,Rt=!isExecutionPatchResult(nt)||isExecutionPatchIncrementalResult(nt)&&!nt.hasNext;if(Ct){if(!ft){var yt=At.diff({id:"ROOT_MUTATION",query:d.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});yt.complete&&(nt=__assign$1(__assign$1({},nt),{data:yt.result}),"incremental"in nt&&delete nt.incremental,"hasNext"in nt&&delete nt.hasNext)}Rt&&Ct(At,nt,{context:e.context,variables:e.variables})}!ft&&!e.keepRootFields&&Rt&&At.modify({id:"ROOT_MUTATION",fields:function(Ot,Nt){var bt=Nt.fieldName,Dt=Nt.DELETE;return bt==="__typename"?Ot:Dt}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(At){return Tt.push(At)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(Tt).then(function(){return nt})}return Promise.resolve(nt)},c.prototype.markMutationOptimistic=function(e,s){var d=this,nt=typeof e=="function"?e(s.variables,{IGNORE}):e;return nt===IGNORE?!1:(this.cache.recordOptimisticTransaction(function(o){try{d.markMutationResult(__assign$1(__assign$1({},s),{result:{data:nt}}),o)}catch(ft){globalThis.__DEV__!==!1&&invariant$1.error(ft)}},s.mutationId),!0)},c.prototype.fetchQuery=function(e,s,d){return this.fetchConcastWithInfo(this.getOrCreateQuery(e),s,d).concast.promise},c.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(s,d){e[d]={variables:s.variables,networkStatus:s.networkStatus,networkError:s.networkError,graphQLErrors:s.graphQLErrors}}),e},c.prototype.resetErrors=function(e){var s=this.queries.get(e);s&&(s.networkError=void 0,s.graphQLErrors=[])},c.prototype.transform=function(e){return this.documentTransform.transformDocument(e)},c.prototype.getDocumentInfo=function(e){var s=this.transformCache;if(!s.has(e)){var d={hasClientExports:hasClientExports(e),hasForcedResolvers:this.localState.shouldForceResolvers(e),hasNonreactiveDirective:hasDirectives(["nonreactive"],e),nonReactiveQuery:addNonReactiveToNamedFragments(e),clientQuery:this.localState.clientQuery(e),serverQuery:removeDirectivesFromDocument([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"},{name:"unmask"}],e),defaultVars:getDefaultValues(getOperationDefinition(e)),asQuery:__assign$1(__assign$1({},e),{definitions:e.definitions.map(function(nt){return nt.kind==="OperationDefinition"&&nt.operation!=="query"?__assign$1(__assign$1({},nt),{operation:"query"}):nt})})};s.set(e,d)}return s.get(e)},c.prototype.getVariables=function(e,s){return __assign$1(__assign$1({},this.getDocumentInfo(e).defaultVars),s)},c.prototype.watchQuery=function(e){var s=this.transform(e.query);e=__assign$1(__assign$1({},e),{variables:this.getVariables(s,e.variables)}),typeof e.notifyOnNetworkStatusChange>"u"&&(e.notifyOnNetworkStatusChange=!1);var d=new QueryInfo(this),nt=new ObservableQuery({queryManager:this,queryInfo:d,options:e});return nt.lastQuery=s,ObservableQuery.inactiveOnCreation.getValue()||this.queries.set(nt.queryId,d),d.init({document:s,observableQuery:nt,variables:nt.variables}),nt},c.prototype.query=function(e,s){var d=this;s===void 0&&(s=this.generateQueryId()),invariant$1(e.query,30),invariant$1(e.query.kind==="Document",31),invariant$1(!e.returnPartialData,32),invariant$1(!e.pollInterval,33);var nt=this.transform(e.query);return this.fetchQuery(s,__assign$1(__assign$1({},e),{query:nt})).then(function(o){return o&&__assign$1(__assign$1({},o),{data:d.maskOperation({document:nt,data:o.data,fetchPolicy:e.fetchPolicy,id:s})})}).finally(function(){return d.stopQuery(s)})},c.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},c.prototype.generateRequestId=function(){return this.requestIdCounter++},c.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},c.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},c.prototype.stopQueryInStoreNoBroadcast=function(e){var s=this.queries.get(e);s&&s.stop()},c.prototype.clearStore=function(e){return e===void 0&&(e={discardWatches:!0}),this.cancelPendingFetches(newInvariantError(34)),this.queries.forEach(function(s){s.observableQuery?s.networkStatus=NetworkStatus.loading:s.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},c.prototype.getObservableQueries=function(e){var s=this;e===void 0&&(e="active");var d=new Map,nt=new Map,o=new Map,ft=new Set;return Array.isArray(e)&&e.forEach(function(gt){if(typeof gt=="string")nt.set(gt,gt),o.set(gt,!1);else if(isDocumentNode(gt)){var xt=print$1(s.transform(gt));nt.set(xt,getOperationName(gt)),o.set(xt,!1)}else isNonNullObject(gt)&&gt.query&&ft.add(gt)}),this.queries.forEach(function(gt,xt){var St=gt.observableQuery,Tt=gt.document;if(St){if(e==="all"){d.set(xt,St);return}var At=St.queryName,Ct=St.options.fetchPolicy;if(Ct==="standby"||e==="active"&&!St.hasObservers())return;(e==="active"||At&&o.has(At)||Tt&&o.has(print$1(Tt)))&&(d.set(xt,St),At&&o.set(At,!0),Tt&&o.set(print$1(Tt),!0))}}),ft.size&&ft.forEach(function(gt){var xt=makeUniqueId("legacyOneTimeQuery"),St=s.getOrCreateQuery(xt).init({document:gt.query,variables:gt.variables}),Tt=new ObservableQuery({queryManager:s,queryInfo:St,options:__assign$1(__assign$1({},gt),{fetchPolicy:"network-only"})});invariant$1(Tt.queryId===xt),St.setObservableQuery(Tt),d.set(xt,Tt)}),globalThis.__DEV__!==!1&&o.size&&o.forEach(function(gt,xt){if(!gt){var St=nt.get(xt);St?globalThis.__DEV__!==!1&&invariant$1.warn(35,St):globalThis.__DEV__!==!1&&invariant$1.warn(36)}}),d},c.prototype.reFetchObservableQueries=function(e){var s=this;e===void 0&&(e=!1);var d=[];return this.getObservableQueries(e?"all":"active").forEach(function(nt,o){var ft=nt.options.fetchPolicy;nt.resetLastResults(),(e||ft!=="standby"&&ft!=="cache-only")&&d.push(nt.refetch()),(s.queries.get(o)||nt.queryInfo).setDiff(null)}),this.broadcastQueries(),Promise.all(d)},c.prototype.startGraphQLSubscription=function(e){var s=this,d=e.query,nt=e.variables,o=e.fetchPolicy,ft=e.errorPolicy,gt=ft===void 0?"none":ft,xt=e.context,St=xt===void 0?{}:xt,Tt=e.extensions,At=Tt===void 0?{}:Tt;d=this.transform(d),nt=this.getVariables(d,nt);var Ct=function(yt){return s.getObservableFromLink(d,St,yt,At).map(function(Ot){o!=="no-cache"&&(shouldWriteResult(Ot,gt)&&s.cache.write({query:d,result:Ot.data,dataId:"ROOT_SUBSCRIPTION",variables:yt}),s.broadcastQueries());var Nt=graphQLResultHasError(Ot),bt=graphQLResultHasProtocolErrors(Ot);if(Nt||bt){var Dt={};if(Nt&&(Dt.graphQLErrors=Ot.errors),bt&&(Dt.protocolErrors=Ot.extensions[PROTOCOL_ERRORS_SYMBOL]),gt==="none"||bt)throw new ApolloError(Dt)}return gt==="ignore"&&delete Ot.errors,Ot})};if(this.getDocumentInfo(d).hasClientExports){var Rt=this.localState.addExportedVariables(d,nt,St).then(Ct);return new Observable(function(yt){var Ot=null;return Rt.then(function(Nt){return Ot=Nt.subscribe(yt)},yt.error),function(){return Ot&&Ot.unsubscribe()}})}return Ct(nt)},c.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},c.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},c.prototype.removeQuery=function(e){var s;this.fetchCancelFns.delete(e),this.queries.has(e)&&((s=this.queries.get(e))===null||s===void 0||s.stop(),this.queries.delete(e))},c.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){var s;return(s=e.observableQuery)===null||s===void 0?void 0:s.notify()})},c.prototype.getLocalState=function(){return this.localState},c.prototype.getObservableFromLink=function(e,s,d,nt,o){var ft=this,gt;o===void 0&&(o=(gt=s==null?void 0:s.queryDeduplication)!==null&&gt!==void 0?gt:this.queryDeduplication);var xt,St=this.getDocumentInfo(e),Tt=St.serverQuery,At=St.clientQuery;if(Tt){var Ct=this,Rt=Ct.inFlightLinkObservables,yt=Ct.link,Ot={query:Tt,variables:d,operationName:getOperationName(Tt)||void 0,context:this.prepareContext(__assign$1(__assign$1({},s),{forceFetch:!o})),extensions:nt};if(s=Ot.context,o){var Nt=print$1(Tt),bt=canonicalStringify(d),Dt=Rt.lookup(Nt,bt);if(xt=Dt.observable,!xt){var Ft=new Concast([execute(yt,Ot)]);xt=Dt.observable=Ft,Ft.beforeNext(function Ut(Wt,Gt){Wt==="next"&&"hasNext"in Gt&&Gt.hasNext?Ft.beforeNext(Ut):Rt.remove(Nt,bt)})}}else xt=new Concast([execute(yt,Ot)])}else xt=new Concast([Observable.of({data:{}})]),s=this.prepareContext(s);return At&&(xt=asyncMap(xt,function(Ut){return ft.localState.runResolvers({document:At,remoteResult:Ut,context:s,variables:d})})),xt},c.prototype.getResultsFromLink=function(e,s,d){var nt=e.lastRequestId=this.generateRequestId(),o=this.cache.transformForLink(d.query);return asyncMap(this.getObservableFromLink(o,d.context,d.variables),function(ft){var gt=getGraphQLErrorsFromResult(ft),xt=gt.length>0,St=d.errorPolicy;if(nt>=e.lastRequestId){if(xt&&St==="none")throw e.markError(new ApolloError({graphQLErrors:gt}));e.markResult(ft,o,d,s),e.markReady()}var Tt={data:ft.data,loading:!1,networkStatus:NetworkStatus.ready};return xt&&St==="none"&&(Tt.data=void 0),xt&&St!=="ignore"&&(Tt.errors=gt,Tt.networkStatus=NetworkStatus.error),Tt},function(ft){var gt=isApolloError(ft)?ft:new ApolloError({networkError:ft});throw nt>=e.lastRequestId&&e.markError(gt),gt})},c.prototype.fetchConcastWithInfo=function(e,s,d,nt){var o=this;d===void 0&&(d=NetworkStatus.loading),nt===void 0&&(nt=s.query);var ft=this.getVariables(nt,s.variables),gt=this.defaultOptions.watchQuery,xt=s.fetchPolicy,St=xt===void 0?gt&&gt.fetchPolicy||"cache-first":xt,Tt=s.errorPolicy,At=Tt===void 0?gt&&gt.errorPolicy||"none":Tt,Ct=s.returnPartialData,Rt=Ct===void 0?!1:Ct,yt=s.notifyOnNetworkStatusChange,Ot=yt===void 0?!1:yt,Nt=s.context,bt=Nt===void 0?{}:Nt,Dt=Object.assign({},s,{query:nt,variables:ft,fetchPolicy:St,errorPolicy:At,returnPartialData:Rt,notifyOnNetworkStatusChange:Ot,context:bt}),Ft=function(Yt){Dt.variables=Yt;var Kt=o.fetchQueryByPolicy(e,Dt,d);return Dt.fetchPolicy!=="standby"&&Kt.sources.length>0&&e.observableQuery&&e.observableQuery.applyNextFetchPolicy("after-fetch",s),Kt},Ut=function(){return o.fetchCancelFns.delete(e.queryId)};this.fetchCancelFns.set(e.queryId,function(Yt){Ut(),setTimeout(function(){return Wt.cancel(Yt)})});var Wt,Gt;if(this.getDocumentInfo(Dt.query).hasClientExports)Wt=new Concast(this.localState.addExportedVariables(Dt.query,Dt.variables,Dt.context).then(Ft).then(function(Yt){return Yt.sources})),Gt=!0;else{var Xt=Ft(Dt.variables);Gt=Xt.fromLink,Wt=new Concast(Xt.sources)}return Wt.promise.then(Ut,Ut),{concast:Wt,fromLink:Gt}},c.prototype.refetchQueries=function(e){var s=this,d=e.updateCache,nt=e.include,o=e.optimistic,ft=o===void 0?!1:o,gt=e.removeOptimistic,xt=gt===void 0?ft?makeUniqueId("refetchQueries"):void 0:gt,St=e.onQueryUpdated,Tt=new Map;nt&&this.getObservableQueries(nt).forEach(function(Ct,Rt){Tt.set(Rt,{oq:Ct,lastDiff:(s.queries.get(Rt)||Ct.queryInfo).getDiff()})});var At=new Map;return d&&this.cache.batch({update:d,optimistic:ft&&xt||!1,removeOptimistic:xt,onWatchUpdated:function(Ct,Rt,yt){var Ot=Ct.watcher instanceof QueryInfo&&Ct.watcher.observableQuery;if(Ot){if(St){Tt.delete(Ot.queryId);var Nt=St(Ot,Rt,yt);return Nt===!0&&(Nt=Ot.refetch()),Nt!==!1&&At.set(Ot,Nt),Nt}St!==null&&Tt.set(Ot.queryId,{oq:Ot,lastDiff:yt,diff:Rt})}}}),Tt.size&&Tt.forEach(function(Ct,Rt){var yt=Ct.oq,Ot=Ct.lastDiff,Nt=Ct.diff,bt;St&&(Nt||(Nt=s.cache.diff(yt.queryInfo.getDiffOptions())),bt=St(yt,Nt,Ot)),(!St||bt===!0)&&(bt=yt.refetch()),bt!==!1&&At.set(yt,bt),Rt.indexOf("legacyOneTimeQuery")>=0&&s.stopQueryNoBroadcast(Rt)}),xt&&this.cache.removeOptimistic(xt),At},c.prototype.maskOperation=function(e){var s,d,nt,o=e.document,ft=e.data;if(globalThis.__DEV__!==!1){var gt=e.fetchPolicy,xt=e.id,St=(s=getOperationDefinition(o))===null||s===void 0?void 0:s.operation,Tt=((d=St==null?void 0:St[0])!==null&&d!==void 0?d:"o")+xt;this.dataMasking&&gt==="no-cache"&&!isFullyUnmaskedOperation(o)&&!this.noCacheWarningsByQueryId.has(Tt)&&(this.noCacheWarningsByQueryId.add(Tt),globalThis.__DEV__!==!1&&invariant$1.warn(37,(nt=getOperationName(o))!==null&&nt!==void 0?nt:"Unnamed ".concat(St??"operation")))}return this.dataMasking?maskOperation(ft,o,this.cache):ft},c.prototype.maskFragment=function(e){var s=e.data,d=e.fragment,nt=e.fragmentName;return this.dataMasking?maskFragment(s,d,this.cache,nt):s},c.prototype.fetchQueryByPolicy=function(e,s,d){var nt=this,o=s.query,ft=s.variables,gt=s.fetchPolicy,xt=s.refetchWritePolicy,St=s.errorPolicy,Tt=s.returnPartialData,At=s.context,Ct=s.notifyOnNetworkStatusChange,Rt=e.networkStatus;e.init({document:o,variables:ft,networkStatus:d});var yt=function(){return e.getDiff()},Ot=function(Ut,Wt){Wt===void 0&&(Wt=e.networkStatus||NetworkStatus.loading);var Gt=Ut.result;globalThis.__DEV__!==!1&&!Tt&&!equal(Gt,{})&&logMissingFieldErrors(Ut.missing);var Xt=function(Yt){return Observable.of(__assign$1({data:Yt,loading:isNetworkRequestInFlight(Wt),networkStatus:Wt},Ut.complete?null:{partial:!0}))};return Gt&&nt.getDocumentInfo(o).hasForcedResolvers?nt.localState.runResolvers({document:o,remoteResult:{data:Gt},context:At,variables:ft,onlyRunForcedResolvers:!0}).then(function(Yt){return Xt(Yt.data||void 0)}):St==="none"&&Wt===NetworkStatus.refetch&&Array.isArray(Ut.missing)?Xt(void 0):Xt(Gt)},Nt=gt==="no-cache"?0:d===NetworkStatus.refetch&&xt!=="merge"?1:2,bt=function(){return nt.getResultsFromLink(e,Nt,{query:o,variables:ft,context:At,fetchPolicy:gt,errorPolicy:St})},Dt=Ct&&typeof Rt=="number"&&Rt!==d&&isNetworkRequestInFlight(d);switch(gt){default:case"cache-first":{var Ft=yt();return Ft.complete?{fromLink:!1,sources:[Ot(Ft,e.markReady())]}:Tt||Dt?{fromLink:!0,sources:[Ot(Ft),bt()]}:{fromLink:!0,sources:[bt()]}}case"cache-and-network":{var Ft=yt();return Ft.complete||Tt||Dt?{fromLink:!0,sources:[Ot(Ft),bt()]}:{fromLink:!0,sources:[bt()]}}case"cache-only":return{fromLink:!1,sources:[Ot(yt(),e.markReady())]};case"network-only":return Dt?{fromLink:!0,sources:[Ot(yt()),bt()]}:{fromLink:!0,sources:[bt()]};case"no-cache":return Dt?{fromLink:!0,sources:[Ot(e.getDiff()),bt()]}:{fromLink:!0,sources:[bt()]};case"standby":return{fromLink:!1,sources:[]}}},c.prototype.getOrCreateQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new QueryInfo(this,e)),this.queries.get(e)},c.prototype.prepareContext=function(e){e===void 0&&(e={});var s=this.localState.prepareContext(e);return __assign$1(__assign$1(__assign$1({},this.defaultContext),s),{clientAwareness:this.clientAwareness})},c}(),LocalState=function(){function c(e){var s=e.cache,d=e.client,nt=e.resolvers,o=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=s,d&&(this.client=d),nt&&this.addResolvers(nt),o&&this.setFragmentMatcher(o)}return c.prototype.addResolvers=function(e){var s=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(d){s.resolvers=mergeDeep(s.resolvers,d)}):this.resolvers=mergeDeep(this.resolvers,e)},c.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},c.prototype.getResolvers=function(){return this.resolvers||{}},c.prototype.runResolvers=function(e){return __awaiter(this,arguments,void 0,function(s){var d=s.document,nt=s.remoteResult,o=s.context,ft=s.variables,gt=s.onlyRunForcedResolvers,xt=gt===void 0?!1:gt;return __generator(this,function(St){return d?[2,this.resolveDocument(d,nt.data,o,ft,this.fragmentMatcher,xt).then(function(Tt){return __assign$1(__assign$1({},nt),{data:Tt.result})})]:[2,nt]})})},c.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},c.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},c.prototype.clientQuery=function(e){return hasDirectives(["client"],e)&&this.resolvers?e:null},c.prototype.serverQuery=function(e){return removeClientSetsFromDocument(e)},c.prototype.prepareContext=function(e){var s=this.cache;return __assign$1(__assign$1({},e),{cache:s,getCacheKey:function(d){return s.identify(d)}})},c.prototype.addExportedVariables=function(e){return __awaiter(this,arguments,void 0,function(s,d,nt){return d===void 0&&(d={}),nt===void 0&&(nt={}),__generator(this,function(o){return s?[2,this.resolveDocument(s,this.buildRootValueFromCache(s,d)||{},this.prepareContext(nt),d).then(function(ft){return __assign$1(__assign$1({},d),ft.exportedVariables)})]:[2,__assign$1({},d)]})})},c.prototype.shouldForceResolvers=function(e){var s=!1;return visit(e,{Directive:{enter:function(d){if(d.name.value==="client"&&d.arguments&&(s=d.arguments.some(function(nt){return nt.name.value==="always"&&nt.value.kind==="BooleanValue"&&nt.value.value===!0}),s))return BREAK}}}),s},c.prototype.buildRootValueFromCache=function(e,s){return this.cache.diff({query:buildQueryFromSelectionSet(e),variables:s,returnPartialData:!0,optimistic:!1}).result},c.prototype.resolveDocument=function(e,s){return __awaiter(this,arguments,void 0,function(d,nt,o,ft,gt,xt){var St,Tt,At,Ct,Rt,yt,Ot,Nt,bt,Dt,Ft;return o===void 0&&(o={}),ft===void 0&&(ft={}),gt===void 0&&(gt=function(){return!0}),xt===void 0&&(xt=!1),__generator(this,function(Ut){return St=getMainDefinition(d),Tt=getFragmentDefinitions(d),At=createFragmentMap(Tt),Ct=this.collectSelectionsToResolve(St,At),Rt=St.operation,yt=Rt?Rt.charAt(0).toUpperCase()+Rt.slice(1):"Query",Ot=this,Nt=Ot.cache,bt=Ot.client,Dt={fragmentMap:At,context:__assign$1(__assign$1({},o),{cache:Nt,client:bt}),variables:ft,fragmentMatcher:gt,defaultOperationType:yt,exportedVariables:{},selectionsToResolve:Ct,onlyRunForcedResolvers:xt},Ft=!1,[2,this.resolveSelectionSet(St.selectionSet,Ft,nt,Dt).then(function(Wt){return{result:Wt,exportedVariables:Dt.exportedVariables}})]})})},c.prototype.resolveSelectionSet=function(e,s,d,nt){return __awaiter(this,void 0,void 0,function(){var o,ft,gt,xt,St,Tt=this;return __generator(this,function(At){return o=nt.fragmentMap,ft=nt.context,gt=nt.variables,xt=[d],St=function(Ct){return __awaiter(Tt,void 0,void 0,function(){var Rt,yt;return __generator(this,function(Ot){return!s&&!nt.selectionsToResolve.has(Ct)?[2]:shouldInclude(Ct,gt)?isField(Ct)?[2,this.resolveField(Ct,s,d,nt).then(function(Nt){var bt;typeof Nt<"u"&&xt.push((bt={},bt[resultKeyNameFromField(Ct)]=Nt,bt))})]:(isInlineFragment(Ct)?Rt=Ct:(Rt=o[Ct.name.value],invariant$1(Rt,19,Ct.name.value)),Rt&&Rt.typeCondition&&(yt=Rt.typeCondition.name.value,nt.fragmentMatcher(d,yt,ft))?[2,this.resolveSelectionSet(Rt.selectionSet,s,d,nt).then(function(Nt){xt.push(Nt)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(St)).then(function(){return mergeDeepArray(xt)})]})})},c.prototype.resolveField=function(e,s,d,nt){return __awaiter(this,void 0,void 0,function(){var o,ft,gt,xt,St,Tt,At,Ct,Rt,yt=this;return __generator(this,function(Ot){return d?(o=nt.variables,ft=e.name.value,gt=resultKeyNameFromField(e),xt=ft!==gt,St=d[gt]||d[ft],Tt=Promise.resolve(St),(!nt.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(At=d.__typename||nt.defaultOperationType,Ct=this.resolvers&&this.resolvers[At],Ct&&(Rt=Ct[xt?ft:gt],Rt&&(Tt=Promise.resolve(cacheSlot.withValue(this.cache,Rt,[d,argumentsObjectFromField(e,o),nt.context,{field:e,fragmentMap:nt.fragmentMap}]))))),[2,Tt.then(function(Nt){var bt,Dt;if(Nt===void 0&&(Nt=St),e.directives&&e.directives.forEach(function(Ut){Ut.name.value==="export"&&Ut.arguments&&Ut.arguments.forEach(function(Wt){Wt.name.value==="as"&&Wt.value.kind==="StringValue"&&(nt.exportedVariables[Wt.value.value]=Nt)})}),!e.selectionSet||Nt==null)return Nt;var Ft=(Dt=(bt=e.directives)===null||bt===void 0?void 0:bt.some(function(Ut){return Ut.name.value==="client"}))!==null&&Dt!==void 0?Dt:!1;if(Array.isArray(Nt))return yt.resolveSubSelectedArray(e,s||Ft,Nt,nt);if(e.selectionSet)return yt.resolveSelectionSet(e.selectionSet,s||Ft,Nt,nt)})]):[2,null]})})},c.prototype.resolveSubSelectedArray=function(e,s,d,nt){var o=this;return Promise.all(d.map(function(ft){if(ft===null)return null;if(Array.isArray(ft))return o.resolveSubSelectedArray(e,s,ft,nt);if(e.selectionSet)return o.resolveSelectionSet(e.selectionSet,s,ft,nt)}))},c.prototype.collectSelectionsToResolve=function(e,s){var d=function(ft){return!Array.isArray(ft)},nt=this.selectionsToResolveCache;function o(ft){if(!nt.has(ft)){var gt=new Set;nt.set(ft,gt),visit(ft,{Directive:function(xt,St,Tt,At,Ct){xt.name.value==="client"&&Ct.forEach(function(Rt){d(Rt)&&isSelectionNode(Rt)&&gt.add(Rt)})},FragmentSpread:function(xt,St,Tt,At,Ct){var Rt=s[xt.name.value];invariant$1(Rt,20,xt.name.value);var yt=o(Rt);yt.size>0&&(Ct.forEach(function(Ot){d(Ot)&&isSelectionNode(Ot)&&gt.add(Ot)}),gt.add(xt),yt.forEach(function(Ot){gt.add(Ot)}))}})}return nt.get(ft)}return o(e)},c}(),hasSuggestedDevtools=!1,ApolloClient=function(){function c(e){var s=this,d;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!e.cache)throw newInvariantError(16);var nt=e.uri,o=e.credentials,ft=e.headers,gt=e.cache,xt=e.documentTransform,St=e.ssrMode,Tt=St===void 0?!1:St,At=e.ssrForceFetchDelay,Ct=At===void 0?0:At,Rt=e.connectToDevTools,yt=e.queryDeduplication,Ot=yt===void 0?!0:yt,Nt=e.defaultOptions,bt=e.defaultContext,Dt=e.assumeImmutableResults,Ft=Dt===void 0?gt.assumeImmutableResults:Dt,Ut=e.resolvers,Wt=e.typeDefs,Gt=e.fragmentMatcher,Xt=e.name,Yt=e.version,Kt=e.devtools,jt=e.dataMasking,Jt=e.link;Jt||(Jt=nt?new HttpLink({uri:nt,credentials:o,headers:ft}):ApolloLink.empty()),this.link=Jt,this.cache=gt,this.disableNetworkFetches=Tt||Ct>0,this.queryDeduplication=Ot,this.defaultOptions=Nt||Object.create(null),this.typeDefs=Wt,this.devtoolsConfig=__assign$1(__assign$1({},Kt),{enabled:(d=Kt==null?void 0:Kt.enabled)!==null&&d!==void 0?d:Rt}),this.devtoolsConfig.enabled===void 0&&(this.devtoolsConfig.enabled=globalThis.__DEV__!==!1),Ct&&setTimeout(function(){return s.disableNetworkFetches=!1},Ct),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.watchFragment=this.watchFragment.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=version,this.localState=new LocalState({cache:gt,client:this,resolvers:Ut,fragmentMatcher:Gt}),this.queryManager=new QueryManager({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,defaultContext:bt,documentTransform:xt,queryDeduplication:Ot,ssrMode:Tt,dataMasking:!!jt,clientAwareness:{name:Xt,version:Yt},localState:this.localState,assumeImmutableResults:Ft,onBroadcast:this.devtoolsConfig.enabled?function(){s.devToolsHookCb&&s.devToolsHookCb({action:{},state:{queries:s.queryManager.getQueryStore(),mutations:s.queryManager.mutationStore||{}},dataWithOptimisticResults:s.cache.extract(!0)})}:void 0}),this.devtoolsConfig.enabled&&this.connectToDevTools()}return c.prototype.connectToDevTools=function(){if(!(typeof window>"u")){var e=window,s=Symbol.for("apollo.devtools");(e[s]=e[s]||[]).push(this),e.__APOLLO_CLIENT__=this,!hasSuggestedDevtools&&globalThis.__DEV__!==!1&&(hasSuggestedDevtools=!0,window.document&&window.top===window.self&&/^(https?|file):$/.test(window.location.protocol)&&setTimeout(function(){if(!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__){var d=window.navigator,nt=d&&d.userAgent,o=void 0;typeof nt=="string"&&(nt.indexOf("Chrome/")>-1?o="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":nt.indexOf("Firefox/")>-1&&(o="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),o&&globalThis.__DEV__!==!1&&invariant$1.log("Download the Apollo DevTools for a better development experience: %s",o)}},1e4))}},Object.defineProperty(c.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),c.prototype.stop=function(){this.queryManager.stop()},c.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=mergeOptions(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=__assign$1(__assign$1({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},c.prototype.query=function(e){return this.defaultOptions.query&&(e=mergeOptions(this.defaultOptions.query,e)),invariant$1(e.fetchPolicy!=="cache-and-network",17),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=__assign$1(__assign$1({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},c.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=mergeOptions(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},c.prototype.subscribe=function(e){var s=this,d=this.queryManager.generateQueryId();return this.queryManager.startGraphQLSubscription(e).map(function(nt){return __assign$1(__assign$1({},nt),{data:s.queryManager.maskOperation({document:e.query,data:nt.data,fetchPolicy:e.fetchPolicy,id:d})})})},c.prototype.readQuery=function(e,s){return s===void 0&&(s=!1),this.cache.readQuery(e,s)},c.prototype.watchFragment=function(e){var s;return this.cache.watchFragment(__assign$1(__assign$1({},e),(s={},s[Symbol.for("apollo.dataMasking")]=this.queryManager.dataMasking,s)))},c.prototype.readFragment=function(e,s){return s===void 0&&(s=!1),this.cache.readFragment(e,s)},c.prototype.writeQuery=function(e){var s=this.cache.writeQuery(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),s},c.prototype.writeFragment=function(e){var s=this.cache.writeFragment(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),s},c.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},c.prototype.__requestRaw=function(e){return execute(this.link,e)},c.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(s){return s()}))}).then(function(){return e.reFetchObservableQueries()})},c.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(s){return s()}))})},c.prototype.onResetStore=function(e){var s=this;return this.resetStoreCallbacks.push(e),function(){s.resetStoreCallbacks=s.resetStoreCallbacks.filter(function(d){return d!==e})}},c.prototype.onClearStore=function(e){var s=this;return this.clearStoreCallbacks.push(e),function(){s.clearStoreCallbacks=s.clearStoreCallbacks.filter(function(d){return d!==e})}},c.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},c.prototype.refetchQueries=function(e){var s=this.queryManager.refetchQueries(e),d=[],nt=[];s.forEach(function(ft,gt){d.push(gt),nt.push(ft)});var o=Promise.all(nt);return o.queries=d,o.results=nt,o.catch(function(ft){globalThis.__DEV__!==!1&&invariant$1.debug(18,ft)}),o},c.prototype.getObservableQueries=function(e){return e===void 0&&(e="active"),this.queryManager.getObservableQueries(e)},c.prototype.extract=function(e){return this.cache.extract(e)},c.prototype.restore=function(e){return this.cache.restore(e)},c.prototype.addResolvers=function(e){this.localState.addResolvers(e)},c.prototype.setResolvers=function(e){this.localState.setResolvers(e)},c.prototype.getResolvers=function(){return this.localState.getResolvers()},c.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},c.prototype.setLink=function(e){this.link=this.queryManager.link=e},Object.defineProperty(c.prototype,"defaultContext",{get:function(){return this.queryManager.defaultContext},enumerable:!1,configurable:!0}),c}();globalThis.__DEV__!==!1&&(ApolloClient.prototype.getMemoryInternals=getApolloClientMemoryInternals);var docCache=new Map,fragmentSourceMap=new Map,printFragmentWarnings=!0,experimentalFragmentVariables=!1;function normalize$1(c){return c.replace(/[\s,]+/g," ").trim()}function cacheKeyFromLoc(c){return normalize$1(c.source.body.substring(c.start,c.end))}function processFragments(c){var e=new Set,s=[];return c.definitions.forEach(function(d){if(d.kind==="FragmentDefinition"){var nt=d.name.value,o=cacheKeyFromLoc(d.loc),ft=fragmentSourceMap.get(nt);ft&&!ft.has(o)?printFragmentWarnings&&console.warn("Warning: fragment with name "+nt+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):ft||fragmentSourceMap.set(nt,ft=new Set),ft.add(o),e.has(o)||(e.add(o),s.push(d))}else s.push(d)}),__assign$1(__assign$1({},c),{definitions:s})}function stripLoc(c){var e=new Set(c.definitions);e.forEach(function(d){d.loc&&delete d.loc,Object.keys(d).forEach(function(nt){var o=d[nt];o&&typeof o=="object"&&e.add(o)})});var s=c.loc;return s&&(delete s.startToken,delete s.endToken),c}function parseDocument(c){var e=normalize$1(c);if(!docCache.has(e)){var s=parse$1(c,{experimentalFragmentVariables,allowLegacyFragmentVariables:experimentalFragmentVariables});if(!s||s.kind!=="Document")throw new Error("Not a valid GraphQL document.");docCache.set(e,stripLoc(processFragments(s)))}return docCache.get(e)}function gql(c){for(var e=[],s=1;s<arguments.length;s++)e[s-1]=arguments[s];typeof c=="string"&&(c=[c]);var d=c[0];return e.forEach(function(nt,o){nt&&nt.kind==="Document"?d+=nt.loc.source.body:d+=nt,d+=c[o+1]}),parseDocument(d)}function resetCaches(){docCache.clear(),fragmentSourceMap.clear()}function disableFragmentWarnings(){printFragmentWarnings=!1}function enableExperimentalFragmentVariables(){experimentalFragmentVariables=!0}function disableExperimentalFragmentVariables(){experimentalFragmentVariables=!1}var extras={gql,resetCaches,disableFragmentWarnings,enableExperimentalFragmentVariables,disableExperimentalFragmentVariables};(function(c){c.gql=extras.gql,c.resetCaches=extras.resetCaches,c.disableFragmentWarnings=extras.disableFragmentWarnings,c.enableExperimentalFragmentVariables=extras.enableExperimentalFragmentVariables,c.disableExperimentalFragmentVariables=extras.disableExperimentalFragmentVariables})(gql||(gql={}));gql.default=gql;var rehackt={exports:{}};(function(c){c.exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=void 0,c.exports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=void 0,c.exports.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=void 0,Object.assign(c.exports,reactExports)})(rehackt);var rehacktExports=rehackt.exports;const index$1=getDefaultExportFromCjs(rehacktExports),React$1=_mergeNamespaces({__proto__:null,default:index$1},[rehacktExports]);var contextKey=canUseSymbol?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function getApolloContext(){invariant$1("createContext"in React$1,54);var c=rehacktExports.createContext[contextKey];return c||(Object.defineProperty(rehacktExports.createContext,contextKey,{value:c=rehacktExports.createContext({}),enumerable:!1,writable:!1,configurable:!0}),c.displayName="ApolloContext"),c}var ApolloProvider=function(c){var e=c.client,s=c.children,d=getApolloContext(),nt=rehacktExports.useContext(d),o=rehacktExports.useMemo(function(){return __assign$1(__assign$1({},nt),{client:e||nt.client})},[nt,e]);return invariant$1(o.client,55),rehacktExports.createElement(d.Provider,{value:o},s)};function useApolloClient(c){var e=rehacktExports.useContext(getApolloContext()),s=c||e.client;return invariant$1(!!s,58),s}var didWarnUncachedGetSnapshot=!1,uSESKey="useSyncExternalStore",realHook=React$1[uSESKey],useSyncExternalStore=realHook||function(c,e,s){var d=e();globalThis.__DEV__!==!1&&!didWarnUncachedGetSnapshot&&d!==e()&&(didWarnUncachedGetSnapshot=!0,globalThis.__DEV__!==!1&&invariant$1.error(68));var nt=rehacktExports.useState({inst:{value:d,getSnapshot:e}}),o=nt[0].inst,ft=nt[1];return canUseLayoutEffect?rehacktExports.useLayoutEffect(function(){Object.assign(o,{value:d,getSnapshot:e}),checkIfSnapshotChanged(o)&&ft({inst:o})},[c,d,e]):Object.assign(o,{value:d,getSnapshot:e}),rehacktExports.useEffect(function(){return checkIfSnapshotChanged(o)&&ft({inst:o}),c(function(){checkIfSnapshotChanged(o)&&ft({inst:o})})},[c]),d};function checkIfSnapshotChanged(c){var e=c.value,s=c.getSnapshot;try{return e!==s()}catch{return!0}}var DocumentType;(function(c){c[c.Query=0]="Query",c[c.Mutation=1]="Mutation",c[c.Subscription=2]="Subscription"})(DocumentType||(DocumentType={}));var cache;function operationName(c){var e;switch(c){case DocumentType.Query:e="Query";break;case DocumentType.Mutation:e="Mutation";break;case DocumentType.Subscription:e="Subscription";break}return e}function parser(c){cache||(cache=new AutoCleanedWeakCache(cacheSizes.parser||1e3));var e=cache.get(c);if(e)return e;var s,d,nt;invariant$1(!!c&&!!c.kind,70,c);for(var o=[],ft=[],gt=[],xt=[],St=0,Tt=c.definitions;St<Tt.length;St++){var At=Tt[St];if(At.kind==="FragmentDefinition"){o.push(At);continue}if(At.kind==="OperationDefinition")switch(At.operation){case"query":ft.push(At);break;case"mutation":gt.push(At);break;case"subscription":xt.push(At);break}}invariant$1(!o.length||ft.length||gt.length||xt.length,71),invariant$1(ft.length+gt.length+xt.length<=1,72,c,ft.length,xt.length,gt.length),d=ft.length?DocumentType.Query:DocumentType.Mutation,!ft.length&&!gt.length&&(d=DocumentType.Subscription);var Ct=ft.length?ft:gt.length?gt:xt;invariant$1(Ct.length===1,73,c,Ct.length);var Rt=Ct[0];s=Rt.variableDefinitions||[],Rt.name&&Rt.name.kind==="Name"?nt=Rt.name.value:nt="data";var yt={name:nt,type:d,variables:s};return cache.set(c,yt),yt}parser.resetCache=function(){cache=void 0};globalThis.__DEV__!==!1&&registerGlobalCache("parser",function(){return cache?cache.size:0});function verifyDocumentType(c,e){var s=parser(c),d=operationName(e),nt=operationName(s.type);invariant$1(s.type===e,74,d,d,nt)}var wrapperSymbol=Symbol.for("apollo.hook.wrappers");function wrapHook(c,e,s){var d=s.queryManager,nt=d&&d[wrapperSymbol],o=nt&&nt[c];return o?o(e):e}var hasOwnProperty=Object.prototype.hasOwnProperty;function noop(){}var lastWatchOptions=Symbol();function useQuery(c,e){return e===void 0&&(e=Object.create(null)),wrapHook("useQuery",useQuery_,useApolloClient(e&&e.client))(c,e)}function useQuery_(c,e){var s=useQueryInternals(c,e),d=s.result,nt=s.obsQueryFields;return rehacktExports.useMemo(function(){return __assign$1(__assign$1({},d),nt)},[d,nt])}function useInternalState(c,e,s,d,nt){function o(At){var Ct;verifyDocumentType(e,DocumentType.Query);var Rt={client:c,query:e,observable:d&&d.getSSRObservable(nt())||ObservableQuery.inactiveOnCreation.withValue(!d,function(){return c.watchQuery(getObsQueryOptions(void 0,c,s,nt()))}),resultData:{previousData:(Ct=At==null?void 0:At.resultData.current)===null||Ct===void 0?void 0:Ct.data}};return Rt}var ft=rehacktExports.useState(o),gt=ft[0],xt=ft[1];function St(At){var Ct,Rt;Object.assign(gt.observable,(Ct={},Ct[lastWatchOptions]=At,Ct));var yt=gt.resultData;xt(__assign$1(__assign$1({},gt),{query:At.query,resultData:Object.assign(yt,{previousData:((Rt=yt.current)===null||Rt===void 0?void 0:Rt.data)||yt.previousData,current:void 0})}))}if(c!==gt.client||e!==gt.query){var Tt=o(gt);return xt(Tt),[Tt,St]}return[gt,St]}function useQueryInternals(c,e){var s=useApolloClient(e.client),d=rehacktExports.useContext(getApolloContext()).renderPromises,nt=!!d,o=s.disableNetworkFetches,ft=e.ssr!==!1&&!e.skip,gt=e.partialRefetch,xt=createMakeWatchQueryOptions(s,c,e,nt),St=useInternalState(s,c,e,d,xt),Tt=St[0],At=Tt.observable,Ct=Tt.resultData,Rt=St[1],yt=xt(At);useResubscribeIfNecessary(Ct,At,s,e,yt);var Ot=rehacktExports.useMemo(function(){return bindObservableMethods(At)},[At]);useRegisterSSRObservable(At,d,ft);var Nt=useObservableSubscriptionResult(Ct,At,s,e,yt,o,gt,nt,{onCompleted:e.onCompleted||noop,onError:e.onError||noop});return{result:Nt,obsQueryFields:Ot,observable:At,resultData:Ct,client:s,onQueryExecuted:Rt}}function useObservableSubscriptionResult(c,e,s,d,nt,o,ft,gt,xt){var St=rehacktExports.useRef(xt);rehacktExports.useEffect(function(){St.current=xt});var Tt=(gt||o)&&d.ssr===!1&&!d.skip?ssrDisabledResult:d.skip||nt.fetchPolicy==="standby"?skipStandbyResult:void 0,At=c.previousData,Ct=rehacktExports.useMemo(function(){return Tt&&toQueryResult(Tt,At,e,s)},[s,e,Tt,At]);return useSyncExternalStore(rehacktExports.useCallback(function(Rt){if(gt)return function(){};var yt=function(){var bt=c.current,Dt=e.getCurrentResult();bt&&bt.loading===Dt.loading&&bt.networkStatus===Dt.networkStatus&&equal(bt.data,Dt.data)||setResult(Dt,c,e,s,ft,Rt,St.current)},Ot=function(bt){if(Nt.current.unsubscribe(),Nt.current=e.resubscribeAfterError(yt,Ot),!hasOwnProperty.call(bt,"graphQLErrors"))throw bt;var Dt=c.current;(!Dt||Dt&&Dt.loading||!equal(bt,Dt.error))&&setResult({data:Dt&&Dt.data,error:bt,loading:!1,networkStatus:NetworkStatus.error},c,e,s,ft,Rt,St.current)},Nt={current:e.subscribe(yt,Ot)};return function(){setTimeout(function(){return Nt.current.unsubscribe()})}},[o,gt,e,c,ft,s]),function(){return Ct||getCurrentResult(c,e,St.current,ft,s)},function(){return Ct||getCurrentResult(c,e,St.current,ft,s)})}function useRegisterSSRObservable(c,e,s){e&&s&&(e.registerSSRObservable(c),c.getCurrentResult().loading&&e.addObservableQueryPromise(c))}function useResubscribeIfNecessary(c,e,s,d,nt){var o;e[lastWatchOptions]&&!equal(e[lastWatchOptions],nt)&&(e.reobserve(getObsQueryOptions(e,s,d,nt)),c.previousData=((o=c.current)===null||o===void 0?void 0:o.data)||c.previousData,c.current=void 0),e[lastWatchOptions]=nt}function createMakeWatchQueryOptions(c,e,s,d){s===void 0&&(s={});var nt=s.skip;s.ssr,s.onCompleted,s.onError;var o=s.defaultOptions,ft=__rest(s,["skip","ssr","onCompleted","onError","defaultOptions"]);return function(gt){var xt=Object.assign(ft,{query:e});return d&&(xt.fetchPolicy==="network-only"||xt.fetchPolicy==="cache-and-network")&&(xt.fetchPolicy="cache-first"),xt.variables||(xt.variables={}),nt?(xt.initialFetchPolicy=xt.initialFetchPolicy||xt.fetchPolicy||getDefaultFetchPolicy(o,c.defaultOptions),xt.fetchPolicy="standby"):xt.fetchPolicy||(xt.fetchPolicy=(gt==null?void 0:gt.options.initialFetchPolicy)||getDefaultFetchPolicy(o,c.defaultOptions)),xt}}function getObsQueryOptions(c,e,s,d){var nt=[],o=e.defaultOptions.watchQuery;return o&&nt.push(o),s.defaultOptions&&nt.push(s.defaultOptions),nt.push(compact(c&&c.options,d)),nt.reduce(mergeOptions)}function setResult(c,e,s,d,nt,o,ft){var gt=e.current;gt&&gt.data&&(e.previousData=gt.data),!c.error&&isNonEmptyArray(c.errors)&&(c.error=new ApolloError({graphQLErrors:c.errors})),e.current=toQueryResult(unsafeHandlePartialRefetch(c,s,nt),e.previousData,s,d),o(),handleErrorOrCompleted(c,gt==null?void 0:gt.networkStatus,ft)}function handleErrorOrCompleted(c,e,s){if(!c.loading){var d=toApolloError(c);Promise.resolve().then(function(){d?s.onError(d):c.data&&e!==c.networkStatus&&c.networkStatus===NetworkStatus.ready&&s.onCompleted(c.data)}).catch(function(nt){globalThis.__DEV__!==!1&&invariant$1.warn(nt)})}}function getCurrentResult(c,e,s,d,nt){return c.current||setResult(e.getCurrentResult(),c,e,nt,d,function(){},s),c.current}function getDefaultFetchPolicy(c,e){var s;return(c==null?void 0:c.fetchPolicy)||((s=e==null?void 0:e.watchQuery)===null||s===void 0?void 0:s.fetchPolicy)||"cache-first"}function toApolloError(c){return isNonEmptyArray(c.errors)?new ApolloError({graphQLErrors:c.errors}):c.error}function toQueryResult(c,e,s,d){var nt=c.data;c.partial;var o=__rest(c,["data","partial"]),ft=__assign$1(__assign$1({data:nt},o),{client:d,observable:s,variables:s.variables,called:c!==ssrDisabledResult&&c!==skipStandbyResult,previousData:e});return ft}function unsafeHandlePartialRefetch(c,e,s){return c.partial&&s&&!c.loading&&(!c.data||Object.keys(c.data).length===0)&&e.options.fetchPolicy!=="cache-only"?(e.refetch(),__assign$1(__assign$1({},c),{loading:!0,networkStatus:NetworkStatus.refetch})):c}var ssrDisabledResult=maybeDeepFreeze({loading:!0,data:void 0,error:void 0,networkStatus:NetworkStatus.loading}),skipStandbyResult=maybeDeepFreeze({loading:!1,data:void 0,error:void 0,networkStatus:NetworkStatus.ready});function bindObservableMethods(c){return{refetch:c.refetch.bind(c),reobserve:c.reobserve.bind(c),fetchMore:c.fetchMore.bind(c),updateQuery:c.updateQuery.bind(c),startPolling:c.startPolling.bind(c),stopPolling:c.stopPolling.bind(c),subscribeToMore:c.subscribeToMore.bind(c)}}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(c){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var d in s)({}).hasOwnProperty.call(s,d)&&(c[d]=s[d])}return c},_extends$2.apply(null,arguments)}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="176",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,ConstantColorFactor=211,OneMinusConstantColorFactor=212,ConstantAlphaFactor=213,OneMinusConstantAlphaFactor=214,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,AgXToneMapping=6,NeutralToneMapping=7,AttachedBindMode="attached",DetachedBindMode="detached",UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,UnsignedInt5999Type=35902,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBIntegerFormat=1032,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RGB_BPTC_SIGNED_Format=36494,RGB_BPTC_UNSIGNED_Format=36495,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,BasicDepthPacking=3200,RGBADepthPacking=3201,RGBDepthPacking=3202,RGDepthPacking=3203,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",LinearTransfer="linear",SRGBTransfer="srgb",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,NeverCompare=512,LessCompare=513,EqualCompare=514,LessEqualCompare=515,GreaterCompare=516,NotEqualCompare=517,GreaterEqualCompare=518,AlwaysCompare=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",WebGLCoordinateSystem=2e3,WebGPUCoordinateSystem=2001,TimestampQuery={COMPUTE:"compute",RENDER:"render"},InterpolationSamplingType={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},InterpolationSamplingMode={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"};let EventDispatcher$1=class{addEventListener(e,s){this._listeners===void 0&&(this._listeners={});const d=this._listeners;d[e]===void 0&&(d[e]=[]),d[e].indexOf(s)===-1&&d[e].push(s)}hasEventListener(e,s){const d=this._listeners;return d===void 0?!1:d[e]!==void 0&&d[e].indexOf(s)!==-1}removeEventListener(e,s){const d=this._listeners;if(d===void 0)return;const nt=d[e];if(nt!==void 0){const o=nt.indexOf(s);o!==-1&&nt.splice(o,1)}}dispatchEvent(e){const s=this._listeners;if(s===void 0)return;const d=s[e.type];if(d!==void 0){e.target=this;const nt=d.slice(0);for(let o=0,ft=nt.length;o<ft;o++)nt[o].call(this,e);e.target=null}}};const _lut=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const c=Math.random()*4294967295|0,e=Math.random()*4294967295|0,s=Math.random()*4294967295|0,d=Math.random()*4294967295|0;return(_lut[c&255]+_lut[c>>8&255]+_lut[c>>16&255]+_lut[c>>24&255]+"-"+_lut[e&255]+_lut[e>>8&255]+"-"+_lut[e>>16&15|64]+_lut[e>>24&255]+"-"+_lut[s&63|128]+_lut[s>>8&255]+"-"+_lut[s>>16&255]+_lut[s>>24&255]+_lut[d&255]+_lut[d>>8&255]+_lut[d>>16&255]+_lut[d>>24&255]).toLowerCase()}function clamp(c,e,s){return Math.max(e,Math.min(s,c))}function euclideanModulo(c,e){return(c%e+e)%e}function mapLinear(c,e,s,d,nt){return d+(c-e)*(nt-d)/(s-e)}function inverseLerp(c,e,s){return c!==e?(s-c)/(e-c):0}function lerp(c,e,s){return(1-s)*c+s*e}function damp(c,e,s,d){return lerp(c,e,1-Math.exp(-s*d))}function pingpong(c,e=1){return e-Math.abs(euclideanModulo(c,e*2)-e)}function smoothstep(c,e,s){return c<=e?0:c>=s?1:(c=(c-e)/(s-e),c*c*(3-2*c))}function smootherstep(c,e,s){return c<=e?0:c>=s?1:(c=(c-e)/(s-e),c*c*c*(c*(c*6-15)+10))}function randInt(c,e){return c+Math.floor(Math.random()*(e-c+1))}function randFloat(c,e){return c+Math.random()*(e-c)}function randFloatSpread(c){return c*(.5-Math.random())}function seededRandom(c){c!==void 0&&(_seed=c);let e=_seed+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function degToRad(c){return c*DEG2RAD}function radToDeg(c){return c*RAD2DEG}function isPowerOfTwo(c){return(c&c-1)===0&&c!==0}function ceilPowerOfTwo(c){return Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))}function floorPowerOfTwo(c){return Math.pow(2,Math.floor(Math.log(c)/Math.LN2))}function setQuaternionFromProperEuler(c,e,s,d,nt){const o=Math.cos,ft=Math.sin,gt=o(s/2),xt=ft(s/2),St=o((e+d)/2),Tt=ft((e+d)/2),At=o((e-d)/2),Ct=ft((e-d)/2),Rt=o((d-e)/2),yt=ft((d-e)/2);switch(nt){case"XYX":c.set(gt*Tt,xt*At,xt*Ct,gt*St);break;case"YZY":c.set(xt*Ct,gt*Tt,xt*At,gt*St);break;case"ZXZ":c.set(xt*At,xt*Ct,gt*Tt,gt*St);break;case"XZX":c.set(gt*Tt,xt*yt,xt*Rt,gt*St);break;case"YXY":c.set(xt*Rt,gt*Tt,xt*yt,gt*St);break;case"ZYZ":c.set(xt*yt,xt*Rt,gt*Tt,gt*St);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+nt)}}function denormalize(c,e){switch(e.constructor){case Float32Array:return c;case Uint32Array:return c/4294967295;case Uint16Array:return c/65535;case Uint8Array:return c/255;case Int32Array:return Math.max(c/2147483647,-1);case Int16Array:return Math.max(c/32767,-1);case Int8Array:return Math.max(c/127,-1);default:throw new Error("Invalid component type.")}}function normalize(c,e){switch(e.constructor){case Float32Array:return c;case Uint32Array:return Math.round(c*4294967295);case Uint16Array:return Math.round(c*65535);case Uint8Array:return Math.round(c*255);case Int32Array:return Math.round(c*2147483647);case Int16Array:return Math.round(c*32767);case Int8Array:return Math.round(c*127);default:throw new Error("Invalid component type.")}}const MathUtils={DEG2RAD,RAD2DEG,generateUUID,clamp,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize,denormalize};class Vector2{constructor(e=0,s=0){Vector2.prototype.isVector2=!0,this.x=e,this.y=s}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,s){return this.x=e,this.y=s,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,s){switch(e){case 0:this.x=s;break;case 1:this.y=s;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,s){return this.x=e.x+s.x,this.y=e.y+s.y,this}addScaledVector(e,s){return this.x+=e.x*s,this.y+=e.y*s,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,s){return this.x=e.x-s.x,this.y=e.y-s.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const s=this.x,d=this.y,nt=e.elements;return this.x=nt[0]*s+nt[3]*d+nt[6],this.y=nt[1]*s+nt[4]*d+nt[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,s){return this.x=clamp(this.x,e.x,s.x),this.y=clamp(this.y,e.y,s.y),this}clampScalar(e,s){return this.x=clamp(this.x,e,s),this.y=clamp(this.y,e,s),this}clampLength(e,s){const d=this.length();return this.divideScalar(d||1).multiplyScalar(clamp(d,e,s))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const s=Math.sqrt(this.lengthSq()*e.lengthSq());if(s===0)return Math.PI/2;const d=this.dot(e)/s;return Math.acos(clamp(d,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const s=this.x-e.x,d=this.y-e.y;return s*s+d*d}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,s){return this.x+=(e.x-this.x)*s,this.y+=(e.y-this.y)*s,this}lerpVectors(e,s,d){return this.x=e.x+(s.x-e.x)*d,this.y=e.y+(s.y-e.y)*d,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,s=0){return this.x=e[s],this.y=e[s+1],this}toArray(e=[],s=0){return e[s]=this.x,e[s+1]=this.y,e}fromBufferAttribute(e,s){return this.x=e.getX(s),this.y=e.getY(s),this}rotateAround(e,s){const d=Math.cos(s),nt=Math.sin(s),o=this.x-e.x,ft=this.y-e.y;return this.x=o*d-ft*nt+e.x,this.y=o*nt+ft*d+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(e,s,d,nt,o,ft,gt,xt,St){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,s,d,nt,o,ft,gt,xt,St)}set(e,s,d,nt,o,ft,gt,xt,St){const Tt=this.elements;return Tt[0]=e,Tt[1]=nt,Tt[2]=gt,Tt[3]=s,Tt[4]=o,Tt[5]=xt,Tt[6]=d,Tt[7]=ft,Tt[8]=St,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const s=this.elements,d=e.elements;return s[0]=d[0],s[1]=d[1],s[2]=d[2],s[3]=d[3],s[4]=d[4],s[5]=d[5],s[6]=d[6],s[7]=d[7],s[8]=d[8],this}extractBasis(e,s,d){return e.setFromMatrix3Column(this,0),s.setFromMatrix3Column(this,1),d.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const s=e.elements;return this.set(s[0],s[4],s[8],s[1],s[5],s[9],s[2],s[6],s[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,s){const d=e.elements,nt=s.elements,o=this.elements,ft=d[0],gt=d[3],xt=d[6],St=d[1],Tt=d[4],At=d[7],Ct=d[2],Rt=d[5],yt=d[8],Ot=nt[0],Nt=nt[3],bt=nt[6],Dt=nt[1],Ft=nt[4],Ut=nt[7],Wt=nt[2],Gt=nt[5],Xt=nt[8];return o[0]=ft*Ot+gt*Dt+xt*Wt,o[3]=ft*Nt+gt*Ft+xt*Gt,o[6]=ft*bt+gt*Ut+xt*Xt,o[1]=St*Ot+Tt*Dt+At*Wt,o[4]=St*Nt+Tt*Ft+At*Gt,o[7]=St*bt+Tt*Ut+At*Xt,o[2]=Ct*Ot+Rt*Dt+yt*Wt,o[5]=Ct*Nt+Rt*Ft+yt*Gt,o[8]=Ct*bt+Rt*Ut+yt*Xt,this}multiplyScalar(e){const s=this.elements;return s[0]*=e,s[3]*=e,s[6]*=e,s[1]*=e,s[4]*=e,s[7]*=e,s[2]*=e,s[5]*=e,s[8]*=e,this}determinant(){const e=this.elements,s=e[0],d=e[1],nt=e[2],o=e[3],ft=e[4],gt=e[5],xt=e[6],St=e[7],Tt=e[8];return s*ft*Tt-s*gt*St-d*o*Tt+d*gt*xt+nt*o*St-nt*ft*xt}invert(){const e=this.elements,s=e[0],d=e[1],nt=e[2],o=e[3],ft=e[4],gt=e[5],xt=e[6],St=e[7],Tt=e[8],At=Tt*ft-gt*St,Ct=gt*xt-Tt*o,Rt=St*o-ft*xt,yt=s*At+d*Ct+nt*Rt;if(yt===0)return this.set(0,0,0,0,0,0,0,0,0);const Ot=1/yt;return e[0]=At*Ot,e[1]=(nt*St-Tt*d)*Ot,e[2]=(gt*d-nt*ft)*Ot,e[3]=Ct*Ot,e[4]=(Tt*s-nt*xt)*Ot,e[5]=(nt*o-gt*s)*Ot,e[6]=Rt*Ot,e[7]=(d*xt-St*s)*Ot,e[8]=(ft*s-d*o)*Ot,this}transpose(){let e;const s=this.elements;return e=s[1],s[1]=s[3],s[3]=e,e=s[2],s[2]=s[6],s[6]=e,e=s[5],s[5]=s[7],s[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const s=this.elements;return e[0]=s[0],e[1]=s[3],e[2]=s[6],e[3]=s[1],e[4]=s[4],e[5]=s[7],e[6]=s[2],e[7]=s[5],e[8]=s[8],this}setUvTransform(e,s,d,nt,o,ft,gt){const xt=Math.cos(o),St=Math.sin(o);return this.set(d*xt,d*St,-d*(xt*ft+St*gt)+ft+e,-nt*St,nt*xt,-nt*(-St*ft+xt*gt)+gt+s,0,0,1),this}scale(e,s){return this.premultiply(_m3.makeScale(e,s)),this}rotate(e){return this.premultiply(_m3.makeRotation(-e)),this}translate(e,s){return this.premultiply(_m3.makeTranslation(e,s)),this}makeTranslation(e,s){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,s,0,0,1),this}makeRotation(e){const s=Math.cos(e),d=Math.sin(e);return this.set(s,-d,0,d,s,0,0,0,1),this}makeScale(e,s){return this.set(e,0,0,0,s,0,0,0,1),this}equals(e){const s=this.elements,d=e.elements;for(let nt=0;nt<9;nt++)if(s[nt]!==d[nt])return!1;return!0}fromArray(e,s=0){for(let d=0;d<9;d++)this.elements[d]=e[d+s];return this}toArray(e=[],s=0){const d=this.elements;return e[s]=d[0],e[s+1]=d[1],e[s+2]=d[2],e[s+3]=d[3],e[s+4]=d[4],e[s+5]=d[5],e[s+6]=d[6],e[s+7]=d[7],e[s+8]=d[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(c){for(let e=c.length-1;e>=0;--e)if(c[e]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(c,e){return new TYPED_ARRAYS[c](e)}function createElementNS(c){return document.createElementNS("http://www.w3.org/1999/xhtml",c)}function createCanvasElement(){const c=createElementNS("canvas");return c.style.display="block",c}const _cache={};function warnOnce(c){c in _cache||(_cache[c]=!0,console.warn(c))}function probeAsync(c,e,s){return new Promise(function(d,nt){function o(){switch(c.clientWaitSync(e,c.SYNC_FLUSH_COMMANDS_BIT,0)){case c.WAIT_FAILED:nt();break;case c.TIMEOUT_EXPIRED:setTimeout(o,s);break;default:d()}}setTimeout(o,s)})}function toNormalizedProjectionMatrix(c){const e=c.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function toReversedProjectionMatrix(c){const e=c.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const LINEAR_REC709_TO_XYZ=new Matrix3().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),XYZ_TO_LINEAR_REC709=new Matrix3().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function createColorManagement(){const c={enabled:!0,workingColorSpace:LinearSRGBColorSpace,spaces:{},convert:function(nt,o,ft){return this.enabled===!1||o===ft||!o||!ft||(this.spaces[o].transfer===SRGBTransfer&&(nt.r=SRGBToLinear(nt.r),nt.g=SRGBToLinear(nt.g),nt.b=SRGBToLinear(nt.b)),this.spaces[o].primaries!==this.spaces[ft].primaries&&(nt.applyMatrix3(this.spaces[o].toXYZ),nt.applyMatrix3(this.spaces[ft].fromXYZ)),this.spaces[ft].transfer===SRGBTransfer&&(nt.r=LinearToSRGB(nt.r),nt.g=LinearToSRGB(nt.g),nt.b=LinearToSRGB(nt.b))),nt},fromWorkingColorSpace:function(nt,o){return this.convert(nt,this.workingColorSpace,o)},toWorkingColorSpace:function(nt,o){return this.convert(nt,o,this.workingColorSpace)},getPrimaries:function(nt){return this.spaces[nt].primaries},getTransfer:function(nt){return nt===NoColorSpace?LinearTransfer:this.spaces[nt].transfer},getLuminanceCoefficients:function(nt,o=this.workingColorSpace){return nt.fromArray(this.spaces[o].luminanceCoefficients)},define:function(nt){Object.assign(this.spaces,nt)},_getMatrix:function(nt,o,ft){return nt.copy(this.spaces[o].toXYZ).multiply(this.spaces[ft].fromXYZ)},_getDrawingBufferColorSpace:function(nt){return this.spaces[nt].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(nt=this.workingColorSpace){return this.spaces[nt].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],s=[.2126,.7152,.0722],d=[.3127,.329];return c.define({[LinearSRGBColorSpace]:{primaries:e,whitePoint:d,transfer:LinearTransfer,toXYZ:LINEAR_REC709_TO_XYZ,fromXYZ:XYZ_TO_LINEAR_REC709,luminanceCoefficients:s,workingColorSpaceConfig:{unpackColorSpace:SRGBColorSpace},outputColorSpaceConfig:{drawingBufferColorSpace:SRGBColorSpace}},[SRGBColorSpace]:{primaries:e,whitePoint:d,transfer:SRGBTransfer,toXYZ:LINEAR_REC709_TO_XYZ,fromXYZ:XYZ_TO_LINEAR_REC709,luminanceCoefficients:s,outputColorSpaceConfig:{drawingBufferColorSpace:SRGBColorSpace}}}),c}const ColorManagement=createColorManagement();function SRGBToLinear(c){return c<.04045?c*.0773993808:Math.pow(c*.9478672986+.0521327014,2.4)}function LinearToSRGB(c){return c<.0031308?c*12.92:1.055*Math.pow(c,.41666)-.055}let _canvas;class ImageUtils{static getDataURL(e,s="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let d;if(e instanceof HTMLCanvasElement)d=e;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=e.width,_canvas.height=e.height;const nt=_canvas.getContext("2d");e instanceof ImageData?nt.putImageData(e,0,0):nt.drawImage(e,0,0,e.width,e.height),d=_canvas}return d.toDataURL(s)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const s=createElementNS("canvas");s.width=e.width,s.height=e.height;const d=s.getContext("2d");d.drawImage(e,0,0,e.width,e.height);const nt=d.getImageData(0,0,e.width,e.height),o=nt.data;for(let ft=0;ft<o.length;ft++)o[ft]=SRGBToLinear(o[ft]/255)*255;return d.putImageData(nt,0,0),s}else if(e.data){const s=e.data.slice(0);for(let d=0;d<s.length;d++)s instanceof Uint8Array||s instanceof Uint8ClampedArray?s[d]=Math.floor(SRGBToLinear(s[d]/255)*255):s[d]=SRGBToLinear(s[d]);return{data:s,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let _sourceId=0;class Source{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_sourceId++}),this.uuid=generateUUID(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const s=e===void 0||typeof e=="string";if(!s&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const d={uuid:this.uuid,url:""},nt=this.data;if(nt!==null){let o;if(Array.isArray(nt)){o=[];for(let ft=0,gt=nt.length;ft<gt;ft++)nt[ft].isDataTexture?o.push(serializeImage(nt[ft].image)):o.push(serializeImage(nt[ft]))}else o=serializeImage(nt);d.url=o}return s||(e.images[this.uuid]=d),d}}function serializeImage(c){return typeof HTMLImageElement<"u"&&c instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&c instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&c instanceof ImageBitmap?ImageUtils.getDataURL(c):c.data?{data:Array.from(c.data),width:c.width,height:c.height,type:c.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _textureId=0;class Texture extends EventDispatcher$1{constructor(e=Texture.DEFAULT_IMAGE,s=Texture.DEFAULT_MAPPING,d=ClampToEdgeWrapping,nt=ClampToEdgeWrapping,o=LinearFilter,ft=LinearMipmapLinearFilter,gt=RGBAFormat,xt=UnsignedByteType,St=Texture.DEFAULT_ANISOTROPY,Tt=NoColorSpace){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source(e),this.mipmaps=[],this.mapping=s,this.channel=0,this.wrapS=d,this.wrapT=nt,this.magFilter=o,this.minFilter=ft,this.anisotropy=St,this.format=gt,this.internalFormat=null,this.type=xt,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=Tt,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isTextureArray=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isTextureArray=e.isTextureArray,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const s=e===void 0||typeof e=="string";if(!s&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const d={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(d.userData=this.userData),s||(e.textures[this.uuid]=d),d}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==UVMapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case RepeatWrapping:e.x=e.x-Math.floor(e.x);break;case ClampToEdgeWrapping:e.x=e.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case RepeatWrapping:e.y=e.y-Math.floor(e.y);break;case ClampToEdgeWrapping:e.y=e.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(e=0,s=0,d=0,nt=1){Vector4.prototype.isVector4=!0,this.x=e,this.y=s,this.z=d,this.w=nt}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,s,d,nt){return this.x=e,this.y=s,this.z=d,this.w=nt,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,s){switch(e){case 0:this.x=s;break;case 1:this.y=s;break;case 2:this.z=s;break;case 3:this.w=s;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,s){return this.x=e.x+s.x,this.y=e.y+s.y,this.z=e.z+s.z,this.w=e.w+s.w,this}addScaledVector(e,s){return this.x+=e.x*s,this.y+=e.y*s,this.z+=e.z*s,this.w+=e.w*s,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,s){return this.x=e.x-s.x,this.y=e.y-s.y,this.z=e.z-s.z,this.w=e.w-s.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const s=this.x,d=this.y,nt=this.z,o=this.w,ft=e.elements;return this.x=ft[0]*s+ft[4]*d+ft[8]*nt+ft[12]*o,this.y=ft[1]*s+ft[5]*d+ft[9]*nt+ft[13]*o,this.z=ft[2]*s+ft[6]*d+ft[10]*nt+ft[14]*o,this.w=ft[3]*s+ft[7]*d+ft[11]*nt+ft[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const s=Math.sqrt(1-e.w*e.w);return s<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/s,this.y=e.y/s,this.z=e.z/s),this}setAxisAngleFromRotationMatrix(e){let s,d,nt,o;const xt=e.elements,St=xt[0],Tt=xt[4],At=xt[8],Ct=xt[1],Rt=xt[5],yt=xt[9],Ot=xt[2],Nt=xt[6],bt=xt[10];if(Math.abs(Tt-Ct)<.01&&Math.abs(At-Ot)<.01&&Math.abs(yt-Nt)<.01){if(Math.abs(Tt+Ct)<.1&&Math.abs(At+Ot)<.1&&Math.abs(yt+Nt)<.1&&Math.abs(St+Rt+bt-3)<.1)return this.set(1,0,0,0),this;s=Math.PI;const Ft=(St+1)/2,Ut=(Rt+1)/2,Wt=(bt+1)/2,Gt=(Tt+Ct)/4,Xt=(At+Ot)/4,Yt=(yt+Nt)/4;return Ft>Ut&&Ft>Wt?Ft<.01?(d=0,nt=.707106781,o=.707106781):(d=Math.sqrt(Ft),nt=Gt/d,o=Xt/d):Ut>Wt?Ut<.01?(d=.707106781,nt=0,o=.707106781):(nt=Math.sqrt(Ut),d=Gt/nt,o=Yt/nt):Wt<.01?(d=.707106781,nt=.707106781,o=0):(o=Math.sqrt(Wt),d=Xt/o,nt=Yt/o),this.set(d,nt,o,s),this}let Dt=Math.sqrt((Nt-yt)*(Nt-yt)+(At-Ot)*(At-Ot)+(Ct-Tt)*(Ct-Tt));return Math.abs(Dt)<.001&&(Dt=1),this.x=(Nt-yt)/Dt,this.y=(At-Ot)/Dt,this.z=(Ct-Tt)/Dt,this.w=Math.acos((St+Rt+bt-1)/2),this}setFromMatrixPosition(e){const s=e.elements;return this.x=s[12],this.y=s[13],this.z=s[14],this.w=s[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,s){return this.x=clamp(this.x,e.x,s.x),this.y=clamp(this.y,e.y,s.y),this.z=clamp(this.z,e.z,s.z),this.w=clamp(this.w,e.w,s.w),this}clampScalar(e,s){return this.x=clamp(this.x,e,s),this.y=clamp(this.y,e,s),this.z=clamp(this.z,e,s),this.w=clamp(this.w,e,s),this}clampLength(e,s){const d=this.length();return this.divideScalar(d||1).multiplyScalar(clamp(d,e,s))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,s){return this.x+=(e.x-this.x)*s,this.y+=(e.y-this.y)*s,this.z+=(e.z-this.z)*s,this.w+=(e.w-this.w)*s,this}lerpVectors(e,s,d){return this.x=e.x+(s.x-e.x)*d,this.y=e.y+(s.y-e.y)*d,this.z=e.z+(s.z-e.z)*d,this.w=e.w+(s.w-e.w)*d,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,s=0){return this.x=e[s],this.y=e[s+1],this.z=e[s+2],this.w=e[s+3],this}toArray(e=[],s=0){return e[s]=this.x,e[s+1]=this.y,e[s+2]=this.z,e[s+3]=this.w,e}fromBufferAttribute(e,s){return this.x=e.getX(s),this.y=e.getY(s),this.z=e.getZ(s),this.w=e.getW(s),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class RenderTarget extends EventDispatcher$1{constructor(e=1,s=1,d={}){super(),this.isRenderTarget=!0,this.width=e,this.height=s,this.depth=d.depth?d.depth:1,this.scissor=new Vector4(0,0,e,s),this.scissorTest=!1,this.viewport=new Vector4(0,0,e,s);const nt={width:e,height:s,depth:this.depth};d=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:LinearFilter,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,multiview:!1},d);const o=new Texture(nt,d.mapping,d.wrapS,d.wrapT,d.magFilter,d.minFilter,d.format,d.type,d.anisotropy,d.colorSpace);o.flipY=!1,o.generateMipmaps=d.generateMipmaps,o.internalFormat=d.internalFormat,this.textures=[];const ft=d.count;for(let gt=0;gt<ft;gt++)this.textures[gt]=o.clone(),this.textures[gt].isRenderTargetTexture=!0,this.textures[gt].renderTarget=this;this.depthBuffer=d.depthBuffer,this.stencilBuffer=d.stencilBuffer,this.resolveDepthBuffer=d.resolveDepthBuffer,this.resolveStencilBuffer=d.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=d.depthTexture,this.samples=d.samples,this.multiview=d.multiview}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,s,d=1){if(this.width!==e||this.height!==s||this.depth!==d){this.width=e,this.height=s,this.depth=d;for(let nt=0,o=this.textures.length;nt<o;nt++)this.textures[nt].image.width=e,this.textures[nt].image.height=s,this.textures[nt].image.depth=d;this.dispose()}this.viewport.set(0,0,e,s),this.scissor.set(0,0,e,s)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let s=0,d=e.textures.length;s<d;s++){this.textures[s]=e.textures[s].clone(),this.textures[s].isRenderTargetTexture=!0,this.textures[s].renderTarget=this;const nt=Object.assign({},e.textures[s].image);this.textures[s].source=new Source(nt)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class WebGLRenderTarget extends RenderTarget{constructor(e=1,s=1,d={}){super(e,s,d),this.isWebGLRenderTarget=!0}}class DataArrayTexture extends Texture{constructor(e=null,s=1,d=1,nt=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:s,height:d,depth:nt},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(e=1,s=1,d=1,nt={}){super(e,s,nt),this.isWebGLArrayRenderTarget=!0,this.depth=d,this.texture=new DataArrayTexture(null,e,s,d),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor(e=null,s=1,d=1,nt=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:s,height:d,depth:nt},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(e=1,s=1,d=1,nt={}){super(e,s,nt),this.isWebGL3DRenderTarget=!0,this.depth=d,this.texture=new Data3DTexture(null,e,s,d),this.texture.isRenderTargetTexture=!0}}class Quaternion{constructor(e=0,s=0,d=0,nt=1){this.isQuaternion=!0,this._x=e,this._y=s,this._z=d,this._w=nt}static slerpFlat(e,s,d,nt,o,ft,gt){let xt=d[nt+0],St=d[nt+1],Tt=d[nt+2],At=d[nt+3];const Ct=o[ft+0],Rt=o[ft+1],yt=o[ft+2],Ot=o[ft+3];if(gt===0){e[s+0]=xt,e[s+1]=St,e[s+2]=Tt,e[s+3]=At;return}if(gt===1){e[s+0]=Ct,e[s+1]=Rt,e[s+2]=yt,e[s+3]=Ot;return}if(At!==Ot||xt!==Ct||St!==Rt||Tt!==yt){let Nt=1-gt;const bt=xt*Ct+St*Rt+Tt*yt+At*Ot,Dt=bt>=0?1:-1,Ft=1-bt*bt;if(Ft>Number.EPSILON){const Wt=Math.sqrt(Ft),Gt=Math.atan2(Wt,bt*Dt);Nt=Math.sin(Nt*Gt)/Wt,gt=Math.sin(gt*Gt)/Wt}const Ut=gt*Dt;if(xt=xt*Nt+Ct*Ut,St=St*Nt+Rt*Ut,Tt=Tt*Nt+yt*Ut,At=At*Nt+Ot*Ut,Nt===1-gt){const Wt=1/Math.sqrt(xt*xt+St*St+Tt*Tt+At*At);xt*=Wt,St*=Wt,Tt*=Wt,At*=Wt}}e[s]=xt,e[s+1]=St,e[s+2]=Tt,e[s+3]=At}static multiplyQuaternionsFlat(e,s,d,nt,o,ft){const gt=d[nt],xt=d[nt+1],St=d[nt+2],Tt=d[nt+3],At=o[ft],Ct=o[ft+1],Rt=o[ft+2],yt=o[ft+3];return e[s]=gt*yt+Tt*At+xt*Rt-St*Ct,e[s+1]=xt*yt+Tt*Ct+St*At-gt*Rt,e[s+2]=St*yt+Tt*Rt+gt*Ct-xt*At,e[s+3]=Tt*yt-gt*At-xt*Ct-St*Rt,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,s,d,nt){return this._x=e,this._y=s,this._z=d,this._w=nt,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,s=!0){const d=e._x,nt=e._y,o=e._z,ft=e._order,gt=Math.cos,xt=Math.sin,St=gt(d/2),Tt=gt(nt/2),At=gt(o/2),Ct=xt(d/2),Rt=xt(nt/2),yt=xt(o/2);switch(ft){case"XYZ":this._x=Ct*Tt*At+St*Rt*yt,this._y=St*Rt*At-Ct*Tt*yt,this._z=St*Tt*yt+Ct*Rt*At,this._w=St*Tt*At-Ct*Rt*yt;break;case"YXZ":this._x=Ct*Tt*At+St*Rt*yt,this._y=St*Rt*At-Ct*Tt*yt,this._z=St*Tt*yt-Ct*Rt*At,this._w=St*Tt*At+Ct*Rt*yt;break;case"ZXY":this._x=Ct*Tt*At-St*Rt*yt,this._y=St*Rt*At+Ct*Tt*yt,this._z=St*Tt*yt+Ct*Rt*At,this._w=St*Tt*At-Ct*Rt*yt;break;case"ZYX":this._x=Ct*Tt*At-St*Rt*yt,this._y=St*Rt*At+Ct*Tt*yt,this._z=St*Tt*yt-Ct*Rt*At,this._w=St*Tt*At+Ct*Rt*yt;break;case"YZX":this._x=Ct*Tt*At+St*Rt*yt,this._y=St*Rt*At+Ct*Tt*yt,this._z=St*Tt*yt-Ct*Rt*At,this._w=St*Tt*At-Ct*Rt*yt;break;case"XZY":this._x=Ct*Tt*At-St*Rt*yt,this._y=St*Rt*At-Ct*Tt*yt,this._z=St*Tt*yt+Ct*Rt*At,this._w=St*Tt*At+Ct*Rt*yt;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+ft)}return s===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,s){const d=s/2,nt=Math.sin(d);return this._x=e.x*nt,this._y=e.y*nt,this._z=e.z*nt,this._w=Math.cos(d),this._onChangeCallback(),this}setFromRotationMatrix(e){const s=e.elements,d=s[0],nt=s[4],o=s[8],ft=s[1],gt=s[5],xt=s[9],St=s[2],Tt=s[6],At=s[10],Ct=d+gt+At;if(Ct>0){const Rt=.5/Math.sqrt(Ct+1);this._w=.25/Rt,this._x=(Tt-xt)*Rt,this._y=(o-St)*Rt,this._z=(ft-nt)*Rt}else if(d>gt&&d>At){const Rt=2*Math.sqrt(1+d-gt-At);this._w=(Tt-xt)/Rt,this._x=.25*Rt,this._y=(nt+ft)/Rt,this._z=(o+St)/Rt}else if(gt>At){const Rt=2*Math.sqrt(1+gt-d-At);this._w=(o-St)/Rt,this._x=(nt+ft)/Rt,this._y=.25*Rt,this._z=(xt+Tt)/Rt}else{const Rt=2*Math.sqrt(1+At-d-gt);this._w=(ft-nt)/Rt,this._x=(o+St)/Rt,this._y=(xt+Tt)/Rt,this._z=.25*Rt}return this._onChangeCallback(),this}setFromUnitVectors(e,s){let d=e.dot(s)+1;return d<Number.EPSILON?(d=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=d):(this._x=0,this._y=-e.z,this._z=e.y,this._w=d)):(this._x=e.y*s.z-e.z*s.y,this._y=e.z*s.x-e.x*s.z,this._z=e.x*s.y-e.y*s.x,this._w=d),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(clamp(this.dot(e),-1,1)))}rotateTowards(e,s){const d=this.angleTo(e);if(d===0)return this;const nt=Math.min(1,s/d);return this.slerp(e,nt),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,s){const d=e._x,nt=e._y,o=e._z,ft=e._w,gt=s._x,xt=s._y,St=s._z,Tt=s._w;return this._x=d*Tt+ft*gt+nt*St-o*xt,this._y=nt*Tt+ft*xt+o*gt-d*St,this._z=o*Tt+ft*St+d*xt-nt*gt,this._w=ft*Tt-d*gt-nt*xt-o*St,this._onChangeCallback(),this}slerp(e,s){if(s===0)return this;if(s===1)return this.copy(e);const d=this._x,nt=this._y,o=this._z,ft=this._w;let gt=ft*e._w+d*e._x+nt*e._y+o*e._z;if(gt<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,gt=-gt):this.copy(e),gt>=1)return this._w=ft,this._x=d,this._y=nt,this._z=o,this;const xt=1-gt*gt;if(xt<=Number.EPSILON){const Rt=1-s;return this._w=Rt*ft+s*this._w,this._x=Rt*d+s*this._x,this._y=Rt*nt+s*this._y,this._z=Rt*o+s*this._z,this.normalize(),this}const St=Math.sqrt(xt),Tt=Math.atan2(St,gt),At=Math.sin((1-s)*Tt)/St,Ct=Math.sin(s*Tt)/St;return this._w=ft*At+this._w*Ct,this._x=d*At+this._x*Ct,this._y=nt*At+this._y*Ct,this._z=o*At+this._z*Ct,this._onChangeCallback(),this}slerpQuaternions(e,s,d){return this.copy(e).slerp(s,d)}random(){const e=2*Math.PI*Math.random(),s=2*Math.PI*Math.random(),d=Math.random(),nt=Math.sqrt(1-d),o=Math.sqrt(d);return this.set(nt*Math.sin(e),nt*Math.cos(e),o*Math.sin(s),o*Math.cos(s))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,s=0){return this._x=e[s],this._y=e[s+1],this._z=e[s+2],this._w=e[s+3],this._onChangeCallback(),this}toArray(e=[],s=0){return e[s]=this._x,e[s+1]=this._y,e[s+2]=this._z,e[s+3]=this._w,e}fromBufferAttribute(e,s){return this._x=e.getX(s),this._y=e.getY(s),this._z=e.getZ(s),this._w=e.getW(s),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(e=0,s=0,d=0){Vector3.prototype.isVector3=!0,this.x=e,this.y=s,this.z=d}set(e,s,d){return d===void 0&&(d=this.z),this.x=e,this.y=s,this.z=d,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,s){switch(e){case 0:this.x=s;break;case 1:this.y=s;break;case 2:this.z=s;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,s){return this.x=e.x+s.x,this.y=e.y+s.y,this.z=e.z+s.z,this}addScaledVector(e,s){return this.x+=e.x*s,this.y+=e.y*s,this.z+=e.z*s,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,s){return this.x=e.x-s.x,this.y=e.y-s.y,this.z=e.z-s.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,s){return this.x=e.x*s.x,this.y=e.y*s.y,this.z=e.z*s.z,this}applyEuler(e){return this.applyQuaternion(_quaternion$4.setFromEuler(e))}applyAxisAngle(e,s){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(e,s))}applyMatrix3(e){const s=this.x,d=this.y,nt=this.z,o=e.elements;return this.x=o[0]*s+o[3]*d+o[6]*nt,this.y=o[1]*s+o[4]*d+o[7]*nt,this.z=o[2]*s+o[5]*d+o[8]*nt,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const s=this.x,d=this.y,nt=this.z,o=e.elements,ft=1/(o[3]*s+o[7]*d+o[11]*nt+o[15]);return this.x=(o[0]*s+o[4]*d+o[8]*nt+o[12])*ft,this.y=(o[1]*s+o[5]*d+o[9]*nt+o[13])*ft,this.z=(o[2]*s+o[6]*d+o[10]*nt+o[14])*ft,this}applyQuaternion(e){const s=this.x,d=this.y,nt=this.z,o=e.x,ft=e.y,gt=e.z,xt=e.w,St=2*(ft*nt-gt*d),Tt=2*(gt*s-o*nt),At=2*(o*d-ft*s);return this.x=s+xt*St+ft*At-gt*Tt,this.y=d+xt*Tt+gt*St-o*At,this.z=nt+xt*At+o*Tt-ft*St,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const s=this.x,d=this.y,nt=this.z,o=e.elements;return this.x=o[0]*s+o[4]*d+o[8]*nt,this.y=o[1]*s+o[5]*d+o[9]*nt,this.z=o[2]*s+o[6]*d+o[10]*nt,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,s){return this.x=clamp(this.x,e.x,s.x),this.y=clamp(this.y,e.y,s.y),this.z=clamp(this.z,e.z,s.z),this}clampScalar(e,s){return this.x=clamp(this.x,e,s),this.y=clamp(this.y,e,s),this.z=clamp(this.z,e,s),this}clampLength(e,s){const d=this.length();return this.divideScalar(d||1).multiplyScalar(clamp(d,e,s))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,s){return this.x+=(e.x-this.x)*s,this.y+=(e.y-this.y)*s,this.z+=(e.z-this.z)*s,this}lerpVectors(e,s,d){return this.x=e.x+(s.x-e.x)*d,this.y=e.y+(s.y-e.y)*d,this.z=e.z+(s.z-e.z)*d,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,s){const d=e.x,nt=e.y,o=e.z,ft=s.x,gt=s.y,xt=s.z;return this.x=nt*xt-o*gt,this.y=o*ft-d*xt,this.z=d*gt-nt*ft,this}projectOnVector(e){const s=e.lengthSq();if(s===0)return this.set(0,0,0);const d=e.dot(this)/s;return this.copy(e).multiplyScalar(d)}projectOnPlane(e){return _vector$c.copy(this).projectOnVector(e),this.sub(_vector$c)}reflect(e){return this.sub(_vector$c.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const s=Math.sqrt(this.lengthSq()*e.lengthSq());if(s===0)return Math.PI/2;const d=this.dot(e)/s;return Math.acos(clamp(d,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const s=this.x-e.x,d=this.y-e.y,nt=this.z-e.z;return s*s+d*d+nt*nt}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,s,d){const nt=Math.sin(s)*e;return this.x=nt*Math.sin(d),this.y=Math.cos(s)*e,this.z=nt*Math.cos(d),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,s,d){return this.x=e*Math.sin(s),this.y=d,this.z=e*Math.cos(s),this}setFromMatrixPosition(e){const s=e.elements;return this.x=s[12],this.y=s[13],this.z=s[14],this}setFromMatrixScale(e){const s=this.setFromMatrixColumn(e,0).length(),d=this.setFromMatrixColumn(e,1).length(),nt=this.setFromMatrixColumn(e,2).length();return this.x=s,this.y=d,this.z=nt,this}setFromMatrixColumn(e,s){return this.fromArray(e.elements,s*4)}setFromMatrix3Column(e,s){return this.fromArray(e.elements,s*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,s=0){return this.x=e[s],this.y=e[s+1],this.z=e[s+2],this}toArray(e=[],s=0){return e[s]=this.x,e[s+1]=this.y,e[s+2]=this.z,e}fromBufferAttribute(e,s){return this.x=e.getX(s),this.y=e.getY(s),this.z=e.getZ(s),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,s=Math.random()*2-1,d=Math.sqrt(1-s*s);return this.x=d*Math.cos(e),this.y=s,this.z=d*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(e=new Vector3(1/0,1/0,1/0),s=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=s}set(e,s){return this.min.copy(e),this.max.copy(s),this}setFromArray(e){this.makeEmpty();for(let s=0,d=e.length;s<d;s+=3)this.expandByPoint(_vector$b.fromArray(e,s));return this}setFromBufferAttribute(e){this.makeEmpty();for(let s=0,d=e.count;s<d;s++)this.expandByPoint(_vector$b.fromBufferAttribute(e,s));return this}setFromPoints(e){this.makeEmpty();for(let s=0,d=e.length;s<d;s++)this.expandByPoint(e[s]);return this}setFromCenterAndSize(e,s){const d=_vector$b.copy(s).multiplyScalar(.5);return this.min.copy(e).sub(d),this.max.copy(e).add(d),this}setFromObject(e,s=!1){return this.makeEmpty(),this.expandByObject(e,s)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,s=!1){e.updateWorldMatrix(!1,!1);const d=e.geometry;if(d!==void 0){const o=d.getAttribute("position");if(s===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let ft=0,gt=o.count;ft<gt;ft++)e.isMesh===!0?e.getVertexPosition(ft,_vector$b):_vector$b.fromBufferAttribute(o,ft),_vector$b.applyMatrix4(e.matrixWorld),this.expandByPoint(_vector$b);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),_box$4.copy(e.boundingBox)):(d.boundingBox===null&&d.computeBoundingBox(),_box$4.copy(d.boundingBox)),_box$4.applyMatrix4(e.matrixWorld),this.union(_box$4)}const nt=e.children;for(let o=0,ft=nt.length;o<ft;o++)this.expandByObject(nt[o],s);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,s){return s.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,_vector$b),_vector$b.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let s,d;return e.normal.x>0?(s=e.normal.x*this.min.x,d=e.normal.x*this.max.x):(s=e.normal.x*this.max.x,d=e.normal.x*this.min.x),e.normal.y>0?(s+=e.normal.y*this.min.y,d+=e.normal.y*this.max.y):(s+=e.normal.y*this.max.y,d+=e.normal.y*this.min.y),e.normal.z>0?(s+=e.normal.z*this.min.z,d+=e.normal.z*this.max.z):(s+=e.normal.z*this.max.z,d+=e.normal.z*this.min.z),s<=-e.constant&&d>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(e.a,_center),_v1$7.subVectors(e.b,_center),_v2$4.subVectors(e.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let s=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(s,_v0$2,_v1$7,_v2$4,_extents)||(s=[1,0,0,0,1,0,0,0,1],!satForAxes(s,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),s=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(s,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(e,s){return s.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_vector$b).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(_vector$b).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(_points),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$4=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(c,e,s,d,nt){for(let o=0,ft=c.length-3;o<=ft;o+=3){_testAxis.fromArray(c,o);const gt=nt.x*Math.abs(_testAxis.x)+nt.y*Math.abs(_testAxis.y)+nt.z*Math.abs(_testAxis.z),xt=e.dot(_testAxis),St=s.dot(_testAxis),Tt=d.dot(_testAxis);if(Math.max(-Math.max(xt,St,Tt),Math.min(xt,St,Tt))>gt)return!1}return!0}const _box$3=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(e=new Vector3,s=-1){this.isSphere=!0,this.center=e,this.radius=s}set(e,s){return this.center.copy(e),this.radius=s,this}setFromPoints(e,s){const d=this.center;s!==void 0?d.copy(s):_box$3.setFromPoints(e).getCenter(d);let nt=0;for(let o=0,ft=e.length;o<ft;o++)nt=Math.max(nt,d.distanceToSquared(e[o]));return this.radius=Math.sqrt(nt),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const s=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=s*s}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,s){const d=this.center.distanceToSquared(e);return s.copy(e),d>this.radius*this.radius&&(s.sub(this.center).normalize(),s.multiplyScalar(this.radius).add(this.center)),s}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;_v1$6.subVectors(e,this.center);const s=_v1$6.lengthSq();if(s>this.radius*this.radius){const d=Math.sqrt(s),nt=(d-this.radius)*.5;this.center.addScaledVector(_v1$6,nt/d),this.radius+=nt}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(_v2$3.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(_v1$6.copy(e.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(e.center).sub(_v2$3))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(e=new Vector3,s=new Vector3(0,0,-1)){this.origin=e,this.direction=s}set(e,s){return this.origin.copy(e),this.direction.copy(s),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,s){return s.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,_vector$a)),this}closestPointToPoint(e,s){s.subVectors(e,this.origin);const d=s.dot(this.direction);return d<0?s.copy(this.origin):s.copy(this.origin).addScaledVector(this.direction,d)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const s=_vector$a.subVectors(e,this.origin).dot(this.direction);return s<0?this.origin.distanceToSquared(e):(_vector$a.copy(this.origin).addScaledVector(this.direction,s),_vector$a.distanceToSquared(e))}distanceSqToSegment(e,s,d,nt){_segCenter.copy(e).add(s).multiplyScalar(.5),_segDir.copy(s).sub(e).normalize(),_diff.copy(this.origin).sub(_segCenter);const o=e.distanceTo(s)*.5,ft=-this.direction.dot(_segDir),gt=_diff.dot(this.direction),xt=-_diff.dot(_segDir),St=_diff.lengthSq(),Tt=Math.abs(1-ft*ft);let At,Ct,Rt,yt;if(Tt>0)if(At=ft*xt-gt,Ct=ft*gt-xt,yt=o*Tt,At>=0)if(Ct>=-yt)if(Ct<=yt){const Ot=1/Tt;At*=Ot,Ct*=Ot,Rt=At*(At+ft*Ct+2*gt)+Ct*(ft*At+Ct+2*xt)+St}else Ct=o,At=Math.max(0,-(ft*Ct+gt)),Rt=-At*At+Ct*(Ct+2*xt)+St;else Ct=-o,At=Math.max(0,-(ft*Ct+gt)),Rt=-At*At+Ct*(Ct+2*xt)+St;else Ct<=-yt?(At=Math.max(0,-(-ft*o+gt)),Ct=At>0?-o:Math.min(Math.max(-o,-xt),o),Rt=-At*At+Ct*(Ct+2*xt)+St):Ct<=yt?(At=0,Ct=Math.min(Math.max(-o,-xt),o),Rt=Ct*(Ct+2*xt)+St):(At=Math.max(0,-(ft*o+gt)),Ct=At>0?o:Math.min(Math.max(-o,-xt),o),Rt=-At*At+Ct*(Ct+2*xt)+St);else Ct=ft>0?-o:o,At=Math.max(0,-(ft*Ct+gt)),Rt=-At*At+Ct*(Ct+2*xt)+St;return d&&d.copy(this.origin).addScaledVector(this.direction,At),nt&&nt.copy(_segCenter).addScaledVector(_segDir,Ct),Rt}intersectSphere(e,s){_vector$a.subVectors(e.center,this.origin);const d=_vector$a.dot(this.direction),nt=_vector$a.dot(_vector$a)-d*d,o=e.radius*e.radius;if(nt>o)return null;const ft=Math.sqrt(o-nt),gt=d-ft,xt=d+ft;return xt<0?null:gt<0?this.at(xt,s):this.at(gt,s)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const s=e.normal.dot(this.direction);if(s===0)return e.distanceToPoint(this.origin)===0?0:null;const d=-(this.origin.dot(e.normal)+e.constant)/s;return d>=0?d:null}intersectPlane(e,s){const d=this.distanceToPlane(e);return d===null?null:this.at(d,s)}intersectsPlane(e){const s=e.distanceToPoint(this.origin);return s===0||e.normal.dot(this.direction)*s<0}intersectBox(e,s){let d,nt,o,ft,gt,xt;const St=1/this.direction.x,Tt=1/this.direction.y,At=1/this.direction.z,Ct=this.origin;return St>=0?(d=(e.min.x-Ct.x)*St,nt=(e.max.x-Ct.x)*St):(d=(e.max.x-Ct.x)*St,nt=(e.min.x-Ct.x)*St),Tt>=0?(o=(e.min.y-Ct.y)*Tt,ft=(e.max.y-Ct.y)*Tt):(o=(e.max.y-Ct.y)*Tt,ft=(e.min.y-Ct.y)*Tt),d>ft||o>nt||((o>d||isNaN(d))&&(d=o),(ft<nt||isNaN(nt))&&(nt=ft),At>=0?(gt=(e.min.z-Ct.z)*At,xt=(e.max.z-Ct.z)*At):(gt=(e.max.z-Ct.z)*At,xt=(e.min.z-Ct.z)*At),d>xt||gt>nt)||((gt>d||d!==d)&&(d=gt),(xt<nt||nt!==nt)&&(nt=xt),nt<0)?null:this.at(d>=0?d:nt,s)}intersectsBox(e){return this.intersectBox(e,_vector$a)!==null}intersectTriangle(e,s,d,nt,o){_edge1.subVectors(s,e),_edge2.subVectors(d,e),_normal$1.crossVectors(_edge1,_edge2);let ft=this.direction.dot(_normal$1),gt;if(ft>0){if(nt)return null;gt=1}else if(ft<0)gt=-1,ft=-ft;else return null;_diff.subVectors(this.origin,e);const xt=gt*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(xt<0)return null;const St=gt*this.direction.dot(_edge1.cross(_diff));if(St<0||xt+St>ft)return null;const Tt=-gt*_diff.dot(_normal$1);return Tt<0?null:this.at(Tt/ft,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(e,s,d,nt,o,ft,gt,xt,St,Tt,At,Ct,Rt,yt,Ot,Nt){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,s,d,nt,o,ft,gt,xt,St,Tt,At,Ct,Rt,yt,Ot,Nt)}set(e,s,d,nt,o,ft,gt,xt,St,Tt,At,Ct,Rt,yt,Ot,Nt){const bt=this.elements;return bt[0]=e,bt[4]=s,bt[8]=d,bt[12]=nt,bt[1]=o,bt[5]=ft,bt[9]=gt,bt[13]=xt,bt[2]=St,bt[6]=Tt,bt[10]=At,bt[14]=Ct,bt[3]=Rt,bt[7]=yt,bt[11]=Ot,bt[15]=Nt,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(e){const s=this.elements,d=e.elements;return s[0]=d[0],s[1]=d[1],s[2]=d[2],s[3]=d[3],s[4]=d[4],s[5]=d[5],s[6]=d[6],s[7]=d[7],s[8]=d[8],s[9]=d[9],s[10]=d[10],s[11]=d[11],s[12]=d[12],s[13]=d[13],s[14]=d[14],s[15]=d[15],this}copyPosition(e){const s=this.elements,d=e.elements;return s[12]=d[12],s[13]=d[13],s[14]=d[14],this}setFromMatrix3(e){const s=e.elements;return this.set(s[0],s[3],s[6],0,s[1],s[4],s[7],0,s[2],s[5],s[8],0,0,0,0,1),this}extractBasis(e,s,d){return e.setFromMatrixColumn(this,0),s.setFromMatrixColumn(this,1),d.setFromMatrixColumn(this,2),this}makeBasis(e,s,d){return this.set(e.x,s.x,d.x,0,e.y,s.y,d.y,0,e.z,s.z,d.z,0,0,0,0,1),this}extractRotation(e){const s=this.elements,d=e.elements,nt=1/_v1$5.setFromMatrixColumn(e,0).length(),o=1/_v1$5.setFromMatrixColumn(e,1).length(),ft=1/_v1$5.setFromMatrixColumn(e,2).length();return s[0]=d[0]*nt,s[1]=d[1]*nt,s[2]=d[2]*nt,s[3]=0,s[4]=d[4]*o,s[5]=d[5]*o,s[6]=d[6]*o,s[7]=0,s[8]=d[8]*ft,s[9]=d[9]*ft,s[10]=d[10]*ft,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,this}makeRotationFromEuler(e){const s=this.elements,d=e.x,nt=e.y,o=e.z,ft=Math.cos(d),gt=Math.sin(d),xt=Math.cos(nt),St=Math.sin(nt),Tt=Math.cos(o),At=Math.sin(o);if(e.order==="XYZ"){const Ct=ft*Tt,Rt=ft*At,yt=gt*Tt,Ot=gt*At;s[0]=xt*Tt,s[4]=-xt*At,s[8]=St,s[1]=Rt+yt*St,s[5]=Ct-Ot*St,s[9]=-gt*xt,s[2]=Ot-Ct*St,s[6]=yt+Rt*St,s[10]=ft*xt}else if(e.order==="YXZ"){const Ct=xt*Tt,Rt=xt*At,yt=St*Tt,Ot=St*At;s[0]=Ct+Ot*gt,s[4]=yt*gt-Rt,s[8]=ft*St,s[1]=ft*At,s[5]=ft*Tt,s[9]=-gt,s[2]=Rt*gt-yt,s[6]=Ot+Ct*gt,s[10]=ft*xt}else if(e.order==="ZXY"){const Ct=xt*Tt,Rt=xt*At,yt=St*Tt,Ot=St*At;s[0]=Ct-Ot*gt,s[4]=-ft*At,s[8]=yt+Rt*gt,s[1]=Rt+yt*gt,s[5]=ft*Tt,s[9]=Ot-Ct*gt,s[2]=-ft*St,s[6]=gt,s[10]=ft*xt}else if(e.order==="ZYX"){const Ct=ft*Tt,Rt=ft*At,yt=gt*Tt,Ot=gt*At;s[0]=xt*Tt,s[4]=yt*St-Rt,s[8]=Ct*St+Ot,s[1]=xt*At,s[5]=Ot*St+Ct,s[9]=Rt*St-yt,s[2]=-St,s[6]=gt*xt,s[10]=ft*xt}else if(e.order==="YZX"){const Ct=ft*xt,Rt=ft*St,yt=gt*xt,Ot=gt*St;s[0]=xt*Tt,s[4]=Ot-Ct*At,s[8]=yt*At+Rt,s[1]=At,s[5]=ft*Tt,s[9]=-gt*Tt,s[2]=-St*Tt,s[6]=Rt*At+yt,s[10]=Ct-Ot*At}else if(e.order==="XZY"){const Ct=ft*xt,Rt=ft*St,yt=gt*xt,Ot=gt*St;s[0]=xt*Tt,s[4]=-At,s[8]=St*Tt,s[1]=Ct*At+Ot,s[5]=ft*Tt,s[9]=Rt*At-yt,s[2]=yt*At-Rt,s[6]=gt*Tt,s[10]=Ot*At+Ct}return s[3]=0,s[7]=0,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,this}makeRotationFromQuaternion(e){return this.compose(_zero,e,_one)}lookAt(e,s,d){const nt=this.elements;return _z.subVectors(e,s),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(d,_z),_x.lengthSq()===0&&(Math.abs(d.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(d,_z)),_x.normalize(),_y.crossVectors(_z,_x),nt[0]=_x.x,nt[4]=_y.x,nt[8]=_z.x,nt[1]=_x.y,nt[5]=_y.y,nt[9]=_z.y,nt[2]=_x.z,nt[6]=_y.z,nt[10]=_z.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,s){const d=e.elements,nt=s.elements,o=this.elements,ft=d[0],gt=d[4],xt=d[8],St=d[12],Tt=d[1],At=d[5],Ct=d[9],Rt=d[13],yt=d[2],Ot=d[6],Nt=d[10],bt=d[14],Dt=d[3],Ft=d[7],Ut=d[11],Wt=d[15],Gt=nt[0],Xt=nt[4],Yt=nt[8],Kt=nt[12],jt=nt[1],Jt=nt[5],fn=nt[9],sn=nt[13],wn=nt[2],Mn=nt[6],Tn=nt[10],kn=nt[14],rn=nt[3],un=nt[7],pn=nt[11],Rn=nt[15];return o[0]=ft*Gt+gt*jt+xt*wn+St*rn,o[4]=ft*Xt+gt*Jt+xt*Mn+St*un,o[8]=ft*Yt+gt*fn+xt*Tn+St*pn,o[12]=ft*Kt+gt*sn+xt*kn+St*Rn,o[1]=Tt*Gt+At*jt+Ct*wn+Rt*rn,o[5]=Tt*Xt+At*Jt+Ct*Mn+Rt*un,o[9]=Tt*Yt+At*fn+Ct*Tn+Rt*pn,o[13]=Tt*Kt+At*sn+Ct*kn+Rt*Rn,o[2]=yt*Gt+Ot*jt+Nt*wn+bt*rn,o[6]=yt*Xt+Ot*Jt+Nt*Mn+bt*un,o[10]=yt*Yt+Ot*fn+Nt*Tn+bt*pn,o[14]=yt*Kt+Ot*sn+Nt*kn+bt*Rn,o[3]=Dt*Gt+Ft*jt+Ut*wn+Wt*rn,o[7]=Dt*Xt+Ft*Jt+Ut*Mn+Wt*un,o[11]=Dt*Yt+Ft*fn+Ut*Tn+Wt*pn,o[15]=Dt*Kt+Ft*sn+Ut*kn+Wt*Rn,this}multiplyScalar(e){const s=this.elements;return s[0]*=e,s[4]*=e,s[8]*=e,s[12]*=e,s[1]*=e,s[5]*=e,s[9]*=e,s[13]*=e,s[2]*=e,s[6]*=e,s[10]*=e,s[14]*=e,s[3]*=e,s[7]*=e,s[11]*=e,s[15]*=e,this}determinant(){const e=this.elements,s=e[0],d=e[4],nt=e[8],o=e[12],ft=e[1],gt=e[5],xt=e[9],St=e[13],Tt=e[2],At=e[6],Ct=e[10],Rt=e[14],yt=e[3],Ot=e[7],Nt=e[11],bt=e[15];return yt*(+o*xt*At-nt*St*At-o*gt*Ct+d*St*Ct+nt*gt*Rt-d*xt*Rt)+Ot*(+s*xt*Rt-s*St*Ct+o*ft*Ct-nt*ft*Rt+nt*St*Tt-o*xt*Tt)+Nt*(+s*St*At-s*gt*Rt-o*ft*At+d*ft*Rt+o*gt*Tt-d*St*Tt)+bt*(-nt*gt*Tt-s*xt*At+s*gt*Ct+nt*ft*At-d*ft*Ct+d*xt*Tt)}transpose(){const e=this.elements;let s;return s=e[1],e[1]=e[4],e[4]=s,s=e[2],e[2]=e[8],e[8]=s,s=e[6],e[6]=e[9],e[9]=s,s=e[3],e[3]=e[12],e[12]=s,s=e[7],e[7]=e[13],e[13]=s,s=e[11],e[11]=e[14],e[14]=s,this}setPosition(e,s,d){const nt=this.elements;return e.isVector3?(nt[12]=e.x,nt[13]=e.y,nt[14]=e.z):(nt[12]=e,nt[13]=s,nt[14]=d),this}invert(){const e=this.elements,s=e[0],d=e[1],nt=e[2],o=e[3],ft=e[4],gt=e[5],xt=e[6],St=e[7],Tt=e[8],At=e[9],Ct=e[10],Rt=e[11],yt=e[12],Ot=e[13],Nt=e[14],bt=e[15],Dt=At*Nt*St-Ot*Ct*St+Ot*xt*Rt-gt*Nt*Rt-At*xt*bt+gt*Ct*bt,Ft=yt*Ct*St-Tt*Nt*St-yt*xt*Rt+ft*Nt*Rt+Tt*xt*bt-ft*Ct*bt,Ut=Tt*Ot*St-yt*At*St+yt*gt*Rt-ft*Ot*Rt-Tt*gt*bt+ft*At*bt,Wt=yt*At*xt-Tt*Ot*xt-yt*gt*Ct+ft*Ot*Ct+Tt*gt*Nt-ft*At*Nt,Gt=s*Dt+d*Ft+nt*Ut+o*Wt;if(Gt===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Xt=1/Gt;return e[0]=Dt*Xt,e[1]=(Ot*Ct*o-At*Nt*o-Ot*nt*Rt+d*Nt*Rt+At*nt*bt-d*Ct*bt)*Xt,e[2]=(gt*Nt*o-Ot*xt*o+Ot*nt*St-d*Nt*St-gt*nt*bt+d*xt*bt)*Xt,e[3]=(At*xt*o-gt*Ct*o-At*nt*St+d*Ct*St+gt*nt*Rt-d*xt*Rt)*Xt,e[4]=Ft*Xt,e[5]=(Tt*Nt*o-yt*Ct*o+yt*nt*Rt-s*Nt*Rt-Tt*nt*bt+s*Ct*bt)*Xt,e[6]=(yt*xt*o-ft*Nt*o-yt*nt*St+s*Nt*St+ft*nt*bt-s*xt*bt)*Xt,e[7]=(ft*Ct*o-Tt*xt*o+Tt*nt*St-s*Ct*St-ft*nt*Rt+s*xt*Rt)*Xt,e[8]=Ut*Xt,e[9]=(yt*At*o-Tt*Ot*o-yt*d*Rt+s*Ot*Rt+Tt*d*bt-s*At*bt)*Xt,e[10]=(ft*Ot*o-yt*gt*o+yt*d*St-s*Ot*St-ft*d*bt+s*gt*bt)*Xt,e[11]=(Tt*gt*o-ft*At*o-Tt*d*St+s*At*St+ft*d*Rt-s*gt*Rt)*Xt,e[12]=Wt*Xt,e[13]=(Tt*Ot*nt-yt*At*nt+yt*d*Ct-s*Ot*Ct-Tt*d*Nt+s*At*Nt)*Xt,e[14]=(yt*gt*nt-ft*Ot*nt-yt*d*xt+s*Ot*xt+ft*d*Nt-s*gt*Nt)*Xt,e[15]=(ft*At*nt-Tt*gt*nt+Tt*d*xt-s*At*xt-ft*d*Ct+s*gt*Ct)*Xt,this}scale(e){const s=this.elements,d=e.x,nt=e.y,o=e.z;return s[0]*=d,s[4]*=nt,s[8]*=o,s[1]*=d,s[5]*=nt,s[9]*=o,s[2]*=d,s[6]*=nt,s[10]*=o,s[3]*=d,s[7]*=nt,s[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,s=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],d=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],nt=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(s,d,nt))}makeTranslation(e,s,d){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,s,0,0,1,d,0,0,0,1),this}makeRotationX(e){const s=Math.cos(e),d=Math.sin(e);return this.set(1,0,0,0,0,s,-d,0,0,d,s,0,0,0,0,1),this}makeRotationY(e){const s=Math.cos(e),d=Math.sin(e);return this.set(s,0,d,0,0,1,0,0,-d,0,s,0,0,0,0,1),this}makeRotationZ(e){const s=Math.cos(e),d=Math.sin(e);return this.set(s,-d,0,0,d,s,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,s){const d=Math.cos(s),nt=Math.sin(s),o=1-d,ft=e.x,gt=e.y,xt=e.z,St=o*ft,Tt=o*gt;return this.set(St*ft+d,St*gt-nt*xt,St*xt+nt*gt,0,St*gt+nt*xt,Tt*gt+d,Tt*xt-nt*ft,0,St*xt-nt*gt,Tt*xt+nt*ft,o*xt*xt+d,0,0,0,0,1),this}makeScale(e,s,d){return this.set(e,0,0,0,0,s,0,0,0,0,d,0,0,0,0,1),this}makeShear(e,s,d,nt,o,ft){return this.set(1,d,o,0,e,1,ft,0,s,nt,1,0,0,0,0,1),this}compose(e,s,d){const nt=this.elements,o=s._x,ft=s._y,gt=s._z,xt=s._w,St=o+o,Tt=ft+ft,At=gt+gt,Ct=o*St,Rt=o*Tt,yt=o*At,Ot=ft*Tt,Nt=ft*At,bt=gt*At,Dt=xt*St,Ft=xt*Tt,Ut=xt*At,Wt=d.x,Gt=d.y,Xt=d.z;return nt[0]=(1-(Ot+bt))*Wt,nt[1]=(Rt+Ut)*Wt,nt[2]=(yt-Ft)*Wt,nt[3]=0,nt[4]=(Rt-Ut)*Gt,nt[5]=(1-(Ct+bt))*Gt,nt[6]=(Nt+Dt)*Gt,nt[7]=0,nt[8]=(yt+Ft)*Xt,nt[9]=(Nt-Dt)*Xt,nt[10]=(1-(Ct+Ot))*Xt,nt[11]=0,nt[12]=e.x,nt[13]=e.y,nt[14]=e.z,nt[15]=1,this}decompose(e,s,d){const nt=this.elements;let o=_v1$5.set(nt[0],nt[1],nt[2]).length();const ft=_v1$5.set(nt[4],nt[5],nt[6]).length(),gt=_v1$5.set(nt[8],nt[9],nt[10]).length();this.determinant()<0&&(o=-o),e.x=nt[12],e.y=nt[13],e.z=nt[14],_m1$2.copy(this);const St=1/o,Tt=1/ft,At=1/gt;return _m1$2.elements[0]*=St,_m1$2.elements[1]*=St,_m1$2.elements[2]*=St,_m1$2.elements[4]*=Tt,_m1$2.elements[5]*=Tt,_m1$2.elements[6]*=Tt,_m1$2.elements[8]*=At,_m1$2.elements[9]*=At,_m1$2.elements[10]*=At,s.setFromRotationMatrix(_m1$2),d.x=o,d.y=ft,d.z=gt,this}makePerspective(e,s,d,nt,o,ft,gt=WebGLCoordinateSystem){const xt=this.elements,St=2*o/(s-e),Tt=2*o/(d-nt),At=(s+e)/(s-e),Ct=(d+nt)/(d-nt);let Rt,yt;if(gt===WebGLCoordinateSystem)Rt=-(ft+o)/(ft-o),yt=-2*ft*o/(ft-o);else if(gt===WebGPUCoordinateSystem)Rt=-ft/(ft-o),yt=-ft*o/(ft-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+gt);return xt[0]=St,xt[4]=0,xt[8]=At,xt[12]=0,xt[1]=0,xt[5]=Tt,xt[9]=Ct,xt[13]=0,xt[2]=0,xt[6]=0,xt[10]=Rt,xt[14]=yt,xt[3]=0,xt[7]=0,xt[11]=-1,xt[15]=0,this}makeOrthographic(e,s,d,nt,o,ft,gt=WebGLCoordinateSystem){const xt=this.elements,St=1/(s-e),Tt=1/(d-nt),At=1/(ft-o),Ct=(s+e)*St,Rt=(d+nt)*Tt;let yt,Ot;if(gt===WebGLCoordinateSystem)yt=(ft+o)*At,Ot=-2*At;else if(gt===WebGPUCoordinateSystem)yt=o*At,Ot=-1*At;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+gt);return xt[0]=2*St,xt[4]=0,xt[8]=0,xt[12]=-Ct,xt[1]=0,xt[5]=2*Tt,xt[9]=0,xt[13]=-Rt,xt[2]=0,xt[6]=0,xt[10]=Ot,xt[14]=-yt,xt[3]=0,xt[7]=0,xt[11]=0,xt[15]=1,this}equals(e){const s=this.elements,d=e.elements;for(let nt=0;nt<16;nt++)if(s[nt]!==d[nt])return!1;return!0}fromArray(e,s=0){for(let d=0;d<16;d++)this.elements[d]=e[d+s];return this}toArray(e=[],s=0){const d=this.elements;return e[s]=d[0],e[s+1]=d[1],e[s+2]=d[2],e[s+3]=d[3],e[s+4]=d[4],e[s+5]=d[5],e[s+6]=d[6],e[s+7]=d[7],e[s+8]=d[8],e[s+9]=d[9],e[s+10]=d[10],e[s+11]=d[11],e[s+12]=d[12],e[s+13]=d[13],e[s+14]=d[14],e[s+15]=d[15],e}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$2=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(e=0,s=0,d=0,nt=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=s,this._z=d,this._order=nt}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,s,d,nt=this._order){return this._x=e,this._y=s,this._z=d,this._order=nt,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,s=this._order,d=!0){const nt=e.elements,o=nt[0],ft=nt[4],gt=nt[8],xt=nt[1],St=nt[5],Tt=nt[9],At=nt[2],Ct=nt[6],Rt=nt[10];switch(s){case"XYZ":this._y=Math.asin(clamp(gt,-1,1)),Math.abs(gt)<.9999999?(this._x=Math.atan2(-Tt,Rt),this._z=Math.atan2(-ft,o)):(this._x=Math.atan2(Ct,St),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp(Tt,-1,1)),Math.abs(Tt)<.9999999?(this._y=Math.atan2(gt,Rt),this._z=Math.atan2(xt,St)):(this._y=Math.atan2(-At,o),this._z=0);break;case"ZXY":this._x=Math.asin(clamp(Ct,-1,1)),Math.abs(Ct)<.9999999?(this._y=Math.atan2(-At,Rt),this._z=Math.atan2(-ft,St)):(this._y=0,this._z=Math.atan2(xt,o));break;case"ZYX":this._y=Math.asin(-clamp(At,-1,1)),Math.abs(At)<.9999999?(this._x=Math.atan2(Ct,Rt),this._z=Math.atan2(xt,o)):(this._x=0,this._z=Math.atan2(-ft,St));break;case"YZX":this._z=Math.asin(clamp(xt,-1,1)),Math.abs(xt)<.9999999?(this._x=Math.atan2(-Tt,St),this._y=Math.atan2(-At,o)):(this._x=0,this._y=Math.atan2(gt,Rt));break;case"XZY":this._z=Math.asin(-clamp(ft,-1,1)),Math.abs(ft)<.9999999?(this._x=Math.atan2(Ct,St),this._y=Math.atan2(gt,o)):(this._x=Math.atan2(-Tt,Rt),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+s)}return this._order=s,d===!0&&this._onChangeCallback(),this}setFromQuaternion(e,s,d){return _matrix$2.makeRotationFromQuaternion(e),this.setFromRotationMatrix(_matrix$2,s,d)}setFromVector3(e,s=this._order){return this.set(e.x,e.y,e.z,s)}reorder(e){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],s=0){return e[s]=this._x,e[s+1]=this._y,e[s+2]=this._z,e[s+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"},_childaddedEvent={type:"childadded",child:null},_childremovedEvent={type:"childremoved",child:null};class Object3D extends EventDispatcher$1{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const e=new Vector3,s=new Euler,d=new Quaternion,nt=new Vector3(1,1,1);function o(){d.setFromEuler(s,!1)}function ft(){s.setFromQuaternion(d,void 0,!1)}s._onChange(o),d._onChange(ft),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:s},quaternion:{configurable:!0,enumerable:!0,value:d},scale:{configurable:!0,enumerable:!0,value:nt},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,s){this.quaternion.setFromAxisAngle(e,s)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,s){return _q1.setFromAxisAngle(e,s),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(e,s){return _q1.setFromAxisAngle(e,s),this.quaternion.premultiply(_q1),this}rotateX(e){return this.rotateOnAxis(_xAxis,e)}rotateY(e){return this.rotateOnAxis(_yAxis,e)}rotateZ(e){return this.rotateOnAxis(_zAxis,e)}translateOnAxis(e,s){return _v1$4.copy(e).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(s)),this}translateX(e){return this.translateOnAxis(_xAxis,e)}translateY(e){return this.translateOnAxis(_yAxis,e)}translateZ(e){return this.translateOnAxis(_zAxis,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(_m1$1$1.copy(this.matrixWorld).invert())}lookAt(e,s,d){e.isVector3?_target.copy(e):_target.set(e,s,d);const nt=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1$1.lookAt(_position$3,_target,this.up):_m1$1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1$1),nt&&(_m1$1$1.extractRotation(nt.matrixWorld),_q1.setFromRotationMatrix(_m1$1$1),this.quaternion.premultiply(_q1.invert()))}add(e){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.add(arguments[s]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(_addedEvent),_childaddedEvent.child=e,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let d=0;d<arguments.length;d++)this.remove(arguments[d]);return this}const s=this.children.indexOf(e);return s!==-1&&(e.parent=null,this.children.splice(s,1),e.dispatchEvent(_removedEvent),_childremovedEvent.child=e,this.dispatchEvent(_childremovedEvent),_childremovedEvent.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),_m1$1$1.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),_m1$1$1.multiply(e.parent.matrixWorld)),e.applyMatrix4(_m1$1$1),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(_addedEvent),_childaddedEvent.child=e,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,s){if(this[e]===s)return this;for(let d=0,nt=this.children.length;d<nt;d++){const ft=this.children[d].getObjectByProperty(e,s);if(ft!==void 0)return ft}}getObjectsByProperty(e,s,d=[]){this[e]===s&&d.push(this);const nt=this.children;for(let o=0,ft=nt.length;o<ft;o++)nt[o].getObjectsByProperty(e,s,d);return d}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,e,_scale$2),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const s=this.matrixWorld.elements;return e.set(s[8],s[9],s[10]).normalize()}raycast(){}traverse(e){e(this);const s=this.children;for(let d=0,nt=s.length;d<nt;d++)s[d].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const s=this.children;for(let d=0,nt=s.length;d<nt;d++)s[d].traverseVisible(e)}traverseAncestors(e){const s=this.parent;s!==null&&(e(s),s.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const s=this.children;for(let d=0,nt=s.length;d<nt;d++)s[d].updateMatrixWorld(e)}updateWorldMatrix(e,s){const d=this.parent;if(e===!0&&d!==null&&d.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),s===!0){const nt=this.children;for(let o=0,ft=nt.length;o<ft;o++)nt[o].updateWorldMatrix(!1,!0)}}toJSON(e){const s=e===void 0||typeof e=="string",d={};s&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},d.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const nt={};nt.uuid=this.uuid,nt.type=this.type,this.name!==""&&(nt.name=this.name),this.castShadow===!0&&(nt.castShadow=!0),this.receiveShadow===!0&&(nt.receiveShadow=!0),this.visible===!1&&(nt.visible=!1),this.frustumCulled===!1&&(nt.frustumCulled=!1),this.renderOrder!==0&&(nt.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(nt.userData=this.userData),nt.layers=this.layers.mask,nt.matrix=this.matrix.toArray(),nt.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(nt.matrixAutoUpdate=!1),this.isInstancedMesh&&(nt.type="InstancedMesh",nt.count=this.count,nt.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(nt.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(nt.type="BatchedMesh",nt.perObjectFrustumCulled=this.perObjectFrustumCulled,nt.sortObjects=this.sortObjects,nt.drawRanges=this._drawRanges,nt.reservedRanges=this._reservedRanges,nt.geometryInfo=this._geometryInfo.map(gt=>({...gt,boundingBox:gt.boundingBox?{min:gt.boundingBox.min.toArray(),max:gt.boundingBox.max.toArray()}:void 0,boundingSphere:gt.boundingSphere?{radius:gt.boundingSphere.radius,center:gt.boundingSphere.center.toArray()}:void 0})),nt.instanceInfo=this._instanceInfo.map(gt=>({...gt})),nt.availableInstanceIds=this._availableInstanceIds.slice(),nt.availableGeometryIds=this._availableGeometryIds.slice(),nt.nextIndexStart=this._nextIndexStart,nt.nextVertexStart=this._nextVertexStart,nt.geometryCount=this._geometryCount,nt.maxInstanceCount=this._maxInstanceCount,nt.maxVertexCount=this._maxVertexCount,nt.maxIndexCount=this._maxIndexCount,nt.geometryInitialized=this._geometryInitialized,nt.matricesTexture=this._matricesTexture.toJSON(e),nt.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(nt.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(nt.boundingSphere={center:this.boundingSphere.center.toArray(),radius:this.boundingSphere.radius}),this.boundingBox!==null&&(nt.boundingBox={min:this.boundingBox.min.toArray(),max:this.boundingBox.max.toArray()}));function o(gt,xt){return gt[xt.uuid]===void 0&&(gt[xt.uuid]=xt.toJSON(e)),xt.uuid}if(this.isScene)this.background&&(this.background.isColor?nt.background=this.background.toJSON():this.background.isTexture&&(nt.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(nt.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){nt.geometry=o(e.geometries,this.geometry);const gt=this.geometry.parameters;if(gt!==void 0&&gt.shapes!==void 0){const xt=gt.shapes;if(Array.isArray(xt))for(let St=0,Tt=xt.length;St<Tt;St++){const At=xt[St];o(e.shapes,At)}else o(e.shapes,xt)}}if(this.isSkinnedMesh&&(nt.bindMode=this.bindMode,nt.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),nt.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const gt=[];for(let xt=0,St=this.material.length;xt<St;xt++)gt.push(o(e.materials,this.material[xt]));nt.material=gt}else nt.material=o(e.materials,this.material);if(this.children.length>0){nt.children=[];for(let gt=0;gt<this.children.length;gt++)nt.children.push(this.children[gt].toJSON(e).object)}if(this.animations.length>0){nt.animations=[];for(let gt=0;gt<this.animations.length;gt++){const xt=this.animations[gt];nt.animations.push(o(e.animations,xt))}}if(s){const gt=ft(e.geometries),xt=ft(e.materials),St=ft(e.textures),Tt=ft(e.images),At=ft(e.shapes),Ct=ft(e.skeletons),Rt=ft(e.animations),yt=ft(e.nodes);gt.length>0&&(d.geometries=gt),xt.length>0&&(d.materials=xt),St.length>0&&(d.textures=St),Tt.length>0&&(d.images=Tt),At.length>0&&(d.shapes=At),Ct.length>0&&(d.skeletons=Ct),Rt.length>0&&(d.animations=Rt),yt.length>0&&(d.nodes=yt)}return d.object=nt,d;function ft(gt){const xt=[];for(const St in gt){const Tt=gt[St];delete Tt.metadata,xt.push(Tt)}return xt}}clone(e){return new this.constructor().copy(this,e)}copy(e,s=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),s===!0)for(let d=0;d<e.children.length;d++){const nt=e.children[d];this.add(nt.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$2=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3,_v40=new Vector4,_v41=new Vector4,_v42=new Vector4;class Triangle{constructor(e=new Vector3,s=new Vector3,d=new Vector3){this.a=e,this.b=s,this.c=d}static getNormal(e,s,d,nt){nt.subVectors(d,s),_v0$1.subVectors(e,s),nt.cross(_v0$1);const o=nt.lengthSq();return o>0?nt.multiplyScalar(1/Math.sqrt(o)):nt.set(0,0,0)}static getBarycoord(e,s,d,nt,o){_v0$1.subVectors(nt,s),_v1$3.subVectors(d,s),_v2$2.subVectors(e,s);const ft=_v0$1.dot(_v0$1),gt=_v0$1.dot(_v1$3),xt=_v0$1.dot(_v2$2),St=_v1$3.dot(_v1$3),Tt=_v1$3.dot(_v2$2),At=ft*St-gt*gt;if(At===0)return o.set(0,0,0),null;const Ct=1/At,Rt=(St*xt-gt*Tt)*Ct,yt=(ft*Tt-gt*xt)*Ct;return o.set(1-Rt-yt,yt,Rt)}static containsPoint(e,s,d,nt){return this.getBarycoord(e,s,d,nt,_v3$2)===null?!1:_v3$2.x>=0&&_v3$2.y>=0&&_v3$2.x+_v3$2.y<=1}static getInterpolation(e,s,d,nt,o,ft,gt,xt){return this.getBarycoord(e,s,d,nt,_v3$2)===null?(xt.x=0,xt.y=0,"z"in xt&&(xt.z=0),"w"in xt&&(xt.w=0),null):(xt.setScalar(0),xt.addScaledVector(o,_v3$2.x),xt.addScaledVector(ft,_v3$2.y),xt.addScaledVector(gt,_v3$2.z),xt)}static getInterpolatedAttribute(e,s,d,nt,o,ft){return _v40.setScalar(0),_v41.setScalar(0),_v42.setScalar(0),_v40.fromBufferAttribute(e,s),_v41.fromBufferAttribute(e,d),_v42.fromBufferAttribute(e,nt),ft.setScalar(0),ft.addScaledVector(_v40,o.x),ft.addScaledVector(_v41,o.y),ft.addScaledVector(_v42,o.z),ft}static isFrontFacing(e,s,d,nt){return _v0$1.subVectors(d,s),_v1$3.subVectors(e,s),_v0$1.cross(_v1$3).dot(nt)<0}set(e,s,d){return this.a.copy(e),this.b.copy(s),this.c.copy(d),this}setFromPointsAndIndices(e,s,d,nt){return this.a.copy(e[s]),this.b.copy(e[d]),this.c.copy(e[nt]),this}setFromAttributeAndIndices(e,s,d,nt){return this.a.fromBufferAttribute(e,s),this.b.fromBufferAttribute(e,d),this.c.fromBufferAttribute(e,nt),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Triangle.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,s){return Triangle.getBarycoord(e,this.a,this.b,this.c,s)}getInterpolation(e,s,d,nt,o){return Triangle.getInterpolation(e,this.a,this.b,this.c,s,d,nt,o)}containsPoint(e){return Triangle.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Triangle.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,s){const d=this.a,nt=this.b,o=this.c;let ft,gt;_vab.subVectors(nt,d),_vac.subVectors(o,d),_vap.subVectors(e,d);const xt=_vab.dot(_vap),St=_vac.dot(_vap);if(xt<=0&&St<=0)return s.copy(d);_vbp.subVectors(e,nt);const Tt=_vab.dot(_vbp),At=_vac.dot(_vbp);if(Tt>=0&&At<=Tt)return s.copy(nt);const Ct=xt*At-Tt*St;if(Ct<=0&&xt>=0&&Tt<=0)return ft=xt/(xt-Tt),s.copy(d).addScaledVector(_vab,ft);_vcp.subVectors(e,o);const Rt=_vab.dot(_vcp),yt=_vac.dot(_vcp);if(yt>=0&&Rt<=yt)return s.copy(o);const Ot=Rt*St-xt*yt;if(Ot<=0&&St>=0&&yt<=0)return gt=St/(St-yt),s.copy(d).addScaledVector(_vac,gt);const Nt=Tt*yt-Rt*At;if(Nt<=0&&At-Tt>=0&&Rt-yt>=0)return _vbc.subVectors(o,nt),gt=(At-Tt)/(At-Tt+(Rt-yt)),s.copy(nt).addScaledVector(_vbc,gt);const bt=1/(Nt+Ot+Ct);return ft=Ot*bt,gt=Ct*bt,s.copy(d).addScaledVector(_vab,ft).addScaledVector(_vac,gt)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(c,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?c+(e-c)*6*s:s<1/2?e:s<2/3?c+(e-c)*6*(2/3-s):c}class Color{constructor(e,s,d){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,s,d)}set(e,s,d){if(s===void 0&&d===void 0){const nt=e;nt&&nt.isColor?this.copy(nt):typeof nt=="number"?this.setHex(nt):typeof nt=="string"&&this.setStyle(nt)}else this.setRGB(e,s,d);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,s=SRGBColorSpace){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ColorManagement.toWorkingColorSpace(this,s),this}setRGB(e,s,d,nt=ColorManagement.workingColorSpace){return this.r=e,this.g=s,this.b=d,ColorManagement.toWorkingColorSpace(this,nt),this}setHSL(e,s,d,nt=ColorManagement.workingColorSpace){if(e=euclideanModulo(e,1),s=clamp(s,0,1),d=clamp(d,0,1),s===0)this.r=this.g=this.b=d;else{const o=d<=.5?d*(1+s):d+s-d*s,ft=2*d-o;this.r=hue2rgb(ft,o,e+1/3),this.g=hue2rgb(ft,o,e),this.b=hue2rgb(ft,o,e-1/3)}return ColorManagement.toWorkingColorSpace(this,nt),this}setStyle(e,s=SRGBColorSpace){function d(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let nt;if(nt=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const ft=nt[1],gt=nt[2];switch(ft){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(gt))return d(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,s);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(gt))return d(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,s);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(gt))return d(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,s);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(nt=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=nt[1],ft=o.length;if(ft===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,s);if(ft===6)return this.setHex(parseInt(o,16),s);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,s);return this}setColorName(e,s=SRGBColorSpace){const d=_colorKeywords[e.toLowerCase()];return d!==void 0?this.setHex(d,s):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=SRGBToLinear(e.r),this.g=SRGBToLinear(e.g),this.b=SRGBToLinear(e.b),this}copyLinearToSRGB(e){return this.r=LinearToSRGB(e.r),this.g=LinearToSRGB(e.g),this.b=LinearToSRGB(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),e),Math.round(clamp(_color.r*255,0,255))*65536+Math.round(clamp(_color.g*255,0,255))*256+Math.round(clamp(_color.b*255,0,255))}getHexString(e=SRGBColorSpace){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,s=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),s);const d=_color.r,nt=_color.g,o=_color.b,ft=Math.max(d,nt,o),gt=Math.min(d,nt,o);let xt,St;const Tt=(gt+ft)/2;if(gt===ft)xt=0,St=0;else{const At=ft-gt;switch(St=Tt<=.5?At/(ft+gt):At/(2-ft-gt),ft){case d:xt=(nt-o)/At+(nt<o?6:0);break;case nt:xt=(o-d)/At+2;break;case o:xt=(d-nt)/At+4;break}xt/=6}return e.h=xt,e.s=St,e.l=Tt,e}getRGB(e,s=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),s),e.r=_color.r,e.g=_color.g,e.b=_color.b,e}getStyle(e=SRGBColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),e);const s=_color.r,d=_color.g,nt=_color.b;return e!==SRGBColorSpace?`color(${e} ${s.toFixed(3)} ${d.toFixed(3)} ${nt.toFixed(3)})`:`rgb(${Math.round(s*255)},${Math.round(d*255)},${Math.round(nt*255)})`}offsetHSL(e,s,d){return this.getHSL(_hslA),this.setHSL(_hslA.h+e,_hslA.s+s,_hslA.l+d)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,s){return this.r=e.r+s.r,this.g=e.g+s.g,this.b=e.b+s.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,s){return this.r+=(e.r-this.r)*s,this.g+=(e.g-this.g)*s,this.b+=(e.b-this.b)*s,this}lerpColors(e,s,d){return this.r=e.r+(s.r-e.r)*d,this.g=e.g+(s.g-e.g)*d,this.b=e.b+(s.b-e.b)*d,this}lerpHSL(e,s){this.getHSL(_hslA),e.getHSL(_hslB);const d=lerp(_hslA.h,_hslB.h,s),nt=lerp(_hslA.s,_hslB.s,s),o=lerp(_hslA.l,_hslB.l,s);return this.setHSL(d,nt,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const s=this.r,d=this.g,nt=this.b,o=e.elements;return this.r=o[0]*s+o[3]*d+o[6]*nt,this.g=o[1]*s+o[4]*d+o[7]*nt,this.b=o[2]*s+o[5]*d+o[8]*nt,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,s=0){return this.r=e[s],this.g=e[s+1],this.b=e[s+2],this}toArray(e=[],s=0){return e[s]=this.r,e[s+1]=this.g,e[s+2]=this.b,e}fromBufferAttribute(e,s){return this.r=e.getX(s),this.g=e.getY(s),this.b=e.getZ(s),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const _color=new Color;Color.NAMES=_colorKeywords;let _materialId=0;class Material extends EventDispatcher$1{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Color(0,0,0),this.blendAlpha=0,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const s in e){const d=e[s];if(d===void 0){console.warn(`THREE.Material: parameter '${s}' has value of undefined.`);continue}const nt=this[s];if(nt===void 0){console.warn(`THREE.Material: '${s}' is not a property of THREE.${this.type}.`);continue}nt&&nt.isColor?nt.set(d):nt&&nt.isVector3&&d&&d.isVector3?nt.copy(d):this[s]=d}}toJSON(e){const s=e===void 0||typeof e=="string";s&&(e={textures:{},images:{}});const d={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};d.uuid=this.uuid,d.type=this.type,this.name!==""&&(d.name=this.name),this.color&&this.color.isColor&&(d.color=this.color.getHex()),this.roughness!==void 0&&(d.roughness=this.roughness),this.metalness!==void 0&&(d.metalness=this.metalness),this.sheen!==void 0&&(d.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(d.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(d.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(d.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(d.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(d.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(d.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(d.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(d.shininess=this.shininess),this.clearcoat!==void 0&&(d.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(d.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(d.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(d.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(d.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,d.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(d.dispersion=this.dispersion),this.iridescence!==void 0&&(d.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(d.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(d.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(d.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(d.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(d.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(d.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(d.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(d.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(d.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(d.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(d.lightMap=this.lightMap.toJSON(e).uuid,d.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(d.aoMap=this.aoMap.toJSON(e).uuid,d.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(d.bumpMap=this.bumpMap.toJSON(e).uuid,d.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(d.normalMap=this.normalMap.toJSON(e).uuid,d.normalMapType=this.normalMapType,d.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(d.displacementMap=this.displacementMap.toJSON(e).uuid,d.displacementScale=this.displacementScale,d.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(d.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(d.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(d.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(d.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(d.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(d.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(d.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(d.combine=this.combine)),this.envMapRotation!==void 0&&(d.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(d.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(d.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(d.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(d.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(d.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(d.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(d.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(d.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(d.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(d.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(d.size=this.size),this.shadowSide!==null&&(d.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(d.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(d.blending=this.blending),this.side!==FrontSide&&(d.side=this.side),this.vertexColors===!0&&(d.vertexColors=!0),this.opacity<1&&(d.opacity=this.opacity),this.transparent===!0&&(d.transparent=!0),this.blendSrc!==SrcAlphaFactor&&(d.blendSrc=this.blendSrc),this.blendDst!==OneMinusSrcAlphaFactor&&(d.blendDst=this.blendDst),this.blendEquation!==AddEquation&&(d.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(d.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(d.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(d.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(d.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(d.blendAlpha=this.blendAlpha),this.depthFunc!==LessEqualDepth&&(d.depthFunc=this.depthFunc),this.depthTest===!1&&(d.depthTest=this.depthTest),this.depthWrite===!1&&(d.depthWrite=this.depthWrite),this.colorWrite===!1&&(d.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(d.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==AlwaysStencilFunc&&(d.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(d.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(d.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==KeepStencilOp&&(d.stencilFail=this.stencilFail),this.stencilZFail!==KeepStencilOp&&(d.stencilZFail=this.stencilZFail),this.stencilZPass!==KeepStencilOp&&(d.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(d.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(d.rotation=this.rotation),this.polygonOffset===!0&&(d.polygonOffset=!0),this.polygonOffsetFactor!==0&&(d.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(d.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(d.linewidth=this.linewidth),this.dashSize!==void 0&&(d.dashSize=this.dashSize),this.gapSize!==void 0&&(d.gapSize=this.gapSize),this.scale!==void 0&&(d.scale=this.scale),this.dithering===!0&&(d.dithering=!0),this.alphaTest>0&&(d.alphaTest=this.alphaTest),this.alphaHash===!0&&(d.alphaHash=!0),this.alphaToCoverage===!0&&(d.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(d.premultipliedAlpha=!0),this.forceSinglePass===!0&&(d.forceSinglePass=!0),this.wireframe===!0&&(d.wireframe=!0),this.wireframeLinewidth>1&&(d.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(d.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(d.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(d.flatShading=!0),this.visible===!1&&(d.visible=!1),this.toneMapped===!1&&(d.toneMapped=!1),this.fog===!1&&(d.fog=!1),Object.keys(this.userData).length>0&&(d.userData=this.userData);function nt(o){const ft=[];for(const gt in o){const xt=o[gt];delete xt.metadata,ft.push(xt)}return ft}if(s){const o=nt(e.textures),ft=nt(e.images);o.length>0&&(d.textures=o),ft.length>0&&(d.images=ft)}return d}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const s=e.clippingPlanes;let d=null;if(s!==null){const nt=s.length;d=new Array(nt);for(let o=0;o!==nt;++o)d[o]=s[o].clone()}return this.clippingPlanes=d,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class MeshBasicMaterial extends Material{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const _tables=_generateTables();function _generateTables(){const c=new ArrayBuffer(4),e=new Float32Array(c),s=new Uint32Array(c),d=new Uint32Array(512),nt=new Uint32Array(512);for(let xt=0;xt<256;++xt){const St=xt-127;St<-27?(d[xt]=0,d[xt|256]=32768,nt[xt]=24,nt[xt|256]=24):St<-14?(d[xt]=1024>>-St-14,d[xt|256]=1024>>-St-14|32768,nt[xt]=-St-1,nt[xt|256]=-St-1):St<=15?(d[xt]=St+15<<10,d[xt|256]=St+15<<10|32768,nt[xt]=13,nt[xt|256]=13):St<128?(d[xt]=31744,d[xt|256]=64512,nt[xt]=24,nt[xt|256]=24):(d[xt]=31744,d[xt|256]=64512,nt[xt]=13,nt[xt|256]=13)}const o=new Uint32Array(2048),ft=new Uint32Array(64),gt=new Uint32Array(64);for(let xt=1;xt<1024;++xt){let St=xt<<13,Tt=0;for(;!(St&8388608);)St<<=1,Tt-=8388608;St&=-8388609,Tt+=947912704,o[xt]=St|Tt}for(let xt=1024;xt<2048;++xt)o[xt]=939524096+(xt-1024<<13);for(let xt=1;xt<31;++xt)ft[xt]=xt<<23;ft[31]=1199570944,ft[32]=2147483648;for(let xt=33;xt<63;++xt)ft[xt]=2147483648+(xt-32<<23);ft[63]=3347054592;for(let xt=1;xt<64;++xt)xt!==32&&(gt[xt]=1024);return{floatView:e,uint32View:s,baseTable:d,shiftTable:nt,mantissaTable:o,exponentTable:ft,offsetTable:gt}}function toHalfFloat(c){Math.abs(c)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),c=clamp(c,-65504,65504),_tables.floatView[0]=c;const e=_tables.uint32View[0],s=e>>23&511;return _tables.baseTable[s]+((e&8388607)>>_tables.shiftTable[s])}function fromHalfFloat(c){const e=c>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[e]+(c&1023)]+_tables.exponentTable[e],_tables.floatView[0]}class DataUtils{static toHalfFloat(e){return toHalfFloat(e)}static fromHalfFloat(e){return fromHalfFloat(e)}}const _vector$9=new Vector3,_vector2$1=new Vector2;let _id$2=0;class BufferAttribute{constructor(e,s,d=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:_id$2++}),this.name="",this.array=e,this.itemSize=s,this.count=e!==void 0?e.length/s:0,this.normalized=d,this.usage=StaticDrawUsage,this.updateRanges=[],this.gpuType=FloatType,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,s){this.updateRanges.push({start:e,count:s})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,s,d){e*=this.itemSize,d*=s.itemSize;for(let nt=0,o=this.itemSize;nt<o;nt++)this.array[e+nt]=s.array[d+nt];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let s=0,d=this.count;s<d;s++)_vector2$1.fromBufferAttribute(this,s),_vector2$1.applyMatrix3(e),this.setXY(s,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let s=0,d=this.count;s<d;s++)_vector$9.fromBufferAttribute(this,s),_vector$9.applyMatrix3(e),this.setXYZ(s,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(e){for(let s=0,d=this.count;s<d;s++)_vector$9.fromBufferAttribute(this,s),_vector$9.applyMatrix4(e),this.setXYZ(s,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(e){for(let s=0,d=this.count;s<d;s++)_vector$9.fromBufferAttribute(this,s),_vector$9.applyNormalMatrix(e),this.setXYZ(s,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(e){for(let s=0,d=this.count;s<d;s++)_vector$9.fromBufferAttribute(this,s),_vector$9.transformDirection(e),this.setXYZ(s,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(e,s=0){return this.array.set(e,s),this}getComponent(e,s){let d=this.array[e*this.itemSize+s];return this.normalized&&(d=denormalize(d,this.array)),d}setComponent(e,s,d){return this.normalized&&(d=normalize(d,this.array)),this.array[e*this.itemSize+s]=d,this}getX(e){let s=this.array[e*this.itemSize];return this.normalized&&(s=denormalize(s,this.array)),s}setX(e,s){return this.normalized&&(s=normalize(s,this.array)),this.array[e*this.itemSize]=s,this}getY(e){let s=this.array[e*this.itemSize+1];return this.normalized&&(s=denormalize(s,this.array)),s}setY(e,s){return this.normalized&&(s=normalize(s,this.array)),this.array[e*this.itemSize+1]=s,this}getZ(e){let s=this.array[e*this.itemSize+2];return this.normalized&&(s=denormalize(s,this.array)),s}setZ(e,s){return this.normalized&&(s=normalize(s,this.array)),this.array[e*this.itemSize+2]=s,this}getW(e){let s=this.array[e*this.itemSize+3];return this.normalized&&(s=denormalize(s,this.array)),s}setW(e,s){return this.normalized&&(s=normalize(s,this.array)),this.array[e*this.itemSize+3]=s,this}setXY(e,s,d){return e*=this.itemSize,this.normalized&&(s=normalize(s,this.array),d=normalize(d,this.array)),this.array[e+0]=s,this.array[e+1]=d,this}setXYZ(e,s,d,nt){return e*=this.itemSize,this.normalized&&(s=normalize(s,this.array),d=normalize(d,this.array),nt=normalize(nt,this.array)),this.array[e+0]=s,this.array[e+1]=d,this.array[e+2]=nt,this}setXYZW(e,s,d,nt,o){return e*=this.itemSize,this.normalized&&(s=normalize(s,this.array),d=normalize(d,this.array),nt=normalize(nt,this.array),o=normalize(o,this.array)),this.array[e+0]=s,this.array[e+1]=d,this.array[e+2]=nt,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==StaticDrawUsage&&(e.usage=this.usage),e}}class Int8BufferAttribute extends BufferAttribute{constructor(e,s,d){super(new Int8Array(e),s,d)}}class Uint8BufferAttribute extends BufferAttribute{constructor(e,s,d){super(new Uint8Array(e),s,d)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(e,s,d){super(new Uint8ClampedArray(e),s,d)}}class Int16BufferAttribute extends BufferAttribute{constructor(e,s,d){super(new Int16Array(e),s,d)}}class Uint16BufferAttribute extends BufferAttribute{constructor(e,s,d){super(new Uint16Array(e),s,d)}}class Int32BufferAttribute extends BufferAttribute{constructor(e,s,d){super(new Int32Array(e),s,d)}}class Uint32BufferAttribute extends BufferAttribute{constructor(e,s,d){super(new Uint32Array(e),s,d)}}class Float16BufferAttribute extends BufferAttribute{constructor(e,s,d){super(new Uint16Array(e),s,d),this.isFloat16BufferAttribute=!0}getX(e){let s=fromHalfFloat(this.array[e*this.itemSize]);return this.normalized&&(s=denormalize(s,this.array)),s}setX(e,s){return this.normalized&&(s=normalize(s,this.array)),this.array[e*this.itemSize]=toHalfFloat(s),this}getY(e){let s=fromHalfFloat(this.array[e*this.itemSize+1]);return this.normalized&&(s=denormalize(s,this.array)),s}setY(e,s){return this.normalized&&(s=normalize(s,this.array)),this.array[e*this.itemSize+1]=toHalfFloat(s),this}getZ(e){let s=fromHalfFloat(this.array[e*this.itemSize+2]);return this.normalized&&(s=denormalize(s,this.array)),s}setZ(e,s){return this.normalized&&(s=normalize(s,this.array)),this.array[e*this.itemSize+2]=toHalfFloat(s),this}getW(e){let s=fromHalfFloat(this.array[e*this.itemSize+3]);return this.normalized&&(s=denormalize(s,this.array)),s}setW(e,s){return this.normalized&&(s=normalize(s,this.array)),this.array[e*this.itemSize+3]=toHalfFloat(s),this}setXY(e,s,d){return e*=this.itemSize,this.normalized&&(s=normalize(s,this.array),d=normalize(d,this.array)),this.array[e+0]=toHalfFloat(s),this.array[e+1]=toHalfFloat(d),this}setXYZ(e,s,d,nt){return e*=this.itemSize,this.normalized&&(s=normalize(s,this.array),d=normalize(d,this.array),nt=normalize(nt,this.array)),this.array[e+0]=toHalfFloat(s),this.array[e+1]=toHalfFloat(d),this.array[e+2]=toHalfFloat(nt),this}setXYZW(e,s,d,nt,o){return e*=this.itemSize,this.normalized&&(s=normalize(s,this.array),d=normalize(d,this.array),nt=normalize(nt,this.array),o=normalize(o,this.array)),this.array[e+0]=toHalfFloat(s),this.array[e+1]=toHalfFloat(d),this.array[e+2]=toHalfFloat(nt),this.array[e+3]=toHalfFloat(o),this}}class Float32BufferAttribute extends BufferAttribute{constructor(e,s,d){super(new Float32Array(e),s,d)}}let _id$1=0;const _m1$3=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$2=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher$1{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(arrayNeedsUint32(e)?Uint32BufferAttribute:Uint16BufferAttribute)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,s){return this.attributes[e]=s,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,s,d=0){this.groups.push({start:e,count:s,materialIndex:d})}clearGroups(){this.groups=[]}setDrawRange(e,s){this.drawRange.start=e,this.drawRange.count=s}applyMatrix4(e){const s=this.attributes.position;s!==void 0&&(s.applyMatrix4(e),s.needsUpdate=!0);const d=this.attributes.normal;if(d!==void 0){const o=new Matrix3().getNormalMatrix(e);d.applyNormalMatrix(o),d.needsUpdate=!0}const nt=this.attributes.tangent;return nt!==void 0&&(nt.transformDirection(e),nt.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return _m1$3.makeRotationFromQuaternion(e),this.applyMatrix4(_m1$3),this}rotateX(e){return _m1$3.makeRotationX(e),this.applyMatrix4(_m1$3),this}rotateY(e){return _m1$3.makeRotationY(e),this.applyMatrix4(_m1$3),this}rotateZ(e){return _m1$3.makeRotationZ(e),this.applyMatrix4(_m1$3),this}translate(e,s,d){return _m1$3.makeTranslation(e,s,d),this.applyMatrix4(_m1$3),this}scale(e,s,d){return _m1$3.makeScale(e,s,d),this.applyMatrix4(_m1$3),this}lookAt(e){return _obj.lookAt(e),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(e){const s=this.getAttribute("position");if(s===void 0){const d=[];for(let nt=0,o=e.length;nt<o;nt++){const ft=e[nt];d.push(ft.x,ft.y,ft.z||0)}this.setAttribute("position",new Float32BufferAttribute(d,3))}else{const d=Math.min(e.length,s.count);for(let nt=0;nt<d;nt++){const o=e[nt];s.setXYZ(nt,o.x,o.y,o.z||0)}e.length>s.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),s.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const e=this.attributes.position,s=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),s)for(let d=0,nt=s.length;d<nt;d++){const o=s[d];_box$2.setFromBufferAttribute(o),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$2.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$2.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$2.min),this.boundingBox.expandByPoint(_box$2.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const e=this.attributes.position,s=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Vector3,1/0);return}if(e){const d=this.boundingSphere.center;if(_box$2.setFromBufferAttribute(e),s)for(let o=0,ft=s.length;o<ft;o++){const gt=s[o];_boxMorphTargets.setFromBufferAttribute(gt),this.morphTargetsRelative?(_vector$8.addVectors(_box$2.min,_boxMorphTargets.min),_box$2.expandByPoint(_vector$8),_vector$8.addVectors(_box$2.max,_boxMorphTargets.max),_box$2.expandByPoint(_vector$8)):(_box$2.expandByPoint(_boxMorphTargets.min),_box$2.expandByPoint(_boxMorphTargets.max))}_box$2.getCenter(d);let nt=0;for(let o=0,ft=e.count;o<ft;o++)_vector$8.fromBufferAttribute(e,o),nt=Math.max(nt,d.distanceToSquared(_vector$8));if(s)for(let o=0,ft=s.length;o<ft;o++){const gt=s[o],xt=this.morphTargetsRelative;for(let St=0,Tt=gt.count;St<Tt;St++)_vector$8.fromBufferAttribute(gt,St),xt&&(_offset.fromBufferAttribute(e,St),_vector$8.add(_offset)),nt=Math.max(nt,d.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(nt),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,s=this.attributes;if(e===null||s.position===void 0||s.normal===void 0||s.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const d=s.position,nt=s.normal,o=s.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*d.count),4));const ft=this.getAttribute("tangent"),gt=[],xt=[];for(let Yt=0;Yt<d.count;Yt++)gt[Yt]=new Vector3,xt[Yt]=new Vector3;const St=new Vector3,Tt=new Vector3,At=new Vector3,Ct=new Vector2,Rt=new Vector2,yt=new Vector2,Ot=new Vector3,Nt=new Vector3;function bt(Yt,Kt,jt){St.fromBufferAttribute(d,Yt),Tt.fromBufferAttribute(d,Kt),At.fromBufferAttribute(d,jt),Ct.fromBufferAttribute(o,Yt),Rt.fromBufferAttribute(o,Kt),yt.fromBufferAttribute(o,jt),Tt.sub(St),At.sub(St),Rt.sub(Ct),yt.sub(Ct);const Jt=1/(Rt.x*yt.y-yt.x*Rt.y);isFinite(Jt)&&(Ot.copy(Tt).multiplyScalar(yt.y).addScaledVector(At,-Rt.y).multiplyScalar(Jt),Nt.copy(At).multiplyScalar(Rt.x).addScaledVector(Tt,-yt.x).multiplyScalar(Jt),gt[Yt].add(Ot),gt[Kt].add(Ot),gt[jt].add(Ot),xt[Yt].add(Nt),xt[Kt].add(Nt),xt[jt].add(Nt))}let Dt=this.groups;Dt.length===0&&(Dt=[{start:0,count:e.count}]);for(let Yt=0,Kt=Dt.length;Yt<Kt;++Yt){const jt=Dt[Yt],Jt=jt.start,fn=jt.count;for(let sn=Jt,wn=Jt+fn;sn<wn;sn+=3)bt(e.getX(sn+0),e.getX(sn+1),e.getX(sn+2))}const Ft=new Vector3,Ut=new Vector3,Wt=new Vector3,Gt=new Vector3;function Xt(Yt){Wt.fromBufferAttribute(nt,Yt),Gt.copy(Wt);const Kt=gt[Yt];Ft.copy(Kt),Ft.sub(Wt.multiplyScalar(Wt.dot(Kt))).normalize(),Ut.crossVectors(Gt,Kt);const Jt=Ut.dot(xt[Yt])<0?-1:1;ft.setXYZW(Yt,Ft.x,Ft.y,Ft.z,Jt)}for(let Yt=0,Kt=Dt.length;Yt<Kt;++Yt){const jt=Dt[Yt],Jt=jt.start,fn=jt.count;for(let sn=Jt,wn=Jt+fn;sn<wn;sn+=3)Xt(e.getX(sn+0)),Xt(e.getX(sn+1)),Xt(e.getX(sn+2))}}computeVertexNormals(){const e=this.index,s=this.getAttribute("position");if(s!==void 0){let d=this.getAttribute("normal");if(d===void 0)d=new BufferAttribute(new Float32Array(s.count*3),3),this.setAttribute("normal",d);else for(let Ct=0,Rt=d.count;Ct<Rt;Ct++)d.setXYZ(Ct,0,0,0);const nt=new Vector3,o=new Vector3,ft=new Vector3,gt=new Vector3,xt=new Vector3,St=new Vector3,Tt=new Vector3,At=new Vector3;if(e)for(let Ct=0,Rt=e.count;Ct<Rt;Ct+=3){const yt=e.getX(Ct+0),Ot=e.getX(Ct+1),Nt=e.getX(Ct+2);nt.fromBufferAttribute(s,yt),o.fromBufferAttribute(s,Ot),ft.fromBufferAttribute(s,Nt),Tt.subVectors(ft,o),At.subVectors(nt,o),Tt.cross(At),gt.fromBufferAttribute(d,yt),xt.fromBufferAttribute(d,Ot),St.fromBufferAttribute(d,Nt),gt.add(Tt),xt.add(Tt),St.add(Tt),d.setXYZ(yt,gt.x,gt.y,gt.z),d.setXYZ(Ot,xt.x,xt.y,xt.z),d.setXYZ(Nt,St.x,St.y,St.z)}else for(let Ct=0,Rt=s.count;Ct<Rt;Ct+=3)nt.fromBufferAttribute(s,Ct+0),o.fromBufferAttribute(s,Ct+1),ft.fromBufferAttribute(s,Ct+2),Tt.subVectors(ft,o),At.subVectors(nt,o),Tt.cross(At),d.setXYZ(Ct+0,Tt.x,Tt.y,Tt.z),d.setXYZ(Ct+1,Tt.x,Tt.y,Tt.z),d.setXYZ(Ct+2,Tt.x,Tt.y,Tt.z);this.normalizeNormals(),d.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let s=0,d=e.count;s<d;s++)_vector$8.fromBufferAttribute(e,s),_vector$8.normalize(),e.setXYZ(s,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function e(gt,xt){const St=gt.array,Tt=gt.itemSize,At=gt.normalized,Ct=new St.constructor(xt.length*Tt);let Rt=0,yt=0;for(let Ot=0,Nt=xt.length;Ot<Nt;Ot++){gt.isInterleavedBufferAttribute?Rt=xt[Ot]*gt.data.stride+gt.offset:Rt=xt[Ot]*Tt;for(let bt=0;bt<Tt;bt++)Ct[yt++]=St[Rt++]}return new BufferAttribute(Ct,Tt,At)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const s=new BufferGeometry,d=this.index.array,nt=this.attributes;for(const gt in nt){const xt=nt[gt],St=e(xt,d);s.setAttribute(gt,St)}const o=this.morphAttributes;for(const gt in o){const xt=[],St=o[gt];for(let Tt=0,At=St.length;Tt<At;Tt++){const Ct=St[Tt],Rt=e(Ct,d);xt.push(Rt)}s.morphAttributes[gt]=xt}s.morphTargetsRelative=this.morphTargetsRelative;const ft=this.groups;for(let gt=0,xt=ft.length;gt<xt;gt++){const St=ft[gt];s.addGroup(St.start,St.count,St.materialIndex)}return s}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const xt=this.parameters;for(const St in xt)xt[St]!==void 0&&(e[St]=xt[St]);return e}e.data={attributes:{}};const s=this.index;s!==null&&(e.data.index={type:s.array.constructor.name,array:Array.prototype.slice.call(s.array)});const d=this.attributes;for(const xt in d){const St=d[xt];e.data.attributes[xt]=St.toJSON(e.data)}const nt={};let o=!1;for(const xt in this.morphAttributes){const St=this.morphAttributes[xt],Tt=[];for(let At=0,Ct=St.length;At<Ct;At++){const Rt=St[At];Tt.push(Rt.toJSON(e.data))}Tt.length>0&&(nt[xt]=Tt,o=!0)}o&&(e.data.morphAttributes=nt,e.data.morphTargetsRelative=this.morphTargetsRelative);const ft=this.groups;ft.length>0&&(e.data.groups=JSON.parse(JSON.stringify(ft)));const gt=this.boundingSphere;return gt!==null&&(e.data.boundingSphere={center:gt.center.toArray(),radius:gt.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const s={};this.name=e.name;const d=e.index;d!==null&&this.setIndex(d.clone());const nt=e.attributes;for(const St in nt){const Tt=nt[St];this.setAttribute(St,Tt.clone(s))}const o=e.morphAttributes;for(const St in o){const Tt=[],At=o[St];for(let Ct=0,Rt=At.length;Ct<Rt;Ct++)Tt.push(At[Ct].clone(s));this.morphAttributes[St]=Tt}this.morphTargetsRelative=e.morphTargetsRelative;const ft=e.groups;for(let St=0,Tt=ft.length;St<Tt;St++){const At=ft[St];this.addGroup(At.start,At.count,At.materialIndex)}const gt=e.boundingBox;gt!==null&&(this.boundingBox=gt.clone());const xt=e.boundingSphere;return xt!==null&&(this.boundingSphere=xt.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$3=new Matrix4,_ray$3=new Ray,_sphere$6=new Sphere,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(e=new BufferGeometry,s=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=s,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,s){return super.copy(e,s),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const s=this.geometry.morphAttributes,d=Object.keys(s);if(d.length>0){const nt=s[d[0]];if(nt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,ft=nt.length;o<ft;o++){const gt=nt[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[gt]=o}}}}getVertexPosition(e,s){const d=this.geometry,nt=d.attributes.position,o=d.morphAttributes.position,ft=d.morphTargetsRelative;s.fromBufferAttribute(nt,e);const gt=this.morphTargetInfluences;if(o&&gt){_morphA.set(0,0,0);for(let xt=0,St=o.length;xt<St;xt++){const Tt=gt[xt],At=o[xt];Tt!==0&&(_tempA.fromBufferAttribute(At,e),ft?_morphA.addScaledVector(_tempA,Tt):_morphA.addScaledVector(_tempA.sub(s),Tt))}s.add(_morphA)}return s}raycast(e,s){const d=this.geometry,nt=this.material,o=this.matrixWorld;nt!==void 0&&(d.boundingSphere===null&&d.computeBoundingSphere(),_sphere$6.copy(d.boundingSphere),_sphere$6.applyMatrix4(o),_ray$3.copy(e.ray).recast(e.near),!(_sphere$6.containsPoint(_ray$3.origin)===!1&&(_ray$3.intersectSphere(_sphere$6,_sphereHitAt)===null||_ray$3.origin.distanceToSquared(_sphereHitAt)>(e.far-e.near)**2))&&(_inverseMatrix$3.copy(o).invert(),_ray$3.copy(e.ray).applyMatrix4(_inverseMatrix$3),!(d.boundingBox!==null&&_ray$3.intersectsBox(d.boundingBox)===!1)&&this._computeIntersections(e,s,_ray$3)))}_computeIntersections(e,s,d){let nt;const o=this.geometry,ft=this.material,gt=o.index,xt=o.attributes.position,St=o.attributes.uv,Tt=o.attributes.uv1,At=o.attributes.normal,Ct=o.groups,Rt=o.drawRange;if(gt!==null)if(Array.isArray(ft))for(let yt=0,Ot=Ct.length;yt<Ot;yt++){const Nt=Ct[yt],bt=ft[Nt.materialIndex],Dt=Math.max(Nt.start,Rt.start),Ft=Math.min(gt.count,Math.min(Nt.start+Nt.count,Rt.start+Rt.count));for(let Ut=Dt,Wt=Ft;Ut<Wt;Ut+=3){const Gt=gt.getX(Ut),Xt=gt.getX(Ut+1),Yt=gt.getX(Ut+2);nt=checkGeometryIntersection(this,bt,e,d,St,Tt,At,Gt,Xt,Yt),nt&&(nt.faceIndex=Math.floor(Ut/3),nt.face.materialIndex=Nt.materialIndex,s.push(nt))}}else{const yt=Math.max(0,Rt.start),Ot=Math.min(gt.count,Rt.start+Rt.count);for(let Nt=yt,bt=Ot;Nt<bt;Nt+=3){const Dt=gt.getX(Nt),Ft=gt.getX(Nt+1),Ut=gt.getX(Nt+2);nt=checkGeometryIntersection(this,ft,e,d,St,Tt,At,Dt,Ft,Ut),nt&&(nt.faceIndex=Math.floor(Nt/3),s.push(nt))}}else if(xt!==void 0)if(Array.isArray(ft))for(let yt=0,Ot=Ct.length;yt<Ot;yt++){const Nt=Ct[yt],bt=ft[Nt.materialIndex],Dt=Math.max(Nt.start,Rt.start),Ft=Math.min(xt.count,Math.min(Nt.start+Nt.count,Rt.start+Rt.count));for(let Ut=Dt,Wt=Ft;Ut<Wt;Ut+=3){const Gt=Ut,Xt=Ut+1,Yt=Ut+2;nt=checkGeometryIntersection(this,bt,e,d,St,Tt,At,Gt,Xt,Yt),nt&&(nt.faceIndex=Math.floor(Ut/3),nt.face.materialIndex=Nt.materialIndex,s.push(nt))}}else{const yt=Math.max(0,Rt.start),Ot=Math.min(xt.count,Rt.start+Rt.count);for(let Nt=yt,bt=Ot;Nt<bt;Nt+=3){const Dt=Nt,Ft=Nt+1,Ut=Nt+2;nt=checkGeometryIntersection(this,ft,e,d,St,Tt,At,Dt,Ft,Ut),nt&&(nt.faceIndex=Math.floor(Nt/3),s.push(nt))}}}}function checkIntersection$1(c,e,s,d,nt,o,ft,gt){let xt;if(e.side===BackSide?xt=d.intersectTriangle(ft,o,nt,!0,gt):xt=d.intersectTriangle(nt,o,ft,e.side===FrontSide,gt),xt===null)return null;_intersectionPointWorld.copy(gt),_intersectionPointWorld.applyMatrix4(c.matrixWorld);const St=s.ray.origin.distanceTo(_intersectionPointWorld);return St<s.near||St>s.far?null:{distance:St,point:_intersectionPointWorld.clone(),object:c}}function checkGeometryIntersection(c,e,s,d,nt,o,ft,gt,xt,St){c.getVertexPosition(gt,_vA$1),c.getVertexPosition(xt,_vB$1),c.getVertexPosition(St,_vC$1);const Tt=checkIntersection$1(c,e,s,d,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(Tt){const At=new Vector3;Triangle.getBarycoord(_intersectionPoint,_vA$1,_vB$1,_vC$1,At),nt&&(Tt.uv=Triangle.getInterpolatedAttribute(nt,gt,xt,St,At,new Vector2)),o&&(Tt.uv1=Triangle.getInterpolatedAttribute(o,gt,xt,St,At,new Vector2)),ft&&(Tt.normal=Triangle.getInterpolatedAttribute(ft,gt,xt,St,At,new Vector3),Tt.normal.dot(d.direction)>0&&Tt.normal.multiplyScalar(-1));const Ct={a:gt,b:xt,c:St,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,Ct.normal),Tt.face=Ct,Tt.barycoord=At}return Tt}class BoxGeometry extends BufferGeometry{constructor(e=1,s=1,d=1,nt=1,o=1,ft=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:s,depth:d,widthSegments:nt,heightSegments:o,depthSegments:ft};const gt=this;nt=Math.floor(nt),o=Math.floor(o),ft=Math.floor(ft);const xt=[],St=[],Tt=[],At=[];let Ct=0,Rt=0;yt("z","y","x",-1,-1,d,s,e,ft,o,0),yt("z","y","x",1,-1,d,s,-e,ft,o,1),yt("x","z","y",1,1,e,d,s,nt,ft,2),yt("x","z","y",1,-1,e,d,-s,nt,ft,3),yt("x","y","z",1,-1,e,s,d,nt,o,4),yt("x","y","z",-1,-1,e,s,-d,nt,o,5),this.setIndex(xt),this.setAttribute("position",new Float32BufferAttribute(St,3)),this.setAttribute("normal",new Float32BufferAttribute(Tt,3)),this.setAttribute("uv",new Float32BufferAttribute(At,2));function yt(Ot,Nt,bt,Dt,Ft,Ut,Wt,Gt,Xt,Yt,Kt){const jt=Ut/Xt,Jt=Wt/Yt,fn=Ut/2,sn=Wt/2,wn=Gt/2,Mn=Xt+1,Tn=Yt+1;let kn=0,rn=0;const un=new Vector3;for(let pn=0;pn<Tn;pn++){const Rn=pn*Jt-sn;for(let zn=0;zn<Mn;zn++){const ir=zn*jt-fn;un[Ot]=ir*Dt,un[Nt]=Rn*Ft,un[bt]=wn,St.push(un.x,un.y,un.z),un[Ot]=0,un[Nt]=0,un[bt]=Gt>0?1:-1,Tt.push(un.x,un.y,un.z),At.push(zn/Xt),At.push(1-pn/Yt),kn+=1}}for(let pn=0;pn<Yt;pn++)for(let Rn=0;Rn<Xt;Rn++){const zn=Ct+Rn+Mn*pn,ir=Ct+Rn+Mn*(pn+1),An=Ct+(Rn+1)+Mn*(pn+1),jn=Ct+(Rn+1)+Mn*pn;xt.push(zn,ir,jn),xt.push(ir,An,jn),rn+=6}gt.addGroup(Rt,rn,Kt),Rt+=rn,Ct+=kn}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new BoxGeometry(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function cloneUniforms(c){const e={};for(const s in c){e[s]={};for(const d in c[s]){const nt=c[s][d];nt&&(nt.isColor||nt.isMatrix3||nt.isMatrix4||nt.isVector2||nt.isVector3||nt.isVector4||nt.isTexture||nt.isQuaternion)?nt.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[s][d]=null):e[s][d]=nt.clone():Array.isArray(nt)?e[s][d]=nt.slice():e[s][d]=nt}}return e}function mergeUniforms(c){const e={};for(let s=0;s<c.length;s++){const d=cloneUniforms(c[s]);for(const nt in d)e[nt]=d[nt]}return e}function cloneUniformsGroups(c){const e=[];for(let s=0;s<c.length;s++)e.push(c[s].clone());return e}function getUnlitUniformColorSpace(c){const e=c.getRenderTarget();return e===null?c.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:ColorManagement.workingColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=cloneUniforms(e.uniforms),this.uniformsGroups=cloneUniformsGroups(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const s=super.toJSON(e);s.glslVersion=this.glslVersion,s.uniforms={};for(const nt in this.uniforms){const ft=this.uniforms[nt].value;ft&&ft.isTexture?s.uniforms[nt]={type:"t",value:ft.toJSON(e).uuid}:ft&&ft.isColor?s.uniforms[nt]={type:"c",value:ft.getHex()}:ft&&ft.isVector2?s.uniforms[nt]={type:"v2",value:ft.toArray()}:ft&&ft.isVector3?s.uniforms[nt]={type:"v3",value:ft.toArray()}:ft&&ft.isVector4?s.uniforms[nt]={type:"v4",value:ft.toArray()}:ft&&ft.isMatrix3?s.uniforms[nt]={type:"m3",value:ft.toArray()}:ft&&ft.isMatrix4?s.uniforms[nt]={type:"m4",value:ft.toArray()}:s.uniforms[nt]={value:ft}}Object.keys(this.defines).length>0&&(s.defines=this.defines),s.vertexShader=this.vertexShader,s.fragmentShader=this.fragmentShader,s.lights=this.lights,s.clipping=this.clipping;const d={};for(const nt in this.extensions)this.extensions[nt]===!0&&(d[nt]=!0);return Object.keys(d).length>0&&(s.extensions=d),s}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4,this.coordinateSystem=WebGLCoordinateSystem}copy(e,s){return super.copy(e,s),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,s){super.updateWorldMatrix(e,s),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const _v3$1=new Vector3,_minTarget=new Vector2,_maxTarget=new Vector2;class PerspectiveCamera extends Camera{constructor(e=50,s=1,d=.1,nt=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=d,this.far=nt,this.focus=10,this.aspect=s,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,s){return super.copy(e,s),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const s=.5*this.getFilmHeight()/e;this.fov=RAD2DEG*2*Math.atan(s),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,s,d){_v3$1.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),s.set(_v3$1.x,_v3$1.y).multiplyScalar(-e/_v3$1.z),_v3$1.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),d.set(_v3$1.x,_v3$1.y).multiplyScalar(-e/_v3$1.z)}getViewSize(e,s){return this.getViewBounds(e,_minTarget,_maxTarget),s.subVectors(_maxTarget,_minTarget)}setViewOffset(e,s,d,nt,o,ft){this.aspect=e/s,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=s,this.view.offsetX=d,this.view.offsetY=nt,this.view.width=o,this.view.height=ft,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let s=e*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,d=2*s,nt=this.aspect*d,o=-.5*nt;const ft=this.view;if(this.view!==null&&this.view.enabled){const xt=ft.fullWidth,St=ft.fullHeight;o+=ft.offsetX*nt/xt,s-=ft.offsetY*d/St,nt*=ft.width/xt,d*=ft.height/St}const gt=this.filmOffset;gt!==0&&(o+=e*gt/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+nt,s,s-d,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const s=super.toJSON(e);return s.object.fov=this.fov,s.object.zoom=this.zoom,s.object.near=this.near,s.object.far=this.far,s.object.focus=this.focus,s.object.aspect=this.aspect,this.view!==null&&(s.object.view=Object.assign({},this.view)),s.object.filmGauge=this.filmGauge,s.object.filmOffset=this.filmOffset,s}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(e,s,d){super(),this.type="CubeCamera",this.renderTarget=d,this.coordinateSystem=null,this.activeMipmapLevel=0;const nt=new PerspectiveCamera(fov,aspect,e,s);nt.layers=this.layers,this.add(nt);const o=new PerspectiveCamera(fov,aspect,e,s);o.layers=this.layers,this.add(o);const ft=new PerspectiveCamera(fov,aspect,e,s);ft.layers=this.layers,this.add(ft);const gt=new PerspectiveCamera(fov,aspect,e,s);gt.layers=this.layers,this.add(gt);const xt=new PerspectiveCamera(fov,aspect,e,s);xt.layers=this.layers,this.add(xt);const St=new PerspectiveCamera(fov,aspect,e,s);St.layers=this.layers,this.add(St)}updateCoordinateSystem(){const e=this.coordinateSystem,s=this.children.concat(),[d,nt,o,ft,gt,xt]=s;for(const St of s)this.remove(St);if(e===WebGLCoordinateSystem)d.up.set(0,1,0),d.lookAt(1,0,0),nt.up.set(0,1,0),nt.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),ft.up.set(0,0,1),ft.lookAt(0,-1,0),gt.up.set(0,1,0),gt.lookAt(0,0,1),xt.up.set(0,1,0),xt.lookAt(0,0,-1);else if(e===WebGPUCoordinateSystem)d.up.set(0,-1,0),d.lookAt(-1,0,0),nt.up.set(0,-1,0),nt.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),ft.up.set(0,0,-1),ft.lookAt(0,-1,0),gt.up.set(0,-1,0),gt.lookAt(0,0,1),xt.up.set(0,-1,0),xt.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const St of s)this.add(St),St.updateMatrixWorld()}update(e,s){this.parent===null&&this.updateMatrixWorld();const{renderTarget:d,activeMipmapLevel:nt}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,ft,gt,xt,St,Tt]=this.children,At=e.getRenderTarget(),Ct=e.getActiveCubeFace(),Rt=e.getActiveMipmapLevel(),yt=e.xr.enabled;e.xr.enabled=!1;const Ot=d.texture.generateMipmaps;d.texture.generateMipmaps=!1,e.setRenderTarget(d,0,nt),e.render(s,o),e.setRenderTarget(d,1,nt),e.render(s,ft),e.setRenderTarget(d,2,nt),e.render(s,gt),e.setRenderTarget(d,3,nt),e.render(s,xt),e.setRenderTarget(d,4,nt),e.render(s,St),d.texture.generateMipmaps=Ot,e.setRenderTarget(d,5,nt),e.render(s,Tt),e.setRenderTarget(At,Ct,Rt),e.xr.enabled=yt,d.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(e=[],s=CubeReflectionMapping,d,nt,o,ft,gt,xt,St,Tt){super(e,s,d,nt,o,ft,gt,xt,St,Tt),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(e=1,s={}){super(e,e,s),this.isWebGLCubeRenderTarget=!0;const d={width:e,height:e,depth:1},nt=[d,d,d,d,d,d];this.texture=new CubeTexture(nt,s.mapping,s.wrapS,s.wrapT,s.magFilter,s.minFilter,s.format,s.type,s.anisotropy,s.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=s.generateMipmaps!==void 0?s.generateMipmaps:!1,this.texture.minFilter=s.minFilter!==void 0?s.minFilter:LinearFilter}fromEquirectangularTexture(e,s){this.texture.type=s.type,this.texture.colorSpace=s.colorSpace,this.texture.generateMipmaps=s.generateMipmaps,this.texture.minFilter=s.minFilter,this.texture.magFilter=s.magFilter;const d={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},nt=new BoxGeometry(5,5,5),o=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(d.uniforms),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader,side:BackSide,blending:NoBlending});o.uniforms.tEquirect.value=s;const ft=new Mesh(nt,o),gt=s.minFilter;return s.minFilter===LinearMipmapLinearFilter&&(s.minFilter=LinearFilter),new CubeCamera(1,10,this).update(e,ft),s.minFilter=gt,ft.geometry.dispose(),ft.material.dispose(),this}clear(e,s=!0,d=!0,nt=!0){const o=e.getRenderTarget();for(let ft=0;ft<6;ft++)e.setRenderTarget(this,ft),e.clear(s,d,nt);e.setRenderTarget(o)}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const s=this._hand;if(s)for(const d of e.hand.values())this._getHandJoint(s,d)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,s,d){let nt=null,o=null,ft=null;const gt=this._targetRay,xt=this._grip,St=this._hand;if(e&&s.session.visibilityState!=="visible-blurred"){if(St&&e.hand){ft=!0;for(const Ot of e.hand.values()){const Nt=s.getJointPose(Ot,d),bt=this._getHandJoint(St,Ot);Nt!==null&&(bt.matrix.fromArray(Nt.transform.matrix),bt.matrix.decompose(bt.position,bt.rotation,bt.scale),bt.matrixWorldNeedsUpdate=!0,bt.jointRadius=Nt.radius),bt.visible=Nt!==null}const Tt=St.joints["index-finger-tip"],At=St.joints["thumb-tip"],Ct=Tt.position.distanceTo(At.position),Rt=.02,yt=.005;St.inputState.pinching&&Ct>Rt+yt?(St.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!St.inputState.pinching&&Ct<=Rt-yt&&(St.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else xt!==null&&e.gripSpace&&(o=s.getPose(e.gripSpace,d),o!==null&&(xt.matrix.fromArray(o.transform.matrix),xt.matrix.decompose(xt.position,xt.rotation,xt.scale),xt.matrixWorldNeedsUpdate=!0,o.linearVelocity?(xt.hasLinearVelocity=!0,xt.linearVelocity.copy(o.linearVelocity)):xt.hasLinearVelocity=!1,o.angularVelocity?(xt.hasAngularVelocity=!0,xt.angularVelocity.copy(o.angularVelocity)):xt.hasAngularVelocity=!1));gt!==null&&(nt=s.getPose(e.targetRaySpace,d),nt===null&&o!==null&&(nt=o),nt!==null&&(gt.matrix.fromArray(nt.transform.matrix),gt.matrix.decompose(gt.position,gt.rotation,gt.scale),gt.matrixWorldNeedsUpdate=!0,nt.linearVelocity?(gt.hasLinearVelocity=!0,gt.linearVelocity.copy(nt.linearVelocity)):gt.hasLinearVelocity=!1,nt.angularVelocity?(gt.hasAngularVelocity=!0,gt.angularVelocity.copy(nt.angularVelocity)):gt.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return gt!==null&&(gt.visible=nt!==null),xt!==null&&(xt.visible=o!==null),St!==null&&(St.visible=ft!==null),this}_getHandJoint(e,s){if(e.joints[s.jointName]===void 0){const d=new Group;d.matrixAutoUpdate=!1,d.visible=!1,e.joints[s.jointName]=d,e.add(d)}return e.joints[s.jointName]}}class FogExp2{constructor(e,s=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color(e),this.density=s}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Fog{constructor(e,s=1,d=1e3){this.isFog=!0,this.name="",this.color=new Color(e),this.near=s,this.far=d}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Euler,this.environmentIntensity=1,this.environmentRotation=new Euler,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,s){return super.copy(e,s),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const s=super.toJSON(e);return this.fog!==null&&(s.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(s.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(s.object.backgroundIntensity=this.backgroundIntensity),s.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(s.object.environmentIntensity=this.environmentIntensity),s.object.environmentRotation=this.environmentRotation.toArray(),s}}class InterleavedBuffer{constructor(e,s){this.isInterleavedBuffer=!0,this.array=e,this.stride=s,this.count=e!==void 0?e.length/s:0,this.usage=StaticDrawUsage,this.updateRanges=[],this.version=0,this.uuid=generateUUID()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,s){this.updateRanges.push({start:e,count:s})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,s,d){e*=this.stride,d*=s.stride;for(let nt=0,o=this.stride;nt<o;nt++)this.array[e+nt]=s.array[d+nt];return this}set(e,s=0){return this.array.set(e,s),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const s=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),d=new this.constructor(s,this.stride);return d.setUsage(this.usage),d}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$7=new Vector3;class InterleavedBufferAttribute{constructor(e,s,d,nt=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=s,this.offset=d,this.normalized=nt}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let s=0,d=this.data.count;s<d;s++)_vector$7.fromBufferAttribute(this,s),_vector$7.applyMatrix4(e),this.setXYZ(s,_vector$7.x,_vector$7.y,_vector$7.z);return this}applyNormalMatrix(e){for(let s=0,d=this.count;s<d;s++)_vector$7.fromBufferAttribute(this,s),_vector$7.applyNormalMatrix(e),this.setXYZ(s,_vector$7.x,_vector$7.y,_vector$7.z);return this}transformDirection(e){for(let s=0,d=this.count;s<d;s++)_vector$7.fromBufferAttribute(this,s),_vector$7.transformDirection(e),this.setXYZ(s,_vector$7.x,_vector$7.y,_vector$7.z);return this}getComponent(e,s){let d=this.array[e*this.data.stride+this.offset+s];return this.normalized&&(d=denormalize(d,this.array)),d}setComponent(e,s,d){return this.normalized&&(d=normalize(d,this.array)),this.data.array[e*this.data.stride+this.offset+s]=d,this}setX(e,s){return this.normalized&&(s=normalize(s,this.array)),this.data.array[e*this.data.stride+this.offset]=s,this}setY(e,s){return this.normalized&&(s=normalize(s,this.array)),this.data.array[e*this.data.stride+this.offset+1]=s,this}setZ(e,s){return this.normalized&&(s=normalize(s,this.array)),this.data.array[e*this.data.stride+this.offset+2]=s,this}setW(e,s){return this.normalized&&(s=normalize(s,this.array)),this.data.array[e*this.data.stride+this.offset+3]=s,this}getX(e){let s=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(s=denormalize(s,this.array)),s}getY(e){let s=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(s=denormalize(s,this.array)),s}getZ(e){let s=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(s=denormalize(s,this.array)),s}getW(e){let s=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(s=denormalize(s,this.array)),s}setXY(e,s,d){return e=e*this.data.stride+this.offset,this.normalized&&(s=normalize(s,this.array),d=normalize(d,this.array)),this.data.array[e+0]=s,this.data.array[e+1]=d,this}setXYZ(e,s,d,nt){return e=e*this.data.stride+this.offset,this.normalized&&(s=normalize(s,this.array),d=normalize(d,this.array),nt=normalize(nt,this.array)),this.data.array[e+0]=s,this.data.array[e+1]=d,this.data.array[e+2]=nt,this}setXYZW(e,s,d,nt,o){return e=e*this.data.stride+this.offset,this.normalized&&(s=normalize(s,this.array),d=normalize(d,this.array),nt=normalize(nt,this.array),o=normalize(o,this.array)),this.data.array[e+0]=s,this.data.array[e+1]=d,this.data.array[e+2]=nt,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const s=[];for(let d=0;d<this.count;d++){const nt=d*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)s.push(this.data.array[nt+o])}return new BufferAttribute(new this.array.constructor(s),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new InterleavedBufferAttribute(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const s=[];for(let d=0;d<this.count;d++){const nt=d*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)s.push(this.data.array[nt+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:s,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(e=new SpriteMaterial){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const s=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),d=new InterleavedBuffer(s,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(d,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(d,2,3,!1))}this.geometry=_geometry,this.material=e,this.center=new Vector2(.5,.5)}raycast(e,s){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const d=this.material.rotation;let nt,o;d!==0&&(o=Math.cos(d),nt=Math.sin(d));const ft=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,ft,_worldScale,nt,o),transformVertex(_vB.set(.5,-.5,0),_mvPosition,ft,_worldScale,nt,o),transformVertex(_vC.set(.5,.5,0),_mvPosition,ft,_worldScale,nt,o),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let gt=e.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(gt===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,ft,_worldScale,nt,o),_uvB.set(0,1),gt=e.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),gt===null))return;const xt=e.ray.origin.distanceTo(_intersectPoint);xt<e.near||xt>e.far||s.push({distance:xt,point:_intersectPoint.clone(),uv:Triangle.getInterpolation(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(e,s){return super.copy(e,s),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function transformVertex(c,e,s,d,nt,o){_alignedPosition.subVectors(c,s).addScalar(.5).multiply(d),nt!==void 0?(_rotatedPosition.x=o*_alignedPosition.x-nt*_alignedPosition.y,_rotatedPosition.y=nt*_alignedPosition.x+o*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),c.copy(e),c.x+=_rotatedPosition.x,c.y+=_rotatedPosition.y,c.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const s=e.levels;for(let d=0,nt=s.length;d<nt;d++){const o=s[d];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,s=0,d=0){s=Math.abs(s);const nt=this.levels;let o;for(o=0;o<nt.length&&!(s<nt[o].distance);o++);return nt.splice(o,0,{distance:s,hysteresis:d,object:e}),this.add(e),this}removeLevel(e){const s=this.levels;for(let d=0;d<s.length;d++)if(s[d].distance===e){const nt=s.splice(d,1);return this.remove(nt[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const s=this.levels;if(s.length>0){let d,nt;for(d=1,nt=s.length;d<nt;d++){let o=s[d].distance;if(s[d].object.visible&&(o-=o*s[d].hysteresis),e<o)break}return s[d-1].object}return null}raycast(e,s){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const nt=e.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(nt).raycast(e,s)}}update(e){const s=this.levels;if(s.length>1){_v1$2.setFromMatrixPosition(e.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const d=_v1$2.distanceTo(_v2$1)/e.zoom;s[0].object.visible=!0;let nt,o;for(nt=1,o=s.length;nt<o;nt++){let ft=s[nt].distance;if(s[nt].object.visible&&(ft-=ft*s[nt].hysteresis),d>=ft)s[nt-1].object.visible=!1,s[nt].object.visible=!0;else break}for(this._currentLevel=nt-1;nt<o;nt++)s[nt].object.visible=!1}}toJSON(e){const s=super.toJSON(e);this.autoUpdate===!1&&(s.object.autoUpdate=!1),s.object.levels=[];const d=this.levels;for(let nt=0,o=d.length;nt<o;nt++){const ft=d[nt];s.object.levels.push({object:ft.object.uuid,distance:ft.distance,hysteresis:ft.hysteresis})}return s}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector3=new Vector3,_matrix4=new Matrix4,_vertex=new Vector3,_sphere$5=new Sphere,_inverseMatrix$2=new Matrix4,_ray$2=new Ray;class SkinnedMesh extends Mesh{constructor(e,s){super(e,s),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=AttachedBindMode,this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Box3),this.boundingBox.makeEmpty();const s=e.getAttribute("position");for(let d=0;d<s.count;d++)this.getVertexPosition(d,_vertex),this.boundingBox.expandByPoint(_vertex)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Sphere),this.boundingSphere.makeEmpty();const s=e.getAttribute("position");for(let d=0;d<s.count;d++)this.getVertexPosition(d,_vertex),this.boundingSphere.expandByPoint(_vertex)}copy(e,s){return super.copy(e,s),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,s){const d=this.material,nt=this.matrixWorld;d!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$5.copy(this.boundingSphere),_sphere$5.applyMatrix4(nt),e.ray.intersectsSphere(_sphere$5)!==!1&&(_inverseMatrix$2.copy(nt).invert(),_ray$2.copy(e.ray).applyMatrix4(_inverseMatrix$2),!(this.boundingBox!==null&&_ray$2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,s,_ray$2)))}getVertexPosition(e,s){return super.getVertexPosition(e,s),this.applyBoneTransform(e,s),s}bind(e,s){this.skeleton=e,s===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),s=this.matrixWorld),this.bindMatrix.copy(s),this.bindMatrixInverse.copy(s).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Vector4,s=this.geometry.attributes.skinWeight;for(let d=0,nt=s.count;d<nt;d++){e.fromBufferAttribute(s,d);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),s.setXYZW(d,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===AttachedBindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===DetachedBindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,s){const d=this.skeleton,nt=this.geometry;_skinIndex.fromBufferAttribute(nt.attributes.skinIndex,e),_skinWeight.fromBufferAttribute(nt.attributes.skinWeight,e),_basePosition.copy(s).applyMatrix4(this.bindMatrix),s.set(0,0,0);for(let o=0;o<4;o++){const ft=_skinWeight.getComponent(o);if(ft!==0){const gt=_skinIndex.getComponent(o);_matrix4.multiplyMatrices(d.bones[gt].matrixWorld,d.boneInverses[gt]),s.addScaledVector(_vector3.copy(_basePosition).applyMatrix4(_matrix4),ft)}}return s.applyMatrix4(this.bindMatrixInverse)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(e=null,s=1,d=1,nt,o,ft,gt,xt,St=NearestFilter,Tt=NearestFilter,At,Ct){super(null,ft,gt,xt,St,Tt,nt,o,At,Ct),this.isDataTexture=!0,this.image={data:e,width:s,height:d},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix$1=new Matrix4;class Skeleton{constructor(e=[],s=[]){this.uuid=generateUUID(),this.bones=e.slice(0),this.boneInverses=s,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,s=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),s.length===0)this.calculateInverses();else if(e.length!==s.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let d=0,nt=this.bones.length;d<nt;d++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,s=this.bones.length;e<s;e++){const d=new Matrix4;this.bones[e]&&d.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(d)}}pose(){for(let e=0,s=this.bones.length;e<s;e++){const d=this.bones[e];d&&d.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,s=this.bones.length;e<s;e++){const d=this.bones[e];d&&(d.parent&&d.parent.isBone?(d.matrix.copy(d.parent.matrixWorld).invert(),d.matrix.multiply(d.matrixWorld)):d.matrix.copy(d.matrixWorld),d.matrix.decompose(d.position,d.quaternion,d.scale))}}update(){const e=this.bones,s=this.boneInverses,d=this.boneMatrices,nt=this.boneTexture;for(let o=0,ft=e.length;o<ft;o++){const gt=e[o]?e[o].matrixWorld:_identityMatrix$1;_offsetMatrix.multiplyMatrices(gt,s[o]),_offsetMatrix.toArray(d,o*16)}nt!==null&&(nt.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const s=new Float32Array(e*e*4);s.set(this.boneMatrices);const d=new DataTexture(s,e,e,RGBAFormat,FloatType);return d.needsUpdate=!0,this.boneMatrices=s,this.boneTexture=d,this}getBoneByName(e){for(let s=0,d=this.bones.length;s<d;s++){const nt=this.bones[s];if(nt.name===e)return nt}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,s){this.uuid=e.uuid;for(let d=0,nt=e.bones.length;d<nt;d++){const o=e.bones[d];let ft=s[o];ft===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),ft=new Bone),this.bones.push(ft),this.boneInverses.push(new Matrix4().fromArray(e.boneInverses[d]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const s=this.bones,d=this.boneInverses;for(let nt=0,o=s.length;nt<o;nt++){const ft=s[nt];e.bones.push(ft.uuid);const gt=d[nt];e.boneInverses.push(gt.toArray())}return e}}class InstancedBufferAttribute extends BufferAttribute{constructor(e,s,d,nt=1){super(e,s,d),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=nt}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_box3=new Box3,_identity=new Matrix4,_mesh$1=new Mesh,_sphere$4=new Sphere;class InstancedMesh extends Mesh{constructor(e,s,d){super(e,s),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(d*16),16),this.instanceColor=null,this.morphTexture=null,this.count=d,this.boundingBox=null,this.boundingSphere=null;for(let nt=0;nt<d;nt++)this.setMatrixAt(nt,_identity)}computeBoundingBox(){const e=this.geometry,s=this.count;this.boundingBox===null&&(this.boundingBox=new Box3),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let d=0;d<s;d++)this.getMatrixAt(d,_instanceLocalMatrix),_box3.copy(e.boundingBox).applyMatrix4(_instanceLocalMatrix),this.boundingBox.union(_box3)}computeBoundingSphere(){const e=this.geometry,s=this.count;this.boundingSphere===null&&(this.boundingSphere=new Sphere),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let d=0;d<s;d++)this.getMatrixAt(d,_instanceLocalMatrix),_sphere$4.copy(e.boundingSphere).applyMatrix4(_instanceLocalMatrix),this.boundingSphere.union(_sphere$4)}copy(e,s){return super.copy(e,s),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,s){s.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,s){s.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,s){const d=s.morphTargetInfluences,nt=this.morphTexture.source.data.data,o=d.length+1,ft=e*o+1;for(let gt=0;gt<d.length;gt++)d[gt]=nt[ft+gt]}raycast(e,s){const d=this.matrixWorld,nt=this.count;if(_mesh$1.geometry=this.geometry,_mesh$1.material=this.material,_mesh$1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$4.copy(this.boundingSphere),_sphere$4.applyMatrix4(d),e.ray.intersectsSphere(_sphere$4)!==!1))for(let o=0;o<nt;o++){this.getMatrixAt(o,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(d,_instanceLocalMatrix),_mesh$1.matrixWorld=_instanceWorldMatrix,_mesh$1.raycast(e,_instanceIntersects);for(let ft=0,gt=_instanceIntersects.length;ft<gt;ft++){const xt=_instanceIntersects[ft];xt.instanceId=o,xt.object=this,s.push(xt)}_instanceIntersects.length=0}}setColorAt(e,s){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),s.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,s){s.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,s){const d=s.morphTargetInfluences,nt=d.length+1;this.morphTexture===null&&(this.morphTexture=new DataTexture(new Float32Array(nt*this.count),nt,this.count,RedFormat,FloatType));const o=this.morphTexture.source.data.data;let ft=0;for(let St=0;St<d.length;St++)ft+=d[St];const gt=this.geometry.morphTargetsRelative?1:1-ft,xt=nt*e;o[xt]=gt,o.set(d,xt+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(e=new Vector3(1,0,0),s=0){this.isPlane=!0,this.normal=e,this.constant=s}set(e,s){return this.normal.copy(e),this.constant=s,this}setComponents(e,s,d,nt){return this.normal.set(e,s,d),this.constant=nt,this}setFromNormalAndCoplanarPoint(e,s){return this.normal.copy(e),this.constant=-s.dot(this.normal),this}setFromCoplanarPoints(e,s,d){const nt=_vector1.subVectors(d,s).cross(_vector2.subVectors(e,s)).normalize();return this.setFromNormalAndCoplanarPoint(nt,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,s){return s.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,s){const d=e.delta(_vector1),nt=this.normal.dot(d);if(nt===0)return this.distanceToPoint(e.start)===0?s.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/nt;return o<0||o>1?null:s.copy(e.start).addScaledVector(d,o)}intersectsLine(e){const s=this.distanceToPoint(e.start),d=this.distanceToPoint(e.end);return s<0&&d>0||d<0&&s>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,s){const d=s||_normalMatrix.getNormalMatrix(e),nt=this.coplanarPoint(_vector1).applyMatrix4(e),o=this.normal.applyMatrix3(d).normalize();return this.constant=-nt.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$3=new Sphere,_vector$6=new Vector3;class Frustum{constructor(e=new Plane,s=new Plane,d=new Plane,nt=new Plane,o=new Plane,ft=new Plane){this.planes=[e,s,d,nt,o,ft]}set(e,s,d,nt,o,ft){const gt=this.planes;return gt[0].copy(e),gt[1].copy(s),gt[2].copy(d),gt[3].copy(nt),gt[4].copy(o),gt[5].copy(ft),this}copy(e){const s=this.planes;for(let d=0;d<6;d++)s[d].copy(e.planes[d]);return this}setFromProjectionMatrix(e,s=WebGLCoordinateSystem){const d=this.planes,nt=e.elements,o=nt[0],ft=nt[1],gt=nt[2],xt=nt[3],St=nt[4],Tt=nt[5],At=nt[6],Ct=nt[7],Rt=nt[8],yt=nt[9],Ot=nt[10],Nt=nt[11],bt=nt[12],Dt=nt[13],Ft=nt[14],Ut=nt[15];if(d[0].setComponents(xt-o,Ct-St,Nt-Rt,Ut-bt).normalize(),d[1].setComponents(xt+o,Ct+St,Nt+Rt,Ut+bt).normalize(),d[2].setComponents(xt+ft,Ct+Tt,Nt+yt,Ut+Dt).normalize(),d[3].setComponents(xt-ft,Ct-Tt,Nt-yt,Ut-Dt).normalize(),d[4].setComponents(xt-gt,Ct-At,Nt-Ot,Ut-Ft).normalize(),s===WebGLCoordinateSystem)d[5].setComponents(xt+gt,Ct+At,Nt+Ot,Ut+Ft).normalize();else if(s===WebGPUCoordinateSystem)d[5].setComponents(gt,At,Ot,Ft).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+s);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),_sphere$3.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const s=e.geometry;s.boundingSphere===null&&s.computeBoundingSphere(),_sphere$3.copy(s.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(_sphere$3)}intersectsSprite(e){return _sphere$3.center.set(0,0,0),_sphere$3.radius=.7071067811865476,_sphere$3.applyMatrix4(e.matrixWorld),this.intersectsSphere(_sphere$3)}intersectsSphere(e){const s=this.planes,d=e.center,nt=-e.radius;for(let o=0;o<6;o++)if(s[o].distanceToPoint(d)<nt)return!1;return!0}intersectsBox(e){const s=this.planes;for(let d=0;d<6;d++){const nt=s[d];if(_vector$6.x=nt.normal.x>0?e.max.x:e.min.x,_vector$6.y=nt.normal.y>0?e.max.y:e.min.y,_vector$6.z=nt.normal.z>0?e.max.z:e.min.z,nt.distanceToPoint(_vector$6)<0)return!1}return!0}containsPoint(e){const s=this.planes;for(let d=0;d<6;d++)if(s[d].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const _projScreenMatrix$2=new Matrix4,_frustum$1=new Frustum;class FrustumArray{constructor(){this.coordinateSystem=WebGLCoordinateSystem}intersectsObject(e,s){if(!s.isArrayCamera||s.cameras.length===0)return!1;for(let d=0;d<s.cameras.length;d++){const nt=s.cameras[d];if(_projScreenMatrix$2.multiplyMatrices(nt.projectionMatrix,nt.matrixWorldInverse),_frustum$1.setFromProjectionMatrix(_projScreenMatrix$2,this.coordinateSystem),_frustum$1.intersectsObject(e))return!0}return!1}intersectsSprite(e,s){if(!s||!s.cameras||s.cameras.length===0)return!1;for(let d=0;d<s.cameras.length;d++){const nt=s.cameras[d];if(_projScreenMatrix$2.multiplyMatrices(nt.projectionMatrix,nt.matrixWorldInverse),_frustum$1.setFromProjectionMatrix(_projScreenMatrix$2,this.coordinateSystem),_frustum$1.intersectsSprite(e))return!0}return!1}intersectsSphere(e,s){if(!s||!s.cameras||s.cameras.length===0)return!1;for(let d=0;d<s.cameras.length;d++){const nt=s.cameras[d];if(_projScreenMatrix$2.multiplyMatrices(nt.projectionMatrix,nt.matrixWorldInverse),_frustum$1.setFromProjectionMatrix(_projScreenMatrix$2,this.coordinateSystem),_frustum$1.intersectsSphere(e))return!0}return!1}intersectsBox(e,s){if(!s||!s.cameras||s.cameras.length===0)return!1;for(let d=0;d<s.cameras.length;d++){const nt=s.cameras[d];if(_projScreenMatrix$2.multiplyMatrices(nt.projectionMatrix,nt.matrixWorldInverse),_frustum$1.setFromProjectionMatrix(_projScreenMatrix$2,this.coordinateSystem),_frustum$1.intersectsBox(e))return!0}return!1}containsPoint(e,s){if(!s||!s.cameras||s.cameras.length===0)return!1;for(let d=0;d<s.cameras.length;d++){const nt=s.cameras[d];if(_projScreenMatrix$2.multiplyMatrices(nt.projectionMatrix,nt.matrixWorldInverse),_frustum$1.setFromProjectionMatrix(_projScreenMatrix$2,this.coordinateSystem),_frustum$1.containsPoint(e))return!0}return!1}clone(){return new FrustumArray}}function ascIdSort(c,e){return c-e}function sortOpaque(c,e){return c.z-e.z}function sortTransparent(c,e){return e.z-c.z}class MultiDrawRenderList{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,s,d,nt){const o=this.pool,ft=this.list;this.index>=o.length&&o.push({start:-1,count:-1,z:-1,index:-1});const gt=o[this.index];ft.push(gt),this.index++,gt.start=e,gt.count=s,gt.z=d,gt.index=nt}reset(){this.list.length=0,this.index=0}}const _matrix$1=new Matrix4,_whiteColor=new Color(1,1,1),_frustum=new Frustum,_frustumArray=new FrustumArray,_box$1=new Box3,_sphere$2=new Sphere,_vector$5=new Vector3,_forward=new Vector3,_temp=new Vector3,_renderList=new MultiDrawRenderList,_mesh=new Mesh,_batchIntersects=[];function copyAttributeData(c,e,s=0){const d=e.itemSize;if(c.isInterleavedBufferAttribute||c.array.constructor!==e.array.constructor){const nt=c.count;for(let o=0;o<nt;o++)for(let ft=0;ft<d;ft++)e.setComponent(o+s,ft,c.getComponent(o,ft))}else e.array.set(c.array,s*d);e.needsUpdate=!0}function copyArrayContents(c,e){if(c.constructor!==e.constructor){const s=Math.min(c.length,e.length);for(let d=0;d<s;d++)e[d]=c[d]}else{const s=Math.min(c.length,e.length);e.set(new c.constructor(c.buffer,0,s))}}class BatchedMesh extends Mesh{constructor(e,s,d=s*2,nt){super(new BufferGeometry,nt),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=s,this._maxIndexCount=d,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const s=new Float32Array(e*e*4),d=new DataTexture(s,e,e,RGBAFormat,FloatType);this._matricesTexture=d}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const s=new Uint32Array(e*e),d=new DataTexture(s,e,e,RedIntegerFormat,UnsignedIntType);this._indirectTexture=d}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const s=new Float32Array(e*e*4).fill(1),d=new DataTexture(s,e,e,RGBAFormat,FloatType);d.colorSpace=ColorManagement.workingColorSpace,this._colorsTexture=d}_initializeGeometry(e){const s=this.geometry,d=this._maxVertexCount,nt=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in e.attributes){const ft=e.getAttribute(o),{array:gt,itemSize:xt,normalized:St}=ft,Tt=new gt.constructor(d*xt),At=new BufferAttribute(Tt,xt,St);s.setAttribute(o,At)}if(e.getIndex()!==null){const o=d>65535?new Uint32Array(nt):new Uint16Array(nt);s.setIndex(new BufferAttribute(o,1))}this._geometryInitialized=!0}}_validateGeometry(e){const s=this.geometry;if(!!e.getIndex()!=!!s.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const d in s.attributes){if(!e.hasAttribute(d))throw new Error(`THREE.BatchedMesh: Added geometry missing "${d}". All geometries must have consistent attributes.`);const nt=e.getAttribute(d),o=s.getAttribute(d);if(nt.itemSize!==o.itemSize||nt.normalized!==o.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const s=this._instanceInfo;if(e<0||e>=s.length||s[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const s=this._geometryInfo;if(e<0||e>=s.length||s[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const e=this.boundingBox,s=this._instanceInfo;e.makeEmpty();for(let d=0,nt=s.length;d<nt;d++){if(s[d].active===!1)continue;const o=s[d].geometryIndex;this.getMatrixAt(d,_matrix$1),this.getBoundingBoxAt(o,_box$1).applyMatrix4(_matrix$1),e.union(_box$1)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const e=this.boundingSphere,s=this._instanceInfo;e.makeEmpty();for(let d=0,nt=s.length;d<nt;d++){if(s[d].active===!1)continue;const o=s[d].geometryIndex;this.getMatrixAt(d,_matrix$1),this.getBoundingSphereAt(o,_sphere$2).applyMatrix4(_matrix$1),e.union(_sphere$2)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const d={visible:!0,active:!0,geometryIndex:e};let nt=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(ascIdSort),nt=this._availableInstanceIds.shift(),this._instanceInfo[nt]=d):(nt=this._instanceInfo.length,this._instanceInfo.push(d));const o=this._matricesTexture;_matrix$1.identity().toArray(o.image.data,nt*16),o.needsUpdate=!0;const ft=this._colorsTexture;return ft&&(_whiteColor.toArray(ft.image.data,nt*4),ft.needsUpdate=!0),this._visibilityChanged=!0,nt}addGeometry(e,s=-1,d=-1){this._initializeGeometry(e),this._validateGeometry(e);const nt={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},o=this._geometryInfo;nt.vertexStart=this._nextVertexStart,nt.reservedVertexCount=s===-1?e.getAttribute("position").count:s;const ft=e.getIndex();if(ft!==null&&(nt.indexStart=this._nextIndexStart,nt.reservedIndexCount=d===-1?ft.count:d),nt.indexStart!==-1&&nt.indexStart+nt.reservedIndexCount>this._maxIndexCount||nt.vertexStart+nt.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let xt;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(ascIdSort),xt=this._availableGeometryIds.shift(),o[xt]=nt):(xt=this._geometryCount,this._geometryCount++,o.push(nt)),this.setGeometryAt(xt,e),this._nextIndexStart=nt.indexStart+nt.reservedIndexCount,this._nextVertexStart=nt.vertexStart+nt.reservedVertexCount,xt}setGeometryAt(e,s){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(s);const d=this.geometry,nt=d.getIndex()!==null,o=d.getIndex(),ft=s.getIndex(),gt=this._geometryInfo[e];if(nt&&ft.count>gt.reservedIndexCount||s.attributes.position.count>gt.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const xt=gt.vertexStart,St=gt.reservedVertexCount;gt.vertexCount=s.getAttribute("position").count;for(const Tt in d.attributes){const At=s.getAttribute(Tt),Ct=d.getAttribute(Tt);copyAttributeData(At,Ct,xt);const Rt=At.itemSize;for(let yt=At.count,Ot=St;yt<Ot;yt++){const Nt=xt+yt;for(let bt=0;bt<Rt;bt++)Ct.setComponent(Nt,bt,0)}Ct.needsUpdate=!0,Ct.addUpdateRange(xt*Rt,St*Rt)}if(nt){const Tt=gt.indexStart,At=gt.reservedIndexCount;gt.indexCount=s.getIndex().count;for(let Ct=0;Ct<ft.count;Ct++)o.setX(Tt+Ct,xt+ft.getX(Ct));for(let Ct=ft.count,Rt=At;Ct<Rt;Ct++)o.setX(Tt+Ct,xt);o.needsUpdate=!0,o.addUpdateRange(Tt,gt.reservedIndexCount)}return gt.start=nt?gt.indexStart:gt.vertexStart,gt.count=nt?gt.indexCount:gt.vertexCount,gt.boundingBox=null,s.boundingBox!==null&&(gt.boundingBox=s.boundingBox.clone()),gt.boundingSphere=null,s.boundingSphere!==null&&(gt.boundingSphere=s.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const s=this._geometryInfo;if(e>=s.length||s[e].active===!1)return this;const d=this._instanceInfo;for(let nt=0,o=d.length;nt<o;nt++)d[nt].active&&d[nt].geometryIndex===e&&this.deleteInstance(nt);return s[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,s=0;const d=this._geometryInfo,nt=d.map((ft,gt)=>gt).sort((ft,gt)=>d[ft].vertexStart-d[gt].vertexStart),o=this.geometry;for(let ft=0,gt=d.length;ft<gt;ft++){const xt=nt[ft],St=d[xt];if(St.active!==!1){if(o.index!==null){if(St.indexStart!==s){const{indexStart:Tt,vertexStart:At,reservedIndexCount:Ct}=St,Rt=o.index,yt=Rt.array,Ot=e-At;for(let Nt=Tt;Nt<Tt+Ct;Nt++)yt[Nt]=yt[Nt]+Ot;Rt.array.copyWithin(s,Tt,Tt+Ct),Rt.addUpdateRange(s,Ct),St.indexStart=s}s+=St.reservedIndexCount}if(St.vertexStart!==e){const{vertexStart:Tt,reservedVertexCount:At}=St,Ct=o.attributes;for(const Rt in Ct){const yt=Ct[Rt],{array:Ot,itemSize:Nt}=yt;Ot.copyWithin(e*Nt,Tt*Nt,(Tt+At)*Nt),yt.addUpdateRange(e*Nt,At*Nt)}St.vertexStart=e}e+=St.reservedVertexCount,St.start=o.index?St.indexStart:St.vertexStart,this._nextIndexStart=o.index?St.indexStart+St.reservedIndexCount:0,this._nextVertexStart=St.vertexStart+St.reservedVertexCount}}return this}getBoundingBoxAt(e,s){if(e>=this._geometryCount)return null;const d=this.geometry,nt=this._geometryInfo[e];if(nt.boundingBox===null){const o=new Box3,ft=d.index,gt=d.attributes.position;for(let xt=nt.start,St=nt.start+nt.count;xt<St;xt++){let Tt=xt;ft&&(Tt=ft.getX(Tt)),o.expandByPoint(_vector$5.fromBufferAttribute(gt,Tt))}nt.boundingBox=o}return s.copy(nt.boundingBox),s}getBoundingSphereAt(e,s){if(e>=this._geometryCount)return null;const d=this.geometry,nt=this._geometryInfo[e];if(nt.boundingSphere===null){const o=new Sphere;this.getBoundingBoxAt(e,_box$1),_box$1.getCenter(o.center);const ft=d.index,gt=d.attributes.position;let xt=0;for(let St=nt.start,Tt=nt.start+nt.count;St<Tt;St++){let At=St;ft&&(At=ft.getX(At)),_vector$5.fromBufferAttribute(gt,At),xt=Math.max(xt,o.center.distanceToSquared(_vector$5))}o.radius=Math.sqrt(xt),nt.boundingSphere=o}return s.copy(nt.boundingSphere),s}setMatrixAt(e,s){this.validateInstanceId(e);const d=this._matricesTexture,nt=this._matricesTexture.image.data;return s.toArray(nt,e*16),d.needsUpdate=!0,this}getMatrixAt(e,s){return this.validateInstanceId(e),s.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,s){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),s.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,s){return this.validateInstanceId(e),s.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,s){return this.validateInstanceId(e),this._instanceInfo[e].visible===s?this:(this._instanceInfo[e].visible=s,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,s){return this.validateInstanceId(e),this.validateGeometryId(s),this._instanceInfo[e].geometryIndex=s,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,s={}){this.validateGeometryId(e);const d=this._geometryInfo[e];return s.vertexStart=d.vertexStart,s.vertexCount=d.vertexCount,s.reservedVertexCount=d.reservedVertexCount,s.indexStart=d.indexStart,s.indexCount=d.indexCount,s.reservedIndexCount=d.reservedIndexCount,s.start=d.start,s.count=d.count,s}setInstanceCount(e){const s=this._availableInstanceIds,d=this._instanceInfo;for(s.sort(ascIdSort);s[s.length-1]===d.length;)d.pop(),s.pop();if(e<d.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const nt=new Int32Array(e),o=new Int32Array(e);copyArrayContents(this._multiDrawCounts,nt),copyArrayContents(this._multiDrawStarts,o),this._multiDrawCounts=nt,this._multiDrawStarts=o,this._maxInstanceCount=e;const ft=this._indirectTexture,gt=this._matricesTexture,xt=this._colorsTexture;ft.dispose(),this._initIndirectTexture(),copyArrayContents(ft.image.data,this._indirectTexture.image.data),gt.dispose(),this._initMatricesTexture(),copyArrayContents(gt.image.data,this._matricesTexture.image.data),xt&&(xt.dispose(),this._initColorsTexture(),copyArrayContents(xt.image.data,this._colorsTexture.image.data))}setGeometrySize(e,s){const d=[...this._geometryInfo].filter(gt=>gt.active);if(Math.max(...d.map(gt=>gt.vertexStart+gt.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${s}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...d.map(xt=>xt.indexStart+xt.reservedIndexCount))>s)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${s}. Cannot shrink further.`);const o=this.geometry;o.dispose(),this._maxVertexCount=e,this._maxIndexCount=s,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new BufferGeometry,this._initializeGeometry(o));const ft=this.geometry;o.index&&copyArrayContents(o.index.array,ft.index.array);for(const gt in o.attributes)copyArrayContents(o.attributes[gt].array,ft.attributes[gt].array)}raycast(e,s){const d=this._instanceInfo,nt=this._geometryInfo,o=this.matrixWorld,ft=this.geometry;_mesh.material=this.material,_mesh.geometry.index=ft.index,_mesh.geometry.attributes=ft.attributes,_mesh.geometry.boundingBox===null&&(_mesh.geometry.boundingBox=new Box3),_mesh.geometry.boundingSphere===null&&(_mesh.geometry.boundingSphere=new Sphere);for(let gt=0,xt=d.length;gt<xt;gt++){if(!d[gt].visible||!d[gt].active)continue;const St=d[gt].geometryIndex,Tt=nt[St];_mesh.geometry.setDrawRange(Tt.start,Tt.count),this.getMatrixAt(gt,_mesh.matrixWorld).premultiply(o),this.getBoundingBoxAt(St,_mesh.geometry.boundingBox),this.getBoundingSphereAt(St,_mesh.geometry.boundingSphere),_mesh.raycast(e,_batchIntersects);for(let At=0,Ct=_batchIntersects.length;At<Ct;At++){const Rt=_batchIntersects[At];Rt.object=this,Rt.batchId=gt,s.push(Rt)}_batchIntersects.length=0}_mesh.material=null,_mesh.geometry.index=null,_mesh.geometry.attributes={},_mesh.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(s=>({...s,boundingBox:s.boundingBox!==null?s.boundingBox.clone():null,boundingSphere:s.boundingSphere!==null?s.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(s=>({...s})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,s,d,nt,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const ft=nt.getIndex(),gt=ft===null?1:ft.array.BYTES_PER_ELEMENT,xt=this._instanceInfo,St=this._multiDrawStarts,Tt=this._multiDrawCounts,At=this._geometryInfo,Ct=this.perObjectFrustumCulled,Rt=this._indirectTexture,yt=Rt.image.data,Ot=d.isArrayCamera?_frustumArray:_frustum;Ct&&!d.isArrayCamera&&(_matrix$1.multiplyMatrices(d.projectionMatrix,d.matrixWorldInverse).multiply(this.matrixWorld),_frustum.setFromProjectionMatrix(_matrix$1,e.coordinateSystem));let Nt=0;if(this.sortObjects){_matrix$1.copy(this.matrixWorld).invert(),_vector$5.setFromMatrixPosition(d.matrixWorld).applyMatrix4(_matrix$1),_forward.set(0,0,-1).transformDirection(d.matrixWorld).transformDirection(_matrix$1);for(let Ft=0,Ut=xt.length;Ft<Ut;Ft++)if(xt[Ft].visible&&xt[Ft].active){const Wt=xt[Ft].geometryIndex;this.getMatrixAt(Ft,_matrix$1),this.getBoundingSphereAt(Wt,_sphere$2).applyMatrix4(_matrix$1);let Gt=!1;if(Ct&&(Gt=!Ot.intersectsSphere(_sphere$2,d)),!Gt){const Xt=At[Wt],Yt=_temp.subVectors(_sphere$2.center,_vector$5).dot(_forward);_renderList.push(Xt.start,Xt.count,Yt,Ft)}}const bt=_renderList.list,Dt=this.customSort;Dt===null?bt.sort(o.transparent?sortTransparent:sortOpaque):Dt.call(this,bt,d);for(let Ft=0,Ut=bt.length;Ft<Ut;Ft++){const Wt=bt[Ft];St[Nt]=Wt.start*gt,Tt[Nt]=Wt.count,yt[Nt]=Wt.index,Nt++}_renderList.reset()}else for(let bt=0,Dt=xt.length;bt<Dt;bt++)if(xt[bt].visible&&xt[bt].active){const Ft=xt[bt].geometryIndex;let Ut=!1;if(Ct&&(this.getMatrixAt(bt,_matrix$1),this.getBoundingSphereAt(Ft,_sphere$2).applyMatrix4(_matrix$1),Ut=!Ot.intersectsSphere(_sphere$2,d)),!Ut){const Wt=At[Ft];St[Nt]=Wt.start*gt,Tt[Nt]=Wt.count,yt[Nt]=bt,Nt++}}Rt.needsUpdate=!0,this._multiDrawCount=Nt,this._visibilityChanged=!1}onBeforeShadow(e,s,d,nt,o,ft){this.onBeforeRender(e,null,nt,o,ft)}}class LineBasicMaterial extends Material{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const _vStart=new Vector3,_vEnd=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere,_intersectPointOnRay=new Vector3,_intersectPointOnSegment=new Vector3;class Line extends Object3D{constructor(e=new BufferGeometry,s=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=s,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,s){return super.copy(e,s),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const s=e.attributes.position,d=[0];for(let nt=1,o=s.count;nt<o;nt++)_vStart.fromBufferAttribute(s,nt-1),_vEnd.fromBufferAttribute(s,nt),d[nt]=d[nt-1],d[nt]+=_vStart.distanceTo(_vEnd);e.setAttribute("lineDistance",new Float32BufferAttribute(d,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,s){const d=this.geometry,nt=this.matrixWorld,o=e.params.Line.threshold,ft=d.drawRange;if(d.boundingSphere===null&&d.computeBoundingSphere(),_sphere$1.copy(d.boundingSphere),_sphere$1.applyMatrix4(nt),_sphere$1.radius+=o,e.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(nt).invert(),_ray$1.copy(e.ray).applyMatrix4(_inverseMatrix$1);const gt=o/((this.scale.x+this.scale.y+this.scale.z)/3),xt=gt*gt,St=this.isLineSegments?2:1,Tt=d.index,Ct=d.attributes.position;if(Tt!==null){const Rt=Math.max(0,ft.start),yt=Math.min(Tt.count,ft.start+ft.count);for(let Ot=Rt,Nt=yt-1;Ot<Nt;Ot+=St){const bt=Tt.getX(Ot),Dt=Tt.getX(Ot+1),Ft=checkIntersection(this,e,_ray$1,xt,bt,Dt,Ot);Ft&&s.push(Ft)}if(this.isLineLoop){const Ot=Tt.getX(yt-1),Nt=Tt.getX(Rt),bt=checkIntersection(this,e,_ray$1,xt,Ot,Nt,yt-1);bt&&s.push(bt)}}else{const Rt=Math.max(0,ft.start),yt=Math.min(Ct.count,ft.start+ft.count);for(let Ot=Rt,Nt=yt-1;Ot<Nt;Ot+=St){const bt=checkIntersection(this,e,_ray$1,xt,Ot,Ot+1,Ot);bt&&s.push(bt)}if(this.isLineLoop){const Ot=checkIntersection(this,e,_ray$1,xt,yt-1,Rt,yt-1);Ot&&s.push(Ot)}}}updateMorphTargets(){const s=this.geometry.morphAttributes,d=Object.keys(s);if(d.length>0){const nt=s[d[0]];if(nt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,ft=nt.length;o<ft;o++){const gt=nt[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[gt]=o}}}}}function checkIntersection(c,e,s,d,nt,o,ft){const gt=c.geometry.attributes.position;if(_vStart.fromBufferAttribute(gt,nt),_vEnd.fromBufferAttribute(gt,o),s.distanceSqToSegment(_vStart,_vEnd,_intersectPointOnRay,_intersectPointOnSegment)>d)return;_intersectPointOnRay.applyMatrix4(c.matrixWorld);const St=e.ray.origin.distanceTo(_intersectPointOnRay);if(!(St<e.near||St>e.far))return{distance:St,point:_intersectPointOnSegment.clone().applyMatrix4(c.matrixWorld),index:ft,face:null,faceIndex:null,barycoord:null,object:c}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(e,s){super(e,s),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const s=e.attributes.position,d=[];for(let nt=0,o=s.count;nt<o;nt+=2)_start.fromBufferAttribute(s,nt),_end.fromBufferAttribute(s,nt+1),d[nt]=nt===0?0:d[nt-1],d[nt+1]=d[nt]+_start.distanceTo(_end);e.setAttribute("lineDistance",new Float32BufferAttribute(d,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor(e,s){super(e,s),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const _inverseMatrix=new Matrix4,_ray$4=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(e=new BufferGeometry,s=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=s,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,s){return super.copy(e,s),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,s){const d=this.geometry,nt=this.matrixWorld,o=e.params.Points.threshold,ft=d.drawRange;if(d.boundingSphere===null&&d.computeBoundingSphere(),_sphere.copy(d.boundingSphere),_sphere.applyMatrix4(nt),_sphere.radius+=o,e.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(nt).invert(),_ray$4.copy(e.ray).applyMatrix4(_inverseMatrix);const gt=o/((this.scale.x+this.scale.y+this.scale.z)/3),xt=gt*gt,St=d.index,At=d.attributes.position;if(St!==null){const Ct=Math.max(0,ft.start),Rt=Math.min(St.count,ft.start+ft.count);for(let yt=Ct,Ot=Rt;yt<Ot;yt++){const Nt=St.getX(yt);_position$2.fromBufferAttribute(At,Nt),testPoint(_position$2,Nt,xt,nt,e,s,this)}}else{const Ct=Math.max(0,ft.start),Rt=Math.min(At.count,ft.start+ft.count);for(let yt=Ct,Ot=Rt;yt<Ot;yt++)_position$2.fromBufferAttribute(At,yt),testPoint(_position$2,yt,xt,nt,e,s,this)}}updateMorphTargets(){const s=this.geometry.morphAttributes,d=Object.keys(s);if(d.length>0){const nt=s[d[0]];if(nt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,ft=nt.length;o<ft;o++){const gt=nt[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[gt]=o}}}}}function testPoint(c,e,s,d,nt,o,ft){const gt=_ray$4.distanceSqToPoint(c);if(gt<s){const xt=new Vector3;_ray$4.closestPointToPoint(c,xt),xt.applyMatrix4(d);const St=nt.ray.origin.distanceTo(xt);if(St<nt.near||St>nt.far)return;o.push({distance:St,distanceToRay:Math.sqrt(gt),point:xt,index:e,face:null,faceIndex:null,barycoord:null,object:ft})}}class VideoTexture extends Texture{constructor(e,s,d,nt,o=LinearFilter,ft=LinearFilter,gt,xt,St){super(e,s,d,nt,o,ft,gt,xt,St),this.isVideoTexture=!0,this.generateMipmaps=!1;const Tt=this;function At(){Tt.needsUpdate=!0,e.requestVideoFrameCallback(At)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(At)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class VideoFrameTexture extends VideoTexture{constructor(e,s,d,nt,o,ft,gt,xt){super({},e,s,d,nt,o,ft,gt,xt),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class FramebufferTexture extends Texture{constructor(e,s){super({width:e,height:s}),this.isFramebufferTexture=!0,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(e,s,d,nt,o,ft,gt,xt,St,Tt,At,Ct){super(null,ft,gt,xt,St,Tt,nt,o,At,Ct),this.isCompressedTexture=!0,this.image={width:s,height:d},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor(e,s,d,nt,o,ft){super(e,s,d,o,ft),this.isCompressedArrayTexture=!0,this.image.depth=nt,this.wrapR=ClampToEdgeWrapping,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class CompressedCubeTexture extends CompressedTexture{constructor(e,s,d){super(void 0,e[0].width,e[0].height,s,d,CubeReflectionMapping),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class CanvasTexture extends Texture{constructor(e,s,d,nt,o,ft,gt,xt,St){super(e,s,d,nt,o,ft,gt,xt,St),this.isCanvasTexture=!0,this.needsUpdate=!0}}class DepthTexture extends Texture{constructor(e,s,d=UnsignedIntType,nt,o,ft,gt=NearestFilter,xt=NearestFilter,St,Tt=DepthFormat){if(Tt!==DepthFormat&&Tt!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,nt,o,ft,gt,xt,Tt,d,St),this.isDepthTexture=!0,this.image={width:e,height:s},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Source(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const s=super.toJSON(e);return this.compareFunction!==null&&(s.compareFunction=this.compareFunction),s}}class DepthArrayTexture extends DepthTexture{constructor(e=1,s=1,d=1){super(e,s),this.isDepthArrayTexture=!0,this.image={width:e,height:s,depth:d},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class CapsuleGeometry extends BufferGeometry{constructor(e=1,s=1,d=4,nt=8,o=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:s,capSegments:d,radialSegments:nt,heightSegments:o},s=Math.max(0,s),d=Math.max(1,Math.floor(d)),nt=Math.max(3,Math.floor(nt)),o=Math.max(1,Math.floor(o));const ft=[],gt=[],xt=[],St=[],Tt=s/2,At=Math.PI/2*e,Ct=s,Rt=2*At+Ct,yt=d*2+o,Ot=nt+1,Nt=new Vector3,bt=new Vector3;for(let Dt=0;Dt<=yt;Dt++){let Ft=0,Ut=0,Wt=0,Gt=0;if(Dt<=d){const Kt=Dt/d,jt=Kt*Math.PI/2;Ut=-Tt-e*Math.cos(jt),Wt=e*Math.sin(jt),Gt=-e*Math.cos(jt),Ft=Kt*At}else if(Dt<=d+o){const Kt=(Dt-d)/o;Ut=-Tt+Kt*s,Wt=e,Gt=0,Ft=At+Kt*Ct}else{const Kt=(Dt-d-o)/d,jt=Kt*Math.PI/2;Ut=Tt+e*Math.sin(jt),Wt=e*Math.cos(jt),Gt=e*Math.sin(jt),Ft=At+Ct+Kt*At}const Xt=Math.max(0,Math.min(1,Ft/Rt));let Yt=0;Dt===0?Yt=.5/nt:Dt===yt&&(Yt=-.5/nt);for(let Kt=0;Kt<=nt;Kt++){const jt=Kt/nt,Jt=jt*Math.PI*2,fn=Math.sin(Jt),sn=Math.cos(Jt);bt.x=-Wt*sn,bt.y=Ut,bt.z=Wt*fn,gt.push(bt.x,bt.y,bt.z),Nt.set(-Wt*sn,Gt,Wt*fn),Nt.normalize(),xt.push(Nt.x,Nt.y,Nt.z),St.push(jt+Yt,Xt)}if(Dt>0){const Kt=(Dt-1)*Ot;for(let jt=0;jt<nt;jt++){const Jt=Kt+jt,fn=Kt+jt+1,sn=Dt*Ot+jt,wn=Dt*Ot+jt+1;ft.push(Jt,fn,sn),ft.push(fn,wn,sn)}}}this.setIndex(ft),this.setAttribute("position",new Float32BufferAttribute(gt,3)),this.setAttribute("normal",new Float32BufferAttribute(xt,3)),this.setAttribute("uv",new Float32BufferAttribute(St,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new CapsuleGeometry(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class CircleGeometry extends BufferGeometry{constructor(e=1,s=32,d=0,nt=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:s,thetaStart:d,thetaLength:nt},s=Math.max(3,s);const o=[],ft=[],gt=[],xt=[],St=new Vector3,Tt=new Vector2;ft.push(0,0,0),gt.push(0,0,1),xt.push(.5,.5);for(let At=0,Ct=3;At<=s;At++,Ct+=3){const Rt=d+At/s*nt;St.x=e*Math.cos(Rt),St.y=e*Math.sin(Rt),ft.push(St.x,St.y,St.z),gt.push(0,0,1),Tt.x=(ft[Ct]/e+1)/2,Tt.y=(ft[Ct+1]/e+1)/2,xt.push(Tt.x,Tt.y)}for(let At=1;At<=s;At++)o.push(At,At+1,0);this.setIndex(o),this.setAttribute("position",new Float32BufferAttribute(ft,3)),this.setAttribute("normal",new Float32BufferAttribute(gt,3)),this.setAttribute("uv",new Float32BufferAttribute(xt,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new CircleGeometry(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(e=1,s=1,d=1,nt=32,o=1,ft=!1,gt=0,xt=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:s,height:d,radialSegments:nt,heightSegments:o,openEnded:ft,thetaStart:gt,thetaLength:xt};const St=this;nt=Math.floor(nt),o=Math.floor(o);const Tt=[],At=[],Ct=[],Rt=[];let yt=0;const Ot=[],Nt=d/2;let bt=0;Dt(),ft===!1&&(e>0&&Ft(!0),s>0&&Ft(!1)),this.setIndex(Tt),this.setAttribute("position",new Float32BufferAttribute(At,3)),this.setAttribute("normal",new Float32BufferAttribute(Ct,3)),this.setAttribute("uv",new Float32BufferAttribute(Rt,2));function Dt(){const Ut=new Vector3,Wt=new Vector3;let Gt=0;const Xt=(s-e)/d;for(let Yt=0;Yt<=o;Yt++){const Kt=[],jt=Yt/o,Jt=jt*(s-e)+e;for(let fn=0;fn<=nt;fn++){const sn=fn/nt,wn=sn*xt+gt,Mn=Math.sin(wn),Tn=Math.cos(wn);Wt.x=Jt*Mn,Wt.y=-jt*d+Nt,Wt.z=Jt*Tn,At.push(Wt.x,Wt.y,Wt.z),Ut.set(Mn,Xt,Tn).normalize(),Ct.push(Ut.x,Ut.y,Ut.z),Rt.push(sn,1-jt),Kt.push(yt++)}Ot.push(Kt)}for(let Yt=0;Yt<nt;Yt++)for(let Kt=0;Kt<o;Kt++){const jt=Ot[Kt][Yt],Jt=Ot[Kt+1][Yt],fn=Ot[Kt+1][Yt+1],sn=Ot[Kt][Yt+1];(e>0||Kt!==0)&&(Tt.push(jt,Jt,sn),Gt+=3),(s>0||Kt!==o-1)&&(Tt.push(Jt,fn,sn),Gt+=3)}St.addGroup(bt,Gt,0),bt+=Gt}function Ft(Ut){const Wt=yt,Gt=new Vector2,Xt=new Vector3;let Yt=0;const Kt=Ut===!0?e:s,jt=Ut===!0?1:-1;for(let fn=1;fn<=nt;fn++)At.push(0,Nt*jt,0),Ct.push(0,jt,0),Rt.push(.5,.5),yt++;const Jt=yt;for(let fn=0;fn<=nt;fn++){const wn=fn/nt*xt+gt,Mn=Math.cos(wn),Tn=Math.sin(wn);Xt.x=Kt*Tn,Xt.y=Nt*jt,Xt.z=Kt*Mn,At.push(Xt.x,Xt.y,Xt.z),Ct.push(0,jt,0),Gt.x=Mn*.5+.5,Gt.y=Tn*.5*jt+.5,Rt.push(Gt.x,Gt.y),yt++}for(let fn=0;fn<nt;fn++){const sn=Wt+fn,wn=Jt+fn;Ut===!0?Tt.push(wn,wn+1,sn):Tt.push(wn+1,wn,sn),Yt+=3}St.addGroup(bt,Yt,Ut===!0?1:2),bt+=Yt}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new CylinderGeometry(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(e=1,s=1,d=32,nt=1,o=!1,ft=0,gt=Math.PI*2){super(0,e,s,d,nt,o,ft,gt),this.type="ConeGeometry",this.parameters={radius:e,height:s,radialSegments:d,heightSegments:nt,openEnded:o,thetaStart:ft,thetaLength:gt}}static fromJSON(e){return new ConeGeometry(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(e=[],s=[],d=1,nt=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:s,radius:d,detail:nt};const o=[],ft=[];gt(nt),St(d),Tt(),this.setAttribute("position",new Float32BufferAttribute(o,3)),this.setAttribute("normal",new Float32BufferAttribute(o.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(ft,2)),nt===0?this.computeVertexNormals():this.normalizeNormals();function gt(Dt){const Ft=new Vector3,Ut=new Vector3,Wt=new Vector3;for(let Gt=0;Gt<s.length;Gt+=3)Rt(s[Gt+0],Ft),Rt(s[Gt+1],Ut),Rt(s[Gt+2],Wt),xt(Ft,Ut,Wt,Dt)}function xt(Dt,Ft,Ut,Wt){const Gt=Wt+1,Xt=[];for(let Yt=0;Yt<=Gt;Yt++){Xt[Yt]=[];const Kt=Dt.clone().lerp(Ut,Yt/Gt),jt=Ft.clone().lerp(Ut,Yt/Gt),Jt=Gt-Yt;for(let fn=0;fn<=Jt;fn++)fn===0&&Yt===Gt?Xt[Yt][fn]=Kt:Xt[Yt][fn]=Kt.clone().lerp(jt,fn/Jt)}for(let Yt=0;Yt<Gt;Yt++)for(let Kt=0;Kt<2*(Gt-Yt)-1;Kt++){const jt=Math.floor(Kt/2);Kt%2===0?(Ct(Xt[Yt][jt+1]),Ct(Xt[Yt+1][jt]),Ct(Xt[Yt][jt])):(Ct(Xt[Yt][jt+1]),Ct(Xt[Yt+1][jt+1]),Ct(Xt[Yt+1][jt]))}}function St(Dt){const Ft=new Vector3;for(let Ut=0;Ut<o.length;Ut+=3)Ft.x=o[Ut+0],Ft.y=o[Ut+1],Ft.z=o[Ut+2],Ft.normalize().multiplyScalar(Dt),o[Ut+0]=Ft.x,o[Ut+1]=Ft.y,o[Ut+2]=Ft.z}function Tt(){const Dt=new Vector3;for(let Ft=0;Ft<o.length;Ft+=3){Dt.x=o[Ft+0],Dt.y=o[Ft+1],Dt.z=o[Ft+2];const Ut=Nt(Dt)/2/Math.PI+.5,Wt=bt(Dt)/Math.PI+.5;ft.push(Ut,1-Wt)}yt(),At()}function At(){for(let Dt=0;Dt<ft.length;Dt+=6){const Ft=ft[Dt+0],Ut=ft[Dt+2],Wt=ft[Dt+4],Gt=Math.max(Ft,Ut,Wt),Xt=Math.min(Ft,Ut,Wt);Gt>.9&&Xt<.1&&(Ft<.2&&(ft[Dt+0]+=1),Ut<.2&&(ft[Dt+2]+=1),Wt<.2&&(ft[Dt+4]+=1))}}function Ct(Dt){o.push(Dt.x,Dt.y,Dt.z)}function Rt(Dt,Ft){const Ut=Dt*3;Ft.x=e[Ut+0],Ft.y=e[Ut+1],Ft.z=e[Ut+2]}function yt(){const Dt=new Vector3,Ft=new Vector3,Ut=new Vector3,Wt=new Vector3,Gt=new Vector2,Xt=new Vector2,Yt=new Vector2;for(let Kt=0,jt=0;Kt<o.length;Kt+=9,jt+=6){Dt.set(o[Kt+0],o[Kt+1],o[Kt+2]),Ft.set(o[Kt+3],o[Kt+4],o[Kt+5]),Ut.set(o[Kt+6],o[Kt+7],o[Kt+8]),Gt.set(ft[jt+0],ft[jt+1]),Xt.set(ft[jt+2],ft[jt+3]),Yt.set(ft[jt+4],ft[jt+5]),Wt.copy(Dt).add(Ft).add(Ut).divideScalar(3);const Jt=Nt(Wt);Ot(Gt,jt+0,Dt,Jt),Ot(Xt,jt+2,Ft,Jt),Ot(Yt,jt+4,Ut,Jt)}}function Ot(Dt,Ft,Ut,Wt){Wt<0&&Dt.x===1&&(ft[Ft]=Dt.x-1),Ut.x===0&&Ut.z===0&&(ft[Ft]=Wt/2/Math.PI+.5)}function Nt(Dt){return Math.atan2(Dt.z,-Dt.x)}function bt(Dt){return Math.atan2(-Dt.y,Math.sqrt(Dt.x*Dt.x+Dt.z*Dt.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new PolyhedronGeometry(e.vertices,e.indices,e.radius,e.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(e=1,s=0){const d=(1+Math.sqrt(5))/2,nt=1/d,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-nt,-d,0,-nt,d,0,nt,-d,0,nt,d,-nt,-d,0,-nt,d,0,nt,-d,0,nt,d,0,-d,0,-nt,d,0,-nt,-d,0,nt,d,0,nt],ft=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,ft,e,s),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:s}}static fromJSON(e){return new DodecahedronGeometry(e.radius,e.detail)}}const _v0$3=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(e=null,s=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:s},e!==null){const nt=Math.pow(10,4),o=Math.cos(DEG2RAD*s),ft=e.getIndex(),gt=e.getAttribute("position"),xt=ft?ft.count:gt.count,St=[0,0,0],Tt=["a","b","c"],At=new Array(3),Ct={},Rt=[];for(let yt=0;yt<xt;yt+=3){ft?(St[0]=ft.getX(yt),St[1]=ft.getX(yt+1),St[2]=ft.getX(yt+2)):(St[0]=yt,St[1]=yt+1,St[2]=yt+2);const{a:Ot,b:Nt,c:bt}=_triangle;if(Ot.fromBufferAttribute(gt,St[0]),Nt.fromBufferAttribute(gt,St[1]),bt.fromBufferAttribute(gt,St[2]),_triangle.getNormal(_normal),At[0]=`${Math.round(Ot.x*nt)},${Math.round(Ot.y*nt)},${Math.round(Ot.z*nt)}`,At[1]=`${Math.round(Nt.x*nt)},${Math.round(Nt.y*nt)},${Math.round(Nt.z*nt)}`,At[2]=`${Math.round(bt.x*nt)},${Math.round(bt.y*nt)},${Math.round(bt.z*nt)}`,!(At[0]===At[1]||At[1]===At[2]||At[2]===At[0]))for(let Dt=0;Dt<3;Dt++){const Ft=(Dt+1)%3,Ut=At[Dt],Wt=At[Ft],Gt=_triangle[Tt[Dt]],Xt=_triangle[Tt[Ft]],Yt=`${Ut}_${Wt}`,Kt=`${Wt}_${Ut}`;Kt in Ct&&Ct[Kt]?(_normal.dot(Ct[Kt].normal)<=o&&(Rt.push(Gt.x,Gt.y,Gt.z),Rt.push(Xt.x,Xt.y,Xt.z)),Ct[Kt]=null):Yt in Ct||(Ct[Yt]={index0:St[Dt],index1:St[Ft],normal:_normal.clone()})}}for(const yt in Ct)if(Ct[yt]){const{index0:Ot,index1:Nt}=Ct[yt];_v0$3.fromBufferAttribute(gt,Ot),_v1$1.fromBufferAttribute(gt,Nt),Rt.push(_v0$3.x,_v0$3.y,_v0$3.z),Rt.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(Rt,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,s){const d=this.getUtoTmapping(e);return this.getPoint(d,s)}getPoints(e=5){const s=[];for(let d=0;d<=e;d++)s.push(this.getPoint(d/e));return s}getSpacedPoints(e=5){const s=[];for(let d=0;d<=e;d++)s.push(this.getPointAt(d/e));return s}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const s=[];let d,nt=this.getPoint(0),o=0;s.push(0);for(let ft=1;ft<=e;ft++)d=this.getPoint(ft/e),o+=d.distanceTo(nt),s.push(o),nt=d;return this.cacheArcLengths=s,s}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,s=null){const d=this.getLengths();let nt=0;const o=d.length;let ft;s?ft=s:ft=e*d[o-1];let gt=0,xt=o-1,St;for(;gt<=xt;)if(nt=Math.floor(gt+(xt-gt)/2),St=d[nt]-ft,St<0)gt=nt+1;else if(St>0)xt=nt-1;else{xt=nt;break}if(nt=xt,d[nt]===ft)return nt/(o-1);const Tt=d[nt],Ct=d[nt+1]-Tt,Rt=(ft-Tt)/Ct;return(nt+Rt)/(o-1)}getTangent(e,s){let nt=e-1e-4,o=e+1e-4;nt<0&&(nt=0),o>1&&(o=1);const ft=this.getPoint(nt),gt=this.getPoint(o),xt=s||(ft.isVector2?new Vector2:new Vector3);return xt.copy(gt).sub(ft).normalize(),xt}getTangentAt(e,s){const d=this.getUtoTmapping(e);return this.getTangent(d,s)}computeFrenetFrames(e,s=!1){const d=new Vector3,nt=[],o=[],ft=[],gt=new Vector3,xt=new Matrix4;for(let Rt=0;Rt<=e;Rt++){const yt=Rt/e;nt[Rt]=this.getTangentAt(yt,new Vector3)}o[0]=new Vector3,ft[0]=new Vector3;let St=Number.MAX_VALUE;const Tt=Math.abs(nt[0].x),At=Math.abs(nt[0].y),Ct=Math.abs(nt[0].z);Tt<=St&&(St=Tt,d.set(1,0,0)),At<=St&&(St=At,d.set(0,1,0)),Ct<=St&&d.set(0,0,1),gt.crossVectors(nt[0],d).normalize(),o[0].crossVectors(nt[0],gt),ft[0].crossVectors(nt[0],o[0]);for(let Rt=1;Rt<=e;Rt++){if(o[Rt]=o[Rt-1].clone(),ft[Rt]=ft[Rt-1].clone(),gt.crossVectors(nt[Rt-1],nt[Rt]),gt.length()>Number.EPSILON){gt.normalize();const yt=Math.acos(clamp(nt[Rt-1].dot(nt[Rt]),-1,1));o[Rt].applyMatrix4(xt.makeRotationAxis(gt,yt))}ft[Rt].crossVectors(nt[Rt],o[Rt])}if(s===!0){let Rt=Math.acos(clamp(o[0].dot(o[e]),-1,1));Rt/=e,nt[0].dot(gt.crossVectors(o[0],o[e]))>0&&(Rt=-Rt);for(let yt=1;yt<=e;yt++)o[yt].applyMatrix4(xt.makeRotationAxis(nt[yt],Rt*yt)),ft[yt].crossVectors(nt[yt],o[yt])}return{tangents:nt,normals:o,binormals:ft}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(e=0,s=0,d=1,nt=1,o=0,ft=Math.PI*2,gt=!1,xt=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=s,this.xRadius=d,this.yRadius=nt,this.aStartAngle=o,this.aEndAngle=ft,this.aClockwise=gt,this.aRotation=xt}getPoint(e,s=new Vector2){const d=s,nt=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const ft=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=nt;for(;o>nt;)o-=nt;o<Number.EPSILON&&(ft?o=0:o=nt),this.aClockwise===!0&&!ft&&(o===nt?o=-nt:o=o-nt);const gt=this.aStartAngle+e*o;let xt=this.aX+this.xRadius*Math.cos(gt),St=this.aY+this.yRadius*Math.sin(gt);if(this.aRotation!==0){const Tt=Math.cos(this.aRotation),At=Math.sin(this.aRotation),Ct=xt-this.aX,Rt=St-this.aY;xt=Ct*Tt-Rt*At+this.aX,St=Ct*At+Rt*Tt+this.aY}return d.set(xt,St)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(e,s,d,nt,o,ft){super(e,s,d,d,nt,o,ft),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let c=0,e=0,s=0,d=0;function nt(o,ft,gt,xt){c=o,e=gt,s=-3*o+3*ft-2*gt-xt,d=2*o-2*ft+gt+xt}return{initCatmullRom:function(o,ft,gt,xt,St){nt(ft,gt,St*(gt-o),St*(xt-ft))},initNonuniformCatmullRom:function(o,ft,gt,xt,St,Tt,At){let Ct=(ft-o)/St-(gt-o)/(St+Tt)+(gt-ft)/Tt,Rt=(gt-ft)/Tt-(xt-ft)/(Tt+At)+(xt-gt)/At;Ct*=Tt,Rt*=Tt,nt(ft,gt,Ct,Rt)},calc:function(o){const ft=o*o,gt=ft*o;return c+e*o+s*ft+d*gt}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(e=[],s=!1,d="centripetal",nt=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=s,this.curveType=d,this.tension=nt}getPoint(e,s=new Vector3){const d=s,nt=this.points,o=nt.length,ft=(o-(this.closed?0:1))*e;let gt=Math.floor(ft),xt=ft-gt;this.closed?gt+=gt>0?0:(Math.floor(Math.abs(gt)/o)+1)*o:xt===0&&gt===o-1&&(gt=o-2,xt=1);let St,Tt;this.closed||gt>0?St=nt[(gt-1)%o]:(tmp.subVectors(nt[0],nt[1]).add(nt[0]),St=tmp);const At=nt[gt%o],Ct=nt[(gt+1)%o];if(this.closed||gt+2<o?Tt=nt[(gt+2)%o]:(tmp.subVectors(nt[o-1],nt[o-2]).add(nt[o-1]),Tt=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const Rt=this.curveType==="chordal"?.5:.25;let yt=Math.pow(St.distanceToSquared(At),Rt),Ot=Math.pow(At.distanceToSquared(Ct),Rt),Nt=Math.pow(Ct.distanceToSquared(Tt),Rt);Ot<1e-4&&(Ot=1),yt<1e-4&&(yt=Ot),Nt<1e-4&&(Nt=Ot),px.initNonuniformCatmullRom(St.x,At.x,Ct.x,Tt.x,yt,Ot,Nt),py.initNonuniformCatmullRom(St.y,At.y,Ct.y,Tt.y,yt,Ot,Nt),pz.initNonuniformCatmullRom(St.z,At.z,Ct.z,Tt.z,yt,Ot,Nt)}else this.curveType==="catmullrom"&&(px.initCatmullRom(St.x,At.x,Ct.x,Tt.x,this.tension),py.initCatmullRom(St.y,At.y,Ct.y,Tt.y,this.tension),pz.initCatmullRom(St.z,At.z,Ct.z,Tt.z,this.tension));return d.set(px.calc(xt),py.calc(xt),pz.calc(xt)),d}copy(e){super.copy(e),this.points=[];for(let s=0,d=e.points.length;s<d;s++){const nt=e.points[s];this.points.push(nt.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let s=0,d=this.points.length;s<d;s++){const nt=this.points[s];e.points.push(nt.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let s=0,d=e.points.length;s<d;s++){const nt=e.points[s];this.points.push(new Vector3().fromArray(nt))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function CatmullRom(c,e,s,d,nt){const o=(d-e)*.5,ft=(nt-s)*.5,gt=c*c,xt=c*gt;return(2*s-2*d+o+ft)*xt+(-3*s+3*d-2*o-ft)*gt+o*c+s}function QuadraticBezierP0(c,e){const s=1-c;return s*s*e}function QuadraticBezierP1(c,e){return 2*(1-c)*c*e}function QuadraticBezierP2(c,e){return c*c*e}function QuadraticBezier(c,e,s,d){return QuadraticBezierP0(c,e)+QuadraticBezierP1(c,s)+QuadraticBezierP2(c,d)}function CubicBezierP0(c,e){const s=1-c;return s*s*s*e}function CubicBezierP1(c,e){const s=1-c;return 3*s*s*c*e}function CubicBezierP2(c,e){return 3*(1-c)*c*c*e}function CubicBezierP3(c,e){return c*c*c*e}function CubicBezier(c,e,s,d,nt){return CubicBezierP0(c,e)+CubicBezierP1(c,s)+CubicBezierP2(c,d)+CubicBezierP3(c,nt)}class CubicBezierCurve extends Curve{constructor(e=new Vector2,s=new Vector2,d=new Vector2,nt=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=s,this.v2=d,this.v3=nt}getPoint(e,s=new Vector2){const d=s,nt=this.v0,o=this.v1,ft=this.v2,gt=this.v3;return d.set(CubicBezier(e,nt.x,o.x,ft.x,gt.x),CubicBezier(e,nt.y,o.y,ft.y,gt.y)),d}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class CubicBezierCurve3 extends Curve{constructor(e=new Vector3,s=new Vector3,d=new Vector3,nt=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=s,this.v2=d,this.v3=nt}getPoint(e,s=new Vector3){const d=s,nt=this.v0,o=this.v1,ft=this.v2,gt=this.v3;return d.set(CubicBezier(e,nt.x,o.x,ft.x,gt.x),CubicBezier(e,nt.y,o.y,ft.y,gt.y),CubicBezier(e,nt.z,o.z,ft.z,gt.z)),d}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class LineCurve extends Curve{constructor(e=new Vector2,s=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=s}getPoint(e,s=new Vector2){const d=s;return e===1?d.copy(this.v2):(d.copy(this.v2).sub(this.v1),d.multiplyScalar(e).add(this.v1)),d}getPointAt(e,s){return this.getPoint(e,s)}getTangent(e,s=new Vector2){return s.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,s){return this.getTangent(e,s)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class LineCurve3 extends Curve{constructor(e=new Vector3,s=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=s}getPoint(e,s=new Vector3){const d=s;return e===1?d.copy(this.v2):(d.copy(this.v2).sub(this.v1),d.multiplyScalar(e).add(this.v1)),d}getPointAt(e,s){return this.getPoint(e,s)}getTangent(e,s=new Vector3){return s.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,s){return this.getTangent(e,s)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QuadraticBezierCurve extends Curve{constructor(e=new Vector2,s=new Vector2,d=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=s,this.v2=d}getPoint(e,s=new Vector2){const d=s,nt=this.v0,o=this.v1,ft=this.v2;return d.set(QuadraticBezier(e,nt.x,o.x,ft.x),QuadraticBezier(e,nt.y,o.y,ft.y)),d}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor(e=new Vector3,s=new Vector3,d=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=s,this.v2=d}getPoint(e,s=new Vector3){const d=s,nt=this.v0,o=this.v1,ft=this.v2;return d.set(QuadraticBezier(e,nt.x,o.x,ft.x),QuadraticBezier(e,nt.y,o.y,ft.y),QuadraticBezier(e,nt.z,o.z,ft.z)),d}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class SplineCurve extends Curve{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,s=new Vector2){const d=s,nt=this.points,o=(nt.length-1)*e,ft=Math.floor(o),gt=o-ft,xt=nt[ft===0?ft:ft-1],St=nt[ft],Tt=nt[ft>nt.length-2?nt.length-1:ft+1],At=nt[ft>nt.length-3?nt.length-1:ft+2];return d.set(CatmullRom(gt,xt.x,St.x,Tt.x,At.x),CatmullRom(gt,xt.y,St.y,Tt.y,At.y)),d}copy(e){super.copy(e),this.points=[];for(let s=0,d=e.points.length;s<d;s++){const nt=e.points[s];this.points.push(nt.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let s=0,d=this.points.length;s<d;s++){const nt=this.points[s];e.points.push(nt.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let s=0,d=e.points.length;s<d;s++){const nt=e.points[s];this.points.push(new Vector2().fromArray(nt))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),s=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(s)){const d=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Curves[d](s,e))}return this}getPoint(e,s){const d=e*this.getLength(),nt=this.getCurveLengths();let o=0;for(;o<nt.length;){if(nt[o]>=d){const ft=nt[o]-d,gt=this.curves[o],xt=gt.getLength(),St=xt===0?0:1-ft/xt;return gt.getPointAt(St,s)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let s=0;for(let d=0,nt=this.curves.length;d<nt;d++)s+=this.curves[d].getLength(),e.push(s);return this.cacheLengths=e,e}getSpacedPoints(e=40){const s=[];for(let d=0;d<=e;d++)s.push(this.getPoint(d/e));return this.autoClose&&s.push(s[0]),s}getPoints(e=12){const s=[];let d;for(let nt=0,o=this.curves;nt<o.length;nt++){const ft=o[nt],gt=ft.isEllipseCurve?e*2:ft.isLineCurve||ft.isLineCurve3?1:ft.isSplineCurve?e*ft.points.length:e,xt=ft.getPoints(gt);for(let St=0;St<xt.length;St++){const Tt=xt[St];d&&d.equals(Tt)||(s.push(Tt),d=Tt)}}return this.autoClose&&s.length>1&&!s[s.length-1].equals(s[0])&&s.push(s[0]),s}copy(e){super.copy(e),this.curves=[];for(let s=0,d=e.curves.length;s<d;s++){const nt=e.curves[s];this.curves.push(nt.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let s=0,d=this.curves.length;s<d;s++){const nt=this.curves[s];e.curves.push(nt.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let s=0,d=e.curves.length;s<d;s++){const nt=e.curves[s];this.curves.push(new Curves[nt.type]().fromJSON(nt))}return this}}class Path extends CurvePath{constructor(e){super(),this.type="Path",this.currentPoint=new Vector2,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let s=1,d=e.length;s<d;s++)this.lineTo(e[s].x,e[s].y);return this}moveTo(e,s){return this.currentPoint.set(e,s),this}lineTo(e,s){const d=new LineCurve(this.currentPoint.clone(),new Vector2(e,s));return this.curves.push(d),this.currentPoint.set(e,s),this}quadraticCurveTo(e,s,d,nt){const o=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(e,s),new Vector2(d,nt));return this.curves.push(o),this.currentPoint.set(d,nt),this}bezierCurveTo(e,s,d,nt,o,ft){const gt=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(e,s),new Vector2(d,nt),new Vector2(o,ft));return this.curves.push(gt),this.currentPoint.set(o,ft),this}splineThru(e){const s=[this.currentPoint.clone()].concat(e),d=new SplineCurve(s);return this.curves.push(d),this.currentPoint.copy(e[e.length-1]),this}arc(e,s,d,nt,o,ft){const gt=this.currentPoint.x,xt=this.currentPoint.y;return this.absarc(e+gt,s+xt,d,nt,o,ft),this}absarc(e,s,d,nt,o,ft){return this.absellipse(e,s,d,d,nt,o,ft),this}ellipse(e,s,d,nt,o,ft,gt,xt){const St=this.currentPoint.x,Tt=this.currentPoint.y;return this.absellipse(e+St,s+Tt,d,nt,o,ft,gt,xt),this}absellipse(e,s,d,nt,o,ft,gt,xt){const St=new EllipseCurve(e,s,d,nt,o,ft,gt,xt);if(this.curves.length>0){const At=St.getPoint(0);At.equals(this.currentPoint)||this.lineTo(At.x,At.y)}this.curves.push(St);const Tt=St.getPoint(1);return this.currentPoint.copy(Tt),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Shape extends Path{constructor(e){super(e),this.uuid=generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles(e){const s=[];for(let d=0,nt=this.holes.length;d<nt;d++)s[d]=this.holes[d].getPoints(e);return s}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let s=0,d=e.holes.length;s<d;s++){const nt=e.holes[s];this.holes.push(nt.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let s=0,d=this.holes.length;s<d;s++){const nt=this.holes[s];e.holes.push(nt.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let s=0,d=e.holes.length;s<d;s++){const nt=e.holes[s];this.holes.push(new Path().fromJSON(nt))}return this}}function earcut(c,e,s=2){const d=e&&e.length,nt=d?e[0]*s:c.length;let o=linkedList(c,0,nt,s,!0);const ft=[];if(!o||o.next===o.prev)return ft;let gt,xt,St;if(d&&(o=eliminateHoles(c,e,o,s)),c.length>80*s){gt=1/0,xt=1/0;let Tt=-1/0,At=-1/0;for(let Ct=s;Ct<nt;Ct+=s){const Rt=c[Ct],yt=c[Ct+1];Rt<gt&&(gt=Rt),yt<xt&&(xt=yt),Rt>Tt&&(Tt=Rt),yt>At&&(At=yt)}St=Math.max(Tt-gt,At-xt),St=St!==0?32767/St:0}return earcutLinked(o,ft,s,gt,xt,St,0),ft}function linkedList(c,e,s,d,nt){let o;if(nt===signedArea(c,e,s,d)>0)for(let ft=e;ft<s;ft+=d)o=insertNode(ft/d|0,c[ft],c[ft+1],o);else for(let ft=s-d;ft>=e;ft-=d)o=insertNode(ft/d|0,c[ft],c[ft+1],o);return o&&equals(o,o.next)&&(removeNode(o),o=o.next),o}function filterPoints(c,e){if(!c)return c;e||(e=c);let s=c,d;do if(d=!1,!s.steiner&&(equals(s,s.next)||area(s.prev,s,s.next)===0)){if(removeNode(s),s=e=s.prev,s===s.next)break;d=!0}else s=s.next;while(d||s!==e);return e}function earcutLinked(c,e,s,d,nt,o,ft){if(!c)return;!ft&&o&&indexCurve(c,d,nt,o);let gt=c;for(;c.prev!==c.next;){const xt=c.prev,St=c.next;if(o?isEarHashed(c,d,nt,o):isEar(c)){e.push(xt.i,c.i,St.i),removeNode(c),c=St.next,gt=St.next;continue}if(c=St,c===gt){ft?ft===1?(c=cureLocalIntersections(filterPoints(c),e),earcutLinked(c,e,s,d,nt,o,2)):ft===2&&splitEarcut(c,e,s,d,nt,o):earcutLinked(filterPoints(c),e,s,d,nt,o,1);break}}}function isEar(c){const e=c.prev,s=c,d=c.next;if(area(e,s,d)>=0)return!1;const nt=e.x,o=s.x,ft=d.x,gt=e.y,xt=s.y,St=d.y,Tt=Math.min(nt,o,ft),At=Math.min(gt,xt,St),Ct=Math.max(nt,o,ft),Rt=Math.max(gt,xt,St);let yt=d.next;for(;yt!==e;){if(yt.x>=Tt&&yt.x<=Ct&&yt.y>=At&&yt.y<=Rt&&pointInTriangleExceptFirst(nt,gt,o,xt,ft,St,yt.x,yt.y)&&area(yt.prev,yt,yt.next)>=0)return!1;yt=yt.next}return!0}function isEarHashed(c,e,s,d){const nt=c.prev,o=c,ft=c.next;if(area(nt,o,ft)>=0)return!1;const gt=nt.x,xt=o.x,St=ft.x,Tt=nt.y,At=o.y,Ct=ft.y,Rt=Math.min(gt,xt,St),yt=Math.min(Tt,At,Ct),Ot=Math.max(gt,xt,St),Nt=Math.max(Tt,At,Ct),bt=zOrder(Rt,yt,e,s,d),Dt=zOrder(Ot,Nt,e,s,d);let Ft=c.prevZ,Ut=c.nextZ;for(;Ft&&Ft.z>=bt&&Ut&&Ut.z<=Dt;){if(Ft.x>=Rt&&Ft.x<=Ot&&Ft.y>=yt&&Ft.y<=Nt&&Ft!==nt&&Ft!==ft&&pointInTriangleExceptFirst(gt,Tt,xt,At,St,Ct,Ft.x,Ft.y)&&area(Ft.prev,Ft,Ft.next)>=0||(Ft=Ft.prevZ,Ut.x>=Rt&&Ut.x<=Ot&&Ut.y>=yt&&Ut.y<=Nt&&Ut!==nt&&Ut!==ft&&pointInTriangleExceptFirst(gt,Tt,xt,At,St,Ct,Ut.x,Ut.y)&&area(Ut.prev,Ut,Ut.next)>=0))return!1;Ut=Ut.nextZ}for(;Ft&&Ft.z>=bt;){if(Ft.x>=Rt&&Ft.x<=Ot&&Ft.y>=yt&&Ft.y<=Nt&&Ft!==nt&&Ft!==ft&&pointInTriangleExceptFirst(gt,Tt,xt,At,St,Ct,Ft.x,Ft.y)&&area(Ft.prev,Ft,Ft.next)>=0)return!1;Ft=Ft.prevZ}for(;Ut&&Ut.z<=Dt;){if(Ut.x>=Rt&&Ut.x<=Ot&&Ut.y>=yt&&Ut.y<=Nt&&Ut!==nt&&Ut!==ft&&pointInTriangleExceptFirst(gt,Tt,xt,At,St,Ct,Ut.x,Ut.y)&&area(Ut.prev,Ut,Ut.next)>=0)return!1;Ut=Ut.nextZ}return!0}function cureLocalIntersections(c,e){let s=c;do{const d=s.prev,nt=s.next.next;!equals(d,nt)&&intersects(d,s,s.next,nt)&&locallyInside(d,nt)&&locallyInside(nt,d)&&(e.push(d.i,s.i,nt.i),removeNode(s),removeNode(s.next),s=c=nt),s=s.next}while(s!==c);return filterPoints(s)}function splitEarcut(c,e,s,d,nt,o){let ft=c;do{let gt=ft.next.next;for(;gt!==ft.prev;){if(ft.i!==gt.i&&isValidDiagonal(ft,gt)){let xt=splitPolygon(ft,gt);ft=filterPoints(ft,ft.next),xt=filterPoints(xt,xt.next),earcutLinked(ft,e,s,d,nt,o,0),earcutLinked(xt,e,s,d,nt,o,0);return}gt=gt.next}ft=ft.next}while(ft!==c)}function eliminateHoles(c,e,s,d){const nt=[];for(let o=0,ft=e.length;o<ft;o++){const gt=e[o]*d,xt=o<ft-1?e[o+1]*d:c.length,St=linkedList(c,gt,xt,d,!1);St===St.next&&(St.steiner=!0),nt.push(getLeftmost(St))}nt.sort(compareXYSlope);for(let o=0;o<nt.length;o++)s=eliminateHole(nt[o],s);return s}function compareXYSlope(c,e){let s=c.x-e.x;if(s===0&&(s=c.y-e.y,s===0)){const d=(c.next.y-c.y)/(c.next.x-c.x),nt=(e.next.y-e.y)/(e.next.x-e.x);s=d-nt}return s}function eliminateHole(c,e){const s=findHoleBridge(c,e);if(!s)return e;const d=splitPolygon(s,c);return filterPoints(d,d.next),filterPoints(s,s.next)}function findHoleBridge(c,e){let s=e;const d=c.x,nt=c.y;let o=-1/0,ft;if(equals(c,s))return s;do{if(equals(c,s.next))return s.next;if(nt<=s.y&&nt>=s.next.y&&s.next.y!==s.y){const At=s.x+(nt-s.y)*(s.next.x-s.x)/(s.next.y-s.y);if(At<=d&&At>o&&(o=At,ft=s.x<s.next.x?s:s.next,At===d))return ft}s=s.next}while(s!==e);if(!ft)return null;const gt=ft,xt=ft.x,St=ft.y;let Tt=1/0;s=ft;do{if(d>=s.x&&s.x>=xt&&d!==s.x&&pointInTriangle(nt<St?d:o,nt,xt,St,nt<St?o:d,nt,s.x,s.y)){const At=Math.abs(nt-s.y)/(d-s.x);locallyInside(s,c)&&(At<Tt||At===Tt&&(s.x>ft.x||s.x===ft.x&&sectorContainsSector(ft,s)))&&(ft=s,Tt=At)}s=s.next}while(s!==gt);return ft}function sectorContainsSector(c,e){return area(c.prev,c,e.prev)<0&&area(e.next,c,c.next)<0}function indexCurve(c,e,s,d){let nt=c;do nt.z===0&&(nt.z=zOrder(nt.x,nt.y,e,s,d)),nt.prevZ=nt.prev,nt.nextZ=nt.next,nt=nt.next;while(nt!==c);nt.prevZ.nextZ=null,nt.prevZ=null,sortLinked(nt)}function sortLinked(c){let e,s=1;do{let d=c,nt;c=null;let o=null;for(e=0;d;){e++;let ft=d,gt=0;for(let St=0;St<s&&(gt++,ft=ft.nextZ,!!ft);St++);let xt=s;for(;gt>0||xt>0&&ft;)gt!==0&&(xt===0||!ft||d.z<=ft.z)?(nt=d,d=d.nextZ,gt--):(nt=ft,ft=ft.nextZ,xt--),o?o.nextZ=nt:c=nt,nt.prevZ=o,o=nt;d=ft}o.nextZ=null,s*=2}while(e>1);return c}function zOrder(c,e,s,d,nt){return c=(c-s)*nt|0,e=(e-d)*nt|0,c=(c|c<<8)&16711935,c=(c|c<<4)&252645135,c=(c|c<<2)&858993459,c=(c|c<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,c|e<<1}function getLeftmost(c){let e=c,s=c;do(e.x<s.x||e.x===s.x&&e.y<s.y)&&(s=e),e=e.next;while(e!==c);return s}function pointInTriangle(c,e,s,d,nt,o,ft,gt){return(nt-ft)*(e-gt)>=(c-ft)*(o-gt)&&(c-ft)*(d-gt)>=(s-ft)*(e-gt)&&(s-ft)*(o-gt)>=(nt-ft)*(d-gt)}function pointInTriangleExceptFirst(c,e,s,d,nt,o,ft,gt){return!(c===ft&&e===gt)&&pointInTriangle(c,e,s,d,nt,o,ft,gt)}function isValidDiagonal(c,e){return c.next.i!==e.i&&c.prev.i!==e.i&&!intersectsPolygon(c,e)&&(locallyInside(c,e)&&locallyInside(e,c)&&middleInside(c,e)&&(area(c.prev,c,e.prev)||area(c,e.prev,e))||equals(c,e)&&area(c.prev,c,c.next)>0&&area(e.prev,e,e.next)>0)}function area(c,e,s){return(e.y-c.y)*(s.x-e.x)-(e.x-c.x)*(s.y-e.y)}function equals(c,e){return c.x===e.x&&c.y===e.y}function intersects(c,e,s,d){const nt=sign(area(c,e,s)),o=sign(area(c,e,d)),ft=sign(area(s,d,c)),gt=sign(area(s,d,e));return!!(nt!==o&&ft!==gt||nt===0&&onSegment(c,s,e)||o===0&&onSegment(c,d,e)||ft===0&&onSegment(s,c,d)||gt===0&&onSegment(s,e,d))}function onSegment(c,e,s){return e.x<=Math.max(c.x,s.x)&&e.x>=Math.min(c.x,s.x)&&e.y<=Math.max(c.y,s.y)&&e.y>=Math.min(c.y,s.y)}function sign(c){return c>0?1:c<0?-1:0}function intersectsPolygon(c,e){let s=c;do{if(s.i!==c.i&&s.next.i!==c.i&&s.i!==e.i&&s.next.i!==e.i&&intersects(s,s.next,c,e))return!0;s=s.next}while(s!==c);return!1}function locallyInside(c,e){return area(c.prev,c,c.next)<0?area(c,e,c.next)>=0&&area(c,c.prev,e)>=0:area(c,e,c.prev)<0||area(c,c.next,e)<0}function middleInside(c,e){let s=c,d=!1;const nt=(c.x+e.x)/2,o=(c.y+e.y)/2;do s.y>o!=s.next.y>o&&s.next.y!==s.y&&nt<(s.next.x-s.x)*(o-s.y)/(s.next.y-s.y)+s.x&&(d=!d),s=s.next;while(s!==c);return d}function splitPolygon(c,e){const s=createNode(c.i,c.x,c.y),d=createNode(e.i,e.x,e.y),nt=c.next,o=e.prev;return c.next=e,e.prev=c,s.next=nt,nt.prev=s,d.next=s,s.prev=d,o.next=d,d.prev=o,d}function insertNode(c,e,s,d){const nt=createNode(c,e,s);return d?(nt.next=d.next,nt.prev=d,d.next.prev=nt,d.next=nt):(nt.prev=nt,nt.next=nt),nt}function removeNode(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function createNode(c,e,s){return{i:c,x:e,y:s,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function signedArea(c,e,s,d){let nt=0;for(let o=e,ft=s-d;o<s;o+=d)nt+=(c[ft]-c[o])*(c[o+1]+c[ft+1]),ft=o;return nt}class Earcut{static triangulate(e,s,d=2){return earcut(e,s,d)}}class ShapeUtils{static area(e){const s=e.length;let d=0;for(let nt=s-1,o=0;o<s;nt=o++)d+=e[nt].x*e[o].y-e[o].x*e[nt].y;return d*.5}static isClockWise(e){return ShapeUtils.area(e)<0}static triangulateShape(e,s){const d=[],nt=[],o=[];removeDupEndPts(e),addContour(d,e);let ft=e.length;s.forEach(removeDupEndPts);for(let xt=0;xt<s.length;xt++)nt.push(ft),ft+=s[xt].length,addContour(d,s[xt]);const gt=Earcut.triangulate(d,nt);for(let xt=0;xt<gt.length;xt+=3)o.push(gt.slice(xt,xt+3));return o}}function removeDupEndPts(c){const e=c.length;e>2&&c[e-1].equals(c[0])&&c.pop()}function addContour(c,e){for(let s=0;s<e.length;s++)c.push(e[s].x),c.push(e[s].y)}class ExtrudeGeometry extends BufferGeometry{constructor(e=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),s={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:s},e=Array.isArray(e)?e:[e];const d=this,nt=[],o=[];for(let gt=0,xt=e.length;gt<xt;gt++){const St=e[gt];ft(St)}this.setAttribute("position",new Float32BufferAttribute(nt,3)),this.setAttribute("uv",new Float32BufferAttribute(o,2)),this.computeVertexNormals();function ft(gt){const xt=[],St=s.curveSegments!==void 0?s.curveSegments:12,Tt=s.steps!==void 0?s.steps:1,At=s.depth!==void 0?s.depth:1;let Ct=s.bevelEnabled!==void 0?s.bevelEnabled:!0,Rt=s.bevelThickness!==void 0?s.bevelThickness:.2,yt=s.bevelSize!==void 0?s.bevelSize:Rt-.1,Ot=s.bevelOffset!==void 0?s.bevelOffset:0,Nt=s.bevelSegments!==void 0?s.bevelSegments:3;const bt=s.extrudePath,Dt=s.UVGenerator!==void 0?s.UVGenerator:WorldUVGenerator;let Ft,Ut=!1,Wt,Gt,Xt,Yt;bt&&(Ft=bt.getSpacedPoints(Tt),Ut=!0,Ct=!1,Wt=bt.computeFrenetFrames(Tt,!1),Gt=new Vector3,Xt=new Vector3,Yt=new Vector3),Ct||(Nt=0,Rt=0,yt=0,Ot=0);const Kt=gt.extractPoints(St);let jt=Kt.shape;const Jt=Kt.holes;if(!ShapeUtils.isClockWise(jt)){jt=jt.reverse();for(let nn=0,nr=Jt.length;nn<nr;nn++){const Kn=Jt[nn];ShapeUtils.isClockWise(Kn)&&(Jt[nn]=Kn.reverse())}}function sn(nn){const Kn=10000000000000001e-36;let Yn=nn[0];for(let Dn=1;Dn<=nn.length;Dn++){const vr=Dn%nn.length,Xn=nn[vr],tn=Xn.x-Yn.x,Qt=Xn.y-Yn.y,hn=tn*tn+Qt*Qt,Pn=Math.max(Math.abs(Xn.x),Math.abs(Xn.y),Math.abs(Yn.x),Math.abs(Yn.y)),Gn=Kn*Pn*Pn;if(hn<=Gn){nn.splice(vr,1),Dn--;continue}Yn=Xn}}sn(jt),Jt.forEach(sn);const wn=Jt.length,Mn=jt;for(let nn=0;nn<wn;nn++){const nr=Jt[nn];jt=jt.concat(nr)}function Tn(nn,nr,Kn){return nr||console.error("THREE.ExtrudeGeometry: vec does not exist"),nn.clone().addScaledVector(nr,Kn)}const kn=jt.length;function rn(nn,nr,Kn){let Yn,Dn,vr;const Xn=nn.x-nr.x,tn=nn.y-nr.y,Qt=Kn.x-nn.x,hn=Kn.y-nn.y,Pn=Xn*Xn+tn*tn,Gn=Xn*hn-tn*Qt;if(Math.abs(Gn)>Number.EPSILON){const yn=Math.sqrt(Pn),Jn=Math.sqrt(Qt*Qt+hn*hn),$n=nr.x-tn/yn,fr=nr.y+Xn/yn,Lr=Kn.x-hn/Jn,Qn=Kn.y+Qt/Jn,tr=((Lr-$n)*hn-(Qn-fr)*Qt)/(Xn*hn-tn*Qt);Yn=$n+Xn*tr-nn.x,Dn=fr+tn*tr-nn.y;const rr=Yn*Yn+Dn*Dn;if(rr<=2)return new Vector2(Yn,Dn);vr=Math.sqrt(rr/2)}else{let yn=!1;Xn>Number.EPSILON?Qt>Number.EPSILON&&(yn=!0):Xn<-Number.EPSILON?Qt<-Number.EPSILON&&(yn=!0):Math.sign(tn)===Math.sign(hn)&&(yn=!0),yn?(Yn=-tn,Dn=Xn,vr=Math.sqrt(Pn)):(Yn=Xn,Dn=tn,vr=Math.sqrt(Pn/2))}return new Vector2(Yn/vr,Dn/vr)}const un=[];for(let nn=0,nr=Mn.length,Kn=nr-1,Yn=nn+1;nn<nr;nn++,Kn++,Yn++)Kn===nr&&(Kn=0),Yn===nr&&(Yn=0),un[nn]=rn(Mn[nn],Mn[Kn],Mn[Yn]);const pn=[];let Rn,zn=un.concat();for(let nn=0,nr=wn;nn<nr;nn++){const Kn=Jt[nn];Rn=[];for(let Yn=0,Dn=Kn.length,vr=Dn-1,Xn=Yn+1;Yn<Dn;Yn++,vr++,Xn++)vr===Dn&&(vr=0),Xn===Dn&&(Xn=0),Rn[Yn]=rn(Kn[Yn],Kn[vr],Kn[Xn]);pn.push(Rn),zn=zn.concat(Rn)}let ir;if(Nt===0)ir=ShapeUtils.triangulateShape(Mn,Jt);else{const nn=[],nr=[];for(let Kn=0;Kn<Nt;Kn++){const Yn=Kn/Nt,Dn=Rt*Math.cos(Yn*Math.PI/2),vr=yt*Math.sin(Yn*Math.PI/2)+Ot;for(let Xn=0,tn=Mn.length;Xn<tn;Xn++){const Qt=Tn(Mn[Xn],un[Xn],vr);kr(Qt.x,Qt.y,-Dn),Yn===0&&nn.push(Qt)}for(let Xn=0,tn=wn;Xn<tn;Xn++){const Qt=Jt[Xn];Rn=pn[Xn];const hn=[];for(let Pn=0,Gn=Qt.length;Pn<Gn;Pn++){const yn=Tn(Qt[Pn],Rn[Pn],vr);kr(yn.x,yn.y,-Dn),Yn===0&&hn.push(yn)}Yn===0&&nr.push(hn)}}ir=ShapeUtils.triangulateShape(nn,nr)}const An=ir.length,jn=yt+Ot;for(let nn=0;nn<kn;nn++){const nr=Ct?Tn(jt[nn],zn[nn],jn):jt[nn];Ut?(Xt.copy(Wt.normals[0]).multiplyScalar(nr.x),Gt.copy(Wt.binormals[0]).multiplyScalar(nr.y),Yt.copy(Ft[0]).add(Xt).add(Gt),kr(Yt.x,Yt.y,Yt.z)):kr(nr.x,nr.y,0)}for(let nn=1;nn<=Tt;nn++)for(let nr=0;nr<kn;nr++){const Kn=Ct?Tn(jt[nr],zn[nr],jn):jt[nr];Ut?(Xt.copy(Wt.normals[nn]).multiplyScalar(Kn.x),Gt.copy(Wt.binormals[nn]).multiplyScalar(Kn.y),Yt.copy(Ft[nn]).add(Xt).add(Gt),kr(Yt.x,Yt.y,Yt.z)):kr(Kn.x,Kn.y,At/Tt*nn)}for(let nn=Nt-1;nn>=0;nn--){const nr=nn/Nt,Kn=Rt*Math.cos(nr*Math.PI/2),Yn=yt*Math.sin(nr*Math.PI/2)+Ot;for(let Dn=0,vr=Mn.length;Dn<vr;Dn++){const Xn=Tn(Mn[Dn],un[Dn],Yn);kr(Xn.x,Xn.y,At+Kn)}for(let Dn=0,vr=Jt.length;Dn<vr;Dn++){const Xn=Jt[Dn];Rn=pn[Dn];for(let tn=0,Qt=Xn.length;tn<Qt;tn++){const hn=Tn(Xn[tn],Rn[tn],Yn);Ut?kr(hn.x,hn.y+Ft[Tt-1].y,Ft[Tt-1].x+Kn):kr(hn.x,hn.y,At+Kn)}}}or(),er();function or(){const nn=nt.length/3;if(Ct){let nr=0,Kn=kn*nr;for(let Yn=0;Yn<An;Yn++){const Dn=ir[Yn];dr(Dn[2]+Kn,Dn[1]+Kn,Dn[0]+Kn)}nr=Tt+Nt*2,Kn=kn*nr;for(let Yn=0;Yn<An;Yn++){const Dn=ir[Yn];dr(Dn[0]+Kn,Dn[1]+Kn,Dn[2]+Kn)}}else{for(let nr=0;nr<An;nr++){const Kn=ir[nr];dr(Kn[2],Kn[1],Kn[0])}for(let nr=0;nr<An;nr++){const Kn=ir[nr];dr(Kn[0]+kn*Tt,Kn[1]+kn*Tt,Kn[2]+kn*Tt)}}d.addGroup(nn,nt.length/3-nn,0)}function er(){const nn=nt.length/3;let nr=0;gr(Mn,nr),nr+=Mn.length;for(let Kn=0,Yn=Jt.length;Kn<Yn;Kn++){const Dn=Jt[Kn];gr(Dn,nr),nr+=Dn.length}d.addGroup(nn,nt.length/3-nn,1)}function gr(nn,nr){let Kn=nn.length;for(;--Kn>=0;){const Yn=Kn;let Dn=Kn-1;Dn<0&&(Dn=nn.length-1);for(let vr=0,Xn=Tt+Nt*2;vr<Xn;vr++){const tn=kn*vr,Qt=kn*(vr+1),hn=nr+Yn+tn,Pn=nr+Dn+tn,Gn=nr+Dn+Qt,yn=nr+Yn+Qt;mr(hn,Pn,Gn,yn)}}}function kr(nn,nr,Kn){xt.push(nn),xt.push(nr),xt.push(Kn)}function dr(nn,nr,Kn){It(nn),It(nr),It(Kn);const Yn=nt.length/3,Dn=Dt.generateTopUV(d,nt,Yn-3,Yn-2,Yn-1);Zn(Dn[0]),Zn(Dn[1]),Zn(Dn[2])}function mr(nn,nr,Kn,Yn){It(nn),It(nr),It(Yn),It(nr),It(Kn),It(Yn);const Dn=nt.length/3,vr=Dt.generateSideWallUV(d,nt,Dn-6,Dn-3,Dn-2,Dn-1);Zn(vr[0]),Zn(vr[1]),Zn(vr[3]),Zn(vr[1]),Zn(vr[2]),Zn(vr[3])}function It(nn){nt.push(xt[nn*3+0]),nt.push(xt[nn*3+1]),nt.push(xt[nn*3+2])}function Zn(nn){o.push(nn.x),o.push(nn.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),s=this.parameters.shapes,d=this.parameters.options;return toJSON$1(s,d,e)}static fromJSON(e,s){const d=[];for(let o=0,ft=e.shapes.length;o<ft;o++){const gt=s[e.shapes[o]];d.push(gt)}const nt=e.options.extrudePath;return nt!==void 0&&(e.options.extrudePath=new Curves[nt.type]().fromJSON(nt)),new ExtrudeGeometry(d,e.options)}}const WorldUVGenerator={generateTopUV:function(c,e,s,d,nt){const o=e[s*3],ft=e[s*3+1],gt=e[d*3],xt=e[d*3+1],St=e[nt*3],Tt=e[nt*3+1];return[new Vector2(o,ft),new Vector2(gt,xt),new Vector2(St,Tt)]},generateSideWallUV:function(c,e,s,d,nt,o){const ft=e[s*3],gt=e[s*3+1],xt=e[s*3+2],St=e[d*3],Tt=e[d*3+1],At=e[d*3+2],Ct=e[nt*3],Rt=e[nt*3+1],yt=e[nt*3+2],Ot=e[o*3],Nt=e[o*3+1],bt=e[o*3+2];return Math.abs(gt-Tt)<Math.abs(ft-St)?[new Vector2(ft,1-xt),new Vector2(St,1-At),new Vector2(Ct,1-yt),new Vector2(Ot,1-bt)]:[new Vector2(gt,1-xt),new Vector2(Tt,1-At),new Vector2(Rt,1-yt),new Vector2(Nt,1-bt)]}};function toJSON$1(c,e,s){if(s.shapes=[],Array.isArray(c))for(let d=0,nt=c.length;d<nt;d++){const o=c[d];s.shapes.push(o.uuid)}else s.shapes.push(c.uuid);return s.options=Object.assign({},e),e.extrudePath!==void 0&&(s.options.extrudePath=e.extrudePath.toJSON()),s}class IcosahedronGeometry extends PolyhedronGeometry{constructor(e=1,s=0){const d=(1+Math.sqrt(5))/2,nt=[-1,d,0,1,d,0,-1,-d,0,1,-d,0,0,-1,d,0,1,d,0,-1,-d,0,1,-d,d,0,-1,d,0,1,-d,0,-1,-d,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(nt,o,e,s),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:s}}static fromJSON(e){return new IcosahedronGeometry(e.radius,e.detail)}}class LatheGeometry extends BufferGeometry{constructor(e=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],s=12,d=0,nt=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:s,phiStart:d,phiLength:nt},s=Math.floor(s),nt=clamp(nt,0,Math.PI*2);const o=[],ft=[],gt=[],xt=[],St=[],Tt=1/s,At=new Vector3,Ct=new Vector2,Rt=new Vector3,yt=new Vector3,Ot=new Vector3;let Nt=0,bt=0;for(let Dt=0;Dt<=e.length-1;Dt++)switch(Dt){case 0:Nt=e[Dt+1].x-e[Dt].x,bt=e[Dt+1].y-e[Dt].y,Rt.x=bt*1,Rt.y=-Nt,Rt.z=bt*0,Ot.copy(Rt),Rt.normalize(),xt.push(Rt.x,Rt.y,Rt.z);break;case e.length-1:xt.push(Ot.x,Ot.y,Ot.z);break;default:Nt=e[Dt+1].x-e[Dt].x,bt=e[Dt+1].y-e[Dt].y,Rt.x=bt*1,Rt.y=-Nt,Rt.z=bt*0,yt.copy(Rt),Rt.x+=Ot.x,Rt.y+=Ot.y,Rt.z+=Ot.z,Rt.normalize(),xt.push(Rt.x,Rt.y,Rt.z),Ot.copy(yt)}for(let Dt=0;Dt<=s;Dt++){const Ft=d+Dt*Tt*nt,Ut=Math.sin(Ft),Wt=Math.cos(Ft);for(let Gt=0;Gt<=e.length-1;Gt++){At.x=e[Gt].x*Ut,At.y=e[Gt].y,At.z=e[Gt].x*Wt,ft.push(At.x,At.y,At.z),Ct.x=Dt/s,Ct.y=Gt/(e.length-1),gt.push(Ct.x,Ct.y);const Xt=xt[3*Gt+0]*Ut,Yt=xt[3*Gt+1],Kt=xt[3*Gt+0]*Wt;St.push(Xt,Yt,Kt)}}for(let Dt=0;Dt<s;Dt++)for(let Ft=0;Ft<e.length-1;Ft++){const Ut=Ft+Dt*e.length,Wt=Ut,Gt=Ut+e.length,Xt=Ut+e.length+1,Yt=Ut+1;o.push(Wt,Gt,Yt),o.push(Xt,Yt,Gt)}this.setIndex(o),this.setAttribute("position",new Float32BufferAttribute(ft,3)),this.setAttribute("uv",new Float32BufferAttribute(gt,2)),this.setAttribute("normal",new Float32BufferAttribute(St,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new LatheGeometry(e.points,e.segments,e.phiStart,e.phiLength)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(e=1,s=0){const d=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],nt=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(d,nt,e,s),this.type="OctahedronGeometry",this.parameters={radius:e,detail:s}}static fromJSON(e){return new OctahedronGeometry(e.radius,e.detail)}}class PlaneGeometry extends BufferGeometry{constructor(e=1,s=1,d=1,nt=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:s,widthSegments:d,heightSegments:nt};const o=e/2,ft=s/2,gt=Math.floor(d),xt=Math.floor(nt),St=gt+1,Tt=xt+1,At=e/gt,Ct=s/xt,Rt=[],yt=[],Ot=[],Nt=[];for(let bt=0;bt<Tt;bt++){const Dt=bt*Ct-ft;for(let Ft=0;Ft<St;Ft++){const Ut=Ft*At-o;yt.push(Ut,-Dt,0),Ot.push(0,0,1),Nt.push(Ft/gt),Nt.push(1-bt/xt)}}for(let bt=0;bt<xt;bt++)for(let Dt=0;Dt<gt;Dt++){const Ft=Dt+St*bt,Ut=Dt+St*(bt+1),Wt=Dt+1+St*(bt+1),Gt=Dt+1+St*bt;Rt.push(Ft,Ut,Gt),Rt.push(Ut,Wt,Gt)}this.setIndex(Rt),this.setAttribute("position",new Float32BufferAttribute(yt,3)),this.setAttribute("normal",new Float32BufferAttribute(Ot,3)),this.setAttribute("uv",new Float32BufferAttribute(Nt,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new PlaneGeometry(e.width,e.height,e.widthSegments,e.heightSegments)}}class RingGeometry extends BufferGeometry{constructor(e=.5,s=1,d=32,nt=1,o=0,ft=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:s,thetaSegments:d,phiSegments:nt,thetaStart:o,thetaLength:ft},d=Math.max(3,d),nt=Math.max(1,nt);const gt=[],xt=[],St=[],Tt=[];let At=e;const Ct=(s-e)/nt,Rt=new Vector3,yt=new Vector2;for(let Ot=0;Ot<=nt;Ot++){for(let Nt=0;Nt<=d;Nt++){const bt=o+Nt/d*ft;Rt.x=At*Math.cos(bt),Rt.y=At*Math.sin(bt),xt.push(Rt.x,Rt.y,Rt.z),St.push(0,0,1),yt.x=(Rt.x/s+1)/2,yt.y=(Rt.y/s+1)/2,Tt.push(yt.x,yt.y)}At+=Ct}for(let Ot=0;Ot<nt;Ot++){const Nt=Ot*(d+1);for(let bt=0;bt<d;bt++){const Dt=bt+Nt,Ft=Dt,Ut=Dt+d+1,Wt=Dt+d+2,Gt=Dt+1;gt.push(Ft,Ut,Gt),gt.push(Ut,Wt,Gt)}}this.setIndex(gt),this.setAttribute("position",new Float32BufferAttribute(xt,3)),this.setAttribute("normal",new Float32BufferAttribute(St,3)),this.setAttribute("uv",new Float32BufferAttribute(Tt,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new RingGeometry(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(e=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),s=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:s};const d=[],nt=[],o=[],ft=[];let gt=0,xt=0;if(Array.isArray(e)===!1)St(e);else for(let Tt=0;Tt<e.length;Tt++)St(e[Tt]),this.addGroup(gt,xt,Tt),gt+=xt,xt=0;this.setIndex(d),this.setAttribute("position",new Float32BufferAttribute(nt,3)),this.setAttribute("normal",new Float32BufferAttribute(o,3)),this.setAttribute("uv",new Float32BufferAttribute(ft,2));function St(Tt){const At=nt.length/3,Ct=Tt.extractPoints(s);let Rt=Ct.shape;const yt=Ct.holes;ShapeUtils.isClockWise(Rt)===!1&&(Rt=Rt.reverse());for(let Nt=0,bt=yt.length;Nt<bt;Nt++){const Dt=yt[Nt];ShapeUtils.isClockWise(Dt)===!0&&(yt[Nt]=Dt.reverse())}const Ot=ShapeUtils.triangulateShape(Rt,yt);for(let Nt=0,bt=yt.length;Nt<bt;Nt++){const Dt=yt[Nt];Rt=Rt.concat(Dt)}for(let Nt=0,bt=Rt.length;Nt<bt;Nt++){const Dt=Rt[Nt];nt.push(Dt.x,Dt.y,0),o.push(0,0,1),ft.push(Dt.x,Dt.y)}for(let Nt=0,bt=Ot.length;Nt<bt;Nt++){const Dt=Ot[Nt],Ft=Dt[0]+At,Ut=Dt[1]+At,Wt=Dt[2]+At;d.push(Ft,Ut,Wt),xt+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),s=this.parameters.shapes;return toJSON(s,e)}static fromJSON(e,s){const d=[];for(let nt=0,o=e.shapes.length;nt<o;nt++){const ft=s[e.shapes[nt]];d.push(ft)}return new ShapeGeometry(d,e.curveSegments)}}function toJSON(c,e){if(e.shapes=[],Array.isArray(c))for(let s=0,d=c.length;s<d;s++){const nt=c[s];e.shapes.push(nt.uuid)}else e.shapes.push(c.uuid);return e}class SphereGeometry extends BufferGeometry{constructor(e=1,s=32,d=16,nt=0,o=Math.PI*2,ft=0,gt=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:s,heightSegments:d,phiStart:nt,phiLength:o,thetaStart:ft,thetaLength:gt},s=Math.max(3,Math.floor(s)),d=Math.max(2,Math.floor(d));const xt=Math.min(ft+gt,Math.PI);let St=0;const Tt=[],At=new Vector3,Ct=new Vector3,Rt=[],yt=[],Ot=[],Nt=[];for(let bt=0;bt<=d;bt++){const Dt=[],Ft=bt/d;let Ut=0;bt===0&&ft===0?Ut=.5/s:bt===d&&xt===Math.PI&&(Ut=-.5/s);for(let Wt=0;Wt<=s;Wt++){const Gt=Wt/s;At.x=-e*Math.cos(nt+Gt*o)*Math.sin(ft+Ft*gt),At.y=e*Math.cos(ft+Ft*gt),At.z=e*Math.sin(nt+Gt*o)*Math.sin(ft+Ft*gt),yt.push(At.x,At.y,At.z),Ct.copy(At).normalize(),Ot.push(Ct.x,Ct.y,Ct.z),Nt.push(Gt+Ut,1-Ft),Dt.push(St++)}Tt.push(Dt)}for(let bt=0;bt<d;bt++)for(let Dt=0;Dt<s;Dt++){const Ft=Tt[bt][Dt+1],Ut=Tt[bt][Dt],Wt=Tt[bt+1][Dt],Gt=Tt[bt+1][Dt+1];(bt!==0||ft>0)&&Rt.push(Ft,Ut,Gt),(bt!==d-1||xt<Math.PI)&&Rt.push(Ut,Wt,Gt)}this.setIndex(Rt),this.setAttribute("position",new Float32BufferAttribute(yt,3)),this.setAttribute("normal",new Float32BufferAttribute(Ot,3)),this.setAttribute("uv",new Float32BufferAttribute(Nt,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new SphereGeometry(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(e=1,s=0){const d=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],nt=[2,1,0,0,3,2,1,3,0,2,3,1];super(d,nt,e,s),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:s}}static fromJSON(e){return new TetrahedronGeometry(e.radius,e.detail)}}class TorusGeometry extends BufferGeometry{constructor(e=1,s=.4,d=12,nt=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:s,radialSegments:d,tubularSegments:nt,arc:o},d=Math.floor(d),nt=Math.floor(nt);const ft=[],gt=[],xt=[],St=[],Tt=new Vector3,At=new Vector3,Ct=new Vector3;for(let Rt=0;Rt<=d;Rt++)for(let yt=0;yt<=nt;yt++){const Ot=yt/nt*o,Nt=Rt/d*Math.PI*2;At.x=(e+s*Math.cos(Nt))*Math.cos(Ot),At.y=(e+s*Math.cos(Nt))*Math.sin(Ot),At.z=s*Math.sin(Nt),gt.push(At.x,At.y,At.z),Tt.x=e*Math.cos(Ot),Tt.y=e*Math.sin(Ot),Ct.subVectors(At,Tt).normalize(),xt.push(Ct.x,Ct.y,Ct.z),St.push(yt/nt),St.push(Rt/d)}for(let Rt=1;Rt<=d;Rt++)for(let yt=1;yt<=nt;yt++){const Ot=(nt+1)*Rt+yt-1,Nt=(nt+1)*(Rt-1)+yt-1,bt=(nt+1)*(Rt-1)+yt,Dt=(nt+1)*Rt+yt;ft.push(Ot,Nt,Dt),ft.push(Nt,bt,Dt)}this.setIndex(ft),this.setAttribute("position",new Float32BufferAttribute(gt,3)),this.setAttribute("normal",new Float32BufferAttribute(xt,3)),this.setAttribute("uv",new Float32BufferAttribute(St,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new TorusGeometry(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(e=1,s=.4,d=64,nt=8,o=2,ft=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:s,tubularSegments:d,radialSegments:nt,p:o,q:ft},d=Math.floor(d),nt=Math.floor(nt);const gt=[],xt=[],St=[],Tt=[],At=new Vector3,Ct=new Vector3,Rt=new Vector3,yt=new Vector3,Ot=new Vector3,Nt=new Vector3,bt=new Vector3;for(let Ft=0;Ft<=d;++Ft){const Ut=Ft/d*o*Math.PI*2;Dt(Ut,o,ft,e,Rt),Dt(Ut+.01,o,ft,e,yt),Nt.subVectors(yt,Rt),bt.addVectors(yt,Rt),Ot.crossVectors(Nt,bt),bt.crossVectors(Ot,Nt),Ot.normalize(),bt.normalize();for(let Wt=0;Wt<=nt;++Wt){const Gt=Wt/nt*Math.PI*2,Xt=-s*Math.cos(Gt),Yt=s*Math.sin(Gt);At.x=Rt.x+(Xt*bt.x+Yt*Ot.x),At.y=Rt.y+(Xt*bt.y+Yt*Ot.y),At.z=Rt.z+(Xt*bt.z+Yt*Ot.z),xt.push(At.x,At.y,At.z),Ct.subVectors(At,Rt).normalize(),St.push(Ct.x,Ct.y,Ct.z),Tt.push(Ft/d),Tt.push(Wt/nt)}}for(let Ft=1;Ft<=d;Ft++)for(let Ut=1;Ut<=nt;Ut++){const Wt=(nt+1)*(Ft-1)+(Ut-1),Gt=(nt+1)*Ft+(Ut-1),Xt=(nt+1)*Ft+Ut,Yt=(nt+1)*(Ft-1)+Ut;gt.push(Wt,Gt,Yt),gt.push(Gt,Xt,Yt)}this.setIndex(gt),this.setAttribute("position",new Float32BufferAttribute(xt,3)),this.setAttribute("normal",new Float32BufferAttribute(St,3)),this.setAttribute("uv",new Float32BufferAttribute(Tt,2));function Dt(Ft,Ut,Wt,Gt,Xt){const Yt=Math.cos(Ft),Kt=Math.sin(Ft),jt=Wt/Ut*Ft,Jt=Math.cos(jt);Xt.x=Gt*(2+Jt)*.5*Yt,Xt.y=Gt*(2+Jt)*Kt*.5,Xt.z=Gt*Math.sin(jt)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new TorusKnotGeometry(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class TubeGeometry extends BufferGeometry{constructor(e=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),s=64,d=1,nt=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:s,radius:d,radialSegments:nt,closed:o};const ft=e.computeFrenetFrames(s,o);this.tangents=ft.tangents,this.normals=ft.normals,this.binormals=ft.binormals;const gt=new Vector3,xt=new Vector3,St=new Vector2;let Tt=new Vector3;const At=[],Ct=[],Rt=[],yt=[];Ot(),this.setIndex(yt),this.setAttribute("position",new Float32BufferAttribute(At,3)),this.setAttribute("normal",new Float32BufferAttribute(Ct,3)),this.setAttribute("uv",new Float32BufferAttribute(Rt,2));function Ot(){for(let Ft=0;Ft<s;Ft++)Nt(Ft);Nt(o===!1?s:0),Dt(),bt()}function Nt(Ft){Tt=e.getPointAt(Ft/s,Tt);const Ut=ft.normals[Ft],Wt=ft.binormals[Ft];for(let Gt=0;Gt<=nt;Gt++){const Xt=Gt/nt*Math.PI*2,Yt=Math.sin(Xt),Kt=-Math.cos(Xt);xt.x=Kt*Ut.x+Yt*Wt.x,xt.y=Kt*Ut.y+Yt*Wt.y,xt.z=Kt*Ut.z+Yt*Wt.z,xt.normalize(),Ct.push(xt.x,xt.y,xt.z),gt.x=Tt.x+d*xt.x,gt.y=Tt.y+d*xt.y,gt.z=Tt.z+d*xt.z,At.push(gt.x,gt.y,gt.z)}}function bt(){for(let Ft=1;Ft<=s;Ft++)for(let Ut=1;Ut<=nt;Ut++){const Wt=(nt+1)*(Ft-1)+(Ut-1),Gt=(nt+1)*Ft+(Ut-1),Xt=(nt+1)*Ft+Ut,Yt=(nt+1)*(Ft-1)+Ut;yt.push(Wt,Gt,Yt),yt.push(Gt,Xt,Yt)}}function Dt(){for(let Ft=0;Ft<=s;Ft++)for(let Ut=0;Ut<=nt;Ut++)St.x=Ft/s,St.y=Ut/nt,Rt.push(St.x,St.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new TubeGeometry(new Curves[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class WireframeGeometry extends BufferGeometry{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const s=[],d=new Set,nt=new Vector3,o=new Vector3;if(e.index!==null){const ft=e.attributes.position,gt=e.index;let xt=e.groups;xt.length===0&&(xt=[{start:0,count:gt.count,materialIndex:0}]);for(let St=0,Tt=xt.length;St<Tt;++St){const At=xt[St],Ct=At.start,Rt=At.count;for(let yt=Ct,Ot=Ct+Rt;yt<Ot;yt+=3)for(let Nt=0;Nt<3;Nt++){const bt=gt.getX(yt+Nt),Dt=gt.getX(yt+(Nt+1)%3);nt.fromBufferAttribute(ft,bt),o.fromBufferAttribute(ft,Dt),isUniqueEdge(nt,o,d)===!0&&(s.push(nt.x,nt.y,nt.z),s.push(o.x,o.y,o.z))}}}else{const ft=e.attributes.position;for(let gt=0,xt=ft.count/3;gt<xt;gt++)for(let St=0;St<3;St++){const Tt=3*gt+St,At=3*gt+(St+1)%3;nt.fromBufferAttribute(ft,Tt),o.fromBufferAttribute(ft,At),isUniqueEdge(nt,o,d)===!0&&(s.push(nt.x,nt.y,nt.z),s.push(o.x,o.y,o.z))}}this.setAttribute("position",new Float32BufferAttribute(s,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function isUniqueEdge(c,e,s){const d=`${c.x},${c.y},${c.z}-${e.x},${e.y},${e.z}`,nt=`${e.x},${e.y},${e.z}-${c.x},${c.y},${c.z}`;return s.has(d)===!0||s.has(nt)===!0?!1:(s.add(d),s.add(nt),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(s){this.ior=(1+.4*s)/(1-.4*s)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MeshToonMaterial extends Material{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class MeshNormalMaterial extends Material{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class MeshLambertMaterial extends Material{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MeshDepthMaterial extends Material{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class MeshMatcapMaterial extends Material{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function convertArray(c,e){return!c||c.constructor===e?c:typeof e.BYTES_PER_ELEMENT=="number"?new e(c):Array.prototype.slice.call(c)}function isTypedArray(c){return ArrayBuffer.isView(c)&&!(c instanceof DataView)}function getKeyframeOrder(c){function e(nt,o){return c[nt]-c[o]}const s=c.length,d=new Array(s);for(let nt=0;nt!==s;++nt)d[nt]=nt;return d.sort(e),d}function sortedArray(c,e,s){const d=c.length,nt=new c.constructor(d);for(let o=0,ft=0;ft!==d;++o){const gt=s[o]*e;for(let xt=0;xt!==e;++xt)nt[ft++]=c[gt+xt]}return nt}function flattenJSON(c,e,s,d){let nt=1,o=c[0];for(;o!==void 0&&o[d]===void 0;)o=c[nt++];if(o===void 0)return;let ft=o[d];if(ft!==void 0)if(Array.isArray(ft))do ft=o[d],ft!==void 0&&(e.push(o.time),s.push(...ft)),o=c[nt++];while(o!==void 0);else if(ft.toArray!==void 0)do ft=o[d],ft!==void 0&&(e.push(o.time),ft.toArray(s,s.length)),o=c[nt++];while(o!==void 0);else do ft=o[d],ft!==void 0&&(e.push(o.time),s.push(ft)),o=c[nt++];while(o!==void 0)}function subclip(c,e,s,d,nt=30){const o=c.clone();o.name=e;const ft=[];for(let xt=0;xt<o.tracks.length;++xt){const St=o.tracks[xt],Tt=St.getValueSize(),At=[],Ct=[];for(let Rt=0;Rt<St.times.length;++Rt){const yt=St.times[Rt]*nt;if(!(yt<s||yt>=d)){At.push(St.times[Rt]);for(let Ot=0;Ot<Tt;++Ot)Ct.push(St.values[Rt*Tt+Ot])}}At.length!==0&&(St.times=convertArray(At,St.times.constructor),St.values=convertArray(Ct,St.values.constructor),ft.push(St))}o.tracks=ft;let gt=1/0;for(let xt=0;xt<o.tracks.length;++xt)gt>o.tracks[xt].times[0]&&(gt=o.tracks[xt].times[0]);for(let xt=0;xt<o.tracks.length;++xt)o.tracks[xt].shift(-1*gt);return o.resetDuration(),o}function makeClipAdditive(c,e=0,s=c,d=30){d<=0&&(d=30);const nt=s.tracks.length,o=e/d;for(let ft=0;ft<nt;++ft){const gt=s.tracks[ft],xt=gt.ValueTypeName;if(xt==="bool"||xt==="string")continue;const St=c.tracks.find(function(bt){return bt.name===gt.name&&bt.ValueTypeName===xt});if(St===void 0)continue;let Tt=0;const At=gt.getValueSize();gt.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(Tt=At/3);let Ct=0;const Rt=St.getValueSize();St.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(Ct=Rt/3);const yt=gt.times.length-1;let Ot;if(o<=gt.times[0]){const bt=Tt,Dt=At-Tt;Ot=gt.values.slice(bt,Dt)}else if(o>=gt.times[yt]){const bt=yt*At+Tt,Dt=bt+At-Tt;Ot=gt.values.slice(bt,Dt)}else{const bt=gt.createInterpolant(),Dt=Tt,Ft=At-Tt;bt.evaluate(o),Ot=bt.resultBuffer.slice(Dt,Ft)}xt==="quaternion"&&new Quaternion().fromArray(Ot).normalize().conjugate().toArray(Ot);const Nt=St.times.length;for(let bt=0;bt<Nt;++bt){const Dt=bt*Rt+Ct;if(xt==="quaternion")Quaternion.multiplyQuaternionsFlat(St.values,Dt,Ot,0,St.values,Dt);else{const Ft=Rt-Ct*2;for(let Ut=0;Ut<Ft;++Ut)St.values[Dt+Ut]-=Ot[Ut]}}}return c.blendMode=AdditiveAnimationBlendMode,c}class AnimationUtils{static convertArray(e,s){return convertArray(e,s)}static isTypedArray(e){return isTypedArray(e)}static getKeyframeOrder(e){return getKeyframeOrder(e)}static sortedArray(e,s,d){return sortedArray(e,s,d)}static flattenJSON(e,s,d,nt){flattenJSON(e,s,d,nt)}static subclip(e,s,d,nt,o=30){return subclip(e,s,d,nt,o)}static makeClipAdditive(e,s=0,d=e,nt=30){return makeClipAdditive(e,s,d,nt)}}class Interpolant{constructor(e,s,d,nt){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=nt!==void 0?nt:new s.constructor(d),this.sampleValues=s,this.valueSize=d,this.settings=null,this.DefaultSettings_={}}evaluate(e){const s=this.parameterPositions;let d=this._cachedIndex,nt=s[d],o=s[d-1];e:{t:{let ft;n:{r:if(!(e<nt)){for(let gt=d+2;;){if(nt===void 0){if(e<o)break r;return d=s.length,this._cachedIndex=d,this.copySampleValue_(d-1)}if(d===gt)break;if(o=nt,nt=s[++d],e<nt)break t}ft=s.length;break n}if(!(e>=o)){const gt=s[1];e<gt&&(d=2,o=gt);for(let xt=d-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(d===xt)break;if(nt=o,o=s[--d-1],e>=o)break t}ft=d,d=0;break n}break e}for(;d<ft;){const gt=d+ft>>>1;e<s[gt]?ft=gt:d=gt+1}if(nt=s[d],o=s[d-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(nt===void 0)return d=s.length,this._cachedIndex=d,this.copySampleValue_(d-1)}this._cachedIndex=d,this.intervalChanged_(d,o,nt)}return this.interpolate_(d,o,e,nt)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const s=this.resultBuffer,d=this.sampleValues,nt=this.valueSize,o=e*nt;for(let ft=0;ft!==nt;++ft)s[ft]=d[o+ft];return s}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(e,s,d,nt){super(e,s,d,nt),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(e,s,d){const nt=this.parameterPositions;let o=e-2,ft=e+1,gt=nt[o],xt=nt[ft];if(gt===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:o=e,gt=2*s-d;break;case WrapAroundEnding:o=nt.length-2,gt=s+nt[o]-nt[o+1];break;default:o=e,gt=d}if(xt===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:ft=e,xt=2*d-s;break;case WrapAroundEnding:ft=1,xt=d+nt[1]-nt[0];break;default:ft=e-1,xt=s}const St=(d-s)*.5,Tt=this.valueSize;this._weightPrev=St/(s-gt),this._weightNext=St/(xt-d),this._offsetPrev=o*Tt,this._offsetNext=ft*Tt}interpolate_(e,s,d,nt){const o=this.resultBuffer,ft=this.sampleValues,gt=this.valueSize,xt=e*gt,St=xt-gt,Tt=this._offsetPrev,At=this._offsetNext,Ct=this._weightPrev,Rt=this._weightNext,yt=(d-s)/(nt-s),Ot=yt*yt,Nt=Ot*yt,bt=-Ct*Nt+2*Ct*Ot-Ct*yt,Dt=(1+Ct)*Nt+(-1.5-2*Ct)*Ot+(-.5+Ct)*yt+1,Ft=(-1-Rt)*Nt+(1.5+Rt)*Ot+.5*yt,Ut=Rt*Nt-Rt*Ot;for(let Wt=0;Wt!==gt;++Wt)o[Wt]=bt*ft[Tt+Wt]+Dt*ft[St+Wt]+Ft*ft[xt+Wt]+Ut*ft[At+Wt];return o}}class LinearInterpolant extends Interpolant{constructor(e,s,d,nt){super(e,s,d,nt)}interpolate_(e,s,d,nt){const o=this.resultBuffer,ft=this.sampleValues,gt=this.valueSize,xt=e*gt,St=xt-gt,Tt=(d-s)/(nt-s),At=1-Tt;for(let Ct=0;Ct!==gt;++Ct)o[Ct]=ft[St+Ct]*At+ft[xt+Ct]*Tt;return o}}class DiscreteInterpolant extends Interpolant{constructor(e,s,d,nt){super(e,s,d,nt)}interpolate_(e){return this.copySampleValue_(e-1)}}class KeyframeTrack{constructor(e,s,d,nt){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(s===void 0||s.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=convertArray(s,this.TimeBufferType),this.values=convertArray(d,this.ValueBufferType),this.setInterpolation(nt||this.DefaultInterpolation)}static toJSON(e){const s=e.constructor;let d;if(s.toJSON!==this.toJSON)d=s.toJSON(e);else{d={name:e.name,times:convertArray(e.times,Array),values:convertArray(e.values,Array)};const nt=e.getInterpolation();nt!==e.DefaultInterpolation&&(d.interpolation=nt)}return d.type=e.ValueTypeName,d}InterpolantFactoryMethodDiscrete(e){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new LinearInterpolant(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new CubicInterpolant(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let s;switch(e){case InterpolateDiscrete:s=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:s=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:s=this.InterpolantFactoryMethodSmooth;break}if(s===void 0){const d="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(d);return console.warn("THREE.KeyframeTrack:",d),this}return this.createInterpolant=s,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const s=this.times;for(let d=0,nt=s.length;d!==nt;++d)s[d]+=e}return this}scale(e){if(e!==1){const s=this.times;for(let d=0,nt=s.length;d!==nt;++d)s[d]*=e}return this}trim(e,s){const d=this.times,nt=d.length;let o=0,ft=nt-1;for(;o!==nt&&d[o]<e;)++o;for(;ft!==-1&&d[ft]>s;)--ft;if(++ft,o!==0||ft!==nt){o>=ft&&(ft=Math.max(ft,1),o=ft-1);const gt=this.getValueSize();this.times=d.slice(o,ft),this.values=this.values.slice(o*gt,ft*gt)}return this}validate(){let e=!0;const s=this.getValueSize();s-Math.floor(s)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const d=this.times,nt=this.values,o=d.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let ft=null;for(let gt=0;gt!==o;gt++){const xt=d[gt];if(typeof xt=="number"&&isNaN(xt)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,gt,xt),e=!1;break}if(ft!==null&&ft>xt){console.error("THREE.KeyframeTrack: Out of order keys.",this,gt,xt,ft),e=!1;break}ft=xt}if(nt!==void 0&&isTypedArray(nt))for(let gt=0,xt=nt.length;gt!==xt;++gt){const St=nt[gt];if(isNaN(St)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,gt,St),e=!1;break}}return e}optimize(){const e=this.times.slice(),s=this.values.slice(),d=this.getValueSize(),nt=this.getInterpolation()===InterpolateSmooth,o=e.length-1;let ft=1;for(let gt=1;gt<o;++gt){let xt=!1;const St=e[gt],Tt=e[gt+1];if(St!==Tt&&(gt!==1||St!==e[0]))if(nt)xt=!0;else{const At=gt*d,Ct=At-d,Rt=At+d;for(let yt=0;yt!==d;++yt){const Ot=s[At+yt];if(Ot!==s[Ct+yt]||Ot!==s[Rt+yt]){xt=!0;break}}}if(xt){if(gt!==ft){e[ft]=e[gt];const At=gt*d,Ct=ft*d;for(let Rt=0;Rt!==d;++Rt)s[Ct+Rt]=s[At+Rt]}++ft}}if(o>0){e[ft]=e[o];for(let gt=o*d,xt=ft*d,St=0;St!==d;++St)s[xt+St]=s[gt+St];++ft}return ft!==e.length?(this.times=e.slice(0,ft),this.values=s.slice(0,ft*d)):(this.times=e,this.values=s),this}clone(){const e=this.times.slice(),s=this.values.slice(),d=this.constructor,nt=new d(this.name,e,s);return nt.createInterpolant=this.createInterpolant,nt}}KeyframeTrack.prototype.ValueTypeName="";KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{constructor(e,s,d){super(e,s,d)}}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{constructor(e,s,d,nt){super(e,s,d,nt)}}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{constructor(e,s,d,nt){super(e,s,d,nt)}}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(e,s,d,nt){super(e,s,d,nt)}interpolate_(e,s,d,nt){const o=this.resultBuffer,ft=this.sampleValues,gt=this.valueSize,xt=(d-s)/(nt-s);let St=e*gt;for(let Tt=St+gt;St!==Tt;St+=4)Quaternion.slerpFlat(o,0,ft,St-gt,ft,St,xt);return o}}class QuaternionKeyframeTrack extends KeyframeTrack{constructor(e,s,d,nt){super(e,s,d,nt)}InterpolantFactoryMethodLinear(e){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),e)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{constructor(e,s,d){super(e,s,d)}}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{constructor(e,s,d,nt){super(e,s,d,nt)}}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(e="",s=-1,d=[],nt=NormalAnimationBlendMode){this.name=e,this.tracks=d,this.duration=s,this.blendMode=nt,this.uuid=generateUUID(),this.duration<0&&this.resetDuration()}static parse(e){const s=[],d=e.tracks,nt=1/(e.fps||1);for(let ft=0,gt=d.length;ft!==gt;++ft)s.push(parseKeyframeTrack(d[ft]).scale(nt));const o=new this(e.name,e.duration,s,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const s=[],d=e.tracks,nt={name:e.name,duration:e.duration,tracks:s,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,ft=d.length;o!==ft;++o)s.push(KeyframeTrack.toJSON(d[o]));return nt}static CreateFromMorphTargetSequence(e,s,d,nt){const o=s.length,ft=[];for(let gt=0;gt<o;gt++){let xt=[],St=[];xt.push((gt+o-1)%o,gt,(gt+1)%o),St.push(0,1,0);const Tt=getKeyframeOrder(xt);xt=sortedArray(xt,1,Tt),St=sortedArray(St,1,Tt),!nt&&xt[0]===0&&(xt.push(o),St.push(St[0])),ft.push(new NumberKeyframeTrack(".morphTargetInfluences["+s[gt].name+"]",xt,St).scale(1/d))}return new this(e,-1,ft)}static findByName(e,s){let d=e;if(!Array.isArray(e)){const nt=e;d=nt.geometry&&nt.geometry.animations||nt.animations}for(let nt=0;nt<d.length;nt++)if(d[nt].name===s)return d[nt];return null}static CreateClipsFromMorphTargetSequences(e,s,d){const nt={},o=/^([\w-]*?)([\d]+)$/;for(let gt=0,xt=e.length;gt<xt;gt++){const St=e[gt],Tt=St.name.match(o);if(Tt&&Tt.length>1){const At=Tt[1];let Ct=nt[At];Ct||(nt[At]=Ct=[]),Ct.push(St)}}const ft=[];for(const gt in nt)ft.push(this.CreateFromMorphTargetSequence(gt,nt[gt],s,d));return ft}static parseAnimation(e,s){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const d=function(At,Ct,Rt,yt,Ot){if(Rt.length!==0){const Nt=[],bt=[];flattenJSON(Rt,Nt,bt,yt),Nt.length!==0&&Ot.push(new At(Ct,Nt,bt))}},nt=[],o=e.name||"default",ft=e.fps||30,gt=e.blendMode;let xt=e.length||-1;const St=e.hierarchy||[];for(let At=0;At<St.length;At++){const Ct=St[At].keys;if(!(!Ct||Ct.length===0))if(Ct[0].morphTargets){const Rt={};let yt;for(yt=0;yt<Ct.length;yt++)if(Ct[yt].morphTargets)for(let Ot=0;Ot<Ct[yt].morphTargets.length;Ot++)Rt[Ct[yt].morphTargets[Ot]]=-1;for(const Ot in Rt){const Nt=[],bt=[];for(let Dt=0;Dt!==Ct[yt].morphTargets.length;++Dt){const Ft=Ct[yt];Nt.push(Ft.time),bt.push(Ft.morphTarget===Ot?1:0)}nt.push(new NumberKeyframeTrack(".morphTargetInfluence["+Ot+"]",Nt,bt))}xt=Rt.length*ft}else{const Rt=".bones["+s[At].name+"]";d(VectorKeyframeTrack,Rt+".position",Ct,"pos",nt),d(QuaternionKeyframeTrack,Rt+".quaternion",Ct,"rot",nt),d(VectorKeyframeTrack,Rt+".scale",Ct,"scl",nt)}}return nt.length===0?null:new this(o,xt,nt,gt)}resetDuration(){const e=this.tracks;let s=0;for(let d=0,nt=e.length;d!==nt;++d){const o=this.tracks[d];s=Math.max(s,o.times[o.times.length-1])}return this.duration=s,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let s=0;s<this.tracks.length;s++)e=e&&this.tracks[s].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let s=0;s<this.tracks.length;s++)e.push(this.tracks[s].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(c){switch(c.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+c)}function parseKeyframeTrack(c){if(c.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=getTrackTypeForValueTypeName(c.type);if(c.times===void 0){const s=[],d=[];flattenJSON(c.keys,s,d,"value"),c.times=s,c.values=d}return e.parse!==void 0?e.parse(c):new e(c.name,c.times,c.values,c.interpolation)}const Cache={enabled:!1,files:{},add:function(c,e){this.enabled!==!1&&(this.files[c]=e)},get:function(c){if(this.enabled!==!1)return this.files[c]},remove:function(c){delete this.files[c]},clear:function(){this.files={}}};class LoadingManager{constructor(e,s,d){const nt=this;let o=!1,ft=0,gt=0,xt;const St=[];this.onStart=void 0,this.onLoad=e,this.onProgress=s,this.onError=d,this.itemStart=function(Tt){gt++,o===!1&&nt.onStart!==void 0&&nt.onStart(Tt,ft,gt),o=!0},this.itemEnd=function(Tt){ft++,nt.onProgress!==void 0&&nt.onProgress(Tt,ft,gt),ft===gt&&(o=!1,nt.onLoad!==void 0&&nt.onLoad())},this.itemError=function(Tt){nt.onError!==void 0&&nt.onError(Tt)},this.resolveURL=function(Tt){return xt?xt(Tt):Tt},this.setURLModifier=function(Tt){return xt=Tt,this},this.addHandler=function(Tt,At){return St.push(Tt,At),this},this.removeHandler=function(Tt){const At=St.indexOf(Tt);return At!==-1&&St.splice(At,2),this},this.getHandler=function(Tt){for(let At=0,Ct=St.length;At<Ct;At+=2){const Rt=St[At],yt=St[At+1];if(Rt.global&&(Rt.lastIndex=0),Rt.test(Tt))return yt}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(e){this.manager=e!==void 0?e:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,s){const d=this;return new Promise(function(nt,o){d.load(e,nt,s,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Loader.DEFAULT_MATERIAL_NAME="__DEFAULT";const loading={};class HttpError extends Error{constructor(e,s){super(e),this.response=s}}class FileLoader extends Loader{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,s,d,nt){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Cache.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{s&&s(o),this.manager.itemEnd(e)},0),o;if(loading[e]!==void 0){loading[e].push({onLoad:s,onProgress:d,onError:nt});return}loading[e]=[],loading[e].push({onLoad:s,onProgress:d,onError:nt});const ft=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),gt=this.mimeType,xt=this.responseType;fetch(ft).then(St=>{if(St.status===200||St.status===0){if(St.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||St.body===void 0||St.body.getReader===void 0)return St;const Tt=loading[e],At=St.body.getReader(),Ct=St.headers.get("X-File-Size")||St.headers.get("Content-Length"),Rt=Ct?parseInt(Ct):0,yt=Rt!==0;let Ot=0;const Nt=new ReadableStream({start(bt){Dt();function Dt(){At.read().then(({done:Ft,value:Ut})=>{if(Ft)bt.close();else{Ot+=Ut.byteLength;const Wt=new ProgressEvent("progress",{lengthComputable:yt,loaded:Ot,total:Rt});for(let Gt=0,Xt=Tt.length;Gt<Xt;Gt++){const Yt=Tt[Gt];Yt.onProgress&&Yt.onProgress(Wt)}bt.enqueue(Ut),Dt()}},Ft=>{bt.error(Ft)})}}});return new Response(Nt)}else throw new HttpError(`fetch for "${St.url}" responded with ${St.status}: ${St.statusText}`,St)}).then(St=>{switch(xt){case"arraybuffer":return St.arrayBuffer();case"blob":return St.blob();case"document":return St.text().then(Tt=>new DOMParser().parseFromString(Tt,gt));case"json":return St.json();default:if(gt==="")return St.text();{const At=/charset="?([^;"\s]*)"?/i.exec(gt),Ct=At&&At[1]?At[1].toLowerCase():void 0,Rt=new TextDecoder(Ct);return St.arrayBuffer().then(yt=>Rt.decode(yt))}}}).then(St=>{Cache.add(e,St);const Tt=loading[e];delete loading[e];for(let At=0,Ct=Tt.length;At<Ct;At++){const Rt=Tt[At];Rt.onLoad&&Rt.onLoad(St)}}).catch(St=>{const Tt=loading[e];if(Tt===void 0)throw this.manager.itemError(e),St;delete loading[e];for(let At=0,Ct=Tt.length;At<Ct;At++){const Rt=Tt[At];Rt.onError&&Rt.onError(St)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class AnimationLoader extends Loader{constructor(e){super(e)}load(e,s,d,nt){const o=this,ft=new FileLoader(this.manager);ft.setPath(this.path),ft.setRequestHeader(this.requestHeader),ft.setWithCredentials(this.withCredentials),ft.load(e,function(gt){try{s(o.parse(JSON.parse(gt)))}catch(xt){nt?nt(xt):console.error(xt),o.manager.itemError(e)}},d,nt)}parse(e){const s=[];for(let d=0;d<e.length;d++){const nt=AnimationClip.parse(e[d]);s.push(nt)}return s}}class CompressedTextureLoader extends Loader{constructor(e){super(e)}load(e,s,d,nt){const o=this,ft=[],gt=new CompressedTexture,xt=new FileLoader(this.manager);xt.setPath(this.path),xt.setResponseType("arraybuffer"),xt.setRequestHeader(this.requestHeader),xt.setWithCredentials(o.withCredentials);let St=0;function Tt(At){xt.load(e[At],function(Ct){const Rt=o.parse(Ct,!0);ft[At]={width:Rt.width,height:Rt.height,format:Rt.format,mipmaps:Rt.mipmaps},St+=1,St===6&&(Rt.mipmapCount===1&&(gt.minFilter=LinearFilter),gt.image=ft,gt.format=Rt.format,gt.needsUpdate=!0,s&&s(gt))},d,nt)}if(Array.isArray(e))for(let At=0,Ct=e.length;At<Ct;++At)Tt(At);else xt.load(e,function(At){const Ct=o.parse(At,!0);if(Ct.isCubemap){const Rt=Ct.mipmaps.length/Ct.mipmapCount;for(let yt=0;yt<Rt;yt++){ft[yt]={mipmaps:[]};for(let Ot=0;Ot<Ct.mipmapCount;Ot++)ft[yt].mipmaps.push(Ct.mipmaps[yt*Ct.mipmapCount+Ot]),ft[yt].format=Ct.format,ft[yt].width=Ct.width,ft[yt].height=Ct.height}gt.image=ft}else gt.image.width=Ct.width,gt.image.height=Ct.height,gt.mipmaps=Ct.mipmaps;Ct.mipmapCount===1&&(gt.minFilter=LinearFilter),gt.format=Ct.format,gt.needsUpdate=!0,s&&s(gt)},d,nt);return gt}}class ImageLoader extends Loader{constructor(e){super(e)}load(e,s,d,nt){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,ft=Cache.get(e);if(ft!==void 0)return o.manager.itemStart(e),setTimeout(function(){s&&s(ft),o.manager.itemEnd(e)},0),ft;const gt=createElementNS("img");function xt(){Tt(),Cache.add(e,this),s&&s(this),o.manager.itemEnd(e)}function St(At){Tt(),nt&&nt(At),o.manager.itemError(e),o.manager.itemEnd(e)}function Tt(){gt.removeEventListener("load",xt,!1),gt.removeEventListener("error",St,!1)}return gt.addEventListener("load",xt,!1),gt.addEventListener("error",St,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(gt.crossOrigin=this.crossOrigin),o.manager.itemStart(e),gt.src=e,gt}}class CubeTextureLoader extends Loader{constructor(e){super(e)}load(e,s,d,nt){const o=new CubeTexture;o.colorSpace=SRGBColorSpace;const ft=new ImageLoader(this.manager);ft.setCrossOrigin(this.crossOrigin),ft.setPath(this.path);let gt=0;function xt(St){ft.load(e[St],function(Tt){o.images[St]=Tt,gt++,gt===6&&(o.needsUpdate=!0,s&&s(o))},void 0,nt)}for(let St=0;St<e.length;++St)xt(St);return o}}class DataTextureLoader extends Loader{constructor(e){super(e)}load(e,s,d,nt){const o=this,ft=new DataTexture,gt=new FileLoader(this.manager);return gt.setResponseType("arraybuffer"),gt.setRequestHeader(this.requestHeader),gt.setPath(this.path),gt.setWithCredentials(o.withCredentials),gt.load(e,function(xt){let St;try{St=o.parse(xt)}catch(Tt){if(nt!==void 0)nt(Tt);else{console.error(Tt);return}}St.image!==void 0?ft.image=St.image:St.data!==void 0&&(ft.image.width=St.width,ft.image.height=St.height,ft.image.data=St.data),ft.wrapS=St.wrapS!==void 0?St.wrapS:ClampToEdgeWrapping,ft.wrapT=St.wrapT!==void 0?St.wrapT:ClampToEdgeWrapping,ft.magFilter=St.magFilter!==void 0?St.magFilter:LinearFilter,ft.minFilter=St.minFilter!==void 0?St.minFilter:LinearFilter,ft.anisotropy=St.anisotropy!==void 0?St.anisotropy:1,St.colorSpace!==void 0&&(ft.colorSpace=St.colorSpace),St.flipY!==void 0&&(ft.flipY=St.flipY),St.format!==void 0&&(ft.format=St.format),St.type!==void 0&&(ft.type=St.type),St.mipmaps!==void 0&&(ft.mipmaps=St.mipmaps,ft.minFilter=LinearMipmapLinearFilter),St.mipmapCount===1&&(ft.minFilter=LinearFilter),St.generateMipmaps!==void 0&&(ft.generateMipmaps=St.generateMipmaps),ft.needsUpdate=!0,s&&s(ft,St)},d,nt),ft}}class TextureLoader extends Loader{constructor(e){super(e)}load(e,s,d,nt){const o=new Texture,ft=new ImageLoader(this.manager);return ft.setCrossOrigin(this.crossOrigin),ft.setPath(this.path),ft.load(e,function(gt){o.image=gt,o.needsUpdate=!0,s!==void 0&&s(o)},d,nt),o}}class Light extends Object3D{constructor(e,s=1){super(),this.isLight=!0,this.type="Light",this.color=new Color(e),this.intensity=s}dispose(){}copy(e,s){return super.copy(e,s),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const s=super.toJSON(e);return s.object.color=this.color.getHex(),s.object.intensity=this.intensity,this.groundColor!==void 0&&(s.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(s.object.distance=this.distance),this.angle!==void 0&&(s.object.angle=this.angle),this.decay!==void 0&&(s.object.decay=this.decay),this.penumbra!==void 0&&(s.object.penumbra=this.penumbra),this.shadow!==void 0&&(s.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(s.object.target=this.target.uuid),s}}class HemisphereLight extends Light{constructor(e,s,d){super(e,d),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color(s)}copy(e,s){return super.copy(e,s),this.groundColor.copy(e.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.mapType=UnsignedByteType,this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const s=this.camera,d=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(e.matrixWorld),s.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(e.target.matrixWorld),s.lookAt(_lookTarget$1),s.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),d.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d.multiply(_projScreenMatrix$1)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const s=this.camera,d=RAD2DEG*2*e.angle*this.focus,nt=this.mapSize.width/this.mapSize.height,o=e.distance||s.far;(d!==s.fov||nt!==s.aspect||o!==s.far)&&(s.fov=d,s.aspect=nt,s.far=o,s.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class SpotLight extends Light{constructor(e,s,d=0,nt=Math.PI/3,o=0,ft=2){super(e,s),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=d,this.angle=nt,this.penumbra=o,this.decay=ft,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,s){return super.copy(e,s),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(e,s=0){const d=this.camera,nt=this.matrix,o=e.distance||d.far;o!==d.far&&(d.far=o,d.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(e.matrixWorld),d.position.copy(_lightPositionWorld),_lookTarget.copy(d.position),_lookTarget.add(this._cubeDirections[s]),d.up.copy(this._cubeUps[s]),d.lookAt(_lookTarget),d.updateMatrixWorld(),nt.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(d.projectionMatrix,d.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(e,s,d=0,nt=2){super(e,s),this.isPointLight=!0,this.type="PointLight",this.distance=d,this.decay=nt,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,s){return super.copy(e,s),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class OrthographicCamera extends Camera{constructor(e=-1,s=1,d=1,nt=-1,o=.1,ft=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=s,this.top=d,this.bottom=nt,this.near=o,this.far=ft,this.updateProjectionMatrix()}copy(e,s){return super.copy(e,s),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,s,d,nt,o,ft){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=s,this.view.offsetX=d,this.view.offsetY=nt,this.view.width=o,this.view.height=ft,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),s=(this.top-this.bottom)/(2*this.zoom),d=(this.right+this.left)/2,nt=(this.top+this.bottom)/2;let o=d-e,ft=d+e,gt=nt+s,xt=nt-s;if(this.view!==null&&this.view.enabled){const St=(this.right-this.left)/this.view.fullWidth/this.zoom,Tt=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=St*this.view.offsetX,ft=o+St*this.view.width,gt-=Tt*this.view.offsetY,xt=gt-Tt*this.view.height}this.projectionMatrix.makeOrthographic(o,ft,gt,xt,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const s=super.toJSON(e);return s.object.zoom=this.zoom,s.object.left=this.left,s.object.right=this.right,s.object.top=this.top,s.object.bottom=this.bottom,s.object.near=this.near,s.object.far=this.far,this.view!==null&&(s.object.view=Object.assign({},this.view)),s}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(e,s){super(e,s),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class AmbientLight extends Light{constructor(e,s){super(e,s),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(e,s,d=10,nt=10){super(e,s),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=d,this.height=nt}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const s=super.toJSON(e);return s.object.width=this.width,s.object.height=this.height,s}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Vector3)}set(e){for(let s=0;s<9;s++)this.coefficients[s].copy(e[s]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,s){const d=e.x,nt=e.y,o=e.z,ft=this.coefficients;return s.copy(ft[0]).multiplyScalar(.282095),s.addScaledVector(ft[1],.488603*nt),s.addScaledVector(ft[2],.488603*o),s.addScaledVector(ft[3],.488603*d),s.addScaledVector(ft[4],1.092548*(d*nt)),s.addScaledVector(ft[5],1.092548*(nt*o)),s.addScaledVector(ft[6],.315392*(3*o*o-1)),s.addScaledVector(ft[7],1.092548*(d*o)),s.addScaledVector(ft[8],.546274*(d*d-nt*nt)),s}getIrradianceAt(e,s){const d=e.x,nt=e.y,o=e.z,ft=this.coefficients;return s.copy(ft[0]).multiplyScalar(.886227),s.addScaledVector(ft[1],2*.511664*nt),s.addScaledVector(ft[2],2*.511664*o),s.addScaledVector(ft[3],2*.511664*d),s.addScaledVector(ft[4],2*.429043*d*nt),s.addScaledVector(ft[5],2*.429043*nt*o),s.addScaledVector(ft[6],.743125*o*o-.247708),s.addScaledVector(ft[7],2*.429043*d*o),s.addScaledVector(ft[8],.429043*(d*d-nt*nt)),s}add(e){for(let s=0;s<9;s++)this.coefficients[s].add(e.coefficients[s]);return this}addScaledSH(e,s){for(let d=0;d<9;d++)this.coefficients[d].addScaledVector(e.coefficients[d],s);return this}scale(e){for(let s=0;s<9;s++)this.coefficients[s].multiplyScalar(e);return this}lerp(e,s){for(let d=0;d<9;d++)this.coefficients[d].lerp(e.coefficients[d],s);return this}equals(e){for(let s=0;s<9;s++)if(!this.coefficients[s].equals(e.coefficients[s]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,s=0){const d=this.coefficients;for(let nt=0;nt<9;nt++)d[nt].fromArray(e,s+nt*3);return this}toArray(e=[],s=0){const d=this.coefficients;for(let nt=0;nt<9;nt++)d[nt].toArray(e,s+nt*3);return e}static getBasisAt(e,s){const d=e.x,nt=e.y,o=e.z;s[0]=.282095,s[1]=.488603*nt,s[2]=.488603*o,s[3]=.488603*d,s[4]=1.092548*d*nt,s[5]=1.092548*nt*o,s[6]=.315392*(3*o*o-1),s[7]=1.092548*d*o,s[8]=.546274*(d*d-nt*nt)}}class LightProbe extends Light{constructor(e=new SphericalHarmonics3,s=1){super(void 0,s),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const s=super.toJSON(e);return s.object.sh=this.sh.toArray(),s}}class MaterialLoader extends Loader{constructor(e){super(e),this.textures={}}load(e,s,d,nt){const o=this,ft=new FileLoader(o.manager);ft.setPath(o.path),ft.setRequestHeader(o.requestHeader),ft.setWithCredentials(o.withCredentials),ft.load(e,function(gt){try{s(o.parse(JSON.parse(gt)))}catch(xt){nt?nt(xt):console.error(xt),o.manager.itemError(e)}},d,nt)}parse(e){const s=this.textures;function d(o){return s[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),s[o]}const nt=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(nt.uuid=e.uuid),e.name!==void 0&&(nt.name=e.name),e.color!==void 0&&nt.color!==void 0&&nt.color.setHex(e.color),e.roughness!==void 0&&(nt.roughness=e.roughness),e.metalness!==void 0&&(nt.metalness=e.metalness),e.sheen!==void 0&&(nt.sheen=e.sheen),e.sheenColor!==void 0&&(nt.sheenColor=new Color().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(nt.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&nt.emissive!==void 0&&nt.emissive.setHex(e.emissive),e.specular!==void 0&&nt.specular!==void 0&&nt.specular.setHex(e.specular),e.specularIntensity!==void 0&&(nt.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&nt.specularColor!==void 0&&nt.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(nt.shininess=e.shininess),e.clearcoat!==void 0&&(nt.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(nt.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(nt.dispersion=e.dispersion),e.iridescence!==void 0&&(nt.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(nt.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(nt.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(nt.transmission=e.transmission),e.thickness!==void 0&&(nt.thickness=e.thickness),e.attenuationDistance!==void 0&&(nt.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&nt.attenuationColor!==void 0&&nt.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(nt.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(nt.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(nt.fog=e.fog),e.flatShading!==void 0&&(nt.flatShading=e.flatShading),e.blending!==void 0&&(nt.blending=e.blending),e.combine!==void 0&&(nt.combine=e.combine),e.side!==void 0&&(nt.side=e.side),e.shadowSide!==void 0&&(nt.shadowSide=e.shadowSide),e.opacity!==void 0&&(nt.opacity=e.opacity),e.transparent!==void 0&&(nt.transparent=e.transparent),e.alphaTest!==void 0&&(nt.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(nt.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(nt.depthFunc=e.depthFunc),e.depthTest!==void 0&&(nt.depthTest=e.depthTest),e.depthWrite!==void 0&&(nt.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(nt.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(nt.blendSrc=e.blendSrc),e.blendDst!==void 0&&(nt.blendDst=e.blendDst),e.blendEquation!==void 0&&(nt.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(nt.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(nt.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(nt.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&nt.blendColor!==void 0&&nt.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(nt.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(nt.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(nt.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(nt.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(nt.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(nt.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(nt.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(nt.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(nt.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(nt.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(nt.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(nt.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(nt.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(nt.rotation=e.rotation),e.linewidth!==void 0&&(nt.linewidth=e.linewidth),e.dashSize!==void 0&&(nt.dashSize=e.dashSize),e.gapSize!==void 0&&(nt.gapSize=e.gapSize),e.scale!==void 0&&(nt.scale=e.scale),e.polygonOffset!==void 0&&(nt.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(nt.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(nt.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(nt.dithering=e.dithering),e.alphaToCoverage!==void 0&&(nt.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(nt.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(nt.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(nt.visible=e.visible),e.toneMapped!==void 0&&(nt.toneMapped=e.toneMapped),e.userData!==void 0&&(nt.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?nt.vertexColors=e.vertexColors>0:nt.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const ft=e.uniforms[o];switch(nt.uniforms[o]={},ft.type){case"t":nt.uniforms[o].value=d(ft.value);break;case"c":nt.uniforms[o].value=new Color().setHex(ft.value);break;case"v2":nt.uniforms[o].value=new Vector2().fromArray(ft.value);break;case"v3":nt.uniforms[o].value=new Vector3().fromArray(ft.value);break;case"v4":nt.uniforms[o].value=new Vector4().fromArray(ft.value);break;case"m3":nt.uniforms[o].value=new Matrix3().fromArray(ft.value);break;case"m4":nt.uniforms[o].value=new Matrix4().fromArray(ft.value);break;default:nt.uniforms[o].value=ft.value}}if(e.defines!==void 0&&(nt.defines=e.defines),e.vertexShader!==void 0&&(nt.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(nt.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(nt.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)nt.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(nt.lights=e.lights),e.clipping!==void 0&&(nt.clipping=e.clipping),e.size!==void 0&&(nt.size=e.size),e.sizeAttenuation!==void 0&&(nt.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(nt.map=d(e.map)),e.matcap!==void 0&&(nt.matcap=d(e.matcap)),e.alphaMap!==void 0&&(nt.alphaMap=d(e.alphaMap)),e.bumpMap!==void 0&&(nt.bumpMap=d(e.bumpMap)),e.bumpScale!==void 0&&(nt.bumpScale=e.bumpScale),e.normalMap!==void 0&&(nt.normalMap=d(e.normalMap)),e.normalMapType!==void 0&&(nt.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),nt.normalScale=new Vector2().fromArray(o)}return e.displacementMap!==void 0&&(nt.displacementMap=d(e.displacementMap)),e.displacementScale!==void 0&&(nt.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(nt.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(nt.roughnessMap=d(e.roughnessMap)),e.metalnessMap!==void 0&&(nt.metalnessMap=d(e.metalnessMap)),e.emissiveMap!==void 0&&(nt.emissiveMap=d(e.emissiveMap)),e.emissiveIntensity!==void 0&&(nt.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(nt.specularMap=d(e.specularMap)),e.specularIntensityMap!==void 0&&(nt.specularIntensityMap=d(e.specularIntensityMap)),e.specularColorMap!==void 0&&(nt.specularColorMap=d(e.specularColorMap)),e.envMap!==void 0&&(nt.envMap=d(e.envMap)),e.envMapRotation!==void 0&&nt.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(nt.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(nt.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(nt.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(nt.lightMap=d(e.lightMap)),e.lightMapIntensity!==void 0&&(nt.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(nt.aoMap=d(e.aoMap)),e.aoMapIntensity!==void 0&&(nt.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(nt.gradientMap=d(e.gradientMap)),e.clearcoatMap!==void 0&&(nt.clearcoatMap=d(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(nt.clearcoatRoughnessMap=d(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(nt.clearcoatNormalMap=d(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(nt.clearcoatNormalScale=new Vector2().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(nt.iridescenceMap=d(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(nt.iridescenceThicknessMap=d(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(nt.transmissionMap=d(e.transmissionMap)),e.thicknessMap!==void 0&&(nt.thicknessMap=d(e.thicknessMap)),e.anisotropyMap!==void 0&&(nt.anisotropyMap=d(e.anisotropyMap)),e.sheenColorMap!==void 0&&(nt.sheenColorMap=d(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(nt.sheenRoughnessMap=d(e.sheenRoughnessMap)),nt}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return MaterialLoader.createMaterialFromType(e)}static createMaterialFromType(e){const s={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new s[e]}}class LoaderUtils{static extractUrlBase(e){const s=e.lastIndexOf("/");return s===-1?"./":e.slice(0,s+1)}static resolveURL(e,s){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(s)&&/^\//.test(e)&&(s=s.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:s+e)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class BufferGeometryLoader extends Loader{constructor(e){super(e)}load(e,s,d,nt){const o=this,ft=new FileLoader(o.manager);ft.setPath(o.path),ft.setRequestHeader(o.requestHeader),ft.setWithCredentials(o.withCredentials),ft.load(e,function(gt){try{s(o.parse(JSON.parse(gt)))}catch(xt){nt?nt(xt):console.error(xt),o.manager.itemError(e)}},d,nt)}parse(e){const s={},d={};function nt(Rt,yt){if(s[yt]!==void 0)return s[yt];const Nt=Rt.interleavedBuffers[yt],bt=o(Rt,Nt.buffer),Dt=getTypedArray(Nt.type,bt),Ft=new InterleavedBuffer(Dt,Nt.stride);return Ft.uuid=Nt.uuid,s[yt]=Ft,Ft}function o(Rt,yt){if(d[yt]!==void 0)return d[yt];const Nt=Rt.arrayBuffers[yt],bt=new Uint32Array(Nt).buffer;return d[yt]=bt,bt}const ft=e.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,gt=e.data.index;if(gt!==void 0){const Rt=getTypedArray(gt.type,gt.array);ft.setIndex(new BufferAttribute(Rt,1))}const xt=e.data.attributes;for(const Rt in xt){const yt=xt[Rt];let Ot;if(yt.isInterleavedBufferAttribute){const Nt=nt(e.data,yt.data);Ot=new InterleavedBufferAttribute(Nt,yt.itemSize,yt.offset,yt.normalized)}else{const Nt=getTypedArray(yt.type,yt.array),bt=yt.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;Ot=new bt(Nt,yt.itemSize,yt.normalized)}yt.name!==void 0&&(Ot.name=yt.name),yt.usage!==void 0&&Ot.setUsage(yt.usage),ft.setAttribute(Rt,Ot)}const St=e.data.morphAttributes;if(St)for(const Rt in St){const yt=St[Rt],Ot=[];for(let Nt=0,bt=yt.length;Nt<bt;Nt++){const Dt=yt[Nt];let Ft;if(Dt.isInterleavedBufferAttribute){const Ut=nt(e.data,Dt.data);Ft=new InterleavedBufferAttribute(Ut,Dt.itemSize,Dt.offset,Dt.normalized)}else{const Ut=getTypedArray(Dt.type,Dt.array);Ft=new BufferAttribute(Ut,Dt.itemSize,Dt.normalized)}Dt.name!==void 0&&(Ft.name=Dt.name),Ot.push(Ft)}ft.morphAttributes[Rt]=Ot}e.data.morphTargetsRelative&&(ft.morphTargetsRelative=!0);const At=e.data.groups||e.data.drawcalls||e.data.offsets;if(At!==void 0)for(let Rt=0,yt=At.length;Rt!==yt;++Rt){const Ot=At[Rt];ft.addGroup(Ot.start,Ot.count,Ot.materialIndex)}const Ct=e.data.boundingSphere;if(Ct!==void 0){const Rt=new Vector3;Ct.center!==void 0&&Rt.fromArray(Ct.center),ft.boundingSphere=new Sphere(Rt,Ct.radius)}return e.name&&(ft.name=e.name),e.userData&&(ft.userData=e.userData),ft}}class ObjectLoader extends Loader{constructor(e){super(e)}load(e,s,d,nt){const o=this,ft=this.path===""?LoaderUtils.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||ft;const gt=new FileLoader(this.manager);gt.setPath(this.path),gt.setRequestHeader(this.requestHeader),gt.setWithCredentials(this.withCredentials),gt.load(e,function(xt){let St=null;try{St=JSON.parse(xt)}catch(At){nt!==void 0&&nt(At),console.error("THREE:ObjectLoader: Can't parse "+e+".",At.message);return}const Tt=St.metadata;if(Tt===void 0||Tt.type===void 0||Tt.type.toLowerCase()==="geometry"){nt!==void 0&&nt(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(St,s)},d,nt)}async loadAsync(e,s){const d=this,nt=this.path===""?LoaderUtils.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||nt;const o=new FileLoader(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const ft=await o.loadAsync(e,s),gt=JSON.parse(ft),xt=gt.metadata;if(xt===void 0||xt.type===void 0||xt.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await d.parseAsync(gt)}parse(e,s){const d=this.parseAnimations(e.animations),nt=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,nt),ft=this.parseImages(e.images,function(){s!==void 0&&s(St)}),gt=this.parseTextures(e.textures,ft),xt=this.parseMaterials(e.materials,gt),St=this.parseObject(e.object,o,xt,gt,d),Tt=this.parseSkeletons(e.skeletons,St);if(this.bindSkeletons(St,Tt),this.bindLightTargets(St),s!==void 0){let At=!1;for(const Ct in ft)if(ft[Ct].data instanceof HTMLImageElement){At=!0;break}At===!1&&s(St)}return St}async parseAsync(e){const s=this.parseAnimations(e.animations),d=this.parseShapes(e.shapes),nt=this.parseGeometries(e.geometries,d),o=await this.parseImagesAsync(e.images),ft=this.parseTextures(e.textures,o),gt=this.parseMaterials(e.materials,ft),xt=this.parseObject(e.object,nt,gt,ft,s),St=this.parseSkeletons(e.skeletons,xt);return this.bindSkeletons(xt,St),this.bindLightTargets(xt),xt}parseShapes(e){const s={};if(e!==void 0)for(let d=0,nt=e.length;d<nt;d++){const o=new Shape().fromJSON(e[d]);s[o.uuid]=o}return s}parseSkeletons(e,s){const d={},nt={};if(s.traverse(function(o){o.isBone&&(nt[o.uuid]=o)}),e!==void 0)for(let o=0,ft=e.length;o<ft;o++){const gt=new Skeleton().fromJSON(e[o],nt);d[gt.uuid]=gt}return d}parseGeometries(e,s){const d={};if(e!==void 0){const nt=new BufferGeometryLoader;for(let o=0,ft=e.length;o<ft;o++){let gt;const xt=e[o];switch(xt.type){case"BufferGeometry":case"InstancedBufferGeometry":gt=nt.parse(xt);break;default:xt.type in Geometries?gt=Geometries[xt.type].fromJSON(xt,s):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${xt.type}"`)}gt.uuid=xt.uuid,xt.name!==void 0&&(gt.name=xt.name),xt.userData!==void 0&&(gt.userData=xt.userData),d[xt.uuid]=gt}}return d}parseMaterials(e,s){const d={},nt={};if(e!==void 0){const o=new MaterialLoader;o.setTextures(s);for(let ft=0,gt=e.length;ft<gt;ft++){const xt=e[ft];d[xt.uuid]===void 0&&(d[xt.uuid]=o.parse(xt)),nt[xt.uuid]=d[xt.uuid]}}return nt}parseAnimations(e){const s={};if(e!==void 0)for(let d=0;d<e.length;d++){const nt=e[d],o=AnimationClip.parse(nt);s[o.uuid]=o}return s}parseImages(e,s){const d=this,nt={};let o;function ft(xt){return d.manager.itemStart(xt),o.load(xt,function(){d.manager.itemEnd(xt)},void 0,function(){d.manager.itemError(xt),d.manager.itemEnd(xt)})}function gt(xt){if(typeof xt=="string"){const St=xt,Tt=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(St)?St:d.resourcePath+St;return ft(Tt)}else return xt.data?{data:getTypedArray(xt.type,xt.data),width:xt.width,height:xt.height}:null}if(e!==void 0&&e.length>0){const xt=new LoadingManager(s);o=new ImageLoader(xt),o.setCrossOrigin(this.crossOrigin);for(let St=0,Tt=e.length;St<Tt;St++){const At=e[St],Ct=At.url;if(Array.isArray(Ct)){const Rt=[];for(let yt=0,Ot=Ct.length;yt<Ot;yt++){const Nt=Ct[yt],bt=gt(Nt);bt!==null&&(bt instanceof HTMLImageElement?Rt.push(bt):Rt.push(new DataTexture(bt.data,bt.width,bt.height)))}nt[At.uuid]=new Source(Rt)}else{const Rt=gt(At.url);nt[At.uuid]=new Source(Rt)}}}return nt}async parseImagesAsync(e){const s=this,d={};let nt;async function o(ft){if(typeof ft=="string"){const gt=ft,xt=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(gt)?gt:s.resourcePath+gt;return await nt.loadAsync(xt)}else return ft.data?{data:getTypedArray(ft.type,ft.data),width:ft.width,height:ft.height}:null}if(e!==void 0&&e.length>0){nt=new ImageLoader(this.manager),nt.setCrossOrigin(this.crossOrigin);for(let ft=0,gt=e.length;ft<gt;ft++){const xt=e[ft],St=xt.url;if(Array.isArray(St)){const Tt=[];for(let At=0,Ct=St.length;At<Ct;At++){const Rt=St[At],yt=await o(Rt);yt!==null&&(yt instanceof HTMLImageElement?Tt.push(yt):Tt.push(new DataTexture(yt.data,yt.width,yt.height)))}d[xt.uuid]=new Source(Tt)}else{const Tt=await o(xt.url);d[xt.uuid]=new Source(Tt)}}}return d}parseTextures(e,s){function d(o,ft){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),ft[o])}const nt={};if(e!==void 0)for(let o=0,ft=e.length;o<ft;o++){const gt=e[o];gt.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',gt.uuid),s[gt.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",gt.image);const xt=s[gt.image],St=xt.data;let Tt;Array.isArray(St)?(Tt=new CubeTexture,St.length===6&&(Tt.needsUpdate=!0)):(St&&St.data?Tt=new DataTexture:Tt=new Texture,St&&(Tt.needsUpdate=!0)),Tt.source=xt,Tt.uuid=gt.uuid,gt.name!==void 0&&(Tt.name=gt.name),gt.mapping!==void 0&&(Tt.mapping=d(gt.mapping,TEXTURE_MAPPING)),gt.channel!==void 0&&(Tt.channel=gt.channel),gt.offset!==void 0&&Tt.offset.fromArray(gt.offset),gt.repeat!==void 0&&Tt.repeat.fromArray(gt.repeat),gt.center!==void 0&&Tt.center.fromArray(gt.center),gt.rotation!==void 0&&(Tt.rotation=gt.rotation),gt.wrap!==void 0&&(Tt.wrapS=d(gt.wrap[0],TEXTURE_WRAPPING),Tt.wrapT=d(gt.wrap[1],TEXTURE_WRAPPING)),gt.format!==void 0&&(Tt.format=gt.format),gt.internalFormat!==void 0&&(Tt.internalFormat=gt.internalFormat),gt.type!==void 0&&(Tt.type=gt.type),gt.colorSpace!==void 0&&(Tt.colorSpace=gt.colorSpace),gt.minFilter!==void 0&&(Tt.minFilter=d(gt.minFilter,TEXTURE_FILTER)),gt.magFilter!==void 0&&(Tt.magFilter=d(gt.magFilter,TEXTURE_FILTER)),gt.anisotropy!==void 0&&(Tt.anisotropy=gt.anisotropy),gt.flipY!==void 0&&(Tt.flipY=gt.flipY),gt.generateMipmaps!==void 0&&(Tt.generateMipmaps=gt.generateMipmaps),gt.premultiplyAlpha!==void 0&&(Tt.premultiplyAlpha=gt.premultiplyAlpha),gt.unpackAlignment!==void 0&&(Tt.unpackAlignment=gt.unpackAlignment),gt.compareFunction!==void 0&&(Tt.compareFunction=gt.compareFunction),gt.userData!==void 0&&(Tt.userData=gt.userData),nt[gt.uuid]=Tt}return nt}parseObject(e,s,d,nt,o){let ft;function gt(Ct){return s[Ct]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",Ct),s[Ct]}function xt(Ct){if(Ct!==void 0){if(Array.isArray(Ct)){const Rt=[];for(let yt=0,Ot=Ct.length;yt<Ot;yt++){const Nt=Ct[yt];d[Nt]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Nt),Rt.push(d[Nt])}return Rt}return d[Ct]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Ct),d[Ct]}}function St(Ct){return nt[Ct]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",Ct),nt[Ct]}let Tt,At;switch(e.type){case"Scene":ft=new Scene,e.background!==void 0&&(Number.isInteger(e.background)?ft.background=new Color(e.background):ft.background=St(e.background)),e.environment!==void 0&&(ft.environment=St(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?ft.fog=new Fog(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(ft.fog=new FogExp2(e.fog.color,e.fog.density)),e.fog.name!==""&&(ft.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(ft.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(ft.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&ft.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(ft.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&ft.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":ft=new PerspectiveCamera(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(ft.focus=e.focus),e.zoom!==void 0&&(ft.zoom=e.zoom),e.filmGauge!==void 0&&(ft.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(ft.filmOffset=e.filmOffset),e.view!==void 0&&(ft.view=Object.assign({},e.view));break;case"OrthographicCamera":ft=new OrthographicCamera(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(ft.zoom=e.zoom),e.view!==void 0&&(ft.view=Object.assign({},e.view));break;case"AmbientLight":ft=new AmbientLight(e.color,e.intensity);break;case"DirectionalLight":ft=new DirectionalLight(e.color,e.intensity),ft.target=e.target||"";break;case"PointLight":ft=new PointLight(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":ft=new RectAreaLight(e.color,e.intensity,e.width,e.height);break;case"SpotLight":ft=new SpotLight(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),ft.target=e.target||"";break;case"HemisphereLight":ft=new HemisphereLight(e.color,e.groundColor,e.intensity);break;case"LightProbe":ft=new LightProbe().fromJSON(e);break;case"SkinnedMesh":Tt=gt(e.geometry),At=xt(e.material),ft=new SkinnedMesh(Tt,At),e.bindMode!==void 0&&(ft.bindMode=e.bindMode),e.bindMatrix!==void 0&&ft.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(ft.skeleton=e.skeleton);break;case"Mesh":Tt=gt(e.geometry),At=xt(e.material),ft=new Mesh(Tt,At);break;case"InstancedMesh":Tt=gt(e.geometry),At=xt(e.material);const Ct=e.count,Rt=e.instanceMatrix,yt=e.instanceColor;ft=new InstancedMesh(Tt,At,Ct),ft.instanceMatrix=new InstancedBufferAttribute(new Float32Array(Rt.array),16),yt!==void 0&&(ft.instanceColor=new InstancedBufferAttribute(new Float32Array(yt.array),yt.itemSize));break;case"BatchedMesh":Tt=gt(e.geometry),At=xt(e.material),ft=new BatchedMesh(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,At),ft.geometry=Tt,ft.perObjectFrustumCulled=e.perObjectFrustumCulled,ft.sortObjects=e.sortObjects,ft._drawRanges=e.drawRanges,ft._reservedRanges=e.reservedRanges,ft._geometryInfo=e.geometryInfo.map(Ot=>{let Nt=null,bt=null;return Ot.boundingBox!==void 0&&(Nt=new Box3,Nt.min.fromArray(Ot.boundingBox.min),Nt.max.fromArray(Ot.boundingBox.max)),Ot.boundingSphere!==void 0&&(bt=new Sphere,bt.radius=Ot.boundingSphere.radius,bt.center.fromArray(Ot.boundingSphere.center)),{...Ot,boundingBox:Nt,boundingSphere:bt}}),ft._instanceInfo=e.instanceInfo,ft._availableInstanceIds=e._availableInstanceIds,ft._availableGeometryIds=e._availableGeometryIds,ft._nextIndexStart=e.nextIndexStart,ft._nextVertexStart=e.nextVertexStart,ft._geometryCount=e.geometryCount,ft._maxInstanceCount=e.maxInstanceCount,ft._maxVertexCount=e.maxVertexCount,ft._maxIndexCount=e.maxIndexCount,ft._geometryInitialized=e.geometryInitialized,ft._matricesTexture=St(e.matricesTexture.uuid),ft._indirectTexture=St(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(ft._colorsTexture=St(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(ft.boundingSphere=new Sphere,ft.boundingSphere.center.fromArray(e.boundingSphere.center),ft.boundingSphere.radius=e.boundingSphere.radius),e.boundingBox!==void 0&&(ft.boundingBox=new Box3,ft.boundingBox.min.fromArray(e.boundingBox.min),ft.boundingBox.max.fromArray(e.boundingBox.max));break;case"LOD":ft=new LOD;break;case"Line":ft=new Line(gt(e.geometry),xt(e.material));break;case"LineLoop":ft=new LineLoop(gt(e.geometry),xt(e.material));break;case"LineSegments":ft=new LineSegments(gt(e.geometry),xt(e.material));break;case"PointCloud":case"Points":ft=new Points(gt(e.geometry),xt(e.material));break;case"Sprite":ft=new Sprite(xt(e.material));break;case"Group":ft=new Group;break;case"Bone":ft=new Bone;break;default:ft=new Object3D}if(ft.uuid=e.uuid,e.name!==void 0&&(ft.name=e.name),e.matrix!==void 0?(ft.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(ft.matrixAutoUpdate=e.matrixAutoUpdate),ft.matrixAutoUpdate&&ft.matrix.decompose(ft.position,ft.quaternion,ft.scale)):(e.position!==void 0&&ft.position.fromArray(e.position),e.rotation!==void 0&&ft.rotation.fromArray(e.rotation),e.quaternion!==void 0&&ft.quaternion.fromArray(e.quaternion),e.scale!==void 0&&ft.scale.fromArray(e.scale)),e.up!==void 0&&ft.up.fromArray(e.up),e.castShadow!==void 0&&(ft.castShadow=e.castShadow),e.receiveShadow!==void 0&&(ft.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(ft.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(ft.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(ft.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(ft.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&ft.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(ft.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(ft.visible=e.visible),e.frustumCulled!==void 0&&(ft.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(ft.renderOrder=e.renderOrder),e.userData!==void 0&&(ft.userData=e.userData),e.layers!==void 0&&(ft.layers.mask=e.layers),e.children!==void 0){const Ct=e.children;for(let Rt=0;Rt<Ct.length;Rt++)ft.add(this.parseObject(Ct[Rt],s,d,nt,o))}if(e.animations!==void 0){const Ct=e.animations;for(let Rt=0;Rt<Ct.length;Rt++){const yt=Ct[Rt];ft.animations.push(o[yt])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(ft.autoUpdate=e.autoUpdate);const Ct=e.levels;for(let Rt=0;Rt<Ct.length;Rt++){const yt=Ct[Rt],Ot=ft.getObjectByProperty("uuid",yt.object);Ot!==void 0&&ft.addLevel(Ot,yt.distance,yt.hysteresis)}}return ft}bindSkeletons(e,s){Object.keys(s).length!==0&&e.traverse(function(d){if(d.isSkinnedMesh===!0&&d.skeleton!==void 0){const nt=s[d.skeleton];nt===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",d.skeleton):d.bind(nt,d.bindMatrix)}})}bindLightTargets(e){e.traverse(function(s){if(s.isDirectionalLight||s.isSpotLight){const d=s.target,nt=e.getObjectByProperty("uuid",d);nt!==void 0?s.target=nt:s.target=new Object3D}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,s,d,nt){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,ft=Cache.get(e);if(ft!==void 0){if(o.manager.itemStart(e),ft.then){ft.then(St=>{s&&s(St),o.manager.itemEnd(e)}).catch(St=>{nt&&nt(St)});return}return setTimeout(function(){s&&s(ft),o.manager.itemEnd(e)},0),ft}const gt={};gt.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",gt.headers=this.requestHeader;const xt=fetch(e,gt).then(function(St){return St.blob()}).then(function(St){return createImageBitmap(St,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(St){return Cache.add(e,St),s&&s(St),o.manager.itemEnd(e),St}).catch(function(St){nt&&nt(St),Cache.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});Cache.add(e,xt),o.manager.itemStart(e)}}let _context;class AudioContext{static getContext(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context}static setContext(e){_context=e}}class AudioLoader extends Loader{constructor(e){super(e)}load(e,s,d,nt){const o=this,ft=new FileLoader(this.manager);ft.setResponseType("arraybuffer"),ft.setPath(this.path),ft.setRequestHeader(this.requestHeader),ft.setWithCredentials(this.withCredentials),ft.load(e,function(xt){try{const St=xt.slice(0);AudioContext.getContext().decodeAudioData(St,function(At){s(At)}).catch(gt)}catch(St){gt(St)}},d,nt);function gt(xt){nt?nt(xt):console.error(xt),o.manager.itemError(e)}}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const s=this._cache;if(s.focus!==e.focus||s.fov!==e.fov||s.aspect!==e.aspect*this.aspect||s.near!==e.near||s.far!==e.far||s.zoom!==e.zoom||s.eyeSep!==this.eyeSep){s.focus=e.focus,s.fov=e.fov,s.aspect=e.aspect*this.aspect,s.near=e.near,s.far=e.far,s.zoom=e.zoom,s.eyeSep=this.eyeSep,_projectionMatrix.copy(e.projectionMatrix);const nt=s.eyeSep/2,o=nt*s.near/s.focus,ft=s.near*Math.tan(DEG2RAD*s.fov*.5)/s.zoom;let gt,xt;_eyeLeft.elements[12]=-nt,_eyeRight.elements[12]=nt,gt=-ft*s.aspect+o,xt=ft*s.aspect+o,_projectionMatrix.elements[0]=2*s.near/(xt-gt),_projectionMatrix.elements[8]=(xt+gt)/(xt-gt),this.cameraL.projectionMatrix.copy(_projectionMatrix),gt=-ft*s.aspect-o,xt=ft*s.aspect-o,_projectionMatrix.elements[0]=2*s.near/(xt-gt),_projectionMatrix.elements[8]=(xt+gt)/(xt-gt),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(_eyeRight)}}class ArrayCamera extends PerspectiveCamera{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class Clock{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const s=now();e=(s-this.oldTime)/1e3,this.oldTime=s,this.elapsedTime+=e}return e}}function now(){return performance.now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const s=this.context.listener,d=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),s.positionX){const nt=this.context.currentTime+this.timeDelta;s.positionX.linearRampToValueAtTime(_position$1.x,nt),s.positionY.linearRampToValueAtTime(_position$1.y,nt),s.positionZ.linearRampToValueAtTime(_position$1.z,nt),s.forwardX.linearRampToValueAtTime(_orientation$1.x,nt),s.forwardY.linearRampToValueAtTime(_orientation$1.y,nt),s.forwardZ.linearRampToValueAtTime(_orientation$1.z,nt),s.upX.linearRampToValueAtTime(d.x,nt),s.upY.linearRampToValueAtTime(d.y,nt),s.upZ.linearRampToValueAtTime(d.z,nt)}else s.setPosition(_position$1.x,_position$1.y,_position$1.z),s.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,d.x,d.y,d.z)}}let Audio$1=class extends Object3D{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const s=this.context.createBufferSource();return s.buffer=this.buffer,s.loop=this.loop,s.loopStart=this.loopStart,s.loopEnd=this.loopEnd,s.onended=this.onEnded.bind(this),s.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=s,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,s=this.filters.length;e<s;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,s=this.filters.length;e<s;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,s){return super.copy(e,s),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}};const _position=new Vector3,_quaternion$5=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio$1{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,s,d){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=s,this.panner.coneOuterGain=d,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion$5,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion$5);const s=this.panner;if(s.positionX){const d=this.context.currentTime+this.listener.timeDelta;s.positionX.linearRampToValueAtTime(_position.x,d),s.positionY.linearRampToValueAtTime(_position.y,d),s.positionZ.linearRampToValueAtTime(_position.z,d),s.orientationX.linearRampToValueAtTime(_orientation.x,d),s.orientationY.linearRampToValueAtTime(_orientation.y,d),s.orientationZ.linearRampToValueAtTime(_orientation.z,d)}else s.setPosition(_position.x,_position.y,_position.z),s.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(e,s=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=s,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const s=this.getFrequencyData();for(let d=0;d<s.length;d++)e+=s[d];return e/s.length}}class PropertyMixer{constructor(e,s,d){this.binding=e,this.valueSize=d;let nt,o,ft;switch(s){case"quaternion":nt=this._slerp,o=this._slerpAdditive,ft=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(d*6),this._workIndex=5;break;case"string":case"bool":nt=this._select,o=this._select,ft=this._setAdditiveIdentityOther,this.buffer=new Array(d*5);break;default:nt=this._lerp,o=this._lerpAdditive,ft=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(d*5)}this._mixBufferRegion=nt,this._mixBufferRegionAdditive=o,this._setIdentity=ft,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,s){const d=this.buffer,nt=this.valueSize,o=e*nt+nt;let ft=this.cumulativeWeight;if(ft===0){for(let gt=0;gt!==nt;++gt)d[o+gt]=d[gt];ft=s}else{ft+=s;const gt=s/ft;this._mixBufferRegion(d,o,0,gt,nt)}this.cumulativeWeight=ft}accumulateAdditive(e){const s=this.buffer,d=this.valueSize,nt=d*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(s,nt,0,e,d),this.cumulativeWeightAdditive+=e}apply(e){const s=this.valueSize,d=this.buffer,nt=e*s+s,o=this.cumulativeWeight,ft=this.cumulativeWeightAdditive,gt=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const xt=s*this._origIndex;this._mixBufferRegion(d,nt,xt,1-o,s)}ft>0&&this._mixBufferRegionAdditive(d,nt,this._addIndex*s,1,s);for(let xt=s,St=s+s;xt!==St;++xt)if(d[xt]!==d[xt+s]){gt.setValue(d,nt);break}}saveOriginalState(){const e=this.binding,s=this.buffer,d=this.valueSize,nt=d*this._origIndex;e.getValue(s,nt);for(let o=d,ft=nt;o!==ft;++o)s[o]=s[nt+o%d];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,s=e+this.valueSize;for(let d=e;d<s;d++)this.buffer[d]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,s=this._addIndex*this.valueSize;for(let d=0;d<this.valueSize;d++)this.buffer[s+d]=this.buffer[e+d]}_select(e,s,d,nt,o){if(nt>=.5)for(let ft=0;ft!==o;++ft)e[s+ft]=e[d+ft]}_slerp(e,s,d,nt){Quaternion.slerpFlat(e,s,e,s,e,d,nt)}_slerpAdditive(e,s,d,nt,o){const ft=this._workIndex*o;Quaternion.multiplyQuaternionsFlat(e,ft,e,s,e,d),Quaternion.slerpFlat(e,s,e,s,e,ft,nt)}_lerp(e,s,d,nt,o){const ft=1-nt;for(let gt=0;gt!==o;++gt){const xt=s+gt;e[xt]=e[xt]*ft+e[d+gt]*nt}}_lerpAdditive(e,s,d,nt,o){for(let ft=0;ft!==o;++ft){const gt=s+ft;e[gt]=e[gt]+e[d+ft]*nt}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(e,s,d){const nt=d||PropertyBinding.parseTrackName(s);this._targetGroup=e,this._bindings=e.subscribe_(s,nt)}getValue(e,s){this.bind();const d=this._targetGroup.nCachedObjects_,nt=this._bindings[d];nt!==void 0&&nt.getValue(e,s)}setValue(e,s){const d=this._bindings;for(let nt=this._targetGroup.nCachedObjects_,o=d.length;nt!==o;++nt)d[nt].setValue(e,s)}bind(){const e=this._bindings;for(let s=this._targetGroup.nCachedObjects_,d=e.length;s!==d;++s)e[s].bind()}unbind(){const e=this._bindings;for(let s=this._targetGroup.nCachedObjects_,d=e.length;s!==d;++s)e[s].unbind()}}class PropertyBinding{constructor(e,s,d){this.path=s,this.parsedPath=d||PropertyBinding.parseTrackName(s),this.node=PropertyBinding.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,s,d){return e&&e.isAnimationObjectGroup?new PropertyBinding.Composite(e,s,d):new PropertyBinding(e,s,d)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(e){const s=_trackRe.exec(e);if(s===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const d={nodeName:s[2],objectName:s[3],objectIndex:s[4],propertyName:s[5],propertyIndex:s[6]},nt=d.nodeName&&d.nodeName.lastIndexOf(".");if(nt!==void 0&&nt!==-1){const o=d.nodeName.substring(nt+1);_supportedObjectNames.indexOf(o)!==-1&&(d.nodeName=d.nodeName.substring(0,nt),d.objectName=o)}if(d.propertyName===null||d.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return d}static findNode(e,s){if(s===void 0||s===""||s==="."||s===-1||s===e.name||s===e.uuid)return e;if(e.skeleton){const d=e.skeleton.getBoneByName(s);if(d!==void 0)return d}if(e.children){const d=function(o){for(let ft=0;ft<o.length;ft++){const gt=o[ft];if(gt.name===s||gt.uuid===s)return gt;const xt=d(gt.children);if(xt)return xt}return null},nt=d(e.children);if(nt)return nt}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,s){e[s]=this.targetObject[this.propertyName]}_getValue_array(e,s){const d=this.resolvedProperty;for(let nt=0,o=d.length;nt!==o;++nt)e[s++]=d[nt]}_getValue_arrayElement(e,s){e[s]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,s){this.resolvedProperty.toArray(e,s)}_setValue_direct(e,s){this.targetObject[this.propertyName]=e[s]}_setValue_direct_setNeedsUpdate(e,s){this.targetObject[this.propertyName]=e[s],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,s){this.targetObject[this.propertyName]=e[s],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,s){const d=this.resolvedProperty;for(let nt=0,o=d.length;nt!==o;++nt)d[nt]=e[s++]}_setValue_array_setNeedsUpdate(e,s){const d=this.resolvedProperty;for(let nt=0,o=d.length;nt!==o;++nt)d[nt]=e[s++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,s){const d=this.resolvedProperty;for(let nt=0,o=d.length;nt!==o;++nt)d[nt]=e[s++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,s){this.resolvedProperty[this.propertyIndex]=e[s]}_setValue_arrayElement_setNeedsUpdate(e,s){this.resolvedProperty[this.propertyIndex]=e[s],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,s){this.resolvedProperty[this.propertyIndex]=e[s],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,s){this.resolvedProperty.fromArray(e,s)}_setValue_fromArray_setNeedsUpdate(e,s){this.resolvedProperty.fromArray(e,s),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,s){this.resolvedProperty.fromArray(e,s),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,s){this.bind(),this.getValue(e,s)}_setValue_unbound(e,s){this.bind(),this.setValue(e,s)}bind(){let e=this.node;const s=this.parsedPath,d=s.objectName,nt=s.propertyName;let o=s.propertyIndex;if(e||(e=PropertyBinding.findNode(this.rootNode,s.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(d){let St=s.objectIndex;switch(d){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let Tt=0;Tt<e.length;Tt++)if(e[Tt].name===St){St=Tt;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[d]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[d]}if(St!==void 0){if(e[St]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[St]}}const ft=e[nt];if(ft===void 0){const St=s.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+St+"."+nt+" but it wasn't found.",e);return}let gt=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?gt=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(gt=this.Versioning.MatrixWorldNeedsUpdate);let xt=this.BindingType.Direct;if(o!==void 0){if(nt==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}xt=this.BindingType.ArrayElement,this.resolvedProperty=ft,this.propertyIndex=o}else ft.fromArray!==void 0&&ft.toArray!==void 0?(xt=this.BindingType.HasFromToArray,this.resolvedProperty=ft):Array.isArray(ft)?(xt=this.BindingType.EntireArray,this.resolvedProperty=ft):this.propertyName=nt;this.getValue=this.GetterByBindingType[xt],this.setValue=this.SetterByBindingTypeAndVersioning[xt][gt]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let d=0,nt=arguments.length;d!==nt;++d)e[arguments[d].uuid]=d;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const s=this;this.stats={objects:{get total(){return s._objects.length},get inUse(){return this.total-s.nCachedObjects_}},get bindingsPerObject(){return s._bindings.length}}}add(){const e=this._objects,s=this._indicesByUUID,d=this._paths,nt=this._parsedPaths,o=this._bindings,ft=o.length;let gt,xt=e.length,St=this.nCachedObjects_;for(let Tt=0,At=arguments.length;Tt!==At;++Tt){const Ct=arguments[Tt],Rt=Ct.uuid;let yt=s[Rt];if(yt===void 0){yt=xt++,s[Rt]=yt,e.push(Ct);for(let Ot=0,Nt=ft;Ot!==Nt;++Ot)o[Ot].push(new PropertyBinding(Ct,d[Ot],nt[Ot]))}else if(yt<St){gt=e[yt];const Ot=--St,Nt=e[Ot];s[Nt.uuid]=yt,e[yt]=Nt,s[Rt]=Ot,e[Ot]=Ct;for(let bt=0,Dt=ft;bt!==Dt;++bt){const Ft=o[bt],Ut=Ft[Ot];let Wt=Ft[yt];Ft[yt]=Ut,Wt===void 0&&(Wt=new PropertyBinding(Ct,d[bt],nt[bt])),Ft[Ot]=Wt}}else e[yt]!==gt&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=St}remove(){const e=this._objects,s=this._indicesByUUID,d=this._bindings,nt=d.length;let o=this.nCachedObjects_;for(let ft=0,gt=arguments.length;ft!==gt;++ft){const xt=arguments[ft],St=xt.uuid,Tt=s[St];if(Tt!==void 0&&Tt>=o){const At=o++,Ct=e[At];s[Ct.uuid]=Tt,e[Tt]=Ct,s[St]=At,e[At]=xt;for(let Rt=0,yt=nt;Rt!==yt;++Rt){const Ot=d[Rt],Nt=Ot[At],bt=Ot[Tt];Ot[Tt]=Nt,Ot[At]=bt}}}this.nCachedObjects_=o}uncache(){const e=this._objects,s=this._indicesByUUID,d=this._bindings,nt=d.length;let o=this.nCachedObjects_,ft=e.length;for(let gt=0,xt=arguments.length;gt!==xt;++gt){const St=arguments[gt],Tt=St.uuid,At=s[Tt];if(At!==void 0)if(delete s[Tt],At<o){const Ct=--o,Rt=e[Ct],yt=--ft,Ot=e[yt];s[Rt.uuid]=At,e[At]=Rt,s[Ot.uuid]=Ct,e[Ct]=Ot,e.pop();for(let Nt=0,bt=nt;Nt!==bt;++Nt){const Dt=d[Nt],Ft=Dt[Ct],Ut=Dt[yt];Dt[At]=Ft,Dt[Ct]=Ut,Dt.pop()}}else{const Ct=--ft,Rt=e[Ct];Ct>0&&(s[Rt.uuid]=At),e[At]=Rt,e.pop();for(let yt=0,Ot=nt;yt!==Ot;++yt){const Nt=d[yt];Nt[At]=Nt[Ct],Nt.pop()}}}this.nCachedObjects_=o}subscribe_(e,s){const d=this._bindingsIndicesByPath;let nt=d[e];const o=this._bindings;if(nt!==void 0)return o[nt];const ft=this._paths,gt=this._parsedPaths,xt=this._objects,St=xt.length,Tt=this.nCachedObjects_,At=new Array(St);nt=o.length,d[e]=nt,ft.push(e),gt.push(s),o.push(At);for(let Ct=Tt,Rt=xt.length;Ct!==Rt;++Ct){const yt=xt[Ct];At[Ct]=new PropertyBinding(yt,e,s)}return At}unsubscribe_(e){const s=this._bindingsIndicesByPath,d=s[e];if(d!==void 0){const nt=this._paths,o=this._parsedPaths,ft=this._bindings,gt=ft.length-1,xt=ft[gt],St=e[gt];s[St]=d,ft[d]=xt,ft.pop(),o[d]=o[gt],o.pop(),nt[d]=nt[gt],nt.pop()}}}class AnimationAction{constructor(e,s,d=null,nt=s.blendMode){this._mixer=e,this._clip=s,this._localRoot=d,this.blendMode=nt;const o=s.tracks,ft=o.length,gt=new Array(ft),xt={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let St=0;St!==ft;++St){const Tt=o[St].createInterpolant(null);gt[St]=Tt,Tt.settings=xt}this._interpolantSettings=xt,this._interpolants=gt,this._propertyBindings=new Array(ft),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,s){return this.loop=e,this.repetitions=s,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,s,d=!1){if(e.fadeOut(s),this.fadeIn(s),d===!0){const nt=this._clip.duration,o=e._clip.duration,ft=o/nt,gt=nt/o;e.warp(1,ft,s),this.warp(gt,1,s)}return this}crossFadeTo(e,s,d=!1){return e.crossFadeFrom(this,s,d)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,s,d){const nt=this._mixer,o=nt.time,ft=this.timeScale;let gt=this._timeScaleInterpolant;gt===null&&(gt=nt._lendControlInterpolant(),this._timeScaleInterpolant=gt);const xt=gt.parameterPositions,St=gt.sampleValues;return xt[0]=o,xt[1]=o+d,St[0]=e/ft,St[1]=s/ft,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,s,d,nt){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const xt=(e-o)*d;xt<0||d===0?s=0:(this._startTime=null,s=d*xt)}s*=this._updateTimeScale(e);const ft=this._updateTime(s),gt=this._updateWeight(e);if(gt>0){const xt=this._interpolants,St=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let Tt=0,At=xt.length;Tt!==At;++Tt)xt[Tt].evaluate(ft),St[Tt].accumulateAdditive(gt);break;case NormalAnimationBlendMode:default:for(let Tt=0,At=xt.length;Tt!==At;++Tt)xt[Tt].evaluate(ft),St[Tt].accumulate(nt,gt)}}}_updateWeight(e){let s=0;if(this.enabled){s=this.weight;const d=this._weightInterpolant;if(d!==null){const nt=d.evaluate(e)[0];s*=nt,e>d.parameterPositions[1]&&(this.stopFading(),nt===0&&(this.enabled=!1))}}return this._effectiveWeight=s,s}_updateTimeScale(e){let s=0;if(!this.paused){s=this.timeScale;const d=this._timeScaleInterpolant;if(d!==null){const nt=d.evaluate(e)[0];s*=nt,e>d.parameterPositions[1]&&(this.stopWarping(),s===0?this.paused=!0:this.timeScale=s)}}return this._effectiveTimeScale=s,s}_updateTime(e){const s=this._clip.duration,d=this.loop;let nt=this.time+e,o=this._loopCount;const ft=d===LoopPingPong;if(e===0)return o===-1?nt:ft&&(o&1)===1?s-nt:nt;if(d===LoopOnce){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(nt>=s)nt=s;else if(nt<0)nt=0;else{this.time=nt;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=nt,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,ft)):this._setEndings(this.repetitions===0,!0,ft)),nt>=s||nt<0){const gt=Math.floor(nt/s);nt-=s*gt,o+=Math.abs(gt);const xt=this.repetitions-o;if(xt<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,nt=e>0?s:0,this.time=nt,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(xt===1){const St=e<0;this._setEndings(St,!St,ft)}else this._setEndings(!1,!1,ft);this._loopCount=o,this.time=nt,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:gt})}}else this.time=nt;if(ft&&(o&1)===1)return s-nt}return nt}_setEndings(e,s,d){const nt=this._interpolantSettings;d?(nt.endingStart=ZeroSlopeEnding,nt.endingEnd=ZeroSlopeEnding):(e?nt.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:nt.endingStart=WrapAroundEnding,s?nt.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:nt.endingEnd=WrapAroundEnding)}_scheduleFading(e,s,d){const nt=this._mixer,o=nt.time;let ft=this._weightInterpolant;ft===null&&(ft=nt._lendControlInterpolant(),this._weightInterpolant=ft);const gt=ft.parameterPositions,xt=ft.sampleValues;return gt[0]=o,xt[0]=s,gt[1]=o+e,xt[1]=d,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher$1{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,s){const d=e._localRoot||this._root,nt=e._clip.tracks,o=nt.length,ft=e._propertyBindings,gt=e._interpolants,xt=d.uuid,St=this._bindingsByRootAndName;let Tt=St[xt];Tt===void 0&&(Tt={},St[xt]=Tt);for(let At=0;At!==o;++At){const Ct=nt[At],Rt=Ct.name;let yt=Tt[Rt];if(yt!==void 0)++yt.referenceCount,ft[At]=yt;else{if(yt=ft[At],yt!==void 0){yt._cacheIndex===null&&(++yt.referenceCount,this._addInactiveBinding(yt,xt,Rt));continue}const Ot=s&&s._propertyBindings[At].binding.parsedPath;yt=new PropertyMixer(PropertyBinding.create(d,Rt,Ot),Ct.ValueTypeName,Ct.getValueSize()),++yt.referenceCount,this._addInactiveBinding(yt,xt,Rt),ft[At]=yt}gt[At].resultBuffer=yt.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const d=(e._localRoot||this._root).uuid,nt=e._clip.uuid,o=this._actionsByClip[nt];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,nt,d)}const s=e._propertyBindings;for(let d=0,nt=s.length;d!==nt;++d){const o=s[d];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const s=e._propertyBindings;for(let d=0,nt=s.length;d!==nt;++d){const o=s[d];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const s=e._cacheIndex;return s!==null&&s<this._nActiveActions}_addInactiveAction(e,s,d){const nt=this._actions,o=this._actionsByClip;let ft=o[s];if(ft===void 0)ft={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[s]=ft;else{const gt=ft.knownActions;e._byClipCacheIndex=gt.length,gt.push(e)}e._cacheIndex=nt.length,nt.push(e),ft.actionByRoot[d]=e}_removeInactiveAction(e){const s=this._actions,d=s[s.length-1],nt=e._cacheIndex;d._cacheIndex=nt,s[nt]=d,s.pop(),e._cacheIndex=null;const o=e._clip.uuid,ft=this._actionsByClip,gt=ft[o],xt=gt.knownActions,St=xt[xt.length-1],Tt=e._byClipCacheIndex;St._byClipCacheIndex=Tt,xt[Tt]=St,xt.pop(),e._byClipCacheIndex=null;const At=gt.actionByRoot,Ct=(e._localRoot||this._root).uuid;delete At[Ct],xt.length===0&&delete ft[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const s=e._propertyBindings;for(let d=0,nt=s.length;d!==nt;++d){const o=s[d];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const s=this._actions,d=e._cacheIndex,nt=this._nActiveActions++,o=s[nt];e._cacheIndex=nt,s[nt]=e,o._cacheIndex=d,s[d]=o}_takeBackAction(e){const s=this._actions,d=e._cacheIndex,nt=--this._nActiveActions,o=s[nt];e._cacheIndex=nt,s[nt]=e,o._cacheIndex=d,s[d]=o}_addInactiveBinding(e,s,d){const nt=this._bindingsByRootAndName,o=this._bindings;let ft=nt[s];ft===void 0&&(ft={},nt[s]=ft),ft[d]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const s=this._bindings,d=e.binding,nt=d.rootNode.uuid,o=d.path,ft=this._bindingsByRootAndName,gt=ft[nt],xt=s[s.length-1],St=e._cacheIndex;xt._cacheIndex=St,s[St]=xt,s.pop(),delete gt[o],Object.keys(gt).length===0&&delete ft[nt]}_lendBinding(e){const s=this._bindings,d=e._cacheIndex,nt=this._nActiveBindings++,o=s[nt];e._cacheIndex=nt,s[nt]=e,o._cacheIndex=d,s[d]=o}_takeBackBinding(e){const s=this._bindings,d=e._cacheIndex,nt=--this._nActiveBindings,o=s[nt];e._cacheIndex=nt,s[nt]=e,o._cacheIndex=d,s[d]=o}_lendControlInterpolant(){const e=this._controlInterpolants,s=this._nActiveControlInterpolants++;let d=e[s];return d===void 0&&(d=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),d.__cacheIndex=s,e[s]=d),d}_takeBackControlInterpolant(e){const s=this._controlInterpolants,d=e.__cacheIndex,nt=--this._nActiveControlInterpolants,o=s[nt];e.__cacheIndex=nt,s[nt]=e,o.__cacheIndex=d,s[d]=o}clipAction(e,s,d){const nt=s||this._root,o=nt.uuid;let ft=typeof e=="string"?AnimationClip.findByName(nt,e):e;const gt=ft!==null?ft.uuid:e,xt=this._actionsByClip[gt];let St=null;if(d===void 0&&(ft!==null?d=ft.blendMode:d=NormalAnimationBlendMode),xt!==void 0){const At=xt.actionByRoot[o];if(At!==void 0&&At.blendMode===d)return At;St=xt.knownActions[0],ft===null&&(ft=St._clip)}if(ft===null)return null;const Tt=new AnimationAction(this,ft,s,d);return this._bindAction(Tt,St),this._addInactiveAction(Tt,gt,o),Tt}existingAction(e,s){const d=s||this._root,nt=d.uuid,o=typeof e=="string"?AnimationClip.findByName(d,e):e,ft=o?o.uuid:e,gt=this._actionsByClip[ft];return gt!==void 0&&gt.actionByRoot[nt]||null}stopAllAction(){const e=this._actions,s=this._nActiveActions;for(let d=s-1;d>=0;--d)e[d].stop();return this}update(e){e*=this.timeScale;const s=this._actions,d=this._nActiveActions,nt=this.time+=e,o=Math.sign(e),ft=this._accuIndex^=1;for(let St=0;St!==d;++St)s[St]._update(nt,e,o,ft);const gt=this._bindings,xt=this._nActiveBindings;for(let St=0;St!==xt;++St)gt[St].apply(ft);return this}setTime(e){this.time=0;for(let s=0;s<this._actions.length;s++)this._actions[s].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const s=this._actions,d=e.uuid,nt=this._actionsByClip,o=nt[d];if(o!==void 0){const ft=o.knownActions;for(let gt=0,xt=ft.length;gt!==xt;++gt){const St=ft[gt];this._deactivateAction(St);const Tt=St._cacheIndex,At=s[s.length-1];St._cacheIndex=null,St._byClipCacheIndex=null,At._cacheIndex=Tt,s[Tt]=At,s.pop(),this._removeInactiveBindingsForAction(St)}delete nt[d]}}uncacheRoot(e){const s=e.uuid,d=this._actionsByClip;for(const ft in d){const gt=d[ft].actionByRoot,xt=gt[s];xt!==void 0&&(this._deactivateAction(xt),this._removeInactiveAction(xt))}const nt=this._bindingsByRootAndName,o=nt[s];if(o!==void 0)for(const ft in o){const gt=o[ft];gt.restoreOriginalState(),this._removeInactiveBinding(gt)}}uncacheAction(e,s){const d=this.existingAction(e,s);d!==null&&(this._deactivateAction(d),this._removeInactiveAction(d))}}class RenderTarget3D extends RenderTarget{constructor(e=1,s=1,d=1,nt={}){super(e,s,nt),this.isRenderTarget3D=!0,this.depth=d,this.texture=new Data3DTexture(null,e,s,d),this.texture.isRenderTargetTexture=!0}}class RenderTargetArray extends RenderTarget{constructor(e=1,s=1,d=1,nt={}){super(e,s,nt),this.isRenderTargetArray=!0,this.depth=d,this.texture=new DataArrayTexture(null,e,s,d),this.texture.isRenderTargetTexture=!0}}class Uniform{constructor(e){this.value=e}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let _id$3=0;class UniformsGroup extends EventDispatcher$1{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_id$3++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const s=this.uniforms.indexOf(e);return s!==-1&&this.uniforms.splice(s,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const s=e.uniforms;this.uniforms.length=0;for(let d=0,nt=s.length;d<nt;d++){const o=Array.isArray(s[d])?s[d]:[s[d]];for(let ft=0;ft<o.length;ft++)this.uniforms.push(o[ft].clone())}return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(e,s,d=1){super(e,s),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=d}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const s=super.clone(e);return s.meshPerAttribute=this.meshPerAttribute,s}toJSON(e){const s=super.toJSON(e);return s.isInstancedInterleavedBuffer=!0,s.meshPerAttribute=this.meshPerAttribute,s}}class GLBufferAttribute{constructor(e,s,d,nt,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=s,this.itemSize=d,this.elementSize=nt,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,s){return this.type=e,this.elementSize=s,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const _matrix=new Matrix4;class Raycaster{constructor(e,s,d=0,nt=1/0){this.ray=new Ray(e,s),this.near=d,this.far=nt,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,s){this.ray.set(e,s)}setFromCamera(e,s){s.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(s.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(s).sub(this.ray.origin).normalize(),this.camera=s):s.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(s.near+s.far)/(s.near-s.far)).unproject(s),this.ray.direction.set(0,0,-1).transformDirection(s.matrixWorld),this.camera=s):console.error("THREE.Raycaster: Unsupported camera type: "+s.type)}setFromXRController(e){return _matrix.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(_matrix),this}intersectObject(e,s=!0,d=[]){return intersect(e,this,d,s),d.sort(ascSort),d}intersectObjects(e,s=!0,d=[]){for(let nt=0,o=e.length;nt<o;nt++)intersect(e[nt],this,d,s);return d.sort(ascSort),d}}function ascSort(c,e){return c.distance-e.distance}function intersect(c,e,s,d){let nt=!0;if(c.layers.test(e.layers)&&c.raycast(e,s)===!1&&(nt=!1),nt===!0&&d===!0){const o=c.children;for(let ft=0,gt=o.length;ft<gt;ft++)intersect(o[ft],e,s,!0)}}class Spherical{constructor(e=1,s=0,d=0){this.radius=e,this.phi=s,this.theta=d}set(e,s,d){return this.radius=e,this.phi=s,this.theta=d,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=clamp(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,s,d){return this.radius=Math.sqrt(e*e+s*s+d*d),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,d),this.phi=Math.acos(clamp(s/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(e=1,s=0,d=0){this.radius=e,this.theta=s,this.y=d}set(e,s,d){return this.radius=e,this.theta=s,this.y=d,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,s,d){return this.radius=Math.sqrt(e*e+d*d),this.theta=Math.atan2(e,d),this.y=s,this}clone(){return new this.constructor().copy(this)}}class Matrix2{constructor(e,s,d,nt){Matrix2.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,s,d,nt)}identity(){return this.set(1,0,0,1),this}fromArray(e,s=0){for(let d=0;d<4;d++)this.elements[d]=e[d+s];return this}set(e,s,d,nt){const o=this.elements;return o[0]=e,o[2]=s,o[1]=d,o[3]=nt,this}}const _vector$4=new Vector2;class Box2{constructor(e=new Vector2(1/0,1/0),s=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=s}set(e,s){return this.min.copy(e),this.max.copy(s),this}setFromPoints(e){this.makeEmpty();for(let s=0,d=e.length;s<d;s++)this.expandByPoint(e[s]);return this}setFromCenterAndSize(e,s){const d=_vector$4.copy(s).multiplyScalar(.5);return this.min.copy(e).sub(d),this.max.copy(e).add(d),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,s){return s.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,s){return s.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_vector$4).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(e=new Vector3,s=new Vector3){this.start=e,this.end=s}set(e,s){return this.start.copy(e),this.end.copy(s),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,s){return this.delta(s).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,s){_startP.subVectors(e,this.start),_startEnd.subVectors(this.end,this.start);const d=_startEnd.dot(_startEnd);let o=_startEnd.dot(_startP)/d;return s&&(o=clamp(o,0,1)),o}closestPointToPoint(e,s,d){const nt=this.closestPointToPointParameter(e,s);return this.delta(d).multiplyScalar(nt).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(e,s){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=s,this.type="SpotLightHelper";const d=new BufferGeometry,nt=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let ft=0,gt=1,xt=32;ft<xt;ft++,gt++){const St=ft/xt*Math.PI*2,Tt=gt/xt*Math.PI*2;nt.push(Math.cos(St),Math.sin(St),1,Math.cos(Tt),Math.sin(Tt),1)}d.setAttribute("position",new Float32BufferAttribute(nt,3));const o=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(d,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,s=e*Math.tan(this.light.angle);this.cone.scale.set(s,s,e),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(e){const s=getBoneList(e),d=new BufferGeometry,nt=[],o=[],ft=new Color(0,0,1),gt=new Color(0,1,0);for(let St=0;St<s.length;St++){const Tt=s[St];Tt.parent&&Tt.parent.isBone&&(nt.push(0,0,0),nt.push(0,0,0),o.push(ft.r,ft.g,ft.b),o.push(gt.r,gt.g,gt.b))}d.setAttribute("position",new Float32BufferAttribute(nt,3)),d.setAttribute("color",new Float32BufferAttribute(o,3));const xt=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(d,xt),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=s,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const s=this.bones,d=this.geometry,nt=d.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let o=0,ft=0;o<s.length;o++){const gt=s[o];gt.parent&&gt.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,gt.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),nt.setXYZ(ft,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,gt.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),nt.setXYZ(ft+1,_vector$2.x,_vector$2.y,_vector$2.z),ft+=2)}d.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList(c){const e=[];c.isBone===!0&&e.push(c);for(let s=0;s<c.children.length;s++)e.push(...getBoneList(c.children[s]));return e}class PointLightHelper extends Mesh{constructor(e,s,d){const nt=new SphereGeometry(s,4,2),o=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(nt,o),this.light=e,this.color=d,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color,_color2=new Color;class HemisphereLightHelper extends Object3D{constructor(e,s,d){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=d,this.type="HemisphereLightHelper";const nt=new OctahedronGeometry(s);nt.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=nt.getAttribute("position"),ft=new Float32Array(o.count*3);nt.setAttribute("color",new BufferAttribute(ft,3)),this.add(new Mesh(nt,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const s=e.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let d=0,nt=s.count;d<nt;d++){const o=d<nt/2?_color1:_color2;s.setXYZ(d,o.r,o.g,o.b)}s.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(e=10,s=10,d=4473924,nt=8947848){d=new Color(d),nt=new Color(nt);const o=s/2,ft=e/s,gt=e/2,xt=[],St=[];for(let Ct=0,Rt=0,yt=-gt;Ct<=s;Ct++,yt+=ft){xt.push(-gt,0,yt,gt,0,yt),xt.push(yt,0,-gt,yt,0,gt);const Ot=Ct===o?d:nt;Ot.toArray(St,Rt),Rt+=3,Ot.toArray(St,Rt),Rt+=3,Ot.toArray(St,Rt),Rt+=3,Ot.toArray(St,Rt),Rt+=3}const Tt=new BufferGeometry;Tt.setAttribute("position",new Float32BufferAttribute(xt,3)),Tt.setAttribute("color",new Float32BufferAttribute(St,3));const At=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(Tt,At),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor(e=10,s=16,d=8,nt=64,o=4473924,ft=8947848){o=new Color(o),ft=new Color(ft);const gt=[],xt=[];if(s>1)for(let At=0;At<s;At++){const Ct=At/s*(Math.PI*2),Rt=Math.sin(Ct)*e,yt=Math.cos(Ct)*e;gt.push(0,0,0),gt.push(Rt,0,yt);const Ot=At&1?o:ft;xt.push(Ot.r,Ot.g,Ot.b),xt.push(Ot.r,Ot.g,Ot.b)}for(let At=0;At<d;At++){const Ct=At&1?o:ft,Rt=e-e/d*At;for(let yt=0;yt<nt;yt++){let Ot=yt/nt*(Math.PI*2),Nt=Math.sin(Ot)*Rt,bt=Math.cos(Ot)*Rt;gt.push(Nt,0,bt),xt.push(Ct.r,Ct.g,Ct.b),Ot=(yt+1)/nt*(Math.PI*2),Nt=Math.sin(Ot)*Rt,bt=Math.cos(Ot)*Rt,gt.push(Nt,0,bt),xt.push(Ct.r,Ct.g,Ct.b)}}const St=new BufferGeometry;St.setAttribute("position",new Float32BufferAttribute(gt,3)),St.setAttribute("color",new Float32BufferAttribute(xt,3));const Tt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(St,Tt),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(e,s,d){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=d,this.type="DirectionalLightHelper",s===void 0&&(s=1);let nt=new BufferGeometry;nt.setAttribute("position",new Float32BufferAttribute([-s,s,0,s,s,0,s,-s,0,-s,-s,0,-s,s,0],3));const o=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(nt,o),this.add(this.lightPlane),nt=new BufferGeometry,nt.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(nt,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(e){const s=new BufferGeometry,d=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),nt=[],o=[],ft={};gt("n1","n2"),gt("n2","n4"),gt("n4","n3"),gt("n3","n1"),gt("f1","f2"),gt("f2","f4"),gt("f4","f3"),gt("f3","f1"),gt("n1","f1"),gt("n2","f2"),gt("n3","f3"),gt("n4","f4"),gt("p","n1"),gt("p","n2"),gt("p","n3"),gt("p","n4"),gt("u1","u2"),gt("u2","u3"),gt("u3","u1"),gt("c","t"),gt("p","c"),gt("cn1","cn2"),gt("cn3","cn4"),gt("cf1","cf2"),gt("cf3","cf4");function gt(yt,Ot){xt(yt),xt(Ot)}function xt(yt){nt.push(0,0,0),o.push(0,0,0),ft[yt]===void 0&&(ft[yt]=[]),ft[yt].push(nt.length/3-1)}s.setAttribute("position",new Float32BufferAttribute(nt,3)),s.setAttribute("color",new Float32BufferAttribute(o,3)),super(s,d),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=ft,this.update();const St=new Color(16755200),Tt=new Color(16711680),At=new Color(43775),Ct=new Color(16777215),Rt=new Color(3355443);this.setColors(St,Tt,At,Ct,Rt)}setColors(e,s,d,nt,o){const gt=this.geometry.getAttribute("color");gt.setXYZ(0,e.r,e.g,e.b),gt.setXYZ(1,e.r,e.g,e.b),gt.setXYZ(2,e.r,e.g,e.b),gt.setXYZ(3,e.r,e.g,e.b),gt.setXYZ(4,e.r,e.g,e.b),gt.setXYZ(5,e.r,e.g,e.b),gt.setXYZ(6,e.r,e.g,e.b),gt.setXYZ(7,e.r,e.g,e.b),gt.setXYZ(8,e.r,e.g,e.b),gt.setXYZ(9,e.r,e.g,e.b),gt.setXYZ(10,e.r,e.g,e.b),gt.setXYZ(11,e.r,e.g,e.b),gt.setXYZ(12,e.r,e.g,e.b),gt.setXYZ(13,e.r,e.g,e.b),gt.setXYZ(14,e.r,e.g,e.b),gt.setXYZ(15,e.r,e.g,e.b),gt.setXYZ(16,e.r,e.g,e.b),gt.setXYZ(17,e.r,e.g,e.b),gt.setXYZ(18,e.r,e.g,e.b),gt.setXYZ(19,e.r,e.g,e.b),gt.setXYZ(20,e.r,e.g,e.b),gt.setXYZ(21,e.r,e.g,e.b),gt.setXYZ(22,e.r,e.g,e.b),gt.setXYZ(23,e.r,e.g,e.b),gt.setXYZ(24,s.r,s.g,s.b),gt.setXYZ(25,s.r,s.g,s.b),gt.setXYZ(26,s.r,s.g,s.b),gt.setXYZ(27,s.r,s.g,s.b),gt.setXYZ(28,s.r,s.g,s.b),gt.setXYZ(29,s.r,s.g,s.b),gt.setXYZ(30,s.r,s.g,s.b),gt.setXYZ(31,s.r,s.g,s.b),gt.setXYZ(32,d.r,d.g,d.b),gt.setXYZ(33,d.r,d.g,d.b),gt.setXYZ(34,d.r,d.g,d.b),gt.setXYZ(35,d.r,d.g,d.b),gt.setXYZ(36,d.r,d.g,d.b),gt.setXYZ(37,d.r,d.g,d.b),gt.setXYZ(38,nt.r,nt.g,nt.b),gt.setXYZ(39,nt.r,nt.g,nt.b),gt.setXYZ(40,o.r,o.g,o.b),gt.setXYZ(41,o.r,o.g,o.b),gt.setXYZ(42,o.r,o.g,o.b),gt.setXYZ(43,o.r,o.g,o.b),gt.setXYZ(44,o.r,o.g,o.b),gt.setXYZ(45,o.r,o.g,o.b),gt.setXYZ(46,o.r,o.g,o.b),gt.setXYZ(47,o.r,o.g,o.b),gt.setXYZ(48,o.r,o.g,o.b),gt.setXYZ(49,o.r,o.g,o.b),gt.needsUpdate=!0}update(){const e=this.geometry,s=this.pointMap,d=1,nt=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const o=this.camera.coordinateSystem===WebGLCoordinateSystem?-1:0;setPoint("c",s,e,_camera,0,0,o),setPoint("t",s,e,_camera,0,0,1),setPoint("n1",s,e,_camera,-1,-1,o),setPoint("n2",s,e,_camera,d,-1,o),setPoint("n3",s,e,_camera,-1,nt,o),setPoint("n4",s,e,_camera,d,nt,o),setPoint("f1",s,e,_camera,-1,-1,1),setPoint("f2",s,e,_camera,d,-1,1),setPoint("f3",s,e,_camera,-1,nt,1),setPoint("f4",s,e,_camera,d,nt,1),setPoint("u1",s,e,_camera,d*.7,nt*1.1,o),setPoint("u2",s,e,_camera,-1*.7,nt*1.1,o),setPoint("u3",s,e,_camera,0,nt*2,o),setPoint("cf1",s,e,_camera,-1,0,1),setPoint("cf2",s,e,_camera,d,0,1),setPoint("cf3",s,e,_camera,0,-1,1),setPoint("cf4",s,e,_camera,0,nt,1),setPoint("cn1",s,e,_camera,-1,0,o),setPoint("cn2",s,e,_camera,d,0,o),setPoint("cn3",s,e,_camera,0,-1,o),setPoint("cn4",s,e,_camera,0,nt,o),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(c,e,s,d,nt,o,ft){_vector.set(nt,o,ft).unproject(d);const gt=e[c];if(gt!==void 0){const xt=s.getAttribute("position");for(let St=0,Tt=gt.length;St<Tt;St++)xt.setXYZ(gt[St],_vector.x,_vector.y,_vector.z)}}const _box=new Box3;class BoxHelper extends LineSegments{constructor(e,s=16776960){const d=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),nt=new Float32Array(8*3),o=new BufferGeometry;o.setIndex(new BufferAttribute(d,1)),o.setAttribute("position",new BufferAttribute(nt,3)),super(o,new LineBasicMaterial({color:s,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&_box.setFromObject(this.object),_box.isEmpty())return;const e=_box.min,s=_box.max,d=this.geometry.attributes.position,nt=d.array;nt[0]=s.x,nt[1]=s.y,nt[2]=s.z,nt[3]=e.x,nt[4]=s.y,nt[5]=s.z,nt[6]=e.x,nt[7]=e.y,nt[8]=s.z,nt[9]=s.x,nt[10]=e.y,nt[11]=s.z,nt[12]=s.x,nt[13]=s.y,nt[14]=e.z,nt[15]=e.x,nt[16]=s.y,nt[17]=e.z,nt[18]=e.x,nt[19]=e.y,nt[20]=e.z,nt[21]=s.x,nt[22]=e.y,nt[23]=e.z,d.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,s){return super.copy(e,s),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor(e,s=16776960){const d=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),nt=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new BufferGeometry;o.setIndex(new BufferAttribute(d,1)),o.setAttribute("position",new Float32BufferAttribute(nt,3)),super(o,new LineBasicMaterial({color:s,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const s=this.box;s.isEmpty()||(s.getCenter(this.position),s.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line{constructor(e,s=1,d=16776960){const nt=d,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],ft=new BufferGeometry;ft.setAttribute("position",new Float32BufferAttribute(o,3)),ft.computeBoundingSphere(),super(ft,new LineBasicMaterial({color:nt,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=s;const gt=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],xt=new BufferGeometry;xt.setAttribute("position",new Float32BufferAttribute(gt,3)),xt.computeBoundingSphere(),this.add(new Mesh(xt,new MeshBasicMaterial({color:nt,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(e=new Vector3(0,0,1),s=new Vector3(0,0,0),d=1,nt=16776960,o=d*.2,ft=o*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new ConeGeometry(.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(s),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:nt,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:nt,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(d,o,ft)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(e.z,0,-e.x).normalize();const s=Math.acos(e.y);this.quaternion.setFromAxisAngle(_axis,s)}}setLength(e,s=e*.2,d=s*.2){this.line.scale.set(1,Math.max(1e-4,e-s),1),this.line.updateMatrix(),this.cone.scale.set(d,s,d),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor(e=1){const s=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],d=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],nt=new BufferGeometry;nt.setAttribute("position",new Float32BufferAttribute(s,3)),nt.setAttribute("color",new Float32BufferAttribute(d,3));const o=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(nt,o),this.type="AxesHelper"}setColors(e,s,d){const nt=new Color,o=this.geometry.attributes.color.array;return nt.set(e),nt.toArray(o,0),nt.toArray(o,3),nt.set(s),nt.toArray(o,6),nt.toArray(o,9),nt.set(d),nt.toArray(o,12),nt.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color,this.subPaths=[],this.currentPath=null}moveTo(e,s){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,s),this}lineTo(e,s){return this.currentPath.lineTo(e,s),this}quadraticCurveTo(e,s,d,nt){return this.currentPath.quadraticCurveTo(e,s,d,nt),this}bezierCurveTo(e,s,d,nt,o,ft){return this.currentPath.bezierCurveTo(e,s,d,nt,o,ft),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function s(bt){const Dt=[];for(let Ft=0,Ut=bt.length;Ft<Ut;Ft++){const Wt=bt[Ft],Gt=new Shape;Gt.curves=Wt.curves,Dt.push(Gt)}return Dt}function d(bt,Dt){const Ft=Dt.length;let Ut=!1;for(let Wt=Ft-1,Gt=0;Gt<Ft;Wt=Gt++){let Xt=Dt[Wt],Yt=Dt[Gt],Kt=Yt.x-Xt.x,jt=Yt.y-Xt.y;if(Math.abs(jt)>Number.EPSILON){if(jt<0&&(Xt=Dt[Gt],Kt=-Kt,Yt=Dt[Wt],jt=-jt),bt.y<Xt.y||bt.y>Yt.y)continue;if(bt.y===Xt.y){if(bt.x===Xt.x)return!0}else{const Jt=jt*(bt.x-Xt.x)-Kt*(bt.y-Xt.y);if(Jt===0)return!0;if(Jt<0)continue;Ut=!Ut}}else{if(bt.y!==Xt.y)continue;if(Yt.x<=bt.x&&bt.x<=Xt.x||Xt.x<=bt.x&&bt.x<=Yt.x)return!0}}return Ut}const nt=ShapeUtils.isClockWise,o=this.subPaths;if(o.length===0)return[];let ft,gt,xt;const St=[];if(o.length===1)return gt=o[0],xt=new Shape,xt.curves=gt.curves,St.push(xt),St;let Tt=!nt(o[0].getPoints());Tt=e?!Tt:Tt;const At=[],Ct=[];let Rt=[],yt=0,Ot;Ct[yt]=void 0,Rt[yt]=[];for(let bt=0,Dt=o.length;bt<Dt;bt++)gt=o[bt],Ot=gt.getPoints(),ft=nt(Ot),ft=e?!ft:ft,ft?(!Tt&&Ct[yt]&&yt++,Ct[yt]={s:new Shape,p:Ot},Ct[yt].s.curves=gt.curves,Tt&&yt++,Rt[yt]=[]):Rt[yt].push({h:gt,p:Ot[0]});if(!Ct[0])return s(o);if(Ct.length>1){let bt=!1,Dt=0;for(let Ft=0,Ut=Ct.length;Ft<Ut;Ft++)At[Ft]=[];for(let Ft=0,Ut=Ct.length;Ft<Ut;Ft++){const Wt=Rt[Ft];for(let Gt=0;Gt<Wt.length;Gt++){const Xt=Wt[Gt];let Yt=!0;for(let Kt=0;Kt<Ct.length;Kt++)d(Xt.p,Ct[Kt].p)&&(Ft!==Kt&&Dt++,Yt?(Yt=!1,At[Kt].push(Xt)):bt=!0);Yt&&At[Ft].push(Xt)}}Dt>0&&bt===!1&&(Rt=At)}let Nt;for(let bt=0,Dt=Ct.length;bt<Dt;bt++){xt=Ct[bt].s,St.push(xt),Nt=Rt[bt];for(let Ft=0,Ut=Nt.length;Ft<Ut;Ft++)xt.holes.push(Nt[Ft].h)}return St}}class Controls extends EventDispatcher$1{constructor(e,s=null){super(),this.object=e,this.domElement=s,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function contain(c,e){const s=c.image&&c.image.width?c.image.width/c.image.height:1;return s>e?(c.repeat.x=1,c.repeat.y=s/e,c.offset.x=0,c.offset.y=(1-c.repeat.y)/2):(c.repeat.x=e/s,c.repeat.y=1,c.offset.x=(1-c.repeat.x)/2,c.offset.y=0),c}function cover(c,e){const s=c.image&&c.image.width?c.image.width/c.image.height:1;return s>e?(c.repeat.x=e/s,c.repeat.y=1,c.offset.x=(1-c.repeat.x)/2,c.offset.y=0):(c.repeat.x=1,c.repeat.y=s/e,c.offset.x=0,c.offset.y=(1-c.repeat.y)/2),c}function fill(c){return c.repeat.x=1,c.repeat.y=1,c.offset.x=0,c.offset.y=0,c}function getByteLength(c,e,s,d){const nt=getTextureTypeByteLength(d);switch(s){case AlphaFormat:return c*e;case RedFormat:return c*e/nt.components*nt.byteLength;case RedIntegerFormat:return c*e/nt.components*nt.byteLength;case RGFormat:return c*e*2/nt.components*nt.byteLength;case RGIntegerFormat:return c*e*2/nt.components*nt.byteLength;case RGBFormat:return c*e*3/nt.components*nt.byteLength;case RGBAFormat:return c*e*4/nt.components*nt.byteLength;case RGBAIntegerFormat:return c*e*4/nt.components*nt.byteLength;case RGB_S3TC_DXT1_Format:case RGBA_S3TC_DXT1_Format:return Math.floor((c+3)/4)*Math.floor((e+3)/4)*8;case RGBA_S3TC_DXT3_Format:case RGBA_S3TC_DXT5_Format:return Math.floor((c+3)/4)*Math.floor((e+3)/4)*16;case RGB_PVRTC_2BPPV1_Format:case RGBA_PVRTC_2BPPV1_Format:return Math.max(c,16)*Math.max(e,8)/4;case RGB_PVRTC_4BPPV1_Format:case RGBA_PVRTC_4BPPV1_Format:return Math.max(c,8)*Math.max(e,8)/2;case RGB_ETC1_Format:case RGB_ETC2_Format:return Math.floor((c+3)/4)*Math.floor((e+3)/4)*8;case RGBA_ETC2_EAC_Format:return Math.floor((c+3)/4)*Math.floor((e+3)/4)*16;case RGBA_ASTC_4x4_Format:return Math.floor((c+3)/4)*Math.floor((e+3)/4)*16;case RGBA_ASTC_5x4_Format:return Math.floor((c+4)/5)*Math.floor((e+3)/4)*16;case RGBA_ASTC_5x5_Format:return Math.floor((c+4)/5)*Math.floor((e+4)/5)*16;case RGBA_ASTC_6x5_Format:return Math.floor((c+5)/6)*Math.floor((e+4)/5)*16;case RGBA_ASTC_6x6_Format:return Math.floor((c+5)/6)*Math.floor((e+5)/6)*16;case RGBA_ASTC_8x5_Format:return Math.floor((c+7)/8)*Math.floor((e+4)/5)*16;case RGBA_ASTC_8x6_Format:return Math.floor((c+7)/8)*Math.floor((e+5)/6)*16;case RGBA_ASTC_8x8_Format:return Math.floor((c+7)/8)*Math.floor((e+7)/8)*16;case RGBA_ASTC_10x5_Format:return Math.floor((c+9)/10)*Math.floor((e+4)/5)*16;case RGBA_ASTC_10x6_Format:return Math.floor((c+9)/10)*Math.floor((e+5)/6)*16;case RGBA_ASTC_10x8_Format:return Math.floor((c+9)/10)*Math.floor((e+7)/8)*16;case RGBA_ASTC_10x10_Format:return Math.floor((c+9)/10)*Math.floor((e+9)/10)*16;case RGBA_ASTC_12x10_Format:return Math.floor((c+11)/12)*Math.floor((e+9)/10)*16;case RGBA_ASTC_12x12_Format:return Math.floor((c+11)/12)*Math.floor((e+11)/12)*16;case RGBA_BPTC_Format:case RGB_BPTC_SIGNED_Format:case RGB_BPTC_UNSIGNED_Format:return Math.ceil(c/4)*Math.ceil(e/4)*16;case RED_RGTC1_Format:case SIGNED_RED_RGTC1_Format:return Math.ceil(c/4)*Math.ceil(e/4)*8;case RED_GREEN_RGTC2_Format:case SIGNED_RED_GREEN_RGTC2_Format:return Math.ceil(c/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${s} format.`)}function getTextureTypeByteLength(c){switch(c){case UnsignedByteType:case ByteType:return{byteLength:1,components:1};case UnsignedShortType:case ShortType:case HalfFloatType:return{byteLength:2,components:1};case UnsignedShort4444Type:case UnsignedShort5551Type:return{byteLength:2,components:4};case UnsignedIntType:case IntType:case FloatType:return{byteLength:4,components:1};case UnsignedInt5999Type:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${c}.`)}class TextureUtils{static contain(e,s){return contain(e,s)}static cover(e,s){return cover(e,s)}static fill(e){return fill(e)}static getByteLength(e,s,d,nt){return getByteLength(e,s,d,nt)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function WebGLAnimation(){let c=null,e=!1,s=null,d=null;function nt(o,ft){s(o,ft),d=c.requestAnimationFrame(nt)}return{start:function(){e!==!0&&s!==null&&(d=c.requestAnimationFrame(nt),e=!0)},stop:function(){c.cancelAnimationFrame(d),e=!1},setAnimationLoop:function(o){s=o},setContext:function(o){c=o}}}function WebGLAttributes(c){const e=new WeakMap;function s(gt,xt){const St=gt.array,Tt=gt.usage,At=St.byteLength,Ct=c.createBuffer();c.bindBuffer(xt,Ct),c.bufferData(xt,St,Tt),gt.onUploadCallback();let Rt;if(St instanceof Float32Array)Rt=c.FLOAT;else if(St instanceof Uint16Array)gt.isFloat16BufferAttribute?Rt=c.HALF_FLOAT:Rt=c.UNSIGNED_SHORT;else if(St instanceof Int16Array)Rt=c.SHORT;else if(St instanceof Uint32Array)Rt=c.UNSIGNED_INT;else if(St instanceof Int32Array)Rt=c.INT;else if(St instanceof Int8Array)Rt=c.BYTE;else if(St instanceof Uint8Array)Rt=c.UNSIGNED_BYTE;else if(St instanceof Uint8ClampedArray)Rt=c.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+St);return{buffer:Ct,type:Rt,bytesPerElement:St.BYTES_PER_ELEMENT,version:gt.version,size:At}}function d(gt,xt,St){const Tt=xt.array,At=xt.updateRanges;if(c.bindBuffer(St,gt),At.length===0)c.bufferSubData(St,0,Tt);else{At.sort((Rt,yt)=>Rt.start-yt.start);let Ct=0;for(let Rt=1;Rt<At.length;Rt++){const yt=At[Ct],Ot=At[Rt];Ot.start<=yt.start+yt.count+1?yt.count=Math.max(yt.count,Ot.start+Ot.count-yt.start):(++Ct,At[Ct]=Ot)}At.length=Ct+1;for(let Rt=0,yt=At.length;Rt<yt;Rt++){const Ot=At[Rt];c.bufferSubData(St,Ot.start*Tt.BYTES_PER_ELEMENT,Tt,Ot.start,Ot.count)}xt.clearUpdateRanges()}xt.onUploadCallback()}function nt(gt){return gt.isInterleavedBufferAttribute&&(gt=gt.data),e.get(gt)}function o(gt){gt.isInterleavedBufferAttribute&&(gt=gt.data);const xt=e.get(gt);xt&&(c.deleteBuffer(xt.buffer),e.delete(gt))}function ft(gt,xt){if(gt.isInterleavedBufferAttribute&&(gt=gt.data),gt.isGLBufferAttribute){const Tt=e.get(gt);(!Tt||Tt.version<gt.version)&&e.set(gt,{buffer:gt.buffer,type:gt.type,bytesPerElement:gt.elementSize,version:gt.version});return}const St=e.get(gt);if(St===void 0)e.set(gt,s(gt,xt));else if(St.version<gt.version){if(St.size!==gt.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");d(St.buffer,gt,xt),St.version=gt.version}}return{get:nt,remove:o,update:ft}}var alphahash_fragment=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,alphahash_pars_fragment=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,batching_pars_vertex=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,batching_vertex=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,begin_vertex=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,colorspace_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphinstance_vertex=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,normal_fragment_maps=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,opaque_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uv_pars_fragment=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_pars_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphahash_fragment,alphahash_pars_fragment,alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,batching_pars_vertex,batching_vertex,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,colorspace_fragment,colorspace_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphinstance_vertex,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,opaque_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Matrix3}},envmap:{envMap:{value:null},envMapRotation:{value:new Matrix3},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Matrix3},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Matrix3}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Matrix3},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Matrix3},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Matrix3},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Matrix3},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Matrix3},anisotropyVector:{value:new Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Matrix3}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0},_e1$1=new Euler,_m1$1=new Matrix4;function WebGLBackground(c,e,s,d,nt,o,ft){const gt=new Color(0);let xt=o===!0?0:1,St,Tt,At=null,Ct=0,Rt=null;function yt(Ft){let Ut=Ft.isScene===!0?Ft.background:null;return Ut&&Ut.isTexture&&(Ut=(Ft.backgroundBlurriness>0?s:e).get(Ut)),Ut}function Ot(Ft){let Ut=!1;const Wt=yt(Ft);Wt===null?bt(gt,xt):Wt&&Wt.isColor&&(bt(Wt,1),Ut=!0);const Gt=c.xr.getEnvironmentBlendMode();Gt==="additive"?d.buffers.color.setClear(0,0,0,1,ft):Gt==="alpha-blend"&&d.buffers.color.setClear(0,0,0,0,ft),(c.autoClear||Ut)&&(d.buffers.depth.setTest(!0),d.buffers.depth.setMask(!0),d.buffers.color.setMask(!0),c.clear(c.autoClearColor,c.autoClearDepth,c.autoClearStencil))}function Nt(Ft,Ut){const Wt=yt(Ut);Wt&&(Wt.isCubeTexture||Wt.mapping===CubeUVReflectionMapping)?(Tt===void 0&&(Tt=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),Tt.geometry.deleteAttribute("normal"),Tt.geometry.deleteAttribute("uv"),Tt.onBeforeRender=function(Gt,Xt,Yt){this.matrixWorld.copyPosition(Yt.matrixWorld)},Object.defineProperty(Tt.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),nt.update(Tt)),_e1$1.copy(Ut.backgroundRotation),_e1$1.x*=-1,_e1$1.y*=-1,_e1$1.z*=-1,Wt.isCubeTexture&&Wt.isRenderTargetTexture===!1&&(_e1$1.y*=-1,_e1$1.z*=-1),Tt.material.uniforms.envMap.value=Wt,Tt.material.uniforms.flipEnvMap.value=Wt.isCubeTexture&&Wt.isRenderTargetTexture===!1?-1:1,Tt.material.uniforms.backgroundBlurriness.value=Ut.backgroundBlurriness,Tt.material.uniforms.backgroundIntensity.value=Ut.backgroundIntensity,Tt.material.uniforms.backgroundRotation.value.setFromMatrix4(_m1$1.makeRotationFromEuler(_e1$1)),Tt.material.toneMapped=ColorManagement.getTransfer(Wt.colorSpace)!==SRGBTransfer,(At!==Wt||Ct!==Wt.version||Rt!==c.toneMapping)&&(Tt.material.needsUpdate=!0,At=Wt,Ct=Wt.version,Rt=c.toneMapping),Tt.layers.enableAll(),Ft.unshift(Tt,Tt.geometry,Tt.material,0,0,null)):Wt&&Wt.isTexture&&(St===void 0&&(St=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),St.geometry.deleteAttribute("normal"),Object.defineProperty(St.material,"map",{get:function(){return this.uniforms.t2D.value}}),nt.update(St)),St.material.uniforms.t2D.value=Wt,St.material.uniforms.backgroundIntensity.value=Ut.backgroundIntensity,St.material.toneMapped=ColorManagement.getTransfer(Wt.colorSpace)!==SRGBTransfer,Wt.matrixAutoUpdate===!0&&Wt.updateMatrix(),St.material.uniforms.uvTransform.value.copy(Wt.matrix),(At!==Wt||Ct!==Wt.version||Rt!==c.toneMapping)&&(St.material.needsUpdate=!0,At=Wt,Ct=Wt.version,Rt=c.toneMapping),St.layers.enableAll(),Ft.unshift(St,St.geometry,St.material,0,0,null))}function bt(Ft,Ut){Ft.getRGB(_rgb,getUnlitUniformColorSpace(c)),d.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,Ut,ft)}function Dt(){Tt!==void 0&&(Tt.geometry.dispose(),Tt.material.dispose(),Tt=void 0),St!==void 0&&(St.geometry.dispose(),St.material.dispose(),St=void 0)}return{getClearColor:function(){return gt},setClearColor:function(Ft,Ut=1){gt.set(Ft),xt=Ut,bt(gt,xt)},getClearAlpha:function(){return xt},setClearAlpha:function(Ft){xt=Ft,bt(gt,xt)},render:Ot,addToRenderList:Nt,dispose:Dt}}function WebGLBindingStates(c,e){const s=c.getParameter(c.MAX_VERTEX_ATTRIBS),d={},nt=Ct(null);let o=nt,ft=!1;function gt(jt,Jt,fn,sn,wn){let Mn=!1;const Tn=At(sn,fn,Jt);o!==Tn&&(o=Tn,St(o.object)),Mn=Rt(jt,sn,fn,wn),Mn&&yt(jt,sn,fn,wn),wn!==null&&e.update(wn,c.ELEMENT_ARRAY_BUFFER),(Mn||ft)&&(ft=!1,Ut(jt,Jt,fn,sn),wn!==null&&c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,e.get(wn).buffer))}function xt(){return c.createVertexArray()}function St(jt){return c.bindVertexArray(jt)}function Tt(jt){return c.deleteVertexArray(jt)}function At(jt,Jt,fn){const sn=fn.wireframe===!0;let wn=d[jt.id];wn===void 0&&(wn={},d[jt.id]=wn);let Mn=wn[Jt.id];Mn===void 0&&(Mn={},wn[Jt.id]=Mn);let Tn=Mn[sn];return Tn===void 0&&(Tn=Ct(xt()),Mn[sn]=Tn),Tn}function Ct(jt){const Jt=[],fn=[],sn=[];for(let wn=0;wn<s;wn++)Jt[wn]=0,fn[wn]=0,sn[wn]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Jt,enabledAttributes:fn,attributeDivisors:sn,object:jt,attributes:{},index:null}}function Rt(jt,Jt,fn,sn){const wn=o.attributes,Mn=Jt.attributes;let Tn=0;const kn=fn.getAttributes();for(const rn in kn)if(kn[rn].location>=0){const pn=wn[rn];let Rn=Mn[rn];if(Rn===void 0&&(rn==="instanceMatrix"&&jt.instanceMatrix&&(Rn=jt.instanceMatrix),rn==="instanceColor"&&jt.instanceColor&&(Rn=jt.instanceColor)),pn===void 0||pn.attribute!==Rn||Rn&&pn.data!==Rn.data)return!0;Tn++}return o.attributesNum!==Tn||o.index!==sn}function yt(jt,Jt,fn,sn){const wn={},Mn=Jt.attributes;let Tn=0;const kn=fn.getAttributes();for(const rn in kn)if(kn[rn].location>=0){let pn=Mn[rn];pn===void 0&&(rn==="instanceMatrix"&&jt.instanceMatrix&&(pn=jt.instanceMatrix),rn==="instanceColor"&&jt.instanceColor&&(pn=jt.instanceColor));const Rn={};Rn.attribute=pn,pn&&pn.data&&(Rn.data=pn.data),wn[rn]=Rn,Tn++}o.attributes=wn,o.attributesNum=Tn,o.index=sn}function Ot(){const jt=o.newAttributes;for(let Jt=0,fn=jt.length;Jt<fn;Jt++)jt[Jt]=0}function Nt(jt){bt(jt,0)}function bt(jt,Jt){const fn=o.newAttributes,sn=o.enabledAttributes,wn=o.attributeDivisors;fn[jt]=1,sn[jt]===0&&(c.enableVertexAttribArray(jt),sn[jt]=1),wn[jt]!==Jt&&(c.vertexAttribDivisor(jt,Jt),wn[jt]=Jt)}function Dt(){const jt=o.newAttributes,Jt=o.enabledAttributes;for(let fn=0,sn=Jt.length;fn<sn;fn++)Jt[fn]!==jt[fn]&&(c.disableVertexAttribArray(fn),Jt[fn]=0)}function Ft(jt,Jt,fn,sn,wn,Mn,Tn){Tn===!0?c.vertexAttribIPointer(jt,Jt,fn,wn,Mn):c.vertexAttribPointer(jt,Jt,fn,sn,wn,Mn)}function Ut(jt,Jt,fn,sn){Ot();const wn=sn.attributes,Mn=fn.getAttributes(),Tn=Jt.defaultAttributeValues;for(const kn in Mn){const rn=Mn[kn];if(rn.location>=0){let un=wn[kn];if(un===void 0&&(kn==="instanceMatrix"&&jt.instanceMatrix&&(un=jt.instanceMatrix),kn==="instanceColor"&&jt.instanceColor&&(un=jt.instanceColor)),un!==void 0){const pn=un.normalized,Rn=un.itemSize,zn=e.get(un);if(zn===void 0)continue;const ir=zn.buffer,An=zn.type,jn=zn.bytesPerElement,or=An===c.INT||An===c.UNSIGNED_INT||un.gpuType===IntType;if(un.isInterleavedBufferAttribute){const er=un.data,gr=er.stride,kr=un.offset;if(er.isInstancedInterleavedBuffer){for(let dr=0;dr<rn.locationSize;dr++)bt(rn.location+dr,er.meshPerAttribute);jt.isInstancedMesh!==!0&&sn._maxInstanceCount===void 0&&(sn._maxInstanceCount=er.meshPerAttribute*er.count)}else for(let dr=0;dr<rn.locationSize;dr++)Nt(rn.location+dr);c.bindBuffer(c.ARRAY_BUFFER,ir);for(let dr=0;dr<rn.locationSize;dr++)Ft(rn.location+dr,Rn/rn.locationSize,An,pn,gr*jn,(kr+Rn/rn.locationSize*dr)*jn,or)}else{if(un.isInstancedBufferAttribute){for(let er=0;er<rn.locationSize;er++)bt(rn.location+er,un.meshPerAttribute);jt.isInstancedMesh!==!0&&sn._maxInstanceCount===void 0&&(sn._maxInstanceCount=un.meshPerAttribute*un.count)}else for(let er=0;er<rn.locationSize;er++)Nt(rn.location+er);c.bindBuffer(c.ARRAY_BUFFER,ir);for(let er=0;er<rn.locationSize;er++)Ft(rn.location+er,Rn/rn.locationSize,An,pn,Rn*jn,Rn/rn.locationSize*er*jn,or)}}else if(Tn!==void 0){const pn=Tn[kn];if(pn!==void 0)switch(pn.length){case 2:c.vertexAttrib2fv(rn.location,pn);break;case 3:c.vertexAttrib3fv(rn.location,pn);break;case 4:c.vertexAttrib4fv(rn.location,pn);break;default:c.vertexAttrib1fv(rn.location,pn)}}}}Dt()}function Wt(){Yt();for(const jt in d){const Jt=d[jt];for(const fn in Jt){const sn=Jt[fn];for(const wn in sn)Tt(sn[wn].object),delete sn[wn];delete Jt[fn]}delete d[jt]}}function Gt(jt){if(d[jt.id]===void 0)return;const Jt=d[jt.id];for(const fn in Jt){const sn=Jt[fn];for(const wn in sn)Tt(sn[wn].object),delete sn[wn];delete Jt[fn]}delete d[jt.id]}function Xt(jt){for(const Jt in d){const fn=d[Jt];if(fn[jt.id]===void 0)continue;const sn=fn[jt.id];for(const wn in sn)Tt(sn[wn].object),delete sn[wn];delete fn[jt.id]}}function Yt(){Kt(),ft=!0,o!==nt&&(o=nt,St(o.object))}function Kt(){nt.geometry=null,nt.program=null,nt.wireframe=!1}return{setup:gt,reset:Yt,resetDefaultState:Kt,dispose:Wt,releaseStatesOfGeometry:Gt,releaseStatesOfProgram:Xt,initAttributes:Ot,enableAttribute:Nt,disableUnusedAttributes:Dt}}function WebGLBufferRenderer(c,e,s){let d;function nt(St){d=St}function o(St,Tt){c.drawArrays(d,St,Tt),s.update(Tt,d,1)}function ft(St,Tt,At){At!==0&&(c.drawArraysInstanced(d,St,Tt,At),s.update(Tt,d,At))}function gt(St,Tt,At){if(At===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(d,St,0,Tt,0,At);let Rt=0;for(let yt=0;yt<At;yt++)Rt+=Tt[yt];s.update(Rt,d,1)}function xt(St,Tt,At,Ct){if(At===0)return;const Rt=e.get("WEBGL_multi_draw");if(Rt===null)for(let yt=0;yt<St.length;yt++)ft(St[yt],Tt[yt],Ct[yt]);else{Rt.multiDrawArraysInstancedWEBGL(d,St,0,Tt,0,Ct,0,At);let yt=0;for(let Ot=0;Ot<At;Ot++)yt+=Tt[Ot]*Ct[Ot];s.update(yt,d,1)}}this.setMode=nt,this.render=o,this.renderInstances=ft,this.renderMultiDraw=gt,this.renderMultiDrawInstances=xt}function WebGLCapabilities(c,e,s,d){let nt;function o(){if(nt!==void 0)return nt;if(e.has("EXT_texture_filter_anisotropic")===!0){const Xt=e.get("EXT_texture_filter_anisotropic");nt=c.getParameter(Xt.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else nt=0;return nt}function ft(Xt){return!(Xt!==RGBAFormat&&d.convert(Xt)!==c.getParameter(c.IMPLEMENTATION_COLOR_READ_FORMAT))}function gt(Xt){const Yt=Xt===HalfFloatType&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(Xt!==UnsignedByteType&&d.convert(Xt)!==c.getParameter(c.IMPLEMENTATION_COLOR_READ_TYPE)&&Xt!==FloatType&&!Yt)}function xt(Xt){if(Xt==="highp"){if(c.getShaderPrecisionFormat(c.VERTEX_SHADER,c.HIGH_FLOAT).precision>0&&c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.HIGH_FLOAT).precision>0)return"highp";Xt="mediump"}return Xt==="mediump"&&c.getShaderPrecisionFormat(c.VERTEX_SHADER,c.MEDIUM_FLOAT).precision>0&&c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let St=s.precision!==void 0?s.precision:"highp";const Tt=xt(St);Tt!==St&&(console.warn("THREE.WebGLRenderer:",St,"not supported, using",Tt,"instead."),St=Tt);const At=s.logarithmicDepthBuffer===!0,Ct=s.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),Rt=c.getParameter(c.MAX_TEXTURE_IMAGE_UNITS),yt=c.getParameter(c.MAX_VERTEX_TEXTURE_IMAGE_UNITS),Ot=c.getParameter(c.MAX_TEXTURE_SIZE),Nt=c.getParameter(c.MAX_CUBE_MAP_TEXTURE_SIZE),bt=c.getParameter(c.MAX_VERTEX_ATTRIBS),Dt=c.getParameter(c.MAX_VERTEX_UNIFORM_VECTORS),Ft=c.getParameter(c.MAX_VARYING_VECTORS),Ut=c.getParameter(c.MAX_FRAGMENT_UNIFORM_VECTORS),Wt=yt>0,Gt=c.getParameter(c.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:xt,textureFormatReadable:ft,textureTypeReadable:gt,precision:St,logarithmicDepthBuffer:At,reverseDepthBuffer:Ct,maxTextures:Rt,maxVertexTextures:yt,maxTextureSize:Ot,maxCubemapSize:Nt,maxAttributes:bt,maxVertexUniforms:Dt,maxVaryings:Ft,maxFragmentUniforms:Ut,vertexTextures:Wt,maxSamples:Gt}}function WebGLClipping(c){const e=this;let s=null,d=0,nt=!1,o=!1;const ft=new Plane,gt=new Matrix3,xt={value:null,needsUpdate:!1};this.uniform=xt,this.numPlanes=0,this.numIntersection=0,this.init=function(At,Ct){const Rt=At.length!==0||Ct||d!==0||nt;return nt=Ct,d=At.length,Rt},this.beginShadows=function(){o=!0,Tt(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(At,Ct){s=Tt(At,Ct,0)},this.setState=function(At,Ct,Rt){const yt=At.clippingPlanes,Ot=At.clipIntersection,Nt=At.clipShadows,bt=c.get(At);if(!nt||yt===null||yt.length===0||o&&!Nt)o?Tt(null):St();else{const Dt=o?0:d,Ft=Dt*4;let Ut=bt.clippingState||null;xt.value=Ut,Ut=Tt(yt,Ct,Ft,Rt);for(let Wt=0;Wt!==Ft;++Wt)Ut[Wt]=s[Wt];bt.clippingState=Ut,this.numIntersection=Ot?this.numPlanes:0,this.numPlanes+=Dt}};function St(){xt.value!==s&&(xt.value=s,xt.needsUpdate=d>0),e.numPlanes=d,e.numIntersection=0}function Tt(At,Ct,Rt,yt){const Ot=At!==null?At.length:0;let Nt=null;if(Ot!==0){if(Nt=xt.value,yt!==!0||Nt===null){const bt=Rt+Ot*4,Dt=Ct.matrixWorldInverse;gt.getNormalMatrix(Dt),(Nt===null||Nt.length<bt)&&(Nt=new Float32Array(bt));for(let Ft=0,Ut=Rt;Ft!==Ot;++Ft,Ut+=4)ft.copy(At[Ft]).applyMatrix4(Dt,gt),ft.normal.toArray(Nt,Ut),Nt[Ut+3]=ft.constant}xt.value=Nt,xt.needsUpdate=!0}return e.numPlanes=Ot,e.numIntersection=0,Nt}}function WebGLCubeMaps(c){let e=new WeakMap;function s(ft,gt){return gt===EquirectangularReflectionMapping?ft.mapping=CubeReflectionMapping:gt===EquirectangularRefractionMapping&&(ft.mapping=CubeRefractionMapping),ft}function d(ft){if(ft&&ft.isTexture){const gt=ft.mapping;if(gt===EquirectangularReflectionMapping||gt===EquirectangularRefractionMapping)if(e.has(ft)){const xt=e.get(ft).texture;return s(xt,ft.mapping)}else{const xt=ft.image;if(xt&&xt.height>0){const St=new WebGLCubeRenderTarget(xt.height);return St.fromEquirectangularTexture(c,ft),e.set(ft,St),ft.addEventListener("dispose",nt),s(St.texture,ft.mapping)}else return null}}return ft}function nt(ft){const gt=ft.target;gt.removeEventListener("dispose",nt);const xt=e.get(gt);xt!==void 0&&(e.delete(gt),xt.dispose())}function o(){e=new WeakMap}return{get:d,dispose:o}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color;let _oldTarget=null,_oldActiveCubeFace=0,_oldActiveMipmapLevel=0,_oldXrEnabled=!1;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(-PHI,INV_PHI,0),new Vector3(PHI,INV_PHI,0),new Vector3(-INV_PHI,0,PHI),new Vector3(INV_PHI,0,PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(0,PHI,INV_PHI),new Vector3(-1,1,-1),new Vector3(1,1,-1),new Vector3(-1,1,1),new Vector3(1,1,1)],_origin=new Vector3;class PMREMGenerator{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,s=0,d=.1,nt=100,o={}){const{size:ft=256,position:gt=_origin}=o;_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(ft);const xt=this._allocateTargets();return xt.depthBuffer=!0,this._sceneToCubeUV(e,d,nt,xt,gt),s>0&&this._blur(xt,0,0,s),this._applyPMREM(xt),this._cleanup(xt),xt}fromEquirectangular(e,s=null){return this._fromTexture(e,s)}fromCubemap(e,s=null){return this._fromTexture(e,s)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(_oldTarget,_oldActiveCubeFace,_oldActiveMipmapLevel),this._renderer.xr.enabled=_oldXrEnabled,e.scissorTest=!1,_setViewport(e,0,0,e.width,e.height)}_fromTexture(e,s){e.mapping===CubeReflectionMapping||e.mapping===CubeRefractionMapping?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const d=s||this._allocateTargets();return this._textureToCubeUV(e,d),this._applyPMREM(d),this._cleanup(d),d}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),s=4*this._cubeSize,d={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace,depthBuffer:!1},nt=_createRenderTarget(e,s,d);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==s){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(e,s,d);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(o)),this._blurMaterial=_getBlurShader(o,e,s)}return nt}_compileMaterial(e){const s=new Mesh(this._lodPlanes[0],e);this._renderer.compile(s,_flatCamera)}_sceneToCubeUV(e,s,d,nt,o){const xt=new PerspectiveCamera(90,1,s,d),St=[1,-1,1,1,1,1],Tt=[1,1,1,-1,-1,-1],At=this._renderer,Ct=At.autoClear,Rt=At.toneMapping;At.getClearColor(_clearColor),At.toneMapping=NoToneMapping,At.autoClear=!1;const yt=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),Ot=new Mesh(new BoxGeometry,yt);let Nt=!1;const bt=e.background;bt?bt.isColor&&(yt.color.copy(bt),e.background=null,Nt=!0):(yt.color.copy(_clearColor),Nt=!0);for(let Dt=0;Dt<6;Dt++){const Ft=Dt%3;Ft===0?(xt.up.set(0,St[Dt],0),xt.position.set(o.x,o.y,o.z),xt.lookAt(o.x+Tt[Dt],o.y,o.z)):Ft===1?(xt.up.set(0,0,St[Dt]),xt.position.set(o.x,o.y,o.z),xt.lookAt(o.x,o.y+Tt[Dt],o.z)):(xt.up.set(0,St[Dt],0),xt.position.set(o.x,o.y,o.z),xt.lookAt(o.x,o.y,o.z+Tt[Dt]));const Ut=this._cubeSize;_setViewport(nt,Ft*Ut,Dt>2?Ut:0,Ut,Ut),At.setRenderTarget(nt),Nt&&At.render(Ot,xt),At.render(e,xt)}Ot.geometry.dispose(),Ot.material.dispose(),At.toneMapping=Rt,At.autoClear=Ct,e.background=bt}_textureToCubeUV(e,s){const d=this._renderer,nt=e.mapping===CubeReflectionMapping||e.mapping===CubeRefractionMapping;nt?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const o=nt?this._cubemapMaterial:this._equirectMaterial,ft=new Mesh(this._lodPlanes[0],o),gt=o.uniforms;gt.envMap.value=e;const xt=this._cubeSize;_setViewport(s,0,0,3*xt,2*xt),d.setRenderTarget(s),d.render(ft,_flatCamera)}_applyPMREM(e){const s=this._renderer,d=s.autoClear;s.autoClear=!1;const nt=this._lodPlanes.length;for(let o=1;o<nt;o++){const ft=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),gt=_axisDirections[(nt-o-1)%_axisDirections.length];this._blur(e,o-1,o,ft,gt)}s.autoClear=d}_blur(e,s,d,nt,o){const ft=this._pingPongRenderTarget;this._halfBlur(e,ft,s,d,nt,"latitudinal",o),this._halfBlur(ft,e,d,d,nt,"longitudinal",o)}_halfBlur(e,s,d,nt,o,ft,gt){const xt=this._renderer,St=this._blurMaterial;ft!=="latitudinal"&&ft!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const Tt=3,At=new Mesh(this._lodPlanes[nt],St),Ct=St.uniforms,Rt=this._sizeLods[d]-1,yt=isFinite(o)?Math.PI/(2*Rt):2*Math.PI/(2*MAX_SAMPLES-1),Ot=o/yt,Nt=isFinite(o)?1+Math.floor(Tt*Ot):MAX_SAMPLES;Nt>MAX_SAMPLES&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${Nt} samples when the maximum is set to ${MAX_SAMPLES}`);const bt=[];let Dt=0;for(let Xt=0;Xt<MAX_SAMPLES;++Xt){const Yt=Xt/Ot,Kt=Math.exp(-Yt*Yt/2);bt.push(Kt),Xt===0?Dt+=Kt:Xt<Nt&&(Dt+=2*Kt)}for(let Xt=0;Xt<bt.length;Xt++)bt[Xt]=bt[Xt]/Dt;Ct.envMap.value=e.texture,Ct.samples.value=Nt,Ct.weights.value=bt,Ct.latitudinal.value=ft==="latitudinal",gt&&(Ct.poleAxis.value=gt);const{_lodMax:Ft}=this;Ct.dTheta.value=yt,Ct.mipInt.value=Ft-d;const Ut=this._sizeLods[nt],Wt=3*Ut*(nt>Ft-LOD_MIN?nt-Ft+LOD_MIN:0),Gt=4*(this._cubeSize-Ut);_setViewport(s,Wt,Gt,3*Ut,2*Ut),xt.setRenderTarget(s),xt.render(At,_flatCamera)}}function _createPlanes(c){const e=[],s=[],d=[];let nt=c;const o=c-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let ft=0;ft<o;ft++){const gt=Math.pow(2,nt);s.push(gt);let xt=1/gt;ft>c-LOD_MIN?xt=EXTRA_LOD_SIGMA[ft-c+LOD_MIN-1]:ft===0&&(xt=0),d.push(xt);const St=1/(gt-2),Tt=-St,At=1+St,Ct=[Tt,Tt,At,Tt,At,At,Tt,Tt,At,At,Tt,At],Rt=6,yt=6,Ot=3,Nt=2,bt=1,Dt=new Float32Array(Ot*yt*Rt),Ft=new Float32Array(Nt*yt*Rt),Ut=new Float32Array(bt*yt*Rt);for(let Gt=0;Gt<Rt;Gt++){const Xt=Gt%3*2/3-1,Yt=Gt>2?0:-1,Kt=[Xt,Yt,0,Xt+2/3,Yt,0,Xt+2/3,Yt+1,0,Xt,Yt,0,Xt+2/3,Yt+1,0,Xt,Yt+1,0];Dt.set(Kt,Ot*yt*Gt),Ft.set(Ct,Nt*yt*Gt);const jt=[Gt,Gt,Gt,Gt,Gt,Gt];Ut.set(jt,bt*yt*Gt)}const Wt=new BufferGeometry;Wt.setAttribute("position",new BufferAttribute(Dt,Ot)),Wt.setAttribute("uv",new BufferAttribute(Ft,Nt)),Wt.setAttribute("faceIndex",new BufferAttribute(Ut,bt)),e.push(Wt),nt>LOD_MIN&&nt--}return{lodPlanes:e,sizeLods:s,sigmas:d}}function _createRenderTarget(c,e,s){const d=new WebGLRenderTarget(c,e,s);return d.texture.mapping=CubeUVReflectionMapping,d.texture.name="PMREM.cubeUv",d.scissorTest=!0,d}function _setViewport(c,e,s,d,nt){c.viewport.set(e,s,d,nt),c.scissor.set(e,s,d,nt)}function _getBlurShader(c,e,s){const d=new Float32Array(MAX_SAMPLES),nt=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/s,CUBEUV_MAX_MIP:`${c}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:d},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:nt}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(c){let e=new WeakMap,s=null;function d(gt){if(gt&&gt.isTexture){const xt=gt.mapping,St=xt===EquirectangularReflectionMapping||xt===EquirectangularRefractionMapping,Tt=xt===CubeReflectionMapping||xt===CubeRefractionMapping;if(St||Tt){let At=e.get(gt);const Ct=At!==void 0?At.texture.pmremVersion:0;if(gt.isRenderTargetTexture&&gt.pmremVersion!==Ct)return s===null&&(s=new PMREMGenerator(c)),At=St?s.fromEquirectangular(gt,At):s.fromCubemap(gt,At),At.texture.pmremVersion=gt.pmremVersion,e.set(gt,At),At.texture;if(At!==void 0)return At.texture;{const Rt=gt.image;return St&&Rt&&Rt.height>0||Tt&&Rt&&nt(Rt)?(s===null&&(s=new PMREMGenerator(c)),At=St?s.fromEquirectangular(gt):s.fromCubemap(gt),At.texture.pmremVersion=gt.pmremVersion,e.set(gt,At),gt.addEventListener("dispose",o),At.texture):null}}}return gt}function nt(gt){let xt=0;const St=6;for(let Tt=0;Tt<St;Tt++)gt[Tt]!==void 0&&xt++;return xt===St}function o(gt){const xt=gt.target;xt.removeEventListener("dispose",o);const St=e.get(xt);St!==void 0&&(e.delete(xt),St.dispose())}function ft(){e=new WeakMap,s!==null&&(s.dispose(),s=null)}return{get:d,dispose:ft}}function WebGLExtensions(c){const e={};function s(d){if(e[d]!==void 0)return e[d];let nt;switch(d){case"WEBGL_depth_texture":nt=c.getExtension("WEBGL_depth_texture")||c.getExtension("MOZ_WEBGL_depth_texture")||c.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":nt=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":nt=c.getExtension("WEBGL_compressed_texture_s3tc")||c.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||c.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":nt=c.getExtension("WEBGL_compressed_texture_pvrtc")||c.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:nt=c.getExtension(d)}return e[d]=nt,nt}return{has:function(d){return s(d)!==null},init:function(){s("EXT_color_buffer_float"),s("WEBGL_clip_cull_distance"),s("OES_texture_float_linear"),s("EXT_color_buffer_half_float"),s("WEBGL_multisampled_render_to_texture"),s("WEBGL_render_shared_exponent")},get:function(d){const nt=s(d);return nt===null&&warnOnce("THREE.WebGLRenderer: "+d+" extension not supported."),nt}}}function WebGLGeometries(c,e,s,d){const nt={},o=new WeakMap;function ft(At){const Ct=At.target;Ct.index!==null&&e.remove(Ct.index);for(const yt in Ct.attributes)e.remove(Ct.attributes[yt]);Ct.removeEventListener("dispose",ft),delete nt[Ct.id];const Rt=o.get(Ct);Rt&&(e.remove(Rt),o.delete(Ct)),d.releaseStatesOfGeometry(Ct),Ct.isInstancedBufferGeometry===!0&&delete Ct._maxInstanceCount,s.memory.geometries--}function gt(At,Ct){return nt[Ct.id]===!0||(Ct.addEventListener("dispose",ft),nt[Ct.id]=!0,s.memory.geometries++),Ct}function xt(At){const Ct=At.attributes;for(const Rt in Ct)e.update(Ct[Rt],c.ARRAY_BUFFER)}function St(At){const Ct=[],Rt=At.index,yt=At.attributes.position;let Ot=0;if(Rt!==null){const Dt=Rt.array;Ot=Rt.version;for(let Ft=0,Ut=Dt.length;Ft<Ut;Ft+=3){const Wt=Dt[Ft+0],Gt=Dt[Ft+1],Xt=Dt[Ft+2];Ct.push(Wt,Gt,Gt,Xt,Xt,Wt)}}else if(yt!==void 0){const Dt=yt.array;Ot=yt.version;for(let Ft=0,Ut=Dt.length/3-1;Ft<Ut;Ft+=3){const Wt=Ft+0,Gt=Ft+1,Xt=Ft+2;Ct.push(Wt,Gt,Gt,Xt,Xt,Wt)}}else return;const Nt=new(arrayNeedsUint32(Ct)?Uint32BufferAttribute:Uint16BufferAttribute)(Ct,1);Nt.version=Ot;const bt=o.get(At);bt&&e.remove(bt),o.set(At,Nt)}function Tt(At){const Ct=o.get(At);if(Ct){const Rt=At.index;Rt!==null&&Ct.version<Rt.version&&St(At)}else St(At);return o.get(At)}return{get:gt,update:xt,getWireframeAttribute:Tt}}function WebGLIndexedBufferRenderer(c,e,s){let d;function nt(Ct){d=Ct}let o,ft;function gt(Ct){o=Ct.type,ft=Ct.bytesPerElement}function xt(Ct,Rt){c.drawElements(d,Rt,o,Ct*ft),s.update(Rt,d,1)}function St(Ct,Rt,yt){yt!==0&&(c.drawElementsInstanced(d,Rt,o,Ct*ft,yt),s.update(Rt,d,yt))}function Tt(Ct,Rt,yt){if(yt===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(d,Rt,0,o,Ct,0,yt);let Nt=0;for(let bt=0;bt<yt;bt++)Nt+=Rt[bt];s.update(Nt,d,1)}function At(Ct,Rt,yt,Ot){if(yt===0)return;const Nt=e.get("WEBGL_multi_draw");if(Nt===null)for(let bt=0;bt<Ct.length;bt++)St(Ct[bt]/ft,Rt[bt],Ot[bt]);else{Nt.multiDrawElementsInstancedWEBGL(d,Rt,0,o,Ct,0,Ot,0,yt);let bt=0;for(let Dt=0;Dt<yt;Dt++)bt+=Rt[Dt]*Ot[Dt];s.update(bt,d,1)}}this.setMode=nt,this.setIndex=gt,this.render=xt,this.renderInstances=St,this.renderMultiDraw=Tt,this.renderMultiDrawInstances=At}function WebGLInfo(c){const e={geometries:0,textures:0},s={frame:0,calls:0,triangles:0,points:0,lines:0};function d(o,ft,gt){switch(s.calls++,ft){case c.TRIANGLES:s.triangles+=gt*(o/3);break;case c.LINES:s.lines+=gt*(o/2);break;case c.LINE_STRIP:s.lines+=gt*(o-1);break;case c.LINE_LOOP:s.lines+=gt*o;break;case c.POINTS:s.points+=gt*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",ft);break}}function nt(){s.calls=0,s.triangles=0,s.points=0,s.lines=0}return{memory:e,render:s,programs:null,autoReset:!0,reset:nt,update:d}}function WebGLMorphtargets(c,e,s){const d=new WeakMap,nt=new Vector4;function o(ft,gt,xt){const St=ft.morphTargetInfluences,Tt=gt.morphAttributes.position||gt.morphAttributes.normal||gt.morphAttributes.color,At=Tt!==void 0?Tt.length:0;let Ct=d.get(gt);if(Ct===void 0||Ct.count!==At){let Kt=function(){Xt.dispose(),d.delete(gt),gt.removeEventListener("dispose",Kt)};Ct!==void 0&&Ct.texture.dispose();const Rt=gt.morphAttributes.position!==void 0,yt=gt.morphAttributes.normal!==void 0,Ot=gt.morphAttributes.color!==void 0,Nt=gt.morphAttributes.position||[],bt=gt.morphAttributes.normal||[],Dt=gt.morphAttributes.color||[];let Ft=0;Rt===!0&&(Ft=1),yt===!0&&(Ft=2),Ot===!0&&(Ft=3);let Ut=gt.attributes.position.count*Ft,Wt=1;Ut>e.maxTextureSize&&(Wt=Math.ceil(Ut/e.maxTextureSize),Ut=e.maxTextureSize);const Gt=new Float32Array(Ut*Wt*4*At),Xt=new DataArrayTexture(Gt,Ut,Wt,At);Xt.type=FloatType,Xt.needsUpdate=!0;const Yt=Ft*4;for(let jt=0;jt<At;jt++){const Jt=Nt[jt],fn=bt[jt],sn=Dt[jt],wn=Ut*Wt*4*jt;for(let Mn=0;Mn<Jt.count;Mn++){const Tn=Mn*Yt;Rt===!0&&(nt.fromBufferAttribute(Jt,Mn),Gt[wn+Tn+0]=nt.x,Gt[wn+Tn+1]=nt.y,Gt[wn+Tn+2]=nt.z,Gt[wn+Tn+3]=0),yt===!0&&(nt.fromBufferAttribute(fn,Mn),Gt[wn+Tn+4]=nt.x,Gt[wn+Tn+5]=nt.y,Gt[wn+Tn+6]=nt.z,Gt[wn+Tn+7]=0),Ot===!0&&(nt.fromBufferAttribute(sn,Mn),Gt[wn+Tn+8]=nt.x,Gt[wn+Tn+9]=nt.y,Gt[wn+Tn+10]=nt.z,Gt[wn+Tn+11]=sn.itemSize===4?nt.w:1)}}Ct={count:At,texture:Xt,size:new Vector2(Ut,Wt)},d.set(gt,Ct),gt.addEventListener("dispose",Kt)}if(ft.isInstancedMesh===!0&&ft.morphTexture!==null)xt.getUniforms().setValue(c,"morphTexture",ft.morphTexture,s);else{let Rt=0;for(let Ot=0;Ot<St.length;Ot++)Rt+=St[Ot];const yt=gt.morphTargetsRelative?1:1-Rt;xt.getUniforms().setValue(c,"morphTargetBaseInfluence",yt),xt.getUniforms().setValue(c,"morphTargetInfluences",St)}xt.getUniforms().setValue(c,"morphTargetsTexture",Ct.texture,s),xt.getUniforms().setValue(c,"morphTargetsTextureSize",Ct.size)}return{update:o}}function WebGLObjects(c,e,s,d){let nt=new WeakMap;function o(xt){const St=d.render.frame,Tt=xt.geometry,At=e.get(xt,Tt);if(nt.get(At)!==St&&(e.update(At),nt.set(At,St)),xt.isInstancedMesh&&(xt.hasEventListener("dispose",gt)===!1&&xt.addEventListener("dispose",gt),nt.get(xt)!==St&&(s.update(xt.instanceMatrix,c.ARRAY_BUFFER),xt.instanceColor!==null&&s.update(xt.instanceColor,c.ARRAY_BUFFER),nt.set(xt,St))),xt.isSkinnedMesh){const Ct=xt.skeleton;nt.get(Ct)!==St&&(Ct.update(),nt.set(Ct,St))}return At}function ft(){nt=new WeakMap}function gt(xt){const St=xt.target;St.removeEventListener("dispose",gt),s.remove(St.instanceMatrix),St.instanceColor!==null&&s.remove(St.instanceColor)}return{update:o,dispose:ft}}const emptyTexture=new Texture,emptyShadowTexture=new DepthTexture(1,1),emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(c,e,s){const d=c[0];if(d<=0||d>0)return c;const nt=e*s;let o=arrayCacheF32[nt];if(o===void 0&&(o=new Float32Array(nt),arrayCacheF32[nt]=o),e!==0){d.toArray(o,0);for(let ft=1,gt=0;ft!==e;++ft)gt+=s,c[ft].toArray(o,gt)}return o}function arraysEqual(c,e){if(c.length!==e.length)return!1;for(let s=0,d=c.length;s<d;s++)if(c[s]!==e[s])return!1;return!0}function copyArray(c,e){for(let s=0,d=e.length;s<d;s++)c[s]=e[s]}function allocTexUnits(c,e){let s=arrayCacheI32[e];s===void 0&&(s=new Int32Array(e),arrayCacheI32[e]=s);for(let d=0;d!==e;++d)s[d]=c.allocateTextureUnit();return s}function setValueV1f(c,e){const s=this.cache;s[0]!==e&&(c.uniform1f(this.addr,e),s[0]=e)}function setValueV2f(c,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y)&&(c.uniform2f(this.addr,e.x,e.y),s[0]=e.x,s[1]=e.y);else{if(arraysEqual(s,e))return;c.uniform2fv(this.addr,e),copyArray(s,e)}}function setValueV3f(c,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y||s[2]!==e.z)&&(c.uniform3f(this.addr,e.x,e.y,e.z),s[0]=e.x,s[1]=e.y,s[2]=e.z);else if(e.r!==void 0)(s[0]!==e.r||s[1]!==e.g||s[2]!==e.b)&&(c.uniform3f(this.addr,e.r,e.g,e.b),s[0]=e.r,s[1]=e.g,s[2]=e.b);else{if(arraysEqual(s,e))return;c.uniform3fv(this.addr,e),copyArray(s,e)}}function setValueV4f(c,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y||s[2]!==e.z||s[3]!==e.w)&&(c.uniform4f(this.addr,e.x,e.y,e.z,e.w),s[0]=e.x,s[1]=e.y,s[2]=e.z,s[3]=e.w);else{if(arraysEqual(s,e))return;c.uniform4fv(this.addr,e),copyArray(s,e)}}function setValueM2(c,e){const s=this.cache,d=e.elements;if(d===void 0){if(arraysEqual(s,e))return;c.uniformMatrix2fv(this.addr,!1,e),copyArray(s,e)}else{if(arraysEqual(s,d))return;mat2array.set(d),c.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(s,d)}}function setValueM3(c,e){const s=this.cache,d=e.elements;if(d===void 0){if(arraysEqual(s,e))return;c.uniformMatrix3fv(this.addr,!1,e),copyArray(s,e)}else{if(arraysEqual(s,d))return;mat3array.set(d),c.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(s,d)}}function setValueM4(c,e){const s=this.cache,d=e.elements;if(d===void 0){if(arraysEqual(s,e))return;c.uniformMatrix4fv(this.addr,!1,e),copyArray(s,e)}else{if(arraysEqual(s,d))return;mat4array.set(d),c.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(s,d)}}function setValueV1i(c,e){const s=this.cache;s[0]!==e&&(c.uniform1i(this.addr,e),s[0]=e)}function setValueV2i(c,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y)&&(c.uniform2i(this.addr,e.x,e.y),s[0]=e.x,s[1]=e.y);else{if(arraysEqual(s,e))return;c.uniform2iv(this.addr,e),copyArray(s,e)}}function setValueV3i(c,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y||s[2]!==e.z)&&(c.uniform3i(this.addr,e.x,e.y,e.z),s[0]=e.x,s[1]=e.y,s[2]=e.z);else{if(arraysEqual(s,e))return;c.uniform3iv(this.addr,e),copyArray(s,e)}}function setValueV4i(c,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y||s[2]!==e.z||s[3]!==e.w)&&(c.uniform4i(this.addr,e.x,e.y,e.z,e.w),s[0]=e.x,s[1]=e.y,s[2]=e.z,s[3]=e.w);else{if(arraysEqual(s,e))return;c.uniform4iv(this.addr,e),copyArray(s,e)}}function setValueV1ui(c,e){const s=this.cache;s[0]!==e&&(c.uniform1ui(this.addr,e),s[0]=e)}function setValueV2ui(c,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y)&&(c.uniform2ui(this.addr,e.x,e.y),s[0]=e.x,s[1]=e.y);else{if(arraysEqual(s,e))return;c.uniform2uiv(this.addr,e),copyArray(s,e)}}function setValueV3ui(c,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y||s[2]!==e.z)&&(c.uniform3ui(this.addr,e.x,e.y,e.z),s[0]=e.x,s[1]=e.y,s[2]=e.z);else{if(arraysEqual(s,e))return;c.uniform3uiv(this.addr,e),copyArray(s,e)}}function setValueV4ui(c,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y||s[2]!==e.z||s[3]!==e.w)&&(c.uniform4ui(this.addr,e.x,e.y,e.z,e.w),s[0]=e.x,s[1]=e.y,s[2]=e.z,s[3]=e.w);else{if(arraysEqual(s,e))return;c.uniform4uiv(this.addr,e),copyArray(s,e)}}function setValueT1(c,e,s){const d=this.cache,nt=s.allocateTextureUnit();d[0]!==nt&&(c.uniform1i(this.addr,nt),d[0]=nt);let o;this.type===c.SAMPLER_2D_SHADOW?(emptyShadowTexture.compareFunction=LessEqualCompare,o=emptyShadowTexture):o=emptyTexture,s.setTexture2D(e||o,nt)}function setValueT3D1(c,e,s){const d=this.cache,nt=s.allocateTextureUnit();d[0]!==nt&&(c.uniform1i(this.addr,nt),d[0]=nt),s.setTexture3D(e||empty3dTexture,nt)}function setValueT6(c,e,s){const d=this.cache,nt=s.allocateTextureUnit();d[0]!==nt&&(c.uniform1i(this.addr,nt),d[0]=nt),s.setTextureCube(e||emptyCubeTexture,nt)}function setValueT2DArray1(c,e,s){const d=this.cache,nt=s.allocateTextureUnit();d[0]!==nt&&(c.uniform1i(this.addr,nt),d[0]=nt),s.setTexture2DArray(e||emptyArrayTexture,nt)}function getSingularSetter(c){switch(c){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(c,e){c.uniform1fv(this.addr,e)}function setValueV2fArray(c,e){const s=flatten(e,this.size,2);c.uniform2fv(this.addr,s)}function setValueV3fArray(c,e){const s=flatten(e,this.size,3);c.uniform3fv(this.addr,s)}function setValueV4fArray(c,e){const s=flatten(e,this.size,4);c.uniform4fv(this.addr,s)}function setValueM2Array(c,e){const s=flatten(e,this.size,4);c.uniformMatrix2fv(this.addr,!1,s)}function setValueM3Array(c,e){const s=flatten(e,this.size,9);c.uniformMatrix3fv(this.addr,!1,s)}function setValueM4Array(c,e){const s=flatten(e,this.size,16);c.uniformMatrix4fv(this.addr,!1,s)}function setValueV1iArray(c,e){c.uniform1iv(this.addr,e)}function setValueV2iArray(c,e){c.uniform2iv(this.addr,e)}function setValueV3iArray(c,e){c.uniform3iv(this.addr,e)}function setValueV4iArray(c,e){c.uniform4iv(this.addr,e)}function setValueV1uiArray(c,e){c.uniform1uiv(this.addr,e)}function setValueV2uiArray(c,e){c.uniform2uiv(this.addr,e)}function setValueV3uiArray(c,e){c.uniform3uiv(this.addr,e)}function setValueV4uiArray(c,e){c.uniform4uiv(this.addr,e)}function setValueT1Array(c,e,s){const d=this.cache,nt=e.length,o=allocTexUnits(s,nt);arraysEqual(d,o)||(c.uniform1iv(this.addr,o),copyArray(d,o));for(let ft=0;ft!==nt;++ft)s.setTexture2D(e[ft]||emptyTexture,o[ft])}function setValueT3DArray(c,e,s){const d=this.cache,nt=e.length,o=allocTexUnits(s,nt);arraysEqual(d,o)||(c.uniform1iv(this.addr,o),copyArray(d,o));for(let ft=0;ft!==nt;++ft)s.setTexture3D(e[ft]||empty3dTexture,o[ft])}function setValueT6Array(c,e,s){const d=this.cache,nt=e.length,o=allocTexUnits(s,nt);arraysEqual(d,o)||(c.uniform1iv(this.addr,o),copyArray(d,o));for(let ft=0;ft!==nt;++ft)s.setTextureCube(e[ft]||emptyCubeTexture,o[ft])}function setValueT2DArrayArray(c,e,s){const d=this.cache,nt=e.length,o=allocTexUnits(s,nt);arraysEqual(d,o)||(c.uniform1iv(this.addr,o),copyArray(d,o));for(let ft=0;ft!==nt;++ft)s.setTexture2DArray(e[ft]||emptyArrayTexture,o[ft])}function getPureArraySetter(c){switch(c){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(e,s,d){this.id=e,this.addr=d,this.cache=[],this.type=s.type,this.setValue=getSingularSetter(s.type)}}class PureArrayUniform{constructor(e,s,d){this.id=e,this.addr=d,this.cache=[],this.type=s.type,this.size=s.size,this.setValue=getPureArraySetter(s.type)}}class StructuredUniform{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,s,d){const nt=this.seq;for(let o=0,ft=nt.length;o!==ft;++o){const gt=nt[o];gt.setValue(e,s[gt.id],d)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(c,e){c.seq.push(e),c.map[e.id]=e}function parseUniform(c,e,s){const d=c.name,nt=d.length;for(RePathPart.lastIndex=0;;){const o=RePathPart.exec(d),ft=RePathPart.lastIndex;let gt=o[1];const xt=o[2]==="]",St=o[3];if(xt&&(gt=gt|0),St===void 0||St==="["&&ft+2===nt){addUniform(s,St===void 0?new SingleUniform(gt,c,e):new PureArrayUniform(gt,c,e));break}else{let At=s.map[gt];At===void 0&&(At=new StructuredUniform(gt),addUniform(s,At)),s=At}}}class WebGLUniforms{constructor(e,s){this.seq=[],this.map={};const d=e.getProgramParameter(s,e.ACTIVE_UNIFORMS);for(let nt=0;nt<d;++nt){const o=e.getActiveUniform(s,nt),ft=e.getUniformLocation(s,o.name);parseUniform(o,ft,this)}}setValue(e,s,d,nt){const o=this.map[s];o!==void 0&&o.setValue(e,d,nt)}setOptional(e,s,d){const nt=s[d];nt!==void 0&&this.setValue(e,d,nt)}static upload(e,s,d,nt){for(let o=0,ft=s.length;o!==ft;++o){const gt=s[o],xt=d[gt.id];xt.needsUpdate!==!1&&gt.setValue(e,xt.value,nt)}}static seqWithValue(e,s){const d=[];for(let nt=0,o=e.length;nt!==o;++nt){const ft=e[nt];ft.id in s&&d.push(ft)}return d}}function WebGLShader(c,e,s){const d=c.createShader(e);return c.shaderSource(d,s),c.compileShader(d),d}const COMPLETION_STATUS_KHR=37297;let programIdCount=0;function handleSource(c,e){const s=c.split(`
`),d=[],nt=Math.max(e-6,0),o=Math.min(e+6,s.length);for(let ft=nt;ft<o;ft++){const gt=ft+1;d.push(`${gt===e?">":" "} ${gt}: ${s[ft]}`)}return d.join(`
`)}const _m0=new Matrix3;function getEncodingComponents(c){ColorManagement._getMatrix(_m0,ColorManagement.workingColorSpace,c);const e=`mat3( ${_m0.elements.map(s=>s.toFixed(4))} )`;switch(ColorManagement.getTransfer(c)){case LinearTransfer:return[e,"LinearTransferOETF"];case SRGBTransfer:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",c),[e,"LinearTransferOETF"]}}function getShaderErrors(c,e,s){const d=c.getShaderParameter(e,c.COMPILE_STATUS),nt=c.getShaderInfoLog(e).trim();if(d&&nt==="")return"";const o=/ERROR: 0:(\d+)/.exec(nt);if(o){const ft=parseInt(o[1]);return s.toUpperCase()+`

`+nt+`

`+handleSource(c.getShaderSource(e),ft)}else return nt}function getTexelEncodingFunction(c,e){const s=getEncodingComponents(e);return[`vec4 ${c}( vec4 value ) {`,`	return ${s[1]}( vec4( value.rgb * ${s[0]}, value.a ) );`,"}"].join(`
`)}function getToneMappingFunction(c,e){let s;switch(e){case LinearToneMapping:s="Linear";break;case ReinhardToneMapping:s="Reinhard";break;case CineonToneMapping:s="Cineon";break;case ACESFilmicToneMapping:s="ACESFilmic";break;case AgXToneMapping:s="AgX";break;case NeutralToneMapping:s="Neutral";break;case CustomToneMapping:s="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),s="Linear"}return"vec3 "+c+"( vec3 color ) { return "+s+"ToneMapping( color ); }"}const _v0=new Vector3;function getLuminanceFunction(){ColorManagement.getLuminanceCoefficients(_v0);const c=_v0.x.toFixed(4),e=_v0.y.toFixed(4),s=_v0.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${c}, ${e}, ${s} );`,"	return dot( weights, rgb );","}"].join(`
`)}function generateVertexExtensions(c){return[c.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",c.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(filterEmptyLine).join(`
`)}function generateDefines(c){const e=[];for(const s in c){const d=c[s];d!==!1&&e.push("#define "+s+" "+d)}return e.join(`
`)}function fetchAttributeLocations(c,e){const s={},d=c.getProgramParameter(e,c.ACTIVE_ATTRIBUTES);for(let nt=0;nt<d;nt++){const o=c.getActiveAttrib(e,nt),ft=o.name;let gt=1;o.type===c.FLOAT_MAT2&&(gt=2),o.type===c.FLOAT_MAT3&&(gt=3),o.type===c.FLOAT_MAT4&&(gt=4),s[ft]={type:o.type,location:c.getAttribLocation(e,ft),locationSize:gt}}return s}function filterEmptyLine(c){return c!==""}function replaceLightNums(c,e){const s=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return c.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,s).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function replaceClippingPlaneNums(c,e){return c.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(c){return c.replace(includePattern,includeReplacer)}const shaderChunkMap=new Map;function includeReplacer(c,e){let s=ShaderChunk[e];if(s===void 0){const d=shaderChunkMap.get(e);if(d!==void 0)s=ShaderChunk[d],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,d);else throw new Error("Can not resolve #include <"+e+">")}return resolveIncludes(s)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(c){return c.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(c,e,s,d){let nt="";for(let o=parseInt(e);o<parseInt(s);o++)nt+=d.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return nt}function generatePrecision(c){let e=`precision ${c.precision} float;
	precision ${c.precision} int;
	precision ${c.precision} sampler2D;
	precision ${c.precision} samplerCube;
	precision ${c.precision} sampler3D;
	precision ${c.precision} sampler2DArray;
	precision ${c.precision} sampler2DShadow;
	precision ${c.precision} samplerCubeShadow;
	precision ${c.precision} sampler2DArrayShadow;
	precision ${c.precision} isampler2D;
	precision ${c.precision} isampler3D;
	precision ${c.precision} isamplerCube;
	precision ${c.precision} isampler2DArray;
	precision ${c.precision} usampler2D;
	precision ${c.precision} usampler3D;
	precision ${c.precision} usamplerCube;
	precision ${c.precision} usampler2DArray;
	`;return c.precision==="highp"?e+=`
#define HIGH_PRECISION`:c.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:c.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function generateShadowMapTypeDefine(c){let e="SHADOWMAP_TYPE_BASIC";return c.shadowMapType===PCFShadowMap?e="SHADOWMAP_TYPE_PCF":c.shadowMapType===PCFSoftShadowMap?e="SHADOWMAP_TYPE_PCF_SOFT":c.shadowMapType===VSMShadowMap&&(e="SHADOWMAP_TYPE_VSM"),e}function generateEnvMapTypeDefine(c){let e="ENVMAP_TYPE_CUBE";if(c.envMap)switch(c.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:e="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:e="ENVMAP_TYPE_CUBE_UV";break}return e}function generateEnvMapModeDefine(c){let e="ENVMAP_MODE_REFLECTION";if(c.envMap)switch(c.envMapMode){case CubeRefractionMapping:e="ENVMAP_MODE_REFRACTION";break}return e}function generateEnvMapBlendingDefine(c){let e="ENVMAP_BLENDING_NONE";if(c.envMap)switch(c.combine){case MultiplyOperation:e="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:e="ENVMAP_BLENDING_MIX";break;case AddOperation:e="ENVMAP_BLENDING_ADD";break}return e}function generateCubeUVSize(c){const e=c.envMapCubeUVHeight;if(e===null)return null;const s=Math.log2(e)-2,d=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,s),7*16)),texelHeight:d,maxMip:s}}function WebGLProgram(c,e,s,d){const nt=c.getContext(),o=s.defines;let ft=s.vertexShader,gt=s.fragmentShader;const xt=generateShadowMapTypeDefine(s),St=generateEnvMapTypeDefine(s),Tt=generateEnvMapModeDefine(s),At=generateEnvMapBlendingDefine(s),Ct=generateCubeUVSize(s),Rt=generateVertexExtensions(s),yt=generateDefines(o),Ot=nt.createProgram();let Nt,bt,Dt=s.glslVersion?"#version "+s.glslVersion+`
`:"";s.isRawShaderMaterial?(Nt=["#define SHADER_TYPE "+s.shaderType,"#define SHADER_NAME "+s.shaderName,yt].filter(filterEmptyLine).join(`
`),Nt.length>0&&(Nt+=`
`),bt=["#define SHADER_TYPE "+s.shaderType,"#define SHADER_NAME "+s.shaderName,yt].filter(filterEmptyLine).join(`
`),bt.length>0&&(bt+=`
`)):(Nt=[generatePrecision(s),"#define SHADER_TYPE "+s.shaderType,"#define SHADER_NAME "+s.shaderName,yt,s.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",s.batching?"#define USE_BATCHING":"",s.batchingColor?"#define USE_BATCHING_COLOR":"",s.instancing?"#define USE_INSTANCING":"",s.instancingColor?"#define USE_INSTANCING_COLOR":"",s.instancingMorph?"#define USE_INSTANCING_MORPH":"",s.useFog&&s.fog?"#define USE_FOG":"",s.useFog&&s.fogExp2?"#define FOG_EXP2":"",s.map?"#define USE_MAP":"",s.envMap?"#define USE_ENVMAP":"",s.envMap?"#define "+Tt:"",s.lightMap?"#define USE_LIGHTMAP":"",s.aoMap?"#define USE_AOMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",s.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",s.displacementMap?"#define USE_DISPLACEMENTMAP":"",s.emissiveMap?"#define USE_EMISSIVEMAP":"",s.anisotropy?"#define USE_ANISOTROPY":"",s.anisotropyMap?"#define USE_ANISOTROPYMAP":"",s.clearcoatMap?"#define USE_CLEARCOATMAP":"",s.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",s.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",s.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",s.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",s.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",s.roughnessMap?"#define USE_ROUGHNESSMAP":"",s.metalnessMap?"#define USE_METALNESSMAP":"",s.alphaMap?"#define USE_ALPHAMAP":"",s.alphaHash?"#define USE_ALPHAHASH":"",s.transmission?"#define USE_TRANSMISSION":"",s.transmissionMap?"#define USE_TRANSMISSIONMAP":"",s.thicknessMap?"#define USE_THICKNESSMAP":"",s.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",s.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",s.mapUv?"#define MAP_UV "+s.mapUv:"",s.alphaMapUv?"#define ALPHAMAP_UV "+s.alphaMapUv:"",s.lightMapUv?"#define LIGHTMAP_UV "+s.lightMapUv:"",s.aoMapUv?"#define AOMAP_UV "+s.aoMapUv:"",s.emissiveMapUv?"#define EMISSIVEMAP_UV "+s.emissiveMapUv:"",s.bumpMapUv?"#define BUMPMAP_UV "+s.bumpMapUv:"",s.normalMapUv?"#define NORMALMAP_UV "+s.normalMapUv:"",s.displacementMapUv?"#define DISPLACEMENTMAP_UV "+s.displacementMapUv:"",s.metalnessMapUv?"#define METALNESSMAP_UV "+s.metalnessMapUv:"",s.roughnessMapUv?"#define ROUGHNESSMAP_UV "+s.roughnessMapUv:"",s.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+s.anisotropyMapUv:"",s.clearcoatMapUv?"#define CLEARCOATMAP_UV "+s.clearcoatMapUv:"",s.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+s.clearcoatNormalMapUv:"",s.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+s.clearcoatRoughnessMapUv:"",s.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+s.iridescenceMapUv:"",s.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+s.iridescenceThicknessMapUv:"",s.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+s.sheenColorMapUv:"",s.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+s.sheenRoughnessMapUv:"",s.specularMapUv?"#define SPECULARMAP_UV "+s.specularMapUv:"",s.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+s.specularColorMapUv:"",s.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+s.specularIntensityMapUv:"",s.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+s.transmissionMapUv:"",s.thicknessMapUv?"#define THICKNESSMAP_UV "+s.thicknessMapUv:"",s.vertexTangents&&s.flatShading===!1?"#define USE_TANGENT":"",s.vertexColors?"#define USE_COLOR":"",s.vertexAlphas?"#define USE_COLOR_ALPHA":"",s.vertexUv1s?"#define USE_UV1":"",s.vertexUv2s?"#define USE_UV2":"",s.vertexUv3s?"#define USE_UV3":"",s.pointsUvs?"#define USE_POINTS_UV":"",s.flatShading?"#define FLAT_SHADED":"",s.skinning?"#define USE_SKINNING":"",s.morphTargets?"#define USE_MORPHTARGETS":"",s.morphNormals&&s.flatShading===!1?"#define USE_MORPHNORMALS":"",s.morphColors?"#define USE_MORPHCOLORS":"",s.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+s.morphTextureStride:"",s.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+s.morphTargetsCount:"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"",s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+xt:"",s.sizeAttenuation?"#define USE_SIZEATTENUATION":"",s.numLightProbes>0?"#define USE_LIGHT_PROBES":"",s.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",s.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),bt=[generatePrecision(s),"#define SHADER_TYPE "+s.shaderType,"#define SHADER_NAME "+s.shaderName,yt,s.useFog&&s.fog?"#define USE_FOG":"",s.useFog&&s.fogExp2?"#define FOG_EXP2":"",s.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",s.map?"#define USE_MAP":"",s.matcap?"#define USE_MATCAP":"",s.envMap?"#define USE_ENVMAP":"",s.envMap?"#define "+St:"",s.envMap?"#define "+Tt:"",s.envMap?"#define "+At:"",Ct?"#define CUBEUV_TEXEL_WIDTH "+Ct.texelWidth:"",Ct?"#define CUBEUV_TEXEL_HEIGHT "+Ct.texelHeight:"",Ct?"#define CUBEUV_MAX_MIP "+Ct.maxMip+".0":"",s.lightMap?"#define USE_LIGHTMAP":"",s.aoMap?"#define USE_AOMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",s.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",s.emissiveMap?"#define USE_EMISSIVEMAP":"",s.anisotropy?"#define USE_ANISOTROPY":"",s.anisotropyMap?"#define USE_ANISOTROPYMAP":"",s.clearcoat?"#define USE_CLEARCOAT":"",s.clearcoatMap?"#define USE_CLEARCOATMAP":"",s.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",s.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",s.dispersion?"#define USE_DISPERSION":"",s.iridescence?"#define USE_IRIDESCENCE":"",s.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",s.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",s.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",s.roughnessMap?"#define USE_ROUGHNESSMAP":"",s.metalnessMap?"#define USE_METALNESSMAP":"",s.alphaMap?"#define USE_ALPHAMAP":"",s.alphaTest?"#define USE_ALPHATEST":"",s.alphaHash?"#define USE_ALPHAHASH":"",s.sheen?"#define USE_SHEEN":"",s.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",s.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",s.transmission?"#define USE_TRANSMISSION":"",s.transmissionMap?"#define USE_TRANSMISSIONMAP":"",s.thicknessMap?"#define USE_THICKNESSMAP":"",s.vertexTangents&&s.flatShading===!1?"#define USE_TANGENT":"",s.vertexColors||s.instancingColor||s.batchingColor?"#define USE_COLOR":"",s.vertexAlphas?"#define USE_COLOR_ALPHA":"",s.vertexUv1s?"#define USE_UV1":"",s.vertexUv2s?"#define USE_UV2":"",s.vertexUv3s?"#define USE_UV3":"",s.pointsUvs?"#define USE_POINTS_UV":"",s.gradientMap?"#define USE_GRADIENTMAP":"",s.flatShading?"#define FLAT_SHADED":"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"",s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+xt:"",s.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",s.numLightProbes>0?"#define USE_LIGHT_PROBES":"",s.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",s.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",s.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",s.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",s.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",s.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",s.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",s.toneMapping):"",s.dithering?"#define DITHERING":"",s.opaque?"#define OPAQUE":"",ShaderChunk.colorspace_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",s.outputColorSpace),getLuminanceFunction(),s.useDepthPacking?"#define DEPTH_PACKING "+s.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),ft=resolveIncludes(ft),ft=replaceLightNums(ft,s),ft=replaceClippingPlaneNums(ft,s),gt=resolveIncludes(gt),gt=replaceLightNums(gt,s),gt=replaceClippingPlaneNums(gt,s),ft=unrollLoops(ft),gt=unrollLoops(gt),s.isRawShaderMaterial!==!0&&(Dt=`#version 300 es
`,Nt=[Rt,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+Nt,bt=["#define varying in",s.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",s.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+bt);const Ft=Dt+Nt+ft,Ut=Dt+bt+gt,Wt=WebGLShader(nt,nt.VERTEX_SHADER,Ft),Gt=WebGLShader(nt,nt.FRAGMENT_SHADER,Ut);nt.attachShader(Ot,Wt),nt.attachShader(Ot,Gt),s.index0AttributeName!==void 0?nt.bindAttribLocation(Ot,0,s.index0AttributeName):s.morphTargets===!0&&nt.bindAttribLocation(Ot,0,"position"),nt.linkProgram(Ot);function Xt(Jt){if(c.debug.checkShaderErrors){const fn=nt.getProgramInfoLog(Ot).trim(),sn=nt.getShaderInfoLog(Wt).trim(),wn=nt.getShaderInfoLog(Gt).trim();let Mn=!0,Tn=!0;if(nt.getProgramParameter(Ot,nt.LINK_STATUS)===!1)if(Mn=!1,typeof c.debug.onShaderError=="function")c.debug.onShaderError(nt,Ot,Wt,Gt);else{const kn=getShaderErrors(nt,Wt,"vertex"),rn=getShaderErrors(nt,Gt,"fragment");console.error("THREE.WebGLProgram: Shader Error "+nt.getError()+" - VALIDATE_STATUS "+nt.getProgramParameter(Ot,nt.VALIDATE_STATUS)+`

Material Name: `+Jt.name+`
Material Type: `+Jt.type+`

Program Info Log: `+fn+`
`+kn+`
`+rn)}else fn!==""?console.warn("THREE.WebGLProgram: Program Info Log:",fn):(sn===""||wn==="")&&(Tn=!1);Tn&&(Jt.diagnostics={runnable:Mn,programLog:fn,vertexShader:{log:sn,prefix:Nt},fragmentShader:{log:wn,prefix:bt}})}nt.deleteShader(Wt),nt.deleteShader(Gt),Yt=new WebGLUniforms(nt,Ot),Kt=fetchAttributeLocations(nt,Ot)}let Yt;this.getUniforms=function(){return Yt===void 0&&Xt(this),Yt};let Kt;this.getAttributes=function(){return Kt===void 0&&Xt(this),Kt};let jt=s.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return jt===!1&&(jt=nt.getProgramParameter(Ot,COMPLETION_STATUS_KHR)),jt},this.destroy=function(){d.releaseStatesOfProgram(this),nt.deleteProgram(Ot),this.program=void 0},this.type=s.shaderType,this.name=s.shaderName,this.id=programIdCount++,this.cacheKey=e,this.usedTimes=1,this.program=Ot,this.vertexShader=Wt,this.fragmentShader=Gt,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const s=e.vertexShader,d=e.fragmentShader,nt=this._getShaderStage(s),o=this._getShaderStage(d),ft=this._getShaderCacheForMaterial(e);return ft.has(nt)===!1&&(ft.add(nt),nt.usedTimes++),ft.has(o)===!1&&(ft.add(o),o.usedTimes++),this}remove(e){const s=this.materialCache.get(e);for(const d of s)d.usedTimes--,d.usedTimes===0&&this.shaderCache.delete(d.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const s=this.materialCache;let d=s.get(e);return d===void 0&&(d=new Set,s.set(e,d)),d}_getShaderStage(e){const s=this.shaderCache;let d=s.get(e);return d===void 0&&(d=new WebGLShaderStage(e),s.set(e,d)),d}}class WebGLShaderStage{constructor(e){this.id=_id++,this.code=e,this.usedTimes=0}}function WebGLPrograms(c,e,s,d,nt,o,ft){const gt=new Layers,xt=new WebGLShaderCache,St=new Set,Tt=[],At=nt.logarithmicDepthBuffer,Ct=nt.vertexTextures;let Rt=nt.precision;const yt={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function Ot(Kt){return St.add(Kt),Kt===0?"uv":`uv${Kt}`}function Nt(Kt,jt,Jt,fn,sn){const wn=fn.fog,Mn=sn.geometry,Tn=Kt.isMeshStandardMaterial?fn.environment:null,kn=(Kt.isMeshStandardMaterial?s:e).get(Kt.envMap||Tn),rn=kn&&kn.mapping===CubeUVReflectionMapping?kn.image.height:null,un=yt[Kt.type];Kt.precision!==null&&(Rt=nt.getMaxPrecision(Kt.precision),Rt!==Kt.precision&&console.warn("THREE.WebGLProgram.getParameters:",Kt.precision,"not supported, using",Rt,"instead."));const pn=Mn.morphAttributes.position||Mn.morphAttributes.normal||Mn.morphAttributes.color,Rn=pn!==void 0?pn.length:0;let zn=0;Mn.morphAttributes.position!==void 0&&(zn=1),Mn.morphAttributes.normal!==void 0&&(zn=2),Mn.morphAttributes.color!==void 0&&(zn=3);let ir,An,jn,or;if(un){const Jr=ShaderLib[un];ir=Jr.vertexShader,An=Jr.fragmentShader}else ir=Kt.vertexShader,An=Kt.fragmentShader,xt.update(Kt),jn=xt.getVertexShaderID(Kt),or=xt.getFragmentShaderID(Kt);const er=c.getRenderTarget(),gr=c.state.buffers.depth.getReversed(),kr=sn.isInstancedMesh===!0,dr=sn.isBatchedMesh===!0,mr=!!Kt.map,It=!!Kt.matcap,Zn=!!kn,nn=!!Kt.aoMap,nr=!!Kt.lightMap,Kn=!!Kt.bumpMap,Yn=!!Kt.normalMap,Dn=!!Kt.displacementMap,vr=!!Kt.emissiveMap,Xn=!!Kt.metalnessMap,tn=!!Kt.roughnessMap,Qt=Kt.anisotropy>0,hn=Kt.clearcoat>0,Pn=Kt.dispersion>0,Gn=Kt.iridescence>0,yn=Kt.sheen>0,Jn=Kt.transmission>0,$n=Qt&&!!Kt.anisotropyMap,fr=hn&&!!Kt.clearcoatMap,Lr=hn&&!!Kt.clearcoatNormalMap,Qn=hn&&!!Kt.clearcoatRoughnessMap,tr=Gn&&!!Kt.iridescenceMap,rr=Gn&&!!Kt.iridescenceThicknessMap,Or=yn&&!!Kt.sheenColorMap,wr=yn&&!!Kt.sheenRoughnessMap,cn=!!Kt.specularMap,Hn=!!Kt.specularColorMap,lr=!!Kt.specularIntensityMap,an=Jn&&!!Kt.transmissionMap,sr=Jn&&!!Kt.thicknessMap,Ln=!!Kt.gradientMap,Wn=!!Kt.alphaMap,yr=Kt.alphaTest>0,hr=!!Kt.alphaHash,zr=!!Kt.extensions;let io=NoToneMapping;Kt.toneMapped&&(er===null||er.isXRRenderTarget===!0)&&(io=c.toneMapping);const _o={shaderID:un,shaderType:Kt.type,shaderName:Kt.name,vertexShader:ir,fragmentShader:An,defines:Kt.defines,customVertexShaderID:jn,customFragmentShaderID:or,isRawShaderMaterial:Kt.isRawShaderMaterial===!0,glslVersion:Kt.glslVersion,precision:Rt,batching:dr,batchingColor:dr&&sn._colorsTexture!==null,instancing:kr,instancingColor:kr&&sn.instanceColor!==null,instancingMorph:kr&&sn.morphTexture!==null,supportsVertexTextures:Ct,outputColorSpace:er===null?c.outputColorSpace:er.isXRRenderTarget===!0?er.texture.colorSpace:LinearSRGBColorSpace,alphaToCoverage:!!Kt.alphaToCoverage,map:mr,matcap:It,envMap:Zn,envMapMode:Zn&&kn.mapping,envMapCubeUVHeight:rn,aoMap:nn,lightMap:nr,bumpMap:Kn,normalMap:Yn,displacementMap:Ct&&Dn,emissiveMap:vr,normalMapObjectSpace:Yn&&Kt.normalMapType===ObjectSpaceNormalMap,normalMapTangentSpace:Yn&&Kt.normalMapType===TangentSpaceNormalMap,metalnessMap:Xn,roughnessMap:tn,anisotropy:Qt,anisotropyMap:$n,clearcoat:hn,clearcoatMap:fr,clearcoatNormalMap:Lr,clearcoatRoughnessMap:Qn,dispersion:Pn,iridescence:Gn,iridescenceMap:tr,iridescenceThicknessMap:rr,sheen:yn,sheenColorMap:Or,sheenRoughnessMap:wr,specularMap:cn,specularColorMap:Hn,specularIntensityMap:lr,transmission:Jn,transmissionMap:an,thicknessMap:sr,gradientMap:Ln,opaque:Kt.transparent===!1&&Kt.blending===NormalBlending&&Kt.alphaToCoverage===!1,alphaMap:Wn,alphaTest:yr,alphaHash:hr,combine:Kt.combine,mapUv:mr&&Ot(Kt.map.channel),aoMapUv:nn&&Ot(Kt.aoMap.channel),lightMapUv:nr&&Ot(Kt.lightMap.channel),bumpMapUv:Kn&&Ot(Kt.bumpMap.channel),normalMapUv:Yn&&Ot(Kt.normalMap.channel),displacementMapUv:Dn&&Ot(Kt.displacementMap.channel),emissiveMapUv:vr&&Ot(Kt.emissiveMap.channel),metalnessMapUv:Xn&&Ot(Kt.metalnessMap.channel),roughnessMapUv:tn&&Ot(Kt.roughnessMap.channel),anisotropyMapUv:$n&&Ot(Kt.anisotropyMap.channel),clearcoatMapUv:fr&&Ot(Kt.clearcoatMap.channel),clearcoatNormalMapUv:Lr&&Ot(Kt.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Qn&&Ot(Kt.clearcoatRoughnessMap.channel),iridescenceMapUv:tr&&Ot(Kt.iridescenceMap.channel),iridescenceThicknessMapUv:rr&&Ot(Kt.iridescenceThicknessMap.channel),sheenColorMapUv:Or&&Ot(Kt.sheenColorMap.channel),sheenRoughnessMapUv:wr&&Ot(Kt.sheenRoughnessMap.channel),specularMapUv:cn&&Ot(Kt.specularMap.channel),specularColorMapUv:Hn&&Ot(Kt.specularColorMap.channel),specularIntensityMapUv:lr&&Ot(Kt.specularIntensityMap.channel),transmissionMapUv:an&&Ot(Kt.transmissionMap.channel),thicknessMapUv:sr&&Ot(Kt.thicknessMap.channel),alphaMapUv:Wn&&Ot(Kt.alphaMap.channel),vertexTangents:!!Mn.attributes.tangent&&(Yn||Qt),vertexColors:Kt.vertexColors,vertexAlphas:Kt.vertexColors===!0&&!!Mn.attributes.color&&Mn.attributes.color.itemSize===4,pointsUvs:sn.isPoints===!0&&!!Mn.attributes.uv&&(mr||Wn),fog:!!wn,useFog:Kt.fog===!0,fogExp2:!!wn&&wn.isFogExp2,flatShading:Kt.flatShading===!0,sizeAttenuation:Kt.sizeAttenuation===!0,logarithmicDepthBuffer:At,reverseDepthBuffer:gr,skinning:sn.isSkinnedMesh===!0,morphTargets:Mn.morphAttributes.position!==void 0,morphNormals:Mn.morphAttributes.normal!==void 0,morphColors:Mn.morphAttributes.color!==void 0,morphTargetsCount:Rn,morphTextureStride:zn,numDirLights:jt.directional.length,numPointLights:jt.point.length,numSpotLights:jt.spot.length,numSpotLightMaps:jt.spotLightMap.length,numRectAreaLights:jt.rectArea.length,numHemiLights:jt.hemi.length,numDirLightShadows:jt.directionalShadowMap.length,numPointLightShadows:jt.pointShadowMap.length,numSpotLightShadows:jt.spotShadowMap.length,numSpotLightShadowsWithMaps:jt.numSpotLightShadowsWithMaps,numLightProbes:jt.numLightProbes,numClippingPlanes:ft.numPlanes,numClipIntersection:ft.numIntersection,dithering:Kt.dithering,shadowMapEnabled:c.shadowMap.enabled&&Jt.length>0,shadowMapType:c.shadowMap.type,toneMapping:io,decodeVideoTexture:mr&&Kt.map.isVideoTexture===!0&&ColorManagement.getTransfer(Kt.map.colorSpace)===SRGBTransfer,decodeVideoTextureEmissive:vr&&Kt.emissiveMap.isVideoTexture===!0&&ColorManagement.getTransfer(Kt.emissiveMap.colorSpace)===SRGBTransfer,premultipliedAlpha:Kt.premultipliedAlpha,doubleSided:Kt.side===DoubleSide,flipSided:Kt.side===BackSide,useDepthPacking:Kt.depthPacking>=0,depthPacking:Kt.depthPacking||0,index0AttributeName:Kt.index0AttributeName,extensionClipCullDistance:zr&&Kt.extensions.clipCullDistance===!0&&d.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(zr&&Kt.extensions.multiDraw===!0||dr)&&d.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:d.has("KHR_parallel_shader_compile"),customProgramCacheKey:Kt.customProgramCacheKey()};return _o.vertexUv1s=St.has(1),_o.vertexUv2s=St.has(2),_o.vertexUv3s=St.has(3),St.clear(),_o}function bt(Kt){const jt=[];if(Kt.shaderID?jt.push(Kt.shaderID):(jt.push(Kt.customVertexShaderID),jt.push(Kt.customFragmentShaderID)),Kt.defines!==void 0)for(const Jt in Kt.defines)jt.push(Jt),jt.push(Kt.defines[Jt]);return Kt.isRawShaderMaterial===!1&&(Dt(jt,Kt),Ft(jt,Kt),jt.push(c.outputColorSpace)),jt.push(Kt.customProgramCacheKey),jt.join()}function Dt(Kt,jt){Kt.push(jt.precision),Kt.push(jt.outputColorSpace),Kt.push(jt.envMapMode),Kt.push(jt.envMapCubeUVHeight),Kt.push(jt.mapUv),Kt.push(jt.alphaMapUv),Kt.push(jt.lightMapUv),Kt.push(jt.aoMapUv),Kt.push(jt.bumpMapUv),Kt.push(jt.normalMapUv),Kt.push(jt.displacementMapUv),Kt.push(jt.emissiveMapUv),Kt.push(jt.metalnessMapUv),Kt.push(jt.roughnessMapUv),Kt.push(jt.anisotropyMapUv),Kt.push(jt.clearcoatMapUv),Kt.push(jt.clearcoatNormalMapUv),Kt.push(jt.clearcoatRoughnessMapUv),Kt.push(jt.iridescenceMapUv),Kt.push(jt.iridescenceThicknessMapUv),Kt.push(jt.sheenColorMapUv),Kt.push(jt.sheenRoughnessMapUv),Kt.push(jt.specularMapUv),Kt.push(jt.specularColorMapUv),Kt.push(jt.specularIntensityMapUv),Kt.push(jt.transmissionMapUv),Kt.push(jt.thicknessMapUv),Kt.push(jt.combine),Kt.push(jt.fogExp2),Kt.push(jt.sizeAttenuation),Kt.push(jt.morphTargetsCount),Kt.push(jt.morphAttributeCount),Kt.push(jt.numDirLights),Kt.push(jt.numPointLights),Kt.push(jt.numSpotLights),Kt.push(jt.numSpotLightMaps),Kt.push(jt.numHemiLights),Kt.push(jt.numRectAreaLights),Kt.push(jt.numDirLightShadows),Kt.push(jt.numPointLightShadows),Kt.push(jt.numSpotLightShadows),Kt.push(jt.numSpotLightShadowsWithMaps),Kt.push(jt.numLightProbes),Kt.push(jt.shadowMapType),Kt.push(jt.toneMapping),Kt.push(jt.numClippingPlanes),Kt.push(jt.numClipIntersection),Kt.push(jt.depthPacking)}function Ft(Kt,jt){gt.disableAll(),jt.supportsVertexTextures&&gt.enable(0),jt.instancing&&gt.enable(1),jt.instancingColor&&gt.enable(2),jt.instancingMorph&&gt.enable(3),jt.matcap&&gt.enable(4),jt.envMap&&gt.enable(5),jt.normalMapObjectSpace&&gt.enable(6),jt.normalMapTangentSpace&&gt.enable(7),jt.clearcoat&&gt.enable(8),jt.iridescence&&gt.enable(9),jt.alphaTest&&gt.enable(10),jt.vertexColors&&gt.enable(11),jt.vertexAlphas&&gt.enable(12),jt.vertexUv1s&&gt.enable(13),jt.vertexUv2s&&gt.enable(14),jt.vertexUv3s&&gt.enable(15),jt.vertexTangents&&gt.enable(16),jt.anisotropy&&gt.enable(17),jt.alphaHash&&gt.enable(18),jt.batching&&gt.enable(19),jt.dispersion&&gt.enable(20),jt.batchingColor&&gt.enable(21),Kt.push(gt.mask),gt.disableAll(),jt.fog&&gt.enable(0),jt.useFog&&gt.enable(1),jt.flatShading&&gt.enable(2),jt.logarithmicDepthBuffer&&gt.enable(3),jt.reverseDepthBuffer&&gt.enable(4),jt.skinning&&gt.enable(5),jt.morphTargets&&gt.enable(6),jt.morphNormals&&gt.enable(7),jt.morphColors&&gt.enable(8),jt.premultipliedAlpha&&gt.enable(9),jt.shadowMapEnabled&&gt.enable(10),jt.doubleSided&&gt.enable(11),jt.flipSided&&gt.enable(12),jt.useDepthPacking&&gt.enable(13),jt.dithering&&gt.enable(14),jt.transmission&&gt.enable(15),jt.sheen&&gt.enable(16),jt.opaque&&gt.enable(17),jt.pointsUvs&&gt.enable(18),jt.decodeVideoTexture&&gt.enable(19),jt.decodeVideoTextureEmissive&&gt.enable(20),jt.alphaToCoverage&&gt.enable(21),Kt.push(gt.mask)}function Ut(Kt){const jt=yt[Kt.type];let Jt;if(jt){const fn=ShaderLib[jt];Jt=UniformsUtils.clone(fn.uniforms)}else Jt=Kt.uniforms;return Jt}function Wt(Kt,jt){let Jt;for(let fn=0,sn=Tt.length;fn<sn;fn++){const wn=Tt[fn];if(wn.cacheKey===jt){Jt=wn,++Jt.usedTimes;break}}return Jt===void 0&&(Jt=new WebGLProgram(c,jt,Kt,o),Tt.push(Jt)),Jt}function Gt(Kt){if(--Kt.usedTimes===0){const jt=Tt.indexOf(Kt);Tt[jt]=Tt[Tt.length-1],Tt.pop(),Kt.destroy()}}function Xt(Kt){xt.remove(Kt)}function Yt(){xt.dispose()}return{getParameters:Nt,getProgramCacheKey:bt,getUniforms:Ut,acquireProgram:Wt,releaseProgram:Gt,releaseShaderCache:Xt,programs:Tt,dispose:Yt}}function WebGLProperties(){let c=new WeakMap;function e(ft){return c.has(ft)}function s(ft){let gt=c.get(ft);return gt===void 0&&(gt={},c.set(ft,gt)),gt}function d(ft){c.delete(ft)}function nt(ft,gt,xt){c.get(ft)[gt]=xt}function o(){c=new WeakMap}return{has:e,get:s,remove:d,update:nt,dispose:o}}function painterSortStable(c,e){return c.groupOrder!==e.groupOrder?c.groupOrder-e.groupOrder:c.renderOrder!==e.renderOrder?c.renderOrder-e.renderOrder:c.material.id!==e.material.id?c.material.id-e.material.id:c.z!==e.z?c.z-e.z:c.id-e.id}function reversePainterSortStable(c,e){return c.groupOrder!==e.groupOrder?c.groupOrder-e.groupOrder:c.renderOrder!==e.renderOrder?c.renderOrder-e.renderOrder:c.z!==e.z?e.z-c.z:c.id-e.id}function WebGLRenderList(){const c=[];let e=0;const s=[],d=[],nt=[];function o(){e=0,s.length=0,d.length=0,nt.length=0}function ft(At,Ct,Rt,yt,Ot,Nt){let bt=c[e];return bt===void 0?(bt={id:At.id,object:At,geometry:Ct,material:Rt,groupOrder:yt,renderOrder:At.renderOrder,z:Ot,group:Nt},c[e]=bt):(bt.id=At.id,bt.object=At,bt.geometry=Ct,bt.material=Rt,bt.groupOrder=yt,bt.renderOrder=At.renderOrder,bt.z=Ot,bt.group=Nt),e++,bt}function gt(At,Ct,Rt,yt,Ot,Nt){const bt=ft(At,Ct,Rt,yt,Ot,Nt);Rt.transmission>0?d.push(bt):Rt.transparent===!0?nt.push(bt):s.push(bt)}function xt(At,Ct,Rt,yt,Ot,Nt){const bt=ft(At,Ct,Rt,yt,Ot,Nt);Rt.transmission>0?d.unshift(bt):Rt.transparent===!0?nt.unshift(bt):s.unshift(bt)}function St(At,Ct){s.length>1&&s.sort(At||painterSortStable),d.length>1&&d.sort(Ct||reversePainterSortStable),nt.length>1&&nt.sort(Ct||reversePainterSortStable)}function Tt(){for(let At=e,Ct=c.length;At<Ct;At++){const Rt=c[At];if(Rt.id===null)break;Rt.id=null,Rt.object=null,Rt.geometry=null,Rt.material=null,Rt.group=null}}return{opaque:s,transmissive:d,transparent:nt,init:o,push:gt,unshift:xt,finish:Tt,sort:St}}function WebGLRenderLists(){let c=new WeakMap;function e(d,nt){const o=c.get(d);let ft;return o===void 0?(ft=new WebGLRenderList,c.set(d,[ft])):nt>=o.length?(ft=new WebGLRenderList,o.push(ft)):ft=o[nt],ft}function s(){c=new WeakMap}return{get:e,dispose:s}}function UniformsCache(){const c={};return{get:function(e){if(c[e.id]!==void 0)return c[e.id];let s;switch(e.type){case"DirectionalLight":s={direction:new Vector3,color:new Color};break;case"SpotLight":s={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":s={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":s={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":s={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return c[e.id]=s,s}}}function ShadowUniformsCache(){const c={};return{get:function(e){if(c[e.id]!==void 0)return c[e.id];let s;switch(e.type){case"DirectionalLight":s={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":s={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":s={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return c[e.id]=s,s}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(c,e){return(e.castShadow?2:0)-(c.castShadow?2:0)+(e.map?1:0)-(c.map?1:0)}function WebGLLights(c){const e=new UniformsCache,s=ShadowUniformsCache(),d={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let St=0;St<9;St++)d.probe.push(new Vector3);const nt=new Vector3,o=new Matrix4,ft=new Matrix4;function gt(St){let Tt=0,At=0,Ct=0;for(let Kt=0;Kt<9;Kt++)d.probe[Kt].set(0,0,0);let Rt=0,yt=0,Ot=0,Nt=0,bt=0,Dt=0,Ft=0,Ut=0,Wt=0,Gt=0,Xt=0;St.sort(shadowCastingAndTexturingLightsFirst);for(let Kt=0,jt=St.length;Kt<jt;Kt++){const Jt=St[Kt],fn=Jt.color,sn=Jt.intensity,wn=Jt.distance,Mn=Jt.shadow&&Jt.shadow.map?Jt.shadow.map.texture:null;if(Jt.isAmbientLight)Tt+=fn.r*sn,At+=fn.g*sn,Ct+=fn.b*sn;else if(Jt.isLightProbe){for(let Tn=0;Tn<9;Tn++)d.probe[Tn].addScaledVector(Jt.sh.coefficients[Tn],sn);Xt++}else if(Jt.isDirectionalLight){const Tn=e.get(Jt);if(Tn.color.copy(Jt.color).multiplyScalar(Jt.intensity),Jt.castShadow){const kn=Jt.shadow,rn=s.get(Jt);rn.shadowIntensity=kn.intensity,rn.shadowBias=kn.bias,rn.shadowNormalBias=kn.normalBias,rn.shadowRadius=kn.radius,rn.shadowMapSize=kn.mapSize,d.directionalShadow[Rt]=rn,d.directionalShadowMap[Rt]=Mn,d.directionalShadowMatrix[Rt]=Jt.shadow.matrix,Dt++}d.directional[Rt]=Tn,Rt++}else if(Jt.isSpotLight){const Tn=e.get(Jt);Tn.position.setFromMatrixPosition(Jt.matrixWorld),Tn.color.copy(fn).multiplyScalar(sn),Tn.distance=wn,Tn.coneCos=Math.cos(Jt.angle),Tn.penumbraCos=Math.cos(Jt.angle*(1-Jt.penumbra)),Tn.decay=Jt.decay,d.spot[Ot]=Tn;const kn=Jt.shadow;if(Jt.map&&(d.spotLightMap[Wt]=Jt.map,Wt++,kn.updateMatrices(Jt),Jt.castShadow&&Gt++),d.spotLightMatrix[Ot]=kn.matrix,Jt.castShadow){const rn=s.get(Jt);rn.shadowIntensity=kn.intensity,rn.shadowBias=kn.bias,rn.shadowNormalBias=kn.normalBias,rn.shadowRadius=kn.radius,rn.shadowMapSize=kn.mapSize,d.spotShadow[Ot]=rn,d.spotShadowMap[Ot]=Mn,Ut++}Ot++}else if(Jt.isRectAreaLight){const Tn=e.get(Jt);Tn.color.copy(fn).multiplyScalar(sn),Tn.halfWidth.set(Jt.width*.5,0,0),Tn.halfHeight.set(0,Jt.height*.5,0),d.rectArea[Nt]=Tn,Nt++}else if(Jt.isPointLight){const Tn=e.get(Jt);if(Tn.color.copy(Jt.color).multiplyScalar(Jt.intensity),Tn.distance=Jt.distance,Tn.decay=Jt.decay,Jt.castShadow){const kn=Jt.shadow,rn=s.get(Jt);rn.shadowIntensity=kn.intensity,rn.shadowBias=kn.bias,rn.shadowNormalBias=kn.normalBias,rn.shadowRadius=kn.radius,rn.shadowMapSize=kn.mapSize,rn.shadowCameraNear=kn.camera.near,rn.shadowCameraFar=kn.camera.far,d.pointShadow[yt]=rn,d.pointShadowMap[yt]=Mn,d.pointShadowMatrix[yt]=Jt.shadow.matrix,Ft++}d.point[yt]=Tn,yt++}else if(Jt.isHemisphereLight){const Tn=e.get(Jt);Tn.skyColor.copy(Jt.color).multiplyScalar(sn),Tn.groundColor.copy(Jt.groundColor).multiplyScalar(sn),d.hemi[bt]=Tn,bt++}}Nt>0&&(c.has("OES_texture_float_linear")===!0?(d.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,d.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):(d.rectAreaLTC1=UniformsLib.LTC_HALF_1,d.rectAreaLTC2=UniformsLib.LTC_HALF_2)),d.ambient[0]=Tt,d.ambient[1]=At,d.ambient[2]=Ct;const Yt=d.hash;(Yt.directionalLength!==Rt||Yt.pointLength!==yt||Yt.spotLength!==Ot||Yt.rectAreaLength!==Nt||Yt.hemiLength!==bt||Yt.numDirectionalShadows!==Dt||Yt.numPointShadows!==Ft||Yt.numSpotShadows!==Ut||Yt.numSpotMaps!==Wt||Yt.numLightProbes!==Xt)&&(d.directional.length=Rt,d.spot.length=Ot,d.rectArea.length=Nt,d.point.length=yt,d.hemi.length=bt,d.directionalShadow.length=Dt,d.directionalShadowMap.length=Dt,d.pointShadow.length=Ft,d.pointShadowMap.length=Ft,d.spotShadow.length=Ut,d.spotShadowMap.length=Ut,d.directionalShadowMatrix.length=Dt,d.pointShadowMatrix.length=Ft,d.spotLightMatrix.length=Ut+Wt-Gt,d.spotLightMap.length=Wt,d.numSpotLightShadowsWithMaps=Gt,d.numLightProbes=Xt,Yt.directionalLength=Rt,Yt.pointLength=yt,Yt.spotLength=Ot,Yt.rectAreaLength=Nt,Yt.hemiLength=bt,Yt.numDirectionalShadows=Dt,Yt.numPointShadows=Ft,Yt.numSpotShadows=Ut,Yt.numSpotMaps=Wt,Yt.numLightProbes=Xt,d.version=nextVersion++)}function xt(St,Tt){let At=0,Ct=0,Rt=0,yt=0,Ot=0;const Nt=Tt.matrixWorldInverse;for(let bt=0,Dt=St.length;bt<Dt;bt++){const Ft=St[bt];if(Ft.isDirectionalLight){const Ut=d.directional[At];Ut.direction.setFromMatrixPosition(Ft.matrixWorld),nt.setFromMatrixPosition(Ft.target.matrixWorld),Ut.direction.sub(nt),Ut.direction.transformDirection(Nt),At++}else if(Ft.isSpotLight){const Ut=d.spot[Rt];Ut.position.setFromMatrixPosition(Ft.matrixWorld),Ut.position.applyMatrix4(Nt),Ut.direction.setFromMatrixPosition(Ft.matrixWorld),nt.setFromMatrixPosition(Ft.target.matrixWorld),Ut.direction.sub(nt),Ut.direction.transformDirection(Nt),Rt++}else if(Ft.isRectAreaLight){const Ut=d.rectArea[yt];Ut.position.setFromMatrixPosition(Ft.matrixWorld),Ut.position.applyMatrix4(Nt),ft.identity(),o.copy(Ft.matrixWorld),o.premultiply(Nt),ft.extractRotation(o),Ut.halfWidth.set(Ft.width*.5,0,0),Ut.halfHeight.set(0,Ft.height*.5,0),Ut.halfWidth.applyMatrix4(ft),Ut.halfHeight.applyMatrix4(ft),yt++}else if(Ft.isPointLight){const Ut=d.point[Ct];Ut.position.setFromMatrixPosition(Ft.matrixWorld),Ut.position.applyMatrix4(Nt),Ct++}else if(Ft.isHemisphereLight){const Ut=d.hemi[Ot];Ut.direction.setFromMatrixPosition(Ft.matrixWorld),Ut.direction.transformDirection(Nt),Ot++}}}return{setup:gt,setupView:xt,state:d}}function WebGLRenderState(c){const e=new WebGLLights(c),s=[],d=[];function nt(Tt){St.camera=Tt,s.length=0,d.length=0}function o(Tt){s.push(Tt)}function ft(Tt){d.push(Tt)}function gt(){e.setup(s)}function xt(Tt){e.setupView(s,Tt)}const St={lightsArray:s,shadowsArray:d,camera:null,lights:e,transmissionRenderTarget:{}};return{init:nt,state:St,setupLights:gt,setupLightsView:xt,pushLight:o,pushShadow:ft}}function WebGLRenderStates(c){let e=new WeakMap;function s(nt,o=0){const ft=e.get(nt);let gt;return ft===void 0?(gt=new WebGLRenderState(c),e.set(nt,[gt])):o>=ft.length?(gt=new WebGLRenderState(c),ft.push(gt)):gt=ft[o],gt}function d(){e=new WeakMap}return{get:s,dispose:d}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(c,e,s){let d=new Frustum;const nt=new Vector2,o=new Vector2,ft=new Vector4,gt=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),xt=new MeshDistanceMaterial,St={},Tt=s.maxTextureSize,At={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},Ct=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),Rt=Ct.clone();Rt.defines.HORIZONTAL_PASS=1;const yt=new BufferGeometry;yt.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const Ot=new Mesh(yt,Ct),Nt=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap;let bt=this.type;this.render=function(Gt,Xt,Yt){if(Nt.enabled===!1||Nt.autoUpdate===!1&&Nt.needsUpdate===!1||Gt.length===0)return;const Kt=c.getRenderTarget(),jt=c.getActiveCubeFace(),Jt=c.getActiveMipmapLevel(),fn=c.state;fn.setBlending(NoBlending),fn.buffers.color.setClear(1,1,1,1),fn.buffers.depth.setTest(!0),fn.setScissorTest(!1);const sn=bt!==VSMShadowMap&&this.type===VSMShadowMap,wn=bt===VSMShadowMap&&this.type!==VSMShadowMap;for(let Mn=0,Tn=Gt.length;Mn<Tn;Mn++){const kn=Gt[Mn],rn=kn.shadow;if(rn===void 0){console.warn("THREE.WebGLShadowMap:",kn,"has no shadow.");continue}if(rn.autoUpdate===!1&&rn.needsUpdate===!1)continue;nt.copy(rn.mapSize);const un=rn.getFrameExtents();if(nt.multiply(un),o.copy(rn.mapSize),(nt.x>Tt||nt.y>Tt)&&(nt.x>Tt&&(o.x=Math.floor(Tt/un.x),nt.x=o.x*un.x,rn.mapSize.x=o.x),nt.y>Tt&&(o.y=Math.floor(Tt/un.y),nt.y=o.y*un.y,rn.mapSize.y=o.y)),rn.map===null||sn===!0||wn===!0){const Rn=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};rn.map!==null&&rn.map.dispose(),rn.map=new WebGLRenderTarget(nt.x,nt.y,Rn),rn.map.texture.name=kn.name+".shadowMap",rn.camera.updateProjectionMatrix()}c.setRenderTarget(rn.map),c.clear();const pn=rn.getViewportCount();for(let Rn=0;Rn<pn;Rn++){const zn=rn.getViewport(Rn);ft.set(o.x*zn.x,o.y*zn.y,o.x*zn.z,o.y*zn.w),fn.viewport(ft),rn.updateMatrices(kn,Rn),d=rn.getFrustum(),Ut(Xt,Yt,rn.camera,kn,this.type)}rn.isPointLightShadow!==!0&&this.type===VSMShadowMap&&Dt(rn,Yt),rn.needsUpdate=!1}bt=this.type,Nt.needsUpdate=!1,c.setRenderTarget(Kt,jt,Jt)};function Dt(Gt,Xt){const Yt=e.update(Ot);Ct.defines.VSM_SAMPLES!==Gt.blurSamples&&(Ct.defines.VSM_SAMPLES=Gt.blurSamples,Rt.defines.VSM_SAMPLES=Gt.blurSamples,Ct.needsUpdate=!0,Rt.needsUpdate=!0),Gt.mapPass===null&&(Gt.mapPass=new WebGLRenderTarget(nt.x,nt.y)),Ct.uniforms.shadow_pass.value=Gt.map.texture,Ct.uniforms.resolution.value=Gt.mapSize,Ct.uniforms.radius.value=Gt.radius,c.setRenderTarget(Gt.mapPass),c.clear(),c.renderBufferDirect(Xt,null,Yt,Ct,Ot,null),Rt.uniforms.shadow_pass.value=Gt.mapPass.texture,Rt.uniforms.resolution.value=Gt.mapSize,Rt.uniforms.radius.value=Gt.radius,c.setRenderTarget(Gt.map),c.clear(),c.renderBufferDirect(Xt,null,Yt,Rt,Ot,null)}function Ft(Gt,Xt,Yt,Kt){let jt=null;const Jt=Yt.isPointLight===!0?Gt.customDistanceMaterial:Gt.customDepthMaterial;if(Jt!==void 0)jt=Jt;else if(jt=Yt.isPointLight===!0?xt:gt,c.localClippingEnabled&&Xt.clipShadows===!0&&Array.isArray(Xt.clippingPlanes)&&Xt.clippingPlanes.length!==0||Xt.displacementMap&&Xt.displacementScale!==0||Xt.alphaMap&&Xt.alphaTest>0||Xt.map&&Xt.alphaTest>0||Xt.alphaToCoverage===!0){const fn=jt.uuid,sn=Xt.uuid;let wn=St[fn];wn===void 0&&(wn={},St[fn]=wn);let Mn=wn[sn];Mn===void 0&&(Mn=jt.clone(),wn[sn]=Mn,Xt.addEventListener("dispose",Wt)),jt=Mn}if(jt.visible=Xt.visible,jt.wireframe=Xt.wireframe,Kt===VSMShadowMap?jt.side=Xt.shadowSide!==null?Xt.shadowSide:Xt.side:jt.side=Xt.shadowSide!==null?Xt.shadowSide:At[Xt.side],jt.alphaMap=Xt.alphaMap,jt.alphaTest=Xt.alphaToCoverage===!0?.5:Xt.alphaTest,jt.map=Xt.map,jt.clipShadows=Xt.clipShadows,jt.clippingPlanes=Xt.clippingPlanes,jt.clipIntersection=Xt.clipIntersection,jt.displacementMap=Xt.displacementMap,jt.displacementScale=Xt.displacementScale,jt.displacementBias=Xt.displacementBias,jt.wireframeLinewidth=Xt.wireframeLinewidth,jt.linewidth=Xt.linewidth,Yt.isPointLight===!0&&jt.isMeshDistanceMaterial===!0){const fn=c.properties.get(jt);fn.light=Yt}return jt}function Ut(Gt,Xt,Yt,Kt,jt){if(Gt.visible===!1)return;if(Gt.layers.test(Xt.layers)&&(Gt.isMesh||Gt.isLine||Gt.isPoints)&&(Gt.castShadow||Gt.receiveShadow&&jt===VSMShadowMap)&&(!Gt.frustumCulled||d.intersectsObject(Gt))){Gt.modelViewMatrix.multiplyMatrices(Yt.matrixWorldInverse,Gt.matrixWorld);const sn=e.update(Gt),wn=Gt.material;if(Array.isArray(wn)){const Mn=sn.groups;for(let Tn=0,kn=Mn.length;Tn<kn;Tn++){const rn=Mn[Tn],un=wn[rn.materialIndex];if(un&&un.visible){const pn=Ft(Gt,un,Kt,jt);Gt.onBeforeShadow(c,Gt,Xt,Yt,sn,pn,rn),c.renderBufferDirect(Yt,null,sn,pn,Gt,rn),Gt.onAfterShadow(c,Gt,Xt,Yt,sn,pn,rn)}}}else if(wn.visible){const Mn=Ft(Gt,wn,Kt,jt);Gt.onBeforeShadow(c,Gt,Xt,Yt,sn,Mn,null),c.renderBufferDirect(Yt,null,sn,Mn,Gt,null),Gt.onAfterShadow(c,Gt,Xt,Yt,sn,Mn,null)}}const fn=Gt.children;for(let sn=0,wn=fn.length;sn<wn;sn++)Ut(fn[sn],Xt,Yt,Kt,jt)}function Wt(Gt){Gt.target.removeEventListener("dispose",Wt);for(const Yt in St){const Kt=St[Yt],jt=Gt.target.uuid;jt in Kt&&(Kt[jt].dispose(),delete Kt[jt])}}}const reversedFuncs={[NeverDepth]:AlwaysDepth,[LessDepth]:GreaterDepth,[EqualDepth]:NotEqualDepth,[LessEqualDepth]:GreaterEqualDepth,[AlwaysDepth]:NeverDepth,[GreaterDepth]:LessDepth,[NotEqualDepth]:EqualDepth,[GreaterEqualDepth]:LessEqualDepth};function WebGLState(c,e){function s(){let an=!1;const sr=new Vector4;let Ln=null;const Wn=new Vector4(0,0,0,0);return{setMask:function(yr){Ln!==yr&&!an&&(c.colorMask(yr,yr,yr,yr),Ln=yr)},setLocked:function(yr){an=yr},setClear:function(yr,hr,zr,io,_o){_o===!0&&(yr*=io,hr*=io,zr*=io),sr.set(yr,hr,zr,io),Wn.equals(sr)===!1&&(c.clearColor(yr,hr,zr,io),Wn.copy(sr))},reset:function(){an=!1,Ln=null,Wn.set(-1,0,0,0)}}}function d(){let an=!1,sr=!1,Ln=null,Wn=null,yr=null;return{setReversed:function(hr){if(sr!==hr){const zr=e.get("EXT_clip_control");hr?zr.clipControlEXT(zr.LOWER_LEFT_EXT,zr.ZERO_TO_ONE_EXT):zr.clipControlEXT(zr.LOWER_LEFT_EXT,zr.NEGATIVE_ONE_TO_ONE_EXT),sr=hr;const io=yr;yr=null,this.setClear(io)}},getReversed:function(){return sr},setTest:function(hr){hr?er(c.DEPTH_TEST):gr(c.DEPTH_TEST)},setMask:function(hr){Ln!==hr&&!an&&(c.depthMask(hr),Ln=hr)},setFunc:function(hr){if(sr&&(hr=reversedFuncs[hr]),Wn!==hr){switch(hr){case NeverDepth:c.depthFunc(c.NEVER);break;case AlwaysDepth:c.depthFunc(c.ALWAYS);break;case LessDepth:c.depthFunc(c.LESS);break;case LessEqualDepth:c.depthFunc(c.LEQUAL);break;case EqualDepth:c.depthFunc(c.EQUAL);break;case GreaterEqualDepth:c.depthFunc(c.GEQUAL);break;case GreaterDepth:c.depthFunc(c.GREATER);break;case NotEqualDepth:c.depthFunc(c.NOTEQUAL);break;default:c.depthFunc(c.LEQUAL)}Wn=hr}},setLocked:function(hr){an=hr},setClear:function(hr){yr!==hr&&(sr&&(hr=1-hr),c.clearDepth(hr),yr=hr)},reset:function(){an=!1,Ln=null,Wn=null,yr=null,sr=!1}}}function nt(){let an=!1,sr=null,Ln=null,Wn=null,yr=null,hr=null,zr=null,io=null,_o=null;return{setTest:function(Jr){an||(Jr?er(c.STENCIL_TEST):gr(c.STENCIL_TEST))},setMask:function(Jr){sr!==Jr&&!an&&(c.stencilMask(Jr),sr=Jr)},setFunc:function(Jr,Mo,Ao){(Ln!==Jr||Wn!==Mo||yr!==Ao)&&(c.stencilFunc(Jr,Mo,Ao),Ln=Jr,Wn=Mo,yr=Ao)},setOp:function(Jr,Mo,Ao){(hr!==Jr||zr!==Mo||io!==Ao)&&(c.stencilOp(Jr,Mo,Ao),hr=Jr,zr=Mo,io=Ao)},setLocked:function(Jr){an=Jr},setClear:function(Jr){_o!==Jr&&(c.clearStencil(Jr),_o=Jr)},reset:function(){an=!1,sr=null,Ln=null,Wn=null,yr=null,hr=null,zr=null,io=null,_o=null}}}const o=new s,ft=new d,gt=new nt,xt=new WeakMap,St=new WeakMap;let Tt={},At={},Ct=new WeakMap,Rt=[],yt=null,Ot=!1,Nt=null,bt=null,Dt=null,Ft=null,Ut=null,Wt=null,Gt=null,Xt=new Color(0,0,0),Yt=0,Kt=!1,jt=null,Jt=null,fn=null,sn=null,wn=null;const Mn=c.getParameter(c.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Tn=!1,kn=0;const rn=c.getParameter(c.VERSION);rn.indexOf("WebGL")!==-1?(kn=parseFloat(/^WebGL (\d)/.exec(rn)[1]),Tn=kn>=1):rn.indexOf("OpenGL ES")!==-1&&(kn=parseFloat(/^OpenGL ES (\d)/.exec(rn)[1]),Tn=kn>=2);let un=null,pn={};const Rn=c.getParameter(c.SCISSOR_BOX),zn=c.getParameter(c.VIEWPORT),ir=new Vector4().fromArray(Rn),An=new Vector4().fromArray(zn);function jn(an,sr,Ln,Wn){const yr=new Uint8Array(4),hr=c.createTexture();c.bindTexture(an,hr),c.texParameteri(an,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(an,c.TEXTURE_MAG_FILTER,c.NEAREST);for(let zr=0;zr<Ln;zr++)an===c.TEXTURE_3D||an===c.TEXTURE_2D_ARRAY?c.texImage3D(sr,0,c.RGBA,1,1,Wn,0,c.RGBA,c.UNSIGNED_BYTE,yr):c.texImage2D(sr+zr,0,c.RGBA,1,1,0,c.RGBA,c.UNSIGNED_BYTE,yr);return hr}const or={};or[c.TEXTURE_2D]=jn(c.TEXTURE_2D,c.TEXTURE_2D,1),or[c.TEXTURE_CUBE_MAP]=jn(c.TEXTURE_CUBE_MAP,c.TEXTURE_CUBE_MAP_POSITIVE_X,6),or[c.TEXTURE_2D_ARRAY]=jn(c.TEXTURE_2D_ARRAY,c.TEXTURE_2D_ARRAY,1,1),or[c.TEXTURE_3D]=jn(c.TEXTURE_3D,c.TEXTURE_3D,1,1),o.setClear(0,0,0,1),ft.setClear(1),gt.setClear(0),er(c.DEPTH_TEST),ft.setFunc(LessEqualDepth),Kn(!1),Yn(CullFaceBack),er(c.CULL_FACE),nn(NoBlending);function er(an){Tt[an]!==!0&&(c.enable(an),Tt[an]=!0)}function gr(an){Tt[an]!==!1&&(c.disable(an),Tt[an]=!1)}function kr(an,sr){return At[an]!==sr?(c.bindFramebuffer(an,sr),At[an]=sr,an===c.DRAW_FRAMEBUFFER&&(At[c.FRAMEBUFFER]=sr),an===c.FRAMEBUFFER&&(At[c.DRAW_FRAMEBUFFER]=sr),!0):!1}function dr(an,sr){let Ln=Rt,Wn=!1;if(an){Ln=Ct.get(sr),Ln===void 0&&(Ln=[],Ct.set(sr,Ln));const yr=an.textures;if(Ln.length!==yr.length||Ln[0]!==c.COLOR_ATTACHMENT0){for(let hr=0,zr=yr.length;hr<zr;hr++)Ln[hr]=c.COLOR_ATTACHMENT0+hr;Ln.length=yr.length,Wn=!0}}else Ln[0]!==c.BACK&&(Ln[0]=c.BACK,Wn=!0);Wn&&c.drawBuffers(Ln)}function mr(an){return yt!==an?(c.useProgram(an),yt=an,!0):!1}const It={[AddEquation]:c.FUNC_ADD,[SubtractEquation]:c.FUNC_SUBTRACT,[ReverseSubtractEquation]:c.FUNC_REVERSE_SUBTRACT};It[MinEquation]=c.MIN,It[MaxEquation]=c.MAX;const Zn={[ZeroFactor]:c.ZERO,[OneFactor]:c.ONE,[SrcColorFactor]:c.SRC_COLOR,[SrcAlphaFactor]:c.SRC_ALPHA,[SrcAlphaSaturateFactor]:c.SRC_ALPHA_SATURATE,[DstColorFactor]:c.DST_COLOR,[DstAlphaFactor]:c.DST_ALPHA,[OneMinusSrcColorFactor]:c.ONE_MINUS_SRC_COLOR,[OneMinusSrcAlphaFactor]:c.ONE_MINUS_SRC_ALPHA,[OneMinusDstColorFactor]:c.ONE_MINUS_DST_COLOR,[OneMinusDstAlphaFactor]:c.ONE_MINUS_DST_ALPHA,[ConstantColorFactor]:c.CONSTANT_COLOR,[OneMinusConstantColorFactor]:c.ONE_MINUS_CONSTANT_COLOR,[ConstantAlphaFactor]:c.CONSTANT_ALPHA,[OneMinusConstantAlphaFactor]:c.ONE_MINUS_CONSTANT_ALPHA};function nn(an,sr,Ln,Wn,yr,hr,zr,io,_o,Jr){if(an===NoBlending){Ot===!0&&(gr(c.BLEND),Ot=!1);return}if(Ot===!1&&(er(c.BLEND),Ot=!0),an!==CustomBlending){if(an!==Nt||Jr!==Kt){if((bt!==AddEquation||Ut!==AddEquation)&&(c.blendEquation(c.FUNC_ADD),bt=AddEquation,Ut=AddEquation),Jr)switch(an){case NormalBlending:c.blendFuncSeparate(c.ONE,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:c.blendFunc(c.ONE,c.ONE);break;case SubtractiveBlending:c.blendFuncSeparate(c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ZERO,c.ONE);break;case MultiplyBlending:c.blendFuncSeparate(c.ZERO,c.SRC_COLOR,c.ZERO,c.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",an);break}else switch(an){case NormalBlending:c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:c.blendFunc(c.SRC_ALPHA,c.ONE);break;case SubtractiveBlending:c.blendFuncSeparate(c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ZERO,c.ONE);break;case MultiplyBlending:c.blendFunc(c.ZERO,c.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",an);break}Dt=null,Ft=null,Wt=null,Gt=null,Xt.set(0,0,0),Yt=0,Nt=an,Kt=Jr}return}yr=yr||sr,hr=hr||Ln,zr=zr||Wn,(sr!==bt||yr!==Ut)&&(c.blendEquationSeparate(It[sr],It[yr]),bt=sr,Ut=yr),(Ln!==Dt||Wn!==Ft||hr!==Wt||zr!==Gt)&&(c.blendFuncSeparate(Zn[Ln],Zn[Wn],Zn[hr],Zn[zr]),Dt=Ln,Ft=Wn,Wt=hr,Gt=zr),(io.equals(Xt)===!1||_o!==Yt)&&(c.blendColor(io.r,io.g,io.b,_o),Xt.copy(io),Yt=_o),Nt=an,Kt=!1}function nr(an,sr){an.side===DoubleSide?gr(c.CULL_FACE):er(c.CULL_FACE);let Ln=an.side===BackSide;sr&&(Ln=!Ln),Kn(Ln),an.blending===NormalBlending&&an.transparent===!1?nn(NoBlending):nn(an.blending,an.blendEquation,an.blendSrc,an.blendDst,an.blendEquationAlpha,an.blendSrcAlpha,an.blendDstAlpha,an.blendColor,an.blendAlpha,an.premultipliedAlpha),ft.setFunc(an.depthFunc),ft.setTest(an.depthTest),ft.setMask(an.depthWrite),o.setMask(an.colorWrite);const Wn=an.stencilWrite;gt.setTest(Wn),Wn&&(gt.setMask(an.stencilWriteMask),gt.setFunc(an.stencilFunc,an.stencilRef,an.stencilFuncMask),gt.setOp(an.stencilFail,an.stencilZFail,an.stencilZPass)),vr(an.polygonOffset,an.polygonOffsetFactor,an.polygonOffsetUnits),an.alphaToCoverage===!0?er(c.SAMPLE_ALPHA_TO_COVERAGE):gr(c.SAMPLE_ALPHA_TO_COVERAGE)}function Kn(an){jt!==an&&(an?c.frontFace(c.CW):c.frontFace(c.CCW),jt=an)}function Yn(an){an!==CullFaceNone?(er(c.CULL_FACE),an!==Jt&&(an===CullFaceBack?c.cullFace(c.BACK):an===CullFaceFront?c.cullFace(c.FRONT):c.cullFace(c.FRONT_AND_BACK))):gr(c.CULL_FACE),Jt=an}function Dn(an){an!==fn&&(Tn&&c.lineWidth(an),fn=an)}function vr(an,sr,Ln){an?(er(c.POLYGON_OFFSET_FILL),(sn!==sr||wn!==Ln)&&(c.polygonOffset(sr,Ln),sn=sr,wn=Ln)):gr(c.POLYGON_OFFSET_FILL)}function Xn(an){an?er(c.SCISSOR_TEST):gr(c.SCISSOR_TEST)}function tn(an){an===void 0&&(an=c.TEXTURE0+Mn-1),un!==an&&(c.activeTexture(an),un=an)}function Qt(an,sr,Ln){Ln===void 0&&(un===null?Ln=c.TEXTURE0+Mn-1:Ln=un);let Wn=pn[Ln];Wn===void 0&&(Wn={type:void 0,texture:void 0},pn[Ln]=Wn),(Wn.type!==an||Wn.texture!==sr)&&(un!==Ln&&(c.activeTexture(Ln),un=Ln),c.bindTexture(an,sr||or[an]),Wn.type=an,Wn.texture=sr)}function hn(){const an=pn[un];an!==void 0&&an.type!==void 0&&(c.bindTexture(an.type,null),an.type=void 0,an.texture=void 0)}function Pn(){try{c.compressedTexImage2D(...arguments)}catch(an){console.error("THREE.WebGLState:",an)}}function Gn(){try{c.compressedTexImage3D(...arguments)}catch(an){console.error("THREE.WebGLState:",an)}}function yn(){try{c.texSubImage2D(...arguments)}catch(an){console.error("THREE.WebGLState:",an)}}function Jn(){try{c.texSubImage3D(...arguments)}catch(an){console.error("THREE.WebGLState:",an)}}function $n(){try{c.compressedTexSubImage2D(...arguments)}catch(an){console.error("THREE.WebGLState:",an)}}function fr(){try{c.compressedTexSubImage3D(...arguments)}catch(an){console.error("THREE.WebGLState:",an)}}function Lr(){try{c.texStorage2D(...arguments)}catch(an){console.error("THREE.WebGLState:",an)}}function Qn(){try{c.texStorage3D(...arguments)}catch(an){console.error("THREE.WebGLState:",an)}}function tr(){try{c.texImage2D(...arguments)}catch(an){console.error("THREE.WebGLState:",an)}}function rr(){try{c.texImage3D(...arguments)}catch(an){console.error("THREE.WebGLState:",an)}}function Or(an){ir.equals(an)===!1&&(c.scissor(an.x,an.y,an.z,an.w),ir.copy(an))}function wr(an){An.equals(an)===!1&&(c.viewport(an.x,an.y,an.z,an.w),An.copy(an))}function cn(an,sr){let Ln=St.get(sr);Ln===void 0&&(Ln=new WeakMap,St.set(sr,Ln));let Wn=Ln.get(an);Wn===void 0&&(Wn=c.getUniformBlockIndex(sr,an.name),Ln.set(an,Wn))}function Hn(an,sr){const Wn=St.get(sr).get(an);xt.get(sr)!==Wn&&(c.uniformBlockBinding(sr,Wn,an.__bindingPointIndex),xt.set(sr,Wn))}function lr(){c.disable(c.BLEND),c.disable(c.CULL_FACE),c.disable(c.DEPTH_TEST),c.disable(c.POLYGON_OFFSET_FILL),c.disable(c.SCISSOR_TEST),c.disable(c.STENCIL_TEST),c.disable(c.SAMPLE_ALPHA_TO_COVERAGE),c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ZERO),c.blendFuncSeparate(c.ONE,c.ZERO,c.ONE,c.ZERO),c.blendColor(0,0,0,0),c.colorMask(!0,!0,!0,!0),c.clearColor(0,0,0,0),c.depthMask(!0),c.depthFunc(c.LESS),ft.setReversed(!1),c.clearDepth(1),c.stencilMask(4294967295),c.stencilFunc(c.ALWAYS,0,4294967295),c.stencilOp(c.KEEP,c.KEEP,c.KEEP),c.clearStencil(0),c.cullFace(c.BACK),c.frontFace(c.CCW),c.polygonOffset(0,0),c.activeTexture(c.TEXTURE0),c.bindFramebuffer(c.FRAMEBUFFER,null),c.bindFramebuffer(c.DRAW_FRAMEBUFFER,null),c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.useProgram(null),c.lineWidth(1),c.scissor(0,0,c.canvas.width,c.canvas.height),c.viewport(0,0,c.canvas.width,c.canvas.height),Tt={},un=null,pn={},At={},Ct=new WeakMap,Rt=[],yt=null,Ot=!1,Nt=null,bt=null,Dt=null,Ft=null,Ut=null,Wt=null,Gt=null,Xt=new Color(0,0,0),Yt=0,Kt=!1,jt=null,Jt=null,fn=null,sn=null,wn=null,ir.set(0,0,c.canvas.width,c.canvas.height),An.set(0,0,c.canvas.width,c.canvas.height),o.reset(),ft.reset(),gt.reset()}return{buffers:{color:o,depth:ft,stencil:gt},enable:er,disable:gr,bindFramebuffer:kr,drawBuffers:dr,useProgram:mr,setBlending:nn,setMaterial:nr,setFlipSided:Kn,setCullFace:Yn,setLineWidth:Dn,setPolygonOffset:vr,setScissorTest:Xn,activeTexture:tn,bindTexture:Qt,unbindTexture:hn,compressedTexImage2D:Pn,compressedTexImage3D:Gn,texImage2D:tr,texImage3D:rr,updateUBOMapping:cn,uniformBlockBinding:Hn,texStorage2D:Lr,texStorage3D:Qn,texSubImage2D:yn,texSubImage3D:Jn,compressedTexSubImage2D:$n,compressedTexSubImage3D:fr,scissor:Or,viewport:wr,reset:lr}}function WebGLTextures(c,e,s,d,nt,o,ft){const gt=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,xt=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),St=new Vector2,Tt=new WeakMap;let At;const Ct=new WeakMap;let Rt=!1;try{Rt=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function yt(tn,Qt){return Rt?new OffscreenCanvas(tn,Qt):createElementNS("canvas")}function Ot(tn,Qt,hn){let Pn=1;const Gn=Xn(tn);if((Gn.width>hn||Gn.height>hn)&&(Pn=hn/Math.max(Gn.width,Gn.height)),Pn<1)if(typeof HTMLImageElement<"u"&&tn instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&tn instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&tn instanceof ImageBitmap||typeof VideoFrame<"u"&&tn instanceof VideoFrame){const yn=Math.floor(Pn*Gn.width),Jn=Math.floor(Pn*Gn.height);At===void 0&&(At=yt(yn,Jn));const $n=Qt?yt(yn,Jn):At;return $n.width=yn,$n.height=Jn,$n.getContext("2d").drawImage(tn,0,0,yn,Jn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Gn.width+"x"+Gn.height+") to ("+yn+"x"+Jn+")."),$n}else return"data"in tn&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Gn.width+"x"+Gn.height+")."),tn;return tn}function Nt(tn){return tn.generateMipmaps}function bt(tn){c.generateMipmap(tn)}function Dt(tn){return tn.isWebGLCubeRenderTarget?c.TEXTURE_CUBE_MAP:tn.isWebGL3DRenderTarget?c.TEXTURE_3D:tn.isWebGLArrayRenderTarget||tn.isCompressedArrayTexture?c.TEXTURE_2D_ARRAY:c.TEXTURE_2D}function Ft(tn,Qt,hn,Pn,Gn=!1){if(tn!==null){if(c[tn]!==void 0)return c[tn];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+tn+"'")}let yn=Qt;if(Qt===c.RED&&(hn===c.FLOAT&&(yn=c.R32F),hn===c.HALF_FLOAT&&(yn=c.R16F),hn===c.UNSIGNED_BYTE&&(yn=c.R8)),Qt===c.RED_INTEGER&&(hn===c.UNSIGNED_BYTE&&(yn=c.R8UI),hn===c.UNSIGNED_SHORT&&(yn=c.R16UI),hn===c.UNSIGNED_INT&&(yn=c.R32UI),hn===c.BYTE&&(yn=c.R8I),hn===c.SHORT&&(yn=c.R16I),hn===c.INT&&(yn=c.R32I)),Qt===c.RG&&(hn===c.FLOAT&&(yn=c.RG32F),hn===c.HALF_FLOAT&&(yn=c.RG16F),hn===c.UNSIGNED_BYTE&&(yn=c.RG8)),Qt===c.RG_INTEGER&&(hn===c.UNSIGNED_BYTE&&(yn=c.RG8UI),hn===c.UNSIGNED_SHORT&&(yn=c.RG16UI),hn===c.UNSIGNED_INT&&(yn=c.RG32UI),hn===c.BYTE&&(yn=c.RG8I),hn===c.SHORT&&(yn=c.RG16I),hn===c.INT&&(yn=c.RG32I)),Qt===c.RGB_INTEGER&&(hn===c.UNSIGNED_BYTE&&(yn=c.RGB8UI),hn===c.UNSIGNED_SHORT&&(yn=c.RGB16UI),hn===c.UNSIGNED_INT&&(yn=c.RGB32UI),hn===c.BYTE&&(yn=c.RGB8I),hn===c.SHORT&&(yn=c.RGB16I),hn===c.INT&&(yn=c.RGB32I)),Qt===c.RGBA_INTEGER&&(hn===c.UNSIGNED_BYTE&&(yn=c.RGBA8UI),hn===c.UNSIGNED_SHORT&&(yn=c.RGBA16UI),hn===c.UNSIGNED_INT&&(yn=c.RGBA32UI),hn===c.BYTE&&(yn=c.RGBA8I),hn===c.SHORT&&(yn=c.RGBA16I),hn===c.INT&&(yn=c.RGBA32I)),Qt===c.RGB&&hn===c.UNSIGNED_INT_5_9_9_9_REV&&(yn=c.RGB9_E5),Qt===c.RGBA){const Jn=Gn?LinearTransfer:ColorManagement.getTransfer(Pn);hn===c.FLOAT&&(yn=c.RGBA32F),hn===c.HALF_FLOAT&&(yn=c.RGBA16F),hn===c.UNSIGNED_BYTE&&(yn=Jn===SRGBTransfer?c.SRGB8_ALPHA8:c.RGBA8),hn===c.UNSIGNED_SHORT_4_4_4_4&&(yn=c.RGBA4),hn===c.UNSIGNED_SHORT_5_5_5_1&&(yn=c.RGB5_A1)}return(yn===c.R16F||yn===c.R32F||yn===c.RG16F||yn===c.RG32F||yn===c.RGBA16F||yn===c.RGBA32F)&&e.get("EXT_color_buffer_float"),yn}function Ut(tn,Qt){let hn;return tn?Qt===null||Qt===UnsignedIntType||Qt===UnsignedInt248Type?hn=c.DEPTH24_STENCIL8:Qt===FloatType?hn=c.DEPTH32F_STENCIL8:Qt===UnsignedShortType&&(hn=c.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Qt===null||Qt===UnsignedIntType||Qt===UnsignedInt248Type?hn=c.DEPTH_COMPONENT24:Qt===FloatType?hn=c.DEPTH_COMPONENT32F:Qt===UnsignedShortType&&(hn=c.DEPTH_COMPONENT16),hn}function Wt(tn,Qt){return Nt(tn)===!0||tn.isFramebufferTexture&&tn.minFilter!==NearestFilter&&tn.minFilter!==LinearFilter?Math.log2(Math.max(Qt.width,Qt.height))+1:tn.mipmaps!==void 0&&tn.mipmaps.length>0?tn.mipmaps.length:tn.isCompressedTexture&&Array.isArray(tn.image)?Qt.mipmaps.length:1}function Gt(tn){const Qt=tn.target;Qt.removeEventListener("dispose",Gt),Yt(Qt),Qt.isVideoTexture&&Tt.delete(Qt)}function Xt(tn){const Qt=tn.target;Qt.removeEventListener("dispose",Xt),jt(Qt)}function Yt(tn){const Qt=d.get(tn);if(Qt.__webglInit===void 0)return;const hn=tn.source,Pn=Ct.get(hn);if(Pn){const Gn=Pn[Qt.__cacheKey];Gn.usedTimes--,Gn.usedTimes===0&&Kt(tn),Object.keys(Pn).length===0&&Ct.delete(hn)}d.remove(tn)}function Kt(tn){const Qt=d.get(tn);c.deleteTexture(Qt.__webglTexture);const hn=tn.source,Pn=Ct.get(hn);delete Pn[Qt.__cacheKey],ft.memory.textures--}function jt(tn){const Qt=d.get(tn);if(tn.depthTexture&&(tn.depthTexture.dispose(),d.remove(tn.depthTexture)),tn.isWebGLCubeRenderTarget)for(let Pn=0;Pn<6;Pn++){if(Array.isArray(Qt.__webglFramebuffer[Pn]))for(let Gn=0;Gn<Qt.__webglFramebuffer[Pn].length;Gn++)c.deleteFramebuffer(Qt.__webglFramebuffer[Pn][Gn]);else c.deleteFramebuffer(Qt.__webglFramebuffer[Pn]);Qt.__webglDepthbuffer&&c.deleteRenderbuffer(Qt.__webglDepthbuffer[Pn])}else{if(Array.isArray(Qt.__webglFramebuffer))for(let Pn=0;Pn<Qt.__webglFramebuffer.length;Pn++)c.deleteFramebuffer(Qt.__webglFramebuffer[Pn]);else c.deleteFramebuffer(Qt.__webglFramebuffer);if(Qt.__webglDepthbuffer&&c.deleteRenderbuffer(Qt.__webglDepthbuffer),Qt.__webglMultisampledFramebuffer&&c.deleteFramebuffer(Qt.__webglMultisampledFramebuffer),Qt.__webglColorRenderbuffer)for(let Pn=0;Pn<Qt.__webglColorRenderbuffer.length;Pn++)Qt.__webglColorRenderbuffer[Pn]&&c.deleteRenderbuffer(Qt.__webglColorRenderbuffer[Pn]);Qt.__webglDepthRenderbuffer&&c.deleteRenderbuffer(Qt.__webglDepthRenderbuffer)}const hn=tn.textures;for(let Pn=0,Gn=hn.length;Pn<Gn;Pn++){const yn=d.get(hn[Pn]);yn.__webglTexture&&(c.deleteTexture(yn.__webglTexture),ft.memory.textures--),d.remove(hn[Pn])}d.remove(tn)}let Jt=0;function fn(){Jt=0}function sn(){const tn=Jt;return tn>=nt.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+tn+" texture units while this GPU supports only "+nt.maxTextures),Jt+=1,tn}function wn(tn){const Qt=[];return Qt.push(tn.wrapS),Qt.push(tn.wrapT),Qt.push(tn.wrapR||0),Qt.push(tn.magFilter),Qt.push(tn.minFilter),Qt.push(tn.anisotropy),Qt.push(tn.internalFormat),Qt.push(tn.format),Qt.push(tn.type),Qt.push(tn.generateMipmaps),Qt.push(tn.premultiplyAlpha),Qt.push(tn.flipY),Qt.push(tn.unpackAlignment),Qt.push(tn.colorSpace),Qt.join()}function Mn(tn,Qt){const hn=d.get(tn);if(tn.isVideoTexture&&Dn(tn),tn.isRenderTargetTexture===!1&&tn.version>0&&hn.__version!==tn.version){const Pn=tn.image;if(Pn===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Pn.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{An(hn,tn,Qt);return}}s.bindTexture(c.TEXTURE_2D,hn.__webglTexture,c.TEXTURE0+Qt)}function Tn(tn,Qt){const hn=d.get(tn);if(tn.version>0&&hn.__version!==tn.version){An(hn,tn,Qt);return}s.bindTexture(c.TEXTURE_2D_ARRAY,hn.__webglTexture,c.TEXTURE0+Qt)}function kn(tn,Qt){const hn=d.get(tn);if(tn.version>0&&hn.__version!==tn.version){An(hn,tn,Qt);return}s.bindTexture(c.TEXTURE_3D,hn.__webglTexture,c.TEXTURE0+Qt)}function rn(tn,Qt){const hn=d.get(tn);if(tn.version>0&&hn.__version!==tn.version){jn(hn,tn,Qt);return}s.bindTexture(c.TEXTURE_CUBE_MAP,hn.__webglTexture,c.TEXTURE0+Qt)}const un={[RepeatWrapping]:c.REPEAT,[ClampToEdgeWrapping]:c.CLAMP_TO_EDGE,[MirroredRepeatWrapping]:c.MIRRORED_REPEAT},pn={[NearestFilter]:c.NEAREST,[NearestMipmapNearestFilter]:c.NEAREST_MIPMAP_NEAREST,[NearestMipmapLinearFilter]:c.NEAREST_MIPMAP_LINEAR,[LinearFilter]:c.LINEAR,[LinearMipmapNearestFilter]:c.LINEAR_MIPMAP_NEAREST,[LinearMipmapLinearFilter]:c.LINEAR_MIPMAP_LINEAR},Rn={[NeverCompare]:c.NEVER,[AlwaysCompare]:c.ALWAYS,[LessCompare]:c.LESS,[LessEqualCompare]:c.LEQUAL,[EqualCompare]:c.EQUAL,[GreaterEqualCompare]:c.GEQUAL,[GreaterCompare]:c.GREATER,[NotEqualCompare]:c.NOTEQUAL};function zn(tn,Qt){if(Qt.type===FloatType&&e.has("OES_texture_float_linear")===!1&&(Qt.magFilter===LinearFilter||Qt.magFilter===LinearMipmapNearestFilter||Qt.magFilter===NearestMipmapLinearFilter||Qt.magFilter===LinearMipmapLinearFilter||Qt.minFilter===LinearFilter||Qt.minFilter===LinearMipmapNearestFilter||Qt.minFilter===NearestMipmapLinearFilter||Qt.minFilter===LinearMipmapLinearFilter)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),c.texParameteri(tn,c.TEXTURE_WRAP_S,un[Qt.wrapS]),c.texParameteri(tn,c.TEXTURE_WRAP_T,un[Qt.wrapT]),(tn===c.TEXTURE_3D||tn===c.TEXTURE_2D_ARRAY)&&c.texParameteri(tn,c.TEXTURE_WRAP_R,un[Qt.wrapR]),c.texParameteri(tn,c.TEXTURE_MAG_FILTER,pn[Qt.magFilter]),c.texParameteri(tn,c.TEXTURE_MIN_FILTER,pn[Qt.minFilter]),Qt.compareFunction&&(c.texParameteri(tn,c.TEXTURE_COMPARE_MODE,c.COMPARE_REF_TO_TEXTURE),c.texParameteri(tn,c.TEXTURE_COMPARE_FUNC,Rn[Qt.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(Qt.magFilter===NearestFilter||Qt.minFilter!==NearestMipmapLinearFilter&&Qt.minFilter!==LinearMipmapLinearFilter||Qt.type===FloatType&&e.has("OES_texture_float_linear")===!1)return;if(Qt.anisotropy>1||d.get(Qt).__currentAnisotropy){const hn=e.get("EXT_texture_filter_anisotropic");c.texParameterf(tn,hn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Qt.anisotropy,nt.getMaxAnisotropy())),d.get(Qt).__currentAnisotropy=Qt.anisotropy}}}function ir(tn,Qt){let hn=!1;tn.__webglInit===void 0&&(tn.__webglInit=!0,Qt.addEventListener("dispose",Gt));const Pn=Qt.source;let Gn=Ct.get(Pn);Gn===void 0&&(Gn={},Ct.set(Pn,Gn));const yn=wn(Qt);if(yn!==tn.__cacheKey){Gn[yn]===void 0&&(Gn[yn]={texture:c.createTexture(),usedTimes:0},ft.memory.textures++,hn=!0),Gn[yn].usedTimes++;const Jn=Gn[tn.__cacheKey];Jn!==void 0&&(Gn[tn.__cacheKey].usedTimes--,Jn.usedTimes===0&&Kt(Qt)),tn.__cacheKey=yn,tn.__webglTexture=Gn[yn].texture}return hn}function An(tn,Qt,hn){let Pn=c.TEXTURE_2D;(Qt.isDataArrayTexture||Qt.isCompressedArrayTexture)&&(Pn=c.TEXTURE_2D_ARRAY),Qt.isData3DTexture&&(Pn=c.TEXTURE_3D);const Gn=ir(tn,Qt),yn=Qt.source;s.bindTexture(Pn,tn.__webglTexture,c.TEXTURE0+hn);const Jn=d.get(yn);if(yn.version!==Jn.__version||Gn===!0){s.activeTexture(c.TEXTURE0+hn);const $n=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),fr=Qt.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(Qt.colorSpace),Lr=Qt.colorSpace===NoColorSpace||$n===fr?c.NONE:c.BROWSER_DEFAULT_WEBGL;c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,Qt.flipY),c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Qt.premultiplyAlpha),c.pixelStorei(c.UNPACK_ALIGNMENT,Qt.unpackAlignment),c.pixelStorei(c.UNPACK_COLORSPACE_CONVERSION_WEBGL,Lr);let Qn=Ot(Qt.image,!1,nt.maxTextureSize);Qn=vr(Qt,Qn);const tr=o.convert(Qt.format,Qt.colorSpace),rr=o.convert(Qt.type);let Or=Ft(Qt.internalFormat,tr,rr,Qt.colorSpace,Qt.isVideoTexture);zn(Pn,Qt);let wr;const cn=Qt.mipmaps,Hn=Qt.isVideoTexture!==!0,lr=Jn.__version===void 0||Gn===!0,an=yn.dataReady,sr=Wt(Qt,Qn);if(Qt.isDepthTexture)Or=Ut(Qt.format===DepthStencilFormat,Qt.type),lr&&(Hn?s.texStorage2D(c.TEXTURE_2D,1,Or,Qn.width,Qn.height):s.texImage2D(c.TEXTURE_2D,0,Or,Qn.width,Qn.height,0,tr,rr,null));else if(Qt.isDataTexture)if(cn.length>0){Hn&&lr&&s.texStorage2D(c.TEXTURE_2D,sr,Or,cn[0].width,cn[0].height);for(let Ln=0,Wn=cn.length;Ln<Wn;Ln++)wr=cn[Ln],Hn?an&&s.texSubImage2D(c.TEXTURE_2D,Ln,0,0,wr.width,wr.height,tr,rr,wr.data):s.texImage2D(c.TEXTURE_2D,Ln,Or,wr.width,wr.height,0,tr,rr,wr.data);Qt.generateMipmaps=!1}else Hn?(lr&&s.texStorage2D(c.TEXTURE_2D,sr,Or,Qn.width,Qn.height),an&&s.texSubImage2D(c.TEXTURE_2D,0,0,0,Qn.width,Qn.height,tr,rr,Qn.data)):s.texImage2D(c.TEXTURE_2D,0,Or,Qn.width,Qn.height,0,tr,rr,Qn.data);else if(Qt.isCompressedTexture)if(Qt.isCompressedArrayTexture){Hn&&lr&&s.texStorage3D(c.TEXTURE_2D_ARRAY,sr,Or,cn[0].width,cn[0].height,Qn.depth);for(let Ln=0,Wn=cn.length;Ln<Wn;Ln++)if(wr=cn[Ln],Qt.format!==RGBAFormat)if(tr!==null)if(Hn){if(an)if(Qt.layerUpdates.size>0){const yr=getByteLength(wr.width,wr.height,Qt.format,Qt.type);for(const hr of Qt.layerUpdates){const zr=wr.data.subarray(hr*yr/wr.data.BYTES_PER_ELEMENT,(hr+1)*yr/wr.data.BYTES_PER_ELEMENT);s.compressedTexSubImage3D(c.TEXTURE_2D_ARRAY,Ln,0,0,hr,wr.width,wr.height,1,tr,zr)}Qt.clearLayerUpdates()}else s.compressedTexSubImage3D(c.TEXTURE_2D_ARRAY,Ln,0,0,0,wr.width,wr.height,Qn.depth,tr,wr.data)}else s.compressedTexImage3D(c.TEXTURE_2D_ARRAY,Ln,Or,wr.width,wr.height,Qn.depth,0,wr.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Hn?an&&s.texSubImage3D(c.TEXTURE_2D_ARRAY,Ln,0,0,0,wr.width,wr.height,Qn.depth,tr,rr,wr.data):s.texImage3D(c.TEXTURE_2D_ARRAY,Ln,Or,wr.width,wr.height,Qn.depth,0,tr,rr,wr.data)}else{Hn&&lr&&s.texStorage2D(c.TEXTURE_2D,sr,Or,cn[0].width,cn[0].height);for(let Ln=0,Wn=cn.length;Ln<Wn;Ln++)wr=cn[Ln],Qt.format!==RGBAFormat?tr!==null?Hn?an&&s.compressedTexSubImage2D(c.TEXTURE_2D,Ln,0,0,wr.width,wr.height,tr,wr.data):s.compressedTexImage2D(c.TEXTURE_2D,Ln,Or,wr.width,wr.height,0,wr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Hn?an&&s.texSubImage2D(c.TEXTURE_2D,Ln,0,0,wr.width,wr.height,tr,rr,wr.data):s.texImage2D(c.TEXTURE_2D,Ln,Or,wr.width,wr.height,0,tr,rr,wr.data)}else if(Qt.isDataArrayTexture)if(Hn){if(lr&&s.texStorage3D(c.TEXTURE_2D_ARRAY,sr,Or,Qn.width,Qn.height,Qn.depth),an)if(Qt.layerUpdates.size>0){const Ln=getByteLength(Qn.width,Qn.height,Qt.format,Qt.type);for(const Wn of Qt.layerUpdates){const yr=Qn.data.subarray(Wn*Ln/Qn.data.BYTES_PER_ELEMENT,(Wn+1)*Ln/Qn.data.BYTES_PER_ELEMENT);s.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,Wn,Qn.width,Qn.height,1,tr,rr,yr)}Qt.clearLayerUpdates()}else s.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,0,Qn.width,Qn.height,Qn.depth,tr,rr,Qn.data)}else s.texImage3D(c.TEXTURE_2D_ARRAY,0,Or,Qn.width,Qn.height,Qn.depth,0,tr,rr,Qn.data);else if(Qt.isData3DTexture)Hn?(lr&&s.texStorage3D(c.TEXTURE_3D,sr,Or,Qn.width,Qn.height,Qn.depth),an&&s.texSubImage3D(c.TEXTURE_3D,0,0,0,0,Qn.width,Qn.height,Qn.depth,tr,rr,Qn.data)):s.texImage3D(c.TEXTURE_3D,0,Or,Qn.width,Qn.height,Qn.depth,0,tr,rr,Qn.data);else if(Qt.isFramebufferTexture){if(lr)if(Hn)s.texStorage2D(c.TEXTURE_2D,sr,Or,Qn.width,Qn.height);else{let Ln=Qn.width,Wn=Qn.height;for(let yr=0;yr<sr;yr++)s.texImage2D(c.TEXTURE_2D,yr,Or,Ln,Wn,0,tr,rr,null),Ln>>=1,Wn>>=1}}else if(cn.length>0){if(Hn&&lr){const Ln=Xn(cn[0]);s.texStorage2D(c.TEXTURE_2D,sr,Or,Ln.width,Ln.height)}for(let Ln=0,Wn=cn.length;Ln<Wn;Ln++)wr=cn[Ln],Hn?an&&s.texSubImage2D(c.TEXTURE_2D,Ln,0,0,tr,rr,wr):s.texImage2D(c.TEXTURE_2D,Ln,Or,tr,rr,wr);Qt.generateMipmaps=!1}else if(Hn){if(lr){const Ln=Xn(Qn);s.texStorage2D(c.TEXTURE_2D,sr,Or,Ln.width,Ln.height)}an&&s.texSubImage2D(c.TEXTURE_2D,0,0,0,tr,rr,Qn)}else s.texImage2D(c.TEXTURE_2D,0,Or,tr,rr,Qn);Nt(Qt)&&bt(Pn),Jn.__version=yn.version,Qt.onUpdate&&Qt.onUpdate(Qt)}tn.__version=Qt.version}function jn(tn,Qt,hn){if(Qt.image.length!==6)return;const Pn=ir(tn,Qt),Gn=Qt.source;s.bindTexture(c.TEXTURE_CUBE_MAP,tn.__webglTexture,c.TEXTURE0+hn);const yn=d.get(Gn);if(Gn.version!==yn.__version||Pn===!0){s.activeTexture(c.TEXTURE0+hn);const Jn=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),$n=Qt.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(Qt.colorSpace),fr=Qt.colorSpace===NoColorSpace||Jn===$n?c.NONE:c.BROWSER_DEFAULT_WEBGL;c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,Qt.flipY),c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Qt.premultiplyAlpha),c.pixelStorei(c.UNPACK_ALIGNMENT,Qt.unpackAlignment),c.pixelStorei(c.UNPACK_COLORSPACE_CONVERSION_WEBGL,fr);const Lr=Qt.isCompressedTexture||Qt.image[0].isCompressedTexture,Qn=Qt.image[0]&&Qt.image[0].isDataTexture,tr=[];for(let Wn=0;Wn<6;Wn++)!Lr&&!Qn?tr[Wn]=Ot(Qt.image[Wn],!0,nt.maxCubemapSize):tr[Wn]=Qn?Qt.image[Wn].image:Qt.image[Wn],tr[Wn]=vr(Qt,tr[Wn]);const rr=tr[0],Or=o.convert(Qt.format,Qt.colorSpace),wr=o.convert(Qt.type),cn=Ft(Qt.internalFormat,Or,wr,Qt.colorSpace),Hn=Qt.isVideoTexture!==!0,lr=yn.__version===void 0||Pn===!0,an=Gn.dataReady;let sr=Wt(Qt,rr);zn(c.TEXTURE_CUBE_MAP,Qt);let Ln;if(Lr){Hn&&lr&&s.texStorage2D(c.TEXTURE_CUBE_MAP,sr,cn,rr.width,rr.height);for(let Wn=0;Wn<6;Wn++){Ln=tr[Wn].mipmaps;for(let yr=0;yr<Ln.length;yr++){const hr=Ln[yr];Qt.format!==RGBAFormat?Or!==null?Hn?an&&s.compressedTexSubImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Wn,yr,0,0,hr.width,hr.height,Or,hr.data):s.compressedTexImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Wn,yr,cn,hr.width,hr.height,0,hr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Hn?an&&s.texSubImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Wn,yr,0,0,hr.width,hr.height,Or,wr,hr.data):s.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Wn,yr,cn,hr.width,hr.height,0,Or,wr,hr.data)}}}else{if(Ln=Qt.mipmaps,Hn&&lr){Ln.length>0&&sr++;const Wn=Xn(tr[0]);s.texStorage2D(c.TEXTURE_CUBE_MAP,sr,cn,Wn.width,Wn.height)}for(let Wn=0;Wn<6;Wn++)if(Qn){Hn?an&&s.texSubImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Wn,0,0,0,tr[Wn].width,tr[Wn].height,Or,wr,tr[Wn].data):s.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Wn,0,cn,tr[Wn].width,tr[Wn].height,0,Or,wr,tr[Wn].data);for(let yr=0;yr<Ln.length;yr++){const zr=Ln[yr].image[Wn].image;Hn?an&&s.texSubImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Wn,yr+1,0,0,zr.width,zr.height,Or,wr,zr.data):s.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Wn,yr+1,cn,zr.width,zr.height,0,Or,wr,zr.data)}}else{Hn?an&&s.texSubImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Wn,0,0,0,Or,wr,tr[Wn]):s.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Wn,0,cn,Or,wr,tr[Wn]);for(let yr=0;yr<Ln.length;yr++){const hr=Ln[yr];Hn?an&&s.texSubImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Wn,yr+1,0,0,Or,wr,hr.image[Wn]):s.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Wn,yr+1,cn,Or,wr,hr.image[Wn])}}}Nt(Qt)&&bt(c.TEXTURE_CUBE_MAP),yn.__version=Gn.version,Qt.onUpdate&&Qt.onUpdate(Qt)}tn.__version=Qt.version}function or(tn,Qt,hn,Pn,Gn,yn){const Jn=o.convert(hn.format,hn.colorSpace),$n=o.convert(hn.type),fr=Ft(hn.internalFormat,Jn,$n,hn.colorSpace),Lr=d.get(Qt),Qn=d.get(hn);if(Qn.__renderTarget=Qt,!Lr.__hasExternalTextures){const tr=Math.max(1,Qt.width>>yn),rr=Math.max(1,Qt.height>>yn);Gn===c.TEXTURE_3D||Gn===c.TEXTURE_2D_ARRAY?s.texImage3D(Gn,yn,fr,tr,rr,Qt.depth,0,Jn,$n,null):s.texImage2D(Gn,yn,fr,tr,rr,0,Jn,$n,null)}s.bindFramebuffer(c.FRAMEBUFFER,tn),Yn(Qt)?gt.framebufferTexture2DMultisampleEXT(c.FRAMEBUFFER,Pn,Gn,Qn.__webglTexture,0,Kn(Qt)):(Gn===c.TEXTURE_2D||Gn>=c.TEXTURE_CUBE_MAP_POSITIVE_X&&Gn<=c.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&c.framebufferTexture2D(c.FRAMEBUFFER,Pn,Gn,Qn.__webglTexture,yn),s.bindFramebuffer(c.FRAMEBUFFER,null)}function er(tn,Qt,hn){if(c.bindRenderbuffer(c.RENDERBUFFER,tn),Qt.depthBuffer){const Pn=Qt.depthTexture,Gn=Pn&&Pn.isDepthTexture?Pn.type:null,yn=Ut(Qt.stencilBuffer,Gn),Jn=Qt.stencilBuffer?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT,$n=Kn(Qt);Yn(Qt)?gt.renderbufferStorageMultisampleEXT(c.RENDERBUFFER,$n,yn,Qt.width,Qt.height):hn?c.renderbufferStorageMultisample(c.RENDERBUFFER,$n,yn,Qt.width,Qt.height):c.renderbufferStorage(c.RENDERBUFFER,yn,Qt.width,Qt.height),c.framebufferRenderbuffer(c.FRAMEBUFFER,Jn,c.RENDERBUFFER,tn)}else{const Pn=Qt.textures;for(let Gn=0;Gn<Pn.length;Gn++){const yn=Pn[Gn],Jn=o.convert(yn.format,yn.colorSpace),$n=o.convert(yn.type),fr=Ft(yn.internalFormat,Jn,$n,yn.colorSpace),Lr=Kn(Qt);hn&&Yn(Qt)===!1?c.renderbufferStorageMultisample(c.RENDERBUFFER,Lr,fr,Qt.width,Qt.height):Yn(Qt)?gt.renderbufferStorageMultisampleEXT(c.RENDERBUFFER,Lr,fr,Qt.width,Qt.height):c.renderbufferStorage(c.RENDERBUFFER,fr,Qt.width,Qt.height)}}c.bindRenderbuffer(c.RENDERBUFFER,null)}function gr(tn,Qt){if(Qt&&Qt.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(s.bindFramebuffer(c.FRAMEBUFFER,tn),!(Qt.depthTexture&&Qt.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Pn=d.get(Qt.depthTexture);Pn.__renderTarget=Qt,(!Pn.__webglTexture||Qt.depthTexture.image.width!==Qt.width||Qt.depthTexture.image.height!==Qt.height)&&(Qt.depthTexture.image.width=Qt.width,Qt.depthTexture.image.height=Qt.height,Qt.depthTexture.needsUpdate=!0),Mn(Qt.depthTexture,0);const Gn=Pn.__webglTexture,yn=Kn(Qt);if(Qt.depthTexture.format===DepthFormat)Yn(Qt)?gt.framebufferTexture2DMultisampleEXT(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.TEXTURE_2D,Gn,0,yn):c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.TEXTURE_2D,Gn,0);else if(Qt.depthTexture.format===DepthStencilFormat)Yn(Qt)?gt.framebufferTexture2DMultisampleEXT(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,Gn,0,yn):c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,Gn,0);else throw new Error("Unknown depthTexture format")}function kr(tn){const Qt=d.get(tn),hn=tn.isWebGLCubeRenderTarget===!0;if(Qt.__boundDepthTexture!==tn.depthTexture){const Pn=tn.depthTexture;if(Qt.__depthDisposeCallback&&Qt.__depthDisposeCallback(),Pn){const Gn=()=>{delete Qt.__boundDepthTexture,delete Qt.__depthDisposeCallback,Pn.removeEventListener("dispose",Gn)};Pn.addEventListener("dispose",Gn),Qt.__depthDisposeCallback=Gn}Qt.__boundDepthTexture=Pn}if(tn.depthTexture&&!Qt.__autoAllocateDepthBuffer){if(hn)throw new Error("target.depthTexture not supported in Cube render targets");const Pn=tn.texture.mipmaps;Pn&&Pn.length>0?gr(Qt.__webglFramebuffer[0],tn):gr(Qt.__webglFramebuffer,tn)}else if(hn){Qt.__webglDepthbuffer=[];for(let Pn=0;Pn<6;Pn++)if(s.bindFramebuffer(c.FRAMEBUFFER,Qt.__webglFramebuffer[Pn]),Qt.__webglDepthbuffer[Pn]===void 0)Qt.__webglDepthbuffer[Pn]=c.createRenderbuffer(),er(Qt.__webglDepthbuffer[Pn],tn,!1);else{const Gn=tn.stencilBuffer?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT,yn=Qt.__webglDepthbuffer[Pn];c.bindRenderbuffer(c.RENDERBUFFER,yn),c.framebufferRenderbuffer(c.FRAMEBUFFER,Gn,c.RENDERBUFFER,yn)}}else{const Pn=tn.texture.mipmaps;if(Pn&&Pn.length>0?s.bindFramebuffer(c.FRAMEBUFFER,Qt.__webglFramebuffer[0]):s.bindFramebuffer(c.FRAMEBUFFER,Qt.__webglFramebuffer),Qt.__webglDepthbuffer===void 0)Qt.__webglDepthbuffer=c.createRenderbuffer(),er(Qt.__webglDepthbuffer,tn,!1);else{const Gn=tn.stencilBuffer?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT,yn=Qt.__webglDepthbuffer;c.bindRenderbuffer(c.RENDERBUFFER,yn),c.framebufferRenderbuffer(c.FRAMEBUFFER,Gn,c.RENDERBUFFER,yn)}}s.bindFramebuffer(c.FRAMEBUFFER,null)}function dr(tn,Qt,hn){const Pn=d.get(tn);Qt!==void 0&&or(Pn.__webglFramebuffer,tn,tn.texture,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,0),hn!==void 0&&kr(tn)}function mr(tn){const Qt=tn.texture,hn=d.get(tn),Pn=d.get(Qt);tn.addEventListener("dispose",Xt);const Gn=tn.textures,yn=tn.isWebGLCubeRenderTarget===!0,Jn=Gn.length>1;if(Jn||(Pn.__webglTexture===void 0&&(Pn.__webglTexture=c.createTexture()),Pn.__version=Qt.version,ft.memory.textures++),yn){hn.__webglFramebuffer=[];for(let $n=0;$n<6;$n++)if(Qt.mipmaps&&Qt.mipmaps.length>0){hn.__webglFramebuffer[$n]=[];for(let fr=0;fr<Qt.mipmaps.length;fr++)hn.__webglFramebuffer[$n][fr]=c.createFramebuffer()}else hn.__webglFramebuffer[$n]=c.createFramebuffer()}else{if(Qt.mipmaps&&Qt.mipmaps.length>0){hn.__webglFramebuffer=[];for(let $n=0;$n<Qt.mipmaps.length;$n++)hn.__webglFramebuffer[$n]=c.createFramebuffer()}else hn.__webglFramebuffer=c.createFramebuffer();if(Jn)for(let $n=0,fr=Gn.length;$n<fr;$n++){const Lr=d.get(Gn[$n]);Lr.__webglTexture===void 0&&(Lr.__webglTexture=c.createTexture(),ft.memory.textures++)}if(tn.samples>0&&Yn(tn)===!1){hn.__webglMultisampledFramebuffer=c.createFramebuffer(),hn.__webglColorRenderbuffer=[],s.bindFramebuffer(c.FRAMEBUFFER,hn.__webglMultisampledFramebuffer);for(let $n=0;$n<Gn.length;$n++){const fr=Gn[$n];hn.__webglColorRenderbuffer[$n]=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,hn.__webglColorRenderbuffer[$n]);const Lr=o.convert(fr.format,fr.colorSpace),Qn=o.convert(fr.type),tr=Ft(fr.internalFormat,Lr,Qn,fr.colorSpace,tn.isXRRenderTarget===!0),rr=Kn(tn);c.renderbufferStorageMultisample(c.RENDERBUFFER,rr,tr,tn.width,tn.height),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0+$n,c.RENDERBUFFER,hn.__webglColorRenderbuffer[$n])}c.bindRenderbuffer(c.RENDERBUFFER,null),tn.depthBuffer&&(hn.__webglDepthRenderbuffer=c.createRenderbuffer(),er(hn.__webglDepthRenderbuffer,tn,!0)),s.bindFramebuffer(c.FRAMEBUFFER,null)}}if(yn){s.bindTexture(c.TEXTURE_CUBE_MAP,Pn.__webglTexture),zn(c.TEXTURE_CUBE_MAP,Qt);for(let $n=0;$n<6;$n++)if(Qt.mipmaps&&Qt.mipmaps.length>0)for(let fr=0;fr<Qt.mipmaps.length;fr++)or(hn.__webglFramebuffer[$n][fr],tn,Qt,c.COLOR_ATTACHMENT0,c.TEXTURE_CUBE_MAP_POSITIVE_X+$n,fr);else or(hn.__webglFramebuffer[$n],tn,Qt,c.COLOR_ATTACHMENT0,c.TEXTURE_CUBE_MAP_POSITIVE_X+$n,0);Nt(Qt)&&bt(c.TEXTURE_CUBE_MAP),s.unbindTexture()}else if(Jn){for(let $n=0,fr=Gn.length;$n<fr;$n++){const Lr=Gn[$n],Qn=d.get(Lr);s.bindTexture(c.TEXTURE_2D,Qn.__webglTexture),zn(c.TEXTURE_2D,Lr),or(hn.__webglFramebuffer,tn,Lr,c.COLOR_ATTACHMENT0+$n,c.TEXTURE_2D,0),Nt(Lr)&&bt(c.TEXTURE_2D)}s.unbindTexture()}else{let $n=c.TEXTURE_2D;if((tn.isWebGL3DRenderTarget||tn.isWebGLArrayRenderTarget)&&($n=tn.isWebGL3DRenderTarget?c.TEXTURE_3D:c.TEXTURE_2D_ARRAY),s.bindTexture($n,Pn.__webglTexture),zn($n,Qt),Qt.mipmaps&&Qt.mipmaps.length>0)for(let fr=0;fr<Qt.mipmaps.length;fr++)or(hn.__webglFramebuffer[fr],tn,Qt,c.COLOR_ATTACHMENT0,$n,fr);else or(hn.__webglFramebuffer,tn,Qt,c.COLOR_ATTACHMENT0,$n,0);Nt(Qt)&&bt($n),s.unbindTexture()}tn.depthBuffer&&kr(tn)}function It(tn){const Qt=tn.textures;for(let hn=0,Pn=Qt.length;hn<Pn;hn++){const Gn=Qt[hn];if(Nt(Gn)){const yn=Dt(tn),Jn=d.get(Gn).__webglTexture;s.bindTexture(yn,Jn),bt(yn),s.unbindTexture()}}}const Zn=[],nn=[];function nr(tn){if(tn.samples>0){if(Yn(tn)===!1){const Qt=tn.textures,hn=tn.width,Pn=tn.height;let Gn=c.COLOR_BUFFER_BIT;const yn=tn.stencilBuffer?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT,Jn=d.get(tn),$n=Qt.length>1;if($n)for(let Lr=0;Lr<Qt.length;Lr++)s.bindFramebuffer(c.FRAMEBUFFER,Jn.__webglMultisampledFramebuffer),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0+Lr,c.RENDERBUFFER,null),s.bindFramebuffer(c.FRAMEBUFFER,Jn.__webglFramebuffer),c.framebufferTexture2D(c.DRAW_FRAMEBUFFER,c.COLOR_ATTACHMENT0+Lr,c.TEXTURE_2D,null,0);s.bindFramebuffer(c.READ_FRAMEBUFFER,Jn.__webglMultisampledFramebuffer);const fr=tn.texture.mipmaps;fr&&fr.length>0?s.bindFramebuffer(c.DRAW_FRAMEBUFFER,Jn.__webglFramebuffer[0]):s.bindFramebuffer(c.DRAW_FRAMEBUFFER,Jn.__webglFramebuffer);for(let Lr=0;Lr<Qt.length;Lr++){if(tn.resolveDepthBuffer&&(tn.depthBuffer&&(Gn|=c.DEPTH_BUFFER_BIT),tn.stencilBuffer&&tn.resolveStencilBuffer&&(Gn|=c.STENCIL_BUFFER_BIT)),$n){c.framebufferRenderbuffer(c.READ_FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,Jn.__webglColorRenderbuffer[Lr]);const Qn=d.get(Qt[Lr]).__webglTexture;c.framebufferTexture2D(c.DRAW_FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,Qn,0)}c.blitFramebuffer(0,0,hn,Pn,0,0,hn,Pn,Gn,c.NEAREST),xt===!0&&(Zn.length=0,nn.length=0,Zn.push(c.COLOR_ATTACHMENT0+Lr),tn.depthBuffer&&tn.resolveDepthBuffer===!1&&(Zn.push(yn),nn.push(yn),c.invalidateFramebuffer(c.DRAW_FRAMEBUFFER,nn)),c.invalidateFramebuffer(c.READ_FRAMEBUFFER,Zn))}if(s.bindFramebuffer(c.READ_FRAMEBUFFER,null),s.bindFramebuffer(c.DRAW_FRAMEBUFFER,null),$n)for(let Lr=0;Lr<Qt.length;Lr++){s.bindFramebuffer(c.FRAMEBUFFER,Jn.__webglMultisampledFramebuffer),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0+Lr,c.RENDERBUFFER,Jn.__webglColorRenderbuffer[Lr]);const Qn=d.get(Qt[Lr]).__webglTexture;s.bindFramebuffer(c.FRAMEBUFFER,Jn.__webglFramebuffer),c.framebufferTexture2D(c.DRAW_FRAMEBUFFER,c.COLOR_ATTACHMENT0+Lr,c.TEXTURE_2D,Qn,0)}s.bindFramebuffer(c.DRAW_FRAMEBUFFER,Jn.__webglMultisampledFramebuffer)}else if(tn.depthBuffer&&tn.resolveDepthBuffer===!1&&xt){const Qt=tn.stencilBuffer?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT;c.invalidateFramebuffer(c.DRAW_FRAMEBUFFER,[Qt])}}}function Kn(tn){return Math.min(nt.maxSamples,tn.samples)}function Yn(tn){const Qt=d.get(tn);return tn.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Qt.__useRenderToTexture!==!1}function Dn(tn){const Qt=ft.render.frame;Tt.get(tn)!==Qt&&(Tt.set(tn,Qt),tn.update())}function vr(tn,Qt){const hn=tn.colorSpace,Pn=tn.format,Gn=tn.type;return tn.isCompressedTexture===!0||tn.isVideoTexture===!0||hn!==LinearSRGBColorSpace&&hn!==NoColorSpace&&(ColorManagement.getTransfer(hn)===SRGBTransfer?(Pn!==RGBAFormat||Gn!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",hn)),Qt}function Xn(tn){return typeof HTMLImageElement<"u"&&tn instanceof HTMLImageElement?(St.width=tn.naturalWidth||tn.width,St.height=tn.naturalHeight||tn.height):typeof VideoFrame<"u"&&tn instanceof VideoFrame?(St.width=tn.displayWidth,St.height=tn.displayHeight):(St.width=tn.width,St.height=tn.height),St}this.allocateTextureUnit=sn,this.resetTextureUnits=fn,this.setTexture2D=Mn,this.setTexture2DArray=Tn,this.setTexture3D=kn,this.setTextureCube=rn,this.rebindTextures=dr,this.setupRenderTarget=mr,this.updateRenderTargetMipmap=It,this.updateMultisampleRenderTarget=nr,this.setupDepthRenderbuffer=kr,this.setupFrameBufferTexture=or,this.useMultisampledRTT=Yn}function WebGLUtils(c,e){function s(d,nt=NoColorSpace){let o;const ft=ColorManagement.getTransfer(nt);if(d===UnsignedByteType)return c.UNSIGNED_BYTE;if(d===UnsignedShort4444Type)return c.UNSIGNED_SHORT_4_4_4_4;if(d===UnsignedShort5551Type)return c.UNSIGNED_SHORT_5_5_5_1;if(d===UnsignedInt5999Type)return c.UNSIGNED_INT_5_9_9_9_REV;if(d===ByteType)return c.BYTE;if(d===ShortType)return c.SHORT;if(d===UnsignedShortType)return c.UNSIGNED_SHORT;if(d===IntType)return c.INT;if(d===UnsignedIntType)return c.UNSIGNED_INT;if(d===FloatType)return c.FLOAT;if(d===HalfFloatType)return c.HALF_FLOAT;if(d===AlphaFormat)return c.ALPHA;if(d===RGBFormat)return c.RGB;if(d===RGBAFormat)return c.RGBA;if(d===DepthFormat)return c.DEPTH_COMPONENT;if(d===DepthStencilFormat)return c.DEPTH_STENCIL;if(d===RedFormat)return c.RED;if(d===RedIntegerFormat)return c.RED_INTEGER;if(d===RGFormat)return c.RG;if(d===RGIntegerFormat)return c.RG_INTEGER;if(d===RGBAIntegerFormat)return c.RGBA_INTEGER;if(d===RGB_S3TC_DXT1_Format||d===RGBA_S3TC_DXT1_Format||d===RGBA_S3TC_DXT3_Format||d===RGBA_S3TC_DXT5_Format)if(ft===SRGBTransfer)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(d===RGB_S3TC_DXT1_Format)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(d===RGBA_S3TC_DXT1_Format)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(d===RGBA_S3TC_DXT3_Format)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(d===RGBA_S3TC_DXT5_Format)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(d===RGB_S3TC_DXT1_Format)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(d===RGBA_S3TC_DXT1_Format)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(d===RGBA_S3TC_DXT3_Format)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(d===RGBA_S3TC_DXT5_Format)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(d===RGB_PVRTC_4BPPV1_Format||d===RGB_PVRTC_2BPPV1_Format||d===RGBA_PVRTC_4BPPV1_Format||d===RGBA_PVRTC_2BPPV1_Format)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(d===RGB_PVRTC_4BPPV1_Format)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(d===RGB_PVRTC_2BPPV1_Format)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(d===RGBA_PVRTC_4BPPV1_Format)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(d===RGBA_PVRTC_2BPPV1_Format)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(d===RGB_ETC1_Format||d===RGB_ETC2_Format||d===RGBA_ETC2_EAC_Format)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(d===RGB_ETC1_Format||d===RGB_ETC2_Format)return ft===SRGBTransfer?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(d===RGBA_ETC2_EAC_Format)return ft===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(d===RGBA_ASTC_4x4_Format||d===RGBA_ASTC_5x4_Format||d===RGBA_ASTC_5x5_Format||d===RGBA_ASTC_6x5_Format||d===RGBA_ASTC_6x6_Format||d===RGBA_ASTC_8x5_Format||d===RGBA_ASTC_8x6_Format||d===RGBA_ASTC_8x8_Format||d===RGBA_ASTC_10x5_Format||d===RGBA_ASTC_10x6_Format||d===RGBA_ASTC_10x8_Format||d===RGBA_ASTC_10x10_Format||d===RGBA_ASTC_12x10_Format||d===RGBA_ASTC_12x12_Format)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(d===RGBA_ASTC_4x4_Format)return ft===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(d===RGBA_ASTC_5x4_Format)return ft===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(d===RGBA_ASTC_5x5_Format)return ft===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(d===RGBA_ASTC_6x5_Format)return ft===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(d===RGBA_ASTC_6x6_Format)return ft===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(d===RGBA_ASTC_8x5_Format)return ft===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(d===RGBA_ASTC_8x6_Format)return ft===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(d===RGBA_ASTC_8x8_Format)return ft===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(d===RGBA_ASTC_10x5_Format)return ft===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(d===RGBA_ASTC_10x6_Format)return ft===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(d===RGBA_ASTC_10x8_Format)return ft===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(d===RGBA_ASTC_10x10_Format)return ft===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(d===RGBA_ASTC_12x10_Format)return ft===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(d===RGBA_ASTC_12x12_Format)return ft===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(d===RGBA_BPTC_Format||d===RGB_BPTC_SIGNED_Format||d===RGB_BPTC_UNSIGNED_Format)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(d===RGBA_BPTC_Format)return ft===SRGBTransfer?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(d===RGB_BPTC_SIGNED_Format)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(d===RGB_BPTC_UNSIGNED_Format)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(d===RED_RGTC1_Format||d===SIGNED_RED_RGTC1_Format||d===RED_GREEN_RGTC2_Format||d===SIGNED_RED_GREEN_RGTC2_Format)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(d===RGBA_BPTC_Format)return o.COMPRESSED_RED_RGTC1_EXT;if(d===SIGNED_RED_RGTC1_Format)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(d===RED_GREEN_RGTC2_Format)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(d===SIGNED_RED_GREEN_RGTC2_Format)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return d===UnsignedInt248Type?c.UNSIGNED_INT_24_8:c[d]!==void 0?c[d]:null}return{convert:s}}const _occlusion_vertex=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_occlusion_fragment=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class WebXRDepthSensing{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,s,d){if(this.texture===null){const nt=new Texture,o=e.properties.get(nt);o.__webglTexture=s.texture,(s.depthNear!==d.depthNear||s.depthFar!==d.depthFar)&&(this.depthNear=s.depthNear,this.depthFar=s.depthFar),this.texture=nt}}getMesh(e){if(this.texture!==null&&this.mesh===null){const s=e.cameras[0].viewport,d=new ShaderMaterial({vertexShader:_occlusion_vertex,fragmentShader:_occlusion_fragment,uniforms:{depthColor:{value:this.texture},depthWidth:{value:s.z},depthHeight:{value:s.w}}});this.mesh=new Mesh(new PlaneGeometry(20,20),d)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class WebXRManager extends EventDispatcher$1{constructor(e,s){super();const d=this;let nt=null,o=1,ft=null,gt="local-floor",xt=1,St=null,Tt=null,At=null,Ct=null,Rt=null,yt=null;const Ot=new WebXRDepthSensing,Nt=s.getContextAttributes();let bt=null,Dt=null;const Ft=[],Ut=[],Wt=new Vector2;let Gt=null;const Xt=new PerspectiveCamera;Xt.viewport=new Vector4;const Yt=new PerspectiveCamera;Yt.viewport=new Vector4;const Kt=[Xt,Yt],jt=new ArrayCamera;let Jt=null,fn=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(An){let jn=Ft[An];return jn===void 0&&(jn=new WebXRController,Ft[An]=jn),jn.getTargetRaySpace()},this.getControllerGrip=function(An){let jn=Ft[An];return jn===void 0&&(jn=new WebXRController,Ft[An]=jn),jn.getGripSpace()},this.getHand=function(An){let jn=Ft[An];return jn===void 0&&(jn=new WebXRController,Ft[An]=jn),jn.getHandSpace()};function sn(An){const jn=Ut.indexOf(An.inputSource);if(jn===-1)return;const or=Ft[jn];or!==void 0&&(or.update(An.inputSource,An.frame,St||ft),or.dispatchEvent({type:An.type,data:An.inputSource}))}function wn(){nt.removeEventListener("select",sn),nt.removeEventListener("selectstart",sn),nt.removeEventListener("selectend",sn),nt.removeEventListener("squeeze",sn),nt.removeEventListener("squeezestart",sn),nt.removeEventListener("squeezeend",sn),nt.removeEventListener("end",wn),nt.removeEventListener("inputsourceschange",Mn);for(let An=0;An<Ft.length;An++){const jn=Ut[An];jn!==null&&(Ut[An]=null,Ft[An].disconnect(jn))}Jt=null,fn=null,Ot.reset(),e.setRenderTarget(bt),Rt=null,Ct=null,At=null,nt=null,Dt=null,ir.stop(),d.isPresenting=!1,e.setPixelRatio(Gt),e.setSize(Wt.width,Wt.height,!1),d.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(An){o=An,d.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(An){gt=An,d.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return St||ft},this.setReferenceSpace=function(An){St=An},this.getBaseLayer=function(){return Ct!==null?Ct:Rt},this.getBinding=function(){return At},this.getFrame=function(){return yt},this.getSession=function(){return nt},this.setSession=async function(An){if(nt=An,nt!==null){if(bt=e.getRenderTarget(),nt.addEventListener("select",sn),nt.addEventListener("selectstart",sn),nt.addEventListener("selectend",sn),nt.addEventListener("squeeze",sn),nt.addEventListener("squeezestart",sn),nt.addEventListener("squeezeend",sn),nt.addEventListener("end",wn),nt.addEventListener("inputsourceschange",Mn),Nt.xrCompatible!==!0&&await s.makeXRCompatible(),Gt=e.getPixelRatio(),e.getSize(Wt),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let or=null,er=null,gr=null;Nt.depth&&(gr=Nt.stencil?s.DEPTH24_STENCIL8:s.DEPTH_COMPONENT24,or=Nt.stencil?DepthStencilFormat:DepthFormat,er=Nt.stencil?UnsignedInt248Type:UnsignedIntType);const kr={colorFormat:s.RGBA8,depthFormat:gr,scaleFactor:o};At=new XRWebGLBinding(nt,s),Ct=At.createProjectionLayer(kr),nt.updateRenderState({layers:[Ct]}),e.setPixelRatio(1),e.setSize(Ct.textureWidth,Ct.textureHeight,!1),Dt=new WebGLRenderTarget(Ct.textureWidth,Ct.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(Ct.textureWidth,Ct.textureHeight,er,void 0,void 0,void 0,void 0,void 0,void 0,or),stencilBuffer:Nt.stencil,colorSpace:e.outputColorSpace,samples:Nt.antialias?4:0,resolveDepthBuffer:Ct.ignoreDepthValues===!1,resolveStencilBuffer:Ct.ignoreDepthValues===!1})}else{const or={antialias:Nt.antialias,alpha:!0,depth:Nt.depth,stencil:Nt.stencil,framebufferScaleFactor:o};Rt=new XRWebGLLayer(nt,s,or),nt.updateRenderState({baseLayer:Rt}),e.setPixelRatio(1),e.setSize(Rt.framebufferWidth,Rt.framebufferHeight,!1),Dt=new WebGLRenderTarget(Rt.framebufferWidth,Rt.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,colorSpace:e.outputColorSpace,stencilBuffer:Nt.stencil,resolveDepthBuffer:Rt.ignoreDepthValues===!1,resolveStencilBuffer:Rt.ignoreDepthValues===!1})}Dt.isXRRenderTarget=!0,this.setFoveation(xt),St=null,ft=await nt.requestReferenceSpace(gt),ir.setContext(nt),ir.start(),d.isPresenting=!0,d.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(nt!==null)return nt.environmentBlendMode},this.getDepthTexture=function(){return Ot.getDepthTexture()};function Mn(An){for(let jn=0;jn<An.removed.length;jn++){const or=An.removed[jn],er=Ut.indexOf(or);er>=0&&(Ut[er]=null,Ft[er].disconnect(or))}for(let jn=0;jn<An.added.length;jn++){const or=An.added[jn];let er=Ut.indexOf(or);if(er===-1){for(let kr=0;kr<Ft.length;kr++)if(kr>=Ut.length){Ut.push(or),er=kr;break}else if(Ut[kr]===null){Ut[kr]=or,er=kr;break}if(er===-1)break}const gr=Ft[er];gr&&gr.connect(or)}}const Tn=new Vector3,kn=new Vector3;function rn(An,jn,or){Tn.setFromMatrixPosition(jn.matrixWorld),kn.setFromMatrixPosition(or.matrixWorld);const er=Tn.distanceTo(kn),gr=jn.projectionMatrix.elements,kr=or.projectionMatrix.elements,dr=gr[14]/(gr[10]-1),mr=gr[14]/(gr[10]+1),It=(gr[9]+1)/gr[5],Zn=(gr[9]-1)/gr[5],nn=(gr[8]-1)/gr[0],nr=(kr[8]+1)/kr[0],Kn=dr*nn,Yn=dr*nr,Dn=er/(-nn+nr),vr=Dn*-nn;if(jn.matrixWorld.decompose(An.position,An.quaternion,An.scale),An.translateX(vr),An.translateZ(Dn),An.matrixWorld.compose(An.position,An.quaternion,An.scale),An.matrixWorldInverse.copy(An.matrixWorld).invert(),gr[10]===-1)An.projectionMatrix.copy(jn.projectionMatrix),An.projectionMatrixInverse.copy(jn.projectionMatrixInverse);else{const Xn=dr+Dn,tn=mr+Dn,Qt=Kn-vr,hn=Yn+(er-vr),Pn=It*mr/tn*Xn,Gn=Zn*mr/tn*Xn;An.projectionMatrix.makePerspective(Qt,hn,Pn,Gn,Xn,tn),An.projectionMatrixInverse.copy(An.projectionMatrix).invert()}}function un(An,jn){jn===null?An.matrixWorld.copy(An.matrix):An.matrixWorld.multiplyMatrices(jn.matrixWorld,An.matrix),An.matrixWorldInverse.copy(An.matrixWorld).invert()}this.updateCamera=function(An){if(nt===null)return;let jn=An.near,or=An.far;Ot.texture!==null&&(Ot.depthNear>0&&(jn=Ot.depthNear),Ot.depthFar>0&&(or=Ot.depthFar)),jt.near=Yt.near=Xt.near=jn,jt.far=Yt.far=Xt.far=or,(Jt!==jt.near||fn!==jt.far)&&(nt.updateRenderState({depthNear:jt.near,depthFar:jt.far}),Jt=jt.near,fn=jt.far),Xt.layers.mask=An.layers.mask|2,Yt.layers.mask=An.layers.mask|4,jt.layers.mask=Xt.layers.mask|Yt.layers.mask;const er=An.parent,gr=jt.cameras;un(jt,er);for(let kr=0;kr<gr.length;kr++)un(gr[kr],er);gr.length===2?rn(jt,Xt,Yt):jt.projectionMatrix.copy(Xt.projectionMatrix),pn(An,jt,er)};function pn(An,jn,or){or===null?An.matrix.copy(jn.matrixWorld):(An.matrix.copy(or.matrixWorld),An.matrix.invert(),An.matrix.multiply(jn.matrixWorld)),An.matrix.decompose(An.position,An.quaternion,An.scale),An.updateMatrixWorld(!0),An.projectionMatrix.copy(jn.projectionMatrix),An.projectionMatrixInverse.copy(jn.projectionMatrixInverse),An.isPerspectiveCamera&&(An.fov=RAD2DEG*2*Math.atan(1/An.projectionMatrix.elements[5]),An.zoom=1)}this.getCamera=function(){return jt},this.getFoveation=function(){if(!(Ct===null&&Rt===null))return xt},this.setFoveation=function(An){xt=An,Ct!==null&&(Ct.fixedFoveation=An),Rt!==null&&Rt.fixedFoveation!==void 0&&(Rt.fixedFoveation=An)},this.hasDepthSensing=function(){return Ot.texture!==null},this.getDepthSensingMesh=function(){return Ot.getMesh(jt)};let Rn=null;function zn(An,jn){if(Tt=jn.getViewerPose(St||ft),yt=jn,Tt!==null){const or=Tt.views;Rt!==null&&(e.setRenderTargetFramebuffer(Dt,Rt.framebuffer),e.setRenderTarget(Dt));let er=!1;or.length!==jt.cameras.length&&(jt.cameras.length=0,er=!0);for(let dr=0;dr<or.length;dr++){const mr=or[dr];let It=null;if(Rt!==null)It=Rt.getViewport(mr);else{const nn=At.getViewSubImage(Ct,mr);It=nn.viewport,dr===0&&(e.setRenderTargetTextures(Dt,nn.colorTexture,nn.depthStencilTexture),e.setRenderTarget(Dt))}let Zn=Kt[dr];Zn===void 0&&(Zn=new PerspectiveCamera,Zn.layers.enable(dr),Zn.viewport=new Vector4,Kt[dr]=Zn),Zn.matrix.fromArray(mr.transform.matrix),Zn.matrix.decompose(Zn.position,Zn.quaternion,Zn.scale),Zn.projectionMatrix.fromArray(mr.projectionMatrix),Zn.projectionMatrixInverse.copy(Zn.projectionMatrix).invert(),Zn.viewport.set(It.x,It.y,It.width,It.height),dr===0&&(jt.matrix.copy(Zn.matrix),jt.matrix.decompose(jt.position,jt.quaternion,jt.scale)),er===!0&&jt.cameras.push(Zn)}const gr=nt.enabledFeatures;if(gr&&gr.includes("depth-sensing")&&nt.depthUsage=="gpu-optimized"&&At){const dr=At.getDepthInformation(or[0]);dr&&dr.isValid&&dr.texture&&Ot.init(e,dr,nt.renderState)}}for(let or=0;or<Ft.length;or++){const er=Ut[or],gr=Ft[or];er!==null&&gr!==void 0&&gr.update(er,jn,St||ft)}Rn&&Rn(An,jn),jn.detectedPlanes&&d.dispatchEvent({type:"planesdetected",data:jn}),yt=null}const ir=new WebGLAnimation;ir.setAnimationLoop(zn),this.setAnimationLoop=function(An){Rn=An},this.dispose=function(){}}}const _e1=new Euler,_m1=new Matrix4;function WebGLMaterials(c,e){function s(Nt,bt){Nt.matrixAutoUpdate===!0&&Nt.updateMatrix(),bt.value.copy(Nt.matrix)}function d(Nt,bt){bt.color.getRGB(Nt.fogColor.value,getUnlitUniformColorSpace(c)),bt.isFog?(Nt.fogNear.value=bt.near,Nt.fogFar.value=bt.far):bt.isFogExp2&&(Nt.fogDensity.value=bt.density)}function nt(Nt,bt,Dt,Ft,Ut){bt.isMeshBasicMaterial||bt.isMeshLambertMaterial?o(Nt,bt):bt.isMeshToonMaterial?(o(Nt,bt),At(Nt,bt)):bt.isMeshPhongMaterial?(o(Nt,bt),Tt(Nt,bt)):bt.isMeshStandardMaterial?(o(Nt,bt),Ct(Nt,bt),bt.isMeshPhysicalMaterial&&Rt(Nt,bt,Ut)):bt.isMeshMatcapMaterial?(o(Nt,bt),yt(Nt,bt)):bt.isMeshDepthMaterial?o(Nt,bt):bt.isMeshDistanceMaterial?(o(Nt,bt),Ot(Nt,bt)):bt.isMeshNormalMaterial?o(Nt,bt):bt.isLineBasicMaterial?(ft(Nt,bt),bt.isLineDashedMaterial&&gt(Nt,bt)):bt.isPointsMaterial?xt(Nt,bt,Dt,Ft):bt.isSpriteMaterial?St(Nt,bt):bt.isShadowMaterial?(Nt.color.value.copy(bt.color),Nt.opacity.value=bt.opacity):bt.isShaderMaterial&&(bt.uniformsNeedUpdate=!1)}function o(Nt,bt){Nt.opacity.value=bt.opacity,bt.color&&Nt.diffuse.value.copy(bt.color),bt.emissive&&Nt.emissive.value.copy(bt.emissive).multiplyScalar(bt.emissiveIntensity),bt.map&&(Nt.map.value=bt.map,s(bt.map,Nt.mapTransform)),bt.alphaMap&&(Nt.alphaMap.value=bt.alphaMap,s(bt.alphaMap,Nt.alphaMapTransform)),bt.bumpMap&&(Nt.bumpMap.value=bt.bumpMap,s(bt.bumpMap,Nt.bumpMapTransform),Nt.bumpScale.value=bt.bumpScale,bt.side===BackSide&&(Nt.bumpScale.value*=-1)),bt.normalMap&&(Nt.normalMap.value=bt.normalMap,s(bt.normalMap,Nt.normalMapTransform),Nt.normalScale.value.copy(bt.normalScale),bt.side===BackSide&&Nt.normalScale.value.negate()),bt.displacementMap&&(Nt.displacementMap.value=bt.displacementMap,s(bt.displacementMap,Nt.displacementMapTransform),Nt.displacementScale.value=bt.displacementScale,Nt.displacementBias.value=bt.displacementBias),bt.emissiveMap&&(Nt.emissiveMap.value=bt.emissiveMap,s(bt.emissiveMap,Nt.emissiveMapTransform)),bt.specularMap&&(Nt.specularMap.value=bt.specularMap,s(bt.specularMap,Nt.specularMapTransform)),bt.alphaTest>0&&(Nt.alphaTest.value=bt.alphaTest);const Dt=e.get(bt),Ft=Dt.envMap,Ut=Dt.envMapRotation;Ft&&(Nt.envMap.value=Ft,_e1.copy(Ut),_e1.x*=-1,_e1.y*=-1,_e1.z*=-1,Ft.isCubeTexture&&Ft.isRenderTargetTexture===!1&&(_e1.y*=-1,_e1.z*=-1),Nt.envMapRotation.value.setFromMatrix4(_m1.makeRotationFromEuler(_e1)),Nt.flipEnvMap.value=Ft.isCubeTexture&&Ft.isRenderTargetTexture===!1?-1:1,Nt.reflectivity.value=bt.reflectivity,Nt.ior.value=bt.ior,Nt.refractionRatio.value=bt.refractionRatio),bt.lightMap&&(Nt.lightMap.value=bt.lightMap,Nt.lightMapIntensity.value=bt.lightMapIntensity,s(bt.lightMap,Nt.lightMapTransform)),bt.aoMap&&(Nt.aoMap.value=bt.aoMap,Nt.aoMapIntensity.value=bt.aoMapIntensity,s(bt.aoMap,Nt.aoMapTransform))}function ft(Nt,bt){Nt.diffuse.value.copy(bt.color),Nt.opacity.value=bt.opacity,bt.map&&(Nt.map.value=bt.map,s(bt.map,Nt.mapTransform))}function gt(Nt,bt){Nt.dashSize.value=bt.dashSize,Nt.totalSize.value=bt.dashSize+bt.gapSize,Nt.scale.value=bt.scale}function xt(Nt,bt,Dt,Ft){Nt.diffuse.value.copy(bt.color),Nt.opacity.value=bt.opacity,Nt.size.value=bt.size*Dt,Nt.scale.value=Ft*.5,bt.map&&(Nt.map.value=bt.map,s(bt.map,Nt.uvTransform)),bt.alphaMap&&(Nt.alphaMap.value=bt.alphaMap,s(bt.alphaMap,Nt.alphaMapTransform)),bt.alphaTest>0&&(Nt.alphaTest.value=bt.alphaTest)}function St(Nt,bt){Nt.diffuse.value.copy(bt.color),Nt.opacity.value=bt.opacity,Nt.rotation.value=bt.rotation,bt.map&&(Nt.map.value=bt.map,s(bt.map,Nt.mapTransform)),bt.alphaMap&&(Nt.alphaMap.value=bt.alphaMap,s(bt.alphaMap,Nt.alphaMapTransform)),bt.alphaTest>0&&(Nt.alphaTest.value=bt.alphaTest)}function Tt(Nt,bt){Nt.specular.value.copy(bt.specular),Nt.shininess.value=Math.max(bt.shininess,1e-4)}function At(Nt,bt){bt.gradientMap&&(Nt.gradientMap.value=bt.gradientMap)}function Ct(Nt,bt){Nt.metalness.value=bt.metalness,bt.metalnessMap&&(Nt.metalnessMap.value=bt.metalnessMap,s(bt.metalnessMap,Nt.metalnessMapTransform)),Nt.roughness.value=bt.roughness,bt.roughnessMap&&(Nt.roughnessMap.value=bt.roughnessMap,s(bt.roughnessMap,Nt.roughnessMapTransform)),bt.envMap&&(Nt.envMapIntensity.value=bt.envMapIntensity)}function Rt(Nt,bt,Dt){Nt.ior.value=bt.ior,bt.sheen>0&&(Nt.sheenColor.value.copy(bt.sheenColor).multiplyScalar(bt.sheen),Nt.sheenRoughness.value=bt.sheenRoughness,bt.sheenColorMap&&(Nt.sheenColorMap.value=bt.sheenColorMap,s(bt.sheenColorMap,Nt.sheenColorMapTransform)),bt.sheenRoughnessMap&&(Nt.sheenRoughnessMap.value=bt.sheenRoughnessMap,s(bt.sheenRoughnessMap,Nt.sheenRoughnessMapTransform))),bt.clearcoat>0&&(Nt.clearcoat.value=bt.clearcoat,Nt.clearcoatRoughness.value=bt.clearcoatRoughness,bt.clearcoatMap&&(Nt.clearcoatMap.value=bt.clearcoatMap,s(bt.clearcoatMap,Nt.clearcoatMapTransform)),bt.clearcoatRoughnessMap&&(Nt.clearcoatRoughnessMap.value=bt.clearcoatRoughnessMap,s(bt.clearcoatRoughnessMap,Nt.clearcoatRoughnessMapTransform)),bt.clearcoatNormalMap&&(Nt.clearcoatNormalMap.value=bt.clearcoatNormalMap,s(bt.clearcoatNormalMap,Nt.clearcoatNormalMapTransform),Nt.clearcoatNormalScale.value.copy(bt.clearcoatNormalScale),bt.side===BackSide&&Nt.clearcoatNormalScale.value.negate())),bt.dispersion>0&&(Nt.dispersion.value=bt.dispersion),bt.iridescence>0&&(Nt.iridescence.value=bt.iridescence,Nt.iridescenceIOR.value=bt.iridescenceIOR,Nt.iridescenceThicknessMinimum.value=bt.iridescenceThicknessRange[0],Nt.iridescenceThicknessMaximum.value=bt.iridescenceThicknessRange[1],bt.iridescenceMap&&(Nt.iridescenceMap.value=bt.iridescenceMap,s(bt.iridescenceMap,Nt.iridescenceMapTransform)),bt.iridescenceThicknessMap&&(Nt.iridescenceThicknessMap.value=bt.iridescenceThicknessMap,s(bt.iridescenceThicknessMap,Nt.iridescenceThicknessMapTransform))),bt.transmission>0&&(Nt.transmission.value=bt.transmission,Nt.transmissionSamplerMap.value=Dt.texture,Nt.transmissionSamplerSize.value.set(Dt.width,Dt.height),bt.transmissionMap&&(Nt.transmissionMap.value=bt.transmissionMap,s(bt.transmissionMap,Nt.transmissionMapTransform)),Nt.thickness.value=bt.thickness,bt.thicknessMap&&(Nt.thicknessMap.value=bt.thicknessMap,s(bt.thicknessMap,Nt.thicknessMapTransform)),Nt.attenuationDistance.value=bt.attenuationDistance,Nt.attenuationColor.value.copy(bt.attenuationColor)),bt.anisotropy>0&&(Nt.anisotropyVector.value.set(bt.anisotropy*Math.cos(bt.anisotropyRotation),bt.anisotropy*Math.sin(bt.anisotropyRotation)),bt.anisotropyMap&&(Nt.anisotropyMap.value=bt.anisotropyMap,s(bt.anisotropyMap,Nt.anisotropyMapTransform))),Nt.specularIntensity.value=bt.specularIntensity,Nt.specularColor.value.copy(bt.specularColor),bt.specularColorMap&&(Nt.specularColorMap.value=bt.specularColorMap,s(bt.specularColorMap,Nt.specularColorMapTransform)),bt.specularIntensityMap&&(Nt.specularIntensityMap.value=bt.specularIntensityMap,s(bt.specularIntensityMap,Nt.specularIntensityMapTransform))}function yt(Nt,bt){bt.matcap&&(Nt.matcap.value=bt.matcap)}function Ot(Nt,bt){const Dt=e.get(bt).light;Nt.referencePosition.value.setFromMatrixPosition(Dt.matrixWorld),Nt.nearDistance.value=Dt.shadow.camera.near,Nt.farDistance.value=Dt.shadow.camera.far}return{refreshFogUniforms:d,refreshMaterialUniforms:nt}}function WebGLUniformsGroups(c,e,s,d){let nt={},o={},ft=[];const gt=c.getParameter(c.MAX_UNIFORM_BUFFER_BINDINGS);function xt(Dt,Ft){const Ut=Ft.program;d.uniformBlockBinding(Dt,Ut)}function St(Dt,Ft){let Ut=nt[Dt.id];Ut===void 0&&(yt(Dt),Ut=Tt(Dt),nt[Dt.id]=Ut,Dt.addEventListener("dispose",Nt));const Wt=Ft.program;d.updateUBOMapping(Dt,Wt);const Gt=e.render.frame;o[Dt.id]!==Gt&&(Ct(Dt),o[Dt.id]=Gt)}function Tt(Dt){const Ft=At();Dt.__bindingPointIndex=Ft;const Ut=c.createBuffer(),Wt=Dt.__size,Gt=Dt.usage;return c.bindBuffer(c.UNIFORM_BUFFER,Ut),c.bufferData(c.UNIFORM_BUFFER,Wt,Gt),c.bindBuffer(c.UNIFORM_BUFFER,null),c.bindBufferBase(c.UNIFORM_BUFFER,Ft,Ut),Ut}function At(){for(let Dt=0;Dt<gt;Dt++)if(ft.indexOf(Dt)===-1)return ft.push(Dt),Dt;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function Ct(Dt){const Ft=nt[Dt.id],Ut=Dt.uniforms,Wt=Dt.__cache;c.bindBuffer(c.UNIFORM_BUFFER,Ft);for(let Gt=0,Xt=Ut.length;Gt<Xt;Gt++){const Yt=Array.isArray(Ut[Gt])?Ut[Gt]:[Ut[Gt]];for(let Kt=0,jt=Yt.length;Kt<jt;Kt++){const Jt=Yt[Kt];if(Rt(Jt,Gt,Kt,Wt)===!0){const fn=Jt.__offset,sn=Array.isArray(Jt.value)?Jt.value:[Jt.value];let wn=0;for(let Mn=0;Mn<sn.length;Mn++){const Tn=sn[Mn],kn=Ot(Tn);typeof Tn=="number"||typeof Tn=="boolean"?(Jt.__data[0]=Tn,c.bufferSubData(c.UNIFORM_BUFFER,fn+wn,Jt.__data)):Tn.isMatrix3?(Jt.__data[0]=Tn.elements[0],Jt.__data[1]=Tn.elements[1],Jt.__data[2]=Tn.elements[2],Jt.__data[3]=0,Jt.__data[4]=Tn.elements[3],Jt.__data[5]=Tn.elements[4],Jt.__data[6]=Tn.elements[5],Jt.__data[7]=0,Jt.__data[8]=Tn.elements[6],Jt.__data[9]=Tn.elements[7],Jt.__data[10]=Tn.elements[8],Jt.__data[11]=0):(Tn.toArray(Jt.__data,wn),wn+=kn.storage/Float32Array.BYTES_PER_ELEMENT)}c.bufferSubData(c.UNIFORM_BUFFER,fn,Jt.__data)}}}c.bindBuffer(c.UNIFORM_BUFFER,null)}function Rt(Dt,Ft,Ut,Wt){const Gt=Dt.value,Xt=Ft+"_"+Ut;if(Wt[Xt]===void 0)return typeof Gt=="number"||typeof Gt=="boolean"?Wt[Xt]=Gt:Wt[Xt]=Gt.clone(),!0;{const Yt=Wt[Xt];if(typeof Gt=="number"||typeof Gt=="boolean"){if(Yt!==Gt)return Wt[Xt]=Gt,!0}else if(Yt.equals(Gt)===!1)return Yt.copy(Gt),!0}return!1}function yt(Dt){const Ft=Dt.uniforms;let Ut=0;const Wt=16;for(let Xt=0,Yt=Ft.length;Xt<Yt;Xt++){const Kt=Array.isArray(Ft[Xt])?Ft[Xt]:[Ft[Xt]];for(let jt=0,Jt=Kt.length;jt<Jt;jt++){const fn=Kt[jt],sn=Array.isArray(fn.value)?fn.value:[fn.value];for(let wn=0,Mn=sn.length;wn<Mn;wn++){const Tn=sn[wn],kn=Ot(Tn),rn=Ut%Wt,un=rn%kn.boundary,pn=rn+un;Ut+=un,pn!==0&&Wt-pn<kn.storage&&(Ut+=Wt-pn),fn.__data=new Float32Array(kn.storage/Float32Array.BYTES_PER_ELEMENT),fn.__offset=Ut,Ut+=kn.storage}}}const Gt=Ut%Wt;return Gt>0&&(Ut+=Wt-Gt),Dt.__size=Ut,Dt.__cache={},this}function Ot(Dt){const Ft={boundary:0,storage:0};return typeof Dt=="number"||typeof Dt=="boolean"?(Ft.boundary=4,Ft.storage=4):Dt.isVector2?(Ft.boundary=8,Ft.storage=8):Dt.isVector3||Dt.isColor?(Ft.boundary=16,Ft.storage=12):Dt.isVector4?(Ft.boundary=16,Ft.storage=16):Dt.isMatrix3?(Ft.boundary=48,Ft.storage=48):Dt.isMatrix4?(Ft.boundary=64,Ft.storage=64):Dt.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",Dt),Ft}function Nt(Dt){const Ft=Dt.target;Ft.removeEventListener("dispose",Nt);const Ut=ft.indexOf(Ft.__bindingPointIndex);ft.splice(Ut,1),c.deleteBuffer(nt[Ft.id]),delete nt[Ft.id],delete o[Ft.id]}function bt(){for(const Dt in nt)c.deleteBuffer(nt[Dt]);ft=[],nt={},o={}}return{bind:xt,update:St,dispose:bt}}class WebGLRenderer{constructor(e={}){const{canvas:s=createCanvasElement(),context:d=null,depth:nt=!0,stencil:o=!1,alpha:ft=!1,antialias:gt=!1,premultipliedAlpha:xt=!0,preserveDrawingBuffer:St=!1,powerPreference:Tt="default",failIfMajorPerformanceCaveat:At=!1,reverseDepthBuffer:Ct=!1}=e;this.isWebGLRenderer=!0;let Rt;if(d!==null){if(typeof WebGLRenderingContext<"u"&&d instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");Rt=d.getContextAttributes().alpha}else Rt=ft;const yt=new Uint32Array(4),Ot=new Int32Array(4);let Nt=null,bt=null;const Dt=[],Ft=[];this.domElement=s,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const Ut=this;let Wt=!1;this._outputColorSpace=SRGBColorSpace;let Gt=0,Xt=0,Yt=null,Kt=-1,jt=null;const Jt=new Vector4,fn=new Vector4;let sn=null;const wn=new Color(0);let Mn=0,Tn=s.width,kn=s.height,rn=1,un=null,pn=null;const Rn=new Vector4(0,0,Tn,kn),zn=new Vector4(0,0,Tn,kn);let ir=!1;const An=new Frustum;let jn=!1,or=!1;const er=new Matrix4,gr=new Matrix4,kr=new Vector3,dr=new Vector4,mr={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let It=!1;function Zn(){return Yt===null?rn:1}let nn=d;function nr(en,Sn){return s.getContext(en,Sn)}try{const en={alpha:!0,depth:nt,stencil:o,antialias:gt,premultipliedAlpha:xt,preserveDrawingBuffer:St,powerPreference:Tt,failIfMajorPerformanceCaveat:At};if("setAttribute"in s&&s.setAttribute("data-engine",`three.js r${REVISION}`),s.addEventListener("webglcontextlost",Wn,!1),s.addEventListener("webglcontextrestored",yr,!1),s.addEventListener("webglcontextcreationerror",hr,!1),nn===null){const Sn="webgl2";if(nn=nr(Sn,en),nn===null)throw nr(Sn)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(en){throw console.error("THREE.WebGLRenderer: "+en.message),en}let Kn,Yn,Dn,vr,Xn,tn,Qt,hn,Pn,Gn,yn,Jn,$n,fr,Lr,Qn,tr,rr,Or,wr,cn,Hn,lr,an;function sr(){Kn=new WebGLExtensions(nn),Kn.init(),Hn=new WebGLUtils(nn,Kn),Yn=new WebGLCapabilities(nn,Kn,e,Hn),Dn=new WebGLState(nn,Kn),Yn.reverseDepthBuffer&&Ct&&Dn.buffers.depth.setReversed(!0),vr=new WebGLInfo(nn),Xn=new WebGLProperties,tn=new WebGLTextures(nn,Kn,Dn,Xn,Yn,Hn,vr),Qt=new WebGLCubeMaps(Ut),hn=new WebGLCubeUVMaps(Ut),Pn=new WebGLAttributes(nn),lr=new WebGLBindingStates(nn,Pn),Gn=new WebGLGeometries(nn,Pn,vr,lr),yn=new WebGLObjects(nn,Gn,Pn,vr),Or=new WebGLMorphtargets(nn,Yn,tn),Qn=new WebGLClipping(Xn),Jn=new WebGLPrograms(Ut,Qt,hn,Kn,Yn,lr,Qn),$n=new WebGLMaterials(Ut,Xn),fr=new WebGLRenderLists,Lr=new WebGLRenderStates(Kn),rr=new WebGLBackground(Ut,Qt,hn,Dn,yn,Rt,xt),tr=new WebGLShadowMap(Ut,yn,Yn),an=new WebGLUniformsGroups(nn,vr,Yn,Dn),wr=new WebGLBufferRenderer(nn,Kn,vr),cn=new WebGLIndexedBufferRenderer(nn,Kn,vr),vr.programs=Jn.programs,Ut.capabilities=Yn,Ut.extensions=Kn,Ut.properties=Xn,Ut.renderLists=fr,Ut.shadowMap=tr,Ut.state=Dn,Ut.info=vr}sr();const Ln=new WebXRManager(Ut,nn);this.xr=Ln,this.getContext=function(){return nn},this.getContextAttributes=function(){return nn.getContextAttributes()},this.forceContextLoss=function(){const en=Kn.get("WEBGL_lose_context");en&&en.loseContext()},this.forceContextRestore=function(){const en=Kn.get("WEBGL_lose_context");en&&en.restoreContext()},this.getPixelRatio=function(){return rn},this.setPixelRatio=function(en){en!==void 0&&(rn=en,this.setSize(Tn,kn,!1))},this.getSize=function(en){return en.set(Tn,kn)},this.setSize=function(en,Sn,Nn=!0){if(Ln.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Tn=en,kn=Sn,s.width=Math.floor(en*rn),s.height=Math.floor(Sn*rn),Nn===!0&&(s.style.width=en+"px",s.style.height=Sn+"px"),this.setViewport(0,0,en,Sn)},this.getDrawingBufferSize=function(en){return en.set(Tn*rn,kn*rn).floor()},this.setDrawingBufferSize=function(en,Sn,Nn){Tn=en,kn=Sn,rn=Nn,s.width=Math.floor(en*Nn),s.height=Math.floor(Sn*Nn),this.setViewport(0,0,en,Sn)},this.getCurrentViewport=function(en){return en.copy(Jt)},this.getViewport=function(en){return en.copy(Rn)},this.setViewport=function(en,Sn,Nn,On){en.isVector4?Rn.set(en.x,en.y,en.z,en.w):Rn.set(en,Sn,Nn,On),Dn.viewport(Jt.copy(Rn).multiplyScalar(rn).round())},this.getScissor=function(en){return en.copy(zn)},this.setScissor=function(en,Sn,Nn,On){en.isVector4?zn.set(en.x,en.y,en.z,en.w):zn.set(en,Sn,Nn,On),Dn.scissor(fn.copy(zn).multiplyScalar(rn).round())},this.getScissorTest=function(){return ir},this.setScissorTest=function(en){Dn.setScissorTest(ir=en)},this.setOpaqueSort=function(en){un=en},this.setTransparentSort=function(en){pn=en},this.getClearColor=function(en){return en.copy(rr.getClearColor())},this.setClearColor=function(){rr.setClearColor(...arguments)},this.getClearAlpha=function(){return rr.getClearAlpha()},this.setClearAlpha=function(){rr.setClearAlpha(...arguments)},this.clear=function(en=!0,Sn=!0,Nn=!0){let On=0;if(en){let En=!1;if(Yt!==null){const ar=Yt.texture.format;En=ar===RGBAIntegerFormat||ar===RGIntegerFormat||ar===RedIntegerFormat}if(En){const ar=Yt.texture.type,_r=ar===UnsignedByteType||ar===UnsignedIntType||ar===UnsignedShortType||ar===UnsignedInt248Type||ar===UnsignedShort4444Type||ar===UnsignedShort5551Type,Pr=rr.getClearColor(),Ir=rr.getClearAlpha(),qr=Pr.r,Wr=Pr.g,xr=Pr.b;_r?(yt[0]=qr,yt[1]=Wr,yt[2]=xr,yt[3]=Ir,nn.clearBufferuiv(nn.COLOR,0,yt)):(Ot[0]=qr,Ot[1]=Wr,Ot[2]=xr,Ot[3]=Ir,nn.clearBufferiv(nn.COLOR,0,Ot))}else On|=nn.COLOR_BUFFER_BIT}Sn&&(On|=nn.DEPTH_BUFFER_BIT),Nn&&(On|=nn.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),nn.clear(On)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){s.removeEventListener("webglcontextlost",Wn,!1),s.removeEventListener("webglcontextrestored",yr,!1),s.removeEventListener("webglcontextcreationerror",hr,!1),rr.dispose(),fr.dispose(),Lr.dispose(),Xn.dispose(),Qt.dispose(),hn.dispose(),yn.dispose(),lr.dispose(),an.dispose(),Jn.dispose(),Ln.dispose(),Ln.removeEventListener("sessionstart",Fs),Ln.removeEventListener("sessionend",Ru),_s.stop()};function Wn(en){en.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),Wt=!0}function yr(){console.log("THREE.WebGLRenderer: Context Restored."),Wt=!1;const en=vr.autoReset,Sn=tr.enabled,Nn=tr.autoUpdate,On=tr.needsUpdate,En=tr.type;sr(),vr.autoReset=en,tr.enabled=Sn,tr.autoUpdate=Nn,tr.needsUpdate=On,tr.type=En}function hr(en){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",en.statusMessage)}function zr(en){const Sn=en.target;Sn.removeEventListener("dispose",zr),io(Sn)}function io(en){_o(en),Xn.remove(en)}function _o(en){const Sn=Xn.get(en).programs;Sn!==void 0&&(Sn.forEach(function(Nn){Jn.releaseProgram(Nn)}),en.isShaderMaterial&&Jn.releaseShaderCache(en))}this.renderBufferDirect=function(en,Sn,Nn,On,En,ar){Sn===null&&(Sn=mr);const _r=En.isMesh&&En.matrixWorld.determinant()<0,Pr=c0(en,Sn,Nn,On,En);Dn.setMaterial(On,_r);let Ir=Nn.index,qr=1;if(On.wireframe===!0){if(Ir=Gn.getWireframeAttribute(Nn),Ir===void 0)return;qr=2}const Wr=Nn.drawRange,xr=Nn.attributes.position;let Ur=Wr.start*qr,lo=(Wr.start+Wr.count)*qr;ar!==null&&(Ur=Math.max(Ur,ar.start*qr),lo=Math.min(lo,(ar.start+ar.count)*qr)),Ir!==null?(Ur=Math.max(Ur,0),lo=Math.min(lo,Ir.count)):xr!=null&&(Ur=Math.max(Ur,0),lo=Math.min(lo,xr.count));const go=lo-Ur;if(go<0||go===1/0)return;lr.setup(En,On,Pr,Nn,Ir);let Bn,uo=wr;if(Ir!==null&&(Bn=Pn.get(Ir),uo=cn,uo.setIndex(Bn)),En.isMesh)On.wireframe===!0?(Dn.setLineWidth(On.wireframeLinewidth*Zn()),uo.setMode(nn.LINES)):uo.setMode(nn.TRIANGLES);else if(En.isLine){let $r=On.linewidth;$r===void 0&&($r=1),Dn.setLineWidth($r*Zn()),En.isLineSegments?uo.setMode(nn.LINES):En.isLineLoop?uo.setMode(nn.LINE_LOOP):uo.setMode(nn.LINE_STRIP)}else En.isPoints?uo.setMode(nn.POINTS):En.isSprite&&uo.setMode(nn.TRIANGLES);if(En.isBatchedMesh)if(En._multiDrawInstances!==null)warnOnce("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),uo.renderMultiDrawInstances(En._multiDrawStarts,En._multiDrawCounts,En._multiDrawCount,En._multiDrawInstances);else if(Kn.get("WEBGL_multi_draw"))uo.renderMultiDraw(En._multiDrawStarts,En._multiDrawCounts,En._multiDrawCount);else{const $r=En._multiDrawStarts,xo=En._multiDrawCounts,yo=En._multiDrawCount,ys=Ir?Pn.get(Ir).bytesPerElement:1,Hl=Xn.get(On).currentProgram.getUniforms();for(let Ho=0;Ho<yo;Ho++)Hl.setValue(nn,"_gl_DrawID",Ho),uo.render($r[Ho]/ys,xo[Ho])}else if(En.isInstancedMesh)uo.renderInstances(Ur,go,En.count);else if(Nn.isInstancedBufferGeometry){const $r=Nn._maxInstanceCount!==void 0?Nn._maxInstanceCount:1/0,xo=Math.min(Nn.instanceCount,$r);uo.renderInstances(Ur,go,xo)}else uo.render(Ur,go)};function Jr(en,Sn,Nn){en.transparent===!0&&en.side===DoubleSide&&en.forceSinglePass===!1?(en.side=BackSide,en.needsUpdate=!0,au(en,Sn,Nn),en.side=FrontSide,en.needsUpdate=!0,au(en,Sn,Nn),en.side=DoubleSide):au(en,Sn,Nn)}this.compile=function(en,Sn,Nn=null){Nn===null&&(Nn=en),bt=Lr.get(Nn),bt.init(Sn),Ft.push(bt),Nn.traverseVisible(function(En){En.isLight&&En.layers.test(Sn.layers)&&(bt.pushLight(En),En.castShadow&&bt.pushShadow(En))}),en!==Nn&&en.traverseVisible(function(En){En.isLight&&En.layers.test(Sn.layers)&&(bt.pushLight(En),En.castShadow&&bt.pushShadow(En))}),bt.setupLights();const On=new Set;return en.traverse(function(En){if(!(En.isMesh||En.isPoints||En.isLine||En.isSprite))return;const ar=En.material;if(ar)if(Array.isArray(ar))for(let _r=0;_r<ar.length;_r++){const Pr=ar[_r];Jr(Pr,Nn,En),On.add(Pr)}else Jr(ar,Nn,En),On.add(ar)}),bt=Ft.pop(),On},this.compileAsync=function(en,Sn,Nn=null){const On=this.compile(en,Sn,Nn);return new Promise(En=>{function ar(){if(On.forEach(function(_r){Xn.get(_r).currentProgram.isReady()&&On.delete(_r)}),On.size===0){En(en);return}setTimeout(ar,10)}Kn.get("KHR_parallel_shader_compile")!==null?ar():setTimeout(ar,10)})};let Mo=null;function Ao(en){Mo&&Mo(en)}function Fs(){_s.stop()}function Ru(){_s.start()}const _s=new WebGLAnimation;_s.setAnimationLoop(Ao),typeof self<"u"&&_s.setContext(self),this.setAnimationLoop=function(en){Mo=en,Ln.setAnimationLoop(en),en===null?_s.stop():_s.start()},Ln.addEventListener("sessionstart",Fs),Ln.addEventListener("sessionend",Ru),this.render=function(en,Sn){if(Sn!==void 0&&Sn.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(Wt===!0)return;if(en.matrixWorldAutoUpdate===!0&&en.updateMatrixWorld(),Sn.parent===null&&Sn.matrixWorldAutoUpdate===!0&&Sn.updateMatrixWorld(),Ln.enabled===!0&&Ln.isPresenting===!0&&(Ln.cameraAutoUpdate===!0&&Ln.updateCamera(Sn),Sn=Ln.getCamera()),en.isScene===!0&&en.onBeforeRender(Ut,en,Sn,Yt),bt=Lr.get(en,Ft.length),bt.init(Sn),Ft.push(bt),gr.multiplyMatrices(Sn.projectionMatrix,Sn.matrixWorldInverse),An.setFromProjectionMatrix(gr),or=this.localClippingEnabled,jn=Qn.init(this.clippingPlanes,or),Nt=fr.get(en,Dt.length),Nt.init(),Dt.push(Nt),Ln.enabled===!0&&Ln.isPresenting===!0){const ar=Ut.xr.getDepthSensingMesh();ar!==null&&Fr(ar,Sn,-1/0,Ut.sortObjects)}Fr(en,Sn,0,Ut.sortObjects),Nt.finish(),Ut.sortObjects===!0&&Nt.sort(un,pn),It=Ln.enabled===!1||Ln.isPresenting===!1||Ln.hasDepthSensing()===!1,It&&rr.addToRenderList(Nt,en),this.info.render.frame++,jn===!0&&Qn.beginShadows();const Nn=bt.state.shadowsArray;tr.render(Nn,en,Sn),jn===!0&&Qn.endShadows(),this.info.autoReset===!0&&this.info.reset();const On=Nt.opaque,En=Nt.transmissive;if(bt.setupLights(),Sn.isArrayCamera){const ar=Sn.cameras;if(En.length>0)for(let _r=0,Pr=ar.length;_r<Pr;_r++){const Ir=ar[_r];cs(On,En,en,Ir)}It&&rr.render(en);for(let _r=0,Pr=ar.length;_r<Pr;_r++){const Ir=ar[_r];Gl(Nt,en,Ir,Ir.viewport)}}else En.length>0&&cs(On,En,en,Sn),It&&rr.render(en),Gl(Nt,en,Sn);Yt!==null&&Xt===0&&(tn.updateMultisampleRenderTarget(Yt),tn.updateRenderTargetMipmap(Yt)),en.isScene===!0&&en.onAfterRender(Ut,en,Sn),lr.resetDefaultState(),Kt=-1,jt=null,Ft.pop(),Ft.length>0?(bt=Ft[Ft.length-1],jn===!0&&Qn.setGlobalState(Ut.clippingPlanes,bt.state.camera)):bt=null,Dt.pop(),Dt.length>0?Nt=Dt[Dt.length-1]:Nt=null};function Fr(en,Sn,Nn,On){if(en.visible===!1)return;if(en.layers.test(Sn.layers)){if(en.isGroup)Nn=en.renderOrder;else if(en.isLOD)en.autoUpdate===!0&&en.update(Sn);else if(en.isLight)bt.pushLight(en),en.castShadow&&bt.pushShadow(en);else if(en.isSprite){if(!en.frustumCulled||An.intersectsSprite(en)){On&&dr.setFromMatrixPosition(en.matrixWorld).applyMatrix4(gr);const _r=yn.update(en),Pr=en.material;Pr.visible&&Nt.push(en,_r,Pr,Nn,dr.z,null)}}else if((en.isMesh||en.isLine||en.isPoints)&&(!en.frustumCulled||An.intersectsObject(en))){const _r=yn.update(en),Pr=en.material;if(On&&(en.boundingSphere!==void 0?(en.boundingSphere===null&&en.computeBoundingSphere(),dr.copy(en.boundingSphere.center)):(_r.boundingSphere===null&&_r.computeBoundingSphere(),dr.copy(_r.boundingSphere.center)),dr.applyMatrix4(en.matrixWorld).applyMatrix4(gr)),Array.isArray(Pr)){const Ir=_r.groups;for(let qr=0,Wr=Ir.length;qr<Wr;qr++){const xr=Ir[qr],Ur=Pr[xr.materialIndex];Ur&&Ur.visible&&Nt.push(en,_r,Ur,Nn,dr.z,xr)}}else Pr.visible&&Nt.push(en,_r,Pr,Nn,dr.z,null)}}const ar=en.children;for(let _r=0,Pr=ar.length;_r<Pr;_r++)Fr(ar[_r],Sn,Nn,On)}function Gl(en,Sn,Nn,On){const En=en.opaque,ar=en.transmissive,_r=en.transparent;bt.setupLightsView(Nn),jn===!0&&Qn.setGlobalState(Ut.clippingPlanes,Nn),On&&Dn.viewport(Jt.copy(On)),En.length>0&&wl(En,Sn,Nn),ar.length>0&&wl(ar,Sn,Nn),_r.length>0&&wl(_r,Sn,Nn),Dn.buffers.depth.setTest(!0),Dn.buffers.depth.setMask(!0),Dn.buffers.color.setMask(!0),Dn.setPolygonOffset(!1)}function cs(en,Sn,Nn,On){if((Nn.isScene===!0?Nn.overrideMaterial:null)!==null)return;bt.state.transmissionRenderTarget[On.id]===void 0&&(bt.state.transmissionRenderTarget[On.id]=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:Kn.has("EXT_color_buffer_half_float")||Kn.has("EXT_color_buffer_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ColorManagement.workingColorSpace}));const ar=bt.state.transmissionRenderTarget[On.id],_r=On.viewport||Jt;ar.setSize(_r.z*Ut.transmissionResolutionScale,_r.w*Ut.transmissionResolutionScale);const Pr=Ut.getRenderTarget();Ut.setRenderTarget(ar),Ut.getClearColor(wn),Mn=Ut.getClearAlpha(),Mn<1&&Ut.setClearColor(16777215,.5),Ut.clear(),It&&rr.render(Nn);const Ir=Ut.toneMapping;Ut.toneMapping=NoToneMapping;const qr=On.viewport;if(On.viewport!==void 0&&(On.viewport=void 0),bt.setupLightsView(On),jn===!0&&Qn.setGlobalState(Ut.clippingPlanes,On),wl(en,Nn,On),tn.updateMultisampleRenderTarget(ar),tn.updateRenderTargetMipmap(ar),Kn.has("WEBGL_multisampled_render_to_texture")===!1){let Wr=!1;for(let xr=0,Ur=Sn.length;xr<Ur;xr++){const lo=Sn[xr],go=lo.object,Bn=lo.geometry,uo=lo.material,$r=lo.group;if(uo.side===DoubleSide&&go.layers.test(On.layers)){const xo=uo.side;uo.side=BackSide,uo.needsUpdate=!0,bu(go,Nn,On,Bn,uo,$r),uo.side=xo,uo.needsUpdate=!0,Wr=!0}}Wr===!0&&(tn.updateMultisampleRenderTarget(ar),tn.updateRenderTargetMipmap(ar))}Ut.setRenderTarget(Pr),Ut.setClearColor(wn,Mn),qr!==void 0&&(On.viewport=qr),Ut.toneMapping=Ir}function wl(en,Sn,Nn){const On=Sn.isScene===!0?Sn.overrideMaterial:null;for(let En=0,ar=en.length;En<ar;En++){const _r=en[En],Pr=_r.object,Ir=_r.geometry,qr=_r.group;let Wr=_r.material;Wr.allowOverride===!0&&On!==null&&(Wr=On),Pr.layers.test(Nn.layers)&&bu(Pr,Sn,Nn,Ir,Wr,qr)}}function bu(en,Sn,Nn,On,En,ar){en.onBeforeRender(Ut,Sn,Nn,On,En,ar),en.modelViewMatrix.multiplyMatrices(Nn.matrixWorldInverse,en.matrixWorld),en.normalMatrix.getNormalMatrix(en.modelViewMatrix),En.onBeforeRender(Ut,Sn,Nn,On,en,ar),En.transparent===!0&&En.side===DoubleSide&&En.forceSinglePass===!1?(En.side=BackSide,En.needsUpdate=!0,Ut.renderBufferDirect(Nn,Sn,On,En,en,ar),En.side=FrontSide,En.needsUpdate=!0,Ut.renderBufferDirect(Nn,Sn,On,En,en,ar),En.side=DoubleSide):Ut.renderBufferDirect(Nn,Sn,On,En,en,ar),en.onAfterRender(Ut,Sn,Nn,On,En,ar)}function au(en,Sn,Nn){Sn.isScene!==!0&&(Sn=mr);const On=Xn.get(en),En=bt.state.lights,ar=bt.state.shadowsArray,_r=En.state.version,Pr=Jn.getParameters(en,En.state,ar,Sn,Nn),Ir=Jn.getProgramCacheKey(Pr);let qr=On.programs;On.environment=en.isMeshStandardMaterial?Sn.environment:null,On.fog=Sn.fog,On.envMap=(en.isMeshStandardMaterial?hn:Qt).get(en.envMap||On.environment),On.envMapRotation=On.environment!==null&&en.envMap===null?Sn.environmentRotation:en.envMapRotation,qr===void 0&&(en.addEventListener("dispose",zr),qr=new Map,On.programs=qr);let Wr=qr.get(Ir);if(Wr!==void 0){if(On.currentProgram===Wr&&On.lightsStateVersion===_r)return vp(en,Pr),Wr}else Pr.uniforms=Jn.getUniforms(en),en.onBeforeCompile(Pr,Ut),Wr=Jn.acquireProgram(Pr,Ir),qr.set(Ir,Wr),On.uniforms=Pr.uniforms;const xr=On.uniforms;return(!en.isShaderMaterial&&!en.isRawShaderMaterial||en.clipping===!0)&&(xr.clippingPlanes=Qn.uniform),vp(en,Pr),On.needsLights=yp(en),On.lightsStateVersion=_r,On.needsLights&&(xr.ambientLightColor.value=En.state.ambient,xr.lightProbe.value=En.state.probe,xr.directionalLights.value=En.state.directional,xr.directionalLightShadows.value=En.state.directionalShadow,xr.spotLights.value=En.state.spot,xr.spotLightShadows.value=En.state.spotShadow,xr.rectAreaLights.value=En.state.rectArea,xr.ltc_1.value=En.state.rectAreaLTC1,xr.ltc_2.value=En.state.rectAreaLTC2,xr.pointLights.value=En.state.point,xr.pointLightShadows.value=En.state.pointShadow,xr.hemisphereLights.value=En.state.hemi,xr.directionalShadowMap.value=En.state.directionalShadowMap,xr.directionalShadowMatrix.value=En.state.directionalShadowMatrix,xr.spotShadowMap.value=En.state.spotShadowMap,xr.spotLightMatrix.value=En.state.spotLightMatrix,xr.spotLightMap.value=En.state.spotLightMap,xr.pointShadowMap.value=En.state.pointShadowMap,xr.pointShadowMatrix.value=En.state.pointShadowMatrix),On.currentProgram=Wr,On.uniformsList=null,Wr}function lu(en){if(en.uniformsList===null){const Sn=en.currentProgram.getUniforms();en.uniformsList=WebGLUniforms.seqWithValue(Sn.seq,en.uniforms)}return en.uniformsList}function vp(en,Sn){const Nn=Xn.get(en);Nn.outputColorSpace=Sn.outputColorSpace,Nn.batching=Sn.batching,Nn.batchingColor=Sn.batchingColor,Nn.instancing=Sn.instancing,Nn.instancingColor=Sn.instancingColor,Nn.instancingMorph=Sn.instancingMorph,Nn.skinning=Sn.skinning,Nn.morphTargets=Sn.morphTargets,Nn.morphNormals=Sn.morphNormals,Nn.morphColors=Sn.morphColors,Nn.morphTargetsCount=Sn.morphTargetsCount,Nn.numClippingPlanes=Sn.numClippingPlanes,Nn.numIntersection=Sn.numClipIntersection,Nn.vertexAlphas=Sn.vertexAlphas,Nn.vertexTangents=Sn.vertexTangents,Nn.toneMapping=Sn.toneMapping}function c0(en,Sn,Nn,On,En){Sn.isScene!==!0&&(Sn=mr),tn.resetTextureUnits();const ar=Sn.fog,_r=On.isMeshStandardMaterial?Sn.environment:null,Pr=Yt===null?Ut.outputColorSpace:Yt.isXRRenderTarget===!0?Yt.texture.colorSpace:LinearSRGBColorSpace,Ir=(On.isMeshStandardMaterial?hn:Qt).get(On.envMap||_r),qr=On.vertexColors===!0&&!!Nn.attributes.color&&Nn.attributes.color.itemSize===4,Wr=!!Nn.attributes.tangent&&(!!On.normalMap||On.anisotropy>0),xr=!!Nn.morphAttributes.position,Ur=!!Nn.morphAttributes.normal,lo=!!Nn.morphAttributes.color;let go=NoToneMapping;On.toneMapped&&(Yt===null||Yt.isXRRenderTarget===!0)&&(go=Ut.toneMapping);const Bn=Nn.morphAttributes.position||Nn.morphAttributes.normal||Nn.morphAttributes.color,uo=Bn!==void 0?Bn.length:0,$r=Xn.get(On),xo=bt.state.lights;if(jn===!0&&(or===!0||en!==jt)){const Wo=en===jt&&On.id===Kt;Qn.setState(On,en,Wo)}let yo=!1;On.version===$r.__version?($r.needsLights&&$r.lightsStateVersion!==xo.state.version||$r.outputColorSpace!==Pr||En.isBatchedMesh&&$r.batching===!1||!En.isBatchedMesh&&$r.batching===!0||En.isBatchedMesh&&$r.batchingColor===!0&&En.colorTexture===null||En.isBatchedMesh&&$r.batchingColor===!1&&En.colorTexture!==null||En.isInstancedMesh&&$r.instancing===!1||!En.isInstancedMesh&&$r.instancing===!0||En.isSkinnedMesh&&$r.skinning===!1||!En.isSkinnedMesh&&$r.skinning===!0||En.isInstancedMesh&&$r.instancingColor===!0&&En.instanceColor===null||En.isInstancedMesh&&$r.instancingColor===!1&&En.instanceColor!==null||En.isInstancedMesh&&$r.instancingMorph===!0&&En.morphTexture===null||En.isInstancedMesh&&$r.instancingMorph===!1&&En.morphTexture!==null||$r.envMap!==Ir||On.fog===!0&&$r.fog!==ar||$r.numClippingPlanes!==void 0&&($r.numClippingPlanes!==Qn.numPlanes||$r.numIntersection!==Qn.numIntersection)||$r.vertexAlphas!==qr||$r.vertexTangents!==Wr||$r.morphTargets!==xr||$r.morphNormals!==Ur||$r.morphColors!==lo||$r.toneMapping!==go||$r.morphTargetsCount!==uo)&&(yo=!0):(yo=!0,$r.__version=On.version);let ys=$r.currentProgram;yo===!0&&(ys=au(On,Sn,En));let Hl=!1,Ho=!1,uu=!1;const vo=ys.getUniforms(),cr=$r.uniforms;if(Dn.useProgram(ys.program)&&(Hl=!0,Ho=!0,uu=!0),On.id!==Kt&&(Kt=On.id,Ho=!0),Hl||jt!==en){Dn.buffers.depth.getReversed()?(er.copy(en.projectionMatrix),toNormalizedProjectionMatrix(er),toReversedProjectionMatrix(er),vo.setValue(nn,"projectionMatrix",er)):vo.setValue(nn,"projectionMatrix",en.projectionMatrix),vo.setValue(nn,"viewMatrix",en.matrixWorldInverse);const Do=vo.map.cameraPosition;Do!==void 0&&Do.setValue(nn,kr.setFromMatrixPosition(en.matrixWorld)),Yn.logarithmicDepthBuffer&&vo.setValue(nn,"logDepthBufFC",2/(Math.log(en.far+1)/Math.LN2)),(On.isMeshPhongMaterial||On.isMeshToonMaterial||On.isMeshLambertMaterial||On.isMeshBasicMaterial||On.isMeshStandardMaterial||On.isShaderMaterial)&&vo.setValue(nn,"isOrthographic",en.isOrthographicCamera===!0),jt!==en&&(jt=en,Ho=!0,uu=!0)}if(En.isSkinnedMesh){vo.setOptional(nn,En,"bindMatrix"),vo.setOptional(nn,En,"bindMatrixInverse");const Wo=En.skeleton;Wo&&(Wo.boneTexture===null&&Wo.computeBoneTexture(),vo.setValue(nn,"boneTexture",Wo.boneTexture,tn))}En.isBatchedMesh&&(vo.setOptional(nn,En,"batchingTexture"),vo.setValue(nn,"batchingTexture",En._matricesTexture,tn),vo.setOptional(nn,En,"batchingIdTexture"),vo.setValue(nn,"batchingIdTexture",En._indirectTexture,tn),vo.setOptional(nn,En,"batchingColorTexture"),En._colorsTexture!==null&&vo.setValue(nn,"batchingColorTexture",En._colorsTexture,tn));const Co=Nn.morphAttributes;if((Co.position!==void 0||Co.normal!==void 0||Co.color!==void 0)&&Or.update(En,Nn,ys),(Ho||$r.receiveShadow!==En.receiveShadow)&&($r.receiveShadow=En.receiveShadow,vo.setValue(nn,"receiveShadow",En.receiveShadow)),On.isMeshGouraudMaterial&&On.envMap!==null&&(cr.envMap.value=Ir,cr.flipEnvMap.value=Ir.isCubeTexture&&Ir.isRenderTargetTexture===!1?-1:1),On.isMeshStandardMaterial&&On.envMap===null&&Sn.environment!==null&&(cr.envMapIntensity.value=Sn.environmentIntensity),Ho&&(vo.setValue(nn,"toneMappingExposure",Ut.toneMappingExposure),$r.needsLights&&_p(cr,uu),ar&&On.fog===!0&&$n.refreshFogUniforms(cr,ar),$n.refreshMaterialUniforms(cr,On,rn,kn,bt.state.transmissionRenderTarget[en.id]),WebGLUniforms.upload(nn,lu($r),cr,tn)),On.isShaderMaterial&&On.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(nn,lu($r),cr,tn),On.uniformsNeedUpdate=!1),On.isSpriteMaterial&&vo.setValue(nn,"center",En.center),vo.setValue(nn,"modelViewMatrix",En.modelViewMatrix),vo.setValue(nn,"normalMatrix",En.normalMatrix),vo.setValue(nn,"modelMatrix",En.matrixWorld),On.isShaderMaterial||On.isRawShaderMaterial){const Wo=On.uniformsGroups;for(let Do=0,cu=Wo.length;Do<cu;Do++){const xs=Wo[Do];an.update(xs,ys),an.bind(xs,ys)}}return ys}function _p(en,Sn){en.ambientLightColor.needsUpdate=Sn,en.lightProbe.needsUpdate=Sn,en.directionalLights.needsUpdate=Sn,en.directionalLightShadows.needsUpdate=Sn,en.pointLights.needsUpdate=Sn,en.pointLightShadows.needsUpdate=Sn,en.spotLights.needsUpdate=Sn,en.spotLightShadows.needsUpdate=Sn,en.rectAreaLights.needsUpdate=Sn,en.hemisphereLights.needsUpdate=Sn}function yp(en){return en.isMeshLambertMaterial||en.isMeshToonMaterial||en.isMeshPhongMaterial||en.isMeshStandardMaterial||en.isShadowMaterial||en.isShaderMaterial&&en.lights===!0}this.getActiveCubeFace=function(){return Gt},this.getActiveMipmapLevel=function(){return Xt},this.getRenderTarget=function(){return Yt},this.setRenderTargetTextures=function(en,Sn,Nn){const On=Xn.get(en);On.__autoAllocateDepthBuffer=en.resolveDepthBuffer===!1,On.__autoAllocateDepthBuffer===!1&&(On.__useRenderToTexture=!1),Xn.get(en.texture).__webglTexture=Sn,Xn.get(en.depthTexture).__webglTexture=On.__autoAllocateDepthBuffer?void 0:Nn,On.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(en,Sn){const Nn=Xn.get(en);Nn.__webglFramebuffer=Sn,Nn.__useDefaultFramebuffer=Sn===void 0};const dm=nn.createFramebuffer();this.setRenderTarget=function(en,Sn=0,Nn=0){Yt=en,Gt=Sn,Xt=Nn;let On=!0,En=null,ar=!1,_r=!1;if(en){const Ir=Xn.get(en);if(Ir.__useDefaultFramebuffer!==void 0)Dn.bindFramebuffer(nn.FRAMEBUFFER,null),On=!1;else if(Ir.__webglFramebuffer===void 0)tn.setupRenderTarget(en);else if(Ir.__hasExternalTextures)tn.rebindTextures(en,Xn.get(en.texture).__webglTexture,Xn.get(en.depthTexture).__webglTexture);else if(en.depthBuffer){const xr=en.depthTexture;if(Ir.__boundDepthTexture!==xr){if(xr!==null&&Xn.has(xr)&&(en.width!==xr.image.width||en.height!==xr.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");tn.setupDepthRenderbuffer(en)}}const qr=en.texture;(qr.isData3DTexture||qr.isDataArrayTexture||qr.isCompressedArrayTexture)&&(_r=!0);const Wr=Xn.get(en).__webglFramebuffer;en.isWebGLCubeRenderTarget?(Array.isArray(Wr[Sn])?En=Wr[Sn][Nn]:En=Wr[Sn],ar=!0):en.samples>0&&tn.useMultisampledRTT(en)===!1?En=Xn.get(en).__webglMultisampledFramebuffer:Array.isArray(Wr)?En=Wr[Nn]:En=Wr,Jt.copy(en.viewport),fn.copy(en.scissor),sn=en.scissorTest}else Jt.copy(Rn).multiplyScalar(rn).floor(),fn.copy(zn).multiplyScalar(rn).floor(),sn=ir;if(Nn!==0&&(En=dm),Dn.bindFramebuffer(nn.FRAMEBUFFER,En)&&On&&Dn.drawBuffers(en,En),Dn.viewport(Jt),Dn.scissor(fn),Dn.setScissorTest(sn),ar){const Ir=Xn.get(en.texture);nn.framebufferTexture2D(nn.FRAMEBUFFER,nn.COLOR_ATTACHMENT0,nn.TEXTURE_CUBE_MAP_POSITIVE_X+Sn,Ir.__webglTexture,Nn)}else if(_r){const Ir=Xn.get(en.texture),qr=Sn;nn.framebufferTextureLayer(nn.FRAMEBUFFER,nn.COLOR_ATTACHMENT0,Ir.__webglTexture,Nn,qr)}else if(en!==null&&Nn!==0){const Ir=Xn.get(en.texture);nn.framebufferTexture2D(nn.FRAMEBUFFER,nn.COLOR_ATTACHMENT0,nn.TEXTURE_2D,Ir.__webglTexture,Nn)}Kt=-1},this.readRenderTargetPixels=function(en,Sn,Nn,On,En,ar,_r){if(!(en&&en.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Pr=Xn.get(en).__webglFramebuffer;if(en.isWebGLCubeRenderTarget&&_r!==void 0&&(Pr=Pr[_r]),Pr){Dn.bindFramebuffer(nn.FRAMEBUFFER,Pr);try{const Ir=en.texture,qr=Ir.format,Wr=Ir.type;if(!Yn.textureFormatReadable(qr)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Yn.textureTypeReadable(Wr)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Sn>=0&&Sn<=en.width-On&&Nn>=0&&Nn<=en.height-En&&nn.readPixels(Sn,Nn,On,En,Hn.convert(qr),Hn.convert(Wr),ar)}finally{const Ir=Yt!==null?Xn.get(Yt).__webglFramebuffer:null;Dn.bindFramebuffer(nn.FRAMEBUFFER,Ir)}}},this.readRenderTargetPixelsAsync=async function(en,Sn,Nn,On,En,ar,_r){if(!(en&&en.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Pr=Xn.get(en).__webglFramebuffer;if(en.isWebGLCubeRenderTarget&&_r!==void 0&&(Pr=Pr[_r]),Pr)if(Sn>=0&&Sn<=en.width-On&&Nn>=0&&Nn<=en.height-En){Dn.bindFramebuffer(nn.FRAMEBUFFER,Pr);const Ir=en.texture,qr=Ir.format,Wr=Ir.type;if(!Yn.textureFormatReadable(qr))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Yn.textureTypeReadable(Wr))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const xr=nn.createBuffer();nn.bindBuffer(nn.PIXEL_PACK_BUFFER,xr),nn.bufferData(nn.PIXEL_PACK_BUFFER,ar.byteLength,nn.STREAM_READ),nn.readPixels(Sn,Nn,On,En,Hn.convert(qr),Hn.convert(Wr),0);const Ur=Yt!==null?Xn.get(Yt).__webglFramebuffer:null;Dn.bindFramebuffer(nn.FRAMEBUFFER,Ur);const lo=nn.fenceSync(nn.SYNC_GPU_COMMANDS_COMPLETE,0);return nn.flush(),await probeAsync(nn,lo,4),nn.bindBuffer(nn.PIXEL_PACK_BUFFER,xr),nn.getBufferSubData(nn.PIXEL_PACK_BUFFER,0,ar),nn.deleteBuffer(xr),nn.deleteSync(lo),ar}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(en,Sn=null,Nn=0){const On=Math.pow(2,-Nn),En=Math.floor(en.image.width*On),ar=Math.floor(en.image.height*On),_r=Sn!==null?Sn.x:0,Pr=Sn!==null?Sn.y:0;tn.setTexture2D(en,0),nn.copyTexSubImage2D(nn.TEXTURE_2D,Nn,0,0,_r,Pr,En,ar),Dn.unbindTexture()};const eo=nn.createFramebuffer(),y1=nn.createFramebuffer();this.copyTextureToTexture=function(en,Sn,Nn=null,On=null,En=0,ar=null){ar===null&&(En!==0?(warnOnce("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ar=En,En=0):ar=0);let _r,Pr,Ir,qr,Wr,xr,Ur,lo,go;const Bn=en.isCompressedTexture?en.mipmaps[ar]:en.image;if(Nn!==null)_r=Nn.max.x-Nn.min.x,Pr=Nn.max.y-Nn.min.y,Ir=Nn.isBox3?Nn.max.z-Nn.min.z:1,qr=Nn.min.x,Wr=Nn.min.y,xr=Nn.isBox3?Nn.min.z:0;else{const Co=Math.pow(2,-En);_r=Math.floor(Bn.width*Co),Pr=Math.floor(Bn.height*Co),en.isDataArrayTexture?Ir=Bn.depth:en.isData3DTexture?Ir=Math.floor(Bn.depth*Co):Ir=1,qr=0,Wr=0,xr=0}On!==null?(Ur=On.x,lo=On.y,go=On.z):(Ur=0,lo=0,go=0);const uo=Hn.convert(Sn.format),$r=Hn.convert(Sn.type);let xo;Sn.isData3DTexture?(tn.setTexture3D(Sn,0),xo=nn.TEXTURE_3D):Sn.isDataArrayTexture||Sn.isCompressedArrayTexture?(tn.setTexture2DArray(Sn,0),xo=nn.TEXTURE_2D_ARRAY):(tn.setTexture2D(Sn,0),xo=nn.TEXTURE_2D),nn.pixelStorei(nn.UNPACK_FLIP_Y_WEBGL,Sn.flipY),nn.pixelStorei(nn.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Sn.premultiplyAlpha),nn.pixelStorei(nn.UNPACK_ALIGNMENT,Sn.unpackAlignment);const yo=nn.getParameter(nn.UNPACK_ROW_LENGTH),ys=nn.getParameter(nn.UNPACK_IMAGE_HEIGHT),Hl=nn.getParameter(nn.UNPACK_SKIP_PIXELS),Ho=nn.getParameter(nn.UNPACK_SKIP_ROWS),uu=nn.getParameter(nn.UNPACK_SKIP_IMAGES);nn.pixelStorei(nn.UNPACK_ROW_LENGTH,Bn.width),nn.pixelStorei(nn.UNPACK_IMAGE_HEIGHT,Bn.height),nn.pixelStorei(nn.UNPACK_SKIP_PIXELS,qr),nn.pixelStorei(nn.UNPACK_SKIP_ROWS,Wr),nn.pixelStorei(nn.UNPACK_SKIP_IMAGES,xr);const vo=en.isDataArrayTexture||en.isData3DTexture,cr=Sn.isDataArrayTexture||Sn.isData3DTexture;if(en.isDepthTexture){const Co=Xn.get(en),Wo=Xn.get(Sn),Do=Xn.get(Co.__renderTarget),cu=Xn.get(Wo.__renderTarget);Dn.bindFramebuffer(nn.READ_FRAMEBUFFER,Do.__webglFramebuffer),Dn.bindFramebuffer(nn.DRAW_FRAMEBUFFER,cu.__webglFramebuffer);for(let xs=0;xs<Ir;xs++)vo&&(nn.framebufferTextureLayer(nn.READ_FRAMEBUFFER,nn.COLOR_ATTACHMENT0,Xn.get(en).__webglTexture,En,xr+xs),nn.framebufferTextureLayer(nn.DRAW_FRAMEBUFFER,nn.COLOR_ATTACHMENT0,Xn.get(Sn).__webglTexture,ar,go+xs)),nn.blitFramebuffer(qr,Wr,_r,Pr,Ur,lo,_r,Pr,nn.DEPTH_BUFFER_BIT,nn.NEAREST);Dn.bindFramebuffer(nn.READ_FRAMEBUFFER,null),Dn.bindFramebuffer(nn.DRAW_FRAMEBUFFER,null)}else if(En!==0||en.isRenderTargetTexture||Xn.has(en)){const Co=Xn.get(en),Wo=Xn.get(Sn);Dn.bindFramebuffer(nn.READ_FRAMEBUFFER,eo),Dn.bindFramebuffer(nn.DRAW_FRAMEBUFFER,y1);for(let Do=0;Do<Ir;Do++)vo?nn.framebufferTextureLayer(nn.READ_FRAMEBUFFER,nn.COLOR_ATTACHMENT0,Co.__webglTexture,En,xr+Do):nn.framebufferTexture2D(nn.READ_FRAMEBUFFER,nn.COLOR_ATTACHMENT0,nn.TEXTURE_2D,Co.__webglTexture,En),cr?nn.framebufferTextureLayer(nn.DRAW_FRAMEBUFFER,nn.COLOR_ATTACHMENT0,Wo.__webglTexture,ar,go+Do):nn.framebufferTexture2D(nn.DRAW_FRAMEBUFFER,nn.COLOR_ATTACHMENT0,nn.TEXTURE_2D,Wo.__webglTexture,ar),En!==0?nn.blitFramebuffer(qr,Wr,_r,Pr,Ur,lo,_r,Pr,nn.COLOR_BUFFER_BIT,nn.NEAREST):cr?nn.copyTexSubImage3D(xo,ar,Ur,lo,go+Do,qr,Wr,_r,Pr):nn.copyTexSubImage2D(xo,ar,Ur,lo,qr,Wr,_r,Pr);Dn.bindFramebuffer(nn.READ_FRAMEBUFFER,null),Dn.bindFramebuffer(nn.DRAW_FRAMEBUFFER,null)}else cr?en.isDataTexture||en.isData3DTexture?nn.texSubImage3D(xo,ar,Ur,lo,go,_r,Pr,Ir,uo,$r,Bn.data):Sn.isCompressedArrayTexture?nn.compressedTexSubImage3D(xo,ar,Ur,lo,go,_r,Pr,Ir,uo,Bn.data):nn.texSubImage3D(xo,ar,Ur,lo,go,_r,Pr,Ir,uo,$r,Bn):en.isDataTexture?nn.texSubImage2D(nn.TEXTURE_2D,ar,Ur,lo,_r,Pr,uo,$r,Bn.data):en.isCompressedTexture?nn.compressedTexSubImage2D(nn.TEXTURE_2D,ar,Ur,lo,Bn.width,Bn.height,uo,Bn.data):nn.texSubImage2D(nn.TEXTURE_2D,ar,Ur,lo,_r,Pr,uo,$r,Bn);nn.pixelStorei(nn.UNPACK_ROW_LENGTH,yo),nn.pixelStorei(nn.UNPACK_IMAGE_HEIGHT,ys),nn.pixelStorei(nn.UNPACK_SKIP_PIXELS,Hl),nn.pixelStorei(nn.UNPACK_SKIP_ROWS,Ho),nn.pixelStorei(nn.UNPACK_SKIP_IMAGES,uu),ar===0&&Sn.generateMipmaps&&nn.generateMipmap(xo),Dn.unbindTexture()},this.copyTextureToTexture3D=function(en,Sn,Nn=null,On=null,En=0){return warnOnce('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(en,Sn,Nn,On,En)},this.initRenderTarget=function(en){Xn.get(en).__webglFramebuffer===void 0&&tn.setupRenderTarget(en)},this.initTexture=function(en){en.isCubeTexture?tn.setTextureCube(en,0):en.isData3DTexture?tn.setTexture3D(en,0):en.isDataArrayTexture||en.isCompressedArrayTexture?tn.setTexture2DArray(en,0):tn.setTexture2D(en,0),Dn.unbindTexture()},this.resetState=function(){Gt=0,Xt=0,Yt=null,Dn.reset(),lr.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return WebGLCoordinateSystem}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const s=this.getContext();s.drawingBufferColorSpace=ColorManagement._getDrawingBufferColorSpace(e),s.unpackColorSpace=ColorManagement._getUnpackColorSpace()}}const THREE=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AgXToneMapping,AlphaFormat,AlwaysCompare,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AnimationAction,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,AttachedBindMode,Audio:Audio$1,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,BatchedMesh,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleGeometry,ClampToEdgeWrapping,Clock,Color,ColorKeyframeTrack,ColorManagement,CompressedArrayTexture,CompressedCubeTexture,CompressedTexture,CompressedTextureLoader,ConeGeometry,ConstantAlphaFactor,ConstantColorFactor,Controls,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CustomToneMapping,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthArrayTexture,DepthFormat,DepthStencilFormat,DepthTexture,DetachedBindMode,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualCompare,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher:EventDispatcher$1,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,FrustumArray,GLBufferAttribute,GLSL1,GLSL3,GreaterCompare,GreaterDepth,GreaterEqualCompare,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InterpolationSamplingMode,InterpolationSamplingType,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheGeometry,Layers,LessCompare,LessDepth,LessEqualCompare,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace,LinearToneMapping,LinearTransfer,Loader,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,MOUSE,Material,MaterialLoader,MathUtils,Matrix2,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeutralToneMapping,NeverCompare,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualCompare,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronGeometry,OneFactor,OneMinusConstantAlphaFactor,OneMinusConstantColorFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path,PerspectiveCamera,Plane,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,RED_GREEN_RGTC2_Format,RED_RGTC1_Format,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGBDepthPacking,RGBFormat,RGBIntegerFormat,RGB_BPTC_SIGNED_Format,RGB_BPTC_UNSIGNED_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGDepthPacking,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RenderTarget,RenderTarget3D,RenderTargetArray,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingGeometry,SIGNED_RED_GREEN_RGTC2_Format,SIGNED_RED_RGTC1_Format,SRGBColorSpace,SRGBTransfer,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronGeometry,Texture,TextureLoader,TextureUtils,TimestampQuery,TorusGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeGeometry,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedInt5999Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoFrameTexture,VideoTexture,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCoordinateSystem,WebGLCubeRenderTarget,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WebGPUCoordinateSystem,WebXRController,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,createCanvasElement},Symbol.toStringTag,{value:"Module"}));var constants={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */reactReconcilerConstants_production_min.ConcurrentRoot=1;reactReconcilerConstants_production_min.ContinuousEventPriority=4;reactReconcilerConstants_production_min.DefaultEventPriority=16;reactReconcilerConstants_production_min.DiscreteEventPriority=1;reactReconcilerConstants_production_min.IdleEventPriority=536870912;reactReconcilerConstants_production_min.LegacyRoot=0;constants.exports=reactReconcilerConstants_production_min;var constantsExports=constants.exports;function createStore$2(c){let e;const s=new Set,d=(St,Tt)=>{const At=typeof St=="function"?St(e):St;if(At!==e){const Ct=e;e=Tt?At:Object.assign({},e,At),s.forEach(Rt=>Rt(e,Ct))}},nt=()=>e,o=(St,Tt=nt,At=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let Ct=Tt(e);function Rt(){const yt=Tt(e);if(!At(Ct,yt)){const Ot=Ct;St(Ct=yt,Ot)}}return s.add(Rt),()=>s.delete(Rt)},xt={setState:d,getState:nt,subscribe:(St,Tt,At)=>Tt||At?o(St,Tt,At):(s.add(St),()=>s.delete(St)),destroy:()=>s.clear()};return e=c(d,nt,xt),xt}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$1=isSSR?reactExports.useEffect:reactExports.useLayoutEffect;function create$1(c){const e=typeof c=="function"?createStore$2(c):c,s=(d=e.getState,nt=Object.is)=>{const[,o]=reactExports.useReducer(Nt=>Nt+1,0),ft=e.getState(),gt=reactExports.useRef(ft),xt=reactExports.useRef(d),St=reactExports.useRef(nt),Tt=reactExports.useRef(!1),At=reactExports.useRef();At.current===void 0&&(At.current=d(ft));let Ct,Rt=!1;(gt.current!==ft||xt.current!==d||St.current!==nt||Tt.current)&&(Ct=d(ft),Rt=!nt(At.current,Ct)),useIsomorphicLayoutEffect$1(()=>{Rt&&(At.current=Ct),gt.current=ft,xt.current=d,St.current=nt,Tt.current=!1});const yt=reactExports.useRef(ft);useIsomorphicLayoutEffect$1(()=>{const Nt=()=>{try{const Dt=e.getState(),Ft=xt.current(Dt);St.current(At.current,Ft)||(gt.current=Dt,At.current=Ft,o())}catch{Tt.current=!0,o()}},bt=e.subscribe(Nt);return e.getState()!==yt.current&&Nt(),bt},[]);const Ot=Rt?Ct:At.current;return reactExports.useDebugValue(Ot),Ot};return Object.assign(s,e),s[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const d=[s,e];return{next(){const nt=d.length<=0;return{value:d.shift(),done:nt}}}},s}const isPromise=c=>typeof c=="object"&&typeof c.then=="function",globalCache=[];function shallowEqualArrays(c,e,s=(d,nt)=>d===nt){if(c===e)return!0;if(!c||!e)return!1;const d=c.length;if(e.length!==d)return!1;for(let nt=0;nt<d;nt++)if(!s(c[nt],e[nt]))return!1;return!0}function query(c,e=null,s=!1,d={}){e===null&&(e=[c]);for(const o of globalCache)if(shallowEqualArrays(e,o.keys,o.equal)){if(s)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return d.lifespan&&d.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,d.lifespan)),o.response;if(!s)throw o.promise}const nt={keys:e,equal:d.equal,remove:()=>{const o=globalCache.indexOf(nt);o!==-1&&globalCache.splice(o,1)},promise:(isPromise(c)?c:c(...e)).then(o=>{nt.response=o,d.lifespan&&d.lifespan>0&&(nt.timeout=setTimeout(nt.remove,d.lifespan))}).catch(o=>nt.error=o)};if(globalCache.push(nt),!s)throw nt.promise}const suspend=(c,e,s)=>query(c,e,!1,s),preload=(c,e,s)=>void query(c,e,!0,s),clear=c=>{if(c===void 0||c.length===0)globalCache.splice(0,globalCache.length);else{const e=globalCache.find(s=>shallowEqualArrays(c,s.keys,s.equal));e&&e.remove()}};var reactReconciler={exports:{}},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(c){function e(rn,un){var pn=rn.length;rn.push(un);e:for(;0<pn;){var Rn=pn-1>>>1,zn=rn[Rn];if(0<nt(zn,un))rn[Rn]=un,rn[pn]=zn,pn=Rn;else break e}}function s(rn){return rn.length===0?null:rn[0]}function d(rn){if(rn.length===0)return null;var un=rn[0],pn=rn.pop();if(pn!==un){rn[0]=pn;e:for(var Rn=0,zn=rn.length,ir=zn>>>1;Rn<ir;){var An=2*(Rn+1)-1,jn=rn[An],or=An+1,er=rn[or];if(0>nt(jn,pn))or<zn&&0>nt(er,jn)?(rn[Rn]=er,rn[or]=pn,Rn=or):(rn[Rn]=jn,rn[An]=pn,Rn=An);else if(or<zn&&0>nt(er,pn))rn[Rn]=er,rn[or]=pn,Rn=or;else break e}}return un}function nt(rn,un){var pn=rn.sortIndex-un.sortIndex;return pn!==0?pn:rn.id-un.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;c.unstable_now=function(){return o.now()}}else{var ft=Date,gt=ft.now();c.unstable_now=function(){return ft.now()-gt}}var xt=[],St=[],Tt=1,At=null,Ct=3,Rt=!1,yt=!1,Ot=!1,Nt=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,Dt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ft(rn){for(var un=s(St);un!==null;){if(un.callback===null)d(St);else if(un.startTime<=rn)d(St),un.sortIndex=un.expirationTime,e(xt,un);else break;un=s(St)}}function Ut(rn){if(Ot=!1,Ft(rn),!yt)if(s(xt)!==null)yt=!0,Tn(Wt);else{var un=s(St);un!==null&&kn(Ut,un.startTime-rn)}}function Wt(rn,un){yt=!1,Ot&&(Ot=!1,bt(Yt),Yt=-1),Rt=!0;var pn=Ct;try{for(Ft(un),At=s(xt);At!==null&&(!(At.expirationTime>un)||rn&&!Jt());){var Rn=At.callback;if(typeof Rn=="function"){At.callback=null,Ct=At.priorityLevel;var zn=Rn(At.expirationTime<=un);un=c.unstable_now(),typeof zn=="function"?At.callback=zn:At===s(xt)&&d(xt),Ft(un)}else d(xt);At=s(xt)}if(At!==null)var ir=!0;else{var An=s(St);An!==null&&kn(Ut,An.startTime-un),ir=!1}return ir}finally{At=null,Ct=pn,Rt=!1}}var Gt=!1,Xt=null,Yt=-1,Kt=5,jt=-1;function Jt(){return!(c.unstable_now()-jt<Kt)}function fn(){if(Xt!==null){var rn=c.unstable_now();jt=rn;var un=!0;try{un=Xt(!0,rn)}finally{un?sn():(Gt=!1,Xt=null)}}else Gt=!1}var sn;if(typeof Dt=="function")sn=function(){Dt(fn)};else if(typeof MessageChannel<"u"){var wn=new MessageChannel,Mn=wn.port2;wn.port1.onmessage=fn,sn=function(){Mn.postMessage(null)}}else sn=function(){Nt(fn,0)};function Tn(rn){Xt=rn,Gt||(Gt=!0,sn())}function kn(rn,un){Yt=Nt(function(){rn(c.unstable_now())},un)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(rn){rn.callback=null},c.unstable_continueExecution=function(){yt||Rt||(yt=!0,Tn(Wt))},c.unstable_forceFrameRate=function(rn){0>rn||125<rn?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Kt=0<rn?Math.floor(1e3/rn):5},c.unstable_getCurrentPriorityLevel=function(){return Ct},c.unstable_getFirstCallbackNode=function(){return s(xt)},c.unstable_next=function(rn){switch(Ct){case 1:case 2:case 3:var un=3;break;default:un=Ct}var pn=Ct;Ct=un;try{return rn()}finally{Ct=pn}},c.unstable_pauseExecution=function(){},c.unstable_requestPaint=function(){},c.unstable_runWithPriority=function(rn,un){switch(rn){case 1:case 2:case 3:case 4:case 5:break;default:rn=3}var pn=Ct;Ct=rn;try{return un()}finally{Ct=pn}},c.unstable_scheduleCallback=function(rn,un,pn){var Rn=c.unstable_now();switch(typeof pn=="object"&&pn!==null?(pn=pn.delay,pn=typeof pn=="number"&&0<pn?Rn+pn:Rn):pn=Rn,rn){case 1:var zn=-1;break;case 2:zn=250;break;case 5:zn=1073741823;break;case 4:zn=1e4;break;default:zn=5e3}return zn=pn+zn,rn={id:Tt++,callback:un,priorityLevel:rn,startTime:pn,expirationTime:zn,sortIndex:-1},pn>Rn?(rn.sortIndex=pn,e(St,rn),s(xt)===null&&rn===s(St)&&(Ot?(bt(Yt),Yt=-1):Ot=!0,kn(Ut,pn-Rn))):(rn.sortIndex=zn,e(xt,rn),yt||Rt||(yt=!0,Tn(Wt))),rn},c.unstable_shouldYield=Jt,c.unstable_wrapCallback=function(rn){var un=Ct;return function(){var pn=Ct;Ct=un;try{return rn.apply(this,arguments)}finally{Ct=pn}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min=function(e){var s={},d=reactExports,nt=schedulerExports,o=Object.assign;function ft(Et){for(var Mt="https://reactjs.org/docs/error-decoder.html?invariant="+Et,kt=1;kt<arguments.length;kt++)Mt+="&args[]="+encodeURIComponent(arguments[kt]);return"Minified React error #"+Et+"; visit "+Mt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gt=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xt=Symbol.for("react.element"),St=Symbol.for("react.portal"),Tt=Symbol.for("react.fragment"),At=Symbol.for("react.strict_mode"),Ct=Symbol.for("react.profiler"),Rt=Symbol.for("react.provider"),yt=Symbol.for("react.context"),Ot=Symbol.for("react.forward_ref"),Nt=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),Dt=Symbol.for("react.memo"),Ft=Symbol.for("react.lazy"),Ut=Symbol.for("react.offscreen"),Wt=Symbol.iterator;function Gt(Et){return Et===null||typeof Et!="object"?null:(Et=Wt&&Et[Wt]||Et["@@iterator"],typeof Et=="function"?Et:null)}function Xt(Et){if(Et==null)return null;if(typeof Et=="function")return Et.displayName||Et.name||null;if(typeof Et=="string")return Et;switch(Et){case Tt:return"Fragment";case St:return"Portal";case Ct:return"Profiler";case At:return"StrictMode";case Nt:return"Suspense";case bt:return"SuspenseList"}if(typeof Et=="object")switch(Et.$$typeof){case yt:return(Et.displayName||"Context")+".Consumer";case Rt:return(Et._context.displayName||"Context")+".Provider";case Ot:var Mt=Et.render;return Et=Et.displayName,Et||(Et=Mt.displayName||Mt.name||"",Et=Et!==""?"ForwardRef("+Et+")":"ForwardRef"),Et;case Dt:return Mt=Et.displayName||null,Mt!==null?Mt:Xt(Et.type)||"Memo";case Ft:Mt=Et._payload,Et=Et._init;try{return Xt(Et(Mt))}catch{}}return null}function Yt(Et){var Mt=Et.type;switch(Et.tag){case 24:return"Cache";case 9:return(Mt.displayName||"Context")+".Consumer";case 10:return(Mt._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return Et=Mt.render,Et=Et.displayName||Et.name||"",Mt.displayName||(Et!==""?"ForwardRef("+Et+")":"ForwardRef");case 7:return"Fragment";case 5:return Mt;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xt(Mt);case 8:return Mt===At?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof Mt=="function")return Mt.displayName||Mt.name||null;if(typeof Mt=="string")return Mt}return null}function Kt(Et){var Mt=Et,kt=Et;if(Et.alternate)for(;Mt.return;)Mt=Mt.return;else{Et=Mt;do Mt=Et,Mt.flags&4098&&(kt=Mt.return),Et=Mt.return;while(Et)}return Mt.tag===3?kt:null}function jt(Et){if(Kt(Et)!==Et)throw Error(ft(188))}function Jt(Et){var Mt=Et.alternate;if(!Mt){if(Mt=Kt(Et),Mt===null)throw Error(ft(188));return Mt!==Et?null:Et}for(var kt=Et,Bt=Mt;;){var $t=kt.return;if($t===null)break;var qt=$t.alternate;if(qt===null){if(Bt=$t.return,Bt!==null){kt=Bt;continue}break}if($t.child===qt.child){for(qt=$t.child;qt;){if(qt===kt)return jt($t),Et;if(qt===Bt)return jt($t),Mt;qt=qt.sibling}throw Error(ft(188))}if(kt.return!==Bt.return)kt=$t,Bt=qt;else{for(var on=!1,gn=$t.child;gn;){if(gn===kt){on=!0,kt=$t,Bt=qt;break}if(gn===Bt){on=!0,Bt=$t,kt=qt;break}gn=gn.sibling}if(!on){for(gn=qt.child;gn;){if(gn===kt){on=!0,kt=qt,Bt=$t;break}if(gn===Bt){on=!0,Bt=qt,kt=$t;break}gn=gn.sibling}if(!on)throw Error(ft(189))}}if(kt.alternate!==Bt)throw Error(ft(190))}if(kt.tag!==3)throw Error(ft(188));return kt.stateNode.current===kt?Et:Mt}function fn(Et){return Et=Jt(Et),Et!==null?sn(Et):null}function sn(Et){if(Et.tag===5||Et.tag===6)return Et;for(Et=Et.child;Et!==null;){var Mt=sn(Et);if(Mt!==null)return Mt;Et=Et.sibling}return null}function wn(Et){if(Et.tag===5||Et.tag===6)return Et;for(Et=Et.child;Et!==null;){if(Et.tag!==4){var Mt=wn(Et);if(Mt!==null)return Mt}Et=Et.sibling}return null}var Mn=Array.isArray,Tn=e.getPublicInstance,kn=e.getRootHostContext,rn=e.getChildHostContext,un=e.prepareForCommit,pn=e.resetAfterCommit,Rn=e.createInstance,zn=e.appendInitialChild,ir=e.finalizeInitialChildren,An=e.prepareUpdate,jn=e.shouldSetTextContent,or=e.createTextInstance,er=e.scheduleTimeout,gr=e.cancelTimeout,kr=e.noTimeout,dr=e.isPrimaryRenderer,mr=e.supportsMutation,It=e.supportsPersistence,Zn=e.supportsHydration,nn=e.getInstanceFromNode,nr=e.preparePortalMount,Kn=e.getCurrentEventPriority,Yn=e.detachDeletedInstance,Dn=e.supportsMicrotasks,vr=e.scheduleMicrotask,Xn=e.supportsTestSelectors,tn=e.findFiberRoot,Qt=e.getBoundingRect,hn=e.getTextContent,Pn=e.isHiddenSubtree,Gn=e.matchAccessibilityRole,yn=e.setFocusIfFocusable,Jn=e.setupIntersectionObserver,$n=e.appendChild,fr=e.appendChildToContainer,Lr=e.commitTextUpdate,Qn=e.commitMount,tr=e.commitUpdate,rr=e.insertBefore,Or=e.insertInContainerBefore,wr=e.removeChild,cn=e.removeChildFromContainer,Hn=e.resetTextContent,lr=e.hideInstance,an=e.hideTextInstance,sr=e.unhideInstance,Ln=e.unhideTextInstance,Wn=e.clearContainer,yr=e.cloneInstance,hr=e.createContainerChildSet,zr=e.appendChildToContainerChildSet,io=e.finalizeContainerChildren,_o=e.replaceContainerChildren,Jr=e.cloneHiddenInstance,Mo=e.cloneHiddenTextInstance,Ao=e.canHydrateInstance,Fs=e.canHydrateTextInstance,Ru=e.canHydrateSuspenseInstance,_s=e.isSuspenseInstancePending,Fr=e.isSuspenseInstanceFallback,Gl=e.registerSuspenseInstanceRetry,cs=e.getNextHydratableSibling,wl=e.getFirstHydratableChild,bu=e.getFirstHydratableChildWithinContainer,au=e.getFirstHydratableChildWithinSuspenseInstance,lu=e.hydrateInstance,vp=e.hydrateTextInstance,c0=e.hydrateSuspenseInstance,_p=e.getNextHydratableInstanceAfterSuspenseInstance,yp=e.commitHydratedContainer,dm=e.commitHydratedSuspenseInstance,eo=e.clearSuspenseBoundary,y1=e.clearSuspenseBoundaryFromContainer,en=e.shouldDeleteUnhydratedTailInstances,Sn=e.didNotMatchHydratedContainerTextInstance,Nn=e.didNotMatchHydratedTextInstance,On;function En(Et){if(On===void 0)try{throw Error()}catch(kt){var Mt=kt.stack.trim().match(/\n( *(at )?)/);On=Mt&&Mt[1]||""}return`
`+On+Et}var ar=!1;function _r(Et,Mt){if(!Et||ar)return"";ar=!0;var kt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(Mt)if(Mt=function(){throw Error()},Object.defineProperty(Mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Mt,[])}catch(ur){var Bt=ur}Reflect.construct(Et,[],Mt)}else{try{Mt.call()}catch(ur){Bt=ur}Et.call(Mt.prototype)}else{try{throw Error()}catch(ur){Bt=ur}Et()}}catch(ur){if(ur&&Bt&&typeof ur.stack=="string"){for(var $t=ur.stack.split(`
`),qt=Bt.stack.split(`
`),on=$t.length-1,gn=qt.length-1;1<=on&&0<=gn&&$t[on]!==qt[gn];)gn--;for(;1<=on&&0<=gn;on--,gn--)if($t[on]!==qt[gn]){if(on!==1||gn!==1)do if(on--,gn--,0>gn||$t[on]!==qt[gn]){var Vn=`
`+$t[on].replace(" at new "," at ");return Et.displayName&&Vn.includes("<anonymous>")&&(Vn=Vn.replace("<anonymous>",Et.displayName)),Vn}while(1<=on&&0<=gn);break}}}finally{ar=!1,Error.prepareStackTrace=kt}return(Et=Et?Et.displayName||Et.name:"")?En(Et):""}var Pr=Object.prototype.hasOwnProperty,Ir=[],qr=-1;function Wr(Et){return{current:Et}}function xr(Et){0>qr||(Et.current=Ir[qr],Ir[qr]=null,qr--)}function Ur(Et,Mt){qr++,Ir[qr]=Et.current,Et.current=Mt}var lo={},go=Wr(lo),Bn=Wr(!1),uo=lo;function $r(Et,Mt){var kt=Et.type.contextTypes;if(!kt)return lo;var Bt=Et.stateNode;if(Bt&&Bt.__reactInternalMemoizedUnmaskedChildContext===Mt)return Bt.__reactInternalMemoizedMaskedChildContext;var $t={},qt;for(qt in kt)$t[qt]=Mt[qt];return Bt&&(Et=Et.stateNode,Et.__reactInternalMemoizedUnmaskedChildContext=Mt,Et.__reactInternalMemoizedMaskedChildContext=$t),$t}function xo(Et){return Et=Et.childContextTypes,Et!=null}function yo(){xr(Bn),xr(go)}function ys(Et,Mt,kt){if(go.current!==lo)throw Error(ft(168));Ur(go,Mt),Ur(Bn,kt)}function Hl(Et,Mt,kt){var Bt=Et.stateNode;if(Mt=Mt.childContextTypes,typeof Bt.getChildContext!="function")return kt;Bt=Bt.getChildContext();for(var $t in Bt)if(!($t in Mt))throw Error(ft(108,Yt(Et)||"Unknown",$t));return o({},kt,Bt)}function Ho(Et){return Et=(Et=Et.stateNode)&&Et.__reactInternalMemoizedMergedChildContext||lo,uo=go.current,Ur(go,Et),Ur(Bn,Bn.current),!0}function uu(Et,Mt,kt){var Bt=Et.stateNode;if(!Bt)throw Error(ft(169));kt?(Et=Hl(Et,Mt,uo),Bt.__reactInternalMemoizedMergedChildContext=Et,xr(Bn),xr(go),Ur(go,Et)):xr(Bn),Ur(Bn,kt)}var vo=Math.clz32?Math.clz32:Wo,cr=Math.log,Co=Math.LN2;function Wo(Et){return Et>>>=0,Et===0?32:31-(cr(Et)/Co|0)|0}var Do=64,cu=4194304;function xs(Et){switch(Et&-Et){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Et&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return Et&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return Et}}function xp(Et,Mt){var kt=Et.pendingLanes;if(kt===0)return 0;var Bt=0,$t=Et.suspendedLanes,qt=Et.pingedLanes,on=kt&268435455;if(on!==0){var gn=on&~$t;gn!==0?Bt=xs(gn):(qt&=on,qt!==0&&(Bt=xs(qt)))}else on=kt&~$t,on!==0?Bt=xs(on):qt!==0&&(Bt=xs(qt));if(Bt===0)return 0;if(Mt!==0&&Mt!==Bt&&!(Mt&$t)&&($t=Bt&-Bt,qt=Mt&-Mt,$t>=qt||$t===16&&(qt&4194240)!==0))return Mt;if(Bt&4&&(Bt|=kt&16),Mt=Et.entangledLanes,Mt!==0)for(Et=Et.entanglements,Mt&=Bt;0<Mt;)kt=31-vo(Mt),$t=1<<kt,Bt|=Et[kt],Mt&=~$t;return Bt}function U2(Et,Mt){switch(Et){case 1:case 2:case 4:return Mt+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Mt+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x1(Et,Mt){for(var kt=Et.suspendedLanes,Bt=Et.pingedLanes,$t=Et.expirationTimes,qt=Et.pendingLanes;0<qt;){var on=31-vo(qt),gn=1<<on,Vn=$t[on];Vn===-1?(!(gn&kt)||gn&Bt)&&($t[on]=U2(gn,Mt)):Vn<=Mt&&(Et.expiredLanes|=gn),qt&=~gn}}function Qs(Et){return Et=Et.pendingLanes&-1073741825,Et!==0?Et:Et&1073741824?1073741824:0}function Zs(Et){for(var Mt=[],kt=0;31>kt;kt++)Mt.push(Et);return Mt}function f0(Et,Mt,kt){Et.pendingLanes|=Mt,Mt!==536870912&&(Et.suspendedLanes=0,Et.pingedLanes=0),Et=Et.eventTimes,Mt=31-vo(Mt),Et[Mt]=kt}function V2(Et,Mt){var kt=Et.pendingLanes&~Mt;Et.pendingLanes=Mt,Et.suspendedLanes=0,Et.pingedLanes=0,Et.expiredLanes&=Mt,Et.mutableReadLanes&=Mt,Et.entangledLanes&=Mt,Mt=Et.entanglements;var Bt=Et.eventTimes;for(Et=Et.expirationTimes;0<kt;){var $t=31-vo(kt),qt=1<<$t;Mt[$t]=0,Bt[$t]=-1,Et[$t]=-1,kt&=~qt}}function hm(Et,Mt){var kt=Et.entangledLanes|=Mt;for(Et=Et.entanglements;kt;){var Bt=31-vo(kt),$t=1<<Bt;$t&Mt|Et[Bt]&Mt&&(Et[Bt]|=Mt),kt&=~$t}}var to=0;function S1(Et){return Et&=-Et,1<Et?4<Et?Et&268435455?16:536870912:4:1}var pm=nt.unstable_scheduleCallback,E1=nt.unstable_cancelCallback,z2=nt.unstable_shouldYield,w1=nt.unstable_requestPaint,jo=nt.unstable_now,q0=nt.unstable_ImmediatePriority,$2=nt.unstable_UserBlockingPriority,no=nt.unstable_NormalPriority,G2=nt.unstable_IdlePriority,Sp=null,Tl=null;function H2(Et){if(Tl&&typeof Tl.onCommitFiberRoot=="function")try{Tl.onCommitFiberRoot(Sp,Et,void 0,(Et.current.flags&128)===128)}catch{}}function W2(Et,Mt){return Et===Mt&&(Et!==0||1/Et===1/Mt)||Et!==Et&&Mt!==Mt}var Ml=typeof Object.is=="function"?Object.is:W2,Wl=null,Ep=!1,wp=!1;function T1(Et){Wl===null?Wl=[Et]:Wl.push(Et)}function j2(Et){Ep=!0,T1(Et)}function Al(){if(!wp&&Wl!==null){wp=!0;var Et=0,Mt=to;try{var kt=Wl;for(to=1;Et<kt.length;Et++){var Bt=kt[Et];do Bt=Bt(!0);while(Bt!==null)}Wl=null,Ep=!1}catch($t){throw Wl!==null&&(Wl=Wl.slice(Et+1)),pm(q0,Al),$t}finally{to=Mt,wp=!1}}return null}var q2=gt.ReactCurrentBatchConfig;function Tp(Et,Mt){if(Ml(Et,Mt))return!0;if(typeof Et!="object"||Et===null||typeof Mt!="object"||Mt===null)return!1;var kt=Object.keys(Et),Bt=Object.keys(Mt);if(kt.length!==Bt.length)return!1;for(Bt=0;Bt<kt.length;Bt++){var $t=kt[Bt];if(!Pr.call(Mt,$t)||!Ml(Et[$t],Mt[$t]))return!1}return!0}function X2(Et){switch(Et.tag){case 5:return En(Et.type);case 16:return En("Lazy");case 13:return En("Suspense");case 19:return En("SuspenseList");case 0:case 2:case 15:return Et=_r(Et.type,!1),Et;case 11:return Et=_r(Et.type.render,!1),Et;case 1:return Et=_r(Et.type,!0),Et;default:return""}}function Js(Et,Mt){if(Et&&Et.defaultProps){Mt=o({},Mt),Et=Et.defaultProps;for(var kt in Et)Mt[kt]===void 0&&(Mt[kt]=Et[kt]);return Mt}return Mt}var Mp=Wr(null),Ap=null,d0=null,mm=null;function gm(){mm=d0=Ap=null}function M1(Et,Mt,kt){dr?(Ur(Mp,Mt._currentValue),Mt._currentValue=kt):(Ur(Mp,Mt._currentValue2),Mt._currentValue2=kt)}function vm(Et){var Mt=Mp.current;xr(Mp),dr?Et._currentValue=Mt:Et._currentValue2=Mt}function _m(Et,Mt,kt){for(;Et!==null;){var Bt=Et.alternate;if((Et.childLanes&Mt)!==Mt?(Et.childLanes|=Mt,Bt!==null&&(Bt.childLanes|=Mt)):Bt!==null&&(Bt.childLanes&Mt)!==Mt&&(Bt.childLanes|=Mt),Et===kt)break;Et=Et.return}}function h0(Et,Mt){Ap=Et,mm=d0=null,Et=Et.dependencies,Et!==null&&Et.firstContext!==null&&(Et.lanes&Mt&&(ks=!0),Et.firstContext=null)}function Bs(Et){var Mt=dr?Et._currentValue:Et._currentValue2;if(mm!==Et)if(Et={context:Et,memoizedValue:Mt,next:null},d0===null){if(Ap===null)throw Error(ft(308));d0=Et,Ap.dependencies={lanes:0,firstContext:Et}}else d0=d0.next=Et;return Mt}var Cl=null,fu=!1;function ym(Et){Et.updateQueue={baseState:Et.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function A1(Et,Mt){Et=Et.updateQueue,Mt.updateQueue===Et&&(Mt.updateQueue={baseState:Et.baseState,firstBaseUpdate:Et.firstBaseUpdate,lastBaseUpdate:Et.lastBaseUpdate,shared:Et.shared,effects:Et.effects})}function Xl(Et,Mt){return{eventTime:Et,lane:Mt,tag:0,payload:null,callback:null,next:null}}function du(Et,Mt){var kt=Et.updateQueue;kt!==null&&(kt=kt.shared,Uo!==null&&Et.mode&1&&!(co&2)?(Et=kt.interleaved,Et===null?(Mt.next=Mt,Cl===null?Cl=[kt]:Cl.push(kt)):(Mt.next=Et.next,Et.next=Mt),kt.interleaved=Mt):(Et=kt.pending,Et===null?Mt.next=Mt:(Mt.next=Et.next,Et.next=Mt),kt.pending=Mt))}function Cp(Et,Mt,kt){if(Mt=Mt.updateQueue,Mt!==null&&(Mt=Mt.shared,(kt&4194240)!==0)){var Bt=Mt.lanes;Bt&=Et.pendingLanes,kt|=Bt,Mt.lanes=kt,hm(Et,kt)}}function C1(Et,Mt){var kt=Et.updateQueue,Bt=Et.alternate;if(Bt!==null&&(Bt=Bt.updateQueue,kt===Bt)){var $t=null,qt=null;if(kt=kt.firstBaseUpdate,kt!==null){do{var on={eventTime:kt.eventTime,lane:kt.lane,tag:kt.tag,payload:kt.payload,callback:kt.callback,next:null};qt===null?$t=qt=on:qt=qt.next=on,kt=kt.next}while(kt!==null);qt===null?$t=qt=Mt:qt=qt.next=Mt}else $t=qt=Mt;kt={baseState:Bt.baseState,firstBaseUpdate:$t,lastBaseUpdate:qt,shared:Bt.shared,effects:Bt.effects},Et.updateQueue=kt;return}Et=kt.lastBaseUpdate,Et===null?kt.firstBaseUpdate=Mt:Et.next=Mt,kt.lastBaseUpdate=Mt}function Rp(Et,Mt,kt,Bt){var $t=Et.updateQueue;fu=!1;var qt=$t.firstBaseUpdate,on=$t.lastBaseUpdate,gn=$t.shared.pending;if(gn!==null){$t.shared.pending=null;var Vn=gn,ur=Vn.next;Vn.next=null,on===null?qt=ur:on.next=ur,on=Vn;var Nr=Et.alternate;Nr!==null&&(Nr=Nr.updateQueue,gn=Nr.lastBaseUpdate,gn!==on&&(gn===null?Nr.firstBaseUpdate=ur:gn.next=ur,Nr.lastBaseUpdate=Vn))}if(qt!==null){var Er=$t.baseState;on=0,Nr=ur=Vn=null,gn=qt;do{var Xr=gn.lane,Ro=gn.eventTime;if((Bt&Xr)===Xr){Nr!==null&&(Nr=Nr.next={eventTime:Ro,lane:0,tag:gn.tag,payload:gn.payload,callback:gn.callback,next:null});e:{var Gr=Et,Mr=gn;switch(Xr=Mt,Ro=kt,Mr.tag){case 1:if(Gr=Mr.payload,typeof Gr=="function"){Er=Gr.call(Ro,Er,Xr);break e}Er=Gr;break e;case 3:Gr.flags=Gr.flags&-65537|128;case 0:if(Gr=Mr.payload,Xr=typeof Gr=="function"?Gr.call(Ro,Er,Xr):Gr,Xr==null)break e;Er=o({},Er,Xr);break e;case 2:fu=!0}}gn.callback!==null&&gn.lane!==0&&(Et.flags|=64,Xr=$t.effects,Xr===null?$t.effects=[gn]:Xr.push(gn))}else Ro={eventTime:Ro,lane:Xr,tag:gn.tag,payload:gn.payload,callback:gn.callback,next:null},Nr===null?(ur=Nr=Ro,Vn=Er):Nr=Nr.next=Ro,on|=Xr;if(gn=gn.next,gn===null){if(gn=$t.shared.pending,gn===null)break;Xr=gn,gn=Xr.next,Xr.next=null,$t.lastBaseUpdate=Xr,$t.shared.pending=null}}while(1);if(Nr===null&&(Vn=Er),$t.baseState=Vn,$t.firstBaseUpdate=ur,$t.lastBaseUpdate=Nr,Mt=$t.shared.interleaved,Mt!==null){$t=Mt;do on|=$t.lane,$t=$t.next;while($t!==Mt)}else qt===null&&($t.shared.lanes=0);R0|=on,Et.lanes=on,Et.memoizedState=Er}}function R1(Et,Mt,kt){if(Et=Mt.effects,Mt.effects=null,Et!==null)for(Mt=0;Mt<Et.length;Mt++){var Bt=Et[Mt],$t=Bt.callback;if($t!==null){if(Bt.callback=null,Bt=kt,typeof $t!="function")throw Error(ft(191,$t));$t.call(Bt)}}}var b1=new d.Component().refs;function xm(Et,Mt,kt,Bt){Mt=Et.memoizedState,kt=kt(Bt,Mt),kt=kt==null?Mt:o({},Mt,kt),Et.memoizedState=kt,Et.lanes===0&&(Et.updateQueue.baseState=kt)}var bp={isMounted:function(Et){return(Et=Et._reactInternals)?Kt(Et)===Et:!1},enqueueSetState:function(Et,Mt,kt){Et=Et._reactInternals;var Bt=ds(),$t=_u(Et),qt=Xl(Bt,$t);qt.payload=Mt,kt!=null&&(qt.callback=kt),du(Et,qt),Mt=Ws(Et,$t,Bt),Mt!==null&&Cp(Mt,Et,$t)},enqueueReplaceState:function(Et,Mt,kt){Et=Et._reactInternals;var Bt=ds(),$t=_u(Et),qt=Xl(Bt,$t);qt.tag=1,qt.payload=Mt,kt!=null&&(qt.callback=kt),du(Et,qt),Mt=Ws(Et,$t,Bt),Mt!==null&&Cp(Mt,Et,$t)},enqueueForceUpdate:function(Et,Mt){Et=Et._reactInternals;var kt=ds(),Bt=_u(Et),$t=Xl(kt,Bt);$t.tag=2,Mt!=null&&($t.callback=Mt),du(Et,$t),Mt=Ws(Et,Bt,kt),Mt!==null&&Cp(Mt,Et,Bt)}};function P1(Et,Mt,kt,Bt,$t,qt,on){return Et=Et.stateNode,typeof Et.shouldComponentUpdate=="function"?Et.shouldComponentUpdate(Bt,qt,on):Mt.prototype&&Mt.prototype.isPureReactComponent?!Tp(kt,Bt)||!Tp($t,qt):!0}function I1(Et,Mt,kt){var Bt=!1,$t=lo,qt=Mt.contextType;return typeof qt=="object"&&qt!==null?qt=Bs(qt):($t=xo(Mt)?uo:go.current,Bt=Mt.contextTypes,qt=(Bt=Bt!=null)?$r(Et,$t):lo),Mt=new Mt(kt,qt),Et.memoizedState=Mt.state!==null&&Mt.state!==void 0?Mt.state:null,Mt.updater=bp,Et.stateNode=Mt,Mt._reactInternals=Et,Bt&&(Et=Et.stateNode,Et.__reactInternalMemoizedUnmaskedChildContext=$t,Et.__reactInternalMemoizedMaskedChildContext=qt),Mt}function k1(Et,Mt,kt,Bt){Et=Mt.state,typeof Mt.componentWillReceiveProps=="function"&&Mt.componentWillReceiveProps(kt,Bt),typeof Mt.UNSAFE_componentWillReceiveProps=="function"&&Mt.UNSAFE_componentWillReceiveProps(kt,Bt),Mt.state!==Et&&bp.enqueueReplaceState(Mt,Mt.state,null)}function Sm(Et,Mt,kt,Bt){var $t=Et.stateNode;$t.props=kt,$t.state=Et.memoizedState,$t.refs=b1,ym(Et);var qt=Mt.contextType;typeof qt=="object"&&qt!==null?$t.context=Bs(qt):(qt=xo(Mt)?uo:go.current,$t.context=$r(Et,qt)),$t.state=Et.memoizedState,qt=Mt.getDerivedStateFromProps,typeof qt=="function"&&(xm(Et,Mt,qt,kt),$t.state=Et.memoizedState),typeof Mt.getDerivedStateFromProps=="function"||typeof $t.getSnapshotBeforeUpdate=="function"||typeof $t.UNSAFE_componentWillMount!="function"&&typeof $t.componentWillMount!="function"||(Mt=$t.state,typeof $t.componentWillMount=="function"&&$t.componentWillMount(),typeof $t.UNSAFE_componentWillMount=="function"&&$t.UNSAFE_componentWillMount(),Mt!==$t.state&&bp.enqueueReplaceState($t,$t.state,null),Rp(Et,kt,$t,Bt),$t.state=Et.memoizedState),typeof $t.componentDidMount=="function"&&(Et.flags|=4194308)}var p0=[],m0=0,Pp=null,Ip=0,Us=[],Vs=0,Pu=null,Kl=1,Yl="";function Iu(Et,Mt){p0[m0++]=Ip,p0[m0++]=Pp,Pp=Et,Ip=Mt}function L1(Et,Mt,kt){Us[Vs++]=Kl,Us[Vs++]=Yl,Us[Vs++]=Pu,Pu=Et;var Bt=Kl;Et=Yl;var $t=32-vo(Bt)-1;Bt&=~(1<<$t),kt+=1;var qt=32-vo(Mt)+$t;if(30<qt){var on=$t-$t%5;qt=(Bt&(1<<on)-1).toString(32),Bt>>=on,$t-=on,Kl=1<<32-vo(Mt)+$t|kt<<$t|Bt,Yl=qt+Et}else Kl=1<<qt|kt<<$t|Bt,Yl=Et}function Em(Et){Et.return!==null&&(Iu(Et,1),L1(Et,1,0))}function wm(Et){for(;Et===Pp;)Pp=p0[--m0],p0[m0]=null,Ip=p0[--m0],p0[m0]=null;for(;Et===Pu;)Pu=Us[--Vs],Us[Vs]=null,Yl=Us[--Vs],Us[Vs]=null,Kl=Us[--Vs],Us[Vs]=null}var Ps=null,Is=null,Io=!1,X0=!1,na=null;function N1(Et,Mt){var kt=qs(5,null,null,0);kt.elementType="DELETED",kt.stateNode=Mt,kt.return=Et,Mt=Et.deletions,Mt===null?(Et.deletions=[kt],Et.flags|=16):Mt.push(kt)}function O1(Et,Mt){switch(Et.tag){case 5:return Mt=Ao(Mt,Et.type,Et.pendingProps),Mt!==null?(Et.stateNode=Mt,Ps=Et,Is=wl(Mt),!0):!1;case 6:return Mt=Fs(Mt,Et.pendingProps),Mt!==null?(Et.stateNode=Mt,Ps=Et,Is=null,!0):!1;case 13:if(Mt=Ru(Mt),Mt!==null){var kt=Pu!==null?{id:Kl,overflow:Yl}:null;return Et.memoizedState={dehydrated:Mt,treeContext:kt,retryLane:1073741824},kt=qs(18,null,null,0),kt.stateNode=Mt,kt.return=Et,Et.child=kt,Ps=Et,Is=null,!0}return!1;default:return!1}}function Tm(Et){return(Et.mode&1)!==0&&(Et.flags&128)===0}function Mm(Et){if(Io){var Mt=Is;if(Mt){var kt=Mt;if(!O1(Et,Mt)){if(Tm(Et))throw Error(ft(418));Mt=cs(kt);var Bt=Ps;Mt&&O1(Et,Mt)?N1(Bt,kt):(Et.flags=Et.flags&-4097|2,Io=!1,Ps=Et)}}else{if(Tm(Et))throw Error(ft(418));Et.flags=Et.flags&-4097|2,Io=!1,Ps=Et}}}function D1(Et){for(Et=Et.return;Et!==null&&Et.tag!==5&&Et.tag!==3&&Et.tag!==13;)Et=Et.return;Ps=Et}function K0(Et){if(!Zn||Et!==Ps)return!1;if(!Io)return D1(Et),Io=!0,!1;if(Et.tag!==3&&(Et.tag!==5||en(Et.type)&&!jn(Et.type,Et.memoizedProps))){var Mt=Is;if(Mt){if(Tm(Et)){for(Et=Is;Et;)Et=cs(Et);throw Error(ft(418))}for(;Mt;)N1(Et,Mt),Mt=cs(Mt)}}if(D1(Et),Et.tag===13){if(!Zn)throw Error(ft(316));if(Et=Et.memoizedState,Et=Et!==null?Et.dehydrated:null,!Et)throw Error(ft(317));Is=_p(Et)}else Is=Ps?cs(Et.stateNode):null;return!0}function ku(){Zn&&(Is=Ps=null,X0=Io=!1)}function kp(Et){na===null?na=[Et]:na.push(Et)}function g0(Et,Mt,kt){if(Et=kt.ref,Et!==null&&typeof Et!="function"&&typeof Et!="object"){if(kt._owner){if(kt=kt._owner,kt){if(kt.tag!==1)throw Error(ft(309));var Bt=kt.stateNode}if(!Bt)throw Error(ft(147,Et));var $t=Bt,qt=""+Et;return Mt!==null&&Mt.ref!==null&&typeof Mt.ref=="function"&&Mt.ref._stringRef===qt?Mt.ref:(Mt=function(on){var gn=$t.refs;gn===b1&&(gn=$t.refs={}),on===null?delete gn[qt]:gn[qt]=on},Mt._stringRef=qt,Mt)}if(typeof Et!="string")throw Error(ft(284));if(!kt._owner)throw Error(ft(290,Et))}return Et}function Y0(Et,Mt){throw Et=Object.prototype.toString.call(Mt),Error(ft(31,Et==="[object Object]"?"object with keys {"+Object.keys(Mt).join(", ")+"}":Et))}function Am(Et){var Mt=Et._init;return Mt(Et._payload)}function Cm(Et){function Mt(bn,xn){if(Et){var Fn=bn.deletions;Fn===null?(bn.deletions=[xn],bn.flags|=16):Fn.push(xn)}}function kt(bn,xn){if(!Et)return null;for(;xn!==null;)Mt(bn,xn),xn=xn.sibling;return null}function Bt(bn,xn){for(bn=new Map;xn!==null;)xn.key!==null?bn.set(xn.key,xn):bn.set(xn.index,xn),xn=xn.sibling;return bn}function $t(bn,xn){return bn=Xs(bn,xn),bn.index=0,bn.sibling=null,bn}function qt(bn,xn,Fn){return bn.index=Fn,Et?(Fn=bn.alternate,Fn!==null?(Fn=Fn.index,Fn<xn?(bn.flags|=2,xn):Fn):(bn.flags|=2,xn)):(bn.flags|=1048576,xn)}function on(bn){return Et&&bn.alternate===null&&(bn.flags|=2),bn}function gn(bn,xn,Fn,Rr){return xn===null||xn.tag!==6?(xn=zo(Fn,bn.mode,Rr),xn.return=bn,xn):(xn=$t(xn,Fn),xn.return=bn,xn)}function Vn(bn,xn,Fn,Rr){var Hr=Fn.type;return Hr===Tt?Nr(bn,xn,Fn.props.children,Rr,Fn.key):xn!==null&&(xn.elementType===Hr||typeof Hr=="object"&&Hr!==null&&Hr.$$typeof===Ft&&Am(Hr)===xn.type)?(Rr=$t(xn,Fn.props),Rr.ref=g0(bn,xn,Fn),Rr.return=bn,Rr):(Rr=nm(Fn.type,Fn.key,Fn.props,null,bn.mode,Rr),Rr.ref=g0(bn,xn,Fn),Rr.return=bn,Rr)}function ur(bn,xn,Fn,Rr){return xn===null||xn.tag!==4||xn.stateNode.containerInfo!==Fn.containerInfo||xn.stateNode.implementation!==Fn.implementation?(xn=$a(Fn,bn.mode,Rr),xn.return=bn,xn):(xn=$t(xn,Fn.children||[]),xn.return=bn,xn)}function Nr(bn,xn,Fn,Rr,Hr){return xn===null||xn.tag!==7?(xn=ss(Fn,bn.mode,Rr,Hr),xn.return=bn,xn):(xn=$t(xn,Fn),xn.return=bn,xn)}function Er(bn,xn,Fn){if(typeof xn=="string"&&xn!==""||typeof xn=="number")return xn=zo(""+xn,bn.mode,Fn),xn.return=bn,xn;if(typeof xn=="object"&&xn!==null){switch(xn.$$typeof){case xt:return Fn=nm(xn.type,xn.key,xn.props,null,bn.mode,Fn),Fn.ref=g0(bn,null,xn),Fn.return=bn,Fn;case St:return xn=$a(xn,bn.mode,Fn),xn.return=bn,xn;case Ft:var Rr=xn._init;return Er(bn,Rr(xn._payload),Fn)}if(Mn(xn)||Gt(xn))return xn=ss(xn,bn.mode,Fn,null),xn.return=bn,xn;Y0(bn,xn)}return null}function Xr(bn,xn,Fn,Rr){var Hr=xn!==null?xn.key:null;if(typeof Fn=="string"&&Fn!==""||typeof Fn=="number")return Hr!==null?null:gn(bn,xn,""+Fn,Rr);if(typeof Fn=="object"&&Fn!==null){switch(Fn.$$typeof){case xt:return Fn.key===Hr?Vn(bn,xn,Fn,Rr):null;case St:return Fn.key===Hr?ur(bn,xn,Fn,Rr):null;case Ft:return Hr=Fn._init,Xr(bn,xn,Hr(Fn._payload),Rr)}if(Mn(Fn)||Gt(Fn))return Hr!==null?null:Nr(bn,xn,Fn,Rr,null);Y0(bn,Fn)}return null}function Ro(bn,xn,Fn,Rr,Hr){if(typeof Rr=="string"&&Rr!==""||typeof Rr=="number")return bn=bn.get(Fn)||null,gn(xn,bn,""+Rr,Hr);if(typeof Rr=="object"&&Rr!==null){switch(Rr.$$typeof){case xt:return bn=bn.get(Rr.key===null?Fn:Rr.key)||null,Vn(xn,bn,Rr,Hr);case St:return bn=bn.get(Rr.key===null?Fn:Rr.key)||null,ur(xn,bn,Rr,Hr);case Ft:var ao=Rr._init;return Ro(bn,xn,Fn,ao(Rr._payload),Hr)}if(Mn(Rr)||Gt(Rr))return bn=bn.get(Fn)||null,Nr(xn,bn,Rr,Hr,null);Y0(xn,Rr)}return null}function Gr(bn,xn,Fn,Rr){for(var Hr=null,ao=null,oo=xn,Sr=xn=0,qo=null;oo!==null&&Sr<Fn.length;Sr++){oo.index>Sr?(qo=oo,oo=null):qo=oo.sibling;var Eo=Xr(bn,oo,Fn[Sr],Rr);if(Eo===null){oo===null&&(oo=qo);break}Et&&oo&&Eo.alternate===null&&Mt(bn,oo),xn=qt(Eo,xn,Sr),ao===null?Hr=Eo:ao.sibling=Eo,ao=Eo,oo=qo}if(Sr===Fn.length)return kt(bn,oo),Io&&Iu(bn,Sr),Hr;if(oo===null){for(;Sr<Fn.length;Sr++)oo=Er(bn,Fn[Sr],Rr),oo!==null&&(xn=qt(oo,xn,Sr),ao===null?Hr=oo:ao.sibling=oo,ao=oo);return Io&&Iu(bn,Sr),Hr}for(oo=Bt(bn,oo);Sr<Fn.length;Sr++)qo=Ro(oo,bn,Sr,Fn[Sr],Rr),qo!==null&&(Et&&qo.alternate!==null&&oo.delete(qo.key===null?Sr:qo.key),xn=qt(qo,xn,Sr),ao===null?Hr=qo:ao.sibling=qo,ao=qo);return Et&&oo.forEach(function(Zr){return Mt(bn,Zr)}),Io&&Iu(bn,Sr),Hr}function Mr(bn,xn,Fn,Rr){var Hr=Gt(Fn);if(typeof Hr!="function")throw Error(ft(150));if(Fn=Hr.call(Fn),Fn==null)throw Error(ft(151));for(var ao=Hr=null,oo=xn,Sr=xn=0,qo=null,Eo=Fn.next();oo!==null&&!Eo.done;Sr++,Eo=Fn.next()){oo.index>Sr?(qo=oo,oo=null):qo=oo.sibling;var Zr=Xr(bn,oo,Eo.value,Rr);if(Zr===null){oo===null&&(oo=qo);break}Et&&oo&&Zr.alternate===null&&Mt(bn,oo),xn=qt(Zr,xn,Sr),ao===null?Hr=Zr:ao.sibling=Zr,ao=Zr,oo=qo}if(Eo.done)return kt(bn,oo),Io&&Iu(bn,Sr),Hr;if(oo===null){for(;!Eo.done;Sr++,Eo=Fn.next())Eo=Er(bn,Eo.value,Rr),Eo!==null&&(xn=qt(Eo,xn,Sr),ao===null?Hr=Eo:ao.sibling=Eo,ao=Eo);return Io&&Iu(bn,Sr),Hr}for(oo=Bt(bn,oo);!Eo.done;Sr++,Eo=Fn.next())Eo=Ro(oo,bn,Sr,Eo.value,Rr),Eo!==null&&(Et&&Eo.alternate!==null&&oo.delete(Eo.key===null?Sr:Eo.key),xn=qt(Eo,xn,Sr),ao===null?Hr=Eo:ao.sibling=Eo,ao=Eo);return Et&&oo.forEach(function(vv){return Mt(bn,vv)}),Io&&Iu(bn,Sr),Hr}function Os(bn,xn,Fn,Rr){if(typeof Fn=="object"&&Fn!==null&&Fn.type===Tt&&Fn.key===null&&(Fn=Fn.props.children),typeof Fn=="object"&&Fn!==null){switch(Fn.$$typeof){case xt:e:{for(var Hr=Fn.key,ao=xn;ao!==null;){if(ao.key===Hr){if(Hr=Fn.type,Hr===Tt){if(ao.tag===7){kt(bn,ao.sibling),xn=$t(ao,Fn.props.children),xn.return=bn,bn=xn;break e}}else if(ao.elementType===Hr||typeof Hr=="object"&&Hr!==null&&Hr.$$typeof===Ft&&Am(Hr)===ao.type){kt(bn,ao.sibling),xn=$t(ao,Fn.props),xn.ref=g0(bn,ao,Fn),xn.return=bn,bn=xn;break e}kt(bn,ao);break}else Mt(bn,ao);ao=ao.sibling}Fn.type===Tt?(xn=ss(Fn.props.children,bn.mode,Rr,Fn.key),xn.return=bn,bn=xn):(Rr=nm(Fn.type,Fn.key,Fn.props,null,bn.mode,Rr),Rr.ref=g0(bn,xn,Fn),Rr.return=bn,bn=Rr)}return on(bn);case St:e:{for(ao=Fn.key;xn!==null;){if(xn.key===ao)if(xn.tag===4&&xn.stateNode.containerInfo===Fn.containerInfo&&xn.stateNode.implementation===Fn.implementation){kt(bn,xn.sibling),xn=$t(xn,Fn.children||[]),xn.return=bn,bn=xn;break e}else{kt(bn,xn);break}else Mt(bn,xn);xn=xn.sibling}xn=$a(Fn,bn.mode,Rr),xn.return=bn,bn=xn}return on(bn);case Ft:return ao=Fn._init,Os(bn,xn,ao(Fn._payload),Rr)}if(Mn(Fn))return Gr(bn,xn,Fn,Rr);if(Gt(Fn))return Mr(bn,xn,Fn,Rr);Y0(bn,Fn)}return typeof Fn=="string"&&Fn!==""||typeof Fn=="number"?(Fn=""+Fn,xn!==null&&xn.tag===6?(kt(bn,xn.sibling),xn=$t(xn,Fn),xn.return=bn,bn=xn):(kt(bn,xn),xn=zo(Fn,bn.mode,Rr),xn.return=bn,bn=xn),on(bn)):kt(bn,xn)}return Os}var v0=Cm(!0),F1=Cm(!1),Q0={},zs=Wr(Q0),No=Wr(Q0),_0=Wr(Q0);function Rl(Et){if(Et===Q0)throw Error(ft(174));return Et}function $s(Et,Mt){Ur(_0,Mt),Ur(No,Et),Ur(zs,Q0),Et=kn(Mt),xr(zs),Ur(zs,Et)}function Lu(){xr(zs),xr(No),xr(_0)}function Rm(Et){var Mt=Rl(_0.current),kt=Rl(zs.current);Mt=rn(kt,Et.type,Mt),kt!==Mt&&(Ur(No,Et),Ur(zs,Mt))}function Lp(Et){No.current===Et&&(xr(zs),xr(No))}var ko=Wr(0);function Pl(Et){for(var Mt=Et;Mt!==null;){if(Mt.tag===13){var kt=Mt.memoizedState;if(kt!==null&&(kt=kt.dehydrated,kt===null||_s(kt)||Fr(kt)))return Mt}else if(Mt.tag===19&&Mt.memoizedProps.revealOrder!==void 0){if(Mt.flags&128)return Mt}else if(Mt.child!==null){Mt.child.return=Mt,Mt=Mt.child;continue}if(Mt===Et)break;for(;Mt.sibling===null;){if(Mt.return===null||Mt.return===Et)return null;Mt=Mt.return}Mt.sibling.return=Mt.return,Mt=Mt.sibling}return null}var So=[];function Gs(){for(var Et=0;Et<So.length;Et++){var Mt=So[Et];dr?Mt._workInProgressVersionPrimary=null:Mt._workInProgressVersionSecondary=null}So.length=0}var y0=gt.ReactCurrentDispatcher,Xo=gt.ReactCurrentBatchConfig,x0=0,Oo=null,Jo=null,$o=null,Ss=!1,ho=!1,S0=0,B1=0;function es(){throw Error(ft(321))}function bm(Et,Mt){if(Mt===null)return!1;for(var kt=0;kt<Mt.length&&kt<Et.length;kt++)if(!Ml(Et[kt],Mt[kt]))return!1;return!0}function Np(Et,Mt,kt,Bt,$t,qt){if(x0=qt,Oo=Mt,Mt.memoizedState=null,Mt.updateQueue=null,Mt.lanes=0,y0.current=Et===null||Et.memoizedState===null?Y2:Q2,Et=kt(Bt,$t),ho){qt=0;do{if(ho=!1,S0=0,25<=qt)throw Error(ft(301));qt+=1,$o=Jo=null,Mt.updateQueue=null,y0.current=Fm,Et=kt(Bt,$t)}while(ho)}if(y0.current=w0,Mt=Jo!==null&&Jo.next!==null,x0=0,$o=Jo=Oo=null,Ss=!1,Mt)throw Error(ft(300));return Et}function Pm(){var Et=S0!==0;return S0=0,Et}function Ql(){var Et={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $o===null?Oo.memoizedState=$o=Et:$o=$o.next=Et,$o}function Il(){if(Jo===null){var Et=Oo.alternate;Et=Et!==null?Et.memoizedState:null}else Et=Jo.next;var Mt=$o===null?Oo.memoizedState:$o.next;if(Mt!==null)$o=Mt,Jo=Et;else{if(Et===null)throw Error(ft(310));Jo=Et,Et={memoizedState:Jo.memoizedState,baseState:Jo.baseState,baseQueue:Jo.baseQueue,queue:Jo.queue,next:null},$o===null?Oo.memoizedState=$o=Et:$o=$o.next=Et}return $o}function Nu(Et,Mt){return typeof Mt=="function"?Mt(Et):Mt}function Z0(Et){var Mt=Il(),kt=Mt.queue;if(kt===null)throw Error(ft(311));kt.lastRenderedReducer=Et;var Bt=Jo,$t=Bt.baseQueue,qt=kt.pending;if(qt!==null){if($t!==null){var on=$t.next;$t.next=qt.next,qt.next=on}Bt.baseQueue=$t=qt,kt.pending=null}if($t!==null){qt=$t.next,Bt=Bt.baseState;var gn=on=null,Vn=null,ur=qt;do{var Nr=ur.lane;if((x0&Nr)===Nr)Vn!==null&&(Vn=Vn.next={lane:0,action:ur.action,hasEagerState:ur.hasEagerState,eagerState:ur.eagerState,next:null}),Bt=ur.hasEagerState?ur.eagerState:Et(Bt,ur.action);else{var Er={lane:Nr,action:ur.action,hasEagerState:ur.hasEagerState,eagerState:ur.eagerState,next:null};Vn===null?(gn=Vn=Er,on=Bt):Vn=Vn.next=Er,Oo.lanes|=Nr,R0|=Nr}ur=ur.next}while(ur!==null&&ur!==qt);Vn===null?on=Bt:Vn.next=gn,Ml(Bt,Mt.memoizedState)||(ks=!0),Mt.memoizedState=Bt,Mt.baseState=on,Mt.baseQueue=Vn,kt.lastRenderedState=Bt}if(Et=kt.interleaved,Et!==null){$t=Et;do qt=$t.lane,Oo.lanes|=qt,R0|=qt,$t=$t.next;while($t!==Et)}else $t===null&&(kt.lanes=0);return[Mt.memoizedState,kt.dispatch]}function fs(Et){var Mt=Il(),kt=Mt.queue;if(kt===null)throw Error(ft(311));kt.lastRenderedReducer=Et;var Bt=kt.dispatch,$t=kt.pending,qt=Mt.memoizedState;if($t!==null){kt.pending=null;var on=$t=$t.next;do qt=Et(qt,on.action),on=on.next;while(on!==$t);Ml(qt,Mt.memoizedState)||(ks=!0),Mt.memoizedState=qt,Mt.baseQueue===null&&(Mt.baseState=qt),kt.lastRenderedState=qt}return[qt,Bt]}function Ll(){}function Ko(Et,Mt){var kt=Oo,Bt=Il(),$t=Mt(),qt=!Ml(Bt.memoizedState,$t);if(qt&&(Bt.memoizedState=$t,ks=!0),Bt=Bt.queue,Du(hu.bind(null,kt,Bt,Et),[Et]),Bt.getSnapshot!==Mt||qt||$o!==null&&$o.memoizedState.tag&1){if(kt.flags|=2048,Ou(9,km.bind(null,kt,Bt,$t,Mt),void 0,null),Uo===null)throw Error(ft(349));x0&30||Im(kt,Mt,$t)}return $t}function Im(Et,Mt,kt){Et.flags|=16384,Et={getSnapshot:Mt,value:kt},Mt=Oo.updateQueue,Mt===null?(Mt={lastEffect:null,stores:null},Oo.updateQueue=Mt,Mt.stores=[Et]):(kt=Mt.stores,kt===null?Mt.stores=[Et]:kt.push(Et))}function km(Et,Mt,kt,Bt){Mt.value=kt,Mt.getSnapshot=Bt,Nl(Mt)&&Ws(Et,1,-1)}function hu(Et,Mt,kt){return kt(function(){Nl(Mt)&&Ws(Et,1,-1)})}function Nl(Et){var Mt=Et.getSnapshot;Et=Et.value;try{var kt=Mt();return!Ml(Et,kt)}catch{return!0}}function Zl(Et){var Mt=Ql();return typeof Et=="function"&&(Et=Et()),Mt.memoizedState=Mt.baseState=Et,Et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nu,lastRenderedState:Et},Mt.queue=Et,Et=Et.dispatch=Fu.bind(null,Oo,Et),[Mt.memoizedState,Et]}function Ou(Et,Mt,kt,Bt){return Et={tag:Et,create:Mt,destroy:kt,deps:Bt,next:null},Mt=Oo.updateQueue,Mt===null?(Mt={lastEffect:null,stores:null},Oo.updateQueue=Mt,Mt.lastEffect=Et.next=Et):(kt=Mt.lastEffect,kt===null?Mt.lastEffect=Et.next=Et:(Bt=kt.next,kt.next=Et,Et.next=Bt,Mt.lastEffect=Et)),Et}function Op(){return Il().memoizedState}function Dp(Et,Mt,kt,Bt){var $t=Ql();Oo.flags|=Et,$t.memoizedState=Ou(1|Mt,kt,void 0,Bt===void 0?null:Bt)}function Fp(Et,Mt,kt,Bt){var $t=Il();Bt=Bt===void 0?null:Bt;var qt=void 0;if(Jo!==null){var on=Jo.memoizedState;if(qt=on.destroy,Bt!==null&&bm(Bt,on.deps)){$t.memoizedState=Ou(Mt,kt,qt,Bt);return}}Oo.flags|=Et,$t.memoizedState=Ou(1|Mt,kt,qt,Bt)}function Lm(Et,Mt){return Dp(8390656,8,Et,Mt)}function Du(Et,Mt){return Fp(2048,8,Et,Mt)}function Bp(Et,Mt){return Fp(4,2,Et,Mt)}function Nm(Et,Mt){return Fp(4,4,Et,Mt)}function Hs(Et,Mt){if(typeof Mt=="function")return Et=Et(),Mt(Et),function(){Mt(null)};if(Mt!=null)return Et=Et(),Mt.current=Et,function(){Mt.current=null}}function Om(Et,Mt,kt){return kt=kt!=null?kt.concat([Et]):null,Fp(4,4,Hs.bind(null,Mt,Et),kt)}function pu(){}function E0(Et,Mt){var kt=Il();Mt=Mt===void 0?null:Mt;var Bt=kt.memoizedState;return Bt!==null&&Mt!==null&&bm(Mt,Bt[1])?Bt[0]:(kt.memoizedState=[Et,Mt],Et)}function Dm(Et,Mt){var kt=Il();Mt=Mt===void 0?null:Mt;var Bt=kt.memoizedState;return Bt!==null&&Mt!==null&&bm(Mt,Bt[1])?Bt[0]:(Et=Et(),kt.memoizedState=[Et,Mt],Et)}function K2(Et,Mt){var kt=to;to=kt!==0&&4>kt?kt:4,Et(!0);var Bt=Xo.transition;Xo.transition={};try{Et(!1),Mt()}finally{to=kt,Xo.transition=Bt}}function Fo(){return Il().memoizedState}function Jl(Et,Mt,kt){var Bt=_u(Et);kt={lane:Bt,action:kt,hasEagerState:!1,eagerState:null,next:null},mu(Et)?Bu(Mt,kt):(ga(Et,Mt,kt),kt=ds(),Et=Ws(Et,Bt,kt),Et!==null&&Uu(Et,Mt,Bt))}function Fu(Et,Mt,kt){var Bt=_u(Et),$t={lane:Bt,action:kt,hasEagerState:!1,eagerState:null,next:null};if(mu(Et))Bu(Mt,$t);else{ga(Et,Mt,$t);var qt=Et.alternate;if(Et.lanes===0&&(qt===null||qt.lanes===0)&&(qt=Mt.lastRenderedReducer,qt!==null))try{var on=Mt.lastRenderedState,gn=qt(on,kt);if($t.hasEagerState=!0,$t.eagerState=gn,Ml(gn,on))return}catch{}finally{}kt=ds(),Et=Ws(Et,Bt,kt),Et!==null&&Uu(Et,Mt,Bt)}}function mu(Et){var Mt=Et.alternate;return Et===Oo||Mt!==null&&Mt===Oo}function Bu(Et,Mt){ho=Ss=!0;var kt=Et.pending;kt===null?Mt.next=Mt:(Mt.next=kt.next,kt.next=Mt),Et.pending=Mt}function ga(Et,Mt,kt){Uo!==null&&Et.mode&1&&!(co&2)?(Et=Mt.interleaved,Et===null?(kt.next=kt,Cl===null?Cl=[Mt]:Cl.push(Mt)):(kt.next=Et.next,Et.next=kt),Mt.interleaved=kt):(Et=Mt.pending,Et===null?kt.next=kt:(kt.next=Et.next,Et.next=kt),Mt.pending=kt)}function Uu(Et,Mt,kt){if(kt&4194240){var Bt=Mt.lanes;Bt&=Et.pendingLanes,kt|=Bt,Mt.lanes=kt,hm(Et,kt)}}var w0={readContext:Bs,useCallback:es,useContext:es,useEffect:es,useImperativeHandle:es,useInsertionEffect:es,useLayoutEffect:es,useMemo:es,useReducer:es,useRef:es,useState:es,useDebugValue:es,useDeferredValue:es,useTransition:es,useMutableSource:es,useSyncExternalStore:es,useId:es,unstable_isNewReconciler:!1},Y2={readContext:Bs,useCallback:function(Et,Mt){return Ql().memoizedState=[Et,Mt===void 0?null:Mt],Et},useContext:Bs,useEffect:Lm,useImperativeHandle:function(Et,Mt,kt){return kt=kt!=null?kt.concat([Et]):null,Dp(4194308,4,Hs.bind(null,Mt,Et),kt)},useLayoutEffect:function(Et,Mt){return Dp(4194308,4,Et,Mt)},useInsertionEffect:function(Et,Mt){return Dp(4,2,Et,Mt)},useMemo:function(Et,Mt){var kt=Ql();return Mt=Mt===void 0?null:Mt,Et=Et(),kt.memoizedState=[Et,Mt],Et},useReducer:function(Et,Mt,kt){var Bt=Ql();return Mt=kt!==void 0?kt(Mt):Mt,Bt.memoizedState=Bt.baseState=Mt,Et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Et,lastRenderedState:Mt},Bt.queue=Et,Et=Et.dispatch=Jl.bind(null,Oo,Et),[Bt.memoizedState,Et]},useRef:function(Et){var Mt=Ql();return Et={current:Et},Mt.memoizedState=Et},useState:Zl,useDebugValue:pu,useDeferredValue:function(Et){var Mt=Zl(Et),kt=Mt[0],Bt=Mt[1];return Lm(function(){var $t=Xo.transition;Xo.transition={};try{Bt(Et)}finally{Xo.transition=$t}},[Et]),kt},useTransition:function(){var Et=Zl(!1),Mt=Et[0];return Et=K2.bind(null,Et[1]),Ql().memoizedState=Et,[Mt,Et]},useMutableSource:function(){},useSyncExternalStore:function(Et,Mt,kt){var Bt=Oo,$t=Ql();if(Io){if(kt===void 0)throw Error(ft(407));kt=kt()}else{if(kt=Mt(),Uo===null)throw Error(ft(349));x0&30||Im(Bt,Mt,kt)}$t.memoizedState=kt;var qt={value:kt,getSnapshot:Mt};return $t.queue=qt,Lm(hu.bind(null,Bt,qt,Et),[Et]),Bt.flags|=2048,Ou(9,km.bind(null,Bt,qt,kt,Mt),void 0,null),kt},useId:function(){var Et=Ql(),Mt=Uo.identifierPrefix;if(Io){var kt=Yl,Bt=Kl;kt=(Bt&~(1<<32-vo(Bt)-1)).toString(32)+kt,Mt=":"+Mt+"R"+kt,kt=S0++,0<kt&&(Mt+="H"+kt.toString(32)),Mt+=":"}else kt=B1++,Mt=":"+Mt+"r"+kt.toString(32)+":";return Et.memoizedState=Mt},unstable_isNewReconciler:!1},Q2={readContext:Bs,useCallback:E0,useContext:Bs,useEffect:Du,useImperativeHandle:Om,useInsertionEffect:Bp,useLayoutEffect:Nm,useMemo:Dm,useReducer:Z0,useRef:Op,useState:function(){return Z0(Nu)},useDebugValue:pu,useDeferredValue:function(Et){var Mt=Z0(Nu),kt=Mt[0],Bt=Mt[1];return Du(function(){var $t=Xo.transition;Xo.transition={};try{Bt(Et)}finally{Xo.transition=$t}},[Et]),kt},useTransition:function(){var Et=Z0(Nu)[0],Mt=Il().memoizedState;return[Et,Mt]},useMutableSource:Ll,useSyncExternalStore:Ko,useId:Fo,unstable_isNewReconciler:!1},Fm={readContext:Bs,useCallback:E0,useContext:Bs,useEffect:Du,useImperativeHandle:Om,useInsertionEffect:Bp,useLayoutEffect:Nm,useMemo:Dm,useReducer:fs,useRef:Op,useState:function(){return fs(Nu)},useDebugValue:pu,useDeferredValue:function(Et){var Mt=fs(Nu),kt=Mt[0],Bt=Mt[1];return Du(function(){var $t=Xo.transition;Xo.transition={};try{Bt(Et)}finally{Xo.transition=$t}},[Et]),kt},useTransition:function(){var Et=fs(Nu)[0],Mt=Il().memoizedState;return[Et,Mt]},useMutableSource:Ll,useSyncExternalStore:Ko,useId:Fo,unstable_isNewReconciler:!1};function J0(Et,Mt){try{var kt="",Bt=Mt;do kt+=X2(Bt),Bt=Bt.return;while(Bt);var $t=kt}catch(qt){$t=`
Error generating stack: `+qt.message+`
`+qt.stack}return{value:Et,source:Mt,stack:$t}}function Bm(Et,Mt){try{console.error(Mt.value)}catch(kt){setTimeout(function(){throw kt})}}var U1=typeof WeakMap=="function"?WeakMap:Map;function _f(Et,Mt,kt){kt=Xl(-1,kt),kt.tag=3,kt.payload={element:null};var Bt=Mt.value;return kt.callback=function(){Qp||(Qp=!0,r1=Bt),Bm(Et,Mt)},kt}function V1(Et,Mt,kt){kt=Xl(-1,kt),kt.tag=3;var Bt=Et.type.getDerivedStateFromError;if(typeof Bt=="function"){var $t=Mt.value;kt.payload=function(){return Bt($t)},kt.callback=function(){Bm(Et,Mt)}}var qt=Et.stateNode;return qt!==null&&typeof qt.componentDidCatch=="function"&&(kt.callback=function(){Bm(Et,Mt),typeof Bt!="function"&&(gu===null?gu=new Set([this]):gu.add(this));var on=Mt.stack;this.componentDidCatch(Mt.value,{componentStack:on!==null?on:""})}),kt}function Um(Et,Mt,kt){var Bt=Et.pingCache;if(Bt===null){Bt=Et.pingCache=new U1;var $t=new Set;Bt.set(Mt,$t)}else $t=Bt.get(Mt),$t===void 0&&($t=new Set,Bt.set(Mt,$t));$t.has(kt)||($t.add(kt),Et=cv.bind(null,Et,Mt,kt),Mt.then(Et,Et))}function _d(Et){do{var Mt;if((Mt=Et.tag===13)&&(Mt=Et.memoizedState,Mt=Mt!==null?Mt.dehydrated!==null:!0),Mt)return Et;Et=Et.return}while(Et!==null);return null}function T0(Et,Mt,kt,Bt,$t){return Et.mode&1?(Et.flags|=65536,Et.lanes=$t,Et):(Et===Mt?Et.flags|=65536:(Et.flags|=128,kt.flags|=131072,kt.flags&=-52805,kt.tag===1&&(kt.alternate===null?kt.tag=17:(Mt=Xl(-1,1),Mt.tag=2,du(kt,Mt))),kt.lanes|=1),Et)}function xa(Et){Et.flags|=4}function z1(Et,Mt){if(Et!==null&&Et.child===Mt.child)return!0;if(Mt.flags&16)return!1;for(Et=Mt.child;Et!==null;){if(Et.flags&12854||Et.subtreeFlags&12854)return!1;Et=Et.sibling}return!0}var Vu,_h,M0,Up;if(mr)Vu=function(Et,Mt){for(var kt=Mt.child;kt!==null;){if(kt.tag===5||kt.tag===6)zn(Et,kt.stateNode);else if(kt.tag!==4&&kt.child!==null){kt.child.return=kt,kt=kt.child;continue}if(kt===Mt)break;for(;kt.sibling===null;){if(kt.return===null||kt.return===Mt)return;kt=kt.return}kt.sibling.return=kt.return,kt=kt.sibling}},_h=function(){},M0=function(Et,Mt,kt,Bt,$t){if(Et=Et.memoizedProps,Et!==Bt){var qt=Mt.stateNode,on=Rl(zs.current);kt=An(qt,kt,Et,Bt,$t,on),(Mt.updateQueue=kt)&&xa(Mt)}},Up=function(Et,Mt,kt,Bt){kt!==Bt&&xa(Mt)};else if(It){Vu=function(Et,Mt,kt,Bt){for(var $t=Mt.child;$t!==null;){if($t.tag===5){var qt=$t.stateNode;kt&&Bt&&(qt=Jr(qt,$t.type,$t.memoizedProps,$t)),zn(Et,qt)}else if($t.tag===6)qt=$t.stateNode,kt&&Bt&&(qt=Mo(qt,$t.memoizedProps,$t)),zn(Et,qt);else if($t.tag!==4){if($t.tag===22&&$t.memoizedState!==null)qt=$t.child,qt!==null&&(qt.return=$t),Vu(Et,$t,!0,!0);else if($t.child!==null){$t.child.return=$t,$t=$t.child;continue}}if($t===Mt)break;for(;$t.sibling===null;){if($t.return===null||$t.return===Mt)return;$t=$t.return}$t.sibling.return=$t.return,$t=$t.sibling}};var $1=function(Et,Mt,kt,Bt){for(var $t=Mt.child;$t!==null;){if($t.tag===5){var qt=$t.stateNode;kt&&Bt&&(qt=Jr(qt,$t.type,$t.memoizedProps,$t)),zr(Et,qt)}else if($t.tag===6)qt=$t.stateNode,kt&&Bt&&(qt=Mo(qt,$t.memoizedProps,$t)),zr(Et,qt);else if($t.tag!==4){if($t.tag===22&&$t.memoizedState!==null)qt=$t.child,qt!==null&&(qt.return=$t),$1(Et,$t,!0,!0);else if($t.child!==null){$t.child.return=$t,$t=$t.child;continue}}if($t===Mt)break;for(;$t.sibling===null;){if($t.return===null||$t.return===Mt)return;$t=$t.return}$t.sibling.return=$t.return,$t=$t.sibling}};_h=function(Et,Mt){var kt=Mt.stateNode;if(!z1(Et,Mt)){Et=kt.containerInfo;var Bt=hr(Et);$1(Bt,Mt,!1,!1),kt.pendingChildren=Bt,xa(Mt),io(Et,Bt)}},M0=function(Et,Mt,kt,Bt,$t){var qt=Et.stateNode,on=Et.memoizedProps;if((Et=z1(Et,Mt))&&on===Bt)Mt.stateNode=qt;else{var gn=Mt.stateNode,Vn=Rl(zs.current),ur=null;on!==Bt&&(ur=An(gn,kt,on,Bt,$t,Vn)),Et&&ur===null?Mt.stateNode=qt:(qt=yr(qt,ur,kt,on,Bt,Mt,Et,gn),ir(qt,kt,Bt,$t,Vn)&&xa(Mt),Mt.stateNode=qt,Et?xa(Mt):Vu(qt,Mt,!1,!1))}},Up=function(Et,Mt,kt,Bt){kt!==Bt?(Et=Rl(_0.current),kt=Rl(zs.current),Mt.stateNode=or(Bt,Et,kt,Mt),xa(Mt)):Mt.stateNode=Et.stateNode}}else _h=function(){},M0=function(){},Up=function(){};function ep(Et,Mt){if(!Io)switch(Et.tailMode){case"hidden":Mt=Et.tail;for(var kt=null;Mt!==null;)Mt.alternate!==null&&(kt=Mt),Mt=Mt.sibling;kt===null?Et.tail=null:kt.sibling=null;break;case"collapsed":kt=Et.tail;for(var Bt=null;kt!==null;)kt.alternate!==null&&(Bt=kt),kt=kt.sibling;Bt===null?Mt||Et.tail===null?Et.tail=null:Et.tail.sibling=null:Bt.sibling=null}}function ts(Et){var Mt=Et.alternate!==null&&Et.alternate.child===Et.child,kt=0,Bt=0;if(Mt)for(var $t=Et.child;$t!==null;)kt|=$t.lanes|$t.childLanes,Bt|=$t.subtreeFlags&14680064,Bt|=$t.flags&14680064,$t.return=Et,$t=$t.sibling;else for($t=Et.child;$t!==null;)kt|=$t.lanes|$t.childLanes,Bt|=$t.subtreeFlags,Bt|=$t.flags,$t.return=Et,$t=$t.sibling;return Et.subtreeFlags|=Bt,Et.childLanes=kt,Mt}function Z2(Et,Mt,kt){var Bt=Mt.pendingProps;switch(wm(Mt),Mt.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ts(Mt),null;case 1:return xo(Mt.type)&&yo(),ts(Mt),null;case 3:return Bt=Mt.stateNode,Lu(),xr(Bn),xr(go),Gs(),Bt.pendingContext&&(Bt.context=Bt.pendingContext,Bt.pendingContext=null),(Et===null||Et.child===null)&&(K0(Mt)?xa(Mt):Et===null||Et.memoizedState.isDehydrated&&!(Mt.flags&256)||(Mt.flags|=1024,na!==null&&(o1(na),na=null))),_h(Et,Mt),ts(Mt),null;case 5:Lp(Mt),kt=Rl(_0.current);var $t=Mt.type;if(Et!==null&&Mt.stateNode!=null)M0(Et,Mt,$t,Bt,kt),Et.ref!==Mt.ref&&(Mt.flags|=512,Mt.flags|=2097152);else{if(!Bt){if(Mt.stateNode===null)throw Error(ft(166));return ts(Mt),null}if(Et=Rl(zs.current),K0(Mt)){if(!Zn)throw Error(ft(175));Et=lu(Mt.stateNode,Mt.type,Mt.memoizedProps,kt,Et,Mt,!X0),Mt.updateQueue=Et,Et!==null&&xa(Mt)}else{var qt=Rn($t,Bt,kt,Et,Mt);Vu(qt,Mt,!1,!1),Mt.stateNode=qt,ir(qt,$t,Bt,kt,Et)&&xa(Mt)}Mt.ref!==null&&(Mt.flags|=512,Mt.flags|=2097152)}return ts(Mt),null;case 6:if(Et&&Mt.stateNode!=null)Up(Et,Mt,Et.memoizedProps,Bt);else{if(typeof Bt!="string"&&Mt.stateNode===null)throw Error(ft(166));if(Et=Rl(_0.current),kt=Rl(zs.current),K0(Mt)){if(!Zn)throw Error(ft(176));if(Et=Mt.stateNode,Bt=Mt.memoizedProps,(kt=vp(Et,Bt,Mt,!X0))&&($t=Ps,$t!==null))switch(qt=($t.mode&1)!==0,$t.tag){case 3:Sn($t.stateNode.containerInfo,Et,Bt,qt);break;case 5:Nn($t.type,$t.memoizedProps,$t.stateNode,Et,Bt,qt)}kt&&xa(Mt)}else Mt.stateNode=or(Bt,Et,kt,Mt)}return ts(Mt),null;case 13:if(xr(ko),Bt=Mt.memoizedState,Io&&Is!==null&&Mt.mode&1&&!(Mt.flags&128)){for(Et=Is;Et;)Et=cs(Et);return ku(),Mt.flags|=98560,Mt}if(Bt!==null&&Bt.dehydrated!==null){if(Bt=K0(Mt),Et===null){if(!Bt)throw Error(ft(318));if(!Zn)throw Error(ft(344));if(Et=Mt.memoizedState,Et=Et!==null?Et.dehydrated:null,!Et)throw Error(ft(317));c0(Et,Mt)}else ku(),!(Mt.flags&128)&&(Mt.memoizedState=null),Mt.flags|=4;return ts(Mt),null}return na!==null&&(o1(na),na=null),Mt.flags&128?(Mt.lanes=kt,Mt):(Bt=Bt!==null,kt=!1,Et===null?K0(Mt):kt=Et.memoizedState!==null,Bt&&!kt&&(Mt.child.flags|=8192,Mt.mode&1&&(Et===null||ko.current&1?Go===0&&(Go=3):a1())),Mt.updateQueue!==null&&(Mt.flags|=4),ts(Mt),null);case 4:return Lu(),_h(Et,Mt),Et===null&&nr(Mt.stateNode.containerInfo),ts(Mt),null;case 10:return vm(Mt.type._context),ts(Mt),null;case 17:return xo(Mt.type)&&yo(),ts(Mt),null;case 19:if(xr(ko),$t=Mt.memoizedState,$t===null)return ts(Mt),null;if(Bt=(Mt.flags&128)!==0,qt=$t.rendering,qt===null)if(Bt)ep($t,!1);else{if(Go!==0||Et!==null&&Et.flags&128)for(Et=Mt.child;Et!==null;){if(qt=Pl(Et),qt!==null){for(Mt.flags|=128,ep($t,!1),Et=qt.updateQueue,Et!==null&&(Mt.updateQueue=Et,Mt.flags|=4),Mt.subtreeFlags=0,Et=kt,Bt=Mt.child;Bt!==null;)kt=Bt,$t=Et,kt.flags&=14680066,qt=kt.alternate,qt===null?(kt.childLanes=0,kt.lanes=$t,kt.child=null,kt.subtreeFlags=0,kt.memoizedProps=null,kt.memoizedState=null,kt.updateQueue=null,kt.dependencies=null,kt.stateNode=null):(kt.childLanes=qt.childLanes,kt.lanes=qt.lanes,kt.child=qt.child,kt.subtreeFlags=0,kt.deletions=null,kt.memoizedProps=qt.memoizedProps,kt.memoizedState=qt.memoizedState,kt.updateQueue=qt.updateQueue,kt.type=qt.type,$t=qt.dependencies,kt.dependencies=$t===null?null:{lanes:$t.lanes,firstContext:$t.firstContext}),Bt=Bt.sibling;return Ur(ko,ko.current&1|2),Mt.child}Et=Et.sibling}$t.tail!==null&&jo()>n1&&(Mt.flags|=128,Bt=!0,ep($t,!1),Mt.lanes=4194304)}else{if(!Bt)if(Et=Pl(qt),Et!==null){if(Mt.flags|=128,Bt=!0,Et=Et.updateQueue,Et!==null&&(Mt.updateQueue=Et,Mt.flags|=4),ep($t,!0),$t.tail===null&&$t.tailMode==="hidden"&&!qt.alternate&&!Io)return ts(Mt),null}else 2*jo()-$t.renderingStartTime>n1&&kt!==1073741824&&(Mt.flags|=128,Bt=!0,ep($t,!1),Mt.lanes=4194304);$t.isBackwards?(qt.sibling=Mt.child,Mt.child=qt):(Et=$t.last,Et!==null?Et.sibling=qt:Mt.child=qt,$t.last=qt)}return $t.tail!==null?(Mt=$t.tail,$t.rendering=Mt,$t.tail=Mt.sibling,$t.renderingStartTime=jo(),Mt.sibling=null,Et=ko.current,Ur(ko,Bt?Et&1|2:Et&1),Mt):(ts(Mt),null);case 22:case 23:return s1(),Bt=Mt.memoizedState!==null,Et!==null&&Et.memoizedState!==null!==Bt&&(Mt.flags|=8192),Bt&&Mt.mode&1?Ns&1073741824&&(ts(Mt),mr&&Mt.subtreeFlags&6&&(Mt.flags|=8192)):ts(Mt),null;case 24:return null;case 25:return null}throw Error(ft(156,Mt.tag))}var J2=gt.ReactCurrentOwner,ks=!1;function ns(Et,Mt,kt,Bt){Mt.child=Et===null?F1(Mt,null,kt,Bt):v0(Mt,Et.child,kt,Bt)}function G1(Et,Mt,kt,Bt,$t){kt=kt.render;var qt=Mt.ref;return h0(Mt,$t),Bt=Np(Et,Mt,kt,Bt,qt,$t),kt=Pm(),Et!==null&&!ks?(Mt.updateQueue=Et.updateQueue,Mt.flags&=-2053,Et.lanes&=~$t,eu(Et,Mt,$t)):(Io&&kt&&Em(Mt),Mt.flags|=1,ns(Et,Mt,Bt,$t),Mt.child)}function H1(Et,Mt,kt,Bt,$t){if(Et===null){var qt=kt.type;return typeof qt=="function"&&!l1(qt)&&qt.defaultProps===void 0&&kt.compare===null&&kt.defaultProps===void 0?(Mt.tag=15,Mt.type=qt,W1(Et,Mt,qt,Bt,$t)):(Et=nm(kt.type,null,Bt,Mt,Mt.mode,$t),Et.ref=Mt.ref,Et.return=Mt,Mt.child=Et)}if(qt=Et.child,!(Et.lanes&$t)){var on=qt.memoizedProps;if(kt=kt.compare,kt=kt!==null?kt:Tp,kt(on,Bt)&&Et.ref===Mt.ref)return eu(Et,Mt,$t)}return Mt.flags|=1,Et=Xs(qt,Bt),Et.ref=Mt.ref,Et.return=Mt,Mt.child=Et}function W1(Et,Mt,kt,Bt,$t){if(Et!==null&&Tp(Et.memoizedProps,Bt)&&Et.ref===Mt.ref)if(ks=!1,(Et.lanes&$t)!==0)Et.flags&131072&&(ks=!0);else return Mt.lanes=Et.lanes,eu(Et,Mt,$t);return zm(Et,Mt,kt,Bt,$t)}function j1(Et,Mt,kt){var Bt=Mt.pendingProps,$t=Bt.children,qt=Et!==null?Et.memoizedState:null;if(Bt.mode==="hidden")if(!(Mt.mode&1))Mt.memoizedState={baseLanes:0,cachePool:null},Ur(C0,Ns),Ns|=kt;else if(kt&1073741824)Mt.memoizedState={baseLanes:0,cachePool:null},Bt=qt!==null?qt.baseLanes:kt,Ur(C0,Ns),Ns|=Bt;else return Et=qt!==null?qt.baseLanes|kt:kt,Mt.lanes=Mt.childLanes=1073741824,Mt.memoizedState={baseLanes:Et,cachePool:null},Mt.updateQueue=null,Ur(C0,Ns),Ns|=Et,null;else qt!==null?(Bt=qt.baseLanes|kt,Mt.memoizedState=null):Bt=kt,Ur(C0,Ns),Ns|=Bt;return ns(Et,Mt,$t,kt),Mt.child}function Vm(Et,Mt){var kt=Mt.ref;(Et===null&&kt!==null||Et!==null&&Et.ref!==kt)&&(Mt.flags|=512,Mt.flags|=2097152)}function zm(Et,Mt,kt,Bt,$t){var qt=xo(kt)?uo:go.current;return qt=$r(Mt,qt),h0(Mt,$t),kt=Np(Et,Mt,kt,Bt,qt,$t),Bt=Pm(),Et!==null&&!ks?(Mt.updateQueue=Et.updateQueue,Mt.flags&=-2053,Et.lanes&=~$t,eu(Et,Mt,$t)):(Io&&Bt&&Em(Mt),Mt.flags|=1,ns(Et,Mt,kt,$t),Mt.child)}function q1(Et,Mt,kt,Bt,$t){if(xo(kt)){var qt=!0;Ho(Mt)}else qt=!1;if(h0(Mt,$t),Mt.stateNode===null)Et!==null&&(Et.alternate=null,Mt.alternate=null,Mt.flags|=2),I1(Mt,kt,Bt),Sm(Mt,kt,Bt,$t),Bt=!0;else if(Et===null){var on=Mt.stateNode,gn=Mt.memoizedProps;on.props=gn;var Vn=on.context,ur=kt.contextType;typeof ur=="object"&&ur!==null?ur=Bs(ur):(ur=xo(kt)?uo:go.current,ur=$r(Mt,ur));var Nr=kt.getDerivedStateFromProps,Er=typeof Nr=="function"||typeof on.getSnapshotBeforeUpdate=="function";Er||typeof on.UNSAFE_componentWillReceiveProps!="function"&&typeof on.componentWillReceiveProps!="function"||(gn!==Bt||Vn!==ur)&&k1(Mt,on,Bt,ur),fu=!1;var Xr=Mt.memoizedState;on.state=Xr,Rp(Mt,Bt,on,$t),Vn=Mt.memoizedState,gn!==Bt||Xr!==Vn||Bn.current||fu?(typeof Nr=="function"&&(xm(Mt,kt,Nr,Bt),Vn=Mt.memoizedState),(gn=fu||P1(Mt,kt,gn,Bt,Xr,Vn,ur))?(Er||typeof on.UNSAFE_componentWillMount!="function"&&typeof on.componentWillMount!="function"||(typeof on.componentWillMount=="function"&&on.componentWillMount(),typeof on.UNSAFE_componentWillMount=="function"&&on.UNSAFE_componentWillMount()),typeof on.componentDidMount=="function"&&(Mt.flags|=4194308)):(typeof on.componentDidMount=="function"&&(Mt.flags|=4194308),Mt.memoizedProps=Bt,Mt.memoizedState=Vn),on.props=Bt,on.state=Vn,on.context=ur,Bt=gn):(typeof on.componentDidMount=="function"&&(Mt.flags|=4194308),Bt=!1)}else{on=Mt.stateNode,A1(Et,Mt),gn=Mt.memoizedProps,ur=Mt.type===Mt.elementType?gn:Js(Mt.type,gn),on.props=ur,Er=Mt.pendingProps,Xr=on.context,Vn=kt.contextType,typeof Vn=="object"&&Vn!==null?Vn=Bs(Vn):(Vn=xo(kt)?uo:go.current,Vn=$r(Mt,Vn));var Ro=kt.getDerivedStateFromProps;(Nr=typeof Ro=="function"||typeof on.getSnapshotBeforeUpdate=="function")||typeof on.UNSAFE_componentWillReceiveProps!="function"&&typeof on.componentWillReceiveProps!="function"||(gn!==Er||Xr!==Vn)&&k1(Mt,on,Bt,Vn),fu=!1,Xr=Mt.memoizedState,on.state=Xr,Rp(Mt,Bt,on,$t);var Gr=Mt.memoizedState;gn!==Er||Xr!==Gr||Bn.current||fu?(typeof Ro=="function"&&(xm(Mt,kt,Ro,Bt),Gr=Mt.memoizedState),(ur=fu||P1(Mt,kt,ur,Bt,Xr,Gr,Vn)||!1)?(Nr||typeof on.UNSAFE_componentWillUpdate!="function"&&typeof on.componentWillUpdate!="function"||(typeof on.componentWillUpdate=="function"&&on.componentWillUpdate(Bt,Gr,Vn),typeof on.UNSAFE_componentWillUpdate=="function"&&on.UNSAFE_componentWillUpdate(Bt,Gr,Vn)),typeof on.componentDidUpdate=="function"&&(Mt.flags|=4),typeof on.getSnapshotBeforeUpdate=="function"&&(Mt.flags|=1024)):(typeof on.componentDidUpdate!="function"||gn===Et.memoizedProps&&Xr===Et.memoizedState||(Mt.flags|=4),typeof on.getSnapshotBeforeUpdate!="function"||gn===Et.memoizedProps&&Xr===Et.memoizedState||(Mt.flags|=1024),Mt.memoizedProps=Bt,Mt.memoizedState=Gr),on.props=Bt,on.state=Gr,on.context=Vn,Bt=ur):(typeof on.componentDidUpdate!="function"||gn===Et.memoizedProps&&Xr===Et.memoizedState||(Mt.flags|=4),typeof on.getSnapshotBeforeUpdate!="function"||gn===Et.memoizedProps&&Xr===Et.memoizedState||(Mt.flags|=1024),Bt=!1)}return Vp(Et,Mt,kt,Bt,qt,$t)}function Vp(Et,Mt,kt,Bt,$t,qt){Vm(Et,Mt);var on=(Mt.flags&128)!==0;if(!Bt&&!on)return $t&&uu(Mt,kt,!1),eu(Et,Mt,qt);Bt=Mt.stateNode,J2.current=Mt;var gn=on&&typeof kt.getDerivedStateFromError!="function"?null:Bt.render();return Mt.flags|=1,Et!==null&&on?(Mt.child=v0(Mt,Et.child,null,qt),Mt.child=v0(Mt,null,gn,qt)):ns(Et,Mt,gn,qt),Mt.memoizedState=Bt.state,$t&&uu(Mt,kt,!0),Mt.child}function zu(Et){var Mt=Et.stateNode;Mt.pendingContext?ys(Et,Mt.pendingContext,Mt.pendingContext!==Mt.context):Mt.context&&ys(Et,Mt.context,!1),$s(Et,Mt.containerInfo)}function $u(Et,Mt,kt,Bt,$t){return ku(),kp($t),Mt.flags|=256,ns(Et,Mt,kt,Bt),Mt.child}var tp={dehydrated:null,treeContext:null,retryLane:0};function zp(Et){return{baseLanes:Et,cachePool:null}}function X1(Et,Mt,kt){var Bt=Mt.pendingProps,$t=ko.current,qt=!1,on=(Mt.flags&128)!==0,gn;if((gn=on)||(gn=Et!==null&&Et.memoizedState===null?!1:($t&2)!==0),gn?(qt=!0,Mt.flags&=-129):(Et===null||Et.memoizedState!==null)&&($t|=1),Ur(ko,$t&1),Et===null)return Mm(Mt),Et=Mt.memoizedState,Et!==null&&(Et=Et.dehydrated,Et!==null)?(Mt.mode&1?Fr(Et)?Mt.lanes=8:Mt.lanes=1073741824:Mt.lanes=1,null):($t=Bt.children,Et=Bt.fallback,qt?(Bt=Mt.mode,qt=Mt.child,$t={mode:"hidden",children:$t},!(Bt&1)&&qt!==null?(qt.childLanes=0,qt.pendingProps=$t):qt=Ol($t,Bt,0,null),Et=ss(Et,Bt,kt,null),qt.return=Mt,Et.return=Mt,qt.sibling=Et,Mt.child=qt,Mt.child.memoizedState=zp(kt),Mt.memoizedState=tp,Et):$m(Mt,$t));if($t=Et.memoizedState,$t!==null){if(gn=$t.dehydrated,gn!==null){if(on)return Mt.flags&256?(Mt.flags&=-257,$p(Et,Mt,kt,Error(ft(422)))):Mt.memoizedState!==null?(Mt.child=Et.child,Mt.flags|=128,null):(qt=Bt.fallback,$t=Mt.mode,Bt=Ol({mode:"visible",children:Bt.children},$t,0,null),qt=ss(qt,$t,kt,null),qt.flags|=2,Bt.return=Mt,qt.return=Mt,Bt.sibling=qt,Mt.child=Bt,Mt.mode&1&&v0(Mt,Et.child,null,kt),Mt.child.memoizedState=zp(kt),Mt.memoizedState=tp,qt);if(!(Mt.mode&1))Mt=$p(Et,Mt,kt,null);else if(Fr(gn))Mt=$p(Et,Mt,kt,Error(ft(419)));else if(Bt=(kt&Et.childLanes)!==0,ks||Bt){if(Bt=Uo,Bt!==null){switch(kt&-kt){case 4:qt=2;break;case 16:qt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:qt=32;break;case 536870912:qt=268435456;break;default:qt=0}Bt=qt&(Bt.suspendedLanes|kt)?0:qt,Bt!==0&&Bt!==$t.retryLane&&($t.retryLane=Bt,Ws(Et,Bt,-1))}a1(),Mt=$p(Et,Mt,kt,Error(ft(421)))}else _s(gn)?(Mt.flags|=128,Mt.child=Et.child,Mt=fv.bind(null,Et),Gl(gn,Mt),Mt=null):(kt=$t.treeContext,Zn&&(Is=au(gn),Ps=Mt,Io=!0,na=null,X0=!1,kt!==null&&(Us[Vs++]=Kl,Us[Vs++]=Yl,Us[Vs++]=Pu,Kl=kt.id,Yl=kt.overflow,Pu=Mt)),Mt=$m(Mt,Mt.pendingProps.children),Mt.flags|=4096);return Mt}return qt?(Bt=Y1(Et,Mt,Bt.children,Bt.fallback,kt),qt=Mt.child,$t=Et.child.memoizedState,qt.memoizedState=$t===null?zp(kt):{baseLanes:$t.baseLanes|kt,cachePool:null},qt.childLanes=Et.childLanes&~kt,Mt.memoizedState=tp,Bt):(kt=K1(Et,Mt,Bt.children,kt),Mt.memoizedState=null,kt)}return qt?(Bt=Y1(Et,Mt,Bt.children,Bt.fallback,kt),qt=Mt.child,$t=Et.child.memoizedState,qt.memoizedState=$t===null?zp(kt):{baseLanes:$t.baseLanes|kt,cachePool:null},qt.childLanes=Et.childLanes&~kt,Mt.memoizedState=tp,Bt):(kt=K1(Et,Mt,Bt.children,kt),Mt.memoizedState=null,kt)}function $m(Et,Mt){return Mt=Ol({mode:"visible",children:Mt},Et.mode,0,null),Mt.return=Et,Et.child=Mt}function K1(Et,Mt,kt,Bt){var $t=Et.child;return Et=$t.sibling,kt=Xs($t,{mode:"visible",children:kt}),!(Mt.mode&1)&&(kt.lanes=Bt),kt.return=Mt,kt.sibling=null,Et!==null&&(Bt=Mt.deletions,Bt===null?(Mt.deletions=[Et],Mt.flags|=16):Bt.push(Et)),Mt.child=kt}function Y1(Et,Mt,kt,Bt,$t){var qt=Mt.mode;Et=Et.child;var on=Et.sibling,gn={mode:"hidden",children:kt};return!(qt&1)&&Mt.child!==Et?(kt=Mt.child,kt.childLanes=0,kt.pendingProps=gn,Mt.deletions=null):(kt=Xs(Et,gn),kt.subtreeFlags=Et.subtreeFlags&14680064),on!==null?Bt=Xs(on,Bt):(Bt=ss(Bt,qt,$t,null),Bt.flags|=2),Bt.return=Mt,kt.return=Mt,kt.sibling=Bt,Mt.child=kt,Bt}function $p(Et,Mt,kt,Bt){return Bt!==null&&kp(Bt),v0(Mt,Et.child,null,kt),Et=$m(Mt,Mt.pendingProps.children),Et.flags|=2,Mt.memoizedState=null,Et}function Q1(Et,Mt,kt){Et.lanes|=Mt;var Bt=Et.alternate;Bt!==null&&(Bt.lanes|=Mt),_m(Et.return,Mt,kt)}function Gm(Et,Mt,kt,Bt,$t){var qt=Et.memoizedState;qt===null?Et.memoizedState={isBackwards:Mt,rendering:null,renderingStartTime:0,last:Bt,tail:kt,tailMode:$t}:(qt.isBackwards=Mt,qt.rendering=null,qt.renderingStartTime=0,qt.last=Bt,qt.tail=kt,qt.tailMode=$t)}function Z1(Et,Mt,kt){var Bt=Mt.pendingProps,$t=Bt.revealOrder,qt=Bt.tail;if(ns(Et,Mt,Bt.children,kt),Bt=ko.current,Bt&2)Bt=Bt&1|2,Mt.flags|=128;else{if(Et!==null&&Et.flags&128)e:for(Et=Mt.child;Et!==null;){if(Et.tag===13)Et.memoizedState!==null&&Q1(Et,kt,Mt);else if(Et.tag===19)Q1(Et,kt,Mt);else if(Et.child!==null){Et.child.return=Et,Et=Et.child;continue}if(Et===Mt)break e;for(;Et.sibling===null;){if(Et.return===null||Et.return===Mt)break e;Et=Et.return}Et.sibling.return=Et.return,Et=Et.sibling}Bt&=1}if(Ur(ko,Bt),!(Mt.mode&1))Mt.memoizedState=null;else switch($t){case"forwards":for(kt=Mt.child,$t=null;kt!==null;)Et=kt.alternate,Et!==null&&Pl(Et)===null&&($t=kt),kt=kt.sibling;kt=$t,kt===null?($t=Mt.child,Mt.child=null):($t=kt.sibling,kt.sibling=null),Gm(Mt,!1,$t,kt,qt);break;case"backwards":for(kt=null,$t=Mt.child,Mt.child=null;$t!==null;){if(Et=$t.alternate,Et!==null&&Pl(Et)===null){Mt.child=$t;break}Et=$t.sibling,$t.sibling=kt,kt=$t,$t=Et}Gm(Mt,!0,kt,null,qt);break;case"together":Gm(Mt,!1,null,null,void 0);break;default:Mt.memoizedState=null}return Mt.child}function eu(Et,Mt,kt){if(Et!==null&&(Mt.dependencies=Et.dependencies),R0|=Mt.lanes,!(kt&Mt.childLanes))return null;if(Et!==null&&Mt.child!==Et.child)throw Error(ft(153));if(Mt.child!==null){for(Et=Mt.child,kt=Xs(Et,Et.pendingProps),Mt.child=kt,kt.return=Mt;Et.sibling!==null;)Et=Et.sibling,kt=kt.sibling=Xs(Et,Et.pendingProps),kt.return=Mt;kt.sibling=null}return Mt.child}function ev(Et,Mt,kt){switch(Mt.tag){case 3:zu(Mt),ku();break;case 5:Rm(Mt);break;case 1:xo(Mt.type)&&Ho(Mt);break;case 4:$s(Mt,Mt.stateNode.containerInfo);break;case 10:M1(Mt,Mt.type._context,Mt.memoizedProps.value);break;case 13:var Bt=Mt.memoizedState;if(Bt!==null)return Bt.dehydrated!==null?(Ur(ko,ko.current&1),Mt.flags|=128,null):kt&Mt.child.childLanes?X1(Et,Mt,kt):(Ur(ko,ko.current&1),Et=eu(Et,Mt,kt),Et!==null?Et.sibling:null);Ur(ko,ko.current&1);break;case 19:if(Bt=(kt&Mt.childLanes)!==0,Et.flags&128){if(Bt)return Z1(Et,Mt,kt);Mt.flags|=128}var $t=Mt.memoizedState;if($t!==null&&($t.rendering=null,$t.tail=null,$t.lastEffect=null),Ur(ko,ko.current),Bt)break;return null;case 22:case 23:return Mt.lanes=0,j1(Et,Mt,kt)}return eu(Et,Mt,kt)}function tv(Et,Mt){switch(wm(Mt),Mt.tag){case 1:return xo(Mt.type)&&yo(),Et=Mt.flags,Et&65536?(Mt.flags=Et&-65537|128,Mt):null;case 3:return Lu(),xr(Bn),xr(go),Gs(),Et=Mt.flags,Et&65536&&!(Et&128)?(Mt.flags=Et&-65537|128,Mt):null;case 5:return Lp(Mt),null;case 13:if(xr(ko),Et=Mt.memoizedState,Et!==null&&Et.dehydrated!==null){if(Mt.alternate===null)throw Error(ft(340));ku()}return Et=Mt.flags,Et&65536?(Mt.flags=Et&-65537|128,Mt):null;case 19:return xr(ko),null;case 4:return Lu(),null;case 10:return vm(Mt.type._context),null;case 22:case 23:return s1(),null;case 24:return null;default:return null}}var Gp=!1,Gu=!1,nv=typeof WeakSet=="function"?WeakSet:Set,Tr=null;function Hp(Et,Mt){var kt=Et.ref;if(kt!==null)if(typeof kt=="function")try{kt(null)}catch(Bt){ws(Et,Mt,Bt)}else kt.current=null}function Hm(Et,Mt,kt){try{kt()}catch(Bt){ws(Et,Mt,Bt)}}var J1=!1;function rv(Et,Mt){for(un(Et.containerInfo),Tr=Mt;Tr!==null;)if(Et=Tr,Mt=Et.child,(Et.subtreeFlags&1028)!==0&&Mt!==null)Mt.return=Et,Tr=Mt;else for(;Tr!==null;){Et=Tr;try{var kt=Et.alternate;if(Et.flags&1024)switch(Et.tag){case 0:case 11:case 15:break;case 1:if(kt!==null){var Bt=kt.memoizedProps,$t=kt.memoizedState,qt=Et.stateNode,on=qt.getSnapshotBeforeUpdate(Et.elementType===Et.type?Bt:Js(Et.type,Bt),$t);qt.__reactInternalSnapshotBeforeUpdate=on}break;case 3:mr&&Wn(Et.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(ft(163))}}catch(gn){ws(Et,Et.return,gn)}if(Mt=Et.sibling,Mt!==null){Mt.return=Et.return,Tr=Mt;break}Tr=Et.return}return kt=J1,J1=!1,kt}function Hu(Et,Mt,kt){var Bt=Mt.updateQueue;if(Bt=Bt!==null?Bt.lastEffect:null,Bt!==null){var $t=Bt=Bt.next;do{if(($t.tag&Et)===Et){var qt=$t.destroy;$t.destroy=void 0,qt!==void 0&&Hm(Mt,kt,qt)}$t=$t.next}while($t!==Bt)}}function np(Et,Mt){if(Mt=Mt.updateQueue,Mt=Mt!==null?Mt.lastEffect:null,Mt!==null){var kt=Mt=Mt.next;do{if((kt.tag&Et)===Et){var Bt=kt.create;kt.destroy=Bt()}kt=kt.next}while(kt!==Mt)}}function Wm(Et){var Mt=Et.ref;if(Mt!==null){var kt=Et.stateNode;switch(Et.tag){case 5:Et=Tn(kt);break;default:Et=kt}typeof Mt=="function"?Mt(Et):Mt.current=Et}}function _g(Et,Mt,kt){if(Tl&&typeof Tl.onCommitFiberUnmount=="function")try{Tl.onCommitFiberUnmount(Sp,Mt)}catch{}switch(Mt.tag){case 0:case 11:case 14:case 15:if(Et=Mt.updateQueue,Et!==null&&(Et=Et.lastEffect,Et!==null)){var Bt=Et=Et.next;do{var $t=Bt,qt=$t.destroy;$t=$t.tag,qt!==void 0&&($t&2||$t&4)&&Hm(Mt,kt,qt),Bt=Bt.next}while(Bt!==Et)}break;case 1:if(Hp(Mt,kt),Et=Mt.stateNode,typeof Et.componentWillUnmount=="function")try{Et.props=Mt.memoizedProps,Et.state=Mt.memoizedState,Et.componentWillUnmount()}catch(on){ws(Mt,kt,on)}break;case 5:Hp(Mt,kt);break;case 4:mr?o2(Et,Mt,kt):It&&It&&(Mt=Mt.stateNode.containerInfo,kt=hr(Mt),_o(Mt,kt))}}function e2(Et,Mt,kt){for(var Bt=Mt;;)if(_g(Et,Bt,kt),Bt.child===null||mr&&Bt.tag===4){if(Bt===Mt)break;for(;Bt.sibling===null;){if(Bt.return===null||Bt.return===Mt)return;Bt=Bt.return}Bt.sibling.return=Bt.return,Bt=Bt.sibling}else Bt.child.return=Bt,Bt=Bt.child}function t2(Et){var Mt=Et.alternate;Mt!==null&&(Et.alternate=null,t2(Mt)),Et.child=null,Et.deletions=null,Et.sibling=null,Et.tag===5&&(Mt=Et.stateNode,Mt!==null&&Yn(Mt)),Et.stateNode=null,Et.return=null,Et.dependencies=null,Et.memoizedProps=null,Et.memoizedState=null,Et.pendingProps=null,Et.stateNode=null,Et.updateQueue=null}function n2(Et){return Et.tag===5||Et.tag===3||Et.tag===4}function r2(Et){e:for(;;){for(;Et.sibling===null;){if(Et.return===null||n2(Et.return))return null;Et=Et.return}for(Et.sibling.return=Et.return,Et=Et.sibling;Et.tag!==5&&Et.tag!==6&&Et.tag!==18;){if(Et.flags&2||Et.child===null||Et.tag===4)continue e;Et.child.return=Et,Et=Et.child}if(!(Et.flags&2))return Et.stateNode}}function i2(Et){if(mr){e:{for(var Mt=Et.return;Mt!==null;){if(n2(Mt))break e;Mt=Mt.return}throw Error(ft(160))}var kt=Mt;switch(kt.tag){case 5:Mt=kt.stateNode,kt.flags&32&&(Hn(Mt),kt.flags&=-33),kt=r2(Et),qm(Et,kt,Mt);break;case 3:case 4:Mt=kt.stateNode.containerInfo,kt=r2(Et),jm(Et,kt,Mt);break;default:throw Error(ft(161))}}}function jm(Et,Mt,kt){var Bt=Et.tag;if(Bt===5||Bt===6)Et=Et.stateNode,Mt?Or(kt,Et,Mt):fr(kt,Et);else if(Bt!==4&&(Et=Et.child,Et!==null))for(jm(Et,Mt,kt),Et=Et.sibling;Et!==null;)jm(Et,Mt,kt),Et=Et.sibling}function qm(Et,Mt,kt){var Bt=Et.tag;if(Bt===5||Bt===6)Et=Et.stateNode,Mt?rr(kt,Et,Mt):$n(kt,Et);else if(Bt!==4&&(Et=Et.child,Et!==null))for(qm(Et,Mt,kt),Et=Et.sibling;Et!==null;)qm(Et,Mt,kt),Et=Et.sibling}function o2(Et,Mt,kt){for(var Bt=Mt,$t=!1,qt,on;;){if(!$t){$t=Bt.return;e:for(;;){if($t===null)throw Error(ft(160));switch(qt=$t.stateNode,$t.tag){case 5:on=!1;break e;case 3:qt=qt.containerInfo,on=!0;break e;case 4:qt=qt.containerInfo,on=!0;break e}$t=$t.return}$t=!0}if(Bt.tag===5||Bt.tag===6)e2(Et,Bt,kt),on?cn(qt,Bt.stateNode):wr(qt,Bt.stateNode);else if(Bt.tag===18)on?y1(qt,Bt.stateNode):eo(qt,Bt.stateNode);else if(Bt.tag===4){if(Bt.child!==null){qt=Bt.stateNode.containerInfo,on=!0,Bt.child.return=Bt,Bt=Bt.child;continue}}else if(_g(Et,Bt,kt),Bt.child!==null){Bt.child.return=Bt,Bt=Bt.child;continue}if(Bt===Mt)break;for(;Bt.sibling===null;){if(Bt.return===null||Bt.return===Mt)return;Bt=Bt.return,Bt.tag===4&&($t=!1)}Bt.sibling.return=Bt.return,Bt=Bt.sibling}}function Xm(Et,Mt){if(mr){switch(Mt.tag){case 0:case 11:case 14:case 15:Hu(3,Mt,Mt.return),np(3,Mt),Hu(5,Mt,Mt.return);return;case 1:return;case 5:var kt=Mt.stateNode;if(kt!=null){var Bt=Mt.memoizedProps;Et=Et!==null?Et.memoizedProps:Bt;var $t=Mt.type,qt=Mt.updateQueue;Mt.updateQueue=null,qt!==null&&tr(kt,qt,$t,Et,Bt,Mt)}return;case 6:if(Mt.stateNode===null)throw Error(ft(162));kt=Mt.memoizedProps,Lr(Mt.stateNode,Et!==null?Et.memoizedProps:kt,kt);return;case 3:Zn&&Et!==null&&Et.memoizedState.isDehydrated&&yp(Mt.stateNode.containerInfo);return;case 12:return;case 13:Wp(Mt);return;case 19:Wp(Mt);return;case 17:return}throw Error(ft(163))}switch(Mt.tag){case 0:case 11:case 14:case 15:Hu(3,Mt,Mt.return),np(3,Mt),Hu(5,Mt,Mt.return);return;case 12:return;case 13:Wp(Mt);return;case 19:Wp(Mt);return;case 3:Zn&&Et!==null&&Et.memoizedState.isDehydrated&&yp(Mt.stateNode.containerInfo);break;case 22:case 23:return}e:if(It){switch(Mt.tag){case 1:case 5:case 6:break e;case 3:case 4:Mt=Mt.stateNode,_o(Mt.containerInfo,Mt.pendingChildren);break e}throw Error(ft(163))}}function Wp(Et){var Mt=Et.updateQueue;if(Mt!==null){Et.updateQueue=null;var kt=Et.stateNode;kt===null&&(kt=Et.stateNode=new nv),Mt.forEach(function(Bt){var $t=dv.bind(null,Et,Bt);kt.has(Bt)||(kt.add(Bt),Bt.then($t,$t))})}}function iv(Et,Mt){for(Tr=Mt;Tr!==null;){Mt=Tr;var kt=Mt.deletions;if(kt!==null)for(var Bt=0;Bt<kt.length;Bt++){var $t=kt[Bt];try{var qt=Et;mr?o2(qt,$t,Mt):e2(qt,$t,Mt);var on=$t.alternate;on!==null&&(on.return=null),$t.return=null}catch(Hr){ws($t,Mt,Hr)}}if(kt=Mt.child,Mt.subtreeFlags&12854&&kt!==null)kt.return=Mt,Tr=kt;else for(;Tr!==null;){Mt=Tr;try{var gn=Mt.flags;if(gn&32&&mr&&Hn(Mt.stateNode),gn&512){var Vn=Mt.alternate;if(Vn!==null){var ur=Vn.ref;ur!==null&&(typeof ur=="function"?ur(null):ur.current=null)}}if(gn&8192)switch(Mt.tag){case 13:if(Mt.memoizedState!==null){var Nr=Mt.alternate;(Nr===null||Nr.memoizedState===null)&&(t1=jo())}break;case 22:var Er=Mt.memoizedState!==null,Xr=Mt.alternate,Ro=Xr!==null&&Xr.memoizedState!==null;if(kt=Mt,mr){e:if(Bt=kt,$t=Er,qt=null,mr)for(var Gr=Bt;;){if(Gr.tag===5){if(qt===null){qt=Gr;var Mr=Gr.stateNode;$t?lr(Mr):sr(Gr.stateNode,Gr.memoizedProps)}}else if(Gr.tag===6){if(qt===null){var Os=Gr.stateNode;$t?an(Os):Ln(Os,Gr.memoizedProps)}}else if((Gr.tag!==22&&Gr.tag!==23||Gr.memoizedState===null||Gr===Bt)&&Gr.child!==null){Gr.child.return=Gr,Gr=Gr.child;continue}if(Gr===Bt)break;for(;Gr.sibling===null;){if(Gr.return===null||Gr.return===Bt)break e;qt===Gr&&(qt=null),Gr=Gr.return}qt===Gr&&(qt=null),Gr.sibling.return=Gr.return,Gr=Gr.sibling}}if(Er&&!Ro&&kt.mode&1){Tr=kt;for(var bn=kt.child;bn!==null;){for(kt=Tr=bn;Tr!==null;){Bt=Tr;var xn=Bt.child;switch(Bt.tag){case 0:case 11:case 14:case 15:Hu(4,Bt,Bt.return);break;case 1:Hp(Bt,Bt.return);var Fn=Bt.stateNode;if(typeof Fn.componentWillUnmount=="function"){var Rr=Bt.return;try{Fn.props=Bt.memoizedProps,Fn.state=Bt.memoizedState,Fn.componentWillUnmount()}catch(Hr){ws(Bt,Rr,Hr)}}break;case 5:Hp(Bt,Bt.return);break;case 22:if(Bt.memoizedState!==null){l2(kt);continue}}xn!==null?(xn.return=Bt,Tr=xn):l2(kt)}bn=bn.sibling}}}switch(gn&4102){case 2:i2(Mt),Mt.flags&=-3;break;case 6:i2(Mt),Mt.flags&=-3,Xm(Mt.alternate,Mt);break;case 4096:Mt.flags&=-4097;break;case 4100:Mt.flags&=-4097,Xm(Mt.alternate,Mt);break;case 4:Xm(Mt.alternate,Mt)}}catch(Hr){ws(Mt,Mt.return,Hr)}if(kt=Mt.sibling,kt!==null){kt.return=Mt.return,Tr=kt;break}Tr=Mt.return}}}function ov(Et,Mt,kt){Tr=Et,s2(Et)}function s2(Et,Mt,kt){for(var Bt=(Et.mode&1)!==0;Tr!==null;){var $t=Tr,qt=$t.child;if($t.tag===22&&Bt){var on=$t.memoizedState!==null||Gp;if(!on){var gn=$t.alternate,Vn=gn!==null&&gn.memoizedState!==null||Gu;gn=Gp;var ur=Gu;if(Gp=on,(Gu=Vn)&&!ur)for(Tr=$t;Tr!==null;)on=Tr,Vn=on.child,on.tag===22&&on.memoizedState!==null?u2($t):Vn!==null?(Vn.return=on,Tr=Vn):u2($t);for(;qt!==null;)Tr=qt,s2(qt),qt=qt.sibling;Tr=$t,Gp=gn,Gu=ur}a2(Et)}else $t.subtreeFlags&8772&&qt!==null?(qt.return=$t,Tr=qt):a2(Et)}}function a2(Et){for(;Tr!==null;){var Mt=Tr;if(Mt.flags&8772){var kt=Mt.alternate;try{if(Mt.flags&8772)switch(Mt.tag){case 0:case 11:case 15:Gu||np(5,Mt);break;case 1:var Bt=Mt.stateNode;if(Mt.flags&4&&!Gu)if(kt===null)Bt.componentDidMount();else{var $t=Mt.elementType===Mt.type?kt.memoizedProps:Js(Mt.type,kt.memoizedProps);Bt.componentDidUpdate($t,kt.memoizedState,Bt.__reactInternalSnapshotBeforeUpdate)}var qt=Mt.updateQueue;qt!==null&&R1(Mt,qt,Bt);break;case 3:var on=Mt.updateQueue;if(on!==null){if(kt=null,Mt.child!==null)switch(Mt.child.tag){case 5:kt=Tn(Mt.child.stateNode);break;case 1:kt=Mt.child.stateNode}R1(Mt,on,kt)}break;case 5:var gn=Mt.stateNode;kt===null&&Mt.flags&4&&Qn(gn,Mt.type,Mt.memoizedProps,Mt);break;case 6:break;case 4:break;case 12:break;case 13:if(Zn&&Mt.memoizedState===null){var Vn=Mt.alternate;if(Vn!==null){var ur=Vn.memoizedState;if(ur!==null){var Nr=ur.dehydrated;Nr!==null&&dm(Nr)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(ft(163))}Gu||Mt.flags&512&&Wm(Mt)}catch(Er){ws(Mt,Mt.return,Er)}}if(Mt===Et){Tr=null;break}if(kt=Mt.sibling,kt!==null){kt.return=Mt.return,Tr=kt;break}Tr=Mt.return}}function l2(Et){for(;Tr!==null;){var Mt=Tr;if(Mt===Et){Tr=null;break}var kt=Mt.sibling;if(kt!==null){kt.return=Mt.return,Tr=kt;break}Tr=Mt.return}}function u2(Et){for(;Tr!==null;){var Mt=Tr;try{switch(Mt.tag){case 0:case 11:case 15:var kt=Mt.return;try{np(4,Mt)}catch(Vn){ws(Mt,kt,Vn)}break;case 1:var Bt=Mt.stateNode;if(typeof Bt.componentDidMount=="function"){var $t=Mt.return;try{Bt.componentDidMount()}catch(Vn){ws(Mt,$t,Vn)}}var qt=Mt.return;try{Wm(Mt)}catch(Vn){ws(Mt,qt,Vn)}break;case 5:var on=Mt.return;try{Wm(Mt)}catch(Vn){ws(Mt,on,Vn)}}}catch(Vn){ws(Mt,Mt.return,Vn)}if(Mt===Et){Tr=null;break}var gn=Mt.sibling;if(gn!==null){gn.return=Mt.return,Tr=gn;break}Tr=Mt.return}}var jp=0,Ls=1,A0=2,qp=3,Xp=4;if(typeof Symbol=="function"&&Symbol.for){var rp=Symbol.for;jp=rp("selector.component"),Ls=rp("selector.has_pseudo_class"),A0=rp("selector.role"),qp=rp("selector.test_id"),Xp=rp("selector.text")}function Km(Et){var Mt=nn(Et);if(Mt!=null){if(typeof Mt.memoizedProps["data-testname"]!="string")throw Error(ft(364));return Mt}if(Et=tn(Et),Et===null)throw Error(ft(362));return Et.stateNode.current}function Ym(Et,Mt){switch(Mt.$$typeof){case jp:if(Et.type===Mt.value)return!0;break;case Ls:e:{Mt=Mt.value,Et=[Et,0];for(var kt=0;kt<Et.length;){var Bt=Et[kt++],$t=Et[kt++],qt=Mt[$t];if(Bt.tag!==5||!Pn(Bt)){for(;qt!=null&&Ym(Bt,qt);)$t++,qt=Mt[$t];if($t===Mt.length){Mt=!0;break e}else for(Bt=Bt.child;Bt!==null;)Et.push(Bt,$t),Bt=Bt.sibling}}Mt=!1}return Mt;case A0:if(Et.tag===5&&Gn(Et.stateNode,Mt.value))return!0;break;case Xp:if((Et.tag===5||Et.tag===6)&&(Et=hn(Et),Et!==null&&0<=Et.indexOf(Mt.value)))return!0;break;case qp:if(Et.tag===5&&(Et=Et.memoizedProps["data-testname"],typeof Et=="string"&&Et.toLowerCase()===Mt.value.toLowerCase()))return!0;break;default:throw Error(ft(365))}return!1}function Qm(Et){switch(Et.$$typeof){case jp:return"<"+(Xt(Et.value)||"Unknown")+">";case Ls:return":has("+(Qm(Et)||"")+")";case A0:return'[role="'+Et.value+'"]';case Xp:return'"'+Et.value+'"';case qp:return'[data-testname="'+Et.value+'"]';default:throw Error(ft(365))}}function c2(Et,Mt){var kt=[];Et=[Et,0];for(var Bt=0;Bt<Et.length;){var $t=Et[Bt++],qt=Et[Bt++],on=Mt[qt];if($t.tag!==5||!Pn($t)){for(;on!=null&&Ym($t,on);)qt++,on=Mt[qt];if(qt===Mt.length)kt.push($t);else for($t=$t.child;$t!==null;)Et.push($t,qt),$t=$t.sibling}}return kt}function Zm(Et,Mt){if(!Xn)throw Error(ft(363));Et=Km(Et),Et=c2(Et,Mt),Mt=[],Et=Array.from(Et);for(var kt=0;kt<Et.length;){var Bt=Et[kt++];if(Bt.tag===5)Pn(Bt)||Mt.push(Bt.stateNode);else for(Bt=Bt.child;Bt!==null;)Et.push(Bt),Bt=Bt.sibling}return Mt}var sv=Math.ceil,Kp=gt.ReactCurrentDispatcher,Jm=gt.ReactCurrentOwner,Bo=gt.ReactCurrentBatchConfig,co=0,Uo=null,Vo=null,Yo=0,Ns=0,C0=Wr(0),Go=0,ip=null,R0=0,Yp=0,e1=0,op=null,Es=null,t1=0,n1=1/0;function Wu(){n1=jo()+500}var Qp=!1,r1=null,gu=null,Qo=!1,vu=null,Zp=0,rs=0,ba=null,b0=-1,Jp=0;function ds(){return co&6?jo():b0!==-1?b0:b0=jo()}function _u(Et){return Et.mode&1?co&2&&Yo!==0?Yo&-Yo:q2.transition!==null?(Jp===0&&(Et=Do,Do<<=1,!(Do&4194240)&&(Do=64),Jp=Et),Jp):(Et=to,Et!==0?Et:Kn()):1}function Ws(Et,Mt,kt){if(50<rs)throw rs=0,ba=null,Error(ft(185));var Bt=sp(Et,Mt);return Bt===null?null:(f0(Bt,Mt,kt),(!(co&2)||Bt!==Uo)&&(Bt===Uo&&(!(co&2)&&(Yp|=Mt),Go===4&&yu(Bt,Yo)),hs(Bt,kt),Mt===1&&co===0&&!(Et.mode&1)&&(Wu(),Ep&&Al())),Bt)}function sp(Et,Mt){Et.lanes|=Mt;var kt=Et.alternate;for(kt!==null&&(kt.lanes|=Mt),kt=Et,Et=Et.return;Et!==null;)Et.childLanes|=Mt,kt=Et.alternate,kt!==null&&(kt.childLanes|=Mt),kt=Et,Et=Et.return;return kt.tag===3?kt.stateNode:null}function hs(Et,Mt){var kt=Et.callbackNode;x1(Et,Mt);var Bt=xp(Et,Et===Uo?Yo:0);if(Bt===0)kt!==null&&E1(kt),Et.callbackNode=null,Et.callbackPriority=0;else if(Mt=Bt&-Bt,Et.callbackPriority!==Mt){if(kt!=null&&E1(kt),Mt===1)Et.tag===0?j2(f2.bind(null,Et)):T1(f2.bind(null,Et)),Dn?vr(function(){co===0&&Al()}):pm(q0,Al),kt=null;else{switch(S1(Bt)){case 1:kt=q0;break;case 4:kt=$2;break;case 16:kt=no;break;case 536870912:kt=G2;break;default:kt=no}kt=S2(kt,em.bind(null,Et))}Et.callbackPriority=Mt,Et.callbackNode=kt}}function em(Et,Mt){if(b0=-1,Jp=0,co&6)throw Error(ft(327));var kt=Et.callbackNode;if(Xu()&&Et.callbackNode!==kt)return null;var Bt=xp(Et,Et===Uo?Yo:0);if(Bt===0)return null;if(Bt&30||Bt&Et.expiredLanes||Mt)Mt=tm(Et,Bt);else{Mt=Bt;var $t=co;co|=2;var qt=p2();(Uo!==Et||Yo!==Mt)&&(Wu(),ju(Et,Mt));do try{lv();break}catch(gn){h2(Et,gn)}while(1);gm(),Kp.current=qt,co=$t,Vo!==null?Mt=0:(Uo=null,Yo=0,Mt=Go)}if(Mt!==0){if(Mt===2&&($t=Qs(Et),$t!==0&&(Bt=$t,Mt=i1(Et,$t))),Mt===1)throw kt=ip,ju(Et,0),yu(Et,Bt),hs(Et,jo()),kt;if(Mt===6)yu(Et,Bt);else{if($t=Et.current.alternate,!(Bt&30)&&!js($t)&&(Mt=tm(Et,Bt),Mt===2&&(qt=Qs(Et),qt!==0&&(Bt=qt,Mt=i1(Et,qt))),Mt===1))throw kt=ip,ju(Et,0),yu(Et,Bt),hs(Et,jo()),kt;switch(Et.finishedWork=$t,Et.finishedLanes=Bt,Mt){case 0:case 1:throw Error(ft(345));case 2:qu(Et,Es);break;case 3:if(yu(Et,Bt),(Bt&130023424)===Bt&&(Mt=t1+500-jo(),10<Mt)){if(xp(Et,0)!==0)break;if($t=Et.suspendedLanes,($t&Bt)!==Bt){ds(),Et.pingedLanes|=Et.suspendedLanes&$t;break}Et.timeoutHandle=er(qu.bind(null,Et,Es),Mt);break}qu(Et,Es);break;case 4:if(yu(Et,Bt),(Bt&4194240)===Bt)break;for(Mt=Et.eventTimes,$t=-1;0<Bt;){var on=31-vo(Bt);qt=1<<on,on=Mt[on],on>$t&&($t=on),Bt&=~qt}if(Bt=$t,Bt=jo()-Bt,Bt=(120>Bt?120:480>Bt?480:1080>Bt?1080:1920>Bt?1920:3e3>Bt?3e3:4320>Bt?4320:1960*sv(Bt/1960))-Bt,10<Bt){Et.timeoutHandle=er(qu.bind(null,Et,Es),Bt);break}qu(Et,Es);break;case 5:qu(Et,Es);break;default:throw Error(ft(329))}}}return hs(Et,jo()),Et.callbackNode===kt?em.bind(null,Et):null}function i1(Et,Mt){var kt=op;return Et.current.memoizedState.isDehydrated&&(ju(Et,Mt).flags|=256),Et=tm(Et,Mt),Et!==2&&(Mt=Es,Es=kt,Mt!==null&&o1(Mt)),Et}function o1(Et){Es===null?Es=Et:Es.push.apply(Es,Et)}function js(Et){for(var Mt=Et;;){if(Mt.flags&16384){var kt=Mt.updateQueue;if(kt!==null&&(kt=kt.stores,kt!==null))for(var Bt=0;Bt<kt.length;Bt++){var $t=kt[Bt],qt=$t.getSnapshot;$t=$t.value;try{if(!Ml(qt(),$t))return!1}catch{return!1}}}if(kt=Mt.child,Mt.subtreeFlags&16384&&kt!==null)kt.return=Mt,Mt=kt;else{if(Mt===Et)break;for(;Mt.sibling===null;){if(Mt.return===null||Mt.return===Et)return!0;Mt=Mt.return}Mt.sibling.return=Mt.return,Mt=Mt.sibling}}return!0}function yu(Et,Mt){for(Mt&=~e1,Mt&=~Yp,Et.suspendedLanes|=Mt,Et.pingedLanes&=~Mt,Et=Et.expirationTimes;0<Mt;){var kt=31-vo(Mt),Bt=1<<kt;Et[kt]=-1,Mt&=~Bt}}function f2(Et){if(co&6)throw Error(ft(327));Xu();var Mt=xp(Et,0);if(!(Mt&1))return hs(Et,jo()),null;var kt=tm(Et,Mt);if(Et.tag!==0&&kt===2){var Bt=Qs(Et);Bt!==0&&(Mt=Bt,kt=i1(Et,Bt))}if(kt===1)throw kt=ip,ju(Et,0),yu(Et,Mt),hs(Et,jo()),kt;if(kt===6)throw Error(ft(345));return Et.finishedWork=Et.current.alternate,Et.finishedLanes=Mt,qu(Et,Es),hs(Et,jo()),null}function d2(Et){vu!==null&&vu.tag===0&&!(co&6)&&Xu();var Mt=co;co|=1;var kt=Bo.transition,Bt=to;try{if(Bo.transition=null,to=1,Et)return Et()}finally{to=Bt,Bo.transition=kt,co=Mt,!(co&6)&&Al()}}function s1(){Ns=C0.current,xr(C0)}function ju(Et,Mt){Et.finishedWork=null,Et.finishedLanes=0;var kt=Et.timeoutHandle;if(kt!==kr&&(Et.timeoutHandle=kr,gr(kt)),Vo!==null)for(kt=Vo.return;kt!==null;){var Bt=kt;switch(wm(Bt),Bt.tag){case 1:Bt=Bt.type.childContextTypes,Bt!=null&&yo();break;case 3:Lu(),xr(Bn),xr(go),Gs();break;case 5:Lp(Bt);break;case 4:Lu();break;case 13:xr(ko);break;case 19:xr(ko);break;case 10:vm(Bt.type._context);break;case 22:case 23:s1()}kt=kt.return}if(Uo=Et,Vo=Et=Xs(Et.current,null),Yo=Ns=Mt,Go=0,ip=null,e1=Yp=R0=0,Es=op=null,Cl!==null){for(Mt=0;Mt<Cl.length;Mt++)if(kt=Cl[Mt],Bt=kt.interleaved,Bt!==null){kt.interleaved=null;var $t=Bt.next,qt=kt.pending;if(qt!==null){var on=qt.next;qt.next=$t,Bt.next=on}kt.pending=Bt}Cl=null}return Et}function h2(Et,Mt){do{var kt=Vo;try{if(gm(),y0.current=w0,Ss){for(var Bt=Oo.memoizedState;Bt!==null;){var $t=Bt.queue;$t!==null&&($t.pending=null),Bt=Bt.next}Ss=!1}if(x0=0,$o=Jo=Oo=null,ho=!1,S0=0,Jm.current=null,kt===null||kt.return===null){Go=1,ip=Mt,Vo=null;break}e:{var qt=Et,on=kt.return,gn=kt,Vn=Mt;if(Mt=Yo,gn.flags|=32768,Vn!==null&&typeof Vn=="object"&&typeof Vn.then=="function"){var ur=Vn,Nr=gn,Er=Nr.tag;if(!(Nr.mode&1)&&(Er===0||Er===11||Er===15)){var Xr=Nr.alternate;Xr?(Nr.updateQueue=Xr.updateQueue,Nr.memoizedState=Xr.memoizedState,Nr.lanes=Xr.lanes):(Nr.updateQueue=null,Nr.memoizedState=null)}var Ro=_d(on);if(Ro!==null){Ro.flags&=-257,T0(Ro,on,gn,qt,Mt),Ro.mode&1&&Um(qt,ur,Mt),Mt=Ro,Vn=ur;var Gr=Mt.updateQueue;if(Gr===null){var Mr=new Set;Mr.add(Vn),Mt.updateQueue=Mr}else Gr.add(Vn);break e}else{if(!(Mt&1)){Um(qt,ur,Mt),a1();break e}Vn=Error(ft(426))}}else if(Io&&gn.mode&1){var Os=_d(on);if(Os!==null){!(Os.flags&65536)&&(Os.flags|=256),T0(Os,on,gn,qt,Mt),kp(Vn);break e}}qt=Vn,Go!==4&&(Go=2),op===null?op=[qt]:op.push(qt),Vn=J0(Vn,gn),gn=on;do{switch(gn.tag){case 3:gn.flags|=65536,Mt&=-Mt,gn.lanes|=Mt;var bn=_f(gn,Vn,Mt);C1(gn,bn);break e;case 1:qt=Vn;var xn=gn.type,Fn=gn.stateNode;if(!(gn.flags&128)&&(typeof xn.getDerivedStateFromError=="function"||Fn!==null&&typeof Fn.componentDidCatch=="function"&&(gu===null||!gu.has(Fn)))){gn.flags|=65536,Mt&=-Mt,gn.lanes|=Mt;var Rr=V1(gn,qt,Mt);C1(gn,Rr);break e}}gn=gn.return}while(gn!==null)}g2(kt)}catch(Hr){Mt=Hr,Vo===kt&&kt!==null&&(Vo=kt=kt.return);continue}break}while(1)}function p2(){var Et=Kp.current;return Kp.current=w0,Et===null?w0:Et}function a1(){(Go===0||Go===3||Go===2)&&(Go=4),Uo===null||!(R0&268435455)&&!(Yp&268435455)||yu(Uo,Yo)}function tm(Et,Mt){var kt=co;co|=2;var Bt=p2();Uo===Et&&Yo===Mt||ju(Et,Mt);do try{av();break}catch($t){h2(Et,$t)}while(1);if(gm(),co=kt,Kp.current=Bt,Vo!==null)throw Error(ft(261));return Uo=null,Yo=0,Go}function av(){for(;Vo!==null;)m2(Vo)}function lv(){for(;Vo!==null&&!z2();)m2(Vo)}function m2(Et){var Mt=x2(Et.alternate,Et,Ns);Et.memoizedProps=Et.pendingProps,Mt===null?g2(Et):Vo=Mt,Jm.current=null}function g2(Et){var Mt=Et;do{var kt=Mt.alternate;if(Et=Mt.return,Mt.flags&32768){if(kt=tv(kt,Mt),kt!==null){kt.flags&=32767,Vo=kt;return}if(Et!==null)Et.flags|=32768,Et.subtreeFlags=0,Et.deletions=null;else{Go=6,Vo=null;return}}else if(kt=Z2(kt,Mt,Ns),kt!==null){Vo=kt;return}if(Mt=Mt.sibling,Mt!==null){Vo=Mt;return}Vo=Mt=Et}while(Mt!==null);Go===0&&(Go=5)}function qu(Et,Mt){var kt=to,Bt=Bo.transition;try{Bo.transition=null,to=1,uv(Et,Mt,kt)}finally{Bo.transition=Bt,to=kt}return null}function uv(Et,Mt,kt){do Xu();while(vu!==null);if(co&6)throw Error(ft(327));var Bt=Et.finishedWork,$t=Et.finishedLanes;if(Bt===null)return null;if(Et.finishedWork=null,Et.finishedLanes=0,Bt===Et.current)throw Error(ft(177));Et.callbackNode=null,Et.callbackPriority=0;var qt=Bt.lanes|Bt.childLanes;if(V2(Et,qt),Et===Uo&&(Vo=Uo=null,Yo=0),!(Bt.subtreeFlags&2064)&&!(Bt.flags&2064)||Qo||(Qo=!0,S2(no,function(){return Xu(),null})),qt=(Bt.flags&15990)!==0,Bt.subtreeFlags&15990||qt){qt=Bo.transition,Bo.transition=null;var on=to;to=1;var gn=co;co|=4,Jm.current=null,rv(Et,Bt),iv(Et,Bt),pn(Et.containerInfo),Et.current=Bt,ov(Bt),w1(),co=gn,to=on,Bo.transition=qt}else Et.current=Bt;if(Qo&&(Qo=!1,vu=Et,Zp=$t),qt=Et.pendingLanes,qt===0&&(gu=null),H2(Bt.stateNode),hs(Et,jo()),Mt!==null)for(kt=Et.onRecoverableError,Bt=0;Bt<Mt.length;Bt++)kt(Mt[Bt]);if(Qp)throw Qp=!1,Et=r1,r1=null,Et;return Zp&1&&Et.tag!==0&&Xu(),qt=Et.pendingLanes,qt&1?Et===ba?rs++:(rs=0,ba=Et):rs=0,Al(),null}function Xu(){if(vu!==null){var Et=S1(Zp),Mt=Bo.transition,kt=to;try{if(Bo.transition=null,to=16>Et?16:Et,vu===null)var Bt=!1;else{if(Et=vu,vu=null,Zp=0,co&6)throw Error(ft(331));var $t=co;for(co|=4,Tr=Et.current;Tr!==null;){var qt=Tr,on=qt.child;if(Tr.flags&16){var gn=qt.deletions;if(gn!==null){for(var Vn=0;Vn<gn.length;Vn++){var ur=gn[Vn];for(Tr=ur;Tr!==null;){var Nr=Tr;switch(Nr.tag){case 0:case 11:case 15:Hu(8,Nr,qt)}var Er=Nr.child;if(Er!==null)Er.return=Nr,Tr=Er;else for(;Tr!==null;){Nr=Tr;var Xr=Nr.sibling,Ro=Nr.return;if(t2(Nr),Nr===ur){Tr=null;break}if(Xr!==null){Xr.return=Ro,Tr=Xr;break}Tr=Ro}}}var Gr=qt.alternate;if(Gr!==null){var Mr=Gr.child;if(Mr!==null){Gr.child=null;do{var Os=Mr.sibling;Mr.sibling=null,Mr=Os}while(Mr!==null)}}Tr=qt}}if(qt.subtreeFlags&2064&&on!==null)on.return=qt,Tr=on;else e:for(;Tr!==null;){if(qt=Tr,qt.flags&2048)switch(qt.tag){case 0:case 11:case 15:Hu(9,qt,qt.return)}var bn=qt.sibling;if(bn!==null){bn.return=qt.return,Tr=bn;break e}Tr=qt.return}}var xn=Et.current;for(Tr=xn;Tr!==null;){on=Tr;var Fn=on.child;if(on.subtreeFlags&2064&&Fn!==null)Fn.return=on,Tr=Fn;else e:for(on=xn;Tr!==null;){if(gn=Tr,gn.flags&2048)try{switch(gn.tag){case 0:case 11:case 15:np(9,gn)}}catch(Hr){ws(gn,gn.return,Hr)}if(gn===on){Tr=null;break e}var Rr=gn.sibling;if(Rr!==null){Rr.return=gn.return,Tr=Rr;break e}Tr=gn.return}}if(co=$t,Al(),Tl&&typeof Tl.onPostCommitFiberRoot=="function")try{Tl.onPostCommitFiberRoot(Sp,Et)}catch{}Bt=!0}return Bt}finally{to=kt,Bo.transition=Mt}}return!1}function _2(Et,Mt,kt){Mt=J0(kt,Mt),Mt=_f(Et,Mt,1),du(Et,Mt),Mt=ds(),Et=sp(Et,1),Et!==null&&(f0(Et,1,Mt),hs(Et,Mt))}function ws(Et,Mt,kt){if(Et.tag===3)_2(Et,Et,kt);else for(;Mt!==null;){if(Mt.tag===3){_2(Mt,Et,kt);break}else if(Mt.tag===1){var Bt=Mt.stateNode;if(typeof Mt.type.getDerivedStateFromError=="function"||typeof Bt.componentDidCatch=="function"&&(gu===null||!gu.has(Bt))){Et=J0(kt,Et),Et=V1(Mt,Et,1),du(Mt,Et),Et=ds(),Mt=sp(Mt,1),Mt!==null&&(f0(Mt,1,Et),hs(Mt,Et));break}}Mt=Mt.return}}function cv(Et,Mt,kt){var Bt=Et.pingCache;Bt!==null&&Bt.delete(Mt),Mt=ds(),Et.pingedLanes|=Et.suspendedLanes&kt,Uo===Et&&(Yo&kt)===kt&&(Go===4||Go===3&&(Yo&130023424)===Yo&&500>jo()-t1?ju(Et,0):e1|=kt),hs(Et,Mt)}function y2(Et,Mt){Mt===0&&(Et.mode&1?(Mt=cu,cu<<=1,!(cu&130023424)&&(cu=4194304)):Mt=1);var kt=ds();Et=sp(Et,Mt),Et!==null&&(f0(Et,Mt,kt),hs(Et,kt))}function fv(Et){var Mt=Et.memoizedState,kt=0;Mt!==null&&(kt=Mt.retryLane),y2(Et,kt)}function dv(Et,Mt){var kt=0;switch(Et.tag){case 13:var Bt=Et.stateNode,$t=Et.memoizedState;$t!==null&&(kt=$t.retryLane);break;case 19:Bt=Et.stateNode;break;default:throw Error(ft(314))}Bt!==null&&Bt.delete(Mt),y2(Et,kt)}var x2;x2=function(Et,Mt,kt){if(Et!==null)if(Et.memoizedProps!==Mt.pendingProps||Bn.current)ks=!0;else{if(!(Et.lanes&kt)&&!(Mt.flags&128))return ks=!1,ev(Et,Mt,kt);ks=!!(Et.flags&131072)}else ks=!1,Io&&Mt.flags&1048576&&L1(Mt,Ip,Mt.index);switch(Mt.lanes=0,Mt.tag){case 2:var Bt=Mt.type;Et!==null&&(Et.alternate=null,Mt.alternate=null,Mt.flags|=2),Et=Mt.pendingProps;var $t=$r(Mt,go.current);h0(Mt,kt),$t=Np(null,Mt,Bt,Et,$t,kt);var qt=Pm();return Mt.flags|=1,typeof $t=="object"&&$t!==null&&typeof $t.render=="function"&&$t.$$typeof===void 0?(Mt.tag=1,Mt.memoizedState=null,Mt.updateQueue=null,xo(Bt)?(qt=!0,Ho(Mt)):qt=!1,Mt.memoizedState=$t.state!==null&&$t.state!==void 0?$t.state:null,ym(Mt),$t.updater=bp,Mt.stateNode=$t,$t._reactInternals=Mt,Sm(Mt,Bt,Et,kt),Mt=Vp(null,Mt,Bt,!0,qt,kt)):(Mt.tag=0,Io&&qt&&Em(Mt),ns(null,Mt,$t,kt),Mt=Mt.child),Mt;case 16:Bt=Mt.elementType;e:{switch(Et!==null&&(Et.alternate=null,Mt.alternate=null,Mt.flags|=2),Et=Mt.pendingProps,$t=Bt._init,Bt=$t(Bt._payload),Mt.type=Bt,$t=Mt.tag=pv(Bt),Et=Js(Bt,Et),$t){case 0:Mt=zm(null,Mt,Bt,Et,kt);break e;case 1:Mt=q1(null,Mt,Bt,Et,kt);break e;case 11:Mt=G1(null,Mt,Bt,Et,kt);break e;case 14:Mt=H1(null,Mt,Bt,Js(Bt.type,Et),kt);break e}throw Error(ft(306,Bt,""))}return Mt;case 0:return Bt=Mt.type,$t=Mt.pendingProps,$t=Mt.elementType===Bt?$t:Js(Bt,$t),zm(Et,Mt,Bt,$t,kt);case 1:return Bt=Mt.type,$t=Mt.pendingProps,$t=Mt.elementType===Bt?$t:Js(Bt,$t),q1(Et,Mt,Bt,$t,kt);case 3:e:{if(zu(Mt),Et===null)throw Error(ft(387));Bt=Mt.pendingProps,qt=Mt.memoizedState,$t=qt.element,A1(Et,Mt),Rp(Mt,Bt,null,kt);var on=Mt.memoizedState;if(Bt=on.element,Zn&&qt.isDehydrated)if(qt={element:Bt,isDehydrated:!1,cache:on.cache,transitions:on.transitions},Mt.updateQueue.baseState=qt,Mt.memoizedState=qt,Mt.flags&256){$t=Error(ft(423)),Mt=$u(Et,Mt,Bt,kt,$t);break e}else if(Bt!==$t){$t=Error(ft(424)),Mt=$u(Et,Mt,Bt,kt,$t);break e}else for(Zn&&(Is=bu(Mt.stateNode.containerInfo),Ps=Mt,Io=!0,na=null,X0=!1),kt=F1(Mt,null,Bt,kt),Mt.child=kt;kt;)kt.flags=kt.flags&-3|4096,kt=kt.sibling;else{if(ku(),Bt===$t){Mt=eu(Et,Mt,kt);break e}ns(Et,Mt,Bt,kt)}Mt=Mt.child}return Mt;case 5:return Rm(Mt),Et===null&&Mm(Mt),Bt=Mt.type,$t=Mt.pendingProps,qt=Et!==null?Et.memoizedProps:null,on=$t.children,jn(Bt,$t)?on=null:qt!==null&&jn(Bt,qt)&&(Mt.flags|=32),Vm(Et,Mt),ns(Et,Mt,on,kt),Mt.child;case 6:return Et===null&&Mm(Mt),null;case 13:return X1(Et,Mt,kt);case 4:return $s(Mt,Mt.stateNode.containerInfo),Bt=Mt.pendingProps,Et===null?Mt.child=v0(Mt,null,Bt,kt):ns(Et,Mt,Bt,kt),Mt.child;case 11:return Bt=Mt.type,$t=Mt.pendingProps,$t=Mt.elementType===Bt?$t:Js(Bt,$t),G1(Et,Mt,Bt,$t,kt);case 7:return ns(Et,Mt,Mt.pendingProps,kt),Mt.child;case 8:return ns(Et,Mt,Mt.pendingProps.children,kt),Mt.child;case 12:return ns(Et,Mt,Mt.pendingProps.children,kt),Mt.child;case 10:e:{if(Bt=Mt.type._context,$t=Mt.pendingProps,qt=Mt.memoizedProps,on=$t.value,M1(Mt,Bt,on),qt!==null)if(Ml(qt.value,on)){if(qt.children===$t.children&&!Bn.current){Mt=eu(Et,Mt,kt);break e}}else for(qt=Mt.child,qt!==null&&(qt.return=Mt);qt!==null;){var gn=qt.dependencies;if(gn!==null){on=qt.child;for(var Vn=gn.firstContext;Vn!==null;){if(Vn.context===Bt){if(qt.tag===1){Vn=Xl(-1,kt&-kt),Vn.tag=2;var ur=qt.updateQueue;if(ur!==null){ur=ur.shared;var Nr=ur.pending;Nr===null?Vn.next=Vn:(Vn.next=Nr.next,Nr.next=Vn),ur.pending=Vn}}qt.lanes|=kt,Vn=qt.alternate,Vn!==null&&(Vn.lanes|=kt),_m(qt.return,kt,Mt),gn.lanes|=kt;break}Vn=Vn.next}}else if(qt.tag===10)on=qt.type===Mt.type?null:qt.child;else if(qt.tag===18){if(on=qt.return,on===null)throw Error(ft(341));on.lanes|=kt,gn=on.alternate,gn!==null&&(gn.lanes|=kt),_m(on,kt,Mt),on=qt.sibling}else on=qt.child;if(on!==null)on.return=qt;else for(on=qt;on!==null;){if(on===Mt){on=null;break}if(qt=on.sibling,qt!==null){qt.return=on.return,on=qt;break}on=on.return}qt=on}ns(Et,Mt,$t.children,kt),Mt=Mt.child}return Mt;case 9:return $t=Mt.type,Bt=Mt.pendingProps.children,h0(Mt,kt),$t=Bs($t),Bt=Bt($t),Mt.flags|=1,ns(Et,Mt,Bt,kt),Mt.child;case 14:return Bt=Mt.type,$t=Js(Bt,Mt.pendingProps),$t=Js(Bt.type,$t),H1(Et,Mt,Bt,$t,kt);case 15:return W1(Et,Mt,Mt.type,Mt.pendingProps,kt);case 17:return Bt=Mt.type,$t=Mt.pendingProps,$t=Mt.elementType===Bt?$t:Js(Bt,$t),Et!==null&&(Et.alternate=null,Mt.alternate=null,Mt.flags|=2),Mt.tag=1,xo(Bt)?(Et=!0,Ho(Mt)):Et=!1,h0(Mt,kt),I1(Mt,Bt,$t),Sm(Mt,Bt,$t,kt),Vp(null,Mt,Bt,!0,Et,kt);case 19:return Z1(Et,Mt,kt);case 22:return j1(Et,Mt,kt)}throw Error(ft(156,Mt.tag))};function S2(Et,Mt){return pm(Et,Mt)}function hv(Et,Mt,kt,Bt){this.tag=Et,this.key=kt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=Mt,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Bt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qs(Et,Mt,kt,Bt){return new hv(Et,Mt,kt,Bt)}function l1(Et){return Et=Et.prototype,!(!Et||!Et.isReactComponent)}function pv(Et){if(typeof Et=="function")return l1(Et)?1:0;if(Et!=null){if(Et=Et.$$typeof,Et===Ot)return 11;if(Et===Dt)return 14}return 2}function Xs(Et,Mt){var kt=Et.alternate;return kt===null?(kt=qs(Et.tag,Mt,Et.key,Et.mode),kt.elementType=Et.elementType,kt.type=Et.type,kt.stateNode=Et.stateNode,kt.alternate=Et,Et.alternate=kt):(kt.pendingProps=Mt,kt.type=Et.type,kt.flags=0,kt.subtreeFlags=0,kt.deletions=null),kt.flags=Et.flags&14680064,kt.childLanes=Et.childLanes,kt.lanes=Et.lanes,kt.child=Et.child,kt.memoizedProps=Et.memoizedProps,kt.memoizedState=Et.memoizedState,kt.updateQueue=Et.updateQueue,Mt=Et.dependencies,kt.dependencies=Mt===null?null:{lanes:Mt.lanes,firstContext:Mt.firstContext},kt.sibling=Et.sibling,kt.index=Et.index,kt.ref=Et.ref,kt}function nm(Et,Mt,kt,Bt,$t,qt){var on=2;if(Bt=Et,typeof Et=="function")l1(Et)&&(on=1);else if(typeof Et=="string")on=5;else e:switch(Et){case Tt:return ss(kt.children,$t,qt,Mt);case At:on=8,$t|=8;break;case Ct:return Et=qs(12,kt,Mt,$t|2),Et.elementType=Ct,Et.lanes=qt,Et;case Nt:return Et=qs(13,kt,Mt,$t),Et.elementType=Nt,Et.lanes=qt,Et;case bt:return Et=qs(19,kt,Mt,$t),Et.elementType=bt,Et.lanes=qt,Et;case Ut:return Ol(kt,$t,qt,Mt);default:if(typeof Et=="object"&&Et!==null)switch(Et.$$typeof){case Rt:on=10;break e;case yt:on=9;break e;case Ot:on=11;break e;case Dt:on=14;break e;case Ft:on=16,Bt=null;break e}throw Error(ft(130,Et==null?Et:typeof Et,""))}return Mt=qs(on,kt,Mt,$t),Mt.elementType=Et,Mt.type=Bt,Mt.lanes=qt,Mt}function ss(Et,Mt,kt,Bt){return Et=qs(7,Et,Bt,Mt),Et.lanes=kt,Et}function Ol(Et,Mt,kt,Bt){return Et=qs(22,Et,Bt,Mt),Et.elementType=Ut,Et.lanes=kt,Et.stateNode={},Et}function zo(Et,Mt,kt){return Et=qs(6,Et,null,Mt),Et.lanes=kt,Et}function $a(Et,Mt,kt){return Mt=qs(4,Et.children!==null?Et.children:[],Et.key,Mt),Mt.lanes=kt,Mt.stateNode={containerInfo:Et.containerInfo,pendingChildren:null,implementation:Et.implementation},Mt}function u1(Et,Mt,kt,Bt,$t){this.tag=Mt,this.containerInfo=Et,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=kr,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zs(0),this.expirationTimes=Zs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zs(0),this.identifierPrefix=Bt,this.onRecoverableError=$t,Zn&&(this.mutableSourceEagerHydrationData=null)}function xu(Et,Mt,kt,Bt,$t,qt,on,gn,Vn){return Et=new u1(Et,Mt,kt,gn,Vn),Mt===1?(Mt=1,qt===!0&&(Mt|=8)):Mt=0,qt=qs(3,null,null,Mt),Et.current=qt,qt.stateNode=Et,qt.memoizedState={element:Bt,isDehydrated:kt,cache:null,transitions:null},ym(qt),Et}function Dl(Et){if(!Et)return lo;Et=Et._reactInternals;e:{if(Kt(Et)!==Et||Et.tag!==1)throw Error(ft(170));var Mt=Et;do{switch(Mt.tag){case 3:Mt=Mt.stateNode.context;break e;case 1:if(xo(Mt.type)){Mt=Mt.stateNode.__reactInternalMemoizedMergedChildContext;break e}}Mt=Mt.return}while(Mt!==null);throw Error(ft(171))}if(Et.tag===1){var kt=Et.type;if(xo(kt))return Hl(Et,kt,Mt)}return Mt}function ap(Et){var Mt=Et._reactInternals;if(Mt===void 0)throw typeof Et.render=="function"?Error(ft(188)):(Et=Object.keys(Et).join(","),Error(ft(268,Et)));return Et=fn(Mt),Et===null?null:Et.stateNode}function E2(Et,Mt){if(Et=Et.memoizedState,Et!==null&&Et.dehydrated!==null){var kt=Et.retryLane;Et.retryLane=kt!==0&&kt<Mt?kt:Mt}}function c1(Et,Mt){E2(Et,Mt),(Et=Et.alternate)&&E2(Et,Mt)}function mv(Et){return Et=fn(Et),Et===null?null:Et.stateNode}function gv(){return null}return s.attemptContinuousHydration=function(Et){if(Et.tag===13){var Mt=ds();Ws(Et,134217728,Mt),c1(Et,134217728)}},s.attemptHydrationAtCurrentPriority=function(Et){if(Et.tag===13){var Mt=ds(),kt=_u(Et);Ws(Et,kt,Mt),c1(Et,kt)}},s.attemptSynchronousHydration=function(Et){switch(Et.tag){case 3:var Mt=Et.stateNode;if(Mt.current.memoizedState.isDehydrated){var kt=xs(Mt.pendingLanes);kt!==0&&(hm(Mt,kt|1),hs(Mt,jo()),!(co&6)&&(Wu(),Al()))}break;case 13:var Bt=ds();d2(function(){return Ws(Et,1,Bt)}),c1(Et,1)}},s.batchedUpdates=function(Et,Mt){var kt=co;co|=1;try{return Et(Mt)}finally{co=kt,co===0&&(Wu(),Ep&&Al())}},s.createComponentSelector=function(Et){return{$$typeof:jp,value:Et}},s.createContainer=function(Et,Mt,kt,Bt,$t,qt,on){return xu(Et,Mt,!1,null,kt,Bt,$t,qt,on)},s.createHasPseudoClassSelector=function(Et){return{$$typeof:Ls,value:Et}},s.createHydrationContainer=function(Et,Mt,kt,Bt,$t,qt,on,gn,Vn){return Et=xu(kt,Bt,!0,Et,$t,qt,on,gn,Vn),Et.context=Dl(null),kt=Et.current,Bt=ds(),$t=_u(kt),qt=Xl(Bt,$t),qt.callback=Mt??null,du(kt,qt),Et.current.lanes=$t,f0(Et,$t,Bt),hs(Et,Bt),Et},s.createPortal=function(Et,Mt,kt){var Bt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:St,key:Bt==null?null:""+Bt,children:Et,containerInfo:Mt,implementation:kt}},s.createRoleSelector=function(Et){return{$$typeof:A0,value:Et}},s.createTestNameSelector=function(Et){return{$$typeof:qp,value:Et}},s.createTextSelector=function(Et){return{$$typeof:Xp,value:Et}},s.deferredUpdates=function(Et){var Mt=to,kt=Bo.transition;try{return Bo.transition=null,to=16,Et()}finally{to=Mt,Bo.transition=kt}},s.discreteUpdates=function(Et,Mt,kt,Bt,$t){var qt=to,on=Bo.transition;try{return Bo.transition=null,to=1,Et(Mt,kt,Bt,$t)}finally{to=qt,Bo.transition=on,co===0&&Wu()}},s.findAllNodes=Zm,s.findBoundingRects=function(Et,Mt){if(!Xn)throw Error(ft(363));Mt=Zm(Et,Mt),Et=[];for(var kt=0;kt<Mt.length;kt++)Et.push(Qt(Mt[kt]));for(Mt=Et.length-1;0<Mt;Mt--){kt=Et[Mt];for(var Bt=kt.x,$t=Bt+kt.width,qt=kt.y,on=qt+kt.height,gn=Mt-1;0<=gn;gn--)if(Mt!==gn){var Vn=Et[gn],ur=Vn.x,Nr=ur+Vn.width,Er=Vn.y,Xr=Er+Vn.height;if(Bt>=ur&&qt>=Er&&$t<=Nr&&on<=Xr){Et.splice(Mt,1);break}else if(Bt!==ur||kt.width!==Vn.width||Xr<qt||Er>on){if(!(qt!==Er||kt.height!==Vn.height||Nr<Bt||ur>$t)){ur>Bt&&(Vn.width+=ur-Bt,Vn.x=Bt),Nr<$t&&(Vn.width=$t-ur),Et.splice(Mt,1);break}}else{Er>qt&&(Vn.height+=Er-qt,Vn.y=qt),Xr<on&&(Vn.height=on-Er),Et.splice(Mt,1);break}}}return Et},s.findHostInstance=ap,s.findHostInstanceWithNoPortals=function(Et){return Et=Jt(Et),Et=Et!==null?wn(Et):null,Et===null?null:Et.stateNode},s.findHostInstanceWithWarning=function(Et){return ap(Et)},s.flushControlled=function(Et){var Mt=co;co|=1;var kt=Bo.transition,Bt=to;try{Bo.transition=null,to=1,Et()}finally{to=Bt,Bo.transition=kt,co=Mt,co===0&&(Wu(),Al())}},s.flushPassiveEffects=Xu,s.flushSync=d2,s.focusWithin=function(Et,Mt){if(!Xn)throw Error(ft(363));for(Et=Km(Et),Mt=c2(Et,Mt),Mt=Array.from(Mt),Et=0;Et<Mt.length;){var kt=Mt[Et++];if(!Pn(kt)){if(kt.tag===5&&yn(kt.stateNode))return!0;for(kt=kt.child;kt!==null;)Mt.push(kt),kt=kt.sibling}}return!1},s.getCurrentUpdatePriority=function(){return to},s.getFindAllNodesFailureDescription=function(Et,Mt){if(!Xn)throw Error(ft(363));var kt=0,Bt=[];Et=[Km(Et),0];for(var $t=0;$t<Et.length;){var qt=Et[$t++],on=Et[$t++],gn=Mt[on];if((qt.tag!==5||!Pn(qt))&&(Ym(qt,gn)&&(Bt.push(Qm(gn)),on++,on>kt&&(kt=on)),on<Mt.length))for(qt=qt.child;qt!==null;)Et.push(qt,on),qt=qt.sibling}if(kt<Mt.length){for(Et=[];kt<Mt.length;kt++)Et.push(Qm(Mt[kt]));return`findAllNodes was able to match part of the selector:
  `+(Bt.join(" > ")+`

No matching component was found for:
  `)+Et.join(" > ")}return null},s.getPublicRootInstance=function(Et){if(Et=Et.current,!Et.child)return null;switch(Et.child.tag){case 5:return Tn(Et.child.stateNode);default:return Et.child.stateNode}},s.injectIntoDevTools=function(Et){if(Et={bundleType:Et.bundleType,version:Et.version,rendererPackageName:Et.rendererPackageName,rendererConfig:Et.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gt.ReactCurrentDispatcher,findHostInstanceByFiber:mv,findFiberByHostInstance:Et.findFiberByHostInstance||gv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")Et=!1;else{var Mt=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(Mt.isDisabled||!Mt.supportsFiber)Et=!0;else{try{Sp=Mt.inject(Et),Tl=Mt}catch{}Et=!!Mt.checkDCE}}return Et},s.isAlreadyRendering=function(){return!1},s.observeVisibleRects=function(Et,Mt,kt,Bt){if(!Xn)throw Error(ft(363));Et=Zm(Et,Mt);var $t=Jn(Et,kt,Bt).disconnect;return{disconnect:function(){$t()}}},s.registerMutableSourceForHydration=function(Et,Mt){var kt=Mt._getVersion;kt=kt(Mt._source),Et.mutableSourceEagerHydrationData==null?Et.mutableSourceEagerHydrationData=[Mt,kt]:Et.mutableSourceEagerHydrationData.push(Mt,kt)},s.runWithPriority=function(Et,Mt){var kt=to;try{return to=Et,Mt()}finally{to=kt}},s.shouldError=function(){return null},s.shouldSuspend=function(){return!1},s.updateContainer=function(Et,Mt,kt,Bt){var $t=Mt.current,qt=ds(),on=_u($t);return kt=Dl(kt),Mt.context===null?Mt.context=kt:Mt.pendingContext=kt,Mt=Xl(qt,on),Mt.payload={element:Et},Bt=Bt===void 0?null:Bt,Bt!==null&&(Mt.callback=Bt),du($t,Mt),Et=Ws($t,on,qt),Et!==null&&Cp(Et,$t,on),on},s};reactReconciler.exports=reactReconciler_production_min;var reactReconcilerExports=reactReconciler.exports;const Reconciler=getDefaultExportFromCjs(reactReconcilerExports),catalogue={},extend=c=>void Object.assign(catalogue,c);function createRenderer(c,e){function s(Tt,{args:At=[],attach:Ct,...Rt},yt){let Ot=`${Tt[0].toUpperCase()}${Tt.slice(1)}`,Nt;if(Tt==="primitive"){if(Rt.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const bt=Rt.object;Nt=prepare(bt,{type:Tt,root:yt,attach:Ct,primitive:!0})}else{const bt=catalogue[Ot];if(!bt)throw new Error(`R3F: ${Ot} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(At))throw new Error("R3F: The args prop must be an array!");Nt=prepare(new bt(...At),{type:Tt,root:yt,attach:Ct,memoizedProps:{args:At}})}return Nt.__r3f.attach===void 0&&(Nt.isBufferGeometry?Nt.__r3f.attach="geometry":Nt.isMaterial&&(Nt.__r3f.attach="material")),Ot!=="inject"&&applyProps$1(Nt,Rt),Nt}function d(Tt,At){let Ct=!1;if(At){var Rt,yt;(Rt=At.__r3f)!=null&&Rt.attach?attach(Tt,At,At.__r3f.attach):At.isObject3D&&Tt.isObject3D&&(Tt.add(At),Ct=!0),Ct||(yt=Tt.__r3f)==null||yt.objects.push(At),At.__r3f||prepare(At,{}),At.__r3f.parent=Tt,updateInstance(At),invalidateInstance(At)}}function nt(Tt,At,Ct){let Rt=!1;if(At){var yt,Ot;if((yt=At.__r3f)!=null&&yt.attach)attach(Tt,At,At.__r3f.attach);else if(At.isObject3D&&Tt.isObject3D){At.parent=Tt,At.dispatchEvent({type:"added"}),Tt.dispatchEvent({type:"childadded",child:At});const Nt=Tt.children.filter(Dt=>Dt!==At),bt=Nt.indexOf(Ct);Tt.children=[...Nt.slice(0,bt),At,...Nt.slice(bt)],Rt=!0}Rt||(Ot=Tt.__r3f)==null||Ot.objects.push(At),At.__r3f||prepare(At,{}),At.__r3f.parent=Tt,updateInstance(At),invalidateInstance(At)}}function o(Tt,At,Ct=!1){Tt&&[...Tt].forEach(Rt=>ft(At,Rt,Ct))}function ft(Tt,At,Ct){if(At){var Rt,yt,Ot;if(At.__r3f&&(At.__r3f.parent=null),(Rt=Tt.__r3f)!=null&&Rt.objects&&(Tt.__r3f.objects=Tt.__r3f.objects.filter(Ut=>Ut!==At)),(yt=At.__r3f)!=null&&yt.attach)detach(Tt,At,At.__r3f.attach);else if(At.isObject3D&&Tt.isObject3D){var Nt;Tt.remove(At),(Nt=At.__r3f)!=null&&Nt.root&&removeInteractivity(findInitialRoot(At),At)}const Dt=(Ot=At.__r3f)==null?void 0:Ot.primitive,Ft=!Dt&&(Ct===void 0?At.dispose!==null:Ct);if(!Dt){var bt;o((bt=At.__r3f)==null?void 0:bt.objects,At,Ft),o(At.children,At,Ft)}if(delete At.__r3f,Ft&&At.dispose&&At.type!=="Scene"){const Ut=()=>{try{At.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,Ut):Ut()}invalidateInstance(Tt)}}function gt(Tt,At,Ct,Rt){var yt;const Ot=(yt=Tt.__r3f)==null?void 0:yt.parent;if(!Ot)return;const Nt=s(At,Ct,Tt.__r3f.root);if(Tt.children){for(const bt of Tt.children)bt.__r3f&&d(Nt,bt);Tt.children=Tt.children.filter(bt=>!bt.__r3f)}Tt.__r3f.objects.forEach(bt=>d(Nt,bt)),Tt.__r3f.objects=[],Tt.__r3f.autoRemovedBeforeAppend||ft(Ot,Tt),Nt.parent&&(Nt.__r3f.autoRemovedBeforeAppend=!0),d(Ot,Nt),Nt.raycast&&Nt.__r3f.eventCount&&findInitialRoot(Nt).getState().internal.interaction.push(Nt),[Rt,Rt.alternate].forEach(bt=>{bt!==null&&(bt.stateNode=Nt,bt.ref&&(typeof bt.ref=="function"?bt.ref(Nt):bt.ref.current=Nt))})}const xt=()=>{};return{reconciler:Reconciler({createInstance:s,removeChild:ft,appendChild:d,appendInitialChild:d,insertBefore:nt,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(Tt,At)=>{if(!At)return;const Ct=Tt.getState().scene;Ct.__r3f&&(Ct.__r3f.root=Tt,d(Ct,At))},removeChildFromContainer:(Tt,At)=>{At&&ft(Tt.getState().scene,At)},insertInContainerBefore:(Tt,At,Ct)=>{if(!At||!Ct)return;const Rt=Tt.getState().scene;Rt.__r3f&&nt(Rt,At,Ct)},getRootHostContext:()=>null,getChildHostContext:Tt=>Tt,finalizeInitialChildren(Tt){var At;return!!((At=Tt==null?void 0:Tt.__r3f)!=null?At:{}).handlers},prepareUpdate(Tt,At,Ct,Rt){var yt;if(((yt=Tt==null?void 0:Tt.__r3f)!=null?yt:{}).primitive&&Rt.object&&Rt.object!==Tt)return[!0];{const{args:Nt=[],children:bt,...Dt}=Rt,{args:Ft=[],children:Ut,...Wt}=Ct;if(!Array.isArray(Nt))throw new Error("R3F: the args prop must be an array!");if(Nt.some((Xt,Yt)=>Xt!==Ft[Yt]))return[!0];const Gt=diffProps(Tt,Dt,Wt,!0);return Gt.changes.length?[!1,Gt]:null}},commitUpdate(Tt,[At,Ct],Rt,yt,Ot,Nt){At?gt(Tt,Rt,Ot,Nt):applyProps$1(Tt,Ct)},commitMount(Tt,At,Ct,Rt){var yt;const Ot=(yt=Tt.__r3f)!=null?yt:{};Tt.raycast&&Ot.handlers&&Ot.eventCount&&findInitialRoot(Tt).getState().internal.interaction.push(Tt)},getPublicInstance:Tt=>Tt,prepareForCommit:()=>null,preparePortalMount:Tt=>prepare(Tt.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(Tt){var At;const{attach:Ct,parent:Rt}=(At=Tt.__r3f)!=null?At:{};Ct&&Rt&&detach(Rt,Tt,Ct),Tt.isObject3D&&(Tt.visible=!1),invalidateInstance(Tt)},unhideInstance(Tt,At){var Ct;const{attach:Rt,parent:yt}=(Ct=Tt.__r3f)!=null?Ct:{};Rt&&yt&&attach(yt,Tt,Rt),(Tt.isObject3D&&At.visible==null||At.visible)&&(Tt.visible=!0),invalidateInstance(Tt)},createTextInstance:xt,hideTextInstance:xt,unhideTextInstance:xt,getCurrentEventPriority:()=>e?e():constantsExports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is.fun(performance.now)?performance.now:is.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}var _window$document,_window$navigator;const hasColorSpace=c=>"colorSpace"in c||"outputColorSpace"in c,getColorManagement=()=>{var c;return(c=catalogue.ColorManagement)!=null?c:null},isOrthographicCamera=c=>c&&c.isOrthographicCamera,isRef=c=>c&&c.hasOwnProperty("current"),useIsomorphicLayoutEffect=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback(c){const e=reactExports.useRef(c);return useIsomorphicLayoutEffect(()=>void(e.current=c),[c]),e}function Block({set:c}){return useIsomorphicLayoutEffect(()=>(c(new Promise(()=>null)),()=>c(!1)),[c]),null}class ErrorBoundary extends reactExports.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}ErrorBoundary.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",DEFAULTS=new Map,isDiffSet=c=>c&&!!c.memoized&&!!c.changes;function calculateDpr(c){var e;const s=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(c)?Math.min(Math.max(c[0],s),c[1]):c}const getRootState=c=>{var e;return(e=c.__r3f)==null?void 0:e.root.getState()};function findInitialRoot(c){let e=c.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const is={obj:c=>c===Object(c)&&!is.arr(c)&&typeof c!="function",fun:c=>typeof c=="function",str:c=>typeof c=="string",num:c=>typeof c=="number",boo:c=>typeof c=="boolean",und:c=>c===void 0,arr:c=>Array.isArray(c),equ(c,e,{arrays:s="shallow",objects:d="reference",strict:nt=!0}={}){if(typeof c!=typeof e||!!c!=!!e)return!1;if(is.str(c)||is.num(c)||is.boo(c))return c===e;const o=is.obj(c);if(o&&d==="reference")return c===e;const ft=is.arr(c);if(ft&&s==="reference")return c===e;if((ft||o)&&c===e)return!0;let gt;for(gt in c)if(!(gt in e))return!1;if(o&&s==="shallow"&&d==="shallow"){for(gt in nt?e:c)if(!is.equ(c[gt],e[gt],{strict:nt,objects:"reference"}))return!1}else for(gt in nt?e:c)if(c[gt]!==e[gt])return!1;if(is.und(gt)){if(ft&&c.length===0&&e.length===0||o&&Object.keys(c).length===0&&Object.keys(e).length===0)return!0;if(c!==e)return!1}return!0}};function buildGraph(c){const e={nodes:{},materials:{}};return c&&c.traverse(s=>{s.name&&(e.nodes[s.name]=s),s.material&&!e.materials[s.material.name]&&(e.materials[s.material.name]=s.material)}),e}function dispose(c){c.dispose&&c.type!=="Scene"&&c.dispose();for(const e in c)e.dispose==null||e.dispose(),delete c[e]}function prepare(c,e){const s=c;return s.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},c}function resolve(c,e){let s=c;if(e.includes("-")){const d=e.split("-"),nt=d.pop();return s=d.reduce((o,ft)=>o[ft],c),{target:s,key:nt}}else return{target:s,key:e}}const INDEX_REGEX=/-\d+$/;function attach(c,e,s){if(is.str(s)){if(INDEX_REGEX.test(s)){const o=s.replace(INDEX_REGEX,""),{target:ft,key:gt}=resolve(c,o);Array.isArray(ft[gt])||(ft[gt]=[])}const{target:d,key:nt}=resolve(c,s);e.__r3f.previousAttach=d[nt],d[nt]=e}else e.__r3f.previousAttach=s(c,e)}function detach(c,e,s){var d,nt;if(is.str(s)){const{target:o,key:ft}=resolve(c,s),gt=e.__r3f.previousAttach;gt===void 0?delete o[ft]:o[ft]=gt}else(d=e.__r3f)==null||d.previousAttach==null||d.previousAttach(c,e);(nt=e.__r3f)==null||delete nt.previousAttach}function diffProps(c,{children:e,key:s,ref:d,...nt},{children:o,key:ft,ref:gt,...xt}={},St=!1){const Tt=c.__r3f,At=Object.entries(nt),Ct=[];if(St){const yt=Object.keys(xt);for(let Ot=0;Ot<yt.length;Ot++)nt.hasOwnProperty(yt[Ot])||At.unshift([yt[Ot],DEFAULT+"remove"])}At.forEach(([yt,Ot])=>{var Nt;if((Nt=c.__r3f)!=null&&Nt.primitive&&yt==="object"||is.equ(Ot,xt[yt]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(yt))return Ct.push([yt,Ot,!0,[]]);let bt=[];yt.includes("-")&&(bt=yt.split("-")),Ct.push([yt,Ot,!1,bt]);for(const Dt in nt){const Ft=nt[Dt];Dt.startsWith(`${yt}-`)&&Ct.push([Dt,Ft,!1,Dt.split("-")])}});const Rt={...nt};return Tt!=null&&Tt.memoizedProps&&Tt!=null&&Tt.memoizedProps.args&&(Rt.args=Tt.memoizedProps.args),Tt!=null&&Tt.memoizedProps&&Tt!=null&&Tt.memoizedProps.attach&&(Rt.attach=Tt.memoizedProps.attach),{memoized:Rt,changes:Ct}}const __DEV__=typeof process<"u"&&!1;function applyProps$1(c,e){var s;const d=c.__r3f,nt=d==null?void 0:d.root,o=nt==null||nt.getState==null?void 0:nt.getState(),{memoized:ft,changes:gt}=isDiffSet(e)?e:diffProps(c,e),xt=d==null?void 0:d.eventCount;c.__r3f&&(c.__r3f.memoizedProps=ft);for(let Ct=0;Ct<gt.length;Ct++){let[Rt,yt,Ot,Nt]=gt[Ct];if(hasColorSpace(c)){const Ut="srgb",Wt="srgb-linear";Rt==="encoding"?(Rt="colorSpace",yt=yt===3001?Ut:Wt):Rt==="outputEncoding"&&(Rt="outputColorSpace",yt=yt===3001?Ut:Wt)}let bt=c,Dt=bt[Rt];if(Nt.length&&(Dt=Nt.reduce((Ft,Ut)=>Ft[Ut],c),!(Dt&&Dt.set))){const[Ft,...Ut]=Nt.reverse();bt=Ut.reverse().reduce((Wt,Gt)=>Wt[Gt],c),Rt=Ft}if(yt===DEFAULT+"remove")if(bt.constructor){let Ft=DEFAULTS.get(bt.constructor);Ft||(Ft=new bt.constructor,DEFAULTS.set(bt.constructor,Ft)),yt=Ft[Rt]}else yt=0;if(Ot&&d)yt?d.handlers[Rt]=yt:delete d.handlers[Rt],d.eventCount=Object.keys(d.handlers).length;else if(Dt&&Dt.set&&(Dt.copy||Dt instanceof Layers)){if(Array.isArray(yt))Dt.fromArray?Dt.fromArray(yt):Dt.set(...yt);else if(Dt.copy&&yt&&yt.constructor&&(__DEV__?Dt.constructor.name===yt.constructor.name:Dt.constructor===yt.constructor))Dt.copy(yt);else if(yt!==void 0){var St;const Ft=(St=Dt)==null?void 0:St.isColor;!Ft&&Dt.setScalar?Dt.setScalar(yt):Dt instanceof Layers&&yt instanceof Layers?Dt.mask=yt.mask:Dt.set(yt),!getColorManagement()&&o&&!o.linear&&Ft&&Dt.convertSRGBToLinear()}}else{var Tt;if(bt[Rt]=yt,(Tt=bt[Rt])!=null&&Tt.isTexture&&bt[Rt].format===RGBAFormat&&bt[Rt].type===UnsignedByteType&&o){const Ft=bt[Rt];hasColorSpace(Ft)&&hasColorSpace(o.gl)?Ft.colorSpace=o.gl.outputColorSpace:Ft.encoding=o.gl.outputEncoding}}invalidateInstance(c)}if(d&&d.parent&&c.raycast&&xt!==d.eventCount){const Ct=findInitialRoot(c).getState().internal,Rt=Ct.interaction.indexOf(c);Rt>-1&&Ct.interaction.splice(Rt,1),d.eventCount&&Ct.interaction.push(c)}return!(gt.length===1&&gt[0][0]==="onUpdate")&&gt.length&&(s=c.__r3f)!=null&&s.parent&&updateInstance(c),c}function invalidateInstance(c){var e,s;const d=(e=c.__r3f)==null||(s=e.root)==null||s.getState==null?void 0:s.getState();d&&d.internal.frames===0&&d.invalidate()}function updateInstance(c){c.onUpdate==null||c.onUpdate(c)}function updateCamera(c,e){c.manual||(isOrthographicCamera(c)?(c.left=e.width/-2,c.right=e.width/2,c.top=e.height/2,c.bottom=e.height/-2):c.aspect=e.width/e.height,c.updateProjectionMatrix(),c.updateMatrixWorld())}function makeId(c){return(c.eventObject||c.object).uuid+"/"+c.index+c.instanceId}function getEventPriority(){var c;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return constantsExports.DefaultEventPriority;switch((c=e.event)==null?void 0:c.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}}function releaseInternalPointerCapture(c,e,s,d){const nt=s.get(e);nt&&(s.delete(e),s.size===0&&(c.delete(d),nt.target.releasePointerCapture(d)))}function removeInteractivity(c,e){const{internal:s}=c.getState();s.interaction=s.interaction.filter(d=>d!==e),s.initialHits=s.initialHits.filter(d=>d!==e),s.hovered.forEach((d,nt)=>{(d.eventObject===e||d.object===e)&&s.hovered.delete(nt)}),s.capturedMap.forEach((d,nt)=>{releaseInternalPointerCapture(s.capturedMap,e,d,nt)})}function createEvents(c){function e(xt){const{internal:St}=c.getState(),Tt=xt.offsetX-St.initialClick[0],At=xt.offsetY-St.initialClick[1];return Math.round(Math.sqrt(Tt*Tt+At*At))}function s(xt){return xt.filter(St=>["Move","Over","Enter","Out","Leave"].some(Tt=>{var At;return(At=St.__r3f)==null?void 0:At.handlers["onPointer"+Tt]}))}function d(xt,St){const Tt=c.getState(),At=new Set,Ct=[],Rt=St?St(Tt.internal.interaction):Tt.internal.interaction;for(let bt=0;bt<Rt.length;bt++){const Dt=getRootState(Rt[bt]);Dt&&(Dt.raycaster.camera=void 0)}Tt.previousRoot||Tt.events.compute==null||Tt.events.compute(xt,Tt);function yt(bt){const Dt=getRootState(bt);if(!Dt||!Dt.events.enabled||Dt.raycaster.camera===null)return[];if(Dt.raycaster.camera===void 0){var Ft;Dt.events.compute==null||Dt.events.compute(xt,Dt,(Ft=Dt.previousRoot)==null?void 0:Ft.getState()),Dt.raycaster.camera===void 0&&(Dt.raycaster.camera=null)}return Dt.raycaster.camera?Dt.raycaster.intersectObject(bt,!0):[]}let Ot=Rt.flatMap(yt).sort((bt,Dt)=>{const Ft=getRootState(bt.object),Ut=getRootState(Dt.object);return!Ft||!Ut?bt.distance-Dt.distance:Ut.events.priority-Ft.events.priority||bt.distance-Dt.distance}).filter(bt=>{const Dt=makeId(bt);return At.has(Dt)?!1:(At.add(Dt),!0)});Tt.events.filter&&(Ot=Tt.events.filter(Ot,Tt));for(const bt of Ot){let Dt=bt.object;for(;Dt;){var Nt;(Nt=Dt.__r3f)!=null&&Nt.eventCount&&Ct.push({...bt,eventObject:Dt}),Dt=Dt.parent}}if("pointerId"in xt&&Tt.internal.capturedMap.has(xt.pointerId))for(let bt of Tt.internal.capturedMap.get(xt.pointerId).values())At.has(makeId(bt.intersection))||Ct.push(bt.intersection);return Ct}function nt(xt,St,Tt,At){const Ct=c.getState();if(xt.length){const Rt={stopped:!1};for(const yt of xt){const Ot=getRootState(yt.object)||Ct,{raycaster:Nt,pointer:bt,camera:Dt,internal:Ft}=Ot,Ut=new Vector3(bt.x,bt.y,0).unproject(Dt),Wt=jt=>{var Jt,fn;return(Jt=(fn=Ft.capturedMap.get(jt))==null?void 0:fn.has(yt.eventObject))!=null?Jt:!1},Gt=jt=>{const Jt={intersection:yt,target:St.target};Ft.capturedMap.has(jt)?Ft.capturedMap.get(jt).set(yt.eventObject,Jt):Ft.capturedMap.set(jt,new Map([[yt.eventObject,Jt]])),St.target.setPointerCapture(jt)},Xt=jt=>{const Jt=Ft.capturedMap.get(jt);Jt&&releaseInternalPointerCapture(Ft.capturedMap,yt.eventObject,Jt,jt)};let Yt={};for(let jt in St){let Jt=St[jt];typeof Jt!="function"&&(Yt[jt]=Jt)}let Kt={...yt,...Yt,pointer:bt,intersections:xt,stopped:Rt.stopped,delta:Tt,unprojectedPoint:Ut,ray:Nt.ray,camera:Dt,stopPropagation(){const jt="pointerId"in St&&Ft.capturedMap.get(St.pointerId);if((!jt||jt.has(yt.eventObject))&&(Kt.stopped=Rt.stopped=!0,Ft.hovered.size&&Array.from(Ft.hovered.values()).find(Jt=>Jt.eventObject===yt.eventObject))){const Jt=xt.slice(0,xt.indexOf(yt));o([...Jt,yt])}},target:{hasPointerCapture:Wt,setPointerCapture:Gt,releasePointerCapture:Xt},currentTarget:{hasPointerCapture:Wt,setPointerCapture:Gt,releasePointerCapture:Xt},nativeEvent:St};if(At(Kt),Rt.stopped===!0)break}}return xt}function o(xt){const{internal:St}=c.getState();for(const Tt of St.hovered.values())if(!xt.length||!xt.find(At=>At.object===Tt.object&&At.index===Tt.index&&At.instanceId===Tt.instanceId)){const Ct=Tt.eventObject.__r3f,Rt=Ct==null?void 0:Ct.handlers;if(St.hovered.delete(makeId(Tt)),Ct!=null&&Ct.eventCount){const yt={...Tt,intersections:xt};Rt.onPointerOut==null||Rt.onPointerOut(yt),Rt.onPointerLeave==null||Rt.onPointerLeave(yt)}}}function ft(xt,St){for(let Tt=0;Tt<St.length;Tt++){const At=St[Tt].__r3f;At==null||At.handlers.onPointerMissed==null||At.handlers.onPointerMissed(xt)}}function gt(xt){switch(xt){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return St=>{const{internal:Tt}=c.getState();"pointerId"in St&&Tt.capturedMap.has(St.pointerId)&&requestAnimationFrame(()=>{Tt.capturedMap.has(St.pointerId)&&(Tt.capturedMap.delete(St.pointerId),o([]))})}}return function(Tt){const{onPointerMissed:At,internal:Ct}=c.getState();Ct.lastEvent.current=Tt;const Rt=xt==="onPointerMove",yt=xt==="onClick"||xt==="onContextMenu"||xt==="onDoubleClick",Nt=d(Tt,Rt?s:void 0),bt=yt?e(Tt):0;xt==="onPointerDown"&&(Ct.initialClick=[Tt.offsetX,Tt.offsetY],Ct.initialHits=Nt.map(Ft=>Ft.eventObject)),yt&&!Nt.length&&bt<=2&&(ft(Tt,Ct.interaction),At&&At(Tt)),Rt&&o(Nt);function Dt(Ft){const Ut=Ft.eventObject,Wt=Ut.__r3f,Gt=Wt==null?void 0:Wt.handlers;if(Wt!=null&&Wt.eventCount)if(Rt){if(Gt.onPointerOver||Gt.onPointerEnter||Gt.onPointerOut||Gt.onPointerLeave){const Xt=makeId(Ft),Yt=Ct.hovered.get(Xt);Yt?Yt.stopped&&Ft.stopPropagation():(Ct.hovered.set(Xt,Ft),Gt.onPointerOver==null||Gt.onPointerOver(Ft),Gt.onPointerEnter==null||Gt.onPointerEnter(Ft))}Gt.onPointerMove==null||Gt.onPointerMove(Ft)}else{const Xt=Gt[xt];Xt?(!yt||Ct.initialHits.includes(Ut))&&(ft(Tt,Ct.interaction.filter(Yt=>!Ct.initialHits.includes(Yt))),Xt(Ft)):yt&&Ct.initialHits.includes(Ut)&&ft(Tt,Ct.interaction.filter(Yt=>!Ct.initialHits.includes(Yt)))}}nt(Nt,Tt,bt,Dt)}}return{handlePointer:gt}}const isRenderer=c=>!!(c!=null&&c.render),context=reactExports.createContext(null),createStore$1=(c,e)=>{const s=create$1((gt,xt)=>{const St=new Vector3,Tt=new Vector3,At=new Vector3;function Ct(bt=xt().camera,Dt=Tt,Ft=xt().size){const{width:Ut,height:Wt,top:Gt,left:Xt}=Ft,Yt=Ut/Wt;Dt.isVector3?At.copy(Dt):At.set(...Dt);const Kt=bt.getWorldPosition(St).distanceTo(At);if(isOrthographicCamera(bt))return{width:Ut/bt.zoom,height:Wt/bt.zoom,top:Gt,left:Xt,factor:1,distance:Kt,aspect:Yt};{const jt=bt.fov*Math.PI/180,Jt=2*Math.tan(jt/2)*Kt,fn=Jt*(Ut/Wt);return{width:fn,height:Jt,top:Gt,left:Xt,factor:Ut/fn,distance:Kt,aspect:Yt}}}let Rt;const yt=bt=>gt(Dt=>({performance:{...Dt.performance,current:bt}})),Ot=new Vector2;return{set:gt,get:xt,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(bt=1)=>c(xt(),bt),advance:(bt,Dt)=>e(bt,Dt,xt()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Clock,pointer:Ot,mouse:Ot,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const bt=xt();Rt&&clearTimeout(Rt),bt.performance.current!==bt.performance.min&&yt(bt.performance.min),Rt=setTimeout(()=>yt(xt().performance.max),bt.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:Ct},setEvents:bt=>gt(Dt=>({...Dt,events:{...Dt.events,...bt}})),setSize:(bt,Dt,Ft,Ut,Wt)=>{const Gt=xt().camera,Xt={width:bt,height:Dt,top:Ut||0,left:Wt||0,updateStyle:Ft};gt(Yt=>({size:Xt,viewport:{...Yt.viewport,...Ct(Gt,Tt,Xt)}}))},setDpr:bt=>gt(Dt=>{const Ft=calculateDpr(bt);return{viewport:{...Dt.viewport,dpr:Ft,initialDpr:Dt.viewport.initialDpr||Ft}}}),setFrameloop:(bt="always")=>{const Dt=xt().clock;Dt.stop(),Dt.elapsedTime=0,bt!=="never"&&(Dt.start(),Dt.elapsedTime=0),gt(()=>({frameloop:bt}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:reactExports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(bt,Dt,Ft)=>{const Ut=xt().internal;return Ut.priority=Ut.priority+(Dt>0?1:0),Ut.subscribers.push({ref:bt,priority:Dt,store:Ft}),Ut.subscribers=Ut.subscribers.sort((Wt,Gt)=>Wt.priority-Gt.priority),()=>{const Wt=xt().internal;Wt!=null&&Wt.subscribers&&(Wt.priority=Wt.priority-(Dt>0?1:0),Wt.subscribers=Wt.subscribers.filter(Gt=>Gt.ref!==bt))}}}}}),d=s.getState();let nt=d.size,o=d.viewport.dpr,ft=d.camera;return s.subscribe(()=>{const{camera:gt,size:xt,viewport:St,gl:Tt,set:At}=s.getState();if(xt.width!==nt.width||xt.height!==nt.height||St.dpr!==o){var Ct;nt=xt,o=St.dpr,updateCamera(gt,xt),Tt.setPixelRatio(St.dpr);const Rt=(Ct=xt.updateStyle)!=null?Ct:typeof HTMLCanvasElement<"u"&&Tt.domElement instanceof HTMLCanvasElement;Tt.setSize(xt.width,xt.height,Rt)}gt!==ft&&(ft=gt,At(Rt=>({viewport:{...Rt.viewport,...Rt.viewport.getCurrentViewport(gt)}})))}),s.subscribe(gt=>c(gt)),s};let i,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;function run(c,e){if(c.size)for(const{callback:s}of c.values())s(e)}function flushGlobalEffects(c,e){switch(c){case"before":return run(globalEffects,e);case"after":return run(globalAfterEffects,e);case"tail":return run(globalTailEffects,e)}}let subscribers,subscription;function render$1(c,e,s){let d=e.clock.getDelta();for(e.frameloop==="never"&&typeof c=="number"&&(d=c-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=c),subscribers=e.internal.subscribers,i=0;i<subscribers.length;i++)subscription=subscribers[i],subscription.ref.current(subscription.store.getState(),d,s);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function createLoop(c){let e=!1,s=!1,d,nt,o;function ft(St){nt=requestAnimationFrame(ft),e=!0,d=0,flushGlobalEffects("before",St),s=!0;for(const At of c.values()){var Tt;o=At.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((Tt=o.gl.xr)!=null&&Tt.isPresenting)&&(d+=render$1(St,o))}if(s=!1,flushGlobalEffects("after",St),d===0)return flushGlobalEffects("tail",St),e=!1,cancelAnimationFrame(nt)}function gt(St,Tt=1){var At;if(!St)return c.forEach(Ct=>gt(Ct.store.getState(),Tt));(At=St.gl.xr)!=null&&At.isPresenting||!St.internal.active||St.frameloop==="never"||(Tt>1?St.internal.frames=Math.min(60,St.internal.frames+Tt):s?St.internal.frames=2:St.internal.frames=1,e||(e=!0,requestAnimationFrame(ft)))}function xt(St,Tt=!0,At,Ct){if(Tt&&flushGlobalEffects("before",St),At)render$1(St,At,Ct);else for(const Rt of c.values())render$1(St,Rt.store.getState());Tt&&flushGlobalEffects("after",St)}return{loop:ft,invalidate:gt,advance:xt}}function useStore$1(){const c=reactExports.useContext(context);if(!c)throw new Error("R3F: Hooks can only be used within the Canvas component!");return c}function useThree(c=s=>s,e){return useStore$1()(c,e)}function useFrame(c,e=0){const s=useStore$1(),d=s.getState().internal.subscribe,nt=useMutableCallback(c);return useIsomorphicLayoutEffect(()=>d(nt,e,s),[e,d,s]),null}const memoizedLoaders=new WeakMap;function loadingFn(c,e){return function(s,...d){let nt=memoizedLoaders.get(s);return nt||(nt=new s,memoizedLoaders.set(s,nt)),c&&c(nt),Promise.all(d.map(o=>new Promise((ft,gt)=>nt.load(o,xt=>{xt.scene&&Object.assign(xt,buildGraph(xt.scene)),ft(xt)},e,xt=>gt(new Error(`Could not load ${o}: ${xt==null?void 0:xt.message}`))))))}}function useLoader(c,e,s,d){const nt=Array.isArray(e)?e:[e],o=suspend(loadingFn(s,d),[c,...nt],{equal:is.equ});return Array.isArray(e)?o:o[0]}useLoader.preload=function(c,e,s){const d=Array.isArray(e)?e:[e];return preload(loadingFn(s),[c,...d])};useLoader.clear=function(c,e){const s=Array.isArray(e)?e:[e];return clear([c,...s])};const roots=new Map,{invalidate,advance}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=(c,e)=>{const s=typeof c=="function"?c(e):c;return isRenderer(s)?s:new WebGLRenderer({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...c})};function computeInitialSize(c,e){const s=typeof HTMLCanvasElement<"u"&&c instanceof HTMLCanvasElement;if(e){const{width:d,height:nt,top:o,left:ft,updateStyle:gt=s}=e;return{width:d,height:nt,top:o,left:ft,updateStyle:gt}}else if(typeof HTMLCanvasElement<"u"&&c instanceof HTMLCanvasElement&&c.parentElement){const{width:d,height:nt,top:o,left:ft}=c.parentElement.getBoundingClientRect();return{width:d,height:nt,top:o,left:ft,updateStyle:s}}else if(typeof OffscreenCanvas<"u"&&c instanceof OffscreenCanvas)return{width:c.width,height:c.height,top:0,left:0,updateStyle:s};return{width:0,height:0,top:0,left:0}}function createRoot(c){const e=roots.get(c),s=e==null?void 0:e.fiber,d=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const nt=typeof reportError=="function"?reportError:console.error,o=d||createStore$1(invalidate,advance),ft=s||reconciler.createContainer(o,constantsExports.ConcurrentRoot,null,!1,null,"",nt,null);e||roots.set(c,{fiber:ft,store:o});let gt,xt=!1,St;return{configure(Tt={}){let{gl:At,size:Ct,scene:Rt,events:yt,onCreated:Ot,shadows:Nt=!1,linear:bt=!1,flat:Dt=!1,legacy:Ft=!1,orthographic:Ut=!1,frameloop:Wt="always",dpr:Gt=[1,2],performance:Xt,raycaster:Yt,camera:Kt,onPointerMissed:jt}=Tt,Jt=o.getState(),fn=Jt.gl;Jt.gl||Jt.set({gl:fn=createRendererInstance(At,c)});let sn=Jt.raycaster;sn||Jt.set({raycaster:sn=new Raycaster});const{params:wn,...Mn}=Yt||{};if(is.equ(Mn,sn,shallowLoose)||applyProps(sn,{...Mn}),is.equ(wn,sn.params,shallowLoose)||applyProps(sn,{params:{...sn.params,...wn}}),!Jt.camera||Jt.camera===St&&!is.equ(St,Kt,shallowLoose)){St=Kt;const pn=Kt instanceof Camera,Rn=pn?Kt:Ut?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera(75,0,.1,1e3);pn||(Rn.position.z=5,Kt&&(applyProps(Rn,Kt),("aspect"in Kt||"left"in Kt||"right"in Kt||"bottom"in Kt||"top"in Kt)&&(Rn.manual=!0,Rn.updateProjectionMatrix())),!Jt.camera&&!(Kt!=null&&Kt.rotation)&&Rn.lookAt(0,0,0)),Jt.set({camera:Rn}),sn.camera=Rn}if(!Jt.scene){let pn;Rt!=null&&Rt.isScene?pn=Rt:(pn=new Scene,Rt&&applyProps(pn,Rt)),Jt.set({scene:prepare(pn)})}if(!Jt.xr){var Tn;const pn=(ir,An)=>{const jn=o.getState();jn.frameloop!=="never"&&advance(ir,!0,jn,An)},Rn=()=>{const ir=o.getState();ir.gl.xr.enabled=ir.gl.xr.isPresenting,ir.gl.xr.setAnimationLoop(ir.gl.xr.isPresenting?pn:null),ir.gl.xr.isPresenting||invalidate(ir)},zn={connect(){const ir=o.getState().gl;ir.xr.addEventListener("sessionstart",Rn),ir.xr.addEventListener("sessionend",Rn)},disconnect(){const ir=o.getState().gl;ir.xr.removeEventListener("sessionstart",Rn),ir.xr.removeEventListener("sessionend",Rn)}};typeof((Tn=fn.xr)==null?void 0:Tn.addEventListener)=="function"&&zn.connect(),Jt.set({xr:zn})}if(fn.shadowMap){const pn=fn.shadowMap.enabled,Rn=fn.shadowMap.type;if(fn.shadowMap.enabled=!!Nt,is.boo(Nt))fn.shadowMap.type=PCFSoftShadowMap;else if(is.str(Nt)){var kn;const zn={basic:BasicShadowMap,percentage:PCFShadowMap,soft:PCFSoftShadowMap,variance:VSMShadowMap};fn.shadowMap.type=(kn=zn[Nt])!=null?kn:PCFSoftShadowMap}else is.obj(Nt)&&Object.assign(fn.shadowMap,Nt);(pn!==fn.shadowMap.enabled||Rn!==fn.shadowMap.type)&&(fn.shadowMap.needsUpdate=!0)}const rn=getColorManagement();rn&&("enabled"in rn?rn.enabled=!Ft:"legacyMode"in rn&&(rn.legacyMode=Ft)),xt||applyProps(fn,{outputEncoding:bt?3e3:3001,toneMapping:Dt?NoToneMapping:ACESFilmicToneMapping}),Jt.legacy!==Ft&&Jt.set(()=>({legacy:Ft})),Jt.linear!==bt&&Jt.set(()=>({linear:bt})),Jt.flat!==Dt&&Jt.set(()=>({flat:Dt})),At&&!is.fun(At)&&!isRenderer(At)&&!is.equ(At,fn,shallowLoose)&&applyProps(fn,At),yt&&!Jt.events.handlers&&Jt.set({events:yt(o)});const un=computeInitialSize(c,Ct);return is.equ(un,Jt.size,shallowLoose)||Jt.setSize(un.width,un.height,un.updateStyle,un.top,un.left),Gt&&Jt.viewport.dpr!==calculateDpr(Gt)&&Jt.setDpr(Gt),Jt.frameloop!==Wt&&Jt.setFrameloop(Wt),Jt.onPointerMissed||Jt.set({onPointerMissed:jt}),Xt&&!is.equ(Xt,Jt.performance,shallowLoose)&&Jt.set(pn=>({performance:{...pn.performance,...Xt}})),gt=Ot,xt=!0,this},render(Tt){return xt||this.configure(),reconciler.updateContainer(jsx(Provider,{store:o,children:Tt,onCreated:gt,rootElement:c}),ft,null,()=>{}),o},unmount(){unmountComponentAtNode(c)}}}function Provider({store:c,children:e,onCreated:s,rootElement:d}){return useIsomorphicLayoutEffect(()=>{const nt=c.getState();nt.set(o=>({internal:{...o.internal,active:!0}})),s&&s(nt),c.getState().events.connected||nt.events.connect==null||nt.events.connect(d)},[]),jsx(context.Provider,{value:c,children:e})}function unmountComponentAtNode(c,e){const s=roots.get(c),d=s==null?void 0:s.fiber;if(d){const nt=s==null?void 0:s.store.getState();nt&&(nt.internal.active=!1),reconciler.updateContainer(null,d,null,()=>{nt&&setTimeout(()=>{try{var o,ft,gt,xt;nt.events.disconnect==null||nt.events.disconnect(),(o=nt.gl)==null||(ft=o.renderLists)==null||ft.dispose==null||ft.dispose(),(gt=nt.gl)==null||gt.forceContextLoss==null||gt.forceContextLoss(),(xt=nt.gl)!=null&&xt.xr&&nt.xr.disconnect(),dispose(nt),roots.delete(c),e&&e(c)}catch{}},500)})}}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:reactExports.version});const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(c){const{handlePointer:e}=createEvents(c);return{priority:1,enabled:!0,compute(s,d,nt){d.pointer.set(s.offsetX/d.size.width*2-1,-(s.offsetY/d.size.height)*2+1),d.raycaster.setFromCamera(d.pointer,d.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((s,d)=>({...s,[d]:e(d)}),{}),update:()=>{var s;const{events:d,internal:nt}=c.getState();(s=nt.lastEvent)!=null&&s.current&&d.handlers&&d.handlers.onPointerMove(nt.lastEvent.current)},connect:s=>{var d;const{set:nt,events:o}=c.getState();o.disconnect==null||o.disconnect(),nt(ft=>({events:{...ft.events,connected:s}})),Object.entries((d=o.handlers)!=null?d:[]).forEach(([ft,gt])=>{const[xt,St]=DOM_EVENTS[ft];s.addEventListener(xt,gt,{passive:St})})},disconnect:()=>{const{set:s,events:d}=c.getState();if(d.connected){var nt;Object.entries((nt=d.handlers)!=null?nt:[]).forEach(([o,ft])=>{if(d&&d.connected instanceof HTMLElement){const[gt]=DOM_EVENTS[o];d.connected.removeEventListener(gt,ft)}}),s(o=>({events:{...o.events,connected:void 0}}))}}}}function g$1(c,e){let s;return(...d)=>{window.clearTimeout(s),s=window.setTimeout(()=>c(...d),e)}}function j$1({debounce:c,scroll:e,polyfill:s,offsetSize:d}={debounce:0,scroll:!1,offsetSize:!1}){const nt=s||(typeof window>"u"?class{}:window.ResizeObserver);if(!nt)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,ft]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),gt=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),xt=c?typeof c=="number"?c:c.scroll:null,St=c?typeof c=="number"?c:c.resize:null,Tt=reactExports.useRef(!1);reactExports.useEffect(()=>(Tt.current=!0,()=>void(Tt.current=!1)));const[At,Ct,Rt]=reactExports.useMemo(()=>{const bt=()=>{if(!gt.current.element)return;const{left:Dt,top:Ft,width:Ut,height:Wt,bottom:Gt,right:Xt,x:Yt,y:Kt}=gt.current.element.getBoundingClientRect(),jt={left:Dt,top:Ft,width:Ut,height:Wt,bottom:Gt,right:Xt,x:Yt,y:Kt};gt.current.element instanceof HTMLElement&&d&&(jt.height=gt.current.element.offsetHeight,jt.width=gt.current.element.offsetWidth),Object.freeze(jt),Tt.current&&!D$1(gt.current.lastBounds,jt)&&ft(gt.current.lastBounds=jt)};return[bt,St?g$1(bt,St):bt,xt?g$1(bt,xt):bt]},[ft,d,xt,St]);function yt(){gt.current.scrollContainers&&(gt.current.scrollContainers.forEach(bt=>bt.removeEventListener("scroll",Rt,!0)),gt.current.scrollContainers=null),gt.current.resizeObserver&&(gt.current.resizeObserver.disconnect(),gt.current.resizeObserver=null),gt.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",gt.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",gt.current.orientationHandler))}function Ot(){gt.current.element&&(gt.current.resizeObserver=new nt(Rt),gt.current.resizeObserver.observe(gt.current.element),e&&gt.current.scrollContainers&&gt.current.scrollContainers.forEach(bt=>bt.addEventListener("scroll",Rt,{capture:!0,passive:!0})),gt.current.orientationHandler=()=>{Rt()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",gt.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",gt.current.orientationHandler))}const Nt=bt=>{!bt||bt===gt.current.element||(yt(),gt.current.element=bt,gt.current.scrollContainers=E$1(bt),Ot())};return X$1(Rt,!!e),W$1(Ct),reactExports.useEffect(()=>{yt(),Ot()},[e,Rt,Ct]),reactExports.useEffect(()=>yt,[]),[Nt,o,At]}function W$1(c){reactExports.useEffect(()=>{const e=c;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[c])}function X$1(c,e){reactExports.useEffect(()=>{if(e){const s=c;return window.addEventListener("scroll",s,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",s,!0)}},[c,e])}function E$1(c){const e=[];if(!c||c===document.body)return e;const{overflow:s,overflowX:d,overflowY:nt}=window.getComputedStyle(c);return[s,d,nt].some(o=>o==="auto"||o==="scroll")&&e.push(c),[...e,...E$1(c.parentElement)]}const k$1=["x","y","top","bottom","left","right","width","height"],D$1=(c,e)=>k$1.every(s=>c[s]===e[s]);var __defProp$2=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp$2=(c,e,s)=>e in c?__defProp$2(c,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[e]=s,__spreadValues=(c,e)=>{for(var s in e||(e={}))__hasOwnProp.call(e,s)&&__defNormalProp$2(c,s,e[s]);if(__getOwnPropSymbols)for(var s of __getOwnPropSymbols(e))__propIsEnum.call(e,s)&&__defNormalProp$2(c,s,e[s]);return c},__spreadProps=(c,e)=>__defProps(c,__getOwnPropDescs(e)),_a,_b;typeof window<"u"&&((_a=window.document)!=null&&_a.createElement||((_b=window.navigator)==null?void 0:_b.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function traverseFiber(c,e,s){if(!c)return;if(s(c)===!0)return c;let d=e?c.return:c.child;for(;d;){const nt=traverseFiber(d,e,s);if(nt)return nt;d=e?null:d.sibling}}function wrapContext(c){try{return Object.defineProperties(c,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return c}}const error=console.error;console.error=function(){const c=[...arguments].join("");if(c!=null&&c.startsWith("Warning:")&&c.includes("useContext")){console.error=error;return}return error.apply(this,arguments)};const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}function useFiber(){const c=reactExports.useContext(FiberContext);if(c===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=reactExports.useId();return reactExports.useMemo(()=>{for(const d of[c,c==null?void 0:c.alternate]){if(!d)continue;const nt=traverseFiber(d,!1,o=>{let ft=o.memoizedState;for(;ft;){if(ft.memoizedState===e)return!0;ft=ft.next}});if(nt)return nt}},[c,e])}function useContextMap(){const c=useFiber(),[e]=reactExports.useState(()=>new Map);e.clear();let s=c;for(;s;){if(s.type&&typeof s.type=="object"){const nt=s.type._context===void 0&&s.type.Provider===s.type?s.type:s.type._context;nt&&nt!==FiberContext&&!e.has(nt)&&e.set(nt,reactExports.useContext(wrapContext(nt)))}s=s.return}return e}function useContextBridge(){const c=useContextMap();return reactExports.useMemo(()=>Array.from(c.keys()).reduce((e,s)=>d=>reactExports.createElement(e,null,reactExports.createElement(s.Provider,__spreadProps(__spreadValues({},d),{value:c.get(s)}))),e=>reactExports.createElement(FiberProvider,__spreadValues({},e))),[c])}const CanvasImpl=reactExports.forwardRef(function({children:e,fallback:s,resize:d,style:nt,gl:o,events:ft=createPointerEvents,eventSource:gt,eventPrefix:xt,shadows:St,linear:Tt,flat:At,legacy:Ct,orthographic:Rt,frameloop:yt,dpr:Ot,performance:Nt,raycaster:bt,camera:Dt,scene:Ft,onPointerMissed:Ut,onCreated:Wt,...Gt},Xt){reactExports.useMemo(()=>extend(THREE),[]);const Yt=useContextBridge(),[Kt,jt]=j$1({scroll:!0,debounce:{scroll:50,resize:0},...d}),Jt=reactExports.useRef(null),fn=reactExports.useRef(null);reactExports.useImperativeHandle(Xt,()=>Jt.current);const sn=useMutableCallback(Ut),[wn,Mn]=reactExports.useState(!1),[Tn,kn]=reactExports.useState(!1);if(wn)throw wn;if(Tn)throw Tn;const rn=reactExports.useRef(null);return useIsomorphicLayoutEffect(()=>{const pn=Jt.current;jt.width>0&&jt.height>0&&pn&&(rn.current||(rn.current=createRoot(pn)),rn.current.configure({gl:o,events:ft,shadows:St,linear:Tt,flat:At,legacy:Ct,orthographic:Rt,frameloop:yt,dpr:Ot,performance:Nt,raycaster:bt,camera:Dt,scene:Ft,size:jt,onPointerMissed:(...Rn)=>sn.current==null?void 0:sn.current(...Rn),onCreated:Rn=>{Rn.events.connect==null||Rn.events.connect(gt?isRef(gt)?gt.current:gt:fn.current),xt&&Rn.setEvents({compute:(zn,ir)=>{const An=zn[xt+"X"],jn=zn[xt+"Y"];ir.pointer.set(An/ir.size.width*2-1,-(jn/ir.size.height)*2+1),ir.raycaster.setFromCamera(ir.pointer,ir.camera)}}),Wt==null||Wt(Rn)}}),rn.current.render(jsx(Yt,{children:jsx(ErrorBoundary,{set:kn,children:jsx(reactExports.Suspense,{fallback:jsx(Block,{set:Mn}),children:e??null})})})))}),reactExports.useEffect(()=>{const pn=Jt.current;if(pn)return()=>unmountComponentAtNode(pn)},[]),jsx("div",{ref:fn,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:gt?"none":"auto",...nt},...Gt,children:jsx("div",{ref:Kt,style:{width:"100%",height:"100%"},children:jsx("canvas",{ref:Jt,style:{display:"block"},children:s})})})}),Canvas=reactExports.forwardRef(function(e,s){return jsx(FiberProvider,{children:jsx(CanvasImpl,{...e,ref:s})})}),v1=new Vector3,v2=new Vector3,v3=new Vector3,v4=new Vector2;function defaultCalculatePosition(c,e,s){const d=v1.setFromMatrixPosition(c.matrixWorld);d.project(e);const nt=s.width/2,o=s.height/2;return[d.x*nt+nt,-(d.y*o)+o]}function isObjectBehindCamera(c,e){const s=v1.setFromMatrixPosition(c.matrixWorld),d=v2.setFromMatrixPosition(e.matrixWorld),nt=s.sub(d),o=e.getWorldDirection(v3);return nt.angleTo(o)>Math.PI/2}function isObjectVisible(c,e,s,d){const nt=v1.setFromMatrixPosition(c.matrixWorld),o=nt.clone();o.project(e),v4.set(o.x,o.y),s.setFromCamera(v4,e);const ft=s.intersectObjects(d,!0);if(ft.length){const gt=ft[0].distance;return nt.distanceTo(s.ray.origin)<gt}return!0}function objectScale(c,e){if(e instanceof OrthographicCamera)return e.zoom;if(e instanceof PerspectiveCamera){const s=v1.setFromMatrixPosition(c.matrixWorld),d=v2.setFromMatrixPosition(e.matrixWorld),nt=e.fov*Math.PI/180,o=s.distanceTo(d);return 1/(2*Math.tan(nt/2)*o)}else return 1}function objectZIndex(c,e,s){if(e instanceof PerspectiveCamera||e instanceof OrthographicCamera){const d=v1.setFromMatrixPosition(c.matrixWorld),nt=v2.setFromMatrixPosition(e.matrixWorld),o=d.distanceTo(nt),ft=(s[1]-s[0])/(e.far-e.near),gt=s[1]-ft*e.far;return Math.round(ft*o+gt)}}const epsilon=c=>Math.abs(c)<1e-10?0:c;function getCSSMatrix(c,e,s=""){let d="matrix3d(";for(let nt=0;nt!==16;nt++)d+=epsilon(e[nt]*c.elements[nt])+(nt!==15?",":")");return s+d}const getCameraCSSMatrix=(c=>e=>getCSSMatrix(e,c))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),getObjectCSSMatrix=(c=>(e,s)=>getCSSMatrix(e,c(s),"translate(-50%,-50%)"))(c=>[1/c,1/c,1/c,1,-1/c,-1/c,-1/c,-1,1/c,1/c,1/c,1,1,1,1,1]);function isRefObject(c){return c&&typeof c=="object"&&"current"in c}const Html=reactExports.forwardRef(({children:c,eps:e=.001,style:s,className:d,prepend:nt,center:o,fullscreen:ft,portal:gt,distanceFactor:xt,sprite:St=!1,transform:Tt=!1,occlude:At,onOcclude:Ct,castShadow:Rt,receiveShadow:yt,material:Ot,geometry:Nt,zIndexRange:bt=[16777271,0],calculatePosition:Dt=defaultCalculatePosition,as:Ft="div",wrapperClass:Ut,pointerEvents:Wt="auto",...Gt},Xt)=>{const{gl:Yt,camera:Kt,scene:jt,size:Jt,raycaster:fn,events:sn,viewport:wn}=useThree(),[Mn]=reactExports.useState(()=>document.createElement(Ft)),Tn=reactExports.useRef(),kn=reactExports.useRef(null),rn=reactExports.useRef(0),un=reactExports.useRef([0,0]),pn=reactExports.useRef(null),Rn=reactExports.useRef(null),zn=(gt==null?void 0:gt.current)||sn.connected||Yt.domElement.parentNode,ir=reactExports.useRef(null),An=reactExports.useRef(!1),jn=reactExports.useMemo(()=>At&&At!=="blending"||Array.isArray(At)&&At.length&&isRefObject(At[0]),[At]);reactExports.useLayoutEffect(()=>{const dr=Yt.domElement;At&&At==="blending"?(dr.style.zIndex=`${Math.floor(bt[0]/2)}`,dr.style.position="absolute",dr.style.pointerEvents="none"):(dr.style.zIndex=null,dr.style.position=null,dr.style.pointerEvents=null)},[At]),reactExports.useLayoutEffect(()=>{if(kn.current){const dr=Tn.current=createRoot$1(Mn);if(jt.updateMatrixWorld(),Tt)Mn.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const mr=Dt(kn.current,Kt,Jt);Mn.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${mr[0]}px,${mr[1]}px,0);transform-origin:0 0;`}return zn&&(nt?zn.prepend(Mn):zn.appendChild(Mn)),()=>{zn&&zn.removeChild(Mn),dr.unmount()}}},[zn,Tt]),reactExports.useLayoutEffect(()=>{Ut&&(Mn.className=Ut)},[Ut]);const or=reactExports.useMemo(()=>Tt?{position:"absolute",top:0,left:0,width:Jt.width,height:Jt.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:o?"translate3d(-50%,-50%,0)":"none",...ft&&{top:-Jt.height/2,left:-Jt.width/2,width:Jt.width,height:Jt.height},...s},[s,o,ft,Jt,Tt]),er=reactExports.useMemo(()=>({position:"absolute",pointerEvents:Wt}),[Wt]);reactExports.useLayoutEffect(()=>{if(An.current=!1,Tt){var dr;(dr=Tn.current)==null||dr.render(reactExports.createElement("div",{ref:pn,style:or},reactExports.createElement("div",{ref:Rn,style:er},reactExports.createElement("div",{ref:Xt,className:d,style:s,children:c}))))}else{var mr;(mr=Tn.current)==null||mr.render(reactExports.createElement("div",{ref:Xt,style:or,className:d,children:c}))}});const gr=reactExports.useRef(!0);useFrame(dr=>{if(kn.current){Kt.updateMatrixWorld(),kn.current.updateWorldMatrix(!0,!1);const mr=Tt?un.current:Dt(kn.current,Kt,Jt);if(Tt||Math.abs(rn.current-Kt.zoom)>e||Math.abs(un.current[0]-mr[0])>e||Math.abs(un.current[1]-mr[1])>e){const It=isObjectBehindCamera(kn.current,Kt);let Zn=!1;jn&&(Array.isArray(At)?Zn=At.map(Yn=>Yn.current):At!=="blending"&&(Zn=[jt]));const nn=gr.current;if(Zn){const Yn=isObjectVisible(kn.current,Kt,fn,Zn);gr.current=Yn&&!It}else gr.current=!It;nn!==gr.current&&(Ct?Ct(!gr.current):Mn.style.display=gr.current?"block":"none");const nr=Math.floor(bt[0]/2),Kn=At?jn?[bt[0],nr]:[nr-1,0]:bt;if(Mn.style.zIndex=`${objectZIndex(kn.current,Kt,Kn)}`,Tt){const[Yn,Dn]=[Jt.width/2,Jt.height/2],vr=Kt.projectionMatrix.elements[5]*Dn,{isOrthographicCamera:Xn,top:tn,left:Qt,bottom:hn,right:Pn}=Kt,Gn=getCameraCSSMatrix(Kt.matrixWorldInverse),yn=Xn?`scale(${vr})translate(${epsilon(-(Pn+Qt)/2)}px,${epsilon((tn+hn)/2)}px)`:`translateZ(${vr}px)`;let Jn=kn.current.matrixWorld;St&&(Jn=Kt.matrixWorldInverse.clone().transpose().copyPosition(Jn).scale(kn.current.scale),Jn.elements[3]=Jn.elements[7]=Jn.elements[11]=0,Jn.elements[15]=1),Mn.style.width=Jt.width+"px",Mn.style.height=Jt.height+"px",Mn.style.perspective=Xn?"":`${vr}px`,pn.current&&Rn.current&&(pn.current.style.transform=`${yn}${Gn}translate(${Yn}px,${Dn}px)`,Rn.current.style.transform=getObjectCSSMatrix(Jn,1/((xt||10)/400)))}else{const Yn=xt===void 0?1:objectScale(kn.current,Kt)*xt;Mn.style.transform=`translate3d(${mr[0]}px,${mr[1]}px,0) scale(${Yn})`}un.current=mr,rn.current=Kt.zoom}}if(!jn&&ir.current&&!An.current)if(Tt){if(pn.current){const mr=pn.current.children[0];if(mr!=null&&mr.clientWidth&&mr!=null&&mr.clientHeight){const{isOrthographicCamera:It}=Kt;if(It||Nt)Gt.scale&&(Array.isArray(Gt.scale)?Gt.scale instanceof Vector3?ir.current.scale.copy(Gt.scale.clone().divideScalar(1)):ir.current.scale.set(1/Gt.scale[0],1/Gt.scale[1],1/Gt.scale[2]):ir.current.scale.setScalar(1/Gt.scale));else{const Zn=(xt||10)/400,nn=mr.clientWidth*Zn,nr=mr.clientHeight*Zn;ir.current.scale.set(nn,nr,1)}An.current=!0}}}else{const mr=Mn.children[0];if(mr!=null&&mr.clientWidth&&mr!=null&&mr.clientHeight){const It=1/wn.factor,Zn=mr.clientWidth*It,nn=mr.clientHeight*It;ir.current.scale.set(Zn,nn,1),An.current=!0}ir.current.lookAt(dr.camera.position)}});const kr=reactExports.useMemo(()=>({vertexShader:Tt?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[Tt]);return reactExports.createElement("group",_extends$2({},Gt,{ref:kn}),At&&!jn&&reactExports.createElement("mesh",{castShadow:Rt,receiveShadow:yt,ref:ir},Nt||reactExports.createElement("planeGeometry",null),Ot||reactExports.createElement("shaderMaterial",{side:DoubleSide,vertexShader:kr.vertexShader,fragmentShader:kr.fragmentShader})))}),createStoreImpl=c=>{let e;const s=new Set,d=(St,Tt)=>{const At=typeof St=="function"?St(e):St;if(!Object.is(At,e)){const Ct=e;e=Tt??(typeof At!="object"||At===null)?At:Object.assign({},e,At),s.forEach(Rt=>Rt(e,Ct))}},nt=()=>e,gt={setState:d,getState:nt,getInitialState:()=>xt,subscribe:St=>(s.add(St),()=>s.delete(St))},xt=e=c(d,nt,gt);return gt},createStore=c=>c?createStoreImpl(c):createStoreImpl,identity=c=>c;function useStore(c,e=identity){const s=React$2.useSyncExternalStore(c.subscribe,()=>e(c.getState()),()=>e(c.getInitialState()));return React$2.useDebugValue(s),s}const createImpl=c=>{const e=createStore(c),s=d=>useStore(e,d);return Object.assign(s,e),s},create=c=>c?createImpl(c):createImpl;let saveLastTotalLoaded=0;const useProgress=create(c=>(DefaultLoadingManager.onStart=(e,s,d)=>{c({active:!0,item:e,loaded:s,total:d,progress:(s-saveLastTotalLoaded)/(d-saveLastTotalLoaded)*100})},DefaultLoadingManager.onLoad=()=>{c({active:!1})},DefaultLoadingManager.onError=e=>c(s=>({errors:[...s.errors,e]})),DefaultLoadingManager.onProgress=(e,s,d)=>{s===d&&(saveLastTotalLoaded=d),c({active:!0,item:e,loaded:s,total:d,progress:(s-saveLastTotalLoaded)/(d-saveLastTotalLoaded)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));var __defProp$1=Object.defineProperty,__defNormalProp$1=(c,e,s)=>e in c?__defProp$1(c,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[e]=s,__publicField$1=(c,e,s)=>(__defNormalProp$1(c,typeof e!="symbol"?e+"":e,s),s);class EventDispatcher{constructor(){__publicField$1(this,"_listeners")}addEventListener(e,s){this._listeners===void 0&&(this._listeners={});const d=this._listeners;d[e]===void 0&&(d[e]=[]),d[e].indexOf(s)===-1&&d[e].push(s)}hasEventListener(e,s){if(this._listeners===void 0)return!1;const d=this._listeners;return d[e]!==void 0&&d[e].indexOf(s)!==-1}removeEventListener(e,s){if(this._listeners===void 0)return;const nt=this._listeners[e];if(nt!==void 0){const o=nt.indexOf(s);o!==-1&&nt.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const d=this._listeners[e.type];if(d!==void 0){e.target=this;const nt=d.slice(0);for(let o=0,ft=nt.length;o<ft;o++)nt[o].call(this,e);e.target=null}}}var __defProp=Object.defineProperty,__defNormalProp=(c,e,s)=>e in c?__defProp(c,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[e]=s,__publicField=(c,e,s)=>(__defNormalProp(c,typeof e!="symbol"?e+"":e,s),s);const _ray=new Ray,_plane=new Plane,TILT_LIMIT=Math.cos(70*(Math.PI/180)),moduloWrapAround=(c,e)=>(c%e+e)%e;let OrbitControls$1=class extends EventDispatcher{constructor(e,s){super(),__publicField(this,"object"),__publicField(this,"domElement"),__publicField(this,"enabled",!0),__publicField(this,"target",new Vector3),__publicField(this,"minDistance",0),__publicField(this,"maxDistance",1/0),__publicField(this,"minZoom",0),__publicField(this,"maxZoom",1/0),__publicField(this,"minPolarAngle",0),__publicField(this,"maxPolarAngle",Math.PI),__publicField(this,"minAzimuthAngle",-1/0),__publicField(this,"maxAzimuthAngle",1/0),__publicField(this,"enableDamping",!1),__publicField(this,"dampingFactor",.05),__publicField(this,"enableZoom",!0),__publicField(this,"zoomSpeed",1),__publicField(this,"enableRotate",!0),__publicField(this,"rotateSpeed",1),__publicField(this,"enablePan",!0),__publicField(this,"panSpeed",1),__publicField(this,"screenSpacePanning",!0),__publicField(this,"keyPanSpeed",7),__publicField(this,"zoomToCursor",!1),__publicField(this,"autoRotate",!1),__publicField(this,"autoRotateSpeed",2),__publicField(this,"reverseOrbit",!1),__publicField(this,"reverseHorizontalOrbit",!1),__publicField(this,"reverseVerticalOrbit",!1),__publicField(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),__publicField(this,"mouseButtons",{LEFT:MOUSE.ROTATE,MIDDLE:MOUSE.DOLLY,RIGHT:MOUSE.PAN}),__publicField(this,"touches",{ONE:TOUCH.ROTATE,TWO:TOUCH.DOLLY_PAN}),__publicField(this,"target0"),__publicField(this,"position0"),__publicField(this,"zoom0"),__publicField(this,"_domElementKeyEvents",null),__publicField(this,"getPolarAngle"),__publicField(this,"getAzimuthalAngle"),__publicField(this,"setPolarAngle"),__publicField(this,"setAzimuthalAngle"),__publicField(this,"getDistance"),__publicField(this,"getZoomScale"),__publicField(this,"listenToKeyEvents"),__publicField(this,"stopListenToKeyEvents"),__publicField(this,"saveState"),__publicField(this,"reset"),__publicField(this,"update"),__publicField(this,"connect"),__publicField(this,"dispose"),__publicField(this,"dollyIn"),__publicField(this,"dollyOut"),__publicField(this,"getScale"),__publicField(this,"setScale"),this.object=e,this.domElement=s,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>Tt.phi,this.getAzimuthalAngle=()=>Tt.theta,this.setPolarAngle=cn=>{let Hn=moduloWrapAround(cn,2*Math.PI),lr=Tt.phi;lr<0&&(lr+=2*Math.PI),Hn<0&&(Hn+=2*Math.PI);let an=Math.abs(Hn-lr);2*Math.PI-an<an&&(Hn<lr?Hn+=2*Math.PI:lr+=2*Math.PI),At.phi=Hn-lr,d.update()},this.setAzimuthalAngle=cn=>{let Hn=moduloWrapAround(cn,2*Math.PI),lr=Tt.theta;lr<0&&(lr+=2*Math.PI),Hn<0&&(Hn+=2*Math.PI);let an=Math.abs(Hn-lr);2*Math.PI-an<an&&(Hn<lr?Hn+=2*Math.PI:lr+=2*Math.PI),At.theta=Hn-lr,d.update()},this.getDistance=()=>d.object.position.distanceTo(d.target),this.listenToKeyEvents=cn=>{cn.addEventListener("keydown",$n),this._domElementKeyEvents=cn},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",$n),this._domElementKeyEvents=null},this.saveState=()=>{d.target0.copy(d.target),d.position0.copy(d.object.position),d.zoom0=d.object.zoom},this.reset=()=>{d.target.copy(d.target0),d.object.position.copy(d.position0),d.object.zoom=d.zoom0,d.object.updateProjectionMatrix(),d.dispatchEvent(nt),d.update(),xt=gt.NONE},this.update=(()=>{const cn=new Vector3,Hn=new Vector3(0,1,0),lr=new Quaternion().setFromUnitVectors(e.up,Hn),an=lr.clone().invert(),sr=new Vector3,Ln=new Quaternion,Wn=2*Math.PI;return function(){const hr=d.object.position;lr.setFromUnitVectors(e.up,Hn),an.copy(lr).invert(),cn.copy(hr).sub(d.target),cn.applyQuaternion(lr),Tt.setFromVector3(cn),d.autoRotate&&xt===gt.NONE&&wn(fn()),d.enableDamping?(Tt.theta+=At.theta*d.dampingFactor,Tt.phi+=At.phi*d.dampingFactor):(Tt.theta+=At.theta,Tt.phi+=At.phi);let zr=d.minAzimuthAngle,io=d.maxAzimuthAngle;isFinite(zr)&&isFinite(io)&&(zr<-Math.PI?zr+=Wn:zr>Math.PI&&(zr-=Wn),io<-Math.PI?io+=Wn:io>Math.PI&&(io-=Wn),zr<=io?Tt.theta=Math.max(zr,Math.min(io,Tt.theta)):Tt.theta=Tt.theta>(zr+io)/2?Math.max(zr,Tt.theta):Math.min(io,Tt.theta)),Tt.phi=Math.max(d.minPolarAngle,Math.min(d.maxPolarAngle,Tt.phi)),Tt.makeSafe(),d.enableDamping===!0?d.target.addScaledVector(Rt,d.dampingFactor):d.target.add(Rt),d.zoomToCursor&&Kt||d.object.isOrthographicCamera?Tt.radius=ir(Tt.radius):Tt.radius=ir(Tt.radius*Ct),cn.setFromSpherical(Tt),cn.applyQuaternion(an),hr.copy(d.target).add(cn),d.object.matrixAutoUpdate||d.object.updateMatrix(),d.object.lookAt(d.target),d.enableDamping===!0?(At.theta*=1-d.dampingFactor,At.phi*=1-d.dampingFactor,Rt.multiplyScalar(1-d.dampingFactor)):(At.set(0,0,0),Rt.set(0,0,0));let _o=!1;if(d.zoomToCursor&&Kt){let Jr=null;if(d.object instanceof PerspectiveCamera&&d.object.isPerspectiveCamera){const Mo=cn.length();Jr=ir(Mo*Ct);const Ao=Mo-Jr;d.object.position.addScaledVector(Xt,Ao),d.object.updateMatrixWorld()}else if(d.object.isOrthographicCamera){const Mo=new Vector3(Yt.x,Yt.y,0);Mo.unproject(d.object),d.object.zoom=Math.max(d.minZoom,Math.min(d.maxZoom,d.object.zoom/Ct)),d.object.updateProjectionMatrix(),_o=!0;const Ao=new Vector3(Yt.x,Yt.y,0);Ao.unproject(d.object),d.object.position.sub(Ao).add(Mo),d.object.updateMatrixWorld(),Jr=cn.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),d.zoomToCursor=!1;Jr!==null&&(d.screenSpacePanning?d.target.set(0,0,-1).transformDirection(d.object.matrix).multiplyScalar(Jr).add(d.object.position):(_ray.origin.copy(d.object.position),_ray.direction.set(0,0,-1).transformDirection(d.object.matrix),Math.abs(d.object.up.dot(_ray.direction))<TILT_LIMIT?e.lookAt(d.target):(_plane.setFromNormalAndCoplanarPoint(d.object.up,d.target),_ray.intersectPlane(_plane,d.target))))}else d.object instanceof OrthographicCamera&&d.object.isOrthographicCamera&&(_o=Ct!==1,_o&&(d.object.zoom=Math.max(d.minZoom,Math.min(d.maxZoom,d.object.zoom/Ct)),d.object.updateProjectionMatrix()));return Ct=1,Kt=!1,_o||sr.distanceToSquared(d.object.position)>St||8*(1-Ln.dot(d.object.quaternion))>St?(d.dispatchEvent(nt),sr.copy(d.object.position),Ln.copy(d.object.quaternion),_o=!1,!0):!1}})(),this.connect=cn=>{d.domElement=cn,d.domElement.style.touchAction="none",d.domElement.addEventListener("contextmenu",Qn),d.domElement.addEventListener("pointerdown",Qt),d.domElement.addEventListener("pointercancel",Pn),d.domElement.addEventListener("wheel",Jn)},this.dispose=()=>{var cn,Hn,lr,an,sr,Ln;d.domElement&&(d.domElement.style.touchAction="auto"),(cn=d.domElement)==null||cn.removeEventListener("contextmenu",Qn),(Hn=d.domElement)==null||Hn.removeEventListener("pointerdown",Qt),(lr=d.domElement)==null||lr.removeEventListener("pointercancel",Pn),(an=d.domElement)==null||an.removeEventListener("wheel",Jn),(sr=d.domElement)==null||sr.ownerDocument.removeEventListener("pointermove",hn),(Ln=d.domElement)==null||Ln.ownerDocument.removeEventListener("pointerup",Pn),d._domElementKeyEvents!==null&&d._domElementKeyEvents.removeEventListener("keydown",$n)};const d=this,nt={type:"change"},o={type:"start"},ft={type:"end"},gt={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let xt=gt.NONE;const St=1e-6,Tt=new Spherical,At=new Spherical;let Ct=1;const Rt=new Vector3,yt=new Vector2,Ot=new Vector2,Nt=new Vector2,bt=new Vector2,Dt=new Vector2,Ft=new Vector2,Ut=new Vector2,Wt=new Vector2,Gt=new Vector2,Xt=new Vector3,Yt=new Vector2;let Kt=!1;const jt=[],Jt={};function fn(){return 2*Math.PI/60/60*d.autoRotateSpeed}function sn(){return Math.pow(.95,d.zoomSpeed)}function wn(cn){d.reverseOrbit||d.reverseHorizontalOrbit?At.theta+=cn:At.theta-=cn}function Mn(cn){d.reverseOrbit||d.reverseVerticalOrbit?At.phi+=cn:At.phi-=cn}const Tn=(()=>{const cn=new Vector3;return function(lr,an){cn.setFromMatrixColumn(an,0),cn.multiplyScalar(-lr),Rt.add(cn)}})(),kn=(()=>{const cn=new Vector3;return function(lr,an){d.screenSpacePanning===!0?cn.setFromMatrixColumn(an,1):(cn.setFromMatrixColumn(an,0),cn.crossVectors(d.object.up,cn)),cn.multiplyScalar(lr),Rt.add(cn)}})(),rn=(()=>{const cn=new Vector3;return function(lr,an){const sr=d.domElement;if(sr&&d.object instanceof PerspectiveCamera&&d.object.isPerspectiveCamera){const Ln=d.object.position;cn.copy(Ln).sub(d.target);let Wn=cn.length();Wn*=Math.tan(d.object.fov/2*Math.PI/180),Tn(2*lr*Wn/sr.clientHeight,d.object.matrix),kn(2*an*Wn/sr.clientHeight,d.object.matrix)}else sr&&d.object instanceof OrthographicCamera&&d.object.isOrthographicCamera?(Tn(lr*(d.object.right-d.object.left)/d.object.zoom/sr.clientWidth,d.object.matrix),kn(an*(d.object.top-d.object.bottom)/d.object.zoom/sr.clientHeight,d.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),d.enablePan=!1)}})();function un(cn){d.object instanceof PerspectiveCamera&&d.object.isPerspectiveCamera||d.object instanceof OrthographicCamera&&d.object.isOrthographicCamera?Ct=cn:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),d.enableZoom=!1)}function pn(cn){un(Ct/cn)}function Rn(cn){un(Ct*cn)}function zn(cn){if(!d.zoomToCursor||!d.domElement)return;Kt=!0;const Hn=d.domElement.getBoundingClientRect(),lr=cn.clientX-Hn.left,an=cn.clientY-Hn.top,sr=Hn.width,Ln=Hn.height;Yt.x=lr/sr*2-1,Yt.y=-(an/Ln)*2+1,Xt.set(Yt.x,Yt.y,1).unproject(d.object).sub(d.object.position).normalize()}function ir(cn){return Math.max(d.minDistance,Math.min(d.maxDistance,cn))}function An(cn){yt.set(cn.clientX,cn.clientY)}function jn(cn){zn(cn),Ut.set(cn.clientX,cn.clientY)}function or(cn){bt.set(cn.clientX,cn.clientY)}function er(cn){Ot.set(cn.clientX,cn.clientY),Nt.subVectors(Ot,yt).multiplyScalar(d.rotateSpeed);const Hn=d.domElement;Hn&&(wn(2*Math.PI*Nt.x/Hn.clientHeight),Mn(2*Math.PI*Nt.y/Hn.clientHeight)),yt.copy(Ot),d.update()}function gr(cn){Wt.set(cn.clientX,cn.clientY),Gt.subVectors(Wt,Ut),Gt.y>0?pn(sn()):Gt.y<0&&Rn(sn()),Ut.copy(Wt),d.update()}function kr(cn){Dt.set(cn.clientX,cn.clientY),Ft.subVectors(Dt,bt).multiplyScalar(d.panSpeed),rn(Ft.x,Ft.y),bt.copy(Dt),d.update()}function dr(cn){zn(cn),cn.deltaY<0?Rn(sn()):cn.deltaY>0&&pn(sn()),d.update()}function mr(cn){let Hn=!1;switch(cn.code){case d.keys.UP:rn(0,d.keyPanSpeed),Hn=!0;break;case d.keys.BOTTOM:rn(0,-d.keyPanSpeed),Hn=!0;break;case d.keys.LEFT:rn(d.keyPanSpeed,0),Hn=!0;break;case d.keys.RIGHT:rn(-d.keyPanSpeed,0),Hn=!0;break}Hn&&(cn.preventDefault(),d.update())}function It(){if(jt.length==1)yt.set(jt[0].pageX,jt[0].pageY);else{const cn=.5*(jt[0].pageX+jt[1].pageX),Hn=.5*(jt[0].pageY+jt[1].pageY);yt.set(cn,Hn)}}function Zn(){if(jt.length==1)bt.set(jt[0].pageX,jt[0].pageY);else{const cn=.5*(jt[0].pageX+jt[1].pageX),Hn=.5*(jt[0].pageY+jt[1].pageY);bt.set(cn,Hn)}}function nn(){const cn=jt[0].pageX-jt[1].pageX,Hn=jt[0].pageY-jt[1].pageY,lr=Math.sqrt(cn*cn+Hn*Hn);Ut.set(0,lr)}function nr(){d.enableZoom&&nn(),d.enablePan&&Zn()}function Kn(){d.enableZoom&&nn(),d.enableRotate&&It()}function Yn(cn){if(jt.length==1)Ot.set(cn.pageX,cn.pageY);else{const lr=wr(cn),an=.5*(cn.pageX+lr.x),sr=.5*(cn.pageY+lr.y);Ot.set(an,sr)}Nt.subVectors(Ot,yt).multiplyScalar(d.rotateSpeed);const Hn=d.domElement;Hn&&(wn(2*Math.PI*Nt.x/Hn.clientHeight),Mn(2*Math.PI*Nt.y/Hn.clientHeight)),yt.copy(Ot)}function Dn(cn){if(jt.length==1)Dt.set(cn.pageX,cn.pageY);else{const Hn=wr(cn),lr=.5*(cn.pageX+Hn.x),an=.5*(cn.pageY+Hn.y);Dt.set(lr,an)}Ft.subVectors(Dt,bt).multiplyScalar(d.panSpeed),rn(Ft.x,Ft.y),bt.copy(Dt)}function vr(cn){const Hn=wr(cn),lr=cn.pageX-Hn.x,an=cn.pageY-Hn.y,sr=Math.sqrt(lr*lr+an*an);Wt.set(0,sr),Gt.set(0,Math.pow(Wt.y/Ut.y,d.zoomSpeed)),pn(Gt.y),Ut.copy(Wt)}function Xn(cn){d.enableZoom&&vr(cn),d.enablePan&&Dn(cn)}function tn(cn){d.enableZoom&&vr(cn),d.enableRotate&&Yn(cn)}function Qt(cn){var Hn,lr;d.enabled!==!1&&(jt.length===0&&((Hn=d.domElement)==null||Hn.ownerDocument.addEventListener("pointermove",hn),(lr=d.domElement)==null||lr.ownerDocument.addEventListener("pointerup",Pn)),tr(cn),cn.pointerType==="touch"?fr(cn):Gn(cn))}function hn(cn){d.enabled!==!1&&(cn.pointerType==="touch"?Lr(cn):yn(cn))}function Pn(cn){var Hn,lr,an;rr(cn),jt.length===0&&((Hn=d.domElement)==null||Hn.releasePointerCapture(cn.pointerId),(lr=d.domElement)==null||lr.ownerDocument.removeEventListener("pointermove",hn),(an=d.domElement)==null||an.ownerDocument.removeEventListener("pointerup",Pn)),d.dispatchEvent(ft),xt=gt.NONE}function Gn(cn){let Hn;switch(cn.button){case 0:Hn=d.mouseButtons.LEFT;break;case 1:Hn=d.mouseButtons.MIDDLE;break;case 2:Hn=d.mouseButtons.RIGHT;break;default:Hn=-1}switch(Hn){case MOUSE.DOLLY:if(d.enableZoom===!1)return;jn(cn),xt=gt.DOLLY;break;case MOUSE.ROTATE:if(cn.ctrlKey||cn.metaKey||cn.shiftKey){if(d.enablePan===!1)return;or(cn),xt=gt.PAN}else{if(d.enableRotate===!1)return;An(cn),xt=gt.ROTATE}break;case MOUSE.PAN:if(cn.ctrlKey||cn.metaKey||cn.shiftKey){if(d.enableRotate===!1)return;An(cn),xt=gt.ROTATE}else{if(d.enablePan===!1)return;or(cn),xt=gt.PAN}break;default:xt=gt.NONE}xt!==gt.NONE&&d.dispatchEvent(o)}function yn(cn){if(d.enabled!==!1)switch(xt){case gt.ROTATE:if(d.enableRotate===!1)return;er(cn);break;case gt.DOLLY:if(d.enableZoom===!1)return;gr(cn);break;case gt.PAN:if(d.enablePan===!1)return;kr(cn);break}}function Jn(cn){d.enabled===!1||d.enableZoom===!1||xt!==gt.NONE&&xt!==gt.ROTATE||(cn.preventDefault(),d.dispatchEvent(o),dr(cn),d.dispatchEvent(ft))}function $n(cn){d.enabled===!1||d.enablePan===!1||mr(cn)}function fr(cn){switch(Or(cn),jt.length){case 1:switch(d.touches.ONE){case TOUCH.ROTATE:if(d.enableRotate===!1)return;It(),xt=gt.TOUCH_ROTATE;break;case TOUCH.PAN:if(d.enablePan===!1)return;Zn(),xt=gt.TOUCH_PAN;break;default:xt=gt.NONE}break;case 2:switch(d.touches.TWO){case TOUCH.DOLLY_PAN:if(d.enableZoom===!1&&d.enablePan===!1)return;nr(),xt=gt.TOUCH_DOLLY_PAN;break;case TOUCH.DOLLY_ROTATE:if(d.enableZoom===!1&&d.enableRotate===!1)return;Kn(),xt=gt.TOUCH_DOLLY_ROTATE;break;default:xt=gt.NONE}break;default:xt=gt.NONE}xt!==gt.NONE&&d.dispatchEvent(o)}function Lr(cn){switch(Or(cn),xt){case gt.TOUCH_ROTATE:if(d.enableRotate===!1)return;Yn(cn),d.update();break;case gt.TOUCH_PAN:if(d.enablePan===!1)return;Dn(cn),d.update();break;case gt.TOUCH_DOLLY_PAN:if(d.enableZoom===!1&&d.enablePan===!1)return;Xn(cn),d.update();break;case gt.TOUCH_DOLLY_ROTATE:if(d.enableZoom===!1&&d.enableRotate===!1)return;tn(cn),d.update();break;default:xt=gt.NONE}}function Qn(cn){d.enabled!==!1&&cn.preventDefault()}function tr(cn){jt.push(cn)}function rr(cn){delete Jt[cn.pointerId];for(let Hn=0;Hn<jt.length;Hn++)if(jt[Hn].pointerId==cn.pointerId){jt.splice(Hn,1);return}}function Or(cn){let Hn=Jt[cn.pointerId];Hn===void 0&&(Hn=new Vector2,Jt[cn.pointerId]=Hn),Hn.set(cn.pageX,cn.pageY)}function wr(cn){const Hn=cn.pointerId===jt[0].pointerId?jt[1]:jt[0];return Jt[Hn.pointerId]}this.dollyIn=(cn=sn())=>{Rn(cn),d.update()},this.dollyOut=(cn=sn())=>{pn(cn),d.update()},this.getScale=()=>Ct,this.setScale=cn=>{un(cn),d.update()},this.getZoomScale=()=>sn(),s!==void 0&&this.connect(s),this.update()}};const OrbitControls=reactExports.forwardRef(({makeDefault:c,camera:e,regress:s,domElement:d,enableDamping:nt=!0,keyEvents:o=!1,onChange:ft,onStart:gt,onEnd:xt,...St},Tt)=>{const At=useThree(Gt=>Gt.invalidate),Ct=useThree(Gt=>Gt.camera),Rt=useThree(Gt=>Gt.gl),yt=useThree(Gt=>Gt.events),Ot=useThree(Gt=>Gt.setEvents),Nt=useThree(Gt=>Gt.set),bt=useThree(Gt=>Gt.get),Dt=useThree(Gt=>Gt.performance),Ft=e||Ct,Ut=d||yt.connected||Rt.domElement,Wt=reactExports.useMemo(()=>new OrbitControls$1(Ft),[Ft]);return useFrame(()=>{Wt.enabled&&Wt.update()},-1),reactExports.useEffect(()=>(o&&Wt.connect(o===!0?Ut:o),Wt.connect(Ut),()=>void Wt.dispose()),[o,Ut,s,Wt,At]),reactExports.useEffect(()=>{const Gt=Kt=>{At(),s&&Dt.regress(),ft&&ft(Kt)},Xt=Kt=>{gt&&gt(Kt)},Yt=Kt=>{xt&&xt(Kt)};return Wt.addEventListener("change",Gt),Wt.addEventListener("start",Xt),Wt.addEventListener("end",Yt),()=>{Wt.removeEventListener("start",Xt),Wt.removeEventListener("end",Yt),Wt.removeEventListener("change",Gt)}},[ft,gt,xt,Wt,At,Ot]),reactExports.useEffect(()=>{if(c){const Gt=bt().controls;return Nt({controls:Wt}),()=>Nt({controls:Gt})}},[c,Wt]),reactExports.createElement("primitive",_extends$2({ref:Tt,object:Wt,enableDamping:nt},St))});var __assign=function(){return __assign=Object.assign||function(e){for(var s,d=1,nt=arguments.length;d<nt;d++){s=arguments[d];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},__assign.apply(this,arguments)};function __spreadArray(c,e,s){if(s||arguments.length===2)for(var d=0,nt=e.length,o;d<nt;d++)(o||!(d in e))&&(o||(o=Array.prototype.slice.call(e,0,d)),o[d]=e[d]);return c.concat(o||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;function memoize(c){var e=Object.create(null);return function(s){return e[s]===void 0&&(e[s]=c(s)),e[s]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize(function(c){return reactPropsRegex.test(c)||c.charCodeAt(0)===111&&c.charCodeAt(1)===110&&c.charCodeAt(2)<91}),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(c,e){return charat(c,0)^45?(((e<<2^charat(c,0))<<2^charat(c,1))<<2^charat(c,2))<<2^charat(c,3):0}function trim(c){return c.trim()}function match(c,e){return(c=e.exec(c))?c[0]:c}function replace(c,e,s){return c.replace(e,s)}function indexof(c,e,s){return c.indexOf(e,s)}function charat(c,e){return c.charCodeAt(e)|0}function substr(c,e,s){return c.slice(e,s)}function strlen(c){return c.length}function sizeof(c){return c.length}function append(c,e){return e.push(c),c}function combine(c,e){return c.map(e).join("")}function filter(c,e){return c.filter(function(s){return!match(s,e)})}var line=1,column=1,length=0,position=0,character=0,characters="";function node(c,e,s,d,nt,o,ft,gt){return{value:c,root:e,parent:s,type:d,props:nt,children:o,line,column,length:ft,return:"",siblings:gt}}function copy(c,e){return assign(node("",null,null,"",null,null,0,c.siblings),c,{length:-c.length},e)}function lift(c){for(;c.root;)c=copy(c.root,{children:[c]});append(c,c.siblings)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(c,e){return substr(characters,c,e)}function token(c){switch(c){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(c){return line=column=1,length=strlen(characters=c),position=0,[]}function dealloc(c){return characters="",c}function delimit(c){return trim(slice(position-1,delimiter(c===91?c+2:c===40?c+1:c)))}function whitespace(c){for(;(character=peek())&&character<33;)next();return token(c)>2||token(character)>3?"":" "}function escaping(c,e){for(;--e&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(c,caret()+(e<6&&peek()==32&&next()==32))}function delimiter(c){for(;next();)switch(character){case c:return position;case 34:case 39:c!==34&&c!==39&&delimiter(character);break;case 40:c===41&&delimiter(c);break;case 92:next();break}return position}function commenter(c,e){for(;next()&&c+character!==47+10;)if(c+character===42+42&&peek()===47)break;return"/*"+slice(e,position-1)+"*"+from(c===47?c:next())}function identifier(c){for(;!token(peek());)next();return slice(c,position)}function compile(c){return dealloc(parse("",null,null,null,[""],c=alloc(c),0,[0],c))}function parse(c,e,s,d,nt,o,ft,gt,xt){for(var St=0,Tt=0,At=ft,Ct=0,Rt=0,yt=0,Ot=1,Nt=1,bt=1,Dt=0,Ft="",Ut=nt,Wt=o,Gt=d,Xt=Ft;Nt;)switch(yt=Dt,Dt=next()){case 40:if(yt!=108&&charat(Xt,At-1)==58){indexof(Xt+=replace(delimit(Dt),"&","&\f"),"&\f",abs(St?gt[St-1]:0))!=-1&&(bt=-1);break}case 34:case 39:case 91:Xt+=delimit(Dt);break;case 9:case 10:case 13:case 32:Xt+=whitespace(yt);break;case 92:Xt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),e,s,xt),xt);break;default:Xt+="/"}break;case 123*Ot:gt[St++]=strlen(Xt)*bt;case 125*Ot:case 59:case 0:switch(Dt){case 0:case 125:Nt=0;case 59+Tt:bt==-1&&(Xt=replace(Xt,/\f/g,"")),Rt>0&&strlen(Xt)-At&&append(Rt>32?declaration(Xt+";",d,s,At-1,xt):declaration(replace(Xt," ","")+";",d,s,At-2,xt),xt);break;case 59:Xt+=";";default:if(append(Gt=ruleset(Xt,e,s,St,Tt,nt,gt,Ft,Ut=[],Wt=[],At,o),o),Dt===123)if(Tt===0)parse(Xt,e,Gt,Gt,Ut,o,At,gt,Wt);else switch(Ct===99&&charat(Xt,3)===110?100:Ct){case 100:case 108:case 109:case 115:parse(c,Gt,Gt,d&&append(ruleset(c,Gt,Gt,0,0,nt,gt,Ft,nt,Ut=[],At,Wt),Wt),nt,Wt,At,gt,d?Ut:Wt);break;default:parse(Xt,Gt,Gt,Gt,[""],Wt,0,gt,Wt)}}St=Tt=Rt=0,Ot=bt=1,Ft=Xt="",At=ft;break;case 58:At=1+strlen(Xt),Rt=yt;default:if(Ot<1){if(Dt==123)--Ot;else if(Dt==125&&Ot++==0&&prev()==125)continue}switch(Xt+=from(Dt),Dt*Ot){case 38:bt=Tt>0?1:(Xt+="\f",-1);break;case 44:gt[St++]=(strlen(Xt)-1)*bt,bt=1;break;case 64:peek()===45&&(Xt+=delimit(next())),Ct=peek(),Tt=At=strlen(Ft=Xt+=identifier(caret())),Dt++;break;case 45:yt===45&&strlen(Xt)==2&&(Ot=0)}}return o}function ruleset(c,e,s,d,nt,o,ft,gt,xt,St,Tt,At){for(var Ct=nt-1,Rt=nt===0?o:[""],yt=sizeof(Rt),Ot=0,Nt=0,bt=0;Ot<d;++Ot)for(var Dt=0,Ft=substr(c,Ct+1,Ct=abs(Nt=ft[Ot])),Ut=c;Dt<yt;++Dt)(Ut=trim(Nt>0?Rt[Dt]+" "+Ft:replace(Ft,/&\f/g,Rt[Dt])))&&(xt[bt++]=Ut);return node(c,e,s,nt===0?RULESET:gt,xt,St,Tt,At)}function comment(c,e,s,d){return node(c,e,s,COMMENT,from(char()),substr(c,2,-2),0,d)}function declaration(c,e,s,d,nt){return node(c,e,s,DECLARATION,substr(c,0,d),substr(c,d+1,-1),d,nt)}function prefix(c,e,s){switch(hash(c,e)){case 5103:return WEBKIT+"print-"+c+c;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+c+c;case 4789:return MOZ+c+c;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+c+MOZ+c+MS+c+c;case 5936:switch(charat(c,e+11)){case 114:return WEBKIT+c+MS+replace(c,/[svh]\w+-[tblr]{2}/,"tb")+c;case 108:return WEBKIT+c+MS+replace(c,/[svh]\w+-[tblr]{2}/,"tb-rl")+c;case 45:return WEBKIT+c+MS+replace(c,/[svh]\w+-[tblr]{2}/,"lr")+c}case 6828:case 4268:case 2903:return WEBKIT+c+MS+c+c;case 6165:return WEBKIT+c+MS+"flex-"+c+c;case 5187:return WEBKIT+c+replace(c,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+c;case 5443:return WEBKIT+c+MS+"flex-item-"+replace(c,/flex-|-self/g,"")+(match(c,/flex-|baseline/)?"":MS+"grid-row-"+replace(c,/flex-|-self/g,""))+c;case 4675:return WEBKIT+c+MS+"flex-line-pack"+replace(c,/align-content|flex-|-self/g,"")+c;case 5548:return WEBKIT+c+MS+replace(c,"shrink","negative")+c;case 5292:return WEBKIT+c+MS+replace(c,"basis","preferred-size")+c;case 6060:return WEBKIT+"box-"+replace(c,"-grow","")+WEBKIT+c+MS+replace(c,"grow","positive")+c;case 4554:return WEBKIT+replace(c,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+c;case 6187:return replace(replace(replace(c,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),c,"")+c;case 5495:case 3959:return replace(c,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(c,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+c+c;case 4200:if(!match(c,/flex-|baseline/))return MS+"grid-column-align"+substr(c,e)+c;break;case 2592:case 3360:return MS+replace(c,"template-","")+c;case 4384:case 3616:return s&&s.some(function(d,nt){return e=nt,match(d.props,/grid-\w+-end/)})?~indexof(c+(s=s[e].value),"span",0)?c:MS+replace(c,"-start","")+c+MS+"grid-row-span:"+(~indexof(s,"span",0)?match(s,/\d+/):+match(s,/\d+/)-+match(c,/\d+/))+";":MS+replace(c,"-start","")+c;case 4896:case 4128:return s&&s.some(function(d){return match(d.props,/grid-\w+-start/)})?c:MS+replace(replace(c,"-end","-span"),"span ","")+c;case 4095:case 3583:case 4068:case 2532:return replace(c,/(.+)-inline(.+)/,WEBKIT+"$1$2")+c;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(c)-1-e>6)switch(charat(c,e+1)){case 109:if(charat(c,e+4)!==45)break;case 102:return replace(c,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(c,e+3)==108?"$3":"$2-$3"))+c;case 115:return~indexof(c,"stretch",0)?prefix(replace(c,"stretch","fill-available"),e,s)+c:c}break;case 5152:case 5920:return replace(c,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(d,nt,o,ft,gt,xt,St){return MS+nt+":"+o+St+(ft?MS+nt+"-span:"+(gt?xt:+xt-+o)+St:"")+c});case 4949:if(charat(c,e+6)===121)return replace(c,":",":"+WEBKIT)+c;break;case 6444:switch(charat(c,charat(c,14)===45?18:11)){case 120:return replace(c,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+WEBKIT+(charat(c,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+c;case 100:return replace(c,":",":"+MS)+c}break;case 5719:case 2647:case 2135:case 3927:case 2391:return replace(c,"scroll-","scroll-snap-")+c}return c}function serialize(c,e){for(var s="",d=0;d<c.length;d++)s+=e(c[d],d,c,e)||"";return s}function stringify(c,e,s,d){switch(c.type){case LAYER:if(c.children.length)break;case IMPORT:case DECLARATION:return c.return=c.return||c.value;case COMMENT:return"";case KEYFRAMES:return c.return=c.value+"{"+serialize(c.children,d)+"}";case RULESET:if(!strlen(c.value=c.props.join(",")))return""}return strlen(s=serialize(c.children,d))?c.return=c.value+"{"+s+"}":""}function middleware(c){var e=sizeof(c);return function(s,d,nt,o){for(var ft="",gt=0;gt<e;gt++)ft+=c[gt](s,d,nt,o)||"";return ft}}function rulesheet(c){return function(e){e.root||(e=e.return)&&c(e)}}function prefixer(c,e,s,d){if(c.length>-1&&!c.return)switch(c.type){case DECLARATION:c.return=prefix(c.value,c.length,s);return;case KEYFRAMES:return serialize([copy(c,{value:replace(c.value,"@","@"+WEBKIT)})],d);case RULESET:if(c.length)return combine(s=c.props,function(nt){switch(match(nt,d=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":lift(copy(c,{props:[replace(nt,/:(read-\w+)/,":"+MOZ+"$1")]})),lift(copy(c,{props:[nt]})),assign(c,{props:filter(s,d)});break;case"::placeholder":lift(copy(c,{props:[replace(nt,/:(plac\w+)/,":"+WEBKIT+"input-$1")]})),lift(copy(c,{props:[replace(nt,/:(plac\w+)/,":"+MOZ+"$1")]})),lift(copy(c,{props:[replace(nt,/:(plac\w+)/,MS+"input-$1")]})),lift(copy(c,{props:[nt]})),assign(c,{props:filter(s,d)});break}return""})}}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},f=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",m="active",y$1="data-styled-version",v="6.1.18",g=`/*!sc*/
`,S=typeof window<"u"&&typeof document<"u",w$1=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),_=Object.freeze([]),C$1=Object.freeze({});function I(c,e,s){return s===void 0&&(s=C$1),c.theme!==s.theme&&c.theme||e||s.theme}var A$1=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),O=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,D=/(^-|-$)/g;function R(c){return c.replace(O,"-").replace(D,"")}var T$1=/(a)(d)/gi,k=52,j=function(c){return String.fromCharCode(c+(c>25?39:97))};function x$1(c){var e,s="";for(e=Math.abs(c);e>k;e=e/k|0)s=j(e%k)+s;return(j(e%k)+s).replace(T$1,"$1-$2")}var V,F$1=5381,M=function(c,e){for(var s=e.length;s;)c=33*c^e.charCodeAt(--s);return c},z=function(c){return M(F$1,c)};function $(c){return x$1(z(c)>>>0)}function B$1(c){return c.displayName||c.name||"Component"}function L(c){return typeof c=="string"&&!0}var G$1=typeof Symbol=="function"&&Symbol.for,Y=G$1?Symbol.for("react.memo"):60115,W=G$1?Symbol.for("react.forward_ref"):60112,q={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},H={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},U={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},J=((V={})[W]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},V[Y]=U,V);function X(c){return("type"in(e=c)&&e.type.$$typeof)===Y?U:"$$typeof"in c?J[c.$$typeof]:q;var e}var Z=Object.defineProperty,K=Object.getOwnPropertyNames,Q=Object.getOwnPropertySymbols,ee=Object.getOwnPropertyDescriptor,te=Object.getPrototypeOf,ne=Object.prototype;function oe(c,e,s){if(typeof e!="string"){if(ne){var d=te(e);d&&d!==ne&&oe(c,d,s)}var nt=K(e);Q&&(nt=nt.concat(Q(e)));for(var o=X(c),ft=X(e),gt=0;gt<nt.length;++gt){var xt=nt[gt];if(!(xt in H||s&&s[xt]||ft&&xt in ft||o&&xt in o)){var St=ee(e,xt);try{Z(c,xt,St)}catch{}}}}return c}function re(c){return typeof c=="function"}function se(c){return typeof c=="object"&&"styledComponentId"in c}function ie(c,e){return c&&e?"".concat(c," ").concat(e):c||e||""}function ae(c,e){if(c.length===0)return"";for(var s=c[0],d=1;d<c.length;d++)s+=e?e+c[d]:c[d];return s}function ce(c){return c!==null&&typeof c=="object"&&c.constructor.name===Object.name&&!("props"in c&&c.$$typeof)}function le(c,e,s){if(s===void 0&&(s=!1),!s&&!ce(c)&&!Array.isArray(c))return e;if(Array.isArray(e))for(var d=0;d<e.length;d++)c[d]=le(c[d],e[d]);else if(ce(e))for(var d in e)c[d]=le(c[d],e[d]);return c}function ue(c,e){Object.defineProperty(c,"toString",{value:e})}function he(c){for(var e=[],s=1;s<arguments.length;s++)e[s-1]=arguments[s];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(c," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var fe=function(){function c(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return c.prototype.indexOfGroup=function(e){for(var s=0,d=0;d<e;d++)s+=this.groupSizes[d];return s},c.prototype.insertRules=function(e,s){if(e>=this.groupSizes.length){for(var d=this.groupSizes,nt=d.length,o=nt;e>=o;)if((o<<=1)<0)throw he(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(d),this.length=o;for(var ft=nt;ft<o;ft++)this.groupSizes[ft]=0}for(var gt=this.indexOfGroup(e+1),xt=(ft=0,s.length);ft<xt;ft++)this.tag.insertRule(gt,s[ft])&&(this.groupSizes[e]++,gt++)},c.prototype.clearGroup=function(e){if(e<this.length){var s=this.groupSizes[e],d=this.indexOfGroup(e),nt=d+s;this.groupSizes[e]=0;for(var o=d;o<nt;o++)this.tag.deleteRule(d)}},c.prototype.getGroup=function(e){var s="";if(e>=this.length||this.groupSizes[e]===0)return s;for(var d=this.groupSizes[e],nt=this.indexOfGroup(e),o=nt+d,ft=nt;ft<o;ft++)s+="".concat(this.tag.getRule(ft)).concat(g);return s},c}(),ye=new Map,ve=new Map,ge=1,Se=function(c){if(ye.has(c))return ye.get(c);for(;ve.has(ge);)ge++;var e=ge++;return ye.set(c,e),ve.set(e,c),e},we=function(c,e){ge=e+1,ye.set(c,e),ve.set(e,c)},be="style[".concat(f,"][").concat(y$1,'="').concat(v,'"]'),Ee=new RegExp("^".concat(f,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Ne=function(c,e,s){for(var d,nt=s.split(","),o=0,ft=nt.length;o<ft;o++)(d=nt[o])&&c.registerName(e,d)},Pe=function(c,e){for(var s,d=((s=e.textContent)!==null&&s!==void 0?s:"").split(g),nt=[],o=0,ft=d.length;o<ft;o++){var gt=d[o].trim();if(gt){var xt=gt.match(Ee);if(xt){var St=0|parseInt(xt[1],10),Tt=xt[2];St!==0&&(we(Tt,St),Ne(c,Tt,xt[3]),c.getTag().insertRules(St,nt)),nt.length=0}else nt.push(gt)}}},_e=function(c){for(var e=document.querySelectorAll(be),s=0,d=e.length;s<d;s++){var nt=e[s];nt&&nt.getAttribute(f)!==m&&(Pe(c,nt),nt.parentNode&&nt.parentNode.removeChild(nt))}};function Ce(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Ie=function(c){var e=document.head,s=c||e,d=document.createElement("style"),nt=function(gt){var xt=Array.from(gt.querySelectorAll("style[".concat(f,"]")));return xt[xt.length-1]}(s),o=nt!==void 0?nt.nextSibling:null;d.setAttribute(f,m),d.setAttribute(y$1,v);var ft=Ce();return ft&&d.setAttribute("nonce",ft),s.insertBefore(d,o),d},Ae=function(){function c(e){this.element=Ie(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(s){if(s.sheet)return s.sheet;for(var d=document.styleSheets,nt=0,o=d.length;nt<o;nt++){var ft=d[nt];if(ft.ownerNode===s)return ft}throw he(17)}(this.element),this.length=0}return c.prototype.insertRule=function(e,s){try{return this.sheet.insertRule(s,e),this.length++,!0}catch{return!1}},c.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},c.prototype.getRule=function(e){var s=this.sheet.cssRules[e];return s&&s.cssText?s.cssText:""},c}(),Oe=function(){function c(e){this.element=Ie(e),this.nodes=this.element.childNodes,this.length=0}return c.prototype.insertRule=function(e,s){if(e<=this.length&&e>=0){var d=document.createTextNode(s);return this.element.insertBefore(d,this.nodes[e]||null),this.length++,!0}return!1},c.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},c.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},c}(),De=function(){function c(e){this.rules=[],this.length=0}return c.prototype.insertRule=function(e,s){return e<=this.length&&(this.rules.splice(e,0,s),this.length++,!0)},c.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},c.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},c}(),Re=S,Te={isServer:!S,useCSSOMInjection:!w$1},ke=function(){function c(e,s,d){e===void 0&&(e=C$1),s===void 0&&(s={});var nt=this;this.options=__assign(__assign({},Te),e),this.gs=s,this.names=new Map(d),this.server=!!e.isServer,!this.server&&S&&Re&&(Re=!1,_e(this)),ue(this,function(){return function(o){for(var ft=o.getTag(),gt=ft.length,xt="",St=function(At){var Ct=function(bt){return ve.get(bt)}(At);if(Ct===void 0)return"continue";var Rt=o.names.get(Ct),yt=ft.getGroup(At);if(Rt===void 0||!Rt.size||yt.length===0)return"continue";var Ot="".concat(f,".g").concat(At,'[id="').concat(Ct,'"]'),Nt="";Rt!==void 0&&Rt.forEach(function(bt){bt.length>0&&(Nt+="".concat(bt,","))}),xt+="".concat(yt).concat(Ot,'{content:"').concat(Nt,'"}').concat(g)},Tt=0;Tt<gt;Tt++)St(Tt);return xt}(nt)})}return c.registerId=function(e){return Se(e)},c.prototype.rehydrate=function(){!this.server&&S&&_e(this)},c.prototype.reconstructWithOptions=function(e,s){return s===void 0&&(s=!0),new c(__assign(__assign({},this.options),e),this.gs,s&&this.names||void 0)},c.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},c.prototype.getTag=function(){return this.tag||(this.tag=(e=function(s){var d=s.useCSSOMInjection,nt=s.target;return s.isServer?new De(nt):d?new Ae(nt):new Oe(nt)}(this.options),new fe(e)));var e},c.prototype.hasNameForId=function(e,s){return this.names.has(e)&&this.names.get(e).has(s)},c.prototype.registerName=function(e,s){if(Se(e),this.names.has(e))this.names.get(e).add(s);else{var d=new Set;d.add(s),this.names.set(e,d)}},c.prototype.insertRules=function(e,s,d){this.registerName(e,s),this.getTag().insertRules(Se(e),d)},c.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},c.prototype.clearRules=function(e){this.getTag().clearGroup(Se(e)),this.clearNames(e)},c.prototype.clearTag=function(){this.tag=void 0},c}(),je=/&/g,xe=/^\s*\/\/.*$/gm;function Ve(c,e){return c.map(function(s){return s.type==="rule"&&(s.value="".concat(e," ").concat(s.value),s.value=s.value.replaceAll(",",",".concat(e," ")),s.props=s.props.map(function(d){return"".concat(e," ").concat(d)})),Array.isArray(s.children)&&s.type!=="@keyframes"&&(s.children=Ve(s.children,e)),s})}function Fe(c){var e,s,d,nt=c===void 0?C$1:c,o=nt.options,ft=o===void 0?C$1:o,gt=nt.plugins,xt=gt===void 0?_:gt,St=function(Ct,Rt,yt){return yt.startsWith(s)&&yt.endsWith(s)&&yt.replaceAll(s,"").length>0?".".concat(e):Ct},Tt=xt.slice();Tt.push(function(Ct){Ct.type===RULESET&&Ct.value.includes("&")&&(Ct.props[0]=Ct.props[0].replace(je,s).replace(d,St))}),ft.prefix&&Tt.push(prefixer),Tt.push(stringify);var At=function(Ct,Rt,yt,Ot){Rt===void 0&&(Rt=""),yt===void 0&&(yt=""),Ot===void 0&&(Ot="&"),e=Ot,s=Rt,d=new RegExp("\\".concat(s,"\\b"),"g");var Nt=Ct.replace(xe,""),bt=compile(yt||Rt?"".concat(yt," ").concat(Rt," { ").concat(Nt," }"):Nt);ft.namespace&&(bt=Ve(bt,ft.namespace));var Dt=[];return serialize(bt,middleware(Tt.concat(rulesheet(function(Ft){return Dt.push(Ft)})))),Dt};return At.hash=xt.length?xt.reduce(function(Ct,Rt){return Rt.name||he(15),M(Ct,Rt.name)},F$1).toString():"",At}var Me=new ke,ze=Fe(),$e=React$2.createContext({shouldForwardProp:void 0,styleSheet:Me,stylis:ze});$e.Consumer;React$2.createContext(void 0);function Ge(){return reactExports.useContext($e)}var We=function(){function c(e,s){var d=this;this.inject=function(nt,o){o===void 0&&(o=ze);var ft=d.name+o.hash;nt.hasNameForId(d.id,ft)||nt.insertRules(d.id,ft,o(d.rules,ft,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=s,ue(this,function(){throw he(12,String(d.name))})}return c.prototype.getName=function(e){return e===void 0&&(e=ze),this.name+e.hash},c}(),qe=function(c){return c>="A"&&c<="Z"};function He(c){for(var e="",s=0;s<c.length;s++){var d=c[s];if(s===1&&d==="-"&&c[0]==="-")return c;qe(d)?e+="-"+d.toLowerCase():e+=d}return e.startsWith("ms-")?"-"+e:e}var Ue=function(c){return c==null||c===!1||c===""},Je=function(c){var e,s,d=[];for(var nt in c){var o=c[nt];c.hasOwnProperty(nt)&&!Ue(o)&&(Array.isArray(o)&&o.isCss||re(o)?d.push("".concat(He(nt),":"),o,";"):ce(o)?d.push.apply(d,__spreadArray(__spreadArray(["".concat(nt," {")],Je(o),!1),["}"],!1)):d.push("".concat(He(nt),": ").concat((e=nt,(s=o)==null||typeof s=="boolean"||s===""?"":typeof s!="number"||s===0||e in unitlessKeys||e.startsWith("--")?String(s).trim():"".concat(s,"px")),";")))}return d};function Xe(c,e,s,d){if(Ue(c))return[];if(se(c))return[".".concat(c.styledComponentId)];if(re(c)){if(!re(o=c)||o.prototype&&o.prototype.isReactComponent||!e)return[c];var nt=c(e);return Xe(nt,e,s,d)}var o;return c instanceof We?s?(c.inject(s,d),[c.getName(d)]):[c]:ce(c)?Je(c):Array.isArray(c)?Array.prototype.concat.apply(_,c.map(function(ft){return Xe(ft,e,s,d)})):[c.toString()]}function Ze(c){for(var e=0;e<c.length;e+=1){var s=c[e];if(re(s)&&!se(s))return!1}return!0}var Ke=z(v),Qe=function(){function c(e,s,d){this.rules=e,this.staticRulesId="",this.isStatic=(d===void 0||d.isStatic)&&Ze(e),this.componentId=s,this.baseHash=M(Ke,s),this.baseStyle=d,ke.registerId(s)}return c.prototype.generateAndInjectStyles=function(e,s,d){var nt=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,s,d):"";if(this.isStatic&&!d.hash)if(this.staticRulesId&&s.hasNameForId(this.componentId,this.staticRulesId))nt=ie(nt,this.staticRulesId);else{var o=ae(Xe(this.rules,e,s,d)),ft=x$1(M(this.baseHash,o)>>>0);if(!s.hasNameForId(this.componentId,ft)){var gt=d(o,".".concat(ft),void 0,this.componentId);s.insertRules(this.componentId,ft,gt)}nt=ie(nt,ft),this.staticRulesId=ft}else{for(var xt=M(this.baseHash,d.hash),St="",Tt=0;Tt<this.rules.length;Tt++){var At=this.rules[Tt];if(typeof At=="string")St+=At;else if(At){var Ct=ae(Xe(At,e,s,d));xt=M(xt,Ct+Tt),St+=Ct}}if(St){var Rt=x$1(xt>>>0);s.hasNameForId(this.componentId,Rt)||s.insertRules(this.componentId,Rt,d(St,".".concat(Rt),void 0,this.componentId)),nt=ie(nt,Rt)}}return nt},c}(),et=React$2.createContext(void 0);et.Consumer;var rt={},st=new Set;function it(c,e,s){var d=se(c),nt=c,o=!L(c),ft=e.attrs,gt=ft===void 0?_:ft,xt=e.componentId,St=xt===void 0?function(Ut,Wt){var Gt=typeof Ut!="string"?"sc":R(Ut);rt[Gt]=(rt[Gt]||0)+1;var Xt="".concat(Gt,"-").concat($(v+Gt+rt[Gt]));return Wt?"".concat(Wt,"-").concat(Xt):Xt}(e.displayName,e.parentComponentId):xt,Tt=e.displayName,At=Tt===void 0?function(Ut){return L(Ut)?"styled.".concat(Ut):"Styled(".concat(B$1(Ut),")")}(c):Tt,Ct=e.displayName&&e.componentId?"".concat(R(e.displayName),"-").concat(e.componentId):e.componentId||St,Rt=d&&nt.attrs?nt.attrs.concat(gt).filter(Boolean):gt,yt=e.shouldForwardProp;if(d&&nt.shouldForwardProp){var Ot=nt.shouldForwardProp;if(e.shouldForwardProp){var Nt=e.shouldForwardProp;yt=function(Ut,Wt){return Ot(Ut,Wt)&&Nt(Ut,Wt)}}else yt=Ot}var bt=new Qe(s,Ct,d?nt.componentStyle:void 0);function Dt(Ut,Wt){return function(Gt,Xt,Yt){var Kt=Gt.attrs,jt=Gt.componentStyle,Jt=Gt.defaultProps,fn=Gt.foldedComponentIds,sn=Gt.styledComponentId,wn=Gt.target,Mn=React$2.useContext(et),Tn=Ge(),kn=Gt.shouldForwardProp||Tn.shouldForwardProp,rn=I(Xt,Mn,Jt)||C$1,un=function(jn,or,er){for(var gr,kr=__assign(__assign({},or),{className:void 0,theme:er}),dr=0;dr<jn.length;dr+=1){var mr=re(gr=jn[dr])?gr(kr):gr;for(var It in mr)kr[It]=It==="className"?ie(kr[It],mr[It]):It==="style"?__assign(__assign({},kr[It]),mr[It]):mr[It]}return or.className&&(kr.className=ie(kr.className,or.className)),kr}(Kt,Xt,rn),pn=un.as||wn,Rn={};for(var zn in un)un[zn]===void 0||zn[0]==="$"||zn==="as"||zn==="theme"&&un.theme===rn||(zn==="forwardedAs"?Rn.as=un.forwardedAs:kn&&!kn(zn,pn)||(Rn[zn]=un[zn]));var ir=function(jn,or){var er=Ge(),gr=jn.generateAndInjectStyles(or,er.styleSheet,er.stylis);return gr}(jt,un),An=ie(fn,sn);return ir&&(An+=" "+ir),un.className&&(An+=" "+un.className),Rn[L(pn)&&!A$1.has(pn)?"class":"className"]=An,Yt&&(Rn.ref=Yt),reactExports.createElement(pn,Rn)}(Ft,Ut,Wt)}Dt.displayName=At;var Ft=React$2.forwardRef(Dt);return Ft.attrs=Rt,Ft.componentStyle=bt,Ft.displayName=At,Ft.shouldForwardProp=yt,Ft.foldedComponentIds=d?ie(nt.foldedComponentIds,nt.styledComponentId):"",Ft.styledComponentId=Ct,Ft.target=d?nt.target:c,Object.defineProperty(Ft,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(Ut){this._foldedDefaultProps=d?function(Wt){for(var Gt=[],Xt=1;Xt<arguments.length;Xt++)Gt[Xt-1]=arguments[Xt];for(var Yt=0,Kt=Gt;Yt<Kt.length;Yt++)le(Wt,Kt[Yt],!0);return Wt}({},nt.defaultProps,Ut):Ut}}),ue(Ft,function(){return".".concat(Ft.styledComponentId)}),o&&oe(Ft,c,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),Ft}function at(c,e){for(var s=[c[0]],d=0,nt=e.length;d<nt;d+=1)s.push(e[d],c[d+1]);return s}var ct=function(c){return Object.assign(c,{isCss:!0})};function lt(c){for(var e=[],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(re(c)||ce(c))return ct(Xe(at(_,__spreadArray([c],e,!0))));var d=c;return e.length===0&&d.length===1&&typeof d[0]=="string"?Xe(d):ct(Xe(at(d,e)))}function ut(c,e,s){if(s===void 0&&(s=C$1),!e)throw he(1,e);var d=function(nt){for(var o=[],ft=1;ft<arguments.length;ft++)o[ft-1]=arguments[ft];return c(e,s,lt.apply(void 0,__spreadArray([nt],o,!1)))};return d.attrs=function(nt){return ut(c,e,__assign(__assign({},s),{attrs:Array.prototype.concat(s.attrs,nt).filter(Boolean)}))},d.withConfig=function(nt){return ut(c,e,__assign(__assign({},s),nt))},d}var pt=function(c){return ut(it,c)},dt=pt;A$1.forEach(function(c){dt[c]=pt(c)});function mt(c){for(var e=[],s=1;s<arguments.length;s++)e[s-1]=arguments[s];var d=ae(lt.apply(void 0,__spreadArray([c],e,!1))),nt=$(d);return new We(nt,d)}const fadeIn=mt`
  from {
    opacity: 0;
    transform: translateY(-10px);
  }

  to {
    opacity: 1;
    transform: translateY(0px);
  }
`,appear=mt`
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
`,Footer=dt.footer`
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 24px;
  z-index: 9;
`,CloseButton=dt.button`
  cursor: pointer;
  color: black;
  background-color: transparent;
  border: none;
  outline: none;
  font-size: 16px;
  position: fixed;
  right: 0;
  top: 0;
  margin-right: 24px;
  margin-top: 24px;
  z-index: 11;
  text-decoration: underline;
`,BackButton=dt.button`
  cursor: pointer;
  color: black;
  background-color: transparent;
  border: none;
  outline: none;
  font-size: 16px;
  position: fixed;
  top: 0;
  left: 0;
  margin: 24px;
  z-index: 11;
  text-decoration: underline;
`,ArchiveButton=dt.button`
  cursor: pointer;
  color: black;
  background-color: transparent;
  border: none;
  outline: none;
  font-size: 16px;
  position: absolute;
  top: 0;
  left: 50%;
  transform: translate(-50%, 0%);
  margin-top: 24px;
  z-index: 11;
  text-decoration: underline;
`,NavButton=dt.button`
  cursor: pointer;
  color: black;
  background-color: transparent;
  border: none;
  outline: none;
  font-size: 16px;
  text-decoration: underline;
  color: ${({$color:c})=>c};
`,EnterButton=dt.button`
  cursor: pointer;
  color: black;
  background-color: transparent;
  border: none;
  outline: none;
  font-size: 16px;
  position: absolute;
  bottom: 0;
  left: 50%;
  text-align: center;
  transform: translate(-50%, 0%);
  margin-bottom: 24px;
  z-index: 11;
  animation: ${appear} 1s ease-in-out;
  text-decoration: underline;
`,Enter=({handleEnter:c})=>jsx(EnterButton,{onClick:c,children:"Enter"}),NEXT_PARTY=gql`
  query GetNextParty($filters: PartyFiltersInput) {
    parties(filters: $filters) {
      date
      description
      documentId
      isNextParty
      lineup
      poster {
        url
      }
      ticketLink
    }
  }
`,useGetNextParty=()=>useQuery(NEXT_PARTY,{variables:{filters:{isNextParty:{eq:!0}}}});var lib={},uaParser_min={exports:{}};(function(c,e){(function(s,d){var nt="1.0.40",o="",ft="?",gt="function",xt="undefined",St="object",Tt="string",At="major",Ct="model",Rt="name",yt="type",Ot="vendor",Nt="version",bt="architecture",Dt="console",Ft="mobile",Ut="tablet",Wt="smarttv",Gt="wearable",Xt="embedded",Yt=500,Kt="Amazon",jt="Apple",Jt="ASUS",fn="BlackBerry",sn="Browser",wn="Chrome",Mn="Edge",Tn="Firefox",kn="Google",rn="Huawei",un="LG",pn="Microsoft",Rn="Motorola",zn="Opera",ir="Samsung",An="Sharp",jn="Sony",or="Xiaomi",er="Zebra",gr="Facebook",kr="Chromium OS",dr="Mac OS",mr=" Browser",It=function(yn,Jn){var $n={};for(var fr in yn)Jn[fr]&&Jn[fr].length%2===0?$n[fr]=Jn[fr].concat(yn[fr]):$n[fr]=yn[fr];return $n},Zn=function(yn){for(var Jn={},$n=0;$n<yn.length;$n++)Jn[yn[$n].toUpperCase()]=yn[$n];return Jn},nn=function(yn,Jn){return typeof yn===Tt?nr(Jn).indexOf(nr(yn))!==-1:!1},nr=function(yn){return yn.toLowerCase()},Kn=function(yn){return typeof yn===Tt?yn.replace(/[^\d\.]/g,o).split(".")[0]:d},Yn=function(yn,Jn){if(typeof yn===Tt)return yn=yn.replace(/^\s\s*/,o),typeof Jn===xt?yn:yn.substring(0,Yt)},Dn=function(yn,Jn){for(var $n=0,fr,Lr,Qn,tr,rr,Or;$n<Jn.length&&!rr;){var wr=Jn[$n],cn=Jn[$n+1];for(fr=Lr=0;fr<wr.length&&!rr&&wr[fr];)if(rr=wr[fr++].exec(yn),rr)for(Qn=0;Qn<cn.length;Qn++)Or=rr[++Lr],tr=cn[Qn],typeof tr===St&&tr.length>0?tr.length===2?typeof tr[1]==gt?this[tr[0]]=tr[1].call(this,Or):this[tr[0]]=tr[1]:tr.length===3?typeof tr[1]===gt&&!(tr[1].exec&&tr[1].test)?this[tr[0]]=Or?tr[1].call(this,Or,tr[2]):d:this[tr[0]]=Or?Or.replace(tr[1],tr[2]):d:tr.length===4&&(this[tr[0]]=Or?tr[3].call(this,Or.replace(tr[1],tr[2])):d):this[tr]=Or||d;$n+=2}},vr=function(yn,Jn){for(var $n in Jn)if(typeof Jn[$n]===St&&Jn[$n].length>0){for(var fr=0;fr<Jn[$n].length;fr++)if(nn(Jn[$n][fr],yn))return $n===ft?d:$n}else if(nn(Jn[$n],yn))return $n===ft?d:$n;return Jn.hasOwnProperty("*")?Jn["*"]:yn},Xn={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},tn={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Qt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[Nt,[Rt,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[Nt,[Rt,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[Rt,Nt],[/opios[\/ ]+([\w\.]+)/i],[Nt,[Rt,zn+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[Nt,[Rt,zn+" GX"]],[/\bopr\/([\w\.]+)/i],[Nt,[Rt,zn]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[Nt,[Rt,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[Nt,[Rt,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[Rt,Nt],[/quark(?:pc)?\/([-\w\.]+)/i],[Nt,[Rt,"Quark"]],[/\bddg\/([\w\.]+)/i],[Nt,[Rt,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[Nt,[Rt,"UC"+sn]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[Nt,[Rt,"WeChat"]],[/konqueror\/([\w\.]+)/i],[Nt,[Rt,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[Nt,[Rt,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[Nt,[Rt,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[Nt,[Rt,"Smart Lenovo "+sn]],[/(avast|avg)\/([\w\.]+)/i],[[Rt,/(.+)/,"$1 Secure "+sn],Nt],[/\bfocus\/([\w\.]+)/i],[Nt,[Rt,Tn+" Focus"]],[/\bopt\/([\w\.]+)/i],[Nt,[Rt,zn+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[Nt,[Rt,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[Nt,[Rt,"Dolphin"]],[/coast\/([\w\.]+)/i],[Nt,[Rt,zn+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[Nt,[Rt,"MIUI"+mr]],[/fxios\/([\w\.-]+)/i],[Nt,[Rt,Tn]],[/\bqihoobrowser\/?([\w\.]*)/i],[Nt,[Rt,"360"]],[/\b(qq)\/([\w\.]+)/i],[[Rt,/(.+)/,"$1Browser"],Nt],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[Rt,/(.+)/,"$1"+mr],Nt],[/samsungbrowser\/([\w\.]+)/i],[Nt,[Rt,ir+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[Nt,[Rt,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[Rt,"Sogou Mobile"],Nt],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[Rt,Nt],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[Rt],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[Nt,Rt],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[Rt,gr],Nt],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[Rt,Nt],[/\bgsa\/([\w\.]+) .*safari\//i],[Nt,[Rt,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[Nt,[Rt,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[Nt,[Rt,wn+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[Rt,wn+" WebView"],Nt],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[Nt,[Rt,"Android "+sn]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[Rt,Nt],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[Nt,[Rt,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[Nt,Rt],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[Rt,[Nt,vr,Xn]],[/(webkit|khtml)\/([\w\.]+)/i],[Rt,Nt],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[Rt,"Netscape"],Nt],[/(wolvic|librewolf)\/([\w\.]+)/i],[Rt,Nt],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[Nt,[Rt,Tn+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[Rt,[Nt,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[Rt,[Nt,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[bt,"amd64"]],[/(ia32(?=;))/i],[[bt,nr]],[/((?:i[346]|x)86)[;\)]/i],[[bt,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[bt,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[bt,"armhf"]],[/windows (ce|mobile); ppc;/i],[[bt,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[bt,/ower/,o,nr]],[/(sun4\w)[;\)]/i],[[bt,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[bt,nr]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[Ct,[Ot,ir],[yt,Ut]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[Ct,[Ot,ir],[yt,Ft]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[Ct,[Ot,jt],[yt,Ft]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[Ct,[Ot,jt],[yt,Ut]],[/(macintosh);/i],[Ct,[Ot,jt]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[Ct,[Ot,An],[yt,Ft]],[/(?:honor)([-\w ]+)[;\)]/i],[Ct,[Ot,"Honor"],[yt,Ft]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[Ct,[Ot,rn],[yt,Ut]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[Ct,[Ot,rn],[yt,Ft]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[Ct,/_/g," "],[Ot,or],[yt,Ft]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[Ct,/_/g," "],[Ot,or],[yt,Ut]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[Ct,[Ot,"OPPO"],[yt,Ft]],[/\b(opd2\d{3}a?) bui/i],[Ct,[Ot,"OPPO"],[yt,Ut]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[Ct,[Ot,"Vivo"],[yt,Ft]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[Ct,[Ot,"Realme"],[yt,Ft]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[Ct,[Ot,Rn],[yt,Ft]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[Ct,[Ot,Rn],[yt,Ut]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[Ct,[Ot,un],[yt,Ut]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[Ct,[Ot,un],[yt,Ft]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[Ct,[Ot,"Lenovo"],[yt,Ut]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[Ct,/_/g," "],[Ot,"Nokia"],[yt,Ft]],[/(pixel c)\b/i],[Ct,[Ot,kn],[yt,Ut]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[Ct,[Ot,kn],[yt,Ft]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[Ct,[Ot,jn],[yt,Ft]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[Ct,"Xperia Tablet"],[Ot,jn],[yt,Ut]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[Ct,[Ot,"OnePlus"],[yt,Ft]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[Ct,[Ot,Kt],[yt,Ut]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[Ct,/(.+)/g,"Fire Phone $1"],[Ot,Kt],[yt,Ft]],[/(playbook);[-\w\),; ]+(rim)/i],[Ct,Ot,[yt,Ut]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[Ct,[Ot,fn],[yt,Ft]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[Ct,[Ot,Jt],[yt,Ut]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[Ct,[Ot,Jt],[yt,Ft]],[/(nexus 9)/i],[Ct,[Ot,"HTC"],[yt,Ut]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[Ot,[Ct,/_/g," "],[yt,Ft]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[Ct,[Ot,"TCL"],[yt,Ut]],[/(itel) ((\w+))/i],[[Ot,nr],Ct,[yt,vr,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[Ct,[Ot,"Acer"],[yt,Ut]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[Ct,[Ot,"Meizu"],[yt,Ft]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[Ct,[Ot,"Ulefone"],[yt,Ft]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[Ct,[Ot,"Energizer"],[yt,Ft]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[Ct,[Ot,"Cat"],[yt,Ft]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[Ct,[Ot,"Smartfren"],[yt,Ft]],[/droid.+; (a(?:015|06[35]|142p?))/i],[Ct,[Ot,"Nothing"],[yt,Ft]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[Ot,Ct,[yt,Ft]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[Ot,Ct,[yt,Ut]],[/(surface duo)/i],[Ct,[Ot,pn],[yt,Ut]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[Ct,[Ot,"Fairphone"],[yt,Ft]],[/(u304aa)/i],[Ct,[Ot,"AT&T"],[yt,Ft]],[/\bsie-(\w*)/i],[Ct,[Ot,"Siemens"],[yt,Ft]],[/\b(rct\w+) b/i],[Ct,[Ot,"RCA"],[yt,Ut]],[/\b(venue[\d ]{2,7}) b/i],[Ct,[Ot,"Dell"],[yt,Ut]],[/\b(q(?:mv|ta)\w+) b/i],[Ct,[Ot,"Verizon"],[yt,Ut]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[Ct,[Ot,"Barnes & Noble"],[yt,Ut]],[/\b(tm\d{3}\w+) b/i],[Ct,[Ot,"NuVision"],[yt,Ut]],[/\b(k88) b/i],[Ct,[Ot,"ZTE"],[yt,Ut]],[/\b(nx\d{3}j) b/i],[Ct,[Ot,"ZTE"],[yt,Ft]],[/\b(gen\d{3}) b.+49h/i],[Ct,[Ot,"Swiss"],[yt,Ft]],[/\b(zur\d{3}) b/i],[Ct,[Ot,"Swiss"],[yt,Ut]],[/\b((zeki)?tb.*\b) b/i],[Ct,[Ot,"Zeki"],[yt,Ut]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[Ot,"Dragon Touch"],Ct,[yt,Ut]],[/\b(ns-?\w{0,9}) b/i],[Ct,[Ot,"Insignia"],[yt,Ut]],[/\b((nxa|next)-?\w{0,9}) b/i],[Ct,[Ot,"NextBook"],[yt,Ut]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[Ot,"Voice"],Ct,[yt,Ft]],[/\b(lvtel\-)?(v1[12]) b/i],[[Ot,"LvTel"],Ct,[yt,Ft]],[/\b(ph-1) /i],[Ct,[Ot,"Essential"],[yt,Ft]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[Ct,[Ot,"Envizen"],[yt,Ut]],[/\b(trio[-\w\. ]+) b/i],[Ct,[Ot,"MachSpeed"],[yt,Ut]],[/\btu_(1491) b/i],[Ct,[Ot,"Rotor"],[yt,Ut]],[/(shield[\w ]+) b/i],[Ct,[Ot,"Nvidia"],[yt,Ut]],[/(sprint) (\w+)/i],[Ot,Ct,[yt,Ft]],[/(kin\.[onetw]{3})/i],[[Ct,/\./g," "],[Ot,pn],[yt,Ft]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[Ct,[Ot,er],[yt,Ut]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[Ct,[Ot,er],[yt,Ft]],[/smart-tv.+(samsung)/i],[Ot,[yt,Wt]],[/hbbtv.+maple;(\d+)/i],[[Ct,/^/,"SmartTV"],[Ot,ir],[yt,Wt]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[Ot,un],[yt,Wt]],[/(apple) ?tv/i],[Ot,[Ct,jt+" TV"],[yt,Wt]],[/crkey/i],[[Ct,wn+"cast"],[Ot,kn],[yt,Wt]],[/droid.+aft(\w+)( bui|\))/i],[Ct,[Ot,Kt],[yt,Wt]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[Ct,[Ot,An],[yt,Wt]],[/(bravia[\w ]+)( bui|\))/i],[Ct,[Ot,jn],[yt,Wt]],[/(mitv-\w{5}) bui/i],[Ct,[Ot,or],[yt,Wt]],[/Hbbtv.*(technisat) (.*);/i],[Ot,Ct,[yt,Wt]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[Ot,Yn],[Ct,Yn],[yt,Wt]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[yt,Wt]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[Ot,Ct,[yt,Dt]],[/droid.+; (shield) bui/i],[Ct,[Ot,"Nvidia"],[yt,Dt]],[/(playstation [345portablevi]+)/i],[Ct,[Ot,jn],[yt,Dt]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[Ct,[Ot,pn],[yt,Dt]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[Ct,[Ot,ir],[yt,Gt]],[/((pebble))app/i],[Ot,Ct,[yt,Gt]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[Ct,[Ot,jt],[yt,Gt]],[/droid.+; (glass) \d/i],[Ct,[Ot,kn],[yt,Gt]],[/droid.+; (wt63?0{2,3})\)/i],[Ct,[Ot,er],[yt,Gt]],[/droid.+; (glass) \d/i],[Ct,[Ot,kn],[yt,Gt]],[/(pico) (4|neo3(?: link|pro)?)/i],[Ot,Ct,[yt,Gt]],[/; (quest( \d| pro)?)/i],[Ct,[Ot,gr],[yt,Gt]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[Ot,[yt,Xt]],[/(aeobc)\b/i],[Ct,[Ot,Kt],[yt,Xt]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[Ct,[yt,Ft]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[Ct,[yt,Ut]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[yt,Ut]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[yt,Ft]],[/(android[-\w\. ]{0,9});.+buil/i],[Ct,[Ot,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[Nt,[Rt,Mn+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[Rt,Nt],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[Nt,[Rt,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[Rt,Nt],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[Nt,Rt]],os:[[/microsoft (windows) (vista|xp)/i],[Rt,Nt],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[Rt,[Nt,vr,tn]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[Nt,vr,tn],[Rt,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[Nt,/_/g,"."],[Rt,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[Rt,dr],[Nt,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[Nt,Rt],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[Rt,Nt],[/\(bb(10);/i],[Nt,[Rt,fn]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[Nt,[Rt,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[Nt,[Rt,Tn+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[Nt,[Rt,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[Nt,[Rt,"watchOS"]],[/crkey\/([\d\.]+)/i],[Nt,[Rt,wn+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[Rt,kr],Nt],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[Rt,Nt],[/(sunos) ?([\w\.\d]*)/i],[[Rt,"Solaris"],Nt],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[Rt,Nt]]},hn=function(yn,Jn){if(typeof yn===St&&(Jn=yn,yn=d),!(this instanceof hn))return new hn(yn,Jn).getResult();var $n=typeof s!==xt&&s.navigator?s.navigator:d,fr=yn||($n&&$n.userAgent?$n.userAgent:o),Lr=$n&&$n.userAgentData?$n.userAgentData:d,Qn=Jn?It(Qt,Jn):Qt,tr=$n&&$n.userAgent==fr;return this.getBrowser=function(){var rr={};return rr[Rt]=d,rr[Nt]=d,Dn.call(rr,fr,Qn.browser),rr[At]=Kn(rr[Nt]),tr&&$n&&$n.brave&&typeof $n.brave.isBrave==gt&&(rr[Rt]="Brave"),rr},this.getCPU=function(){var rr={};return rr[bt]=d,Dn.call(rr,fr,Qn.cpu),rr},this.getDevice=function(){var rr={};return rr[Ot]=d,rr[Ct]=d,rr[yt]=d,Dn.call(rr,fr,Qn.device),tr&&!rr[yt]&&Lr&&Lr.mobile&&(rr[yt]=Ft),tr&&rr[Ct]=="Macintosh"&&$n&&typeof $n.standalone!==xt&&$n.maxTouchPoints&&$n.maxTouchPoints>2&&(rr[Ct]="iPad",rr[yt]=Ut),rr},this.getEngine=function(){var rr={};return rr[Rt]=d,rr[Nt]=d,Dn.call(rr,fr,Qn.engine),rr},this.getOS=function(){var rr={};return rr[Rt]=d,rr[Nt]=d,Dn.call(rr,fr,Qn.os),tr&&!rr[Rt]&&Lr&&Lr.platform&&Lr.platform!="Unknown"&&(rr[Rt]=Lr.platform.replace(/chrome os/i,kr).replace(/macos/i,dr)),rr},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return fr},this.setUA=function(rr){return fr=typeof rr===Tt&&rr.length>Yt?Yn(rr,Yt):rr,this},this.setUA(fr),this};hn.VERSION=nt,hn.BROWSER=Zn([Rt,Nt,At]),hn.CPU=Zn([bt]),hn.DEVICE=Zn([Ct,Ot,yt,Dt,Ft,Wt,Ut,Gt,Xt]),hn.ENGINE=hn.OS=Zn([Rt,Nt]),c.exports&&(e=c.exports=hn),e.UAParser=hn;var Pn=typeof s!==xt&&(s.jQuery||s.Zepto);if(Pn&&!Pn.ua){var Gn=new hn;Pn.ua=Gn.getResult(),Pn.ua.get=function(){return Gn.getUA()},Pn.ua.set=function(yn){Gn.setUA(yn);var Jn=Gn.getResult();for(var $n in Jn)Pn.ua[$n]=Jn[$n]}}})(typeof window=="object"?window:commonjsGlobal)})(uaParser_min,uaParser_min.exports);var uaParser_minExports=uaParser_min.exports;Object.defineProperty(lib,"__esModule",{value:!0});function _interopDefault(c){return c&&typeof c=="object"&&"default"in c?c.default:c}var React=reactExports,React__default=_interopDefault(React),UAParser=uaParser_minExports,ClientUAInstance=new UAParser,browser=ClientUAInstance.getBrowser(),cpu=ClientUAInstance.getCPU(),device=ClientUAInstance.getDevice(),engine=ClientUAInstance.getEngine(),os=ClientUAInstance.getOS(),ua=ClientUAInstance.getUA(),setUa=function(e){return ClientUAInstance.setUA(e)},parseUserAgent=function(e){if(!e){console.error("No userAgent string was provided");return}var s=new UAParser(e);return{UA:s,browser:s.getBrowser(),cpu:s.getCPU(),device:s.getDevice(),engine:s.getEngine(),os:s.getOS(),ua:s.getUA(),setUserAgent:function(nt){return s.setUA(nt)}}},UAHelper=Object.freeze({ClientUAInstance,browser,cpu,device,engine,os,ua,setUa,parseUserAgent});function ownKeys(c,e){var s=Object.keys(c);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(c);e&&(d=d.filter(function(nt){return Object.getOwnPropertyDescriptor(c,nt).enumerable})),s.push.apply(s,d)}return s}function _objectSpread2(c){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(s),!0).forEach(function(d){_defineProperty$1(c,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach(function(d){Object.defineProperty(c,d,Object.getOwnPropertyDescriptor(s,d))})}return c}function _typeof(c){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(e){return typeof e}:_typeof=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(c)}function _classCallCheck$1(c,e){if(!(c instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(c,e){for(var s=0;s<e.length;s++){var d=e[s];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}function _createClass$1(c,e,s){return e&&_defineProperties(c.prototype,e),s&&_defineProperties(c,s),c}function _defineProperty$1(c,e,s){return e in c?Object.defineProperty(c,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):c[e]=s,c}function _extends$1(){return _extends$1=Object.assign||function(c){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(c[d]=s[d])}return c},_extends$1.apply(this,arguments)}function _inherits(c,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),e&&_setPrototypeOf(c,e)}function _getPrototypeOf(c){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf(c)}function _setPrototypeOf(c,e){return _setPrototypeOf=Object.setPrototypeOf||function(d,nt){return d.__proto__=nt,d},_setPrototypeOf(c,e)}function _objectWithoutPropertiesLoose(c,e){if(c==null)return{};var s={},d=Object.keys(c),nt,o;for(o=0;o<d.length;o++)nt=d[o],!(e.indexOf(nt)>=0)&&(s[nt]=c[nt]);return s}function _objectWithoutProperties(c,e){if(c==null)return{};var s=_objectWithoutPropertiesLoose(c,e),d,nt;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(c);for(nt=0;nt<o.length;nt++)d=o[nt],!(e.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(c,d)&&(s[d]=c[d])}return s}function _assertThisInitialized(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function _possibleConstructorReturn(c,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(c)}function _slicedToArray(c,e){return _arrayWithHoles(c)||_iterableToArrayLimit(c,e)||_unsupportedIterableToArray(c,e)||_nonIterableRest()}function _arrayWithHoles(c){if(Array.isArray(c))return c}function _iterableToArrayLimit(c,e){var s=c==null?null:typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(s!=null){var d=[],nt=!0,o=!1,ft,gt;try{for(s=s.call(c);!(nt=(ft=s.next()).done)&&(d.push(ft.value),!(e&&d.length===e));nt=!0);}catch(xt){o=!0,gt=xt}finally{try{!nt&&s.return!=null&&s.return()}finally{if(o)throw gt}}return d}}function _unsupportedIterableToArray(c,e){if(c){if(typeof c=="string")return _arrayLikeToArray(c,e);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray(c,e)}}function _arrayLikeToArray(c,e){(e==null||e>c.length)&&(e=c.length);for(var s=0,d=new Array(e);s<e;s++)d[s]=c[s];return d}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var DeviceTypes={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},BrowserTypes={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},OsTypes={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},InitialDeviceTypes={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},checkDeviceType=function(e){switch(e){case DeviceTypes.Mobile:return{isMobile:!0};case DeviceTypes.Tablet:return{isTablet:!0};case DeviceTypes.SmartTv:return{isSmartTV:!0};case DeviceTypes.Console:return{isConsole:!0};case DeviceTypes.Wearable:return{isWearable:!0};case DeviceTypes.Browser:return{isBrowser:!0};case DeviceTypes.Embedded:return{isEmbedded:!0};default:return InitialDeviceTypes}},setUserAgent=function(e){return setUa(e)},setDefaults=function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return e||s},getNavigatorInstance=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},isIOS13Check=function(e){var s=getNavigatorInstance();return s&&s.platform&&(s.platform.indexOf(e)!==-1||s.platform==="MacIntel"&&s.maxTouchPoints>1&&!window.MSStream)},browserPayload=function(e,s,d,nt,o){return{isBrowser:e,browserMajorVersion:setDefaults(s.major),browserFullVersion:setDefaults(s.version),browserName:setDefaults(s.name),engineName:setDefaults(d.name),engineVersion:setDefaults(d.version),osName:setDefaults(nt.name),osVersion:setDefaults(nt.version),userAgent:setDefaults(o)}},mobilePayload=function(e,s,d,nt){return _objectSpread2({},e,{vendor:setDefaults(s.vendor),model:setDefaults(s.model),os:setDefaults(d.name),osVersion:setDefaults(d.version),ua:setDefaults(nt)})},smartTvPayload=function(e,s,d,nt){return{isSmartTV:e,engineName:setDefaults(s.name),engineVersion:setDefaults(s.version),osName:setDefaults(d.name),osVersion:setDefaults(d.version),userAgent:setDefaults(nt)}},consolePayload=function(e,s,d,nt){return{isConsole:e,engineName:setDefaults(s.name),engineVersion:setDefaults(s.version),osName:setDefaults(d.name),osVersion:setDefaults(d.version),userAgent:setDefaults(nt)}},wearablePayload=function(e,s,d,nt){return{isWearable:e,engineName:setDefaults(s.name),engineVersion:setDefaults(s.version),osName:setDefaults(d.name),osVersion:setDefaults(d.version),userAgent:setDefaults(nt)}},embeddedPayload=function(e,s,d,nt,o){return{isEmbedded:e,vendor:setDefaults(s.vendor),model:setDefaults(s.model),engineName:setDefaults(d.name),engineVersion:setDefaults(d.version),osName:setDefaults(nt.name),osVersion:setDefaults(nt.version),userAgent:setDefaults(o)}};function deviceDetect(c){var e=c?parseUserAgent(c):UAHelper,s=e.device,d=e.browser,nt=e.engine,o=e.os,ft=e.ua,gt=checkDeviceType(s.type),xt=gt.isBrowser,St=gt.isMobile,Tt=gt.isTablet,At=gt.isSmartTV,Ct=gt.isConsole,Rt=gt.isWearable,yt=gt.isEmbedded;if(xt)return browserPayload(xt,d,nt,o,ft);if(At)return smartTvPayload(At,nt,o,ft);if(Ct)return consolePayload(Ct,nt,o,ft);if(St||Tt)return mobilePayload(gt,s,o,ft);if(Rt)return wearablePayload(Rt,nt,o,ft);if(yt)return embeddedPayload(yt,s,nt,o,ft)}var isMobileType=function(e){var s=e.type;return s===DeviceTypes.Mobile},isTabletType=function(e){var s=e.type;return s===DeviceTypes.Tablet},isMobileAndTabletType=function(e){var s=e.type;return s===DeviceTypes.Mobile||s===DeviceTypes.Tablet},isSmartTVType=function(e){var s=e.type;return s===DeviceTypes.SmartTv},isBrowserType=function(e){var s=e.type;return s===DeviceTypes.Browser},isWearableType=function(e){var s=e.type;return s===DeviceTypes.Wearable},isConsoleType=function(e){var s=e.type;return s===DeviceTypes.Console},isEmbeddedType=function(e){var s=e.type;return s===DeviceTypes.Embedded},getMobileVendor=function(e){var s=e.vendor;return setDefaults(s)},getMobileModel=function(e){var s=e.model;return setDefaults(s)},getDeviceType=function(e){var s=e.type;return setDefaults(s,"browser")},isAndroidType=function(e){var s=e.name;return s===OsTypes.Android},isWindowsType=function(e){var s=e.name;return s===OsTypes.Windows},isMacOsType=function(e){var s=e.name;return s===OsTypes.MAC_OS},isWinPhoneType=function(e){var s=e.name;return s===OsTypes.WindowsPhone},isIOSType=function(e){var s=e.name;return s===OsTypes.IOS},getOsVersion=function(e){var s=e.version;return setDefaults(s)},getOsName=function(e){var s=e.name;return setDefaults(s)},isChromeType=function(e){var s=e.name;return s===BrowserTypes.Chrome},isFirefoxType=function(e){var s=e.name;return s===BrowserTypes.Firefox},isChromiumType=function(e){var s=e.name;return s===BrowserTypes.Chromium},isEdgeType=function(e){var s=e.name;return s===BrowserTypes.Edge},isYandexType=function(e){var s=e.name;return s===BrowserTypes.Yandex},isSafariType=function(e){var s=e.name;return s===BrowserTypes.Safari||s===BrowserTypes.MobileSafari},isMobileSafariType=function(e){var s=e.name;return s===BrowserTypes.MobileSafari},isOperaType=function(e){var s=e.name;return s===BrowserTypes.Opera},isIEType=function(e){var s=e.name;return s===BrowserTypes.InternetExplorer||s===BrowserTypes.Ie},isMIUIType=function(e){var s=e.name;return s===BrowserTypes.MIUI},isSamsungBrowserType=function(e){var s=e.name;return s===BrowserTypes.SamsungBrowser},getBrowserFullVersion=function(e){var s=e.version;return setDefaults(s)},getBrowserVersion=function(e){var s=e.major;return setDefaults(s)},getBrowserName=function(e){var s=e.name;return setDefaults(s)},getEngineName=function(e){var s=e.name;return setDefaults(s)},getEngineVersion=function(e){var s=e.version;return setDefaults(s)},isElectronType=function(){var e=getNavigatorInstance(),s=e&&e.userAgent&&e.userAgent.toLowerCase();return typeof s=="string"?/electron/.test(s):!1},isEdgeChromiumType=function(e){return typeof e=="string"&&e.indexOf("Edg/")!==-1},getIOS13=function(){var e=getNavigatorInstance();return e&&(/iPad|iPhone|iPod/.test(e.platform)||e.platform==="MacIntel"&&e.maxTouchPoints>1)&&!window.MSStream},getIPad13=function(){return isIOS13Check("iPad")},getIphone13=function(){return isIOS13Check("iPhone")},getIPod13=function(){return isIOS13Check("iPod")},getUseragent=function(e){return setDefaults(e)};function buildSelectorsObject(c){var e=c||UAHelper,s=e.device,d=e.browser,nt=e.os,o=e.engine,ft=e.ua;return{isSmartTV:isSmartTVType(s),isConsole:isConsoleType(s),isWearable:isWearableType(s),isEmbedded:isEmbeddedType(s),isMobileSafari:isMobileSafariType(d)||getIPad13(),isChromium:isChromiumType(d),isMobile:isMobileAndTabletType(s)||getIPad13(),isMobileOnly:isMobileType(s),isTablet:isTabletType(s)||getIPad13(),isBrowser:isBrowserType(s),isDesktop:isBrowserType(s),isAndroid:isAndroidType(nt),isWinPhone:isWinPhoneType(nt),isIOS:isIOSType(nt)||getIPad13(),isChrome:isChromeType(d),isFirefox:isFirefoxType(d),isSafari:isSafariType(d),isOpera:isOperaType(d),isIE:isIEType(d),osVersion:getOsVersion(nt),osName:getOsName(nt),fullBrowserVersion:getBrowserFullVersion(d),browserVersion:getBrowserVersion(d),browserName:getBrowserName(d),mobileVendor:getMobileVendor(s),mobileModel:getMobileModel(s),engineName:getEngineName(o),engineVersion:getEngineVersion(o),getUA:getUseragent(ft),isEdge:isEdgeType(d)||isEdgeChromiumType(ft),isYandex:isYandexType(d),deviceType:getDeviceType(s),isIOS13:getIOS13(),isIPad13:getIPad13(),isIPhone13:getIphone13(),isIPod13:getIPod13(),isElectron:isElectronType(),isEdgeChromium:isEdgeChromiumType(ft),isLegacyEdge:isEdgeType(d)&&!isEdgeChromiumType(ft),isWindows:isWindowsType(nt),isMacOs:isMacOsType(nt),isMIUI:isMIUIType(d),isSamsungBrowser:isSamsungBrowserType(d)}}var isSmartTV=isSmartTVType(device),isConsole=isConsoleType(device),isWearable=isWearableType(device),isEmbedded=isEmbeddedType(device),isMobileSafari=isMobileSafariType(browser)||getIPad13(),isChromium=isChromiumType(browser),isMobile=isMobileAndTabletType(device)||getIPad13(),isMobileOnly=isMobileType(device),isTablet=isTabletType(device)||getIPad13(),isBrowser=isBrowserType(device),isDesktop=isBrowserType(device),isAndroid=isAndroidType(os),isWinPhone=isWinPhoneType(os),isIOS=isIOSType(os)||getIPad13(),isChrome=isChromeType(browser),isFirefox=isFirefoxType(browser),isSafari=isSafariType(browser),isOpera=isOperaType(browser),isIE=isIEType(browser),osVersion=getOsVersion(os),osName=getOsName(os),fullBrowserVersion=getBrowserFullVersion(browser),browserVersion=getBrowserVersion(browser),browserName=getBrowserName(browser),mobileVendor=getMobileVendor(device),mobileModel=getMobileModel(device),engineName=getEngineName(engine),engineVersion=getEngineVersion(engine),getUA=getUseragent(ua),isEdge=isEdgeType(browser)||isEdgeChromiumType(ua),isYandex=isYandexType(browser),deviceType=getDeviceType(device),isIOS13=getIOS13(),isIPad13=getIPad13(),isIPhone13=getIphone13(),isIPod13=getIPod13(),isElectron=isElectronType(),isEdgeChromium=isEdgeChromiumType(ua),isLegacyEdge=isEdgeType(browser)&&!isEdgeChromiumType(ua),isWindows=isWindowsType(os),isMacOs=isMacOsType(os),isMIUI=isMIUIType(browser),isSamsungBrowser=isSamsungBrowserType(browser),getSelectorsByUserAgent=function(e){if(!e||typeof e!="string"){console.error("No valid user agent string was provided");return}var s=parseUserAgent(e),d=s.device,nt=s.browser,o=s.os,ft=s.engine,gt=s.ua;return buildSelectorsObject({device:d,browser:nt,os:o,engine:ft,ua:gt})},AndroidView=function(e){var s=e.renderWithFragment,d=e.children,nt=_objectWithoutProperties(e,["renderWithFragment","children"]);return isAndroid?s?React__default.createElement(React.Fragment,null,d):React__default.createElement("div",nt,d):null},BrowserView=function(e){var s=e.renderWithFragment,d=e.children,nt=_objectWithoutProperties(e,["renderWithFragment","children"]);return isBrowser?s?React__default.createElement(React.Fragment,null,d):React__default.createElement("div",nt,d):null},IEView=function(e){var s=e.renderWithFragment,d=e.children,nt=_objectWithoutProperties(e,["renderWithFragment","children"]);return isIE?s?React__default.createElement(React.Fragment,null,d):React__default.createElement("div",nt,d):null},IOSView=function(e){var s=e.renderWithFragment,d=e.children,nt=_objectWithoutProperties(e,["renderWithFragment","children"]);return isIOS?s?React__default.createElement(React.Fragment,null,d):React__default.createElement("div",nt,d):null},MobileView=function(e){var s=e.renderWithFragment,d=e.children,nt=_objectWithoutProperties(e,["renderWithFragment","children"]);return isMobile?s?React__default.createElement(React.Fragment,null,d):React__default.createElement("div",nt,d):null},TabletView=function(e){var s=e.renderWithFragment,d=e.children,nt=_objectWithoutProperties(e,["renderWithFragment","children"]);return isTablet?s?React__default.createElement(React.Fragment,null,d):React__default.createElement("div",nt,d):null},WinPhoneView=function(e){var s=e.renderWithFragment,d=e.children,nt=_objectWithoutProperties(e,["renderWithFragment","children"]);return isWinPhone?s?React__default.createElement(React.Fragment,null,d):React__default.createElement("div",nt,d):null},MobileOnlyView=function(e){var s=e.renderWithFragment,d=e.children;e.viewClassName,e.style;var nt=_objectWithoutProperties(e,["renderWithFragment","children","viewClassName","style"]);return isMobileOnly?s?React__default.createElement(React.Fragment,null,d):React__default.createElement("div",nt,d):null},SmartTVView=function(e){var s=e.renderWithFragment,d=e.children,nt=_objectWithoutProperties(e,["renderWithFragment","children"]);return isSmartTV?s?React__default.createElement(React.Fragment,null,d):React__default.createElement("div",nt,d):null},ConsoleView=function(e){var s=e.renderWithFragment,d=e.children,nt=_objectWithoutProperties(e,["renderWithFragment","children"]);return isConsole?s?React__default.createElement(React.Fragment,null,d):React__default.createElement("div",nt,d):null},WearableView=function(e){var s=e.renderWithFragment,d=e.children,nt=_objectWithoutProperties(e,["renderWithFragment","children"]);return isWearable?s?React__default.createElement(React.Fragment,null,d):React__default.createElement("div",nt,d):null},CustomView=function(e){var s=e.renderWithFragment,d=e.children;e.viewClassName,e.style;var nt=e.condition,o=_objectWithoutProperties(e,["renderWithFragment","children","viewClassName","style","condition"]);return nt?s?React__default.createElement(React.Fragment,null,d):React__default.createElement("div",o,d):null};function withOrientationChange(c){return function(e){_inherits(s,e);function s(d){var nt;return _classCallCheck$1(this,s),nt=_possibleConstructorReturn(this,_getPrototypeOf(s).call(this,d)),nt.isEventListenerAdded=!1,nt.handleOrientationChange=nt.handleOrientationChange.bind(_assertThisInitialized(nt)),nt.onOrientationChange=nt.onOrientationChange.bind(_assertThisInitialized(nt)),nt.onPageLoad=nt.onPageLoad.bind(_assertThisInitialized(nt)),nt.state={isLandscape:!1,isPortrait:!1},nt}return _createClass$1(s,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var nt=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:nt===0,isLandscape:nt===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return React__default.createElement(c,_extends$1({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),s}(React__default.Component)}function useMobileOrientation(){var c=React.useState(function(){var o=window.innerWidth>window.innerHeight?90:0;return{isPortrait:o===0,isLandscape:o===90,orientation:o===0?"portrait":"landscape"}}),e=_slicedToArray(c,2),s=e[0],d=e[1],nt=React.useCallback(function(){var o=window.innerWidth>window.innerHeight?90:0,ft={isPortrait:o===0,isLandscape:o===90,orientation:o===0?"portrait":"landscape"};s.orientation!==ft.orientation&&d(ft)},[s.orientation]);return React.useEffect(function(){return(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&(nt(),window.addEventListener("load",nt,!1),window.addEventListener("resize",nt,!1)),function(){window.removeEventListener("resize",nt,!1),window.removeEventListener("load",nt,!1)}},[nt]),s}function useDeviceData(c){var e=c||window.navigator.userAgent;return parseUserAgent(e)}function useDeviceSelectors(c){var e=c||window.navigator.userAgent,s=useDeviceData(e),d=buildSelectorsObject(s);return[d,s]}lib.AndroidView=AndroidView;lib.BrowserTypes=BrowserTypes;lib.BrowserView=BrowserView;lib.ConsoleView=ConsoleView;lib.CustomView=CustomView;lib.IEView=IEView;lib.IOSView=IOSView;lib.MobileOnlyView=MobileOnlyView;lib.MobileView=MobileView;lib.OsTypes=OsTypes;lib.SmartTVView=SmartTVView;lib.TabletView=TabletView;lib.WearableView=WearableView;lib.WinPhoneView=WinPhoneView;lib.browserName=browserName;lib.browserVersion=browserVersion;lib.deviceDetect=deviceDetect;lib.deviceType=deviceType;lib.engineName=engineName;lib.engineVersion=engineVersion;lib.fullBrowserVersion=fullBrowserVersion;lib.getSelectorsByUserAgent=getSelectorsByUserAgent;lib.getUA=getUA;lib.isAndroid=isAndroid;lib.isBrowser=isBrowser;lib.isChrome=isChrome;lib.isChromium=isChromium;lib.isConsole=isConsole;lib.isDesktop=isDesktop;lib.isEdge=isEdge;lib.isEdgeChromium=isEdgeChromium;lib.isElectron=isElectron;lib.isEmbedded=isEmbedded;lib.isFirefox=isFirefox;lib.isIE=isIE;lib.isIOS=isIOS;lib.isIOS13=isIOS13;lib.isIPad13=isIPad13;lib.isIPhone13=isIPhone13;lib.isIPod13=isIPod13;lib.isLegacyEdge=isLegacyEdge;lib.isMIUI=isMIUI;lib.isMacOs=isMacOs;var isMobile_1=lib.isMobile=isMobile;lib.isMobileOnly=isMobileOnly;lib.isMobileSafari=isMobileSafari;lib.isOpera=isOpera;lib.isSafari=isSafari;lib.isSamsungBrowser=isSamsungBrowser;lib.isSmartTV=isSmartTV;lib.isTablet=isTablet;lib.isWearable=isWearable;lib.isWinPhone=isWinPhone;lib.isWindows=isWindows;lib.isYandex=isYandex;lib.mobileModel=mobileModel;lib.mobileVendor=mobileVendor;lib.osName=osName;lib.osVersion=osVersion;lib.parseUserAgent=parseUserAgent;lib.setUserAgent=setUserAgent;lib.useDeviceData=useDeviceData;lib.useDeviceSelectors=useDeviceSelectors;lib.useMobileOrientation=useMobileOrientation;lib.withOrientationChange=withOrientationChange;const pages={splash:{id:"splash",camera:{lookAt:new Vector3(0,0,0),position:isMobile_1?new Vector3(30,18,0):new Vector3(15,15,0)}},initial:{id:"initial",camera:{lookAt:new Vector3(0,0,0),position:isMobile_1?new Vector3(18,16,0):new Vector3(12,8,0)}},nextParty:{id:"nextParty",camera:{lookAt:new Vector3(-3.6,0,8.5),position:new Vector3(-1.4,0,7.5)}},partyHistory:{id:"partyHistory",camera:{lookAt:new Vector3(-3,10,6),position:new Vector3(-2,10,4)}},partyDetails:{id:"partyDetails",camera:{lookAt:isMobile_1?new Vector3(3,10,5.2):new Vector3(3,10,5),position:new Vector3(3,10,3.4)}},socials:{id:"socials",camera:{lookAt:new Vector3(-1,0,10.5),position:new Vector3(-1,0,8)}}},NavBar=({currentPage:c,moveTo:e})=>{const s=c.id==="socials"||c.id==="nextParty"?"white":"black";return jsxs(Footer,{children:[jsx(NavButton,{$color:s,onClick:()=>e(pages.nextParty),children:"Next party"}),jsx(NavButton,{$color:s,onClick:()=>e(pages.socials),children:"Socials"})]})},Archive=({moveTo:c})=>jsx(ArchiveButton,{onClick:()=>c(pages.partyHistory),children:"[archive]"}),Back=({goBack:c})=>jsx(BackButton,{onClick:()=>c(),children:"<- back"}),Close=({moveTo:c})=>jsx(CloseButton,{onClick:()=>c(pages.initial),children:"close x"}),STRAPI_URL="https://efficient-diamond-bfe21915f7.strapiapp.com",getImageDownloadUrl=c=>c,TARGET=isMobile_1?new Vector3(pages.partyDetails.camera.lookAt.x,pages.partyDetails.camera.lookAt.y+.5,pages.partyDetails.camera.lookAt.z+.5):new Vector3(pages.partyDetails.camera.lookAt.x+1,pages.partyDetails.camera.lookAt.y,pages.partyDetails.camera.lookAt.z+.5),NextPartyPoster=({currentPage:c,moveTo:e,nextParty:s})=>{const[d,nt]=reactExports.useState(!1),[o,ft]=reactExports.useState(!1),[gt,xt]=reactExports.useState(!1),[St]=reactExports.useState(TARGET),[Tt,At]=reactExports.useState(!1),Ct=reactExports.useRef(new Vector3(...pages.nextParty.camera.lookAt));reactExports.useEffect(()=>{c.id!=="partyDetails"&&Tt?(xt(!0),At(!1)):c.id==="partyDetails"&&!Tt&&ft(!0)},[c]);const Rt=reactExports.useRef(null);reactExports.useEffect(()=>{document.body.style.cursor=d?"pointer":"auto"},[d]);const yt=reactExports.useMemo(()=>getImageDownloadUrl(s.poster.url),[s.poster.url]),Ot=useLoader(TextureLoader,yt);useFrame((bt,Dt)=>{const Ft=Rt.current;if(Ft){if(Ft.rotation.y+=Dt*.5,o){const Ut=Ft.position;Ut.lerp(St,Dt*3),Ut.distanceTo(St)<.01&&(Ft.position.copy(St),ft(!1),At(!0))}if(gt){const Ut=Ft.position,Wt=Ct.current;Ut.lerp(Wt,Dt*3),Ut.distanceTo(Wt)<.01&&(Ft.position.copy(Wt),xt(!1))}}});const Nt=()=>{!gt&&Rt.current&&ft(!0),e(pages.partyDetails)};return jsxs("mesh",{ref:Rt,position:Ct.current,onPointerEnter:()=>nt(!0),onPointerLeave:()=>nt(!1),onClick:Nt,children:[jsx("planeGeometry",{args:[.8,1.2]}),jsx("meshBasicMaterial",{map:Ot,side:DoubleSide})]})},Container$1=dt.div`
  height: 100svh;
  width: 100vw;
  position: absolute;
  top: 0;
  display: flex;
  position: relative;
  overflow-y: scroll;
  flex-direction: ${isMobile_1?"column":"row"};
`,Drawer=dt.div`
  height: 100%;
  flex: ${c=>c.$isOpen?5:1};
  box-sizing: border-box;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  border: 1px solid black;
  transition: all 0.3s ease-in-out;
  opacity: 0;
  cursor: pointer;
  background-color: white;

  animation: ${fadeIn} 0.5s ease-in-out forwards;
  animation-delay: ${c=>c.$delay??0}s;

  &:hover,
  &:focus,
  &:active {
    color: black;
    outline: none;
    background-color: white;
  }

  ${c=>c.$isOpen&&lt`
      &:hover,
      &:focus {
        outline: none;
      }
    `}
`,Content=dt.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding: 30px;
  overflow: hidden;
  box-sizing: border-box;
`,PartyImage=dt.img`
  animation: ${fadeIn} 0.5s ease-in-out forwards;
  width: 50%;
  max-width: 250px;
  align-self: center;
  margin-top: 64px;
  margin-bottom: 12px;
`,Description=dt.p`
  font-size: 16px;
  animation: ${fadeIn} 0.5s ease-in-out forwards;
`,DateText=dt.p`
  font-size: 14px;
  animation: ${fadeIn} 0.5s ease-in-out forwards;
  writing-mode: ${({$vertical:c})=>c?"vertical-rl":"auto"};
`,Lineup=dt.p`
  font-style: italic;
  font-size: 20px;
  animation: ${fadeIn} 0.5s ease-in-out forwards;
`;dt(Canvas)`
  animation: ${fadeIn} 0.5s ease-in-out forwards;
  max-height: 50%;
`;const TicketLink=dt.a`
  cursor: pointer;
  color: black;
  text-decoration: underline;
  font-size: 16px;
  animation: ${fadeIn} 0.5s ease-in-out forwards;
  justify-self: flex-end;
  margin: 16px 0px;
`,Wrapper$1=dt.div`
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: flex-end;
  align-items: center;
  flex-direction: ${isMobile_1?"column":"row"};
`,Container=dt.div`
  width: ${isMobile_1?"100%":"50%"};
  height: ${isMobile_1?"45%":"100%"};
  display: flex;
  justify-content: ${isMobile_1?"auto":"center"};
  flex-direction: column;
  padding: ${isMobile_1?"0px 30px":"0px"};
  box-sizing: border-box;

  & > p {
    width: ${isMobile_1?"100%":"50%"};
  }
`,PartyDetails=({party:c})=>jsx(Html,{fullscreen:!0,zIndexRange:[0,0],children:jsx(Wrapper$1,{children:jsxs(Container,{children:[jsx(DateText,{children:c.date}),jsx(Lineup,{children:c.lineup}),jsx(Description,{children:c.description}),c.ticketLink&&jsx(TicketLink,{href:c.ticketLink,target:"_blank",rel:"noreferrer",children:"Buy tickets "})]})})}),PARTIES=gql`
  query GetParties {
    parties {
      date
      description
      documentId
      isNextParty
      lineup
      poster {
        url
      }
      ticketLink
    }
  }
`,useGetParties=()=>useQuery(PARTIES),Party=({index:c,party:e,onOpen:s,openParty:d})=>{const[nt,o]=reactExports.useState((d==null?void 0:d.documentId)===e.documentId),[ft,gt]=reactExports.useState((d==null?void 0:d.documentId)===e.documentId);return reactExports.useEffect(()=>{!d&&nt&&(gt(!1),o(!1)),d&&d.documentId!==e.documentId&&nt&&(gt(!1),o(!1))},[d]),jsxs(Drawer,{$delay:c*.1,$isOpen:nt,onClick:()=>{s(nt?null:e);const xt=!nt;return xt?setTimeout(()=>{gt(!0)},300):gt(!1),o(xt)},children:[!ft&&jsx(DateText,{$vertical:!isMobile_1,children:e.date}),ft&&jsxs(Content,{children:[jsx(PartyImage,{src:getImageDownloadUrl(e.poster.url),alt:"Party poster"}),jsx(DateText,{children:e.date}),jsx(Lineup,{children:e.lineup}),jsx(Description,{children:e.description}),e.ticketLink&&jsx(TicketLink,{onClick:xt=>xt.stopPropagation(),href:e.ticketLink,target:"_blank",rel:"noreferrer",children:"Buy tickets "})]})]})},PartyHistoryContent=({parties:c})=>{const[e,s]=reactExports.useState(c[c.length-1]),d=nt=>{s(nt)};return jsx(Html,{fullscreen:!0,position:pages.partyHistory.camera.lookAt,zIndexRange:[10,10],children:jsx(Container$1,{children:c.map((nt,o)=>jsx(Party,{index:o,party:nt,openParty:e,onOpen:d},o))})})},PartyHistory=({doneTransitioning:c})=>{const{loading:e,error:s,data:d}=useGetParties();if(e)return jsx(Html,{fullscreen:!0,position:pages.partyHistory.camera.lookAt,zIndexRange:[10,10],children:jsx("p",{children:"Loading..."})});if(s)return jsx(Html,{fullscreen:!0,position:pages.partyHistory.camera.lookAt,zIndexRange:[10,10],children:jsx("p",{children:"Something went wrong!"})});if(!c)return null;const nt=d.parties;return jsx(PartyHistoryContent,{parties:nt})};var CONSTANTS$1={ALIGN_COUNT:8,ALIGN_AUTO:0,ALIGN_FLEX_START:1,ALIGN_CENTER:2,ALIGN_FLEX_END:3,ALIGN_STRETCH:4,ALIGN_BASELINE:5,ALIGN_SPACE_BETWEEN:6,ALIGN_SPACE_AROUND:7,DIMENSION_COUNT:2,DIMENSION_WIDTH:0,DIMENSION_HEIGHT:1,DIRECTION_COUNT:3,DIRECTION_INHERIT:0,DIRECTION_LTR:1,DIRECTION_RTL:2,DISPLAY_COUNT:2,DISPLAY_FLEX:0,DISPLAY_NONE:1,EDGE_COUNT:9,EDGE_LEFT:0,EDGE_TOP:1,EDGE_RIGHT:2,EDGE_BOTTOM:3,EDGE_START:4,EDGE_END:5,EDGE_HORIZONTAL:6,EDGE_VERTICAL:7,EDGE_ALL:8,EXPERIMENTAL_FEATURE_COUNT:1,EXPERIMENTAL_FEATURE_WEB_FLEX_BASIS:0,FLEX_DIRECTION_COUNT:4,FLEX_DIRECTION_COLUMN:0,FLEX_DIRECTION_COLUMN_REVERSE:1,FLEX_DIRECTION_ROW:2,FLEX_DIRECTION_ROW_REVERSE:3,JUSTIFY_COUNT:6,JUSTIFY_FLEX_START:0,JUSTIFY_CENTER:1,JUSTIFY_FLEX_END:2,JUSTIFY_SPACE_BETWEEN:3,JUSTIFY_SPACE_AROUND:4,JUSTIFY_SPACE_EVENLY:5,LOG_LEVEL_COUNT:6,LOG_LEVEL_ERROR:0,LOG_LEVEL_WARN:1,LOG_LEVEL_INFO:2,LOG_LEVEL_DEBUG:3,LOG_LEVEL_VERBOSE:4,LOG_LEVEL_FATAL:5,MEASURE_MODE_COUNT:3,MEASURE_MODE_UNDEFINED:0,MEASURE_MODE_EXACTLY:1,MEASURE_MODE_AT_MOST:2,NODE_TYPE_COUNT:2,NODE_TYPE_DEFAULT:0,NODE_TYPE_TEXT:1,OVERFLOW_COUNT:3,OVERFLOW_VISIBLE:0,OVERFLOW_HIDDEN:1,OVERFLOW_SCROLL:2,POSITION_TYPE_COUNT:2,POSITION_TYPE_RELATIVE:0,POSITION_TYPE_ABSOLUTE:1,PRINT_OPTIONS_COUNT:3,PRINT_OPTIONS_LAYOUT:1,PRINT_OPTIONS_STYLE:2,PRINT_OPTIONS_CHILDREN:4,UNIT_COUNT:4,UNIT_UNDEFINED:0,UNIT_POINT:1,UNIT_PERCENT:2,UNIT_AUTO:3,WRAP_COUNT:3,WRAP_NO_WRAP:0,WRAP_WRAP:1,WRAP_WRAP_REVERSE:2},YGEnums=CONSTANTS$1,_extends=Object.assign||function(c){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(c[d]=s[d])}return c},_createClass=function(){function c(e,s){for(var d=0;d<s.length;d++){var nt=s[d];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(e,nt.key,nt)}}return function(e,s,d){return s&&c(e.prototype,s),d&&c(e,d),e}}();function _defineProperty(c,e,s){return e in c?Object.defineProperty(c,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):c[e]=s,c}function _classCallCheck(c,e){if(!(c instanceof e))throw new TypeError("Cannot call a class as a function")}var CONSTANTS=YGEnums,Layout=function(){function c(e,s,d,nt,o,ft){_classCallCheck(this,c),this.left=e,this.right=s,this.top=d,this.bottom=nt,this.width=o,this.height=ft}return _createClass(c,[{key:"fromJS",value:function(s){s(this.left,this.right,this.top,this.bottom,this.width,this.height)}},{key:"toString",value:function(){return"<Layout#"+this.left+":"+this.right+";"+this.top+":"+this.bottom+";"+this.width+":"+this.height+">"}}]),c}(),Size=function(){_createClass(c,null,[{key:"fromJS",value:function(s){var d=s.width,nt=s.height;return new c(d,nt)}}]);function c(e,s){_classCallCheck(this,c),this.width=e,this.height=s}return _createClass(c,[{key:"fromJS",value:function(s){s(this.width,this.height)}},{key:"toString",value:function(){return"<Size#"+this.width+"x"+this.height+">"}}]),c}(),Value=function(){function c(e,s){_classCallCheck(this,c),this.unit=e,this.value=s}return _createClass(c,[{key:"fromJS",value:function(s){s(this.unit,this.value)}},{key:"toString",value:function(){switch(this.unit){case CONSTANTS.UNIT_POINT:return String(this.value);case CONSTANTS.UNIT_PERCENT:return this.value+"%";case CONSTANTS.UNIT_AUTO:return"auto";default:return this.value+"?"}}},{key:"valueOf",value:function(){return this.value}}]),c}(),entryCommon=function(c,e){function s(ft,gt,xt){var St=ft[gt];ft[gt]=function(){for(var Tt=arguments.length,At=Array(Tt),Ct=0;Ct<Tt;Ct++)At[Ct]=arguments[Ct];return xt.call.apply(xt,[this,St].concat(At))}}for(var d=["setPosition","setMargin","setFlexBasis","setWidth","setHeight","setMinWidth","setMinHeight","setMaxWidth","setMaxHeight","setPadding"],nt=function(){var gt,xt=d[o],St=(gt={},_defineProperty(gt,CONSTANTS.UNIT_POINT,e.Node.prototype[xt]),_defineProperty(gt,CONSTANTS.UNIT_PERCENT,e.Node.prototype[xt+"Percent"]),_defineProperty(gt,CONSTANTS.UNIT_AUTO,e.Node.prototype[xt+"Auto"]),gt);s(e.Node.prototype,xt,function(Tt){for(var At=arguments.length,Ct=Array(At>1?At-1:0),Rt=1;Rt<At;Rt++)Ct[Rt-1]=arguments[Rt];var yt=Ct.pop(),Ot=void 0,Nt=void 0;if(yt==="auto")Ot=CONSTANTS.UNIT_AUTO,Nt=void 0;else if(yt instanceof Value)Ot=yt.unit,Nt=yt.valueOf();else if(Ot=typeof yt=="string"&&yt.endsWith("%")?CONSTANTS.UNIT_PERCENT:CONSTANTS.UNIT_POINT,Nt=parseFloat(yt),!Number.isNaN(yt)&&Number.isNaN(Nt))throw new Error("Invalid value "+yt+" for "+xt);if(!St[Ot])throw new Error('Failed to execute "'+xt+`": Unsupported unit '`+yt+"'");if(Nt!==void 0){var bt;return(bt=St[Ot]).call.apply(bt,[this].concat(Ct,[Nt]))}else{var Dt;return(Dt=St[Ot]).call.apply(Dt,[this].concat(Ct))}})},o=0;o<d.length;o++)nt();return s(e.Config.prototype,"free",function(){e.Config.destroy(this)}),s(e.Node,"create",function(ft,gt){return gt?e.Node.createWithConfig(gt):e.Node.createDefault()}),s(e.Node.prototype,"free",function(){e.Node.destroy(this)}),s(e.Node.prototype,"freeRecursive",function(){for(var ft=0,gt=this.getChildCount();ft<gt;++ft)this.getChild(0).freeRecursive();this.free()}),s(e.Node.prototype,"setMeasureFunc",function(ft,gt){return gt?ft.call(this,function(){return Size.fromJS(gt.apply(void 0,arguments))}):this.unsetMeasureFunc()}),s(e.Node.prototype,"calculateLayout",function(ft){var gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN,xt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN,St=arguments.length>3&&arguments[3]!==void 0?arguments[3]:CONSTANTS.DIRECTION_LTR;return ft.call(this,gt,xt,St)}),_extends({Config:e.Config,Node:e.Node,Layout:c("Layout",Layout),Size:c("Size",Size),Value:c("Value",Value),getInstanceCount:function(){return e.getInstanceCount.apply(e,arguments)}},CONSTANTS)};function commonjsRequire(c){throw new Error('Could not dynamically require "'+c+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var nbind$1={exports:{}};(function(module){(function(c,e){module.exports?module.exports=e:(c.nbind=c.nbind||{}).init=e})(commonjsGlobal,function(Module,cb){typeof Module=="function"&&(cb=Module,Module={}),Module.onRuntimeInitialized=function(c,e){return function(){c&&c.apply(this,arguments);try{Module.ccall("nbind_init")}catch(s){e(s);return}e(null,{bind:Module._nbind_value,reflect:Module.NBind.reflect,queryType:Module.NBind.queryType,toggleLightGC:Module.toggleLightGC,lib:Module})}}(Module.onRuntimeInitialized,cb);var Module;Module||(Module=(typeof Module<"u"?Module:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_WEB=!1,ENVIRONMENT_IS_WORKER=!1,ENVIRONMENT_IS_NODE=!1,ENVIRONMENT_IS_SHELL=!1;if(Module.ENVIRONMENT)if(Module.ENVIRONMENT==="WEB")ENVIRONMENT_IS_WEB=!0;else if(Module.ENVIRONMENT==="WORKER")ENVIRONMENT_IS_WORKER=!0;else if(Module.ENVIRONMENT==="NODE")ENVIRONMENT_IS_NODE=!0;else if(Module.ENVIRONMENT==="SHELL")ENVIRONMENT_IS_SHELL=!0;else throw new Error("The provided Module['ENVIRONMENT'] value is not valid. It must be one of: WEB|WORKER|NODE|SHELL.");else ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof commonjsRequire=="function"&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){Module.print||(Module.print=console.log),Module.printErr||(Module.printErr=console.warn);var nodeFS,nodePath;Module.read=function(e,s){nodeFS||(nodeFS={}("")),nodePath||(nodePath={}("")),e=nodePath.normalize(e);var d=nodeFS.readFileSync(e);return s?d:d.toString()},Module.readBinary=function(e){var s=Module.read(e,!0);return s.buffer||(s=new Uint8Array(s)),assert(s.buffer),s},Module.load=function(e){globalEval(read(e))},Module.thisProgram||(process.argv.length>1?Module.thisProgram=process.argv[1].replace(/\\/g,"/"):Module.thisProgram="unknown-program"),Module.arguments=process.argv.slice(2),module.exports=Module,process.on("uncaughtException",function(c){if(!(c instanceof ExitStatus))throw c}),Module.inspect=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL)Module.print||(Module.print=print),typeof printErr<"u"&&(Module.printErr=printErr),typeof read<"u"?Module.read=read:Module.read=function(){throw"no read() available"},Module.readBinary=function(e){if(typeof readbuffer=="function")return new Uint8Array(readbuffer(e));var s=read(e,"binary");return assert(typeof s=="object"),s},typeof scriptArgs<"u"?Module.arguments=scriptArgs:typeof arguments<"u"&&(Module.arguments=arguments),typeof quit=="function"&&(Module.quit=function(c,e){quit(c)});else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(Module.read=function(e){var s=new XMLHttpRequest;return s.open("GET",e,!1),s.send(null),s.responseText},ENVIRONMENT_IS_WORKER&&(Module.readBinary=function(e){var s=new XMLHttpRequest;return s.open("GET",e,!1),s.responseType="arraybuffer",s.send(null),new Uint8Array(s.response)}),Module.readAsync=function(e,s,d){var nt=new XMLHttpRequest;nt.open("GET",e,!0),nt.responseType="arraybuffer",nt.onload=function(){nt.status==200||nt.status==0&&nt.response?s(nt.response):d()},nt.onerror=d,nt.send(null)},typeof arguments<"u"&&(Module.arguments=arguments),typeof console<"u")Module.print||(Module.print=function(e){console.log(e)}),Module.printErr||(Module.printErr=function(e){console.warn(e)});else{var TRY_USE_DUMP=!1;Module.print||(Module.print=TRY_USE_DUMP&&typeof dump<"u"?function(c){dump(c)}:function(c){})}ENVIRONMENT_IS_WORKER&&(Module.load=importScripts),typeof Module.setWindowTitle>"u"&&(Module.setWindowTitle=function(c){document.title=c})}else throw"Unknown runtime environment. Where are we?";function globalEval(c){eval.call(null,c)}!Module.load&&Module.read&&(Module.load=function(e){globalEval(Module.read(e))}),Module.print||(Module.print=function(){}),Module.printErr||(Module.printErr=Module.print),Module.arguments||(Module.arguments=[]),Module.thisProgram||(Module.thisProgram="./this.program"),Module.quit||(Module.quit=function(c,e){throw e}),Module.print=Module.print,Module.printErr=Module.printErr,Module.preRun=[],Module.postRun=[];for(var key in moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);moduleOverrides=void 0;var Runtime={setTempRet0:function(c){return tempRet0=c,c},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(c){STACKTOP=c},getNativeTypeSize:function(c){switch(c){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:{if(c[c.length-1]==="*")return Runtime.QUANTUM_SIZE;if(c[0]==="i"){var e=parseInt(c.substr(1));return assert(e%8===0),e/8}else return 0}}},getNativeFieldSize:function(c){return Math.max(Runtime.getNativeTypeSize(c),Runtime.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(c,e){return e==="double"||e==="i64"?c&7&&(assert((c&7)===4),c+=4):assert((c&3)===0),c},getAlignSize:function(c,e,s){return!s&&(c=="i64"||c=="double")?8:c?Math.min(e||(c?Runtime.getNativeFieldSize(c):0),Runtime.QUANTUM_SIZE):Math.min(e,8)},dynCall:function(c,e,s){return s&&s.length?Module["dynCall_"+c].apply(null,[e].concat(s)):Module["dynCall_"+c].call(null,e)},functionPointers:[],addFunction:function(c){for(var e=0;e<Runtime.functionPointers.length;e++)if(!Runtime.functionPointers[e])return Runtime.functionPointers[e]=c,2*(1+e);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(c){Runtime.functionPointers[(c-2)/2]=null},warnOnce:function(c){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[c]||(Runtime.warnOnce.shown[c]=1,Module.printErr(c))},funcWrappers:{},getFuncWrapper:function(c,e){if(c){assert(e),Runtime.funcWrappers[e]||(Runtime.funcWrappers[e]={});var s=Runtime.funcWrappers[e];return s[c]||(e.length===1?s[c]=function(){return Runtime.dynCall(e,c)}:e.length===2?s[c]=function(nt){return Runtime.dynCall(e,c,[nt])}:s[c]=function(){return Runtime.dynCall(e,c,Array.prototype.slice.call(arguments))}),s[c]}},getCompilerSetting:function(c){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(c){var e=STACKTOP;return STACKTOP=STACKTOP+c|0,STACKTOP=STACKTOP+15&-16,e},staticAlloc:function(c){var e=STATICTOP;return STATICTOP=STATICTOP+c|0,STATICTOP=STATICTOP+15&-16,e},dynamicAlloc:function(c){var e=HEAP32[DYNAMICTOP_PTR>>2],s=(e+c+15|0)&-16;if(HEAP32[DYNAMICTOP_PTR>>2]=s,s>=TOTAL_MEMORY){var d=enlargeMemory();if(!d)return HEAP32[DYNAMICTOP_PTR>>2]=e,0}return e},alignMemory:function(c,e){var s=c=Math.ceil(c/(e||16))*(e||16);return s},makeBigInt:function(c,e,s){var d=s?+(c>>>0)+ +(e>>>0)*4294967296:+(c>>>0)+ +(e|0)*4294967296;return d},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module.Runtime=Runtime;var ABORT=0;function assert(c,e){c||abort("Assertion failed: "+e)}function getCFunc(ident){var func=Module["_"+ident];if(!func)try{func=eval("_"+ident)}catch(c){}return assert(func,"Cannot call unknown function "+ident+" (perhaps LLVM optimizations or closure removed it?)"),func}var cwrap,ccall;(function(){var JSfuncs={stackSave:function(){Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore()},arrayToC:function(c){var e=Runtime.stackAlloc(c.length);return writeArrayToMemory(c,e),e},stringToC:function(c){var e=0;if(c!=null&&c!==0){var s=(c.length<<2)+1;e=Runtime.stackAlloc(s),stringToUTF8(c,e,s)}return e}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};ccall=function(e,s,d,nt,o){var ft=getCFunc(e),gt=[],xt=0;if(nt)for(var St=0;St<nt.length;St++){var Tt=toC[d[St]];Tt?(xt===0&&(xt=Runtime.stackSave()),gt[St]=Tt(nt[St])):gt[St]=nt[St]}var At=ft.apply(null,gt);if(s==="string"&&(At=Pointer_stringify(At)),xt!==0){if(o&&o.async){EmterpreterAsync.asyncFinalizers.push(function(){Runtime.stackRestore(xt)});return}Runtime.stackRestore(xt)}return At};var sourceRegex=/^function\s*[a-zA-Z$_0-9]*\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/;function parseJSFunc(c){var e=c.toString().match(sourceRegex).slice(1);return{arguments:e[0],body:e[1],returnValue:e[2]}}var JSsource=null;function ensureJSsource(){if(!JSsource){JSsource={};for(var c in JSfuncs)JSfuncs.hasOwnProperty(c)&&(JSsource[c]=parseJSFunc(JSfuncs[c]))}}cwrap=function cwrap(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident),numericArgs=argTypes.every(function(c){return c==="number"}),numericRet=returnType!=="string";if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map(function(c,e){return"$"+e}),funcstr="(function("+argNames.join(",")+") {",nargs=argTypes.length;if(!numericArgs){ensureJSsource(),funcstr+="var stack = "+JSsource.stackSave.body+";";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if(type!=="number"){var convertCode=JSsource[type+"ToC"];funcstr+="var "+convertCode.arguments+" = "+arg+";",funcstr+=convertCode.body+";",funcstr+=arg+"=("+convertCode.returnValue+");"}}}var cfuncname=parseJSFunc(function(){return cfunc}).returnValue;if(funcstr+="var ret = "+cfuncname+"("+argNames.join(",")+");",!numericRet){var strgfy=parseJSFunc(function(){return Pointer_stringify}).returnValue;funcstr+="ret = "+strgfy+"(ret);"}return numericArgs||(ensureJSsource(),funcstr+=JSsource.stackRestore.body.replace("()","(stack)")+";"),funcstr+="return ret})",eval(funcstr)}})(),Module.ccall=ccall,Module.cwrap=cwrap;function setValue(c,e,s,d){switch(s=s||"i8",s.charAt(s.length-1)==="*"&&(s="i32"),s){case"i1":HEAP8[c>>0]=e;break;case"i8":HEAP8[c>>0]=e;break;case"i16":HEAP16[c>>1]=e;break;case"i32":HEAP32[c>>2]=e;break;case"i64":tempI64=[e>>>0,(tempDouble=e,+Math_abs(tempDouble)>=1?tempDouble>0?(Math_min(+Math_floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c>>2]=tempI64[0],HEAP32[c+4>>2]=tempI64[1];break;case"float":HEAPF32[c>>2]=e;break;case"double":HEAPF64[c>>3]=e;break;default:abort("invalid type for setValue: "+s)}}Module.setValue=setValue;function getValue(c,e,s){switch(e=e||"i8",e.charAt(e.length-1)==="*"&&(e="i32"),e){case"i1":return HEAP8[c>>0];case"i8":return HEAP8[c>>0];case"i16":return HEAP16[c>>1];case"i32":return HEAP32[c>>2];case"i64":return HEAP32[c>>2];case"float":return HEAPF32[c>>2];case"double":return HEAPF64[c>>3];default:abort("invalid type for setValue: "+e)}return null}Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;Module.ALLOC_NORMAL=ALLOC_NORMAL,Module.ALLOC_STACK=ALLOC_STACK,Module.ALLOC_STATIC=ALLOC_STATIC,Module.ALLOC_DYNAMIC=ALLOC_DYNAMIC,Module.ALLOC_NONE=ALLOC_NONE;function allocate(c,e,s,d){var nt,o;typeof c=="number"?(nt=!0,o=c):(nt=!1,o=c.length);var ft=typeof e=="string"?e:null,gt;if(s==ALLOC_NONE?gt=d:gt=[typeof _malloc=="function"?_malloc:Runtime.staticAlloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][s===void 0?ALLOC_STATIC:s](Math.max(o,ft?1:e.length)),nt){var d=gt,xt;for(assert((gt&3)==0),xt=gt+(o&-4);d<xt;d+=4)HEAP32[d>>2]=0;for(xt=gt+o;d<xt;)HEAP8[d++>>0]=0;return gt}if(ft==="i8")return c.subarray||c.slice?HEAPU8.set(c,gt):HEAPU8.set(new Uint8Array(c),gt),gt;for(var St=0,Tt,At,Ct;St<o;){var Rt=c[St];if(typeof Rt=="function"&&(Rt=Runtime.getFunctionIndex(Rt)),Tt=ft||e[St],Tt===0){St++;continue}Tt=="i64"&&(Tt="i32"),setValue(gt+St,Rt,Tt),Ct!==Tt&&(At=Runtime.getNativeTypeSize(Tt),Ct=Tt),St+=At}return gt}Module.allocate=allocate;function getMemory(c){return staticSealed?runtimeInitialized?_malloc(c):Runtime.dynamicAlloc(c):Runtime.staticAlloc(c)}Module.getMemory=getMemory;function Pointer_stringify(c,e){if(e===0||!c)return"";for(var s=0,d,nt=0;d=HEAPU8[c+nt>>0],s|=d,!(d==0&&!e||(nt++,e&&nt==e)););e||(e=nt);var o="";if(s<128){for(var ft=1024,gt;e>0;)gt=String.fromCharCode.apply(String,HEAPU8.subarray(c,c+Math.min(e,ft))),o=o?o+gt:gt,c+=ft,e-=ft;return o}return Module.UTF8ToString(c)}Module.Pointer_stringify=Pointer_stringify;function AsciiToString(c){for(var e="";;){var s=HEAP8[c++>>0];if(!s)return e;e+=String.fromCharCode(s)}}Module.AsciiToString=AsciiToString;function stringToAscii(c,e){return writeAsciiToMemory(c,e,!1)}Module.stringToAscii=stringToAscii;var UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function UTF8ArrayToString(c,e){for(var s=e;c[s];)++s;if(s-e>16&&c.subarray&&UTF8Decoder)return UTF8Decoder.decode(c.subarray(e,s));for(var d,nt,o,ft,gt,xt,St="";;){if(d=c[e++],!d)return St;if(!(d&128)){St+=String.fromCharCode(d);continue}if(nt=c[e++]&63,(d&224)==192){St+=String.fromCharCode((d&31)<<6|nt);continue}if(o=c[e++]&63,(d&240)==224?d=(d&15)<<12|nt<<6|o:(ft=c[e++]&63,(d&248)==240?d=(d&7)<<18|nt<<12|o<<6|ft:(gt=c[e++]&63,(d&252)==248?d=(d&3)<<24|nt<<18|o<<12|ft<<6|gt:(xt=c[e++]&63,d=(d&1)<<30|nt<<24|o<<18|ft<<12|gt<<6|xt))),d<65536)St+=String.fromCharCode(d);else{var Tt=d-65536;St+=String.fromCharCode(55296|Tt>>10,56320|Tt&1023)}}}Module.UTF8ArrayToString=UTF8ArrayToString;function UTF8ToString(c){return UTF8ArrayToString(HEAPU8,c)}Module.UTF8ToString=UTF8ToString;function stringToUTF8Array(c,e,s,d){if(!(d>0))return 0;for(var nt=s,o=s+d-1,ft=0;ft<c.length;++ft){var gt=c.charCodeAt(ft);if(gt>=55296&&gt<=57343&&(gt=65536+((gt&1023)<<10)|c.charCodeAt(++ft)&1023),gt<=127){if(s>=o)break;e[s++]=gt}else if(gt<=2047){if(s+1>=o)break;e[s++]=192|gt>>6,e[s++]=128|gt&63}else if(gt<=65535){if(s+2>=o)break;e[s++]=224|gt>>12,e[s++]=128|gt>>6&63,e[s++]=128|gt&63}else if(gt<=2097151){if(s+3>=o)break;e[s++]=240|gt>>18,e[s++]=128|gt>>12&63,e[s++]=128|gt>>6&63,e[s++]=128|gt&63}else if(gt<=67108863){if(s+4>=o)break;e[s++]=248|gt>>24,e[s++]=128|gt>>18&63,e[s++]=128|gt>>12&63,e[s++]=128|gt>>6&63,e[s++]=128|gt&63}else{if(s+5>=o)break;e[s++]=252|gt>>30,e[s++]=128|gt>>24&63,e[s++]=128|gt>>18&63,e[s++]=128|gt>>12&63,e[s++]=128|gt>>6&63,e[s++]=128|gt&63}}return e[s]=0,s-nt}Module.stringToUTF8Array=stringToUTF8Array;function stringToUTF8(c,e,s){return stringToUTF8Array(c,HEAPU8,e,s)}Module.stringToUTF8=stringToUTF8;function lengthBytesUTF8(c){for(var e=0,s=0;s<c.length;++s){var d=c.charCodeAt(s);d>=55296&&d<=57343&&(d=65536+((d&1023)<<10)|c.charCodeAt(++s)&1023),d<=127?++e:d<=2047?e+=2:d<=65535?e+=3:d<=2097151?e+=4:d<=67108863?e+=5:e+=6}return e}Module.lengthBytesUTF8=lengthBytesUTF8,typeof TextDecoder<"u"&&new TextDecoder("utf-16le");function demangle(c){var e=Module.___cxa_demangle||Module.__cxa_demangle;if(e){try{var s=c.substr(1),d=lengthBytesUTF8(s)+1,nt=_malloc(d);stringToUTF8(s,nt,d);var o=_malloc(4),ft=e(nt,0,0,o);if(getValue(o,"i32")===0&&ft)return Pointer_stringify(ft)}catch{}finally{nt&&_free(nt),o&&_free(o),ft&&_free(ft)}return c}return Runtime.warnOnce("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),c}function demangleAll(c){var e=/__Z[\w\d_]+/g;return c.replace(e,function(s){var d=demangle(s);return s===d?s:s+" ["+d+"]"})}function jsStackTrace(){var c=new Error;if(!c.stack){try{throw new Error(0)}catch(e){c=e}if(!c.stack)return"(no stack trace available)"}return c.stack.toString()}function stackTrace(){var c=jsStackTrace();return Module.extraStackTrace&&(c+=`
`+Module.extraStackTrace()),demangleAll(c)}Module.stackTrace=stackTrace;var HEAP,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferViews(){Module.HEAP8=HEAP8=new Int8Array(buffer),Module.HEAP16=HEAP16=new Int16Array(buffer),Module.HEAP32=HEAP32=new Int32Array(buffer),Module.HEAPU8=HEAPU8=new Uint8Array(buffer),Module.HEAPU16=HEAPU16=new Uint16Array(buffer),Module.HEAPU32=HEAPU32=new Uint32Array(buffer),Module.HEAPF32=HEAPF32=new Float32Array(buffer),Module.HEAPF64=HEAPF64=new Float64Array(buffer)}var STATIC_BASE,STATICTOP,staticSealed,STACK_BASE,STACKTOP,STACK_MAX,DYNAMIC_BASE,DYNAMICTOP_PTR;STATIC_BASE=STATICTOP=STACK_BASE=STACKTOP=STACK_MAX=DYNAMIC_BASE=DYNAMICTOP_PTR=0,staticSealed=!1;function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+TOTAL_MEMORY+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or (4) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function enlargeMemory(){abortOnCannotGrowMemory()}var TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||268435456;TOTAL_MEMORY<TOTAL_STACK&&Module.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+TOTAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")"),Module.buffer?buffer=Module.buffer:buffer=new ArrayBuffer(TOTAL_MEMORY),updateGlobalBufferViews();function getTotalMemory(){return TOTAL_MEMORY}if(HEAP32[0]=1668509029,HEAP16[1]=25459,HEAPU8[2]!==115||HEAPU8[3]!==99)throw"Runtime error: expected the system to be little-endian!";Module.HEAP=HEAP,Module.buffer=buffer,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;function callRuntimeCallbacks(c){for(;c.length>0;){var e=c.shift();if(typeof e=="function"){e();continue}var s=e.func;typeof s=="number"?e.arg===void 0?Module.dynCall_v(s):Module.dynCall_vi(s,e.arg):s(e.arg===void 0?null:e.arg)}}var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1;function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__)}function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(c){__ATPRERUN__.unshift(c)}Module.addOnPreRun=addOnPreRun;function addOnInit(c){__ATINIT__.unshift(c)}Module.addOnInit=addOnInit;function addOnPreMain(c){__ATMAIN__.unshift(c)}Module.addOnPreMain=addOnPreMain;function addOnExit(c){__ATEXIT__.unshift(c)}Module.addOnExit=addOnExit;function addOnPostRun(c){__ATPOSTRUN__.unshift(c)}Module.addOnPostRun=addOnPostRun;function intArrayFromString(c,e,s){var d=s>0?s:lengthBytesUTF8(c)+1,nt=new Array(d),o=stringToUTF8Array(c,nt,0,nt.length);return e&&(nt.length=o),nt}Module.intArrayFromString=intArrayFromString;function intArrayToString(c){for(var e=[],s=0;s<c.length;s++){var d=c[s];d>255&&(d&=255),e.push(String.fromCharCode(d))}return e.join("")}Module.intArrayToString=intArrayToString;function writeStringToMemory(c,e,s){Runtime.warnOnce("writeStringToMemory is deprecated and should not be called! Use stringToUTF8() instead!");var d,nt;s&&(nt=e+lengthBytesUTF8(c),d=HEAP8[nt]),stringToUTF8(c,e,1/0),s&&(HEAP8[nt]=d)}Module.writeStringToMemory=writeStringToMemory;function writeArrayToMemory(c,e){HEAP8.set(c,e)}Module.writeArrayToMemory=writeArrayToMemory;function writeAsciiToMemory(c,e,s){for(var d=0;d<c.length;++d)HEAP8[e++>>0]=c.charCodeAt(d);s||(HEAP8[e>>0]=0)}if(Module.writeAsciiToMemory=writeAsciiToMemory,(!Math.imul||Math.imul(4294967295,5)!==-5)&&(Math.imul=function c(e,s){var d=e>>>16,nt=e&65535,o=s>>>16,ft=s&65535;return nt*ft+(d*ft+nt*o<<16)|0}),Math.imul=Math.imul,!Math.fround){var froundBuffer=new Float32Array(1);Math.fround=function(c){return froundBuffer[0]=c,froundBuffer[0]}}Math.fround=Math.fround,Math.clz32||(Math.clz32=function(c){c=c>>>0;for(var e=0;e<32;e++)if(c&1<<31-e)return e;return 32}),Math.clz32=Math.clz32,Math.trunc||(Math.trunc=function(c){return c<0?Math.ceil(c):Math.floor(c)}),Math.trunc=Math.trunc;var Math_abs=Math.abs,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_min=Math.min,runDependencies=0,dependenciesFulfilled=null;function getUniqueRunDependency(c){return c}function addRunDependency(c){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}Module.addRunDependency=addRunDependency;function removeRunDependency(c){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&dependenciesFulfilled){var e=dependenciesFulfilled;dependenciesFulfilled=null,e()}}Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={};var ASM_CONSTS=[function(c,e,s,d,nt,o,ft,gt){return _nbind.callbackSignatureList[c].apply(this,arguments)}];function _emscripten_asm_const_iiiiiiii(c,e,s,d,nt,o,ft,gt){return ASM_CONSTS[c](e,s,d,nt,o,ft,gt)}function _emscripten_asm_const_iiiii(c,e,s,d,nt){return ASM_CONSTS[c](e,s,d,nt)}function _emscripten_asm_const_iiidddddd(c,e,s,d,nt,o,ft,gt,xt){return ASM_CONSTS[c](e,s,d,nt,o,ft,gt,xt)}function _emscripten_asm_const_iiididi(c,e,s,d,nt,o,ft){return ASM_CONSTS[c](e,s,d,nt,o,ft)}function _emscripten_asm_const_iiii(c,e,s,d){return ASM_CONSTS[c](e,s,d)}function _emscripten_asm_const_iiiid(c,e,s,d,nt){return ASM_CONSTS[c](e,s,d,nt)}function _emscripten_asm_const_iiiiii(c,e,s,d,nt,o){return ASM_CONSTS[c](e,s,d,nt,o)}STATIC_BASE=Runtime.GLOBAL_BASE,STATICTOP=STATIC_BASE+12800,__ATINIT__.push({func:function(){__GLOBAL__sub_I_Yoga_cpp()}},{func:function(){__GLOBAL__sub_I_nbind_cc()}},{func:function(){__GLOBAL__sub_I_common_cc()}},{func:function(){__GLOBAL__sub_I_Binding_cc()}}),allocate([0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,192,127,0,0,192,127,0,0,192,127,3,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,3,0,0,0,0,0,192,127,3,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,192,127,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,0,0,0,0,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,192,127,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,0,0,128,191,0,0,128,191,0,0,192,127,0,0,0,0,0,0,0,0,0,0,128,63,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,3,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,190,12,0,0,200,12,0,0,208,12,0,0,216,12,0,0,230,12,0,0,242,12,0,0,1,0,0,0,3,0,0,0,0,0,0,0,2,0,0,0,0,0,192,127,3,0,0,0,180,45,0,0,181,45,0,0,182,45,0,0,181,45,0,0,182,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,1,0,0,0,4,0,0,0,183,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,184,45,0,0,185,45,0,0,181,45,0,0,181,45,0,0,182,45,0,0,186,45,0,0,185,45,0,0,148,4,0,0,3,0,0,0,187,45,0,0,164,4,0,0,188,45,0,0,2,0,0,0,189,45,0,0,164,4,0,0,188,45,0,0,185,45,0,0,164,4,0,0,185,45,0,0,164,4,0,0,188,45,0,0,181,45,0,0,182,45,0,0,181,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,5,0,0,0,6,0,0,0,1,0,0,0,7,0,0,0,183,45,0,0,182,45,0,0,181,45,0,0,190,45,0,0,190,45,0,0,182,45,0,0,182,45,0,0,185,45,0,0,181,45,0,0,185,45,0,0,182,45,0,0,181,45,0,0,185,45,0,0,182,45,0,0,185,45,0,0,48,5,0,0,3,0,0,0,56,5,0,0,1,0,0,0,189,45,0,0,185,45,0,0,164,4,0,0,76,5,0,0,2,0,0,0,191,45,0,0,186,45,0,0,182,45,0,0,185,45,0,0,192,45,0,0,185,45,0,0,182,45,0,0,186,45,0,0,185,45,0,0,76,5,0,0,76,5,0,0,136,5,0,0,182,45,0,0,181,45,0,0,2,0,0,0,190,45,0,0,136,5,0,0,56,19,0,0,156,5,0,0,2,0,0,0,184,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,8,0,0,0,9,0,0,0,1,0,0,0,10,0,0,0,204,5,0,0,181,45,0,0,181,45,0,0,2,0,0,0,180,45,0,0,204,5,0,0,2,0,0,0,195,45,0,0,236,5,0,0,97,19,0,0,198,45,0,0,211,45,0,0,212,45,0,0,213,45,0,0,214,45,0,0,215,45,0,0,188,45,0,0,182,45,0,0,216,45,0,0,217,45,0,0,218,45,0,0,219,45,0,0,192,45,0,0,181,45,0,0,0,0,0,0,185,45,0,0,110,19,0,0,186,45,0,0,115,19,0,0,221,45,0,0,120,19,0,0,148,4,0,0,132,19,0,0,96,6,0,0,145,19,0,0,222,45,0,0,164,19,0,0,223,45,0,0,173,19,0,0,0,0,0,0,3,0,0,0,104,6,0,0,1,0,0,0,187,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,12,0,0,0,1,0,0,0,13,0,0,0,185,45,0,0,224,45,0,0,164,6,0,0,188,45,0,0,172,6,0,0,180,6,0,0,2,0,0,0,188,6,0,0,7,0,0,0,224,45,0,0,7,0,0,0,164,6,0,0,1,0,0,0,213,45,0,0,185,45,0,0,224,45,0,0,172,6,0,0,185,45,0,0,224,45,0,0,164,6,0,0,185,45,0,0,224,45,0,0,211,45,0,0,211,45,0,0,222,45,0,0,211,45,0,0,224,45,0,0,222,45,0,0,211,45,0,0,224,45,0,0,172,6,0,0,222,45,0,0,211,45,0,0,224,45,0,0,188,45,0,0,222,45,0,0,211,45,0,0,40,7,0,0,188,45,0,0,2,0,0,0,224,45,0,0,185,45,0,0,188,45,0,0,188,45,0,0,188,45,0,0,188,45,0,0,222,45,0,0,224,45,0,0,148,4,0,0,185,45,0,0,148,4,0,0,148,4,0,0,148,4,0,0,148,4,0,0,148,4,0,0,185,45,0,0,164,6,0,0,148,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,14,0,0,0,15,0,0,0,1,0,0,0,16,0,0,0,148,7,0,0,2,0,0,0,225,45,0,0,183,45,0,0,188,45,0,0,168,7,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,234,45,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,148,45,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,9,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,242,45,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,67,111,117,108,100,32,110,111,116,32,97,108,108,111,99,97,116,101,32,109,101,109,111,114,121,32,102,111,114,32,110,111,100,101,0,67,97,110,110,111,116,32,114,101,115,101,116,32,97,32,110,111,100,101,32,119,104,105,99,104,32,115,116,105,108,108,32,104,97,115,32,99,104,105,108,100,114,101,110,32,97,116,116,97,99,104,101,100,0,67,97,110,110,111,116,32,114,101,115,101,116,32,97,32,110,111,100,101,32,115,116,105,108,108,32,97,116,116,97,99,104,101,100,32,116,111,32,97,32,112,97,114,101,110,116,0,67,111,117,108,100,32,110,111,116,32,97,108,108,111,99,97,116,101,32,109,101,109,111,114,121,32,102,111,114,32,99,111,110,102,105,103,0,67,97,110,110,111,116,32,115,101,116,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,58,32,78,111,100,101,115,32,119,105,116,104,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,115,32,99,97,110,110,111,116,32,104,97,118,101,32,99,104,105,108,100,114,101,110,46,0,67,104,105,108,100,32,97,108,114,101,97,100,121,32,104,97,115,32,97,32,112,97,114,101,110,116,44,32,105,116,32,109,117,115,116,32,98,101,32,114,101,109,111,118,101,100,32,102,105,114,115,116,46,0,67,97,110,110,111,116,32,97,100,100,32,99,104,105,108,100,58,32,78,111,100,101,115,32,119,105,116,104,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,115,32,99,97,110,110,111,116,32,104,97,118,101,32,99,104,105,108,100,114,101,110,46,0,79,110,108,121,32,108,101,97,102,32,110,111,100,101,115,32,119,105,116,104,32,99,117,115,116,111,109,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,115,115,104,111,117,108,100,32,109,97,110,117,97,108,108,121,32,109,97,114,107,32,116,104,101,109,115,101,108,118,101,115,32,97,115,32,100,105,114,116,121,0,67,97,110,110,111,116,32,103,101,116,32,108,97,121,111,117,116,32,112,114,111,112,101,114,116,105,101,115,32,111,102,32,109,117,108,116,105,45,101,100,103,101,32,115,104,111,114,116,104,97,110,100,115,0,37,115,37,100,46,123,91,115,107,105,112,112,101,100,93,32,0,119,109,58,32,37,115,44,32,104,109,58,32,37,115,44,32,97,119,58,32,37,102,32,97,104,58,32,37,102,32,61,62,32,100,58,32,40,37,102,44,32,37,102,41,32,37,115,10,0,37,115,37,100,46,123,37,115,0,42,0,119,109,58,32,37,115,44,32,104,109,58,32,37,115,44,32,97,119,58,32,37,102,32,97,104,58,32,37,102,32,37,115,10,0,37,115,37,100,46,125,37,115,0,119,109,58,32,37,115,44,32,104,109,58,32,37,115,44,32,100,58,32,40,37,102,44,32,37,102,41,32,37,115,10,0,79,117,116,32,111,102,32,99,97,99,104,101,32,101,110,116,114,105,101,115,33,10,0,83,99,97,108,101,32,102,97,99,116,111,114,32,115,104,111,117,108,100,32,110,111,116,32,98,101,32,108,101,115,115,32,116,104,97,110,32,122,101,114,111,0,105,110,105,116,105,97,108,0,37,115,10,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,85,78,68,69,70,73,78,69,68,0,69,88,65,67,84,76,89,0,65,84,95,77,79,83,84,0,76,65,89,95,85,78,68,69,70,73,78,69,68,0,76,65,89,95,69,88,65,67,84,76,89,0,76,65,89,95,65,84,95,77,79,83,84,0,97,118,97,105,108,97,98,108,101,87,105,100,116,104,32,105,115,32,105,110,100,101,102,105,110,105,116,101,32,115,111,32,119,105,100,116,104,77,101,97,115,117,114,101,77,111,100,101,32,109,117,115,116,32,98,101,32,89,71,77,101,97,115,117,114,101,77,111,100,101,85,110,100,101,102,105,110,101,100,0,97,118,97,105,108,97,98,108,101,72,101,105,103,104,116,32,105,115,32,105,110,100,101,102,105,110,105,116,101,32,115,111,32,104,101,105,103,104,116,77,101,97,115,117,114,101,77,111,100,101,32,109,117,115,116,32,98,101,32,89,71,77,101,97,115,117,114,101,77,111,100,101,85,110,100,101,102,105,110,101,100,0,102,108,101,120,0,115,116,114,101,116,99,104,0,109,117,108,116,105,108,105,110,101,45,115,116,114,101,116,99,104,0,69,120,112,101,99,116,101,100,32,110,111,100,101,32,116,111,32,104,97,118,101,32,99,117,115,116,111,109,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,0,109,101,97,115,117,114,101,0,69,120,112,101,99,116,32,99,117,115,116,111,109,32,98,97,115,101,108,105,110,101,32,102,117,110,99,116,105,111,110,32,116,111,32,110,111,116,32,114,101,116,117,114,110,32,78,97,78,0,97,98,115,45,109,101,97,115,117,114,101,0,97,98,115,45,108,97,121,111,117,116,0,78,111,100,101,0,99,114,101,97,116,101,68,101,102,97,117,108,116,0,99,114,101,97,116,101,87,105,116,104,67,111,110,102,105,103,0,100,101,115,116,114,111,121,0,114,101,115,101,116,0,99,111,112,121,83,116,121,108,101,0,115,101,116,80,111,115,105,116,105,111,110,84,121,112,101,0,115,101,116,80,111,115,105,116,105,111,110,0,115,101,116,80,111,115,105,116,105,111,110,80,101,114,99,101,110,116,0,115,101,116,65,108,105,103,110,67,111,110,116,101,110,116,0,115,101,116,65,108,105,103,110,73,116,101,109,115,0,115,101,116,65,108,105,103,110,83,101,108,102,0,115,101,116,70,108,101,120,68,105,114,101,99,116,105,111,110,0,115,101,116,70,108,101,120,87,114,97,112,0,115,101,116,74,117,115,116,105,102,121,67,111,110,116,101,110,116,0,115,101,116,77,97,114,103,105,110,0,115,101,116,77,97,114,103,105,110,80,101,114,99,101,110,116,0,115,101,116,77,97,114,103,105,110,65,117,116,111,0,115,101,116,79,118,101,114,102,108,111,119,0,115,101,116,68,105,115,112,108,97,121,0,115,101,116,70,108,101,120,0,115,101,116,70,108,101,120,66,97,115,105,115,0,115,101,116,70,108,101,120,66,97,115,105,115,80,101,114,99,101,110,116,0,115,101,116,70,108,101,120,71,114,111,119,0,115,101,116,70,108,101,120,83,104,114,105,110,107,0,115,101,116,87,105,100,116,104,0,115,101,116,87,105,100,116,104,80,101,114,99,101,110,116,0,115,101,116,87,105,100,116,104,65,117,116,111,0,115,101,116,72,101,105,103,104,116,0,115,101,116,72,101,105,103,104,116,80,101,114,99,101,110,116,0,115,101,116,72,101,105,103,104,116,65,117,116,111,0,115,101,116,77,105,110,87,105,100,116,104,0,115,101,116,77,105,110,87,105,100,116,104,80,101,114,99,101,110,116,0,115,101,116,77,105,110,72,101,105,103,104,116,0,115,101,116,77,105,110,72,101,105,103,104,116,80,101,114,99,101,110,116,0,115,101,116,77,97,120,87,105,100,116,104,0,115,101,116,77,97,120,87,105,100,116,104,80,101,114,99,101,110,116,0,115,101,116,77,97,120,72,101,105,103,104,116,0,115,101,116,77,97,120,72,101,105,103,104,116,80,101,114,99,101,110,116,0,115,101,116,65,115,112,101,99,116,82,97,116,105,111,0,115,101,116,66,111,114,100,101,114,0,115,101,116,80,97,100,100,105,110,103,0,115,101,116,80,97,100,100,105,110,103,80,101,114,99,101,110,116,0,103,101,116,80,111,115,105,116,105,111,110,84,121,112,101,0,103,101,116,80,111,115,105,116,105,111,110,0,103,101,116,65,108,105,103,110,67,111,110,116,101,110,116,0,103,101,116,65,108,105,103,110,73,116,101,109,115,0,103,101,116,65,108,105,103,110,83,101,108,102,0,103,101,116,70,108,101,120,68,105,114,101,99,116,105,111,110,0,103,101,116,70,108,101,120,87,114,97,112,0,103,101,116,74,117,115,116,105,102,121,67,111,110,116,101,110,116,0,103,101,116,77,97,114,103,105,110,0,103,101,116,70,108,101,120,66,97,115,105,115,0,103,101,116,70,108,101,120,71,114,111,119,0,103,101,116,70,108,101,120,83,104,114,105,110,107,0,103,101,116,87,105,100,116,104,0,103,101,116,72,101,105,103,104,116,0,103,101,116,77,105,110,87,105,100,116,104,0,103,101,116,77,105,110,72,101,105,103,104,116,0,103,101,116,77,97,120,87,105,100,116,104,0,103,101,116,77,97,120,72,101,105,103,104,116,0,103,101,116,65,115,112,101,99,116,82,97,116,105,111,0,103,101,116,66,111,114,100,101,114,0,103,101,116,79,118,101,114,102,108,111,119,0,103,101,116,68,105,115,112,108,97,121,0,103,101,116,80,97,100,100,105,110,103,0,105,110,115,101,114,116,67,104,105,108,100,0,114,101,109,111,118,101,67,104,105,108,100,0,103,101,116,67,104,105,108,100,67,111,117,110,116,0,103,101,116,80,97,114,101,110,116,0,103,101,116,67,104,105,108,100,0,115,101,116,77,101,97,115,117,114,101,70,117,110,99,0,117,110,115,101,116,77,101,97,115,117,114,101,70,117,110,99,0,109,97,114,107,68,105,114,116,121,0,105,115,68,105,114,116,121,0,99,97,108,99,117,108,97,116,101,76,97,121,111,117,116,0,103,101,116,67,111,109,112,117,116,101,100,76,101,102,116,0,103,101,116,67,111,109,112,117,116,101,100,82,105,103,104,116,0,103,101,116,67,111,109,112,117,116,101,100,84,111,112,0,103,101,116,67,111,109,112,117,116,101,100,66,111,116,116,111,109,0,103,101,116,67,111,109,112,117,116,101,100,87,105,100,116,104,0,103,101,116,67,111,109,112,117,116,101,100,72,101,105,103,104,116,0,103,101,116,67,111,109,112,117,116,101,100,76,97,121,111,117,116,0,103,101,116,67,111,109,112,117,116,101,100,77,97,114,103,105,110,0,103,101,116,67,111,109,112,117,116,101,100,66,111,114,100,101,114,0,103,101,116,67,111,109,112,117,116,101,100,80,97,100,100,105,110,103,0,67,111,110,102,105,103,0,99,114,101,97,116,101,0,115,101,116,69,120,112,101,114,105,109,101,110,116,97,108,70,101,97,116,117,114,101,69,110,97,98,108,101,100,0,115,101,116,80,111,105,110,116,83,99,97,108,101,70,97,99,116,111,114,0,105,115,69,120,112,101,114,105,109,101,110,116,97,108,70,101,97,116,117,114,101,69,110,97,98,108,101,100,0,86,97,108,117,101,0,76,97,121,111,117,116,0,83,105,122,101,0,103,101,116,73,110,115,116,97,110,99,101,67,111,117,110,116,0,73,110,116,54,52,0,1,1,1,2,2,4,4,4,4,8,8,4,8,118,111,105,100,0,98,111,111,108,0,115,116,100,58,58,115,116,114,105,110,103,0,99,98,70,117,110,99,116,105,111,110,32,38,0,99,111,110,115,116,32,99,98,70,117,110,99,116,105,111,110,32,38,0,69,120,116,101,114,110,97,108,0,66,117,102,102,101,114,0,78,66,105,110,100,73,68,0,78,66,105,110,100,0,98,105,110,100,95,118,97,108,117,101,0,114,101,102,108,101,99,116,0,113,117,101,114,121,84,121,112,101,0,108,97,108,108,111,99,0,108,114,101,115,101,116,0,123,114,101,116,117,114,110,40,95,110,98,105,110,100,46,99,97,108,108,98,97,99,107,83,105,103,110,97,116,117,114,101,76,105,115,116,91,36,48,93,46,97,112,112,108,121,40,116,104,105,115,44,97,114,103,117,109,101,110,116,115,41,41,59,125,0,95,110,98,105,110,100,95,110,101,119,0,17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,45,43,32,32,32,48,88,48,120,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,110,97,110,0,78,65,78,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,46,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116,32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE);var tempDoublePtr=STATICTOP;STATICTOP+=16;function _atexit(c,e){__ATEXIT__.unshift({func:c,arg:e})}function ___cxa_atexit(){return _atexit.apply(null,arguments)}function _abort(){Module.abort()}function __ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj(){Module.printErr("missing function: _ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj"),abort(-1)}function __decorate(c,e,s,d){var nt=arguments.length,o=nt<3?e:d===null?d=Object.getOwnPropertyDescriptor(e,s):d,ft;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(c,e,s,d);else for(var gt=c.length-1;gt>=0;gt--)(ft=c[gt])&&(o=(nt<3?ft(o):nt>3?ft(e,s,o):ft(e,s))||o);return nt>3&&o&&Object.defineProperty(e,s,o),o}function _defineHidden(c){return function(e,s){Object.defineProperty(e,s,{configurable:!1,enumerable:!1,value:c,writable:!0})}}var _nbind={};function __nbind_free_external(c){_nbind.externalList[c].dereference(c)}function __nbind_reference_external(c){_nbind.externalList[c].reference()}function _llvm_stackrestore(c){var e=_llvm_stacksave,s=e.LLVM_SAVEDSTACKS[c];e.LLVM_SAVEDSTACKS.splice(c,1),Runtime.stackRestore(s)}function __nbind_register_pool(c,e,s,d){_nbind.Pool.pageSize=c,_nbind.Pool.usedPtr=e/4,_nbind.Pool.rootPtr=s,_nbind.Pool.pagePtr=d/4,HEAP32[e/4]=16909060,HEAP8[e]==1&&(_nbind.bigEndian=!0),HEAP32[e/4]=0,_nbind.makeTypeKindTbl=(o={},o[1024]=_nbind.PrimitiveType,o[64]=_nbind.Int64Type,o[2048]=_nbind.BindClass,o[3072]=_nbind.BindClassPtr,o[4096]=_nbind.SharedClassPtr,o[5120]=_nbind.ArrayType,o[6144]=_nbind.ArrayType,o[7168]=_nbind.CStringType,o[9216]=_nbind.CallbackType,o[10240]=_nbind.BindType,o),_nbind.makeTypeNameTbl={Buffer:_nbind.BufferType,External:_nbind.ExternalType,Int64:_nbind.Int64Type,_nbind_new:_nbind.CreateValueType,bool:_nbind.BooleanType,"cbFunction &":_nbind.CallbackType,"const cbFunction &":_nbind.CallbackType,"const std::string &":_nbind.StringType,"std::string":_nbind.StringType},Module.toggleLightGC=_nbind.toggleLightGC,_nbind.callUpcast=Module.dynCall_ii;var nt=_nbind.makeType(_nbind.constructType,{flags:2048,id:0,name:""});nt.proto=Module,_nbind.BindClass.list.push(nt);var o}function _emscripten_set_main_loop_timing(c,e){if(Browser.mainLoop.timingMode=c,Browser.mainLoop.timingValue=e,!Browser.mainLoop.func)return 1;if(c==0)Browser.mainLoop.scheduler=function(){var o=Math.max(0,Browser.mainLoop.tickStartTime+e-_emscripten_get_now())|0;setTimeout(Browser.mainLoop.runner,o)},Browser.mainLoop.method="timeout";else if(c==1)Browser.mainLoop.scheduler=function(){Browser.requestAnimationFrame(Browser.mainLoop.runner)},Browser.mainLoop.method="rAF";else if(c==2){if(!window.setImmediate){let nt=function(o){o.source===window&&o.data===d&&(o.stopPropagation(),s.shift()())};var s=[],d="setimmediate";window.addEventListener("message",nt,!0),window.setImmediate=function(ft){s.push(ft),ENVIRONMENT_IS_WORKER?(Module.setImmediates===void 0&&(Module.setImmediates=[]),Module.setImmediates.push(ft),window.postMessage({target:d})):window.postMessage(d,"*")}}Browser.mainLoop.scheduler=function(){window.setImmediate(Browser.mainLoop.runner)},Browser.mainLoop.method="immediate"}return 0}function _emscripten_get_now(){abort()}function _emscripten_set_main_loop(c,e,s,d,nt){Module.noExitRuntime=!0,assert(!Browser.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),Browser.mainLoop.func=c,Browser.mainLoop.arg=d;var o;typeof d<"u"?o=function(){Module.dynCall_vi(c,d)}:o=function(){Module.dynCall_v(c)};var ft=Browser.mainLoop.currentlyRunningMainloop;if(Browser.mainLoop.runner=function(){if(!ABORT){if(Browser.mainLoop.queue.length>0){var xt=Date.now(),St=Browser.mainLoop.queue.shift();if(St.func(St.arg),Browser.mainLoop.remainingBlockers){var Tt=Browser.mainLoop.remainingBlockers,At=Tt%1==0?Tt-1:Math.floor(Tt);St.counted?Browser.mainLoop.remainingBlockers=At:(At=At+.5,Browser.mainLoop.remainingBlockers=(8*Tt+At)/9)}if(console.log('main loop blocker "'+St.name+'" took '+(Date.now()-xt)+" ms"),Browser.mainLoop.updateStatus(),ft<Browser.mainLoop.currentlyRunningMainloop)return;setTimeout(Browser.mainLoop.runner,0);return}if(!(ft<Browser.mainLoop.currentlyRunningMainloop)){if(Browser.mainLoop.currentFrameNumber=Browser.mainLoop.currentFrameNumber+1|0,Browser.mainLoop.timingMode==1&&Browser.mainLoop.timingValue>1&&Browser.mainLoop.currentFrameNumber%Browser.mainLoop.timingValue!=0){Browser.mainLoop.scheduler();return}else Browser.mainLoop.timingMode==0&&(Browser.mainLoop.tickStartTime=_emscripten_get_now());Browser.mainLoop.method==="timeout"&&Module.ctx&&(Module.printErr("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),Browser.mainLoop.method=""),Browser.mainLoop.runIter(o),!(ft<Browser.mainLoop.currentlyRunningMainloop)&&(typeof SDL=="object"&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),Browser.mainLoop.scheduler())}}},nt||(e&&e>0?_emscripten_set_main_loop_timing(0,1e3/e):_emscripten_set_main_loop_timing(1,1),Browser.mainLoop.scheduler()),s)throw"SimulateInfiniteLoop"}var Browser={mainLoop:{scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Browser.mainLoop.scheduler=null,Browser.mainLoop.currentlyRunningMainloop++},resume:function(){Browser.mainLoop.currentlyRunningMainloop++;var c=Browser.mainLoop.timingMode,e=Browser.mainLoop.timingValue,s=Browser.mainLoop.func;Browser.mainLoop.func=null,_emscripten_set_main_loop(s,0,!1,Browser.mainLoop.arg,!0),_emscripten_set_main_loop_timing(c,e),Browser.mainLoop.scheduler()},updateStatus:function(){if(Module.setStatus){var c=Module.statusMessage||"Please wait...",e=Browser.mainLoop.remainingBlockers,s=Browser.mainLoop.expectedBlockers;e?e<s?Module.setStatus(c+" ("+(s-e)+"/"+s+")"):Module.setStatus(c):Module.setStatus("")}},runIter:function(c){if(!ABORT){if(Module.preMainLoop){var e=Module.preMainLoop();if(e===!1)return}try{c()}catch(s){if(s instanceof ExitStatus)return;throw s&&typeof s=="object"&&s.stack&&Module.printErr("exception thrown: "+[s,s.stack]),s}Module.postMainLoop&&Module.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(Module.preloadPlugins||(Module.preloadPlugins=[]),Browser.initted)return;Browser.initted=!0;try{new Blob,Browser.hasBlobConstructor=!0}catch{Browser.hasBlobConstructor=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Browser.BlobBuilder=typeof MozBlobBuilder<"u"?MozBlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:Browser.hasBlobConstructor?null:console.log("warning: no BlobBuilder"),Browser.URLObject=typeof window<"u"?window.URL?window.URL:window.webkitURL:void 0,!Module.noImageDecoding&&typeof Browser.URLObject>"u"&&(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),Module.noImageDecoding=!0);var c={};c.canHandle=function(o){return!Module.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(o)},c.handle=function(o,ft,gt,xt){var St=null;if(Browser.hasBlobConstructor)try{St=new Blob([o],{type:Browser.getMimetype(ft)}),St.size!==o.length&&(St=new Blob([new Uint8Array(o).buffer],{type:Browser.getMimetype(ft)}))}catch(Rt){Runtime.warnOnce("Blob constructor present but fails: "+Rt+"; falling back to blob builder")}if(!St){var Tt=new Browser.BlobBuilder;Tt.append(new Uint8Array(o).buffer),St=Tt.getBlob()}var At=Browser.URLObject.createObjectURL(St),Ct=new Image;Ct.onload=function(){assert(Ct.complete,"Image "+ft+" could not be decoded");var yt=document.createElement("canvas");yt.width=Ct.width,yt.height=Ct.height;var Ot=yt.getContext("2d");Ot.drawImage(Ct,0,0),Module.preloadedImages[ft]=yt,Browser.URLObject.revokeObjectURL(At),gt&&gt(o)},Ct.onerror=function(yt){console.log("Image "+At+" could not be decoded"),xt&&xt()},Ct.src=At},Module.preloadPlugins.push(c);var e={};e.canHandle=function(o){return!Module.noAudioDecoding&&o.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},e.handle=function(o,ft,gt,xt){var St=!1;function Tt(Ot){St||(St=!0,Module.preloadedAudios[ft]=Ot,gt&&gt(o))}function At(){St||(St=!0,Module.preloadedAudios[ft]=new Audio,xt&&xt())}if(Browser.hasBlobConstructor){try{var Ct=new Blob([o],{type:Browser.getMimetype(ft)})}catch{return At()}var Rt=Browser.URLObject.createObjectURL(Ct),yt=new Audio;yt.addEventListener("canplaythrough",function(){Tt(yt)},!1),yt.onerror=function(Nt){if(St)return;console.log("warning: browser could not fully decode audio "+ft+", trying slower base64 approach");function bt(Dt){for(var Ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ut="=",Wt="",Gt=0,Xt=0,Yt=0;Yt<Dt.length;Yt++)for(Gt=Gt<<8|Dt[Yt],Xt+=8;Xt>=6;){var Kt=Gt>>Xt-6&63;Xt-=6,Wt+=Ft[Kt]}return Xt==2?(Wt+=Ft[(Gt&3)<<4],Wt+=Ut+Ut):Xt==4&&(Wt+=Ft[(Gt&15)<<2],Wt+=Ut),Wt}yt.src="data:audio/x-"+ft.substr(-3)+";base64,"+bt(o),Tt(yt)},yt.src=Rt,Browser.safeSetTimeout(function(){Tt(yt)},1e4)}else return At()},Module.preloadPlugins.push(e);function s(){Browser.pointerLock=document.pointerLockElement===Module.canvas||document.mozPointerLockElement===Module.canvas||document.webkitPointerLockElement===Module.canvas||document.msPointerLockElement===Module.canvas}var d=Module.canvas;d&&(d.requestPointerLock=d.requestPointerLock||d.mozRequestPointerLock||d.webkitRequestPointerLock||d.msRequestPointerLock||function(){},d.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},d.exitPointerLock=d.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",s,!1),document.addEventListener("mozpointerlockchange",s,!1),document.addEventListener("webkitpointerlockchange",s,!1),document.addEventListener("mspointerlockchange",s,!1),Module.elementPointerLock&&d.addEventListener("click",function(nt){!Browser.pointerLock&&Module.canvas.requestPointerLock&&(Module.canvas.requestPointerLock(),nt.preventDefault())},!1))},createContext:function(c,e,s,d){if(e&&Module.ctx&&c==Module.canvas)return Module.ctx;var nt,o;if(e){var ft={antialias:!1,alpha:!1};if(d)for(var gt in d)ft[gt]=d[gt];o=GL.createContext(c,ft),o&&(nt=GL.getContext(o).GLctx)}else nt=c.getContext("2d");return nt?(s&&(e||assert(typeof GLctx>"u","cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),Module.ctx=nt,e&&GL.makeContextCurrent(o),Module.useWebGL=e,Browser.moduleContextCreatedCallbacks.forEach(function(xt){xt()}),Browser.init()),nt):null},destroyContext:function(c,e,s){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(c,e,s){Browser.lockPointer=c,Browser.resizeCanvas=e,Browser.vrDevice=s,typeof Browser.lockPointer>"u"&&(Browser.lockPointer=!0),typeof Browser.resizeCanvas>"u"&&(Browser.resizeCanvas=!1),typeof Browser.vrDevice>"u"&&(Browser.vrDevice=null);var d=Module.canvas;function nt(){Browser.isFullscreen=!1;var ft=d.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===ft?(d.exitFullscreen=document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){},d.exitFullscreen=d.exitFullscreen.bind(document),Browser.lockPointer&&d.requestPointerLock(),Browser.isFullscreen=!0,Browser.resizeCanvas&&Browser.setFullscreenCanvasSize()):(ft.parentNode.insertBefore(d,ft),ft.parentNode.removeChild(ft),Browser.resizeCanvas&&Browser.setWindowedCanvasSize()),Module.onFullScreen&&Module.onFullScreen(Browser.isFullscreen),Module.onFullscreen&&Module.onFullscreen(Browser.isFullscreen),Browser.updateCanvasDimensions(d)}Browser.fullscreenHandlersInstalled||(Browser.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",nt,!1),document.addEventListener("mozfullscreenchange",nt,!1),document.addEventListener("webkitfullscreenchange",nt,!1),document.addEventListener("MSFullscreenChange",nt,!1));var o=document.createElement("div");d.parentNode.insertBefore(o,d),o.appendChild(d),o.requestFullscreen=o.requestFullscreen||o.mozRequestFullScreen||o.msRequestFullscreen||(o.webkitRequestFullscreen?function(){o.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(o.webkitRequestFullScreen?function(){o.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),s?o.requestFullscreen({vrDisplay:s}):o.requestFullscreen()},requestFullScreen:function(c,e,s){return Module.printErr("Browser.requestFullScreen() is deprecated. Please call Browser.requestFullscreen instead."),Browser.requestFullScreen=function(d,nt,o){return Browser.requestFullscreen(d,nt,o)},Browser.requestFullscreen(c,e,s)},nextRAF:0,fakeRequestAnimationFrame:function(c){var e=Date.now();if(Browser.nextRAF===0)Browser.nextRAF=e+1e3/60;else for(;e+2>=Browser.nextRAF;)Browser.nextRAF+=1e3/60;var s=Math.max(Browser.nextRAF-e,0);setTimeout(c,s)},requestAnimationFrame:function c(e){typeof window>"u"?Browser.fakeRequestAnimationFrame(e):(window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||Browser.fakeRequestAnimationFrame),window.requestAnimationFrame(e))},safeCallback:function(c){return function(){if(!ABORT)return c.apply(null,arguments)}},allowAsyncCallbacks:!0,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){Browser.allowAsyncCallbacks=!1},resumeAsyncCallbacks:function(){if(Browser.allowAsyncCallbacks=!0,Browser.queuedAsyncCallbacks.length>0){var c=Browser.queuedAsyncCallbacks;Browser.queuedAsyncCallbacks=[],c.forEach(function(e){e()})}},safeRequestAnimationFrame:function(c){return Browser.requestAnimationFrame(function(){ABORT||(Browser.allowAsyncCallbacks?c():Browser.queuedAsyncCallbacks.push(c))})},safeSetTimeout:function(c,e){return Module.noExitRuntime=!0,setTimeout(function(){ABORT||(Browser.allowAsyncCallbacks?c():Browser.queuedAsyncCallbacks.push(c))},e)},safeSetInterval:function(c,e){return Module.noExitRuntime=!0,setInterval(function(){ABORT||Browser.allowAsyncCallbacks&&c()},e)},getMimetype:function(c){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[c.substr(c.lastIndexOf(".")+1)]},getUserMedia:function(c){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(c)},getMovementX:function(c){return c.movementX||c.mozMovementX||c.webkitMovementX||0},getMovementY:function(c){return c.movementY||c.mozMovementY||c.webkitMovementY||0},getMouseWheelDelta:function(c){var e=0;switch(c.type){case"DOMMouseScroll":e=c.detail;break;case"mousewheel":e=c.wheelDelta;break;case"wheel":e=c.deltaY;break;default:throw"unrecognized mouse wheel event: "+c.type}return e},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(c){if(Browser.pointerLock)c.type!="mousemove"&&"mozMovementX"in c?Browser.mouseMovementX=Browser.mouseMovementY=0:(Browser.mouseMovementX=Browser.getMovementX(c),Browser.mouseMovementY=Browser.getMovementY(c)),typeof SDL<"u"?(Browser.mouseX=SDL.mouseX+Browser.mouseMovementX,Browser.mouseY=SDL.mouseY+Browser.mouseMovementY):(Browser.mouseX+=Browser.mouseMovementX,Browser.mouseY+=Browser.mouseMovementY);else{var e=Module.canvas.getBoundingClientRect(),s=Module.canvas.width,d=Module.canvas.height,nt=typeof window.scrollX<"u"?window.scrollX:window.pageXOffset,o=typeof window.scrollY<"u"?window.scrollY:window.pageYOffset;if(c.type==="touchstart"||c.type==="touchend"||c.type==="touchmove"){var ft=c.touch;if(ft===void 0)return;var gt=ft.pageX-(nt+e.left),xt=ft.pageY-(o+e.top);gt=gt*(s/e.width),xt=xt*(d/e.height);var St={x:gt,y:xt};if(c.type==="touchstart")Browser.lastTouches[ft.identifier]=St,Browser.touches[ft.identifier]=St;else if(c.type==="touchend"||c.type==="touchmove"){var Tt=Browser.touches[ft.identifier];Tt||(Tt=St),Browser.lastTouches[ft.identifier]=Tt,Browser.touches[ft.identifier]=St}return}var At=c.pageX-(nt+e.left),Ct=c.pageY-(o+e.top);At=At*(s/e.width),Ct=Ct*(d/e.height),Browser.mouseMovementX=At-Browser.mouseX,Browser.mouseMovementY=Ct-Browser.mouseY,Browser.mouseX=At,Browser.mouseY=Ct}},asyncLoad:function(c,e,s,d){var nt=d?"":"al "+c;Module.readAsync(c,function(o){assert(o,'Loading data file "'+c+'" failed (no arrayBuffer).'),e(new Uint8Array(o)),nt&&removeRunDependency()},function(o){if(s)s();else throw'Loading data file "'+c+'" failed.'}),nt&&addRunDependency()},resizeListeners:[],updateResizeListeners:function(){var c=Module.canvas;Browser.resizeListeners.forEach(function(e){e(c.width,c.height)})},setCanvasSize:function(c,e,s){var d=Module.canvas;Browser.updateCanvasDimensions(d,c,e),s||Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if(typeof SDL<"u"){var c=HEAPU32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2];c=c|8388608,HEAP32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2]=c}Browser.updateResizeListeners()},setWindowedCanvasSize:function(){if(typeof SDL<"u"){var c=HEAPU32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2];c=c&-8388609,HEAP32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2]=c}Browser.updateResizeListeners()},updateCanvasDimensions:function(c,e,s){e&&s?(c.widthNative=e,c.heightNative=s):(e=c.widthNative,s=c.heightNative);var d=e,nt=s;if(Module.forcedAspectRatio&&Module.forcedAspectRatio>0&&(d/nt<Module.forcedAspectRatio?d=Math.round(nt*Module.forcedAspectRatio):nt=Math.round(d/Module.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===c.parentNode&&typeof screen<"u"){var o=Math.min(screen.width/d,screen.height/nt);d=Math.round(d*o),nt=Math.round(nt*o)}Browser.resizeCanvas?(c.width!=d&&(c.width=d),c.height!=nt&&(c.height=nt),typeof c.style<"u"&&(c.style.removeProperty("width"),c.style.removeProperty("height"))):(c.width!=e&&(c.width=e),c.height!=s&&(c.height=s),typeof c.style<"u"&&(d!=e||nt!=s?(c.style.setProperty("width",d+"px","important"),c.style.setProperty("height",nt+"px","important")):(c.style.removeProperty("width"),c.style.removeProperty("height"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var c=Browser.nextWgetRequestHandle;return Browser.nextWgetRequestHandle++,c}},SYSCALLS={varargs:0,get:function(c){SYSCALLS.varargs+=4;var e=HEAP32[SYSCALLS.varargs-4>>2];return e},getStr:function(){var c=Pointer_stringify(SYSCALLS.get());return c},get64:function(){var c=SYSCALLS.get(),e=SYSCALLS.get();return c>=0?assert(e===0):assert(e===-1),c},getZero:function(){assert(SYSCALLS.get()===0)}};function ___syscall6(c,e){SYSCALLS.varargs=e;try{var s=SYSCALLS.getStreamFromFD();return FS.close(s),0}catch(d){return(typeof FS>"u"||!(d instanceof FS.ErrnoError))&&abort(d),-d.errno}}function ___syscall54(c,e){SYSCALLS.varargs=e;try{return 0}catch(s){return(typeof FS>"u"||!(s instanceof FS.ErrnoError))&&abort(s),-s.errno}}function _typeModule(c){var e=[[0,1,"X"],[1,1,"const X"],[128,1,"X *"],[256,1,"X &"],[384,1,"X &&"],[512,1,"std::shared_ptr<X>"],[640,1,"std::unique_ptr<X>"],[5120,1,"std::vector<X>"],[6144,2,"std::array<X, Y>"],[9216,-1,"std::function<X (Y)>"]];function s(xt,St,Tt,At,Ct,Rt){if(St==1){var yt=At&896;(yt==128||yt==256||yt==384)&&(xt="X const")}var Ot;return Rt?Ot=Tt.replace("X",xt).replace("Y",Ct):Ot=xt.replace("X",Tt).replace("Y",Ct),Ot.replace(/([*&]) (?=[*&])/g,"$1")}function d(xt,St,Tt,At,Ct){throw new Error(xt+" type "+Tt.replace("X",St+"?")+(At?" with flag "+At:"")+" in "+Ct)}function nt(xt,St,Tt,At,Ct,Rt,yt,Ot){Rt===void 0&&(Rt="X"),Ot===void 0&&(Ot=1);var Nt=Tt(xt);if(Nt)return Nt;var bt=At(xt),Dt=bt.placeholderFlag,Ft=e[Dt];yt&&Ft&&(Rt=s(yt[2],yt[0],Rt,Ft[0],"?",!0));var Ut;Dt==0&&(Ut="Unbound"),Dt>=10&&(Ut="Corrupt"),Ot>20&&(Ut="Deeply nested"),Ut&&d(Ut,xt,Rt,Dt,Ct||"?");var Wt=bt.paramList[0],Gt=nt(Wt,St,Tt,At,Ct,Rt,Ft,Ot+1),Xt,Yt={flags:Ft[0],id:xt,name:"",paramList:[Gt]},Kt=[],jt="?";switch(bt.placeholderFlag){case 1:Xt=Gt.spec;break;case 2:if((Gt.flags&15360)==1024&&Gt.spec.ptrSize==1){Yt.flags=7168;break}case 3:case 6:case 5:Xt=Gt.spec,Gt.flags&15360;break;case 8:jt=""+bt.paramList[1],Yt.paramList.push(bt.paramList[1]);break;case 9:for(var Jt=0,fn=bt.paramList[1];Jt<fn.length;Jt++){var sn=fn[Jt],wn=nt(sn,St,Tt,At,Ct,Rt,Ft,Ot+1);Kt.push(wn.name),Yt.paramList.push(wn)}jt=Kt.join(", ");break}if(Yt.name=s(Ft[2],Ft[0],Gt.name,Gt.flags,jt),Xt){for(var Mn=0,Tn=Object.keys(Xt);Mn<Tn.length;Mn++){var kn=Tn[Mn];Yt[kn]=Yt[kn]||Xt[kn]}Yt.flags|=Xt.flags}return o(St,Yt)}function o(xt,St){var Tt=St.flags,At=Tt&896,Ct=Tt&15360;return!St.name&&Ct==1024&&(St.ptrSize==1?St.name=(Tt&16?"":(Tt&8?"un":"")+"signed ")+"char":St.name=(Tt&8?"u":"")+(Tt&32?"float":"int")+(St.ptrSize*8+"_t")),St.ptrSize==8&&!(Tt&32)&&(Ct=64),Ct==2048&&(At==512||At==640?Ct=4096:At&&(Ct=3072)),xt(Ct,St)}var ft=function(){function xt(St){this.id=St.id,this.name=St.name,this.flags=St.flags,this.spec=St}return xt.prototype.toString=function(){return this.name},xt}(),gt={Type:ft,getComplexType:nt,makeType:o,structureList:e};return c.output=gt,c.output||gt}function __nbind_register_type(c,e){var s=_nbind.readAsciiString(e),d={flags:10240,id:c,name:s};_nbind.makeType(_nbind.constructType,d)}function __nbind_register_callback_signature(c,e){var s=_nbind.readTypeIdList(c,e),d=_nbind.callbackSignatureList.length;return _nbind.callbackSignatureList[d]=_nbind.makeJSCaller(s),d}function __extends(c,e){for(var s in e)e.hasOwnProperty(s)&&(c[s]=e[s]);function d(){this.constructor=c}d.prototype=e.prototype,c.prototype=new d}function __nbind_register_class(c,e,s,d,nt,o,ft){var gt=_nbind.readAsciiString(ft),xt=_nbind.readPolicyList(e),St=HEAPU32.subarray(c/4,c/4+2),Tt={flags:2048|(xt.Value?2:0),id:St[0],name:gt},At=_nbind.makeType(_nbind.constructType,Tt);At.ptrType=_nbind.getComplexType(St[1],_nbind.constructType,_nbind.getType,_nbind.queryType),At.destroy=_nbind.makeMethodCaller(At.ptrType,{boundID:Tt.id,flags:0,name:"destroy",num:0,ptr:o,title:At.name+".free",typeList:["void","uint32_t","uint32_t"]}),nt&&(At.superIdList=Array.prototype.slice.call(HEAPU32.subarray(s/4,s/4+nt)),At.upcastList=Array.prototype.slice.call(HEAPU32.subarray(d/4,d/4+nt))),Module[At.name]=At.makeBound(xt),_nbind.BindClass.list.push(At)}function _removeAccessorPrefix(c){var e=/^[Gg]et_?([A-Z]?([A-Z]?))/;return c.replace(e,function(s,d,nt){return nt?d:d.toLowerCase()})}function __nbind_register_function(c,e,s,d,nt,o,ft,gt,xt,St){var Tt=_nbind.getType(c),At=_nbind.readPolicyList(e),Ct=_nbind.readTypeIdList(s,d),Rt;if(ft==5)Rt=[{direct:nt,name:"__nbindConstructor",ptr:0,title:Tt.name+" constructor",typeList:["uint32_t"].concat(Ct.slice(1))},{direct:o,name:"__nbindValueConstructor",ptr:0,title:Tt.name+" value constructor",typeList:["void","uint32_t"].concat(Ct.slice(1))}];else{var yt=_nbind.readAsciiString(gt),Ot=(Tt.name&&Tt.name+".")+yt;(ft==3||ft==4)&&(yt=_removeAccessorPrefix(yt)),Rt=[{boundID:c,direct:o,name:yt,ptr:nt,title:Ot,typeList:Ct}]}for(var Nt=0,bt=Rt;Nt<bt.length;Nt++){var Dt=bt[Nt];Dt.signatureType=ft,Dt.policyTbl=At,Dt.num=xt,Dt.flags=St,Tt.addMethod(Dt)}}function _nbind_value(c,e){_nbind.typeNameTbl[c]||_nbind.throwError("Unknown value type "+c),Module.NBind.bind_value(c,e),_defineHidden(_nbind.typeNameTbl[c].proto.prototype.__nbindValueConstructor)(e.prototype,"__nbindValueConstructor")}Module._nbind_value=_nbind_value;function __nbind_get_value_object(c,e){var s=_nbind.popValue(c);if(!s.fromJS)throw new Error("Object "+s+" has no fromJS function");s.fromJS(function(){s.__nbindValueConstructor.apply(this,Array.prototype.concat.apply([e],arguments))})}function _emscripten_memcpy_big(c,e,s){return HEAPU8.set(HEAPU8.subarray(e,e+s),c),c}function __nbind_register_primitive(c,e,s){var d={flags:1024|s,id:c,ptrSize:e};_nbind.makeType(_nbind.constructType,d)}var cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",ALLOC_STATIC);function ___setErrNo(c){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=c),c}function _llvm_stacksave(){var c=_llvm_stacksave;return c.LLVM_SAVEDSTACKS||(c.LLVM_SAVEDSTACKS=[]),c.LLVM_SAVEDSTACKS.push(Runtime.stackSave()),c.LLVM_SAVEDSTACKS.length-1}function ___syscall140(c,e){SYSCALLS.varargs=e;try{var s=SYSCALLS.getStreamFromFD(),d=SYSCALLS.get(),nt=SYSCALLS.get(),o=SYSCALLS.get(),ft=SYSCALLS.get(),gt=nt;return FS.llseek(s,gt,ft),HEAP32[o>>2]=s.position,s.getdents&&gt===0&&ft===0&&(s.getdents=null),0}catch(xt){return(typeof FS>"u"||!(xt instanceof FS.ErrnoError))&&abort(xt),-xt.errno}}function ___syscall146(c,e){SYSCALLS.varargs=e;try{var s=SYSCALLS.get(),d=SYSCALLS.get(),nt=SYSCALLS.get(),o=0;___syscall146.buffer||(___syscall146.buffers=[null,[],[]],___syscall146.printChar=function(Tt,At){var Ct=___syscall146.buffers[Tt];assert(Ct),At===0||At===10?((Tt===1?Module.print:Module.printErr)(UTF8ArrayToString(Ct,0)),Ct.length=0):Ct.push(At)});for(var ft=0;ft<nt;ft++){for(var gt=HEAP32[d+ft*8>>2],xt=HEAP32[d+(ft*8+4)>>2],St=0;St<xt;St++)___syscall146.printChar(s,HEAPU8[gt+St]);o+=xt}return o}catch(Tt){return(typeof FS>"u"||!(Tt instanceof FS.ErrnoError))&&abort(Tt),-Tt.errno}}function __nbind_finish(){for(var c=0,e=_nbind.BindClass.list;c<e.length;c++){var s=e[c];s.finish()}}var ___dso_handle=STATICTOP;STATICTOP+=16,function(_nbind){var typeIdTbl={};_nbind.typeNameTbl={};var Pool=function(){function c(){}return c.lalloc=function(e){e=e+7&-8;var s=HEAPU32[c.usedPtr];if(e>c.pageSize/2||e>c.pageSize-s){var d=_nbind.typeNameTbl.NBind.proto;return d.lalloc(e)}else return HEAPU32[c.usedPtr]=s+e,c.rootPtr+s},c.lreset=function(e,s){var d=HEAPU32[c.pagePtr];if(d){var nt=_nbind.typeNameTbl.NBind.proto;nt.lreset(e,s)}else HEAPU32[c.usedPtr]=e},c}();_nbind.Pool=Pool;function constructType(c,e){var s=c==10240?_nbind.makeTypeNameTbl[e.name]||_nbind.BindType:_nbind.makeTypeKindTbl[c],d=new s(e);return typeIdTbl[e.id]=d,_nbind.typeNameTbl[e.name]=d,d}_nbind.constructType=constructType;function getType(c){return typeIdTbl[c]}_nbind.getType=getType;function queryType(c){var e=HEAPU8[c],s=_nbind.structureList[e][1];c/=4,s<0&&(++c,s=HEAPU32[c]+1);var d=Array.prototype.slice.call(HEAPU32.subarray(c+1,c+1+s));return e==9&&(d=[d[0],d.slice(1)]),{paramList:d,placeholderFlag:e}}_nbind.queryType=queryType;function getTypes(c,e){return c.map(function(s){return typeof s=="number"?_nbind.getComplexType(s,constructType,getType,queryType,e):_nbind.typeNameTbl[s]})}_nbind.getTypes=getTypes;function readTypeIdList(c,e){return Array.prototype.slice.call(HEAPU32,c/4,c/4+e)}_nbind.readTypeIdList=readTypeIdList;function readAsciiString(c){for(var e=c;HEAPU8[e++];);return String.fromCharCode.apply("",HEAPU8.subarray(c,e-1))}_nbind.readAsciiString=readAsciiString;function readPolicyList(c){var e={};if(c)for(;;){var s=HEAPU32[c/4];if(!s)break;e[readAsciiString(s)]=!0,c+=4}return e}_nbind.readPolicyList=readPolicyList;function getDynCall(c,e){var s={float32_t:"d",float64_t:"d",int64_t:"d",uint64_t:"d",void:"v"},d=c.map(function(o){return s[o.name]||"i"}).join(""),nt=Module["dynCall_"+d];if(!nt)throw new Error("dynCall_"+d+" not found for "+e+"("+c.map(function(o){return o.name}).join(", ")+")");return nt}_nbind.getDynCall=getDynCall;function addMethod(c,e,s,d){var nt=c[e];c.hasOwnProperty(e)&&nt?((nt.arity||nt.arity===0)&&(nt=_nbind.makeOverloader(nt,nt.arity),c[e]=nt),nt.addMethod(s,d)):(s.arity=d,c[e]=s)}_nbind.addMethod=addMethod;function throwError(c){throw new Error(c)}_nbind.throwError=throwError,_nbind.bigEndian=!1;var _a=_typeModule(_typeModule);_nbind.Type=_a.Type,_nbind.makeType=_a.makeType,_nbind.getComplexType=_a.getComplexType,_nbind.structureList=_a.structureList;var BindType=function(c){__extends(e,c);function e(){var s=c!==null&&c.apply(this,arguments)||this;return s.heap=HEAPU32,s.ptrSize=4,s}return e.prototype.needsWireRead=function(s){return!!this.wireRead||!!this.makeWireRead},e.prototype.needsWireWrite=function(s){return!!this.wireWrite||!!this.makeWireWrite},e}(_nbind.Type);_nbind.BindType=BindType;var PrimitiveType=function(c){__extends(e,c);function e(s){var d=c.call(this,s)||this,nt=s.flags&32?{32:HEAPF32,64:HEAPF64}:s.flags&8?{8:HEAPU8,16:HEAPU16,32:HEAPU32}:{8:HEAP8,16:HEAP16,32:HEAP32};return d.heap=nt[s.ptrSize*8],d.ptrSize=s.ptrSize,d}return e.prototype.needsWireWrite=function(s){return!!s&&!!s.Strict},e.prototype.makeWireWrite=function(s,d){return d&&d.Strict&&function(nt){if(typeof nt=="number")return nt;throw new Error("Type mismatch")}},e}(BindType);_nbind.PrimitiveType=PrimitiveType;function pushCString(c,e){if(c==null){if(e&&e.Nullable)return 0;throw new Error("Type mismatch")}if(e&&e.Strict){if(typeof c!="string")throw new Error("Type mismatch")}else c=c.toString();var s=Module.lengthBytesUTF8(c)+1,d=_nbind.Pool.lalloc(s);return Module.stringToUTF8Array(c,HEAPU8,d,s),d}_nbind.pushCString=pushCString;function popCString(c){return c===0?null:Module.Pointer_stringify(c)}_nbind.popCString=popCString;var CStringType=function(c){__extends(e,c);function e(){var s=c!==null&&c.apply(this,arguments)||this;return s.wireRead=popCString,s.wireWrite=pushCString,s.readResources=[_nbind.resources.pool],s.writeResources=[_nbind.resources.pool],s}return e.prototype.makeWireWrite=function(s,d){return function(nt){return pushCString(nt,d)}},e}(BindType);_nbind.CStringType=CStringType;var BooleanType=function(c){__extends(e,c);function e(){var s=c!==null&&c.apply(this,arguments)||this;return s.wireRead=function(d){return!!d},s}return e.prototype.needsWireWrite=function(s){return!!s&&!!s.Strict},e.prototype.makeWireRead=function(s){return"!!("+s+")"},e.prototype.makeWireWrite=function(s,d){return d&&d.Strict&&function(nt){if(typeof nt=="boolean")return nt;throw new Error("Type mismatch")}||s},e}(BindType);_nbind.BooleanType=BooleanType;var Wrapper=function(){function c(){}return c.prototype.persist=function(){this.__nbindState|=1},c}();_nbind.Wrapper=Wrapper;function makeBound(c,e){var s=function(d){__extends(nt,d);function nt(o,ft,gt,xt){var St=d.call(this)||this;if(!(St instanceof nt))return new(Function.prototype.bind.apply(nt,Array.prototype.concat.apply([null],arguments)));var Tt=ft,At=gt,Ct=xt;if(o!==_nbind.ptrMarker){var Rt=St.__nbindConstructor.apply(St,arguments);Tt=4608,Ct=HEAPU32[Rt/4],At=HEAPU32[Rt/4+1]}var yt={configurable:!0,enumerable:!1,value:null,writable:!1},Ot={__nbindFlags:Tt,__nbindPtr:At};Ct&&(Ot.__nbindShared=Ct,_nbind.mark(St));for(var Nt=0,bt=Object.keys(Ot);Nt<bt.length;Nt++){var Dt=bt[Nt];yt.value=Ot[Dt],Object.defineProperty(St,Dt,yt)}return _defineHidden(0)(St,"__nbindState"),St}return nt.prototype.free=function(){e.destroy.call(this,this.__nbindShared,this.__nbindFlags),this.__nbindState|=2,disableMember(this,"__nbindShared"),disableMember(this,"__nbindPtr")},nt}(Wrapper);return __decorate([_defineHidden()],s.prototype,"__nbindConstructor",void 0),__decorate([_defineHidden()],s.prototype,"__nbindValueConstructor",void 0),__decorate([_defineHidden(c)],s.prototype,"__nbindPolicies",void 0),s}_nbind.makeBound=makeBound;function disableMember(c,e){function s(){throw new Error("Accessing deleted object")}Object.defineProperty(c,e,{configurable:!1,enumerable:!1,get:s,set:s})}_nbind.ptrMarker={};var BindClass=function(c){__extends(e,c);function e(s){var d=c.call(this,s)||this;return d.wireRead=function(nt){return _nbind.popValue(nt,d.ptrType)},d.wireWrite=function(nt){return pushPointer(nt,d.ptrType,!0)},d.pendingSuperCount=0,d.ready=!1,d.methodTbl={},s.paramList?(d.classType=s.paramList[0].classType,d.proto=d.classType.proto):d.classType=d,d}return e.prototype.makeBound=function(s){var d=_nbind.makeBound(s,this);return this.proto=d,this.ptrType.proto=d,d},e.prototype.addMethod=function(s){var d=this.methodTbl[s.name]||[];d.push(s),this.methodTbl[s.name]=d},e.prototype.registerMethods=function(s,d){for(var nt,o=0,ft=Object.keys(s.methodTbl);o<ft.length;o++)for(var gt=ft[o],xt=s.methodTbl[gt],St=0,Tt=xt;St<Tt.length;St++){var At=Tt[St],Ct=void 0,Rt=void 0;if(Ct=this.proto.prototype,!(d&&At.signatureType!=1))switch(At.signatureType){case 1:Ct=this.proto;case 5:Rt=_nbind.makeCaller(At),_nbind.addMethod(Ct,At.name,Rt,At.typeList.length-1);break;case 4:nt=_nbind.makeMethodCaller(s.ptrType,At);break;case 3:Object.defineProperty(Ct,At.name,{configurable:!0,enumerable:!1,get:_nbind.makeMethodCaller(s.ptrType,At),set:nt});break;case 2:Rt=_nbind.makeMethodCaller(s.ptrType,At),_nbind.addMethod(Ct,At.name,Rt,At.typeList.length-1);break}}},e.prototype.registerSuperMethods=function(s,d,nt){if(!nt[s.name]){nt[s.name]=!0;for(var o=0,ft,gt=0,xt=s.superIdList||[];gt<xt.length;gt++){var St=xt[gt],Tt=_nbind.getType(St);o++<d||d<0?ft=-1:ft=0,this.registerSuperMethods(Tt,ft,nt)}this.registerMethods(s,d<0)}},e.prototype.finish=function(){if(this.ready)return this;this.ready=!0,this.superList=(this.superIdList||[]).map(function(nt){return _nbind.getType(nt).finish()});var s=this.proto;if(this.superList.length){var d=function(){this.constructor=s};d.prototype=this.superList[0].proto.prototype,s.prototype=new d}return s!=Module&&(s.prototype.__nbindType=this),this.registerSuperMethods(this,1,{}),this},e.prototype.upcastStep=function(s,d){if(s==this)return d;for(var nt=0;nt<this.superList.length;++nt){var o=this.superList[nt].upcastStep(s,_nbind.callUpcast(this.upcastList[nt],d));if(o)return o}return 0},e}(_nbind.BindType);BindClass.list=[],_nbind.BindClass=BindClass;function popPointer(c,e){return c?new e.proto(_nbind.ptrMarker,e.flags,c):null}_nbind.popPointer=popPointer;function pushPointer(c,e,s){if(!(c instanceof _nbind.Wrapper)){if(s)return _nbind.pushValue(c);throw new Error("Type mismatch")}var d=c.__nbindPtr,nt=c.__nbindType.classType,o=e.classType;if(c instanceof e.proto)for(;nt!=o;)d=_nbind.callUpcast(nt.upcastList[0],d),nt=nt.superList[0];else if(d=nt.upcastStep(o,d),!d)throw new Error("Type mismatch");return d}_nbind.pushPointer=pushPointer;function pushMutablePointer(c,e){var s=pushPointer(c,e);if(c.__nbindFlags&1)throw new Error("Passing a const value as a non-const argument");return s}var BindClassPtr=function(c){__extends(e,c);function e(s){var d=c.call(this,s)||this;d.classType=s.paramList[0].classType,d.proto=d.classType.proto;var nt=s.flags&1,o=(d.flags&896)==256&&s.flags&2,ft=nt?pushPointer:pushMutablePointer,gt=o?_nbind.popValue:popPointer;return d.makeWireWrite=function(xt,St){return St.Nullable?function(Tt){return Tt?ft(Tt,d):0}:function(Tt){return ft(Tt,d)}},d.wireRead=function(xt){return gt(xt,d)},d.wireWrite=function(xt){return ft(xt,d)},d}return e}(_nbind.BindType);_nbind.BindClassPtr=BindClassPtr;function popShared(c,e){var s=HEAPU32[c/4],d=HEAPU32[c/4+1];return d?new e.proto(_nbind.ptrMarker,e.flags,d,s):null}_nbind.popShared=popShared;function pushShared(c,e){if(!(c instanceof e.proto))throw new Error("Type mismatch");return c.__nbindShared}function pushMutableShared(c,e){if(!(c instanceof e.proto))throw new Error("Type mismatch");if(c.__nbindFlags&1)throw new Error("Passing a const value as a non-const argument");return c.__nbindShared}var SharedClassPtr=function(c){__extends(e,c);function e(s){var d=c.call(this,s)||this;d.readResources=[_nbind.resources.pool],d.classType=s.paramList[0].classType,d.proto=d.classType.proto;var nt=s.flags&1,o=nt?pushShared:pushMutableShared;return d.wireRead=function(ft){return popShared(ft,d)},d.wireWrite=function(ft){return o(ft,d)},d}return e}(_nbind.BindType);_nbind.SharedClassPtr=SharedClassPtr,_nbind.externalList=[0];var firstFreeExternal=0,External=function(){function c(e){this.refCount=1,this.data=e}return c.prototype.register=function(){var e=firstFreeExternal;return e?firstFreeExternal=_nbind.externalList[e]:e=_nbind.externalList.length,_nbind.externalList[e]=this,e},c.prototype.reference=function(){++this.refCount},c.prototype.dereference=function(e){--this.refCount==0&&(this.free&&this.free(),_nbind.externalList[e]=firstFreeExternal,firstFreeExternal=e)},c}();_nbind.External=External;function popExternal(c){var e=_nbind.externalList[c];return e.dereference(c),e.data}function pushExternal(c){var e=new External(c);return e.reference(),e.register()}var ExternalType=function(c){__extends(e,c);function e(){var s=c!==null&&c.apply(this,arguments)||this;return s.wireRead=popExternal,s.wireWrite=pushExternal,s}return e}(_nbind.BindType);_nbind.ExternalType=ExternalType,_nbind.callbackSignatureList=[];var CallbackType=function(c){__extends(e,c);function e(){var s=c!==null&&c.apply(this,arguments)||this;return s.wireWrite=function(d){return typeof d!="function"&&_nbind.throwError("Type mismatch"),new _nbind.External(d).register()},s}return e}(_nbind.BindType);_nbind.CallbackType=CallbackType,_nbind.valueList=[0];var firstFreeValue=0;function pushValue(c){var e=firstFreeValue;return e?firstFreeValue=_nbind.valueList[e]:e=_nbind.valueList.length,_nbind.valueList[e]=c,e*2+1}_nbind.pushValue=pushValue;function popValue(c,e){if(c||_nbind.throwError("Value type JavaScript class is missing or not registered"),c&1){c>>=1;var s=_nbind.valueList[c];return _nbind.valueList[c]=firstFreeValue,firstFreeValue=c,s}else{if(e)return _nbind.popShared(c,e);throw new Error("Invalid value slot "+c)}}_nbind.popValue=popValue;var valueBase=18446744073709552e3;function push64(c){return typeof c=="number"?c:pushValue(c)*4096+valueBase}function pop64(c){return c<valueBase?c:popValue((c-valueBase)/4096)}var CreateValueType=function(c){__extends(e,c);function e(){return c!==null&&c.apply(this,arguments)||this}return e.prototype.makeWireWrite=function(s){return"(_nbind.pushValue(new "+s+"))"},e}(_nbind.BindType);_nbind.CreateValueType=CreateValueType;var Int64Type=function(c){__extends(e,c);function e(){var s=c!==null&&c.apply(this,arguments)||this;return s.wireWrite=push64,s.wireRead=pop64,s}return e}(_nbind.BindType);_nbind.Int64Type=Int64Type;function pushArray(c,e){if(!c)return 0;var s=c.length;if((e.size||e.size===0)&&s<e.size)throw new Error("Type mismatch");var d=e.memberType.ptrSize,nt=_nbind.Pool.lalloc(4+s*d);HEAPU32[nt/4]=s;var o=e.memberType.heap,ft=(nt+4)/d,gt=e.memberType.wireWrite,xt=0;if(gt)for(;xt<s;)o[ft++]=gt(c[xt++]);else for(;xt<s;)o[ft++]=c[xt++];return nt}_nbind.pushArray=pushArray;function popArray(c,e){if(c===0)return null;var s=HEAPU32[c/4],d=new Array(s),nt=e.memberType.heap;c=(c+4)/e.memberType.ptrSize;var o=e.memberType.wireRead,ft=0;if(o)for(;ft<s;)d[ft++]=o(nt[c++]);else for(;ft<s;)d[ft++]=nt[c++];return d}_nbind.popArray=popArray;var ArrayType=function(c){__extends(e,c);function e(s){var d=c.call(this,s)||this;return d.wireRead=function(nt){return popArray(nt,d)},d.wireWrite=function(nt){return pushArray(nt,d)},d.readResources=[_nbind.resources.pool],d.writeResources=[_nbind.resources.pool],d.memberType=s.paramList[0],s.paramList[1]&&(d.size=s.paramList[1]),d}return e}(_nbind.BindType);_nbind.ArrayType=ArrayType;function pushString(c,e){if(c==null)if(e&&e.Nullable)c="";else throw new Error("Type mismatch");if(e&&e.Strict){if(typeof c!="string")throw new Error("Type mismatch")}else c=c.toString();var s=Module.lengthBytesUTF8(c),d=_nbind.Pool.lalloc(4+s+1);return HEAPU32[d/4]=s,Module.stringToUTF8Array(c,HEAPU8,d+4,s+1),d}_nbind.pushString=pushString;function popString(c){if(c===0)return null;var e=HEAPU32[c/4];return Module.Pointer_stringify(c+4,e)}_nbind.popString=popString;var StringType=function(c){__extends(e,c);function e(){var s=c!==null&&c.apply(this,arguments)||this;return s.wireRead=popString,s.wireWrite=pushString,s.readResources=[_nbind.resources.pool],s.writeResources=[_nbind.resources.pool],s}return e.prototype.makeWireWrite=function(s,d){return function(nt){return pushString(nt,d)}},e}(_nbind.BindType);_nbind.StringType=StringType;function makeArgList(c){return Array.apply(null,Array(c)).map(function(e,s){return"a"+(s+1)})}function anyNeedsWireWrite(c,e){return c.reduce(function(s,d){return s||d.needsWireWrite(e)},!1)}function anyNeedsWireRead(c,e){return c.reduce(function(s,d){return s||!!d.needsWireRead(e)},!1)}function makeWireRead(c,e,s,d){var nt=c.length;return s.makeWireRead?s.makeWireRead(d,c,nt):s.wireRead?(c[nt]=s.wireRead,"(convertParamList["+nt+"]("+d+"))"):d}function makeWireWrite(c,e,s,d){var nt,o=c.length;return s.makeWireWrite?nt=s.makeWireWrite(d,e,c,o):nt=s.wireWrite,nt?typeof nt=="string"?nt:(c[o]=nt,"(convertParamList["+o+"]("+d+"))"):d}function buildCallerFunction(dynCall,ptrType,ptr,num,policyTbl,needsWireWrite,prefix,returnType,argTypeList,mask,err){var argList=makeArgList(argTypeList.length),convertParamList=[],callExpression=makeWireRead(convertParamList,policyTbl,returnType,"dynCall("+[prefix].concat(argList.map(function(c,e){return makeWireWrite(convertParamList,policyTbl,argTypeList[e],c)})).join(",")+")"),resourceSet=_nbind.listResources([returnType],argTypeList),sourceCode="function("+argList.join(",")+"){"+(mask?"this.__nbindFlags&mask&&err();":"")+resourceSet.makeOpen()+"var r="+callExpression+";"+resourceSet.makeClose()+"return r;}";return eval("("+sourceCode+")")}function buildJSCallerFunction(returnType,argTypeList){var argList=makeArgList(argTypeList.length),convertParamList=[],callExpression=makeWireWrite(convertParamList,null,returnType,"_nbind.externalList[num].data("+argList.map(function(c,e){return makeWireRead(convertParamList,null,argTypeList[e],c)}).join(",")+")"),resourceSet=_nbind.listResources(argTypeList,[returnType]);resourceSet.remove(_nbind.resources.pool);var sourceCode="function("+["dummy","num"].concat(argList).join(",")+"){"+resourceSet.makeOpen()+"var r="+callExpression+";"+resourceSet.makeClose()+"return r;}";return eval("("+sourceCode+")")}_nbind.buildJSCallerFunction=buildJSCallerFunction;function makeJSCaller(c){var e=c.length-1,s=_nbind.getTypes(c,"callback"),d=s[0],nt=s.slice(1),o=anyNeedsWireRead(nt,null),ft=d.needsWireWrite(null);if(!ft&&!o)switch(e){case 0:return function(gt,xt){return _nbind.externalList[xt].data()};case 1:return function(gt,xt,St){return _nbind.externalList[xt].data(St)};case 2:return function(gt,xt,St,Tt){return _nbind.externalList[xt].data(St,Tt)};case 3:return function(gt,xt,St,Tt,At){return _nbind.externalList[xt].data(St,Tt,At)}}return buildJSCallerFunction(d,nt)}_nbind.makeJSCaller=makeJSCaller;function makeMethodCaller(c,e){var s=e.typeList.length-1,d=e.typeList.slice(0);d.splice(1,0,"uint32_t",e.boundID);var nt=_nbind.getTypes(d,e.title),o=nt[0],ft=nt.slice(3),gt=o.needsWireRead(e.policyTbl),xt=anyNeedsWireWrite(ft,e.policyTbl),St=e.ptr,Tt=e.num,At=_nbind.getDynCall(nt,e.title),Ct=~e.flags&1;function Rt(){throw new Error("Calling a non-const method on a const object")}if(!gt&&!xt)switch(s){case 0:return function(){return this.__nbindFlags&Ct?Rt():At(St,Tt,_nbind.pushPointer(this,c))};case 1:return function(yt){return this.__nbindFlags&Ct?Rt():At(St,Tt,_nbind.pushPointer(this,c),yt)};case 2:return function(yt,Ot){return this.__nbindFlags&Ct?Rt():At(St,Tt,_nbind.pushPointer(this,c),yt,Ot)};case 3:return function(yt,Ot,Nt){return this.__nbindFlags&Ct?Rt():At(St,Tt,_nbind.pushPointer(this,c),yt,Ot,Nt)}}return buildCallerFunction(At,c,St,Tt,e.policyTbl,xt,"ptr,num,pushPointer(this,ptrType)",o,ft,Ct)}_nbind.makeMethodCaller=makeMethodCaller;function makeCaller(c){var e=c.typeList.length-1,s=_nbind.getTypes(c.typeList,c.title),d=s[0],nt=s.slice(1),o=d.needsWireRead(c.policyTbl),ft=anyNeedsWireWrite(nt,c.policyTbl),gt=c.direct,xt=c.ptr;if(c.direct&&!o&&!ft){var St=_nbind.getDynCall(s,c.title);switch(e){case 0:return function(){return St(gt)};case 1:return function(Rt){return St(gt,Rt)};case 2:return function(Rt,yt){return St(gt,Rt,yt)};case 3:return function(Rt,yt,Ot){return St(gt,Rt,yt,Ot)}}xt=0}var Tt;if(xt){var At=c.typeList.slice(0);At.splice(1,0,"uint32_t"),s=_nbind.getTypes(At,c.title),Tt="ptr,num"}else xt=gt,Tt="ptr";var Ct=_nbind.getDynCall(s,c.title);return buildCallerFunction(Ct,null,xt,c.num,c.policyTbl,ft,Tt,d,nt)}_nbind.makeCaller=makeCaller;function makeOverloader(c,e){var s=[];function d(){return s[arguments.length].apply(this,arguments)}return d.addMethod=function(nt,o){s[o]=nt},d.addMethod(c,e),d}_nbind.makeOverloader=makeOverloader;var Resource=function(){function c(e,s){var d=this;this.makeOpen=function(){return Object.keys(d.openTbl).join("")},this.makeClose=function(){return Object.keys(d.closeTbl).join("")},this.openTbl={},this.closeTbl={},e&&(this.openTbl[e]=!0),s&&(this.closeTbl[s]=!0)}return c.prototype.add=function(e){for(var s=0,d=Object.keys(e.openTbl);s<d.length;s++){var nt=d[s];this.openTbl[nt]=!0}for(var o=0,ft=Object.keys(e.closeTbl);o<ft.length;o++){var nt=ft[o];this.closeTbl[nt]=!0}},c.prototype.remove=function(e){for(var s=0,d=Object.keys(e.openTbl);s<d.length;s++){var nt=d[s];delete this.openTbl[nt]}for(var o=0,ft=Object.keys(e.closeTbl);o<ft.length;o++){var nt=ft[o];delete this.closeTbl[nt]}},c}();_nbind.Resource=Resource;function listResources(c,e){for(var s=new Resource,d=0,nt=c;d<nt.length;d++)for(var o=nt[d],ft=0,gt=o.readResources||[];ft<gt.length;ft++){var xt=gt[ft];s.add(xt)}for(var St=0,Tt=e;St<Tt.length;St++)for(var o=Tt[St],At=0,Ct=o.writeResources||[];At<Ct.length;At++){var xt=Ct[At];s.add(xt)}return s}_nbind.listResources=listResources,_nbind.resources={pool:new Resource("var used=HEAPU32[_nbind.Pool.usedPtr],page=HEAPU32[_nbind.Pool.pagePtr];","_nbind.Pool.lreset(used,page);")};var ExternalBuffer=function(c){__extends(e,c);function e(s,d){var nt=c.call(this,s)||this;return nt.ptr=d,nt}return e.prototype.free=function(){_free(this.ptr)},e}(_nbind.External);function getBuffer(c){return c instanceof ArrayBuffer?new Uint8Array(c):c instanceof DataView?new Uint8Array(c.buffer,c.byteOffset,c.byteLength):c}function pushBuffer(c,e){if(c==null&&e&&e.Nullable&&(c=[]),typeof c!="object")throw new Error("Type mismatch");var s=c,d=s.byteLength||s.length;if(!d&&d!==0&&s.byteLength!==0)throw new Error("Type mismatch");var nt=_nbind.Pool.lalloc(8),o=_malloc(d),ft=nt/4;return HEAPU32[ft++]=d,HEAPU32[ft++]=o,HEAPU32[ft++]=new ExternalBuffer(c,o).register(),HEAPU8.set(getBuffer(c),o),nt}var BufferType=function(c){__extends(e,c);function e(){var s=c!==null&&c.apply(this,arguments)||this;return s.wireWrite=pushBuffer,s.readResources=[_nbind.resources.pool],s.writeResources=[_nbind.resources.pool],s}return e.prototype.makeWireWrite=function(s,d){return function(nt){return pushBuffer(nt,d)}},e}(_nbind.BindType);_nbind.BufferType=BufferType;function commitBuffer(c,e,s){var d=_nbind.externalList[c].data,nt=Buffer;if(typeof Buffer!="function"&&(nt=function(){}),!(d instanceof Array)){var o=HEAPU8.subarray(e,e+s);if(d instanceof nt){var ft=void 0;typeof Buffer.from=="function"&&Buffer.from.length>=3,ft=Buffer.from(o),ft.copy(d)}else getBuffer(d).set(o)}}_nbind.commitBuffer=commitBuffer;var dirtyList=[],gcTimer=0;function sweep(){for(var c=0,e=dirtyList;c<e.length;c++){var s=e[c];s.__nbindState&3||s.free()}dirtyList=[],gcTimer=0}_nbind.mark=function(c){};function toggleLightGC(c){c?_nbind.mark=function(e){dirtyList.push(e),gcTimer||(gcTimer=setTimeout(sweep,0))}:_nbind.mark=function(e){}}_nbind.toggleLightGC=toggleLightGC}(_nbind),Module.requestFullScreen=function c(e,s,d){Module.printErr("Module.requestFullScreen is deprecated. Please call Module.requestFullscreen instead."),Module.requestFullScreen=Module.requestFullscreen,Browser.requestFullScreen(e,s,d)},Module.requestFullscreen=function c(e,s,d){Browser.requestFullscreen(e,s,d)},Module.requestAnimationFrame=function c(e){Browser.requestAnimationFrame(e)},Module.setCanvasSize=function c(e,s,d){Browser.setCanvasSize(e,s,d)},Module.pauseMainLoop=function c(){Browser.mainLoop.pause()},Module.resumeMainLoop=function c(){Browser.mainLoop.resume()},Module.getUserMedia=function c(){Browser.getUserMedia()},Module.createContext=function c(e,s,d,nt){return Browser.createContext(e,s,d,nt)},ENVIRONMENT_IS_NODE?_emscripten_get_now=function(){var e=process.hrtime();return e[0]*1e3+e[1]/1e6}:typeof dateNow<"u"?_emscripten_get_now=dateNow:typeof self=="object"&&self.performance&&typeof self.performance.now=="function"?_emscripten_get_now=function(){return self.performance.now()}:typeof performance=="object"&&typeof performance.now=="function"?_emscripten_get_now=function(){return performance.now()}:_emscripten_get_now=Date.now,__ATEXIT__.push(function(){var c=Module._fflush;c&&c(0);var e=___syscall146.printChar;if(e){var s=___syscall146.buffers;s[1].length&&e(1,10),s[2].length&&e(2,10)}}),DYNAMICTOP_PTR=allocate(1,"i32",ALLOC_STATIC),STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=Runtime.alignMemory(STACK_MAX),HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE,staticSealed=!0;function invoke_viiiii(c,e,s,d,nt,o){try{Module.dynCall_viiiii(c,e,s,d,nt,o)}catch(ft){if(typeof ft!="number"&&ft!=="longjmp")throw ft;Module.setThrew(1,0)}}function invoke_vif(c,e,s){try{Module.dynCall_vif(c,e,s)}catch(d){if(typeof d!="number"&&d!=="longjmp")throw d;Module.setThrew(1,0)}}function invoke_vid(c,e,s){try{Module.dynCall_vid(c,e,s)}catch(d){if(typeof d!="number"&&d!=="longjmp")throw d;Module.setThrew(1,0)}}function invoke_fiff(c,e,s,d){try{return Module.dynCall_fiff(c,e,s,d)}catch(nt){if(typeof nt!="number"&&nt!=="longjmp")throw nt;Module.setThrew(1,0)}}function invoke_vi(c,e){try{Module.dynCall_vi(c,e)}catch(s){if(typeof s!="number"&&s!=="longjmp")throw s;Module.setThrew(1,0)}}function invoke_vii(c,e,s){try{Module.dynCall_vii(c,e,s)}catch(d){if(typeof d!="number"&&d!=="longjmp")throw d;Module.setThrew(1,0)}}function invoke_ii(c,e){try{return Module.dynCall_ii(c,e)}catch(s){if(typeof s!="number"&&s!=="longjmp")throw s;Module.setThrew(1,0)}}function invoke_viddi(c,e,s,d,nt){try{Module.dynCall_viddi(c,e,s,d,nt)}catch(o){if(typeof o!="number"&&o!=="longjmp")throw o;Module.setThrew(1,0)}}function invoke_vidd(c,e,s,d){try{Module.dynCall_vidd(c,e,s,d)}catch(nt){if(typeof nt!="number"&&nt!=="longjmp")throw nt;Module.setThrew(1,0)}}function invoke_iiii(c,e,s,d){try{return Module.dynCall_iiii(c,e,s,d)}catch(nt){if(typeof nt!="number"&&nt!=="longjmp")throw nt;Module.setThrew(1,0)}}function invoke_diii(c,e,s,d){try{return Module.dynCall_diii(c,e,s,d)}catch(nt){if(typeof nt!="number"&&nt!=="longjmp")throw nt;Module.setThrew(1,0)}}function invoke_di(c,e){try{return Module.dynCall_di(c,e)}catch(s){if(typeof s!="number"&&s!=="longjmp")throw s;Module.setThrew(1,0)}}function invoke_iid(c,e,s){try{return Module.dynCall_iid(c,e,s)}catch(d){if(typeof d!="number"&&d!=="longjmp")throw d;Module.setThrew(1,0)}}function invoke_iii(c,e,s){try{return Module.dynCall_iii(c,e,s)}catch(d){if(typeof d!="number"&&d!=="longjmp")throw d;Module.setThrew(1,0)}}function invoke_viiddi(c,e,s,d,nt,o){try{Module.dynCall_viiddi(c,e,s,d,nt,o)}catch(ft){if(typeof ft!="number"&&ft!=="longjmp")throw ft;Module.setThrew(1,0)}}function invoke_viiiiii(c,e,s,d,nt,o,ft){try{Module.dynCall_viiiiii(c,e,s,d,nt,o,ft)}catch(gt){if(typeof gt!="number"&&gt!=="longjmp")throw gt;Module.setThrew(1,0)}}function invoke_dii(c,e,s){try{return Module.dynCall_dii(c,e,s)}catch(d){if(typeof d!="number"&&d!=="longjmp")throw d;Module.setThrew(1,0)}}function invoke_i(c){try{return Module.dynCall_i(c)}catch(e){if(typeof e!="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_iiiiii(c,e,s,d,nt,o){try{return Module.dynCall_iiiiii(c,e,s,d,nt,o)}catch(ft){if(typeof ft!="number"&&ft!=="longjmp")throw ft;Module.setThrew(1,0)}}function invoke_viiid(c,e,s,d,nt){try{Module.dynCall_viiid(c,e,s,d,nt)}catch(o){if(typeof o!="number"&&o!=="longjmp")throw o;Module.setThrew(1,0)}}function invoke_viififi(c,e,s,d,nt,o,ft){try{Module.dynCall_viififi(c,e,s,d,nt,o,ft)}catch(gt){if(typeof gt!="number"&&gt!=="longjmp")throw gt;Module.setThrew(1,0)}}function invoke_viii(c,e,s,d){try{Module.dynCall_viii(c,e,s,d)}catch(nt){if(typeof nt!="number"&&nt!=="longjmp")throw nt;Module.setThrew(1,0)}}function invoke_v(c){try{Module.dynCall_v(c)}catch(e){if(typeof e!="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_viid(c,e,s,d){try{Module.dynCall_viid(c,e,s,d)}catch(nt){if(typeof nt!="number"&&nt!=="longjmp")throw nt;Module.setThrew(1,0)}}function invoke_idd(c,e,s){try{return Module.dynCall_idd(c,e,s)}catch(d){if(typeof d!="number"&&d!=="longjmp")throw d;Module.setThrew(1,0)}}function invoke_viiii(c,e,s,d,nt){try{Module.dynCall_viiii(c,e,s,d,nt)}catch(o){if(typeof o!="number"&&o!=="longjmp")throw o;Module.setThrew(1,0)}}Module.asmGlobalArg={Math,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Float32Array,Float64Array,NaN:NaN,Infinity:1/0},Module.asmLibraryArg={abort,assert,enlargeMemory,getTotalMemory,abortOnCannotGrowMemory,invoke_viiiii,invoke_vif,invoke_vid,invoke_fiff,invoke_vi,invoke_vii,invoke_ii,invoke_viddi,invoke_vidd,invoke_iiii,invoke_diii,invoke_di,invoke_iid,invoke_iii,invoke_viiddi,invoke_viiiiii,invoke_dii,invoke_i,invoke_iiiiii,invoke_viiid,invoke_viififi,invoke_viii,invoke_v,invoke_viid,invoke_idd,invoke_viiii,_emscripten_asm_const_iiiii,_emscripten_asm_const_iiidddddd,_emscripten_asm_const_iiiid,__nbind_reference_external,_emscripten_asm_const_iiiiiiii,_removeAccessorPrefix,_typeModule,__nbind_register_pool,__decorate,_llvm_stackrestore,___cxa_atexit,__extends,__nbind_get_value_object,__ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj,_emscripten_set_main_loop_timing,__nbind_register_primitive,__nbind_register_type,_emscripten_memcpy_big,__nbind_register_function,___setErrNo,__nbind_register_class,__nbind_finish,_abort,_nbind_value,_llvm_stacksave,___syscall54,_defineHidden,_emscripten_set_main_loop,_emscripten_get_now,__nbind_register_callback_signature,_emscripten_asm_const_iiiiii,__nbind_free_external,_emscripten_asm_const_iiii,_emscripten_asm_const_iiididi,___syscall6,_atexit,___syscall140,___syscall146,DYNAMICTOP_PTR,tempDoublePtr,ABORT,STACKTOP,STACK_MAX,cttz_i8,___dso_handle};var asm=function(c,e,s){var d=new c.Int8Array(s),nt=new c.Int16Array(s),o=new c.Int32Array(s),ft=new c.Uint8Array(s),gt=new c.Uint16Array(s),xt=new c.Uint32Array(s),St=new c.Float32Array(s),Tt=new c.Float64Array(s),At=e.DYNAMICTOP_PTR|0,Ct=e.tempDoublePtr|0,Rt=e.ABORT|0,yt=e.STACKTOP|0,Ot=e.STACK_MAX|0,Nt=e.cttz_i8|0,bt=e.___dso_handle|0,Dt=0,Ft=0,Ut=0,Wt=0,Gt=c.NaN,Xt=c.Infinity,Yt=0,Kt=0,jt=0,Jt=0,fn=0,sn=0,wn=c.Math.floor,Mn=c.Math.abs,Tn=c.Math.sqrt,kn=c.Math.pow,rn=c.Math.cos,un=c.Math.sin,pn=c.Math.tan,Rn=c.Math.acos,zn=c.Math.asin,ir=c.Math.atan,An=c.Math.atan2,jn=c.Math.exp,or=c.Math.log,er=c.Math.ceil,gr=c.Math.imul,kr=c.Math.min,dr=c.Math.max,mr=c.Math.clz32,It=c.Math.fround,Zn=e.abort,nn=e.assert,nr=e.enlargeMemory,Kn=e.getTotalMemory,Yn=e.abortOnCannotGrowMemory,Dn=e.invoke_viiiii,vr=e.invoke_vif,Xn=e.invoke_vid,tn=e.invoke_fiff,Qt=e.invoke_vi,hn=e.invoke_vii,Pn=e.invoke_ii,Gn=e.invoke_viddi,yn=e.invoke_vidd,Jn=e.invoke_iiii,$n=e.invoke_diii,fr=e.invoke_di,Lr=e.invoke_iid,Qn=e.invoke_iii,tr=e.invoke_viiddi,rr=e.invoke_viiiiii,Or=e.invoke_dii,wr=e.invoke_i,cn=e.invoke_iiiiii,Hn=e.invoke_viiid,lr=e.invoke_viififi,an=e.invoke_viii,sr=e.invoke_v,Ln=e.invoke_viid,Wn=e.invoke_idd,yr=e.invoke_viiii,hr=e._emscripten_asm_const_iiiii,zr=e._emscripten_asm_const_iiidddddd,io=e._emscripten_asm_const_iiiid,_o=e.__nbind_reference_external,Jr=e._emscripten_asm_const_iiiiiiii,Mo=e._removeAccessorPrefix,Ao=e._typeModule,Fs=e.__nbind_register_pool,Ru=e.__decorate,_s=e._llvm_stackrestore,Fr=e.___cxa_atexit,Gl=e.__extends,cs=e.__nbind_get_value_object,wl=e.__ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj,bu=e._emscripten_set_main_loop_timing,au=e.__nbind_register_primitive,lu=e.__nbind_register_type,vp=e._emscripten_memcpy_big,c0=e.__nbind_register_function,_p=e.___setErrNo,yp=e.__nbind_register_class,dm=e.__nbind_finish,eo=e._abort,y1=e._nbind_value,en=e._llvm_stacksave,Sn=e.___syscall54,Nn=e._defineHidden,On=e._emscripten_set_main_loop,En=e._emscripten_get_now,ar=e.__nbind_register_callback_signature,_r=e._emscripten_asm_const_iiiiii,Pr=e.__nbind_free_external,Ir=e._emscripten_asm_const_iiii,qr=e._emscripten_asm_const_iiididi,Wr=e.___syscall6,xr=e._atexit,Ur=e.___syscall140,lo=e.___syscall146,go=It(0);const Bn=It(0);function uo(a){a=a|0;var tt=0;return tt=yt,yt=yt+a|0,yt=yt+15&-16,tt|0}function $r(){return yt|0}function xo(a){a=a|0,yt=a}function yo(a,tt){a=a|0,tt=tt|0,yt=a,Ot=tt}function ys(a,tt){a=a|0,tt=tt|0,Dt||(Dt=a,Ft=tt)}function Hl(a){a=a|0,sn=a}function Ho(){return sn|0}function uu(){var a=0,tt=0;Kr(8104,8,400)|0,Kr(8504,408,540)|0,a=9044,tt=a+44|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));d[9088]=0,d[9089]=1,o[2273]=0,o[2274]=948,o[2275]=948,Fr(17,8104,bt|0)|0}function vo(a){a=a|0,G2(a+948|0)}function cr(a){return a=It(a),((z1(a)|0)&2147483647)>>>0>2139095040|0}function Co(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;e:do if(o[a+(tt<<3)+4>>2]|0)a=a+(tt<<3)|0;else{if((tt|2|0)==3&&o[a+60>>2]|0){a=a+56|0;break}switch(tt|0){case 0:case 2:case 4:case 5:{if(o[a+52>>2]|0){a=a+48|0;break e}break}default:}if(o[a+68>>2]|0){a=a+64|0;break}else{a=(tt|1|0)==5?948:ot;break}}while(0);return a|0}function Wo(a){a=a|0;var tt=0;return tt=I2(1e3)|0,Do(a,(tt|0)!=0,2456),o[2276]=(o[2276]|0)+1,Kr(tt|0,8104,1e3)|0,d[a+2>>0]|0&&(o[tt+4>>2]=2,o[tt+12>>2]=4),o[tt+976>>2]=a,tt|0}function Do(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0;vt=yt,yt=yt+16|0,ht=vt,tt||(o[ht>>2]=ot,bm(a,5,3197,ht)),yt=vt}function cu(){return Wo(956)|0}function xs(a){a=a|0;var tt=0;return tt=Ar(1e3)|0,xp(tt,a),Do(o[a+976>>2]|0,1,2456),o[2276]=(o[2276]|0)+1,o[tt+944>>2]=0,tt|0}function xp(a,tt){a=a|0,tt=tt|0;var ot=0;Kr(a|0,tt|0,948)|0,Ql(a+948|0,tt+948|0),ot=a+960|0,a=tt+960|0,tt=ot+40|0;do o[ot>>2]=o[a>>2],ot=ot+4|0,a=a+4|0;while((ot|0)<(tt|0))}function U2(a){a=a|0;var tt=0,ot=0,ht=0,vt=0;if(tt=a+944|0,ot=o[tt>>2]|0,ot|0&&(x1(ot+948|0,a)|0,o[tt>>2]=0),ot=Qs(a)|0,ot|0){tt=0;do o[(Zs(a,tt)|0)+944>>2]=0,tt=tt+1|0;while((tt|0)!=(ot|0))}ot=a+948|0,ht=o[ot>>2]|0,vt=a+952|0,tt=o[vt>>2]|0,(tt|0)!=(ht|0)&&(o[vt>>2]=tt+(~((tt+-4-ht|0)>>>2)<<2)),f0(ot),k2(a),o[2276]=(o[2276]|0)+-1}function x1(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0;ht=o[a>>2]|0,Pt=a+4|0,ot=o[Pt>>2]|0,_t=ot;e:do if((ht|0)==(ot|0))vt=ht,wt=4;else for(a=ht;;){if((o[a>>2]|0)==(tt|0)){vt=a,wt=4;break e}if(a=a+4|0,(a|0)==(ot|0)){a=0;break}}while(0);return(wt|0)==4&&((vt|0)!=(ot|0)?(ht=vt+4|0,a=_t-ht|0,tt=a>>2,tt&&(p1(vt|0,ht|0,a|0)|0,ot=o[Pt>>2]|0),a=vt+(tt<<2)|0,(ot|0)==(a|0)||(o[Pt>>2]=ot+(~((ot+-4-a|0)>>>2)<<2)),a=1):a=0),a|0}function Qs(a){return a=a|0,(o[a+952>>2]|0)-(o[a+948>>2]|0)>>2|0}function Zs(a,tt){a=a|0,tt=tt|0;var ot=0;return ot=o[a+948>>2]|0,(o[a+952>>2]|0)-ot>>2>>>0>tt>>>0?a=o[ot+(tt<<2)>>2]|0:a=0,a|0}function f0(a){a=a|0;var tt=0,ot=0,ht=0,vt=0;ht=yt,yt=yt+32|0,tt=ht,vt=o[a>>2]|0,ot=(o[a+4>>2]|0)-vt|0,((o[a+8>>2]|0)-vt|0)>>>0>ot>>>0&&(vt=ot>>2,Vu(tt,vt,vt,a+8|0),_h(a,tt),M0(tt)),yt=ht}function V2(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0;zt=Qs(a)|0;do if(zt|0){if((o[(Zs(a,0)|0)+944>>2]|0)==(a|0)){if(!(x1(a+948|0,tt)|0))break;Kr(tt+400|0,8504,540)|0,o[tt+944>>2]=0,no(a);break}wt=o[(o[a+976>>2]|0)+12>>2]|0,Pt=a+948|0,Lt=(wt|0)==0,ot=0,_t=0;do ht=o[(o[Pt>>2]|0)+(_t<<2)>>2]|0,(ht|0)==(tt|0)?no(a):(vt=xs(ht)|0,o[(o[Pt>>2]|0)+(ot<<2)>>2]=vt,o[vt+944>>2]=a,Lt||w_[wt&15](ht,vt,a,ot),ot=ot+1|0),_t=_t+1|0;while((_t|0)!=(zt|0));if(ot>>>0<zt>>>0){Lt=a+948|0,Pt=a+952|0,wt=ot,ot=o[Pt>>2]|0;do _t=(o[Lt>>2]|0)+(wt<<2)|0,ht=_t+4|0,vt=ot-ht|0,tt=vt>>2,tt&&(p1(_t|0,ht|0,vt|0)|0,ot=o[Pt>>2]|0),vt=ot,ht=_t+(tt<<2)|0,(vt|0)!=(ht|0)&&(ot=vt+(~((vt+-4-ht|0)>>>2)<<2)|0,o[Pt>>2]=ot),wt=wt+1|0;while((wt|0)!=(zt|0))}}while(0)}function hm(a){a=a|0;var tt=0,ot=0,ht=0,vt=0;to(a,(Qs(a)|0)==0,2491),to(a,(o[a+944>>2]|0)==0,2545),tt=a+948|0,ot=o[tt>>2]|0,ht=a+952|0,vt=o[ht>>2]|0,(vt|0)!=(ot|0)&&(o[ht>>2]=vt+(~((vt+-4-ot|0)>>>2)<<2)),f0(tt),tt=a+976|0,ot=o[tt>>2]|0,Kr(a|0,8104,1e3)|0,d[ot+2>>0]|0&&(o[a+4>>2]=2,o[a+12>>2]=4),o[tt>>2]=ot}function to(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0;vt=yt,yt=yt+16|0,ht=vt,tt||(o[ht>>2]=ot,Gs(a,5,3197,ht)),yt=vt}function S1(){return o[2276]|0}function pm(){var a=0;return a=I2(20)|0,E1((a|0)!=0,2592),o[2277]=(o[2277]|0)+1,o[a>>2]=o[239],o[a+4>>2]=o[240],o[a+8>>2]=o[241],o[a+12>>2]=o[242],o[a+16>>2]=o[243],a|0}function E1(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;ht=yt,yt=yt+16|0,ot=ht,a||(o[ot>>2]=tt,Gs(0,5,3197,ot)),yt=ht}function z2(a){a=a|0,k2(a),o[2277]=(o[2277]|0)+-1}function w1(a,tt){a=a|0,tt=tt|0;var ot=0;tt?(to(a,(Qs(a)|0)==0,2629),ot=1):(ot=0,tt=0),o[a+964>>2]=tt,o[a+988>>2]=ot}function jo(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;ht=yt,yt=yt+16|0,_t=ht+8|0,vt=ht+4|0,wt=ht,o[vt>>2]=tt,to(a,(o[tt+944>>2]|0)==0,2709),to(a,(o[a+964>>2]|0)==0,2763),q0(a),tt=a+948|0,o[wt>>2]=(o[tt>>2]|0)+(ot<<2),o[_t>>2]=o[wt>>2],$2(tt,_t,vt)|0,o[(o[vt>>2]|0)+944>>2]=a,no(a),yt=ht}function q0(a){a=a|0;var tt=0,ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0;if(ot=Qs(a)|0,ot|0&&(o[(Zs(a,0)|0)+944>>2]|0)!=(a|0)){ht=o[(o[a+976>>2]|0)+12>>2]|0,vt=a+948|0,_t=(ht|0)==0,tt=0;do wt=o[(o[vt>>2]|0)+(tt<<2)>>2]|0,Pt=xs(wt)|0,o[(o[vt>>2]|0)+(tt<<2)>>2]=Pt,o[Pt+944>>2]=a,_t||w_[ht&15](wt,Pt,a,tt),tt=tt+1|0;while((tt|0)!=(ot|0))}}function $2(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0,_n=0,dn=0,ln=0,In=0,Cn=0;In=yt,yt=yt+64|0,Ht=In+52|0,Pt=In+48|0,Zt=In+28|0,_n=In+24|0,dn=In+20|0,ln=In,ht=o[a>>2]|0,_t=ht,tt=ht+((o[tt>>2]|0)-_t>>2<<2)|0,ht=a+4|0,vt=o[ht>>2]|0,wt=a+8|0;do if(vt>>>0<(o[wt>>2]|0)>>>0){if((tt|0)==(vt|0)){o[tt>>2]=o[ot>>2],o[ht>>2]=(o[ht>>2]|0)+4;break}Up(a,tt,vt,tt+4|0),tt>>>0<=ot>>>0&&(ot=(o[ht>>2]|0)>>>0>ot>>>0?ot+4|0:ot),o[tt>>2]=o[ot>>2]}else{ht=(vt-_t>>2)+1|0,vt=Z0(a)|0,vt>>>0<ht>>>0&&po(a),Vt=o[a>>2]|0,zt=(o[wt>>2]|0)-Vt|0,_t=zt>>1,Vu(ln,zt>>2>>>0<vt>>>1>>>0?_t>>>0<ht>>>0?ht:_t:vt,tt-Vt>>2,a+8|0),Vt=ln+8|0,ht=o[Vt>>2]|0,_t=ln+12|0,zt=o[_t>>2]|0,wt=zt,Lt=ht;do if((ht|0)==(zt|0)){if(zt=ln+4|0,ht=o[zt>>2]|0,Cn=o[ln>>2]|0,vt=Cn,ht>>>0<=Cn>>>0){ht=wt-vt>>1,ht=ht|0?ht:1,Vu(Zt,ht,ht>>>2,o[ln+16>>2]|0),o[_n>>2]=o[zt>>2],o[dn>>2]=o[Vt>>2],o[Pt>>2]=o[_n>>2],o[Ht>>2]=o[dn>>2],ep(Zt,Pt,Ht),ht=o[ln>>2]|0,o[ln>>2]=o[Zt>>2],o[Zt>>2]=ht,ht=Zt+4|0,Cn=o[zt>>2]|0,o[zt>>2]=o[ht>>2],o[ht>>2]=Cn,ht=Zt+8|0,Cn=o[Vt>>2]|0,o[Vt>>2]=o[ht>>2],o[ht>>2]=Cn,ht=Zt+12|0,Cn=o[_t>>2]|0,o[_t>>2]=o[ht>>2],o[ht>>2]=Cn,M0(Zt),ht=o[Vt>>2]|0;break}_t=ht,wt=((_t-vt>>2)+1|0)/-2|0,Pt=ht+(wt<<2)|0,vt=Lt-_t|0,_t=vt>>2,_t&&(p1(Pt|0,ht|0,vt|0)|0,ht=o[zt>>2]|0),Cn=Pt+(_t<<2)|0,o[Vt>>2]=Cn,o[zt>>2]=ht+(wt<<2),ht=Cn}while(0);o[ht>>2]=o[ot>>2],o[Vt>>2]=(o[Vt>>2]|0)+4,tt=$1(a,ln,tt)|0,M0(ln)}while(0);return yt=In,tt|0}function no(a){a=a|0;var tt=0;do{if(tt=a+984|0,d[tt>>0]|0)break;d[tt>>0]=1,St[a+504>>2]=It(Gt),a=o[a+944>>2]|0}while(a|0)}function G2(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~((tt+-4-ht|0)>>>2)<<2)),qn(ot))}function Sp(a){return a=a|0,o[a+944>>2]|0}function Tl(a){a=a|0,to(a,(o[a+964>>2]|0)!=0,2832),no(a)}function H2(a){return a=a|0,(d[a+984>>0]|0)!=0|0}function W2(a,tt){a=a|0,tt=tt|0,ED(a,tt,400)|0&&(Kr(a|0,tt|0,400)|0,no(a))}function Ml(a){a=a|0;var tt=Bn;return tt=It(St[a+44>>2]),a=cr(tt)|0,It(a?It(0):tt)}function Wl(a){a=a|0;var tt=Bn;return tt=It(St[a+48>>2]),cr(tt)|0&&(tt=d[(o[a+976>>2]|0)+2>>0]|0?It(1):It(0)),It(tt)}function Ep(a,tt){a=a|0,tt=tt|0,o[a+980>>2]=tt}function wp(a){return a=a|0,o[a+980>>2]|0}function T1(a,tt){a=a|0,tt=tt|0;var ot=0;ot=a+4|0,(o[ot>>2]|0)!=(tt|0)&&(o[ot>>2]=tt,no(a))}function j2(a){return a=a|0,o[a+4>>2]|0}function Al(a,tt){a=a|0,tt=tt|0;var ot=0;ot=a+8|0,(o[ot>>2]|0)!=(tt|0)&&(o[ot>>2]=tt,no(a))}function q2(a){return a=a|0,o[a+8>>2]|0}function Tp(a,tt){a=a|0,tt=tt|0;var ot=0;ot=a+12|0,(o[ot>>2]|0)!=(tt|0)&&(o[ot>>2]=tt,no(a))}function X2(a){return a=a|0,o[a+12>>2]|0}function Js(a,tt){a=a|0,tt=tt|0;var ot=0;ot=a+16|0,(o[ot>>2]|0)!=(tt|0)&&(o[ot>>2]=tt,no(a))}function Mp(a){return a=a|0,o[a+16>>2]|0}function Ap(a,tt){a=a|0,tt=tt|0;var ot=0;ot=a+20|0,(o[ot>>2]|0)!=(tt|0)&&(o[ot>>2]=tt,no(a))}function d0(a){return a=a|0,o[a+20>>2]|0}function mm(a,tt){a=a|0,tt=tt|0;var ot=0;ot=a+24|0,(o[ot>>2]|0)!=(tt|0)&&(o[ot>>2]=tt,no(a))}function gm(a){return a=a|0,o[a+24>>2]|0}function M1(a,tt){a=a|0,tt=tt|0;var ot=0;ot=a+28|0,(o[ot>>2]|0)!=(tt|0)&&(o[ot>>2]=tt,no(a))}function vm(a){return a=a|0,o[a+28>>2]|0}function _m(a,tt){a=a|0,tt=tt|0;var ot=0;ot=a+32|0,(o[ot>>2]|0)!=(tt|0)&&(o[ot>>2]=tt,no(a))}function h0(a){return a=a|0,o[a+32>>2]|0}function Bs(a,tt){a=a|0,tt=tt|0;var ot=0;ot=a+36|0,(o[ot>>2]|0)!=(tt|0)&&(o[ot>>2]=tt,no(a))}function Cl(a){return a=a|0,o[a+36>>2]|0}function fu(a,tt){a=a|0,tt=It(tt);var ot=0;ot=a+40|0,It(St[ot>>2])!=tt&&(St[ot>>2]=tt,no(a))}function ym(a,tt){a=a|0,tt=It(tt);var ot=0;ot=a+44|0,It(St[ot>>2])!=tt&&(St[ot>>2]=tt,no(a))}function A1(a,tt){a=a|0,tt=It(tt);var ot=0;ot=a+48|0,It(St[ot>>2])!=tt&&(St[ot>>2]=tt,no(a))}function Xl(a,tt){a=a|0,tt=It(tt);var ot=0,ht=0,vt=0,_t=0;_t=cr(tt)|0,ot=(_t^1)&1,ht=a+52|0,vt=a+56|0,_t|It(St[ht>>2])==tt&&(o[vt>>2]|0)==(ot|0)||(St[ht>>2]=tt,o[vt>>2]=ot,no(a))}function du(a,tt){a=a|0,tt=It(tt);var ot=0,ht=0;ht=a+52|0,ot=a+56|0,It(St[ht>>2])==tt&&(o[ot>>2]|0)==2||(St[ht>>2]=tt,ht=cr(tt)|0,o[ot>>2]=ht?3:2,no(a))}function Cp(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;ht=tt+52|0,ot=o[ht+4>>2]|0,tt=a,o[tt>>2]=o[ht>>2],o[tt+4>>2]=ot}function C1(a,tt,ot){a=a|0,tt=tt|0,ot=It(ot);var ht=0,vt=0,_t=0;_t=cr(ot)|0,ht=(_t^1)&1,vt=a+132+(tt<<3)|0,tt=a+132+(tt<<3)+4|0,_t|It(St[vt>>2])==ot&&(o[tt>>2]|0)==(ht|0)||(St[vt>>2]=ot,o[tt>>2]=ht,no(a))}function Rp(a,tt,ot){a=a|0,tt=tt|0,ot=It(ot);var ht=0,vt=0,_t=0;_t=cr(ot)|0,ht=_t?0:2,vt=a+132+(tt<<3)|0,tt=a+132+(tt<<3)+4|0,_t|It(St[vt>>2])==ot&&(o[tt>>2]|0)==(ht|0)||(St[vt>>2]=ot,o[tt>>2]=ht,no(a))}function R1(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=tt+132+(ot<<3)|0,tt=o[ht+4>>2]|0,ot=a,o[ot>>2]=o[ht>>2],o[ot+4>>2]=tt}function b1(a,tt,ot){a=a|0,tt=tt|0,ot=It(ot);var ht=0,vt=0,_t=0;_t=cr(ot)|0,ht=(_t^1)&1,vt=a+60+(tt<<3)|0,tt=a+60+(tt<<3)+4|0,_t|It(St[vt>>2])==ot&&(o[tt>>2]|0)==(ht|0)||(St[vt>>2]=ot,o[tt>>2]=ht,no(a))}function xm(a,tt,ot){a=a|0,tt=tt|0,ot=It(ot);var ht=0,vt=0,_t=0;_t=cr(ot)|0,ht=_t?0:2,vt=a+60+(tt<<3)|0,tt=a+60+(tt<<3)+4|0,_t|It(St[vt>>2])==ot&&(o[tt>>2]|0)==(ht|0)||(St[vt>>2]=ot,o[tt>>2]=ht,no(a))}function bp(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=tt+60+(ot<<3)|0,tt=o[ht+4>>2]|0,ot=a,o[ot>>2]=o[ht>>2],o[ot+4>>2]=tt}function P1(a,tt){a=a|0,tt=tt|0;var ot=0;ot=a+60+(tt<<3)+4|0,(o[ot>>2]|0)!=3&&(St[a+60+(tt<<3)>>2]=It(Gt),o[ot>>2]=3,no(a))}function I1(a,tt,ot){a=a|0,tt=tt|0,ot=It(ot);var ht=0,vt=0,_t=0;_t=cr(ot)|0,ht=(_t^1)&1,vt=a+204+(tt<<3)|0,tt=a+204+(tt<<3)+4|0,_t|It(St[vt>>2])==ot&&(o[tt>>2]|0)==(ht|0)||(St[vt>>2]=ot,o[tt>>2]=ht,no(a))}function k1(a,tt,ot){a=a|0,tt=tt|0,ot=It(ot);var ht=0,vt=0,_t=0;_t=cr(ot)|0,ht=_t?0:2,vt=a+204+(tt<<3)|0,tt=a+204+(tt<<3)+4|0,_t|It(St[vt>>2])==ot&&(o[tt>>2]|0)==(ht|0)||(St[vt>>2]=ot,o[tt>>2]=ht,no(a))}function Sm(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=tt+204+(ot<<3)|0,tt=o[ht+4>>2]|0,ot=a,o[ot>>2]=o[ht>>2],o[ot+4>>2]=tt}function p0(a,tt,ot){a=a|0,tt=tt|0,ot=It(ot);var ht=0,vt=0,_t=0;_t=cr(ot)|0,ht=(_t^1)&1,vt=a+276+(tt<<3)|0,tt=a+276+(tt<<3)+4|0,_t|It(St[vt>>2])==ot&&(o[tt>>2]|0)==(ht|0)||(St[vt>>2]=ot,o[tt>>2]=ht,no(a))}function m0(a,tt){return a=a|0,tt=tt|0,It(St[a+276+(tt<<3)>>2])}function Pp(a,tt){a=a|0,tt=It(tt);var ot=0,ht=0,vt=0,_t=0;_t=cr(tt)|0,ot=(_t^1)&1,ht=a+348|0,vt=a+352|0,_t|It(St[ht>>2])==tt&&(o[vt>>2]|0)==(ot|0)||(St[ht>>2]=tt,o[vt>>2]=ot,no(a))}function Ip(a,tt){a=a|0,tt=It(tt);var ot=0,ht=0;ht=a+348|0,ot=a+352|0,It(St[ht>>2])==tt&&(o[ot>>2]|0)==2||(St[ht>>2]=tt,ht=cr(tt)|0,o[ot>>2]=ht?3:2,no(a))}function Us(a){a=a|0;var tt=0;tt=a+352|0,(o[tt>>2]|0)!=3&&(St[a+348>>2]=It(Gt),o[tt>>2]=3,no(a))}function Vs(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;ht=tt+348|0,ot=o[ht+4>>2]|0,tt=a,o[tt>>2]=o[ht>>2],o[tt+4>>2]=ot}function Pu(a,tt){a=a|0,tt=It(tt);var ot=0,ht=0,vt=0,_t=0;_t=cr(tt)|0,ot=(_t^1)&1,ht=a+356|0,vt=a+360|0,_t|It(St[ht>>2])==tt&&(o[vt>>2]|0)==(ot|0)||(St[ht>>2]=tt,o[vt>>2]=ot,no(a))}function Kl(a,tt){a=a|0,tt=It(tt);var ot=0,ht=0;ht=a+356|0,ot=a+360|0,It(St[ht>>2])==tt&&(o[ot>>2]|0)==2||(St[ht>>2]=tt,ht=cr(tt)|0,o[ot>>2]=ht?3:2,no(a))}function Yl(a){a=a|0;var tt=0;tt=a+360|0,(o[tt>>2]|0)!=3&&(St[a+356>>2]=It(Gt),o[tt>>2]=3,no(a))}function Iu(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;ht=tt+356|0,ot=o[ht+4>>2]|0,tt=a,o[tt>>2]=o[ht>>2],o[tt+4>>2]=ot}function L1(a,tt){a=a|0,tt=It(tt);var ot=0,ht=0,vt=0,_t=0;_t=cr(tt)|0,ot=(_t^1)&1,ht=a+364|0,vt=a+368|0,_t|It(St[ht>>2])==tt&&(o[vt>>2]|0)==(ot|0)||(St[ht>>2]=tt,o[vt>>2]=ot,no(a))}function Em(a,tt){a=a|0,tt=It(tt);var ot=0,ht=0,vt=0,_t=0;_t=cr(tt)|0,ot=_t?0:2,ht=a+364|0,vt=a+368|0,_t|It(St[ht>>2])==tt&&(o[vt>>2]|0)==(ot|0)||(St[ht>>2]=tt,o[vt>>2]=ot,no(a))}function wm(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;ht=tt+364|0,ot=o[ht+4>>2]|0,tt=a,o[tt>>2]=o[ht>>2],o[tt+4>>2]=ot}function Ps(a,tt){a=a|0,tt=It(tt);var ot=0,ht=0,vt=0,_t=0;_t=cr(tt)|0,ot=(_t^1)&1,ht=a+372|0,vt=a+376|0,_t|It(St[ht>>2])==tt&&(o[vt>>2]|0)==(ot|0)||(St[ht>>2]=tt,o[vt>>2]=ot,no(a))}function Is(a,tt){a=a|0,tt=It(tt);var ot=0,ht=0,vt=0,_t=0;_t=cr(tt)|0,ot=_t?0:2,ht=a+372|0,vt=a+376|0,_t|It(St[ht>>2])==tt&&(o[vt>>2]|0)==(ot|0)||(St[ht>>2]=tt,o[vt>>2]=ot,no(a))}function Io(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;ht=tt+372|0,ot=o[ht+4>>2]|0,tt=a,o[tt>>2]=o[ht>>2],o[tt+4>>2]=ot}function X0(a,tt){a=a|0,tt=It(tt);var ot=0,ht=0,vt=0,_t=0;_t=cr(tt)|0,ot=(_t^1)&1,ht=a+380|0,vt=a+384|0,_t|It(St[ht>>2])==tt&&(o[vt>>2]|0)==(ot|0)||(St[ht>>2]=tt,o[vt>>2]=ot,no(a))}function na(a,tt){a=a|0,tt=It(tt);var ot=0,ht=0,vt=0,_t=0;_t=cr(tt)|0,ot=_t?0:2,ht=a+380|0,vt=a+384|0,_t|It(St[ht>>2])==tt&&(o[vt>>2]|0)==(ot|0)||(St[ht>>2]=tt,o[vt>>2]=ot,no(a))}function N1(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;ht=tt+380|0,ot=o[ht+4>>2]|0,tt=a,o[tt>>2]=o[ht>>2],o[tt+4>>2]=ot}function O1(a,tt){a=a|0,tt=It(tt);var ot=0,ht=0,vt=0,_t=0;_t=cr(tt)|0,ot=(_t^1)&1,ht=a+388|0,vt=a+392|0,_t|It(St[ht>>2])==tt&&(o[vt>>2]|0)==(ot|0)||(St[ht>>2]=tt,o[vt>>2]=ot,no(a))}function Tm(a,tt){a=a|0,tt=It(tt);var ot=0,ht=0,vt=0,_t=0;_t=cr(tt)|0,ot=_t?0:2,ht=a+388|0,vt=a+392|0,_t|It(St[ht>>2])==tt&&(o[vt>>2]|0)==(ot|0)||(St[ht>>2]=tt,o[vt>>2]=ot,no(a))}function Mm(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;ht=tt+388|0,ot=o[ht+4>>2]|0,tt=a,o[tt>>2]=o[ht>>2],o[tt+4>>2]=ot}function D1(a,tt){a=a|0,tt=It(tt);var ot=0;ot=a+396|0,It(St[ot>>2])!=tt&&(St[ot>>2]=tt,no(a))}function K0(a){return a=a|0,It(St[a+396>>2])}function ku(a){return a=a|0,It(St[a+400>>2])}function kp(a){return a=a|0,It(St[a+404>>2])}function g0(a){return a=a|0,It(St[a+408>>2])}function Y0(a){return a=a|0,It(St[a+412>>2])}function Am(a){return a=a|0,It(St[a+416>>2])}function Cm(a){return a=a|0,It(St[a+420>>2])}function v0(a,tt){switch(a=a|0,tt=tt|0,to(a,(tt|0)<6,2918),tt|0){case 0:{tt=(o[a+496>>2]|0)==2?5:4;break}case 2:{tt=(o[a+496>>2]|0)==2?4:5;break}default:}return It(St[a+424+(tt<<2)>>2])}function F1(a,tt){switch(a=a|0,tt=tt|0,to(a,(tt|0)<6,2918),tt|0){case 0:{tt=(o[a+496>>2]|0)==2?5:4;break}case 2:{tt=(o[a+496>>2]|0)==2?4:5;break}default:}return It(St[a+448+(tt<<2)>>2])}function Q0(a,tt){switch(a=a|0,tt=tt|0,to(a,(tt|0)<6,2918),tt|0){case 0:{tt=(o[a+496>>2]|0)==2?5:4;break}case 2:{tt=(o[a+496>>2]|0)==2?4:5;break}default:}return It(St[a+472+(tt<<2)>>2])}function zs(a,tt){a=a|0,tt=tt|0;var ot=0,ht=Bn;return ot=o[a+4>>2]|0,(ot|0)==(o[tt+4>>2]|0)?ot?(ht=It(St[a>>2]),a=It(Mn(It(ht-It(St[tt>>2]))))<It(999999974e-13)):a=1:a=0,a|0}function No(a,tt){a=It(a),tt=It(tt);var ot=0;return cr(a)|0?ot=cr(tt)|0:ot=It(Mn(It(a-tt)))<It(999999974e-13),ot|0}function _0(a,tt){a=a|0,tt=tt|0,Rl(a,tt)}function Rl(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;ot=yt,yt=yt+16|0,ht=ot+4|0,o[ht>>2]=0,o[ht+4>>2]=0,o[ht+8>>2]=0,wl(ht|0,a|0,tt|0,0),Gs(a,3,(d[ht+11>>0]|0)<0?o[ht>>2]|0:ht,ot),WD(ht),yt=ot}function $s(a,tt,ot,ht){a=It(a),tt=It(tt),ot=ot|0,ht=ht|0;var vt=Bn;a=It(a*tt),vt=It(v_(a,It(1)));do if(No(vt,It(0))|0)a=It(a-vt);else{if(a=It(a-vt),No(vt,It(1))|0){a=It(a+It(1));break}if(ot){a=It(a+It(1));break}ht||(vt>It(.5)?vt=It(1):(ht=No(vt,It(.5))|0,vt=It(ht?1:0)),a=It(a+vt))}while(0);return It(a/tt)}function Lu(a,tt,ot,ht,vt,_t,wt,Pt,Lt,zt,Vt,Ht,Zt){a=a|0,tt=It(tt),ot=ot|0,ht=It(ht),vt=vt|0,_t=It(_t),wt=wt|0,Pt=It(Pt),Lt=It(Lt),zt=It(zt),Vt=It(Vt),Ht=It(Ht),Zt=Zt|0;var _n=0,dn=Bn,ln=Bn,In=Bn,Cn=Bn,Un=Bn,mn=Bn;return Lt<It(0)|zt<It(0)?Zt=0:(Zt|0&&(dn=It(St[Zt+4>>2]),dn!=It(0))?(In=It($s(tt,dn,0,0)),Cn=It($s(ht,dn,0,0)),ln=It($s(_t,dn,0,0)),dn=It($s(Pt,dn,0,0))):(ln=_t,In=tt,dn=Pt,Cn=ht),(vt|0)==(a|0)?_n=No(ln,In)|0:_n=0,(wt|0)==(ot|0)?Zt=No(dn,Cn)|0:Zt=0,!_n&&(Un=It(tt-Vt),!(Rm(a,Un,Lt)|0))&&!(Lp(a,Un,vt,Lt)|0)?_n=ko(a,Un,vt,_t,Lt)|0:_n=1,!Zt&&(mn=It(ht-Ht),!(Rm(ot,mn,zt)|0))&&!(Lp(ot,mn,wt,zt)|0)?Zt=ko(ot,mn,wt,Pt,zt)|0:Zt=1,Zt=_n&Zt),Zt|0}function Rm(a,tt,ot){return a=a|0,tt=It(tt),ot=It(ot),(a|0)==1?a=No(tt,ot)|0:a=0,a|0}function Lp(a,tt,ot,ht){return a=a|0,tt=It(tt),ot=ot|0,ht=It(ht),(a|0)==2&(ot|0)==0?tt>=ht?a=1:a=No(tt,ht)|0:a=0,a|0}function ko(a,tt,ot,ht,vt){return a=a|0,tt=It(tt),ot=ot|0,ht=It(ht),vt=It(vt),(a|0)==2&(ot|0)==2&ht>tt?vt<=tt?a=1:a=No(tt,vt)|0:a=0,a|0}function Pl(a,tt,ot,ht,vt,_t,wt,Pt,Lt,zt,Vt){a=a|0,tt=It(tt),ot=It(ot),ht=ht|0,vt=vt|0,_t=_t|0,wt=It(wt),Pt=It(Pt),Lt=Lt|0,zt=zt|0,Vt=Vt|0;var Ht=0,Zt=0,_n=0,dn=0,ln=Bn,In=Bn,Cn=0,Un=0,mn=0,vn=0,pr=0,so=0,Br=0,br=0,Yr=0,ro=0,Dr=0,wo=Bn,Ts=Bn,Ms=Bn,As=0,Ys=0;Dr=yt,yt=yt+160|0,br=Dr+152|0,Br=Dr+120|0,so=Dr+104|0,mn=Dr+72|0,dn=Dr+56|0,pr=Dr+8|0,Un=Dr,vn=(o[2279]|0)+1|0,o[2279]=vn,Yr=a+984|0,d[Yr>>0]|0&&(o[a+512>>2]|0)!=(o[2278]|0)?Cn=4:(o[a+516>>2]|0)==(ht|0)?ro=0:Cn=4,(Cn|0)==4&&(o[a+520>>2]=0,o[a+924>>2]=-1,o[a+928>>2]=-1,St[a+932>>2]=It(-1),St[a+936>>2]=It(-1),ro=1);e:do if(o[a+964>>2]|0)if(ln=It(So(a,2,wt)),In=It(So(a,0,wt)),Ht=a+916|0,Ms=It(St[Ht>>2]),Ts=It(St[a+920>>2]),wo=It(St[a+932>>2]),Lu(vt,tt,_t,ot,o[a+924>>2]|0,Ms,o[a+928>>2]|0,Ts,wo,It(St[a+936>>2]),ln,In,Vt)|0)Cn=22;else if(_n=o[a+520>>2]|0,!_n)Cn=21;else for(Zt=0;;){if(Ht=a+524+(Zt*24|0)|0,wo=It(St[Ht>>2]),Ts=It(St[a+524+(Zt*24|0)+4>>2]),Ms=It(St[a+524+(Zt*24|0)+16>>2]),Lu(vt,tt,_t,ot,o[a+524+(Zt*24|0)+8>>2]|0,wo,o[a+524+(Zt*24|0)+12>>2]|0,Ts,Ms,It(St[a+524+(Zt*24|0)+20>>2]),ln,In,Vt)|0){Cn=22;break e}if(Zt=Zt+1|0,Zt>>>0>=_n>>>0){Cn=21;break}}else{if(Lt){if(Ht=a+916|0,!(No(It(St[Ht>>2]),tt)|0)){Cn=21;break}if(!(No(It(St[a+920>>2]),ot)|0)){Cn=21;break}if((o[a+924>>2]|0)!=(vt|0)){Cn=21;break}Ht=(o[a+928>>2]|0)==(_t|0)?Ht:0,Cn=22;break}if(_n=o[a+520>>2]|0,!_n)Cn=21;else for(Zt=0;;){if(Ht=a+524+(Zt*24|0)|0,No(It(St[Ht>>2]),tt)|0&&No(It(St[a+524+(Zt*24|0)+4>>2]),ot)|0&&(o[a+524+(Zt*24|0)+8>>2]|0)==(vt|0)&&(o[a+524+(Zt*24|0)+12>>2]|0)==(_t|0)){Cn=22;break e}if(Zt=Zt+1|0,Zt>>>0>=_n>>>0){Cn=21;break}}}while(0);do if((Cn|0)==21)d[11697]|0?(Ht=0,Cn=28):(Ht=0,Cn=31);else if((Cn|0)==22){if(Zt=(d[11697]|0)!=0,!((Ht|0)!=0&(ro^1)))if(Zt){Cn=28;break}else{Cn=31;break}dn=Ht+16|0,o[a+908>>2]=o[dn>>2],_n=Ht+20|0,o[a+912>>2]=o[_n>>2],(d[11698]|0)==0|Zt^1||(o[Un>>2]=y0(vn)|0,o[Un+4>>2]=vn,Gs(a,4,2972,Un),Zt=o[a+972>>2]|0,Zt|0&&Zu[Zt&127](a),vt=Xo(vt,Lt)|0,_t=Xo(_t,Lt)|0,Ys=+It(St[dn>>2]),As=+It(St[_n>>2]),o[pr>>2]=vt,o[pr+4>>2]=_t,Tt[pr+8>>3]=+tt,Tt[pr+16>>3]=+ot,Tt[pr+24>>3]=Ys,Tt[pr+32>>3]=As,o[pr+40>>2]=zt,Gs(a,4,2989,pr))}while(0);return(Cn|0)==28&&(Zt=y0(vn)|0,o[dn>>2]=Zt,o[dn+4>>2]=vn,o[dn+8>>2]=ro?3047:11699,Gs(a,4,3038,dn),Zt=o[a+972>>2]|0,Zt|0&&Zu[Zt&127](a),pr=Xo(vt,Lt)|0,Cn=Xo(_t,Lt)|0,o[mn>>2]=pr,o[mn+4>>2]=Cn,Tt[mn+8>>3]=+tt,Tt[mn+16>>3]=+ot,o[mn+24>>2]=zt,Gs(a,4,3049,mn),Cn=31),(Cn|0)==31&&(x0(a,tt,ot,ht,vt,_t,wt,Pt,Lt,Vt),d[11697]|0&&(Zt=o[2279]|0,pr=y0(Zt)|0,o[so>>2]=pr,o[so+4>>2]=Zt,o[so+8>>2]=ro?3047:11699,Gs(a,4,3083,so),Zt=o[a+972>>2]|0,Zt|0&&Zu[Zt&127](a),pr=Xo(vt,Lt)|0,so=Xo(_t,Lt)|0,As=+It(St[a+908>>2]),Ys=+It(St[a+912>>2]),o[Br>>2]=pr,o[Br+4>>2]=so,Tt[Br+8>>3]=As,Tt[Br+16>>3]=Ys,o[Br+24>>2]=zt,Gs(a,4,3092,Br)),o[a+516>>2]=ht,Ht||(Zt=a+520|0,Ht=o[Zt>>2]|0,(Ht|0)==16&&(d[11697]|0&&Gs(a,4,3124,br),o[Zt>>2]=0,Ht=0),Lt?Ht=a+916|0:(o[Zt>>2]=Ht+1,Ht=a+524+(Ht*24|0)|0),St[Ht>>2]=tt,St[Ht+4>>2]=ot,o[Ht+8>>2]=vt,o[Ht+12>>2]=_t,o[Ht+16>>2]=o[a+908>>2],o[Ht+20>>2]=o[a+912>>2],Ht=0)),Lt&&(o[a+416>>2]=o[a+908>>2],o[a+420>>2]=o[a+912>>2],d[a+985>>0]=1,d[Yr>>0]=0),o[2279]=(o[2279]|0)+-1,o[a+512>>2]=o[2278],yt=Dr,ro|(Ht|0)==0|0}function So(a,tt,ot){a=a|0,tt=tt|0,ot=It(ot);var ht=Bn;return ht=It(fs(a,tt,ot)),It(ht+It(Ll(a,tt,ot)))}function Gs(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0;_t=yt,yt=yt+16|0,vt=_t,o[vt>>2]=ht,a?ht=o[a+976>>2]|0:ht=0,Np(ht,a,tt,ot,vt),yt=_t}function y0(a){return a=a|0,(a>>>0>60?3201:3201+(60-a)|0)|0}function Xo(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0;return vt=yt,yt=yt+32|0,ot=vt+12|0,ht=vt,o[ot>>2]=o[254],o[ot+4>>2]=o[255],o[ot+8>>2]=o[256],o[ht>>2]=o[257],o[ht+4>>2]=o[258],o[ht+8>>2]=o[259],(a|0)>2?a=11699:a=o[(tt?ht:ot)+(a<<2)>>2]|0,yt=vt,a|0}function x0(a,tt,ot,ht,vt,_t,wt,Pt,Lt,zt){a=a|0,tt=It(tt),ot=It(ot),ht=ht|0,vt=vt|0,_t=_t|0,wt=It(wt),Pt=It(Pt),Lt=Lt|0,zt=zt|0;var Vt=0,Ht=0,Zt=0,_n=0,dn=Bn,ln=Bn,In=Bn,Cn=Bn,Un=Bn,mn=Bn,vn=Bn,pr=0,so=0,Br=0,br=Bn,Yr=Bn,ro=0,Dr=Bn,wo=0,Ts=0,Ms=0,As=0,Ys=0,B0=0,U0=0,Fl=0,V0=0,wu=0,Tu=0,z0=0,$0=0,G0=0,mo=0,Bl=0,H0=0,nu=0,W0=Bn,j0=Bn,Mu=Bn,Au=Bn,ru=Bn,ps=0,El=0,Ds=0,Ul=0,_c=0,e0=Bn,Cu=Bn,t0=Bn,n0=Bn,ms=Bn,ls=Bn,Vl=0,To=Bn,r0=Bn,Cs=Bn,iu=Bn,Rs=Bn,ou=Bn,i0=0,o0=0,su=Bn,gs=Bn,zl=0,s0=0,a0=0,l0=0,Qr=Bn,Po=0,us=0,bs=0,vs=0,_i=0,Vr=0,$l=0,Cr=Bn,u0=0,Lo=0;$l=yt,yt=yt+16|0,ps=$l+12|0,El=$l+8|0,Ds=$l+4|0,Ul=$l,to(a,(vt|0)==0|(cr(tt)|0)^1,3326),to(a,(_t|0)==0|(cr(ot)|0)^1,3406),us=km(a,ht)|0,o[a+496>>2]=us,_i=hu(2,us)|0,Vr=hu(0,us)|0,St[a+440>>2]=It(fs(a,_i,wt)),St[a+444>>2]=It(Ll(a,_i,wt)),St[a+428>>2]=It(fs(a,Vr,wt)),St[a+436>>2]=It(Ll(a,Vr,wt)),St[a+464>>2]=It(Nl(a,_i)),St[a+468>>2]=It(Zl(a,_i)),St[a+452>>2]=It(Nl(a,Vr)),St[a+460>>2]=It(Zl(a,Vr)),St[a+488>>2]=It(Ou(a,_i,wt)),St[a+492>>2]=It(Op(a,_i,wt)),St[a+476>>2]=It(Ou(a,Vr,wt)),St[a+484>>2]=It(Op(a,Vr,wt));do if(o[a+964>>2]|0)Dp(a,tt,ot,vt,_t,wt,Pt);else{if(bs=a+948|0,vs=(o[a+952>>2]|0)-(o[bs>>2]|0)>>2,!vs){Fp(a,tt,ot,vt,_t,wt,Pt);break}if(!Lt&&Lm(a,tt,ot,vt,_t,wt,Pt)|0)break;q0(a),Bl=a+508|0,d[Bl>>0]=0,_i=hu(o[a+4>>2]|0,us)|0,Vr=Du(_i,us)|0,Po=Ko(_i)|0,H0=o[a+8>>2]|0,s0=a+28|0,nu=(o[s0>>2]|0)!=0,Rs=Po?wt:Pt,su=Po?Pt:wt,W0=It(Bp(a,_i,wt)),j0=It(Nm(a,_i,wt)),dn=It(Bp(a,Vr,wt)),ou=It(Hs(a,_i,wt)),gs=It(Hs(a,Vr,wt)),Br=Po?vt:_t,zl=Po?_t:vt,Qr=Po?ou:gs,Un=Po?gs:ou,iu=It(So(a,2,wt)),Cn=It(So(a,0,wt)),ln=It(It(ho(a+364|0,wt))-Qr),In=It(It(ho(a+380|0,wt))-Qr),mn=It(It(ho(a+372|0,Pt))-Un),vn=It(It(ho(a+388|0,Pt))-Un),Mu=Po?ln:mn,Au=Po?In:vn,iu=It(tt-iu),tt=It(iu-Qr),cr(tt)|0?Qr=tt:Qr=It(bo(It(pp(tt,In)),ln)),r0=It(ot-Cn),tt=It(r0-Un),cr(tt)|0?Cs=tt:Cs=It(bo(It(pp(tt,vn)),mn)),ln=Po?Qr:Cs,To=Po?Cs:Qr;e:do if((Br|0)==1)for(ht=0,Ht=0;;){if(Vt=Zs(a,Ht)|0,!ht)It(pu(Vt))>It(0)&&It(E0(Vt))>It(0)?ht=Vt:ht=0;else if(Om(Vt)|0){_n=0;break e}if(Ht=Ht+1|0,Ht>>>0>=vs>>>0){_n=ht;break}}else _n=0;while(0);pr=_n+500|0,so=_n+504|0,ht=0,Vt=0,tt=It(0),Zt=0;do{if(Ht=o[(o[bs>>2]|0)+(Zt<<2)>>2]|0,(o[Ht+36>>2]|0)==1)Dm(Ht),d[Ht+985>>0]=1,d[Ht+984>>0]=0;else{$o(Ht),Lt&&S0(Ht,km(Ht,us)|0,ln,To,Qr);do if((o[Ht+24>>2]|0)!=1)if((Ht|0)==(_n|0)){o[pr>>2]=o[2278],St[so>>2]=It(0);break}else{K2(a,Ht,Qr,vt,Cs,Qr,Cs,_t,us,zt);break}else Vt|0&&(o[Vt+960>>2]=Ht),o[Ht+960>>2]=0,Vt=Ht,ht=ht|0?ht:Ht;while(0);ls=It(St[Ht+504>>2]),tt=It(tt+It(ls+It(So(Ht,_i,Qr))))}Zt=Zt+1|0}while((Zt|0)!=(vs|0));for(Ms=tt>ln,Vl=nu&((Br|0)==2&Ms)?1:Br,wo=(zl|0)==1,Ys=wo&(Lt^1),B0=(Vl|0)==1,U0=(Vl|0)==2,Fl=976+(_i<<2)|0,V0=(zl|2|0)==2,G0=wo&(nu^1),wu=1040+(Vr<<2)|0,Tu=1040+(_i<<2)|0,z0=976+(Vr<<2)|0,$0=(zl|0)!=1,Ms=nu&((Br|0)!=0&Ms),Ts=a+976|0,wo=wo^1,tt=ln,ro=0,As=0,ls=It(0),ru=It(0);;){e:do if(ro>>>0<vs>>>0)for(so=o[bs>>2]|0,Zt=0,vn=It(0),mn=It(0),In=It(0),ln=It(0),Ht=0,Vt=0,_n=ro;;){if(pr=o[so+(_n<<2)>>2]|0,(o[pr+36>>2]|0)!=1&&(o[pr+940>>2]=As,(o[pr+24>>2]|0)!=1)){if(Cn=It(So(pr,_i,Qr)),mo=o[Fl>>2]|0,ot=It(ho(pr+380+(mo<<3)|0,Rs)),Un=It(St[pr+504>>2]),ot=It(pp(ot,Un)),ot=It(bo(It(ho(pr+364+(mo<<3)|0,Rs)),ot)),nu&(Zt|0)!=0&It(Cn+It(mn+ot))>tt){_t=Zt,Cn=vn,Br=_n;break e}Cn=It(Cn+ot),ot=It(mn+Cn),Cn=It(vn+Cn),Om(pr)|0&&(In=It(In+It(pu(pr))),ln=It(ln-It(Un*It(E0(pr))))),Vt|0&&(o[Vt+960>>2]=pr),o[pr+960>>2]=0,Zt=Zt+1|0,Vt=pr,Ht=Ht|0?Ht:pr}else Cn=vn,ot=mn;if(_n=_n+1|0,_n>>>0<vs>>>0)vn=Cn,mn=ot;else{_t=Zt,Br=_n;break}}else _t=0,Cn=It(0),In=It(0),ln=It(0),Ht=0,Br=ro;while(0);mo=In>It(0)&In<It(1),br=mo?It(1):In,mo=ln>It(0)&ln<It(1),vn=mo?It(1):ln;do if(B0)mo=51;else if(Cn<Mu&((cr(Mu)|0)^1))tt=Mu,mo=51;else if(Cn>Au&((cr(Au)|0)^1))tt=Au,mo=51;else if(d[(o[Ts>>2]|0)+3>>0]|0)mo=51;else{if(br!=It(0)&&It(pu(a))!=It(0)){mo=53;break}tt=Cn,mo=53}while(0);if((mo|0)==51&&(mo=0,cr(tt)|0?mo=53:(Yr=It(tt-Cn),Dr=tt)),(mo|0)==53&&(mo=0,Cn<It(0)?(Yr=It(-Cn),Dr=tt):(Yr=It(0),Dr=tt)),!Ys&&(_c=(Ht|0)==0,!_c)){Zt=o[Fl>>2]|0,_n=Yr<It(0),Un=It(Yr/vn),pr=Yr>It(0),mn=It(Yr/br),In=It(0),Cn=It(0),tt=It(0),Vt=Ht;do ot=It(ho(Vt+380+(Zt<<3)|0,Rs)),ln=It(ho(Vt+364+(Zt<<3)|0,Rs)),ln=It(pp(ot,It(bo(ln,It(St[Vt+504>>2]))))),_n?(ot=It(ln*It(E0(Vt))),ot!=It(-0)&&(Cr=It(ln-It(Un*ot)),e0=It(Fo(Vt,_i,Cr,Dr,Qr)),Cr!=e0)&&(In=It(In-It(e0-ln)),tt=It(tt+ot))):pr&&(Cu=It(pu(Vt)),Cu!=It(0))&&(Cr=It(ln+It(mn*Cu)),t0=It(Fo(Vt,_i,Cr,Dr,Qr)),Cr!=t0)&&(In=It(In-It(t0-ln)),Cn=It(Cn-Cu)),Vt=o[Vt+960>>2]|0;while(Vt|0);if(tt=It(vn+tt),ln=It(Yr+In),_c)tt=It(0);else{Un=It(br+Cn),_n=o[Fl>>2]|0,pr=ln<It(0),so=tt==It(0),mn=It(ln/tt),Zt=ln>It(0),Un=It(ln/Un),tt=It(0);do{Cr=It(ho(Ht+380+(_n<<3)|0,Rs)),In=It(ho(Ht+364+(_n<<3)|0,Rs)),In=It(pp(Cr,It(bo(In,It(St[Ht+504>>2]))))),pr?(Cr=It(In*It(E0(Ht))),ln=It(-Cr),Cr!=It(-0)?(Cr=It(mn*ln),ln=It(Fo(Ht,_i,It(In+(so?ln:Cr)),Dr,Qr))):ln=In):Zt&&(n0=It(pu(Ht)),n0!=It(0))?ln=It(Fo(Ht,_i,It(In+It(Un*n0)),Dr,Qr)):ln=In,tt=It(tt-It(ln-In)),Cn=It(So(Ht,_i,Qr)),ot=It(So(Ht,Vr,Qr)),ln=It(ln+Cn),St[El>>2]=ln,o[Ul>>2]=1,In=It(St[Ht+396>>2]);e:do if(cr(In)|0){Vt=cr(To)|0;do if(!Vt){if(Ms|(Ss(Ht,Vr,To)|0|wo)||(Jl(a,Ht)|0)!=4||(o[(Fu(Ht,Vr)|0)+4>>2]|0)==3||(o[(mu(Ht,Vr)|0)+4>>2]|0)==3)break;St[ps>>2]=To,o[Ds>>2]=1;break e}while(0);if(Ss(Ht,Vr,To)|0){Vt=o[Ht+992+(o[z0>>2]<<2)>>2]|0,Cr=It(ot+It(ho(Vt,To))),St[ps>>2]=Cr,Vt=$0&(o[Vt+4>>2]|0)==2,o[Ds>>2]=((cr(Cr)|0|Vt)^1)&1;break}else{St[ps>>2]=To,o[Ds>>2]=Vt?0:2;break}}else Cr=It(ln-Cn),br=It(Cr/In),Cr=It(In*Cr),o[Ds>>2]=1,St[ps>>2]=It(ot+(Po?br:Cr));while(0);Bu(Ht,_i,Dr,Qr,Ul,El),Bu(Ht,Vr,To,Qr,Ds,ps);do if(!(Ss(Ht,Vr,To)|0)&&(Jl(a,Ht)|0)==4){if((o[(Fu(Ht,Vr)|0)+4>>2]|0)==3){Vt=0;break}Vt=(o[(mu(Ht,Vr)|0)+4>>2]|0)!=3}else Vt=0;while(0);Cr=It(St[El>>2]),br=It(St[ps>>2]),u0=o[Ul>>2]|0,Lo=o[Ds>>2]|0,Pl(Ht,Po?Cr:br,Po?br:Cr,us,Po?u0:Lo,Po?Lo:u0,Qr,Cs,Lt&(Vt^1),3488,zt)|0,d[Bl>>0]=d[Bl>>0]|d[Ht+508>>0],Ht=o[Ht+960>>2]|0}while(Ht|0)}}else tt=It(0);if(tt=It(Yr+tt),Lo=tt<It(0)&1,d[Bl>>0]=Lo|ft[Bl>>0],U0&tt>It(0)?(Vt=o[Fl>>2]|0,o[a+364+(Vt<<3)+4>>2]|0&&(ms=It(ho(a+364+(Vt<<3)|0,Rs)),ms>=It(0))?ln=It(bo(It(0),It(ms-It(Dr-tt)))):ln=It(0)):ln=tt,pr=ro>>>0<Br>>>0,pr){_n=o[bs>>2]|0,Zt=ro,Vt=0;do Ht=o[_n+(Zt<<2)>>2]|0,o[Ht+24>>2]|0||(Vt=((o[(Fu(Ht,_i)|0)+4>>2]|0)==3&1)+Vt|0,Vt=Vt+((o[(mu(Ht,_i)|0)+4>>2]|0)==3&1)|0),Zt=Zt+1|0;while((Zt|0)!=(Br|0));Vt?(Cn=It(0),ot=It(0)):mo=101}else mo=101;e:do if((mo|0)==101)switch(mo=0,H0|0){case 1:{Vt=0,Cn=It(ln*It(.5)),ot=It(0);break e}case 2:{Vt=0,Cn=ln,ot=It(0);break e}case 3:{if(_t>>>0<=1){Vt=0,Cn=It(0),ot=It(0);break e}ot=It((_t+-1|0)>>>0),Vt=0,Cn=It(0),ot=It(It(bo(ln,It(0)))/ot);break e}case 5:{ot=It(ln/It((_t+1|0)>>>0)),Vt=0,Cn=ot;break e}case 4:{ot=It(ln/It(_t>>>0)),Vt=0,Cn=It(ot*It(.5));break e}default:{Vt=0,Cn=It(0),ot=It(0);break e}}while(0);if(tt=It(W0+Cn),pr){In=It(ln/It(Vt|0)),Zt=o[bs>>2]|0,Ht=ro,ln=It(0);do{Vt=o[Zt+(Ht<<2)>>2]|0;e:do if((o[Vt+36>>2]|0)!=1){switch(o[Vt+24>>2]|0){case 1:{if(ga(Vt,_i)|0){if(!Lt)break e;Cr=It(Uu(Vt,_i,Dr)),Cr=It(Cr+It(Nl(a,_i))),Cr=It(Cr+It(fs(Vt,_i,Qr))),St[Vt+400+(o[Tu>>2]<<2)>>2]=Cr;break e}break}case 0:if(Lo=(o[(Fu(Vt,_i)|0)+4>>2]|0)==3,Cr=It(In+tt),tt=Lo?Cr:tt,Lt&&(Lo=Vt+400+(o[Tu>>2]<<2)|0,St[Lo>>2]=It(tt+It(St[Lo>>2]))),Lo=(o[(mu(Vt,_i)|0)+4>>2]|0)==3,Cr=It(In+tt),tt=Lo?Cr:tt,Ys){Cr=It(ot+It(So(Vt,_i,Qr))),ln=To,tt=It(tt+It(Cr+It(St[Vt+504>>2])));break e}else{tt=It(tt+It(ot+It(w0(Vt,_i,Qr)))),ln=It(bo(ln,It(w0(Vt,Vr,Qr))));break e}default:}Lt&&(Cr=It(Cn+It(Nl(a,_i))),Lo=Vt+400+(o[Tu>>2]<<2)|0,St[Lo>>2]=It(Cr+It(St[Lo>>2])))}while(0);Ht=Ht+1|0}while((Ht|0)!=(Br|0))}else ln=It(0);if(ot=It(j0+tt),V0?Cn=It(It(Fo(a,Vr,It(gs+ln),su,wt))-gs):Cn=To,In=It(It(Fo(a,Vr,It(gs+(G0?To:ln)),su,wt))-gs),pr&Lt){Ht=ro;do{Zt=o[(o[bs>>2]|0)+(Ht<<2)>>2]|0;do if((o[Zt+36>>2]|0)!=1){if((o[Zt+24>>2]|0)==1){if(ga(Zt,Vr)|0){if(Cr=It(Uu(Zt,Vr,To)),Cr=It(Cr+It(Nl(a,Vr))),Cr=It(Cr+It(fs(Zt,Vr,Qr))),Vt=o[wu>>2]|0,St[Zt+400+(Vt<<2)>>2]=Cr,!(cr(Cr)|0))break}else Vt=o[wu>>2]|0;Cr=It(Nl(a,Vr)),St[Zt+400+(Vt<<2)>>2]=It(Cr+It(fs(Zt,Vr,Qr)));break}Vt=Jl(a,Zt)|0;do if((Vt|0)==4){if((o[(Fu(Zt,Vr)|0)+4>>2]|0)==3){mo=139;break}if((o[(mu(Zt,Vr)|0)+4>>2]|0)==3){mo=139;break}if(Ss(Zt,Vr,To)|0){tt=dn;break}u0=o[Zt+908+(o[Fl>>2]<<2)>>2]|0,o[ps>>2]=u0,tt=It(St[Zt+396>>2]),Lo=cr(tt)|0,ln=(o[Ct>>2]=u0,It(St[Ct>>2])),Lo?tt=In:(Yr=It(So(Zt,Vr,Qr)),Cr=It(ln/tt),tt=It(tt*ln),tt=It(Yr+(Po?Cr:tt))),St[El>>2]=tt,St[ps>>2]=It(It(So(Zt,_i,Qr))+ln),o[Ds>>2]=1,o[Ul>>2]=1,Bu(Zt,_i,Dr,Qr,Ds,ps),Bu(Zt,Vr,To,Qr,Ul,El),tt=It(St[ps>>2]),Yr=It(St[El>>2]),Cr=Po?tt:Yr,tt=Po?Yr:tt,Lo=((cr(Cr)|0)^1)&1,Pl(Zt,Cr,tt,us,Lo,((cr(tt)|0)^1)&1,Qr,Cs,1,3493,zt)|0,tt=dn}else mo=139;while(0);e:do if((mo|0)==139){mo=0,tt=It(Cn-It(w0(Zt,Vr,Qr)));do if((o[(Fu(Zt,Vr)|0)+4>>2]|0)==3){if((o[(mu(Zt,Vr)|0)+4>>2]|0)!=3)break;tt=It(dn+It(bo(It(0),It(tt*It(.5)))));break e}while(0);if((o[(mu(Zt,Vr)|0)+4>>2]|0)==3){tt=dn;break}if((o[(Fu(Zt,Vr)|0)+4>>2]|0)==3){tt=It(dn+It(bo(It(0),tt)));break}switch(Vt|0){case 1:{tt=dn;break e}case 2:{tt=It(dn+It(tt*It(.5)));break e}default:{tt=It(dn+tt);break e}}}while(0);Cr=It(ls+tt),Lo=Zt+400+(o[wu>>2]<<2)|0,St[Lo>>2]=It(Cr+It(St[Lo>>2]))}while(0);Ht=Ht+1|0}while((Ht|0)!=(Br|0))}if(ls=It(ls+In),ru=It(bo(ru,ot)),_t=As+1|0,Br>>>0>=vs>>>0)break;tt=Dr,ro=Br,As=_t}do if(Lt){if(Vt=_t>>>0>1,!Vt&&!(Y2(a)|0))break;if(!(cr(To)|0)){tt=It(To-ls);e:do switch(o[a+12>>2]|0){case 3:{dn=It(dn+tt),mn=It(0);break}case 2:{dn=It(dn+It(tt*It(.5))),mn=It(0);break}case 4:{To>ls?mn=It(tt/It(_t>>>0)):mn=It(0);break}case 7:if(To>ls){dn=It(dn+It(tt/It(_t<<1>>>0))),mn=It(tt/It(_t>>>0)),mn=Vt?mn:It(0);break e}else{dn=It(dn+It(tt*It(.5))),mn=It(0);break e}case 6:{mn=It(tt/It(As>>>0)),mn=To>ls&Vt?mn:It(0);break}default:mn=It(0)}while(0);if(_t|0)for(pr=1040+(Vr<<2)|0,so=976+(Vr<<2)|0,_n=0,Ht=0;;){e:do if(Ht>>>0<vs>>>0)for(ln=It(0),In=It(0),tt=It(0),Zt=Ht;;){Vt=o[(o[bs>>2]|0)+(Zt<<2)>>2]|0;do if((o[Vt+36>>2]|0)!=1&&!(o[Vt+24>>2]|0)){if((o[Vt+940>>2]|0)!=(_n|0))break e;if(Q2(Vt,Vr)|0&&(Cr=It(St[Vt+908+(o[so>>2]<<2)>>2]),tt=It(bo(tt,It(Cr+It(So(Vt,Vr,Qr)))))),(Jl(a,Vt)|0)!=5)break;ms=It(Fm(Vt)),ms=It(ms+It(fs(Vt,0,Qr))),Cr=It(St[Vt+912>>2]),Cr=It(It(Cr+It(So(Vt,0,Qr)))-ms),ms=It(bo(In,ms)),Cr=It(bo(ln,Cr)),ln=Cr,In=ms,tt=It(bo(tt,It(ms+Cr)))}while(0);if(Vt=Zt+1|0,Vt>>>0<vs>>>0)Zt=Vt;else{Zt=Vt;break}}else In=It(0),tt=It(0),Zt=Ht;while(0);if(Un=It(mn+tt),ot=dn,dn=It(dn+Un),Ht>>>0<Zt>>>0){Cn=It(ot+In),Vt=Ht;do{Ht=o[(o[bs>>2]|0)+(Vt<<2)>>2]|0;e:do if((o[Ht+36>>2]|0)!=1&&!(o[Ht+24>>2]|0))switch(Jl(a,Ht)|0){case 1:{Cr=It(ot+It(fs(Ht,Vr,Qr))),St[Ht+400+(o[pr>>2]<<2)>>2]=Cr;break e}case 3:{Cr=It(It(dn-It(Ll(Ht,Vr,Qr)))-It(St[Ht+908+(o[so>>2]<<2)>>2])),St[Ht+400+(o[pr>>2]<<2)>>2]=Cr;break e}case 2:{Cr=It(ot+It(It(Un-It(St[Ht+908+(o[so>>2]<<2)>>2]))*It(.5))),St[Ht+400+(o[pr>>2]<<2)>>2]=Cr;break e}case 4:{if(Cr=It(ot+It(fs(Ht,Vr,Qr))),St[Ht+400+(o[pr>>2]<<2)>>2]=Cr,Ss(Ht,Vr,To)|0||(Po?(ln=It(St[Ht+908>>2]),tt=It(ln+It(So(Ht,_i,Qr))),In=Un):(In=It(St[Ht+912>>2]),In=It(In+It(So(Ht,Vr,Qr))),tt=Un,ln=It(St[Ht+908>>2])),No(tt,ln)|0&&No(In,It(St[Ht+912>>2]))|0))break e;Pl(Ht,tt,In,us,1,1,Qr,Cs,1,3501,zt)|0;break e}case 5:{St[Ht+404>>2]=It(It(Cn-It(Fm(Ht)))+It(Uu(Ht,0,To)));break e}default:break e}while(0);Vt=Vt+1|0}while((Vt|0)!=(Zt|0))}if(_n=_n+1|0,(_n|0)==(_t|0))break;Ht=Zt}}}while(0);if(St[a+908>>2]=It(Fo(a,2,iu,wt,wt)),St[a+912>>2]=It(Fo(a,0,r0,Pt,wt)),Vl|0&&(i0=o[a+32>>2]|0,o0=(Vl|0)==2,!(o0&(i0|0)!=2))?o0&(i0|0)==2&&(tt=It(ou+Dr),tt=It(bo(It(pp(tt,It(J0(a,_i,ru,Rs)))),ou)),mo=198):(tt=It(Fo(a,_i,ru,Rs,wt)),mo=198),(mo|0)==198&&(St[a+908+(o[976+(_i<<2)>>2]<<2)>>2]=tt),zl|0&&(a0=o[a+32>>2]|0,l0=(zl|0)==2,!(l0&(a0|0)!=2))?l0&(a0|0)==2&&(tt=It(gs+To),tt=It(bo(It(pp(tt,It(J0(a,Vr,It(gs+ls),su)))),gs)),mo=204):(tt=It(Fo(a,Vr,It(gs+ls),su,wt)),mo=204),(mo|0)==204&&(St[a+908+(o[976+(Vr<<2)>>2]<<2)>>2]=tt),Lt){if((o[s0>>2]|0)==2){Ht=976+(Vr<<2)|0,Zt=1040+(Vr<<2)|0,Vt=0;do _n=Zs(a,Vt)|0,o[_n+24>>2]|0||(u0=o[Ht>>2]|0,Cr=It(St[a+908+(u0<<2)>>2]),Lo=_n+400+(o[Zt>>2]<<2)|0,Cr=It(Cr-It(St[Lo>>2])),St[Lo>>2]=It(Cr-It(St[_n+908+(u0<<2)>>2]))),Vt=Vt+1|0;while((Vt|0)!=(vs|0))}if(ht|0){Vt=Po?Vl:vt;do Bm(a,ht,Qr,Vt,Cs,us,zt),ht=o[ht+960>>2]|0;while(ht|0)}if(Vt=(_i|2|0)==3,Ht=(Vr|2|0)==3,Vt|Ht){ht=0;do Zt=o[(o[bs>>2]|0)+(ht<<2)>>2]|0,(o[Zt+36>>2]|0)!=1&&(Vt&&U1(a,Zt,_i),Ht&&U1(a,Zt,Vr)),ht=ht+1|0;while((ht|0)!=(vs|0))}}}while(0);yt=$l}function Oo(a,tt){a=a|0,tt=It(tt);var ot=0;Do(a,tt>=It(0),3147),ot=tt==It(0),St[a+4>>2]=ot?It(0):tt}function Jo(a,tt,ot,ht){a=a|0,tt=It(tt),ot=It(ot),ht=ht|0;var vt=Bn,_t=Bn,wt=0,Pt=0,Lt=0;o[2278]=(o[2278]|0)+1,$o(a),Ss(a,2,tt)|0?(vt=It(ho(o[a+992>>2]|0,tt)),Lt=1,vt=It(vt+It(So(a,2,tt)))):(vt=It(ho(a+380|0,tt)),vt>=It(0)?Lt=2:(Lt=((cr(tt)|0)^1)&1,vt=tt)),Ss(a,0,ot)|0?(_t=It(ho(o[a+996>>2]|0,ot)),Pt=1,_t=It(_t+It(So(a,0,tt)))):(_t=It(ho(a+388|0,ot)),_t>=It(0)?Pt=2:(Pt=((cr(ot)|0)^1)&1,_t=ot)),wt=a+976|0,Pl(a,vt,_t,ht,Lt,Pt,tt,ot,1,3189,o[wt>>2]|0)|0&&(S0(a,o[a+496>>2]|0,tt,ot,tt),B1(a,It(St[(o[wt>>2]|0)+4>>2]),It(0),It(0)),d[11696]|0)&&_0(a,7)}function $o(a){a=a|0;var tt=0,ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;Pt=yt,yt=yt+32|0,wt=Pt+24|0,_t=Pt+16|0,ht=Pt+8|0,vt=Pt,ot=0;do tt=a+380+(ot<<3)|0,o[a+380+(ot<<3)+4>>2]|0&&(Lt=tt,zt=o[Lt+4>>2]|0,Vt=ht,o[Vt>>2]=o[Lt>>2],o[Vt+4>>2]=zt,Vt=a+364+(ot<<3)|0,zt=o[Vt+4>>2]|0,Lt=vt,o[Lt>>2]=o[Vt>>2],o[Lt+4>>2]=zt,o[_t>>2]=o[ht>>2],o[_t+4>>2]=o[ht+4>>2],o[wt>>2]=o[vt>>2],o[wt+4>>2]=o[vt+4>>2],zs(_t,wt)|0)||(tt=a+348+(ot<<3)|0),o[a+992+(ot<<2)>>2]=tt,ot=ot+1|0;while((ot|0)!=2);yt=Pt}function Ss(a,tt,ot){a=a|0,tt=tt|0,ot=It(ot);var ht=0;switch(a=o[a+992+(o[976+(tt<<2)>>2]<<2)>>2]|0,o[a+4>>2]|0){case 0:case 3:{a=0;break}case 1:{It(St[a>>2])<It(0)?a=0:ht=5;break}case 2:{It(St[a>>2])<It(0)?a=0:a=(cr(ot)|0)^1;break}default:ht=5}return(ht|0)==5&&(a=1),a|0}function ho(a,tt){switch(a=a|0,tt=It(tt),o[a+4>>2]|0){case 2:{tt=It(It(It(St[a>>2])*tt)/It(100));break}case 1:{tt=It(St[a>>2]);break}default:tt=It(Gt)}return It(tt)}function S0(a,tt,ot,ht,vt){a=a|0,tt=tt|0,ot=It(ot),ht=It(ht),vt=It(vt);var _t=0,wt=Bn;tt=o[a+944>>2]|0?tt:1,_t=hu(o[a+4>>2]|0,tt)|0,tt=Du(_t,tt)|0,ot=It(xa(a,_t,ot)),ht=It(xa(a,tt,ht)),wt=It(ot+It(fs(a,_t,vt))),St[a+400+(o[1040+(_t<<2)>>2]<<2)>>2]=wt,ot=It(ot+It(Ll(a,_t,vt))),St[a+400+(o[1e3+(_t<<2)>>2]<<2)>>2]=ot,ot=It(ht+It(fs(a,tt,vt))),St[a+400+(o[1040+(tt<<2)>>2]<<2)>>2]=ot,vt=It(ht+It(Ll(a,tt,vt))),St[a+400+(o[1e3+(tt<<2)>>2]<<2)>>2]=vt}function B1(a,tt,ot,ht){a=a|0,tt=It(tt),ot=It(ot),ht=It(ht);var vt=0,_t=0,wt=Bn,Pt=Bn,Lt=0,zt=0,Vt=Bn,Ht=0,Zt=Bn,_n=Bn,dn=Bn,ln=Bn;if(tt!=It(0)&&(vt=a+400|0,ln=It(St[vt>>2]),_t=a+404|0,dn=It(St[_t>>2]),Ht=a+416|0,_n=It(St[Ht>>2]),zt=a+420|0,wt=It(St[zt>>2]),Zt=It(ln+ot),Vt=It(dn+ht),ht=It(Zt+_n),Pt=It(Vt+wt),Lt=(o[a+988>>2]|0)==1,St[vt>>2]=It($s(ln,tt,0,Lt)),St[_t>>2]=It($s(dn,tt,0,Lt)),ot=It(v_(It(_n*tt),It(1))),No(ot,It(0))|0?_t=0:_t=(No(ot,It(1))|0)^1,ot=It(v_(It(wt*tt),It(1))),No(ot,It(0))|0?vt=0:vt=(No(ot,It(1))|0)^1,ln=It($s(ht,tt,Lt&_t,Lt&(_t^1))),St[Ht>>2]=It(ln-It($s(Zt,tt,0,Lt))),ln=It($s(Pt,tt,Lt&vt,Lt&(vt^1))),St[zt>>2]=It(ln-It($s(Vt,tt,0,Lt))),_t=(o[a+952>>2]|0)-(o[a+948>>2]|0)>>2,_t|0)){vt=0;do B1(Zs(a,vt)|0,tt,Zt,Vt),vt=vt+1|0;while((vt|0)!=(_t|0))}}function es(a,tt,ot,ht,vt){switch(a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0,ot|0){case 5:case 0:{a=Px(o[489]|0,ht,vt)|0;break}default:a=zD(ht,vt)|0}return a|0}function bm(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0;vt=yt,yt=yt+16|0,_t=vt,o[_t>>2]=ht,Np(a,0,tt,ot,_t),yt=vt}function Np(a,tt,ot,ht,vt){if(a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0,a=a|0?a:956,Qx[o[a+8>>2]&1](a,tt,ot,ht,vt)|0,(ot|0)==5)eo();else return}function Pm(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,d[a+tt>>0]=ot&1}function Ql(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;o[a>>2]=0,o[a+4>>2]=0,o[a+8>>2]=0,ot=tt+4|0,ht=(o[ot>>2]|0)-(o[tt>>2]|0)>>2,ht|0&&(Il(a,ht),Nu(a,o[tt>>2]|0,o[ot>>2]|0,ht))}function Il(a,tt){a=a|0,tt=tt|0;var ot=0;if((Z0(a)|0)>>>0<tt>>>0&&po(a),tt>>>0>1073741823)eo();else{ot=Ar(tt<<2)|0,o[a+4>>2]=ot,o[a>>2]=ot,o[a+8>>2]=ot+(tt<<2);return}}function Nu(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,ht=a+4|0,a=ot-tt|0,(a|0)>0&&(Kr(o[ht>>2]|0,tt|0,a|0)|0,o[ht>>2]=(o[ht>>2]|0)+(a>>>2<<2))}function Z0(a){return a=a|0,1073741823}function fs(a,tt,ot){return a=a|0,tt=tt|0,ot=It(ot),Ko(tt)|0&&o[a+96>>2]|0?a=a+92|0:a=Co(a+60|0,o[1040+(tt<<2)>>2]|0,992)|0,It(Im(a,ot))}function Ll(a,tt,ot){return a=a|0,tt=tt|0,ot=It(ot),Ko(tt)|0&&o[a+104>>2]|0?a=a+100|0:a=Co(a+60|0,o[1e3+(tt<<2)>>2]|0,992)|0,It(Im(a,ot))}function Ko(a){return a=a|0,(a|1|0)==3|0}function Im(a,tt){return a=a|0,tt=It(tt),(o[a+4>>2]|0)==3?tt=It(0):tt=It(ho(a,tt)),It(tt)}function km(a,tt){return a=a|0,tt=tt|0,a=o[a>>2]|0,(a|0?a:(tt|0)>1?tt:1)|0}function hu(a,tt){a=a|0,tt=tt|0;var ot=0;e:do if((tt|0)==2){switch(a|0){case 2:{a=3;break e}case 3:break;default:{ot=4;break e}}a=2}else ot=4;while(0);return a|0}function Nl(a,tt){a=a|0,tt=tt|0;var ot=Bn;return Ko(tt)|0&&o[a+312>>2]|0&&(ot=It(St[a+308>>2]),ot>=It(0))||(ot=It(bo(It(St[(Co(a+276|0,o[1040+(tt<<2)>>2]|0,992)|0)>>2]),It(0)))),It(ot)}function Zl(a,tt){a=a|0,tt=tt|0;var ot=Bn;return Ko(tt)|0&&o[a+320>>2]|0&&(ot=It(St[a+316>>2]),ot>=It(0))||(ot=It(bo(It(St[(Co(a+276|0,o[1e3+(tt<<2)>>2]|0,992)|0)>>2]),It(0)))),It(ot)}function Ou(a,tt,ot){a=a|0,tt=tt|0,ot=It(ot);var ht=Bn;return Ko(tt)|0&&o[a+240>>2]|0&&(ht=It(ho(a+236|0,ot)),ht>=It(0))||(ht=It(bo(It(ho(Co(a+204|0,o[1040+(tt<<2)>>2]|0,992)|0,ot)),It(0)))),It(ht)}function Op(a,tt,ot){a=a|0,tt=tt|0,ot=It(ot);var ht=Bn;return Ko(tt)|0&&o[a+248>>2]|0&&(ht=It(ho(a+244|0,ot)),ht>=It(0))||(ht=It(bo(It(ho(Co(a+204|0,o[1e3+(tt<<2)>>2]|0,992)|0,ot)),It(0)))),It(ht)}function Dp(a,tt,ot,ht,vt,_t,wt){a=a|0,tt=It(tt),ot=It(ot),ht=ht|0,vt=vt|0,_t=It(_t),wt=It(wt);var Pt=Bn,Lt=Bn,zt=Bn,Vt=Bn,Ht=Bn,Zt=Bn,_n=0,dn=0,ln=0;ln=yt,yt=yt+16|0,_n=ln,dn=a+964|0,to(a,(o[dn>>2]|0)!=0,3519),Pt=It(Hs(a,2,tt)),Lt=It(Hs(a,0,tt)),zt=It(So(a,2,tt)),Vt=It(So(a,0,tt)),cr(tt)|0?Ht=tt:Ht=It(bo(It(0),It(It(tt-zt)-Pt))),cr(ot)|0?Zt=ot:Zt=It(bo(It(0),It(It(ot-Vt)-Lt))),(ht|0)==1&(vt|0)==1?(St[a+908>>2]=It(Fo(a,2,It(tt-zt),_t,_t)),tt=It(Fo(a,0,It(ot-Vt),wt,_t))):(Zx[o[dn>>2]&1](_n,a,Ht,ht,Zt,vt),Ht=It(Pt+It(St[_n>>2])),Zt=It(tt-zt),St[a+908>>2]=It(Fo(a,2,(ht|2|0)==2?Ht:Zt,_t,_t)),Zt=It(Lt+It(St[_n+4>>2])),tt=It(ot-Vt),tt=It(Fo(a,0,(vt|2|0)==2?Zt:tt,wt,_t))),St[a+912>>2]=tt,yt=ln}function Fp(a,tt,ot,ht,vt,_t,wt){a=a|0,tt=It(tt),ot=It(ot),ht=ht|0,vt=vt|0,_t=It(_t),wt=It(wt);var Pt=Bn,Lt=Bn,zt=Bn,Vt=Bn;zt=It(Hs(a,2,_t)),Pt=It(Hs(a,0,_t)),Vt=It(So(a,2,_t)),Lt=It(So(a,0,_t)),tt=It(tt-Vt),St[a+908>>2]=It(Fo(a,2,(ht|2|0)==2?zt:tt,_t,_t)),ot=It(ot-Lt),St[a+912>>2]=It(Fo(a,0,(vt|2|0)==2?Pt:ot,wt,_t))}function Lm(a,tt,ot,ht,vt,_t,wt){a=a|0,tt=It(tt),ot=It(ot),ht=ht|0,vt=vt|0,_t=It(_t),wt=It(wt);var Pt=0,Lt=Bn,zt=Bn;return Pt=(ht|0)==2,!(tt<=It(0)&Pt)&&!(ot<=It(0)&(vt|0)==2)&&!((ht|0)==1&(vt|0)==1)?a=0:(Lt=It(So(a,0,_t)),zt=It(So(a,2,_t)),Pt=tt<It(0)&Pt|(cr(tt)|0),tt=It(tt-zt),St[a+908>>2]=It(Fo(a,2,Pt?It(0):tt,_t,_t)),tt=It(ot-Lt),Pt=ot<It(0)&(vt|0)==2|(cr(ot)|0),St[a+912>>2]=It(Fo(a,0,Pt?It(0):tt,wt,_t)),a=1),a|0}function Du(a,tt){return a=a|0,tt=tt|0,_f(a)|0?a=hu(2,tt)|0:a=0,a|0}function Bp(a,tt,ot){return a=a|0,tt=tt|0,ot=It(ot),ot=It(Ou(a,tt,ot)),It(ot+It(Nl(a,tt)))}function Nm(a,tt,ot){return a=a|0,tt=tt|0,ot=It(ot),ot=It(Op(a,tt,ot)),It(ot+It(Zl(a,tt)))}function Hs(a,tt,ot){a=a|0,tt=tt|0,ot=It(ot);var ht=Bn;return ht=It(Bp(a,tt,ot)),It(ht+It(Nm(a,tt,ot)))}function Om(a){return a=a|0,o[a+24>>2]|0?a=0:It(pu(a))!=It(0)?a=1:a=It(E0(a))!=It(0),a|0}function pu(a){a=a|0;var tt=Bn;if(o[a+944>>2]|0){if(tt=It(St[a+44>>2]),cr(tt)|0)return tt=It(St[a+40>>2]),a=tt>It(0)&((cr(tt)|0)^1),It(a?tt:It(0))}else tt=It(0);return It(tt)}function E0(a){a=a|0;var tt=Bn,ot=0,ht=Bn;do if(o[a+944>>2]|0){if(tt=It(St[a+48>>2]),cr(tt)|0){if(ot=d[(o[a+976>>2]|0)+2>>0]|0,!(ot<<24>>24)&&(ht=It(St[a+40>>2]),ht<It(0)&((cr(ht)|0)^1))){tt=It(-ht);break}tt=ot<<24>>24?It(1):It(0)}}else tt=It(0);while(0);return It(tt)}function Dm(a){a=a|0;var tt=0,ot=0;if(um(a+400|0,0,540)|0,d[a+985>>0]=1,q0(a),ot=Qs(a)|0,ot|0){tt=a+948|0,a=0;do Dm(o[(o[tt>>2]|0)+(a<<2)>>2]|0),a=a+1|0;while((a|0)!=(ot|0))}}function K2(a,tt,ot,ht,vt,_t,wt,Pt,Lt,zt){a=a|0,tt=tt|0,ot=It(ot),ht=ht|0,vt=It(vt),_t=It(_t),wt=It(wt),Pt=Pt|0,Lt=Lt|0,zt=zt|0;var Vt=0,Ht=Bn,Zt=0,_n=0,dn=Bn,ln=Bn,In=0,Cn=Bn,Un=0,mn=Bn,vn=0,pr=0,so=0,Br=0,br=0,Yr=0,ro=0,Dr=0,wo=0,Ts=0;wo=yt,yt=yt+16|0,so=wo+12|0,Br=wo+8|0,br=wo+4|0,Yr=wo,Dr=hu(o[a+4>>2]|0,Lt)|0,vn=Ko(Dr)|0,Ht=It(ho(V1(tt)|0,vn?_t:wt)),pr=Ss(tt,2,_t)|0,ro=Ss(tt,0,wt)|0;do if(!(cr(Ht)|0)&&!(cr(vn?ot:vt)|0)){if(Vt=tt+504|0,!(cr(It(St[Vt>>2]))|0)&&(!(Um(o[tt+976>>2]|0,0)|0)||(o[tt+500>>2]|0)==(o[2278]|0)))break;St[Vt>>2]=It(bo(Ht,It(Hs(tt,Dr,_t))))}else Zt=7;while(0);do if((Zt|0)==7){if(Un=vn^1,!(Un|pr^1)){wt=It(ho(o[tt+992>>2]|0,_t)),St[tt+504>>2]=It(bo(wt,It(Hs(tt,2,_t))));break}if(!(vn|ro^1)){wt=It(ho(o[tt+996>>2]|0,wt)),St[tt+504>>2]=It(bo(wt,It(Hs(tt,0,_t))));break}St[so>>2]=It(Gt),St[Br>>2]=It(Gt),o[br>>2]=0,o[Yr>>2]=0,Cn=It(So(tt,2,_t)),mn=It(So(tt,0,_t)),pr?(dn=It(Cn+It(ho(o[tt+992>>2]|0,_t))),St[so>>2]=dn,o[br>>2]=1,_n=1):(_n=0,dn=It(Gt)),ro?(Ht=It(mn+It(ho(o[tt+996>>2]|0,wt))),St[Br>>2]=Ht,o[Yr>>2]=1,Vt=1):(Vt=0,Ht=It(Gt)),Zt=o[a+32>>2]|0,vn&(Zt|0)==2?Zt=2:cr(dn)|0&&!(cr(ot)|0)&&(St[so>>2]=ot,o[br>>2]=2,_n=2,dn=ot),!((Zt|0)==2&Un)&&cr(Ht)|0&&!(cr(vt)|0)&&(St[Br>>2]=vt,o[Yr>>2]=2,Vt=2,Ht=vt),ln=It(St[tt+396>>2]),In=cr(ln)|0;do if(In)Zt=_n;else{if((_n|0)==1&Un){St[Br>>2]=It(It(dn-Cn)/ln),o[Yr>>2]=1,Vt=1,Zt=1;break}vn&(Vt|0)==1?(St[so>>2]=It(ln*It(Ht-mn)),o[br>>2]=1,Vt=1,Zt=1):Zt=_n}while(0);Ts=cr(ot)|0,_n=(Jl(a,tt)|0)!=4,!(vn|pr|((ht|0)!=1|Ts)|(_n|(Zt|0)==1))&&(St[so>>2]=ot,o[br>>2]=1,!In)&&(St[Br>>2]=It(It(ot-Cn)/ln),o[Yr>>2]=1,Vt=1),!(ro|Un|((Pt|0)!=1|(cr(vt)|0))|(_n|(Vt|0)==1))&&(St[Br>>2]=vt,o[Yr>>2]=1,!In)&&(St[so>>2]=It(ln*It(vt-mn)),o[br>>2]=1),Bu(tt,2,_t,_t,br,so),Bu(tt,0,wt,_t,Yr,Br),ot=It(St[so>>2]),vt=It(St[Br>>2]),Pl(tt,ot,vt,Lt,o[br>>2]|0,o[Yr>>2]|0,_t,wt,0,3565,zt)|0,wt=It(St[tt+908+(o[976+(Dr<<2)>>2]<<2)>>2]),St[tt+504>>2]=It(bo(wt,It(Hs(tt,Dr,_t))))}while(0);o[tt+500>>2]=o[2278],yt=wo}function Fo(a,tt,ot,ht,vt){return a=a|0,tt=tt|0,ot=It(ot),ht=It(ht),vt=It(vt),ht=It(J0(a,tt,ot,ht)),It(bo(ht,It(Hs(a,tt,vt))))}function Jl(a,tt){return a=a|0,tt=tt|0,tt=tt+20|0,tt=o[(o[tt>>2]|0?tt:a+16|0)>>2]|0,(tt|0)==5&&_f(o[a+4>>2]|0)|0&&(tt=1),tt|0}function Fu(a,tt){return a=a|0,tt=tt|0,Ko(tt)|0&&o[a+96>>2]|0?tt=4:tt=o[1040+(tt<<2)>>2]|0,a+60+(tt<<3)|0}function mu(a,tt){return a=a|0,tt=tt|0,Ko(tt)|0&&o[a+104>>2]|0?tt=5:tt=o[1e3+(tt<<2)>>2]|0,a+60+(tt<<3)|0}function Bu(a,tt,ot,ht,vt,_t){switch(a=a|0,tt=tt|0,ot=It(ot),ht=It(ht),vt=vt|0,_t=_t|0,ot=It(ho(a+380+(o[976+(tt<<2)>>2]<<3)|0,ot)),ot=It(ot+It(So(a,tt,ht))),o[vt>>2]|0){case 2:case 1:{vt=cr(ot)|0,ht=It(St[_t>>2]),St[_t>>2]=vt|ht<ot?ht:ot;break}case 0:{cr(ot)|0||(o[vt>>2]=2,St[_t>>2]=ot);break}default:}}function ga(a,tt){return a=a|0,tt=tt|0,a=a+132|0,Ko(tt)|0&&o[(Co(a,4,948)|0)+4>>2]|0?a=1:a=(o[(Co(a,o[1040+(tt<<2)>>2]|0,948)|0)+4>>2]|0)!=0,a|0}function Uu(a,tt,ot){a=a|0,tt=tt|0,ot=It(ot);var ht=0,vt=0;return a=a+132|0,Ko(tt)|0&&(ht=Co(a,4,948)|0,(o[ht+4>>2]|0)!=0)?vt=4:(ht=Co(a,o[1040+(tt<<2)>>2]|0,948)|0,o[ht+4>>2]|0?vt=4:ot=It(0)),(vt|0)==4&&(ot=It(ho(ht,ot))),It(ot)}function w0(a,tt,ot){a=a|0,tt=tt|0,ot=It(ot);var ht=Bn;return ht=It(St[a+908+(o[976+(tt<<2)>>2]<<2)>>2]),ht=It(ht+It(fs(a,tt,ot))),It(ht+It(Ll(a,tt,ot)))}function Y2(a){a=a|0;var tt=0,ot=0,ht=0;e:do if(_f(o[a+4>>2]|0)|0)tt=0;else if((o[a+16>>2]|0)!=5)if(ot=Qs(a)|0,!ot)tt=0;else for(tt=0;;){if(ht=Zs(a,tt)|0,!(o[ht+24>>2]|0)&&(o[ht+20>>2]|0)==5){tt=1;break e}if(tt=tt+1|0,tt>>>0>=ot>>>0){tt=0;break}}else tt=1;while(0);return tt|0}function Q2(a,tt){a=a|0,tt=tt|0;var ot=Bn;return ot=It(St[a+908+(o[976+(tt<<2)>>2]<<2)>>2]),ot>=It(0)&((cr(ot)|0)^1)|0}function Fm(a){a=a|0;var tt=Bn,ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=Bn;if(ot=o[a+968>>2]|0,ot)Lt=It(St[a+908>>2]),tt=It(St[a+912>>2]),tt=It(qx[ot&0](a,Lt,tt)),to(a,(cr(tt)|0)^1,3573);else{_t=Qs(a)|0;do if(_t|0){for(ot=0,vt=0;;){if(ht=Zs(a,vt)|0,o[ht+940>>2]|0){wt=8;break}if((o[ht+24>>2]|0)!=1)if(Pt=(Jl(a,ht)|0)==5,Pt){ot=ht;break}else ot=ot|0?ot:ht;if(vt=vt+1|0,vt>>>0>=_t>>>0){wt=8;break}}if((wt|0)==8&&!ot)break;return tt=It(Fm(ot)),It(tt+It(St[ot+404>>2]))}while(0);tt=It(St[a+912>>2])}return It(tt)}function J0(a,tt,ot,ht){a=a|0,tt=tt|0,ot=It(ot),ht=It(ht);var vt=Bn,_t=0;return _f(tt)|0?(tt=1,_t=3):Ko(tt)|0?(tt=0,_t=3):(ht=It(Gt),vt=It(Gt)),(_t|0)==3&&(vt=It(ho(a+364+(tt<<3)|0,ht)),ht=It(ho(a+380+(tt<<3)|0,ht))),_t=ht<ot&(ht>=It(0)&((cr(ht)|0)^1)),ot=_t?ht:ot,_t=vt>=It(0)&((cr(vt)|0)^1)&ot<vt,It(_t?vt:ot)}function Bm(a,tt,ot,ht,vt,_t,wt){a=a|0,tt=tt|0,ot=It(ot),ht=ht|0,vt=It(vt),_t=_t|0,wt=wt|0;var Pt=Bn,Lt=Bn,zt=0,Vt=0,Ht=Bn,Zt=Bn,_n=Bn,dn=0,ln=0,In=0,Cn=0,Un=Bn,mn=0;In=hu(o[a+4>>2]|0,_t)|0,dn=Du(In,_t)|0,ln=Ko(In)|0,Ht=It(So(tt,2,ot)),Zt=It(So(tt,0,ot)),Ss(tt,2,ot)|0?Pt=It(Ht+It(ho(o[tt+992>>2]|0,ot))):ga(tt,2)|0&&_d(tt,2)|0?(Pt=It(St[a+908>>2]),Lt=It(Nl(a,2)),Lt=It(Pt-It(Lt+It(Zl(a,2)))),Pt=It(Uu(tt,2,ot)),Pt=It(Fo(tt,2,It(Lt-It(Pt+It(T0(tt,2,ot)))),ot,ot))):Pt=It(Gt),Ss(tt,0,vt)|0?Lt=It(Zt+It(ho(o[tt+996>>2]|0,vt))):ga(tt,0)|0&&_d(tt,0)|0?(Lt=It(St[a+912>>2]),Un=It(Nl(a,0)),Un=It(Lt-It(Un+It(Zl(a,0)))),Lt=It(Uu(tt,0,vt)),Lt=It(Fo(tt,0,It(Un-It(Lt+It(T0(tt,0,vt)))),vt,ot))):Lt=It(Gt),zt=cr(Pt)|0,Vt=cr(Lt)|0;do if(zt^Vt&&(_n=It(St[tt+396>>2]),!(cr(_n)|0)))if(zt){Pt=It(Ht+It(It(Lt-Zt)*_n));break}else{Un=It(Zt+It(It(Pt-Ht)/_n)),Lt=Vt?Un:Lt;break}while(0);Vt=cr(Pt)|0,zt=cr(Lt)|0,Vt|zt&&(mn=(Vt^1)&1,ht=ot>It(0)&((ht|0)!=0&Vt),Pt=ln?Pt:ht?ot:Pt,Pl(tt,Pt,Lt,_t,ln?mn:ht?2:mn,Vt&(zt^1)&1,Pt,Lt,0,3623,wt)|0,Pt=It(St[tt+908>>2]),Pt=It(Pt+It(So(tt,2,ot))),Lt=It(St[tt+912>>2]),Lt=It(Lt+It(So(tt,0,ot)))),Pl(tt,Pt,Lt,_t,1,1,Pt,Lt,1,3635,wt)|0,_d(tt,In)|0&&!(ga(tt,In)|0)?(mn=o[976+(In<<2)>>2]|0,Un=It(St[a+908+(mn<<2)>>2]),Un=It(Un-It(St[tt+908+(mn<<2)>>2])),Un=It(Un-It(Zl(a,In))),Un=It(Un-It(Ll(tt,In,ot))),Un=It(Un-It(T0(tt,In,ln?ot:vt))),St[tt+400+(o[1040+(In<<2)>>2]<<2)>>2]=Un):Cn=21;do if((Cn|0)==21){if(!(ga(tt,In)|0)&&(o[a+8>>2]|0)==1){mn=o[976+(In<<2)>>2]|0,Un=It(St[a+908+(mn<<2)>>2]),Un=It(It(Un-It(St[tt+908+(mn<<2)>>2]))*It(.5)),St[tt+400+(o[1040+(In<<2)>>2]<<2)>>2]=Un;break}!(ga(tt,In)|0)&&(o[a+8>>2]|0)==2&&(mn=o[976+(In<<2)>>2]|0,Un=It(St[a+908+(mn<<2)>>2]),Un=It(Un-It(St[tt+908+(mn<<2)>>2])),St[tt+400+(o[1040+(In<<2)>>2]<<2)>>2]=Un)}while(0);_d(tt,dn)|0&&!(ga(tt,dn)|0)?(mn=o[976+(dn<<2)>>2]|0,Un=It(St[a+908+(mn<<2)>>2]),Un=It(Un-It(St[tt+908+(mn<<2)>>2])),Un=It(Un-It(Zl(a,dn))),Un=It(Un-It(Ll(tt,dn,ot))),Un=It(Un-It(T0(tt,dn,ln?vt:ot))),St[tt+400+(o[1040+(dn<<2)>>2]<<2)>>2]=Un):Cn=30;do if((Cn|0)==30&&!(ga(tt,dn)|0)){if((Jl(a,tt)|0)==2){mn=o[976+(dn<<2)>>2]|0,Un=It(St[a+908+(mn<<2)>>2]),Un=It(It(Un-It(St[tt+908+(mn<<2)>>2]))*It(.5)),St[tt+400+(o[1040+(dn<<2)>>2]<<2)>>2]=Un;break}mn=(Jl(a,tt)|0)==3,mn^(o[a+28>>2]|0)==2&&(mn=o[976+(dn<<2)>>2]|0,Un=It(St[a+908+(mn<<2)>>2]),Un=It(Un-It(St[tt+908+(mn<<2)>>2])),St[tt+400+(o[1040+(dn<<2)>>2]<<2)>>2]=Un)}while(0)}function U1(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=Bn,vt=0;vt=o[976+(ot<<2)>>2]|0,ht=It(St[tt+908+(vt<<2)>>2]),ht=It(It(St[a+908+(vt<<2)>>2])-ht),ht=It(ht-It(St[tt+400+(o[1040+(ot<<2)>>2]<<2)>>2])),St[tt+400+(o[1e3+(ot<<2)>>2]<<2)>>2]=ht}function _f(a){return a=a|0,(a|1|0)==1|0}function V1(a){a=a|0;var tt=Bn;switch(o[a+56>>2]|0){case 0:case 3:{tt=It(St[a+40>>2]),tt>It(0)&((cr(tt)|0)^1)?a=d[(o[a+976>>2]|0)+2>>0]|0?1056:992:a=1056;break}default:a=a+52|0}return a|0}function Um(a,tt){return a=a|0,tt=tt|0,(d[a+tt>>0]|0)!=0|0}function _d(a,tt){return a=a|0,tt=tt|0,a=a+132|0,Ko(tt)|0&&o[(Co(a,5,948)|0)+4>>2]|0?a=1:a=(o[(Co(a,o[1e3+(tt<<2)>>2]|0,948)|0)+4>>2]|0)!=0,a|0}function T0(a,tt,ot){a=a|0,tt=tt|0,ot=It(ot);var ht=0,vt=0;return a=a+132|0,Ko(tt)|0&&(ht=Co(a,5,948)|0,(o[ht+4>>2]|0)!=0)?vt=4:(ht=Co(a,o[1e3+(tt<<2)>>2]|0,948)|0,o[ht+4>>2]|0?vt=4:ot=It(0)),(vt|0)==4&&(ot=It(ho(ht,ot))),It(ot)}function xa(a,tt,ot){return a=a|0,tt=tt|0,ot=It(ot),ga(a,tt)|0?ot=It(Uu(a,tt,ot)):ot=It(-It(T0(a,tt,ot))),It(ot)}function z1(a){return a=It(a),St[Ct>>2]=a,o[Ct>>2]|0|0}function Vu(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>1073741823)eo();else{vt=Ar(tt<<2)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot<<2)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt<<2)}function _h(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(0-(vt>>2)<<2)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function M0(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~((ht+-4-tt|0)>>>2)<<2)),a=o[a>>2]|0,a|0&&qn(a)}function Up(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0;if(wt=a+4|0,Pt=o[wt>>2]|0,vt=Pt-ht|0,_t=vt>>2,a=tt+(_t<<2)|0,a>>>0<ot>>>0){ht=Pt;do o[ht>>2]=o[a>>2],a=a+4|0,ht=(o[wt>>2]|0)+4|0,o[wt>>2]=ht;while(a>>>0<ot>>>0)}_t|0&&p1(Pt+(0-_t<<2)|0,tt|0,vt|0)|0}function $1(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0;return Pt=tt+4|0,Lt=o[Pt>>2]|0,vt=o[a>>2]|0,wt=ot,_t=wt-vt|0,ht=Lt+(0-(_t>>2)<<2)|0,o[Pt>>2]=ht,(_t|0)>0&&Kr(ht|0,vt|0,_t|0)|0,vt=a+4|0,_t=tt+8|0,ht=(o[vt>>2]|0)-wt|0,(ht|0)>0&&(Kr(o[_t>>2]|0,ot|0,ht|0)|0,o[_t>>2]=(o[_t>>2]|0)+(ht>>>2<<2)),wt=o[a>>2]|0,o[a>>2]=o[Pt>>2],o[Pt>>2]=wt,wt=o[vt>>2]|0,o[vt>>2]=o[_t>>2],o[_t>>2]=wt,wt=a+8|0,ot=tt+12|0,a=o[wt>>2]|0,o[wt>>2]=o[ot>>2],o[ot>>2]=a,o[tt>>2]=o[Pt>>2],Lt|0}function ep(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;if(wt=o[tt>>2]|0,_t=o[ot>>2]|0,(wt|0)!=(_t|0)){vt=a+8|0,ot=((_t+-4-wt|0)>>>2)+1|0,a=wt,ht=o[vt>>2]|0;do o[ht>>2]=o[a>>2],ht=(o[vt>>2]|0)+4|0,o[vt>>2]=ht,a=a+4|0;while((a|0)!=(_t|0));o[tt>>2]=wt+(ot<<2)}}function ts(){uu()}function Z2(){var a=0;return a=Ar(4)|0,J2(a),a|0}function J2(a){a=a|0,o[a>>2]=pm()|0}function ks(a){a=a|0,a|0&&(ns(a),qn(a))}function ns(a){a=a|0,z2(o[a>>2]|0)}function G1(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,Pm(o[a>>2]|0,tt,ot)}function H1(a,tt){a=a|0,tt=It(tt),Oo(o[a>>2]|0,tt)}function W1(a,tt){return a=a|0,tt=tt|0,Um(o[a>>2]|0,tt)|0}function j1(){var a=0;return a=Ar(8)|0,Vm(a,0),a|0}function Vm(a,tt){a=a|0,tt=tt|0,tt?tt=Wo(o[tt>>2]|0)|0:tt=cu()|0,o[a>>2]=tt,o[a+4>>2]=0,Ep(tt,a)}function zm(a){a=a|0;var tt=0;return tt=Ar(8)|0,Vm(tt,a),tt|0}function q1(a){a=a|0,a|0&&(Vp(a),qn(a))}function Vp(a){a=a|0;var tt=0;U2(o[a>>2]|0),tt=a+4|0,a=o[tt>>2]|0,o[tt>>2]=0,a|0&&(zu(a),qn(a))}function zu(a){a=a|0,$u(a)}function $u(a){a=a|0,a=o[a>>2]|0,a|0&&Pr(a|0)}function tp(a){return a=a|0,wp(a)|0}function zp(a){a=a|0;var tt=0,ot=0;ot=a+4|0,tt=o[ot>>2]|0,o[ot>>2]=0,tt|0&&(zu(tt),qn(tt)),hm(o[a>>2]|0)}function X1(a,tt){a=a|0,tt=tt|0,W2(o[a>>2]|0,o[tt>>2]|0)}function $m(a,tt){a=a|0,tt=tt|0,mm(o[a>>2]|0,tt)}function K1(a,tt,ot){a=a|0,tt=tt|0,ot=+ot,C1(o[a>>2]|0,tt,It(ot))}function Y1(a,tt,ot){a=a|0,tt=tt|0,ot=+ot,Rp(o[a>>2]|0,tt,It(ot))}function $p(a,tt){a=a|0,tt=tt|0,Tp(o[a>>2]|0,tt)}function Q1(a,tt){a=a|0,tt=tt|0,Js(o[a>>2]|0,tt)}function Gm(a,tt){a=a|0,tt=tt|0,Ap(o[a>>2]|0,tt)}function Z1(a,tt){a=a|0,tt=tt|0,T1(o[a>>2]|0,tt)}function eu(a,tt){a=a|0,tt=tt|0,M1(o[a>>2]|0,tt)}function ev(a,tt){a=a|0,tt=tt|0,Al(o[a>>2]|0,tt)}function tv(a,tt,ot){a=a|0,tt=tt|0,ot=+ot,b1(o[a>>2]|0,tt,It(ot))}function Gp(a,tt,ot){a=a|0,tt=tt|0,ot=+ot,xm(o[a>>2]|0,tt,It(ot))}function Gu(a,tt){a=a|0,tt=tt|0,P1(o[a>>2]|0,tt)}function nv(a,tt){a=a|0,tt=tt|0,_m(o[a>>2]|0,tt)}function Tr(a,tt){a=a|0,tt=tt|0,Bs(o[a>>2]|0,tt)}function Hp(a,tt){a=a|0,tt=+tt,fu(o[a>>2]|0,It(tt))}function Hm(a,tt){a=a|0,tt=+tt,Xl(o[a>>2]|0,It(tt))}function J1(a,tt){a=a|0,tt=+tt,du(o[a>>2]|0,It(tt))}function rv(a,tt){a=a|0,tt=+tt,ym(o[a>>2]|0,It(tt))}function Hu(a,tt){a=a|0,tt=+tt,A1(o[a>>2]|0,It(tt))}function np(a,tt){a=a|0,tt=+tt,Pp(o[a>>2]|0,It(tt))}function Wm(a,tt){a=a|0,tt=+tt,Ip(o[a>>2]|0,It(tt))}function _g(a){a=a|0,Us(o[a>>2]|0)}function e2(a,tt){a=a|0,tt=+tt,Pu(o[a>>2]|0,It(tt))}function t2(a,tt){a=a|0,tt=+tt,Kl(o[a>>2]|0,It(tt))}function n2(a){a=a|0,Yl(o[a>>2]|0)}function r2(a,tt){a=a|0,tt=+tt,L1(o[a>>2]|0,It(tt))}function i2(a,tt){a=a|0,tt=+tt,Em(o[a>>2]|0,It(tt))}function jm(a,tt){a=a|0,tt=+tt,Ps(o[a>>2]|0,It(tt))}function qm(a,tt){a=a|0,tt=+tt,Is(o[a>>2]|0,It(tt))}function o2(a,tt){a=a|0,tt=+tt,X0(o[a>>2]|0,It(tt))}function Xm(a,tt){a=a|0,tt=+tt,na(o[a>>2]|0,It(tt))}function Wp(a,tt){a=a|0,tt=+tt,O1(o[a>>2]|0,It(tt))}function iv(a,tt){a=a|0,tt=+tt,Tm(o[a>>2]|0,It(tt))}function ov(a,tt){a=a|0,tt=+tt,D1(o[a>>2]|0,It(tt))}function s2(a,tt,ot){a=a|0,tt=tt|0,ot=+ot,p0(o[a>>2]|0,tt,It(ot))}function a2(a,tt,ot){a=a|0,tt=tt|0,ot=+ot,I1(o[a>>2]|0,tt,It(ot))}function l2(a,tt,ot){a=a|0,tt=tt|0,ot=+ot,k1(o[a>>2]|0,tt,It(ot))}function u2(a){return a=a|0,gm(o[a>>2]|0)|0}function jp(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0;ht=yt,yt=yt+16|0,vt=ht,R1(vt,o[tt>>2]|0,ot),Ls(a,vt),yt=ht}function Ls(a,tt){a=a|0,tt=tt|0,A0(a,o[tt+4>>2]|0,+It(St[tt>>2]))}function A0(a,tt,ot){a=a|0,tt=tt|0,ot=+ot,o[a>>2]=tt,Tt[a+8>>3]=ot}function qp(a){return a=a|0,X2(o[a>>2]|0)|0}function Xp(a){return a=a|0,Mp(o[a>>2]|0)|0}function rp(a){return a=a|0,d0(o[a>>2]|0)|0}function Km(a){return a=a|0,j2(o[a>>2]|0)|0}function Ym(a){return a=a|0,vm(o[a>>2]|0)|0}function Qm(a){return a=a|0,q2(o[a>>2]|0)|0}function c2(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0;ht=yt,yt=yt+16|0,vt=ht,bp(vt,o[tt>>2]|0,ot),Ls(a,vt),yt=ht}function Zm(a){return a=a|0,h0(o[a>>2]|0)|0}function sv(a){return a=a|0,Cl(o[a>>2]|0)|0}function Kp(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;ot=yt,yt=yt+16|0,ht=ot,Cp(ht,o[tt>>2]|0),Ls(a,ht),yt=ot}function Jm(a){return a=a|0,+ +It(Ml(o[a>>2]|0))}function Bo(a){return a=a|0,+ +It(Wl(o[a>>2]|0))}function co(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;ot=yt,yt=yt+16|0,ht=ot,Vs(ht,o[tt>>2]|0),Ls(a,ht),yt=ot}function Uo(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;ot=yt,yt=yt+16|0,ht=ot,Iu(ht,o[tt>>2]|0),Ls(a,ht),yt=ot}function Vo(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;ot=yt,yt=yt+16|0,ht=ot,wm(ht,o[tt>>2]|0),Ls(a,ht),yt=ot}function Yo(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;ot=yt,yt=yt+16|0,ht=ot,Io(ht,o[tt>>2]|0),Ls(a,ht),yt=ot}function Ns(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;ot=yt,yt=yt+16|0,ht=ot,N1(ht,o[tt>>2]|0),Ls(a,ht),yt=ot}function C0(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;ot=yt,yt=yt+16|0,ht=ot,Mm(ht,o[tt>>2]|0),Ls(a,ht),yt=ot}function Go(a){return a=a|0,+ +It(K0(o[a>>2]|0))}function ip(a,tt){return a=a|0,tt=tt|0,+ +It(m0(o[a>>2]|0,tt))}function R0(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0;ht=yt,yt=yt+16|0,vt=ht,Sm(vt,o[tt>>2]|0,ot),Ls(a,vt),yt=ht}function Yp(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,jo(o[a>>2]|0,o[tt>>2]|0,ot)}function e1(a,tt){a=a|0,tt=tt|0,V2(o[a>>2]|0,o[tt>>2]|0)}function op(a){return a=a|0,Qs(o[a>>2]|0)|0}function Es(a){return a=a|0,a=Sp(o[a>>2]|0)|0,a?a=tp(a)|0:a=0,a|0}function t1(a,tt){return a=a|0,tt=tt|0,a=Zs(o[a>>2]|0,tt)|0,a?a=tp(a)|0:a=0,a|0}function n1(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;ht=Ar(4)|0,Wu(ht,tt),ot=a+4|0,tt=o[ot>>2]|0,o[ot>>2]=ht,tt|0&&(zu(tt),qn(tt)),w1(o[a>>2]|0,1)}function Wu(a,tt){a=a|0,tt=tt|0,yu(a,tt)}function Qp(a,tt,ot,ht,vt,_t){a=a|0,tt=tt|0,ot=It(ot),ht=ht|0,vt=It(vt),_t=_t|0;var wt=0,Pt=0;wt=yt,yt=yt+16|0,Pt=wt,r1(Pt,wp(tt)|0,+ot,ht,+vt,_t),St[a>>2]=It(+Tt[Pt>>3]),St[a+4>>2]=It(+Tt[Pt+8>>3]),yt=wt}function r1(a,tt,ot,ht,vt,_t){a=a|0,tt=tt|0,ot=+ot,ht=ht|0,vt=+vt,_t=_t|0;var wt=0,Pt=0,Lt=0,zt=0,Vt=0;wt=yt,yt=yt+32|0,Vt=wt+8|0,zt=wt+20|0,Lt=wt,Pt=wt+16|0,Tt[Vt>>3]=ot,o[zt>>2]=ht,Tt[Lt>>3]=vt,o[Pt>>2]=_t,gu(a,o[tt+4>>2]|0,Vt,zt,Lt,Pt),yt=wt}function gu(a,tt,ot,ht,vt,_t){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0,_t=_t|0;var wt=0,Pt=0;wt=yt,yt=yt+16|0,Pt=wt,yl(Pt),tt=Qo(tt)|0,vu(a,tt,+Tt[ot>>3],o[ht>>2]|0,+Tt[vt>>3],o[_t>>2]|0),xl(Pt),yt=wt}function Qo(a){return a=a|0,o[a>>2]|0}function vu(a,tt,ot,ht,vt,_t){a=a|0,tt=tt|0,ot=+ot,ht=ht|0,vt=+vt,_t=_t|0;var wt=0;wt=rs(Zp()|0)|0,ot=+ba(ot),ht=b0(ht)|0,vt=+ba(vt),Jp(a,qr(0,wt|0,tt|0,+ot,ht|0,+vt,b0(_t)|0)|0)}function Zp(){var a=0;return d[7608]|0||(i1(9120),a=7608,o[a>>2]=1,o[a+4>>2]=0),9120}function rs(a){return a=a|0,o[a+8>>2]|0}function ba(a){return a=+a,+ +em(a)}function b0(a){return a=a|0,hs(a)|0}function Jp(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0;vt=yt,yt=yt+32|0,ot=vt,ht=tt,ht&1?(ds(ot,0),cs(ht|0,ot|0)|0,_u(a,ot),Ws(ot)):(o[a>>2]=o[tt>>2],o[a+4>>2]=o[tt+4>>2],o[a+8>>2]=o[tt+8>>2],o[a+12>>2]=o[tt+12>>2]),yt=vt}function ds(a,tt){a=a|0,tt=tt|0,sp(a,tt),o[a+8>>2]=0,d[a+24>>0]=0}function _u(a,tt){a=a|0,tt=tt|0,tt=tt+8|0,o[a>>2]=o[tt>>2],o[a+4>>2]=o[tt+4>>2],o[a+8>>2]=o[tt+8>>2],o[a+12>>2]=o[tt+12>>2]}function Ws(a){a=a|0,d[a+24>>0]=0}function sp(a,tt){a=a|0,tt=tt|0,o[a>>2]=tt}function hs(a){return a=a|0,a|0}function em(a){return a=+a,+a}function i1(a){a=a|0,js(a,o1()|0,4)}function o1(){return 1064}function js(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,o[a>>2]=tt,o[a+4>>2]=ot,o[a+8>>2]=ar(tt|0,ot+1|0)|0}function yu(a,tt){a=a|0,tt=tt|0,tt=o[tt>>2]|0,o[a>>2]=tt,_o(tt|0)}function f2(a){a=a|0;var tt=0,ot=0;ot=a+4|0,tt=o[ot>>2]|0,o[ot>>2]=0,tt|0&&(zu(tt),qn(tt)),w1(o[a>>2]|0,0)}function d2(a){a=a|0,Tl(o[a>>2]|0)}function s1(a){return a=a|0,H2(o[a>>2]|0)|0}function ju(a,tt,ot,ht){a=a|0,tt=+tt,ot=+ot,ht=ht|0,Jo(o[a>>2]|0,It(tt),It(ot),ht)}function h2(a){return a=a|0,+ +It(ku(o[a>>2]|0))}function p2(a){return a=a|0,+ +It(g0(o[a>>2]|0))}function a1(a){return a=a|0,+ +It(kp(o[a>>2]|0))}function tm(a){return a=a|0,+ +It(Y0(o[a>>2]|0))}function av(a){return a=a|0,+ +It(Am(o[a>>2]|0))}function lv(a){return a=a|0,+ +It(Cm(o[a>>2]|0))}function m2(a,tt){a=a|0,tt=tt|0,Tt[a>>3]=+It(ku(o[tt>>2]|0)),Tt[a+8>>3]=+It(g0(o[tt>>2]|0)),Tt[a+16>>3]=+It(kp(o[tt>>2]|0)),Tt[a+24>>3]=+It(Y0(o[tt>>2]|0)),Tt[a+32>>3]=+It(Am(o[tt>>2]|0)),Tt[a+40>>3]=+It(Cm(o[tt>>2]|0))}function g2(a,tt){return a=a|0,tt=tt|0,+ +It(v0(o[a>>2]|0,tt))}function qu(a,tt){return a=a|0,tt=tt|0,+ +It(F1(o[a>>2]|0,tt))}function uv(a,tt){return a=a|0,tt=tt|0,+ +It(Q0(o[a>>2]|0,tt))}function Xu(){return S1()|0}function _2(){ws(),cv(),y2(),fv(),dv(),x2()}function ws(){CP(11713,4938,1)}function cv(){jR(10448)}function y2(){CR(10408)}function fv(){Y3(10324)}function dv(){n4(10096)}function x2(){S2(9132)}function S2(a){a=a|0;var tt=0,ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0,_n=0,dn=0,ln=0,In=0,Cn=0,Un=0,mn=0,vn=0,pr=0,so=0,Br=0,br=0,Yr=0,ro=0,Dr=0,wo=0,Ts=0,Ms=0,As=0,Ys=0,B0=0,U0=0,Fl=0,V0=0,wu=0,Tu=0,z0=0,$0=0,G0=0,mo=0,Bl=0,H0=0,nu=0,W0=0,j0=0,Mu=0,Au=0,ru=0,ps=0,El=0,Ds=0,Ul=0,_c=0,e0=0,Cu=0,t0=0,n0=0,ms=0,ls=0,Vl=0,To=0,r0=0,Cs=0,iu=0,Rs=0,ou=0,i0=0,o0=0,su=0,gs=0,zl=0,s0=0,a0=0,l0=0,Qr=0,Po=0,us=0,bs=0,vs=0,_i=0,Vr=0,$l=0;tt=yt,yt=yt+672|0,ot=tt+656|0,$l=tt+648|0,Vr=tt+640|0,_i=tt+632|0,vs=tt+624|0,bs=tt+616|0,us=tt+608|0,Po=tt+600|0,Qr=tt+592|0,l0=tt+584|0,a0=tt+576|0,s0=tt+568|0,zl=tt+560|0,gs=tt+552|0,su=tt+544|0,o0=tt+536|0,i0=tt+528|0,ou=tt+520|0,Rs=tt+512|0,iu=tt+504|0,Cs=tt+496|0,r0=tt+488|0,To=tt+480|0,Vl=tt+472|0,ls=tt+464|0,ms=tt+456|0,n0=tt+448|0,t0=tt+440|0,Cu=tt+432|0,e0=tt+424|0,_c=tt+416|0,Ul=tt+408|0,Ds=tt+400|0,El=tt+392|0,ps=tt+384|0,ru=tt+376|0,Au=tt+368|0,Mu=tt+360|0,j0=tt+352|0,W0=tt+344|0,nu=tt+336|0,H0=tt+328|0,Bl=tt+320|0,mo=tt+312|0,G0=tt+304|0,$0=tt+296|0,z0=tt+288|0,Tu=tt+280|0,wu=tt+272|0,V0=tt+264|0,Fl=tt+256|0,U0=tt+248|0,B0=tt+240|0,Ys=tt+232|0,As=tt+224|0,Ms=tt+216|0,Ts=tt+208|0,wo=tt+200|0,Dr=tt+192|0,ro=tt+184|0,Yr=tt+176|0,br=tt+168|0,Br=tt+160|0,so=tt+152|0,pr=tt+144|0,vn=tt+136|0,mn=tt+128|0,Un=tt+120|0,Cn=tt+112|0,In=tt+104|0,ln=tt+96|0,dn=tt+88|0,_n=tt+80|0,Zt=tt+72|0,Ht=tt+64|0,Vt=tt+56|0,zt=tt+48|0,Lt=tt+40|0,Pt=tt+32|0,wt=tt+24|0,_t=tt+16|0,vt=tt+8|0,ht=tt,hv(a,3646),qs(a,3651,2)|0,l1(a,3665,2)|0,pv(a,3682,18)|0,o[$l>>2]=19,o[$l+4>>2]=0,o[ot>>2]=o[$l>>2],o[ot+4>>2]=o[$l+4>>2],Xs(a,3690,ot)|0,o[Vr>>2]=1,o[Vr+4>>2]=0,o[ot>>2]=o[Vr>>2],o[ot+4>>2]=o[Vr+4>>2],nm(a,3696,ot)|0,o[_i>>2]=2,o[_i+4>>2]=0,o[ot>>2]=o[_i>>2],o[ot+4>>2]=o[_i+4>>2],ss(a,3706,ot)|0,o[vs>>2]=1,o[vs+4>>2]=0,o[ot>>2]=o[vs>>2],o[ot+4>>2]=o[vs+4>>2],Ol(a,3722,ot)|0,o[bs>>2]=2,o[bs+4>>2]=0,o[ot>>2]=o[bs>>2],o[ot+4>>2]=o[bs+4>>2],Ol(a,3734,ot)|0,o[us>>2]=3,o[us+4>>2]=0,o[ot>>2]=o[us>>2],o[ot+4>>2]=o[us+4>>2],ss(a,3753,ot)|0,o[Po>>2]=4,o[Po+4>>2]=0,o[ot>>2]=o[Po>>2],o[ot+4>>2]=o[Po+4>>2],ss(a,3769,ot)|0,o[Qr>>2]=5,o[Qr+4>>2]=0,o[ot>>2]=o[Qr>>2],o[ot+4>>2]=o[Qr+4>>2],ss(a,3783,ot)|0,o[l0>>2]=6,o[l0+4>>2]=0,o[ot>>2]=o[l0>>2],o[ot+4>>2]=o[l0+4>>2],ss(a,3796,ot)|0,o[a0>>2]=7,o[a0+4>>2]=0,o[ot>>2]=o[a0>>2],o[ot+4>>2]=o[a0+4>>2],ss(a,3813,ot)|0,o[s0>>2]=8,o[s0+4>>2]=0,o[ot>>2]=o[s0>>2],o[ot+4>>2]=o[s0+4>>2],ss(a,3825,ot)|0,o[zl>>2]=3,o[zl+4>>2]=0,o[ot>>2]=o[zl>>2],o[ot+4>>2]=o[zl+4>>2],Ol(a,3843,ot)|0,o[gs>>2]=4,o[gs+4>>2]=0,o[ot>>2]=o[gs>>2],o[ot+4>>2]=o[gs+4>>2],Ol(a,3853,ot)|0,o[su>>2]=9,o[su+4>>2]=0,o[ot>>2]=o[su>>2],o[ot+4>>2]=o[su+4>>2],ss(a,3870,ot)|0,o[o0>>2]=10,o[o0+4>>2]=0,o[ot>>2]=o[o0>>2],o[ot+4>>2]=o[o0+4>>2],ss(a,3884,ot)|0,o[i0>>2]=11,o[i0+4>>2]=0,o[ot>>2]=o[i0>>2],o[ot+4>>2]=o[i0+4>>2],ss(a,3896,ot)|0,o[ou>>2]=1,o[ou+4>>2]=0,o[ot>>2]=o[ou>>2],o[ot+4>>2]=o[ou+4>>2],zo(a,3907,ot)|0,o[Rs>>2]=2,o[Rs+4>>2]=0,o[ot>>2]=o[Rs>>2],o[ot+4>>2]=o[Rs+4>>2],zo(a,3915,ot)|0,o[iu>>2]=3,o[iu+4>>2]=0,o[ot>>2]=o[iu>>2],o[ot+4>>2]=o[iu+4>>2],zo(a,3928,ot)|0,o[Cs>>2]=4,o[Cs+4>>2]=0,o[ot>>2]=o[Cs>>2],o[ot+4>>2]=o[Cs+4>>2],zo(a,3948,ot)|0,o[r0>>2]=5,o[r0+4>>2]=0,o[ot>>2]=o[r0>>2],o[ot+4>>2]=o[r0+4>>2],zo(a,3960,ot)|0,o[To>>2]=6,o[To+4>>2]=0,o[ot>>2]=o[To>>2],o[ot+4>>2]=o[To+4>>2],zo(a,3974,ot)|0,o[Vl>>2]=7,o[Vl+4>>2]=0,o[ot>>2]=o[Vl>>2],o[ot+4>>2]=o[Vl+4>>2],zo(a,3983,ot)|0,o[ls>>2]=20,o[ls+4>>2]=0,o[ot>>2]=o[ls>>2],o[ot+4>>2]=o[ls+4>>2],Xs(a,3999,ot)|0,o[ms>>2]=8,o[ms+4>>2]=0,o[ot>>2]=o[ms>>2],o[ot+4>>2]=o[ms+4>>2],zo(a,4012,ot)|0,o[n0>>2]=9,o[n0+4>>2]=0,o[ot>>2]=o[n0>>2],o[ot+4>>2]=o[n0+4>>2],zo(a,4022,ot)|0,o[t0>>2]=21,o[t0+4>>2]=0,o[ot>>2]=o[t0>>2],o[ot+4>>2]=o[t0+4>>2],Xs(a,4039,ot)|0,o[Cu>>2]=10,o[Cu+4>>2]=0,o[ot>>2]=o[Cu>>2],o[ot+4>>2]=o[Cu+4>>2],zo(a,4053,ot)|0,o[e0>>2]=11,o[e0+4>>2]=0,o[ot>>2]=o[e0>>2],o[ot+4>>2]=o[e0+4>>2],zo(a,4065,ot)|0,o[_c>>2]=12,o[_c+4>>2]=0,o[ot>>2]=o[_c>>2],o[ot+4>>2]=o[_c+4>>2],zo(a,4084,ot)|0,o[Ul>>2]=13,o[Ul+4>>2]=0,o[ot>>2]=o[Ul>>2],o[ot+4>>2]=o[Ul+4>>2],zo(a,4097,ot)|0,o[Ds>>2]=14,o[Ds+4>>2]=0,o[ot>>2]=o[Ds>>2],o[ot+4>>2]=o[Ds+4>>2],zo(a,4117,ot)|0,o[El>>2]=15,o[El+4>>2]=0,o[ot>>2]=o[El>>2],o[ot+4>>2]=o[El+4>>2],zo(a,4129,ot)|0,o[ps>>2]=16,o[ps+4>>2]=0,o[ot>>2]=o[ps>>2],o[ot+4>>2]=o[ps+4>>2],zo(a,4148,ot)|0,o[ru>>2]=17,o[ru+4>>2]=0,o[ot>>2]=o[ru>>2],o[ot+4>>2]=o[ru+4>>2],zo(a,4161,ot)|0,o[Au>>2]=18,o[Au+4>>2]=0,o[ot>>2]=o[Au>>2],o[ot+4>>2]=o[Au+4>>2],zo(a,4181,ot)|0,o[Mu>>2]=5,o[Mu+4>>2]=0,o[ot>>2]=o[Mu>>2],o[ot+4>>2]=o[Mu+4>>2],Ol(a,4196,ot)|0,o[j0>>2]=6,o[j0+4>>2]=0,o[ot>>2]=o[j0>>2],o[ot+4>>2]=o[j0+4>>2],Ol(a,4206,ot)|0,o[W0>>2]=7,o[W0+4>>2]=0,o[ot>>2]=o[W0>>2],o[ot+4>>2]=o[W0+4>>2],Ol(a,4217,ot)|0,o[nu>>2]=3,o[nu+4>>2]=0,o[ot>>2]=o[nu>>2],o[ot+4>>2]=o[nu+4>>2],$a(a,4235,ot)|0,o[H0>>2]=1,o[H0+4>>2]=0,o[ot>>2]=o[H0>>2],o[ot+4>>2]=o[H0+4>>2],u1(a,4251,ot)|0,o[Bl>>2]=4,o[Bl+4>>2]=0,o[ot>>2]=o[Bl>>2],o[ot+4>>2]=o[Bl+4>>2],$a(a,4263,ot)|0,o[mo>>2]=5,o[mo+4>>2]=0,o[ot>>2]=o[mo>>2],o[ot+4>>2]=o[mo+4>>2],$a(a,4279,ot)|0,o[G0>>2]=6,o[G0+4>>2]=0,o[ot>>2]=o[G0>>2],o[ot+4>>2]=o[G0+4>>2],$a(a,4293,ot)|0,o[$0>>2]=7,o[$0+4>>2]=0,o[ot>>2]=o[$0>>2],o[ot+4>>2]=o[$0+4>>2],$a(a,4306,ot)|0,o[z0>>2]=8,o[z0+4>>2]=0,o[ot>>2]=o[z0>>2],o[ot+4>>2]=o[z0+4>>2],$a(a,4323,ot)|0,o[Tu>>2]=9,o[Tu+4>>2]=0,o[ot>>2]=o[Tu>>2],o[ot+4>>2]=o[Tu+4>>2],$a(a,4335,ot)|0,o[wu>>2]=2,o[wu+4>>2]=0,o[ot>>2]=o[wu>>2],o[ot+4>>2]=o[wu+4>>2],u1(a,4353,ot)|0,o[V0>>2]=12,o[V0+4>>2]=0,o[ot>>2]=o[V0>>2],o[ot+4>>2]=o[V0+4>>2],xu(a,4363,ot)|0,o[Fl>>2]=1,o[Fl+4>>2]=0,o[ot>>2]=o[Fl>>2],o[ot+4>>2]=o[Fl+4>>2],Dl(a,4376,ot)|0,o[U0>>2]=2,o[U0+4>>2]=0,o[ot>>2]=o[U0>>2],o[ot+4>>2]=o[U0+4>>2],Dl(a,4388,ot)|0,o[B0>>2]=13,o[B0+4>>2]=0,o[ot>>2]=o[B0>>2],o[ot+4>>2]=o[B0+4>>2],xu(a,4402,ot)|0,o[Ys>>2]=14,o[Ys+4>>2]=0,o[ot>>2]=o[Ys>>2],o[ot+4>>2]=o[Ys+4>>2],xu(a,4411,ot)|0,o[As>>2]=15,o[As+4>>2]=0,o[ot>>2]=o[As>>2],o[ot+4>>2]=o[As+4>>2],xu(a,4421,ot)|0,o[Ms>>2]=16,o[Ms+4>>2]=0,o[ot>>2]=o[Ms>>2],o[ot+4>>2]=o[Ms+4>>2],xu(a,4433,ot)|0,o[Ts>>2]=17,o[Ts+4>>2]=0,o[ot>>2]=o[Ts>>2],o[ot+4>>2]=o[Ts+4>>2],xu(a,4446,ot)|0,o[wo>>2]=18,o[wo+4>>2]=0,o[ot>>2]=o[wo>>2],o[ot+4>>2]=o[wo+4>>2],xu(a,4458,ot)|0,o[Dr>>2]=3,o[Dr+4>>2]=0,o[ot>>2]=o[Dr>>2],o[ot+4>>2]=o[Dr+4>>2],Dl(a,4471,ot)|0,o[ro>>2]=1,o[ro+4>>2]=0,o[ot>>2]=o[ro>>2],o[ot+4>>2]=o[ro+4>>2],ap(a,4486,ot)|0,o[Yr>>2]=10,o[Yr+4>>2]=0,o[ot>>2]=o[Yr>>2],o[ot+4>>2]=o[Yr+4>>2],$a(a,4496,ot)|0,o[br>>2]=11,o[br+4>>2]=0,o[ot>>2]=o[br>>2],o[ot+4>>2]=o[br+4>>2],$a(a,4508,ot)|0,o[Br>>2]=3,o[Br+4>>2]=0,o[ot>>2]=o[Br>>2],o[ot+4>>2]=o[Br+4>>2],u1(a,4519,ot)|0,o[so>>2]=4,o[so+4>>2]=0,o[ot>>2]=o[so>>2],o[ot+4>>2]=o[so+4>>2],E2(a,4530,ot)|0,o[pr>>2]=19,o[pr+4>>2]=0,o[ot>>2]=o[pr>>2],o[ot+4>>2]=o[pr+4>>2],c1(a,4542,ot)|0,o[vn>>2]=12,o[vn+4>>2]=0,o[ot>>2]=o[vn>>2],o[ot+4>>2]=o[vn+4>>2],mv(a,4554,ot)|0,o[mn>>2]=13,o[mn+4>>2]=0,o[ot>>2]=o[mn>>2],o[ot+4>>2]=o[mn+4>>2],gv(a,4568,ot)|0,o[Un>>2]=2,o[Un+4>>2]=0,o[ot>>2]=o[Un>>2],o[ot+4>>2]=o[Un+4>>2],Et(a,4578,ot)|0,o[Cn>>2]=20,o[Cn+4>>2]=0,o[ot>>2]=o[Cn>>2],o[ot+4>>2]=o[Cn+4>>2],Mt(a,4587,ot)|0,o[In>>2]=22,o[In+4>>2]=0,o[ot>>2]=o[In>>2],o[ot+4>>2]=o[In+4>>2],Xs(a,4602,ot)|0,o[ln>>2]=23,o[ln+4>>2]=0,o[ot>>2]=o[ln>>2],o[ot+4>>2]=o[ln+4>>2],Xs(a,4619,ot)|0,o[dn>>2]=14,o[dn+4>>2]=0,o[ot>>2]=o[dn>>2],o[ot+4>>2]=o[dn+4>>2],kt(a,4629,ot)|0,o[_n>>2]=1,o[_n+4>>2]=0,o[ot>>2]=o[_n>>2],o[ot+4>>2]=o[_n+4>>2],Bt(a,4637,ot)|0,o[Zt>>2]=4,o[Zt+4>>2]=0,o[ot>>2]=o[Zt>>2],o[ot+4>>2]=o[Zt+4>>2],Dl(a,4653,ot)|0,o[Ht>>2]=5,o[Ht+4>>2]=0,o[ot>>2]=o[Ht>>2],o[ot+4>>2]=o[Ht+4>>2],Dl(a,4669,ot)|0,o[Vt>>2]=6,o[Vt+4>>2]=0,o[ot>>2]=o[Vt>>2],o[ot+4>>2]=o[Vt+4>>2],Dl(a,4686,ot)|0,o[zt>>2]=7,o[zt+4>>2]=0,o[ot>>2]=o[zt>>2],o[ot+4>>2]=o[zt+4>>2],Dl(a,4701,ot)|0,o[Lt>>2]=8,o[Lt+4>>2]=0,o[ot>>2]=o[Lt>>2],o[ot+4>>2]=o[Lt+4>>2],Dl(a,4719,ot)|0,o[Pt>>2]=9,o[Pt+4>>2]=0,o[ot>>2]=o[Pt>>2],o[ot+4>>2]=o[Pt+4>>2],Dl(a,4736,ot)|0,o[wt>>2]=21,o[wt+4>>2]=0,o[ot>>2]=o[wt>>2],o[ot+4>>2]=o[wt+4>>2],$t(a,4754,ot)|0,o[_t>>2]=2,o[_t+4>>2]=0,o[ot>>2]=o[_t>>2],o[ot+4>>2]=o[_t+4>>2],ap(a,4772,ot)|0,o[vt>>2]=3,o[vt+4>>2]=0,o[ot>>2]=o[vt>>2],o[ot+4>>2]=o[vt+4>>2],ap(a,4790,ot)|0,o[ht>>2]=4,o[ht+4>>2]=0,o[ot>>2]=o[ht>>2],o[ot+4>>2]=o[ht+4>>2],ap(a,4808,ot)|0,yt=tt}function hv(a,tt){a=a|0,tt=tt|0;var ot=0;ot=qC()|0,o[a>>2]=ot,XC(ot,tt),O0(o[a>>2]|0)}function qs(a,tt,ot){return a=a|0,tt=tt|0,ot=ot|0,LC(a,on(tt)|0,ot,0),a|0}function l1(a,tt,ot){return a=a|0,tt=tt|0,ot=ot|0,vC(a,on(tt)|0,ot,0),a|0}function pv(a,tt,ot){return a=a|0,tt=tt|0,ot=ot|0,rC(a,on(tt)|0,ot,0),a|0}function Xs(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],zA(a,tt,vt),yt=ht,a|0}function nm(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],EA(a,tt,vt),yt=ht,a|0}function ss(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],sA(a,tt,vt),yt=ht,a|0}function Ol(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],HM(a,tt,vt),yt=ht,a|0}function zo(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],RM(a,tt,vt),yt=ht,a|0}function $a(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],dM(a,tt,vt),yt=ht,a|0}function u1(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],YT(a,tt,vt),yt=ht,a|0}function xu(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],ET(a,tt,vt),yt=ht,a|0}function Dl(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],sT(a,tt,vt),yt=ht,a|0}function ap(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],Hw(a,tt,vt),yt=ht,a|0}function E2(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],Rw(a,tt,vt),yt=ht,a|0}function c1(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],dw(a,tt,vt),yt=ht,a|0}function mv(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],QE(a,tt,vt),yt=ht,a|0}function gv(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],DE(a,tt,vt),yt=ht,a|0}function Et(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],yE(a,tt,vt),yt=ht,a|0}function Mt(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],nE(a,tt,vt),yt=ht,a|0}function kt(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],VS(a,tt,vt),yt=ht,a|0}function Bt(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],xS(a,tt,vt),yt=ht,a|0}function $t(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],qt(a,tt,vt),yt=ht,a|0}function qt(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,Pt=o[ot>>2]|0,wt=o[ot+4>>2]|0,ot=on(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],gn(a,ot,vt,1),yt=ht}function on(a){return a=a|0,a|0}function gn(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;vt=yt,yt=yt+32|0,_t=vt+16|0,Vt=vt+8|0,Pt=vt,zt=o[ot>>2]|0,Lt=o[ot+4>>2]|0,wt=o[a>>2]|0,a=Vn()|0,o[Vt>>2]=zt,o[Vt+4>>2]=Lt,o[_t>>2]=o[Vt>>2],o[_t+4>>2]=o[Vt+4>>2],ot=ur(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=Lt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Er(wt,tt,a,ot,Nr(_t,ht)|0,ht),yt=vt}function Vn(){var a=0,tt=0;if(d[7616]|0||(ao(9136),Fr(24,9136,bt|0)|0,tt=7616,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(9136)|0)){a=9136,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));ao(9136)}return 9136}function ur(a){return a=a|0,0}function Nr(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;return Vt=yt,yt=yt+32|0,vt=Vt+24|0,wt=Vt+16|0,Pt=Vt,Lt=Vt+8|0,_t=o[a>>2]|0,ht=o[a+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ht,Ht=Vn()|0,zt=Ht+24|0,a=Mr(tt,4)|0,o[Lt>>2]=a,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[wt>>2]=_t,o[wt+4>>2]=ht,o[vt>>2]=o[wt>>2],o[vt+4>>2]=o[wt+4>>2],Os(ot,vt,a),a=(o[tt>>2]|0)+12|0,o[tt>>2]=a):(bn(zt,Pt,Lt),a=o[tt>>2]|0),yt=Vt,((a-(o[zt>>2]|0)|0)/12|0)+-1|0}function Er(a,tt,ot,ht,vt,_t){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0,_t=_t|0;var wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0,_n=0;wt=yt,yt=yt+32|0,Zt=wt+24|0,Ht=wt+20|0,Lt=wt+16|0,Vt=wt+12|0,zt=wt+8|0,Pt=wt+4|0,_n=wt,o[Ht>>2]=tt,o[Lt>>2]=ot,o[Vt>>2]=ht,o[zt>>2]=vt,o[Pt>>2]=_t,_t=a+28|0,o[_n>>2]=o[_t>>2],o[Zt>>2]=o[_n>>2],Xr(a+24|0,Zt,Ht,Vt,zt,Lt,Pt)|0,o[_t>>2]=o[o[_t>>2]>>2],yt=wt}function Xr(a,tt,ot,ht,vt,_t,wt){return a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0,_t=_t|0,wt=wt|0,a=Ro(tt)|0,tt=Ar(24)|0,Gr(tt+4|0,o[ot>>2]|0,o[ht>>2]|0,o[vt>>2]|0,o[_t>>2]|0,o[wt>>2]|0),o[tt>>2]=o[a>>2],o[a>>2]=tt,tt|0}function Ro(a){return a=a|0,o[a>>2]|0}function Gr(a,tt,ot,ht,vt,_t){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0,_t=_t|0,o[a>>2]=tt,o[a+4>>2]=ot,o[a+8>>2]=ht,o[a+12>>2]=vt,o[a+16>>2]=_t}function Mr(a,tt){return a=a|0,tt=tt|0,tt|a|0}function Os(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=o[tt+4>>2]|0,o[a>>2]=o[tt>>2],o[a+4>>2]=ht,o[a+8>>2]=ot}function bn(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ht=zt+32|0,wt=zt+24|0,Pt=zt,Lt=a+4|0,vt=(((o[Lt>>2]|0)-(o[a>>2]|0)|0)/12|0)+1|0,_t=xn(a)|0,_t>>>0<vt>>>0)po(a);else{Vt=o[a>>2]|0,Zt=((o[a+8>>2]|0)-Vt|0)/12|0,Ht=Zt<<1,Fn(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<vt>>>0?vt:Ht:_t,((o[Lt>>2]|0)-Vt|0)/12|0,a+8|0),Lt=Pt+8|0,_t=o[Lt>>2]|0,vt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[wt>>2]=o[tt>>2],o[wt+4>>2]=vt,o[ht>>2]=o[wt>>2],o[ht+4>>2]=o[wt+4>>2],Os(_t,ht,ot),o[Lt>>2]=(o[Lt>>2]|0)+12,Rr(a,Pt),Hr(Pt),yt=zt;return}}function xn(a){return a=a|0,357913941}function Fn(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>357913941)eo();else{vt=Ar(tt*12|0)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot*12|0)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt*12|0)}function Rr(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(((vt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function Hr(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~(((ht+-12-tt|0)>>>0)/12|0)*12|0)),a=o[a>>2]|0,a|0&&qn(a)}function ao(a){a=a|0,Eo(a)}function oo(a){a=a|0,qo(a+24|0)}function Sr(a){return a=a|0,o[a>>2]|0}function qo(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~(((tt+-12-ht|0)>>>0)/12|0)*12|0)),qn(ot))}function Eo(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,2,3,tt,vv()|0,0),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function Zr(){return 9228}function vv(){return 1140}function tS(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0;return ot=yt,yt=yt+16|0,ht=ot+8|0,vt=ot,_t=nS(a)|0,a=o[_t+4>>2]|0,o[vt>>2]=o[_t>>2],o[vt+4>>2]=a,o[ht>>2]=o[vt>>2],o[ht+4>>2]=o[vt+4>>2],tt=rS(tt,ht)|0,yt=ot,tt|0}function fo(a,tt,ot,ht,vt,_t){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0,_t=_t|0,o[a>>2]=tt,o[a+4>>2]=ot,o[a+8>>2]=ht,o[a+12>>2]=vt,o[a+16>>2]=_t}function nS(a){return a=a|0,(o[(Vn()|0)+24>>2]|0)+(a*12|0)|0}function rS(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0;return vt=yt,yt=yt+48|0,ht=vt,ot=o[tt>>2]|0,tt=o[tt+4>>2]|0,a=a+(tt>>1)|0,tt&1&&(ot=o[(o[a>>2]|0)+ot>>2]|0),Ju[ot&31](ht,a),ht=iS(ht)|0,yt=vt,ht|0}function iS(a){a=a|0;var tt=0,ot=0,ht=0,vt=0;return vt=yt,yt=yt+32|0,tt=vt+12|0,ot=vt,ht=_v(T_()|0)|0,ht?(yv(tt,ht),xv(ot,tt),oS(a,ot),a=Sv(tt)|0):a=sS(a)|0,yt=vt,a|0}function T_(){var a=0;return d[7632]|0||(gS(9184),Fr(25,9184,bt|0)|0,a=7632,o[a>>2]=1,o[a+4>>2]=0),9184}function _v(a){return a=a|0,o[a+36>>2]|0}function yv(a,tt){a=a|0,tt=tt|0,o[a>>2]=tt,o[a+4>>2]=a,o[a+8>>2]=0}function xv(a,tt){a=a|0,tt=tt|0,o[a>>2]=o[tt>>2],o[a+4>>2]=o[tt+4>>2],o[a+8>>2]=0}function oS(a,tt){a=a|0,tt=tt|0,cS(tt,a,a+8|0,a+16|0,a+24|0,a+32|0,a+40|0)|0}function Sv(a){return a=a|0,o[(o[a+4>>2]|0)+8>>2]|0}function sS(a){a=a|0;var tt=0,ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0;Lt=yt,yt=yt+16|0,ot=Lt+4|0,ht=Lt,vt=_l(8)|0,_t=vt,wt=Ar(48)|0,Pt=wt,tt=Pt+48|0;do o[Pt>>2]=o[a>>2],Pt=Pt+4|0,a=a+4|0;while((Pt|0)<(tt|0));return tt=_t+4|0,o[tt>>2]=wt,Pt=Ar(8)|0,wt=o[tt>>2]|0,o[ht>>2]=0,o[ot>>2]=o[ht>>2],M_(Pt,wt,ot),o[vt>>2]=Pt,yt=Lt,_t|0}function M_(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,o[a>>2]=tt,ot=Ar(16)|0,o[ot+4>>2]=0,o[ot+8>>2]=0,o[ot>>2]=1092,o[ot+12>>2]=tt,o[a+4>>2]=ot}function aS(a){a=a|0,lm(a),qn(a)}function lS(a){a=a|0,a=o[a+12>>2]|0,a|0&&qn(a)}function uS(a){a=a|0,qn(a)}function cS(a,tt,ot,ht,vt,_t,wt){return a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0,_t=_t|0,wt=wt|0,_t=fS(o[a>>2]|0,tt,ot,ht,vt,_t,wt)|0,wt=a+4|0,o[(o[wt>>2]|0)+8>>2]=_t,o[(o[wt>>2]|0)+8>>2]|0}function fS(a,tt,ot,ht,vt,_t,wt){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0,_t=_t|0,wt=wt|0;var Pt=0,Lt=0;return Pt=yt,yt=yt+16|0,Lt=Pt,yl(Lt),a=Qo(a)|0,wt=dS(a,+Tt[tt>>3],+Tt[ot>>3],+Tt[ht>>3],+Tt[vt>>3],+Tt[_t>>3],+Tt[wt>>3])|0,xl(Lt),yt=Pt,wt|0}function dS(a,tt,ot,ht,vt,_t,wt){a=a|0,tt=+tt,ot=+ot,ht=+ht,vt=+vt,_t=+_t,wt=+wt;var Pt=0;return Pt=rs(hS()|0)|0,tt=+ba(tt),ot=+ba(ot),ht=+ba(ht),vt=+ba(vt),_t=+ba(_t),zr(0,Pt|0,a|0,+tt,+ot,+ht,+vt,+_t,+ +ba(wt))|0}function hS(){var a=0;return d[7624]|0||(pS(9172),a=7624,o[a>>2]=1,o[a+4>>2]=0),9172}function pS(a){a=a|0,js(a,mS()|0,6)}function mS(){return 1112}function gS(a){a=a|0,P0(a)}function vS(a){a=a|0,A_(a+24|0),C_(a+16|0)}function A_(a){a=a|0,yS(a)}function C_(a){a=a|0,_S(a)}function _S(a){a=a|0;var tt=0,ot=0;if(tt=o[a>>2]|0,tt|0)do ot=tt,tt=o[tt>>2]|0,qn(ot);while(tt|0);o[a>>2]=0}function yS(a){a=a|0;var tt=0,ot=0;if(tt=o[a>>2]|0,tt|0)do ot=tt,tt=o[tt>>2]|0,qn(ot);while(tt|0);o[a>>2]=0}function P0(a){a=a|0;var tt=0;o[a+16>>2]=0,o[a+20>>2]=0,tt=a+24|0,o[tt>>2]=0,o[a+28>>2]=tt,o[a+36>>2]=0,d[a+40>>0]=0,d[a+41>>0]=0}function xS(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,Pt=o[ot>>2]|0,wt=o[ot+4>>2]|0,ot=on(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],SS(a,ot,vt,0),yt=ht}function SS(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;vt=yt,yt=yt+32|0,_t=vt+16|0,Vt=vt+8|0,Pt=vt,zt=o[ot>>2]|0,Lt=o[ot+4>>2]|0,wt=o[a>>2]|0,a=Ev()|0,o[Vt>>2]=zt,o[Vt+4>>2]=Lt,o[_t>>2]=o[Vt>>2],o[_t+4>>2]=o[Vt+4>>2],ot=ES(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=Lt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Er(wt,tt,a,ot,wS(_t,ht)|0,ht),yt=vt}function Ev(){var a=0,tt=0;if(d[7640]|0||(b_(9232),Fr(26,9232,bt|0)|0,tt=7640,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(9232)|0)){a=9232,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));b_(9232)}return 9232}function ES(a){return a=a|0,0}function wS(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;return Vt=yt,yt=yt+32|0,vt=Vt+24|0,wt=Vt+16|0,Pt=Vt,Lt=Vt+8|0,_t=o[a>>2]|0,ht=o[a+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ht,Ht=Ev()|0,zt=Ht+24|0,a=Mr(tt,4)|0,o[Lt>>2]=a,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[wt>>2]=_t,o[wt+4>>2]=ht,o[vt>>2]=o[wt>>2],o[vt+4>>2]=o[wt+4>>2],R_(ot,vt,a),a=(o[tt>>2]|0)+12|0,o[tt>>2]=a):(TS(zt,Pt,Lt),a=o[tt>>2]|0),yt=Vt,((a-(o[zt>>2]|0)|0)/12|0)+-1|0}function R_(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=o[tt+4>>2]|0,o[a>>2]=o[tt>>2],o[a+4>>2]=ht,o[a+8>>2]=ot}function TS(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ht=zt+32|0,wt=zt+24|0,Pt=zt,Lt=a+4|0,vt=(((o[Lt>>2]|0)-(o[a>>2]|0)|0)/12|0)+1|0,_t=AS(a)|0,_t>>>0<vt>>>0)po(a);else{Vt=o[a>>2]|0,Zt=((o[a+8>>2]|0)-Vt|0)/12|0,Ht=Zt<<1,CS(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<vt>>>0?vt:Ht:_t,((o[Lt>>2]|0)-Vt|0)/12|0,a+8|0),Lt=Pt+8|0,_t=o[Lt>>2]|0,vt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[wt>>2]=o[tt>>2],o[wt+4>>2]=vt,o[ht>>2]=o[wt>>2],o[ht+4>>2]=o[wt+4>>2],R_(_t,ht,ot),o[Lt>>2]=(o[Lt>>2]|0)+12,RS(a,Pt),bS(Pt),yt=zt;return}}function AS(a){return a=a|0,357913941}function CS(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>357913941)eo();else{vt=Ar(tt*12|0)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot*12|0)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt*12|0)}function RS(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(((vt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function bS(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~(((ht+-12-tt|0)>>>0)/12|0)*12|0)),a=o[a>>2]|0,a|0&&qn(a)}function b_(a){a=a|0,kS(a)}function PS(a){a=a|0,IS(a+24|0)}function IS(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~(((tt+-12-ht|0)>>>0)/12|0)*12|0)),qn(ot))}function kS(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,2,1,tt,LS()|0,3),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function LS(){return 1144}function NS(a,tt,ot,ht,vt){a=a|0,tt=tt|0,ot=+ot,ht=+ht,vt=vt|0;var _t=0,wt=0,Pt=0,Lt=0;_t=yt,yt=yt+16|0,wt=_t+8|0,Pt=_t,Lt=OS(a)|0,a=o[Lt+4>>2]|0,o[Pt>>2]=o[Lt>>2],o[Pt+4>>2]=a,o[wt>>2]=o[Pt>>2],o[wt+4>>2]=o[Pt+4>>2],DS(tt,wt,ot,ht,vt),yt=_t}function OS(a){return a=a|0,(o[(Ev()|0)+24>>2]|0)+(a*12|0)|0}function DS(a,tt,ot,ht,vt){a=a|0,tt=tt|0,ot=+ot,ht=+ht,vt=vt|0;var _t=0,wt=0,Pt=0,Lt=0,zt=0;zt=yt,yt=yt+16|0,wt=zt+2|0,Pt=zt+1|0,Lt=zt,_t=o[tt>>2]|0,tt=o[tt+4>>2]|0,a=a+(tt>>1)|0,tt&1&&(_t=o[(o[a>>2]|0)+_t>>2]|0),Su(wt,ot),ot=+Eu(wt,ot),Su(Pt,ht),ht=+Eu(Pt,ht),Ku(Lt,vt),Lt=Yu(Lt,vt)|0,Xx[_t&1](a,ot,ht,Lt),yt=zt}function Su(a,tt){a=a|0,tt=+tt}function Eu(a,tt){return a=a|0,tt=+tt,+ +US(tt)}function Ku(a,tt){a=a|0,tt=tt|0}function Yu(a,tt){return a=a|0,tt=tt|0,BS(tt)|0}function BS(a){return a=a|0,a|0}function US(a){return a=+a,+a}function VS(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,Pt=o[ot>>2]|0,wt=o[ot+4>>2]|0,ot=on(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],zS(a,ot,vt,1),yt=ht}function zS(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;vt=yt,yt=yt+32|0,_t=vt+16|0,Vt=vt+8|0,Pt=vt,zt=o[ot>>2]|0,Lt=o[ot+4>>2]|0,wt=o[a>>2]|0,a=wv()|0,o[Vt>>2]=zt,o[Vt+4>>2]=Lt,o[_t>>2]=o[Vt>>2],o[_t+4>>2]=o[Vt+4>>2],ot=$S(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=Lt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Er(wt,tt,a,ot,GS(_t,ht)|0,ht),yt=vt}function wv(){var a=0,tt=0;if(d[7648]|0||(I_(9268),Fr(27,9268,bt|0)|0,tt=7648,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(9268)|0)){a=9268,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));I_(9268)}return 9268}function $S(a){return a=a|0,0}function GS(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;return Vt=yt,yt=yt+32|0,vt=Vt+24|0,wt=Vt+16|0,Pt=Vt,Lt=Vt+8|0,_t=o[a>>2]|0,ht=o[a+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ht,Ht=wv()|0,zt=Ht+24|0,a=Mr(tt,4)|0,o[Lt>>2]=a,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[wt>>2]=_t,o[wt+4>>2]=ht,o[vt>>2]=o[wt>>2],o[vt+4>>2]=o[wt+4>>2],P_(ot,vt,a),a=(o[tt>>2]|0)+12|0,o[tt>>2]=a):(HS(zt,Pt,Lt),a=o[tt>>2]|0),yt=Vt,((a-(o[zt>>2]|0)|0)/12|0)+-1|0}function P_(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=o[tt+4>>2]|0,o[a>>2]=o[tt>>2],o[a+4>>2]=ht,o[a+8>>2]=ot}function HS(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ht=zt+32|0,wt=zt+24|0,Pt=zt,Lt=a+4|0,vt=(((o[Lt>>2]|0)-(o[a>>2]|0)|0)/12|0)+1|0,_t=WS(a)|0,_t>>>0<vt>>>0)po(a);else{Vt=o[a>>2]|0,Zt=((o[a+8>>2]|0)-Vt|0)/12|0,Ht=Zt<<1,jS(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<vt>>>0?vt:Ht:_t,((o[Lt>>2]|0)-Vt|0)/12|0,a+8|0),Lt=Pt+8|0,_t=o[Lt>>2]|0,vt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[wt>>2]=o[tt>>2],o[wt+4>>2]=vt,o[ht>>2]=o[wt>>2],o[ht+4>>2]=o[wt+4>>2],P_(_t,ht,ot),o[Lt>>2]=(o[Lt>>2]|0)+12,qS(a,Pt),XS(Pt),yt=zt;return}}function WS(a){return a=a|0,357913941}function jS(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>357913941)eo();else{vt=Ar(tt*12|0)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot*12|0)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt*12|0)}function qS(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(((vt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function XS(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~(((ht+-12-tt|0)>>>0)/12|0)*12|0)),a=o[a>>2]|0,a|0&&qn(a)}function I_(a){a=a|0,QS(a)}function KS(a){a=a|0,YS(a+24|0)}function YS(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~(((tt+-12-ht|0)>>>0)/12|0)*12|0)),qn(ot))}function QS(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,2,4,tt,ZS()|0,0),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function ZS(){return 1160}function JS(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0;return ot=yt,yt=yt+16|0,ht=ot+8|0,vt=ot,_t=eE(a)|0,a=o[_t+4>>2]|0,o[vt>>2]=o[_t>>2],o[vt+4>>2]=a,o[ht>>2]=o[vt>>2],o[ht+4>>2]=o[vt+4>>2],tt=tE(tt,ht)|0,yt=ot,tt|0}function eE(a){return a=a|0,(o[(wv()|0)+24>>2]|0)+(a*12|0)|0}function tE(a,tt){a=a|0,tt=tt|0;var ot=0;return ot=o[tt>>2]|0,tt=o[tt+4>>2]|0,a=a+(tt>>1)|0,tt&1&&(ot=o[(o[a>>2]|0)+ot>>2]|0),k_(gp[ot&31](a)|0)|0}function k_(a){return a=a|0,a&1|0}function nE(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,Pt=o[ot>>2]|0,wt=o[ot+4>>2]|0,ot=on(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],rE(a,ot,vt,0),yt=ht}function rE(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;vt=yt,yt=yt+32|0,_t=vt+16|0,Vt=vt+8|0,Pt=vt,zt=o[ot>>2]|0,Lt=o[ot+4>>2]|0,wt=o[a>>2]|0,a=Tv()|0,o[Vt>>2]=zt,o[Vt+4>>2]=Lt,o[_t>>2]=o[Vt>>2],o[_t+4>>2]=o[Vt+4>>2],ot=iE(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=Lt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Er(wt,tt,a,ot,oE(_t,ht)|0,ht),yt=vt}function Tv(){var a=0,tt=0;if(d[7656]|0||(N_(9304),Fr(28,9304,bt|0)|0,tt=7656,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(9304)|0)){a=9304,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));N_(9304)}return 9304}function iE(a){return a=a|0,0}function oE(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;return Vt=yt,yt=yt+32|0,vt=Vt+24|0,wt=Vt+16|0,Pt=Vt,Lt=Vt+8|0,_t=o[a>>2]|0,ht=o[a+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ht,Ht=Tv()|0,zt=Ht+24|0,a=Mr(tt,4)|0,o[Lt>>2]=a,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[wt>>2]=_t,o[wt+4>>2]=ht,o[vt>>2]=o[wt>>2],o[vt+4>>2]=o[wt+4>>2],L_(ot,vt,a),a=(o[tt>>2]|0)+12|0,o[tt>>2]=a):(sE(zt,Pt,Lt),a=o[tt>>2]|0),yt=Vt,((a-(o[zt>>2]|0)|0)/12|0)+-1|0}function L_(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=o[tt+4>>2]|0,o[a>>2]=o[tt>>2],o[a+4>>2]=ht,o[a+8>>2]=ot}function sE(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ht=zt+32|0,wt=zt+24|0,Pt=zt,Lt=a+4|0,vt=(((o[Lt>>2]|0)-(o[a>>2]|0)|0)/12|0)+1|0,_t=aE(a)|0,_t>>>0<vt>>>0)po(a);else{Vt=o[a>>2]|0,Zt=((o[a+8>>2]|0)-Vt|0)/12|0,Ht=Zt<<1,lE(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<vt>>>0?vt:Ht:_t,((o[Lt>>2]|0)-Vt|0)/12|0,a+8|0),Lt=Pt+8|0,_t=o[Lt>>2]|0,vt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[wt>>2]=o[tt>>2],o[wt+4>>2]=vt,o[ht>>2]=o[wt>>2],o[ht+4>>2]=o[wt+4>>2],L_(_t,ht,ot),o[Lt>>2]=(o[Lt>>2]|0)+12,uE(a,Pt),cE(Pt),yt=zt;return}}function aE(a){return a=a|0,357913941}function lE(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>357913941)eo();else{vt=Ar(tt*12|0)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot*12|0)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt*12|0)}function uE(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(((vt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function cE(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~(((ht+-12-tt|0)>>>0)/12|0)*12|0)),a=o[a>>2]|0,a|0&&qn(a)}function N_(a){a=a|0,hE(a)}function fE(a){a=a|0,dE(a+24|0)}function dE(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~(((tt+-12-ht|0)>>>0)/12|0)*12|0)),qn(ot))}function hE(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,2,5,tt,pE()|0,1),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function pE(){return 1164}function mE(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=gE(a)|0,a=o[wt+4>>2]|0,o[_t>>2]=o[wt>>2],o[_t+4>>2]=a,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],vE(tt,vt,ot),yt=ht}function gE(a){return a=a|0,(o[(Tv()|0)+24>>2]|0)+(a*12|0)|0}function vE(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0;_t=yt,yt=yt+16|0,vt=_t,ht=o[tt>>2]|0,tt=o[tt+4>>2]|0,a=a+(tt>>1)|0,tt&1&&(ht=o[(o[a>>2]|0)+ht>>2]|0),I0(vt,ot),ot=k0(vt,ot)|0,Ju[ht&31](a,ot),L0(vt),yt=_t}function I0(a,tt){a=a|0,tt=tt|0,_E(a,tt)}function k0(a,tt){return a=a|0,tt=tt|0,a|0}function L0(a){a=a|0,zu(a)}function _E(a,tt){a=a|0,tt=tt|0,Mv(a,tt)}function Mv(a,tt){a=a|0,tt=tt|0,o[a>>2]=tt}function yE(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,Pt=o[ot>>2]|0,wt=o[ot+4>>2]|0,ot=on(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],xE(a,ot,vt,0),yt=ht}function xE(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;vt=yt,yt=yt+32|0,_t=vt+16|0,Vt=vt+8|0,Pt=vt,zt=o[ot>>2]|0,Lt=o[ot+4>>2]|0,wt=o[a>>2]|0,a=Av()|0,o[Vt>>2]=zt,o[Vt+4>>2]=Lt,o[_t>>2]=o[Vt>>2],o[_t+4>>2]=o[Vt+4>>2],ot=SE(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=Lt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Er(wt,tt,a,ot,EE(_t,ht)|0,ht),yt=vt}function Av(){var a=0,tt=0;if(d[7664]|0||(D_(9340),Fr(29,9340,bt|0)|0,tt=7664,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(9340)|0)){a=9340,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));D_(9340)}return 9340}function SE(a){return a=a|0,0}function EE(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;return Vt=yt,yt=yt+32|0,vt=Vt+24|0,wt=Vt+16|0,Pt=Vt,Lt=Vt+8|0,_t=o[a>>2]|0,ht=o[a+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ht,Ht=Av()|0,zt=Ht+24|0,a=Mr(tt,4)|0,o[Lt>>2]=a,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[wt>>2]=_t,o[wt+4>>2]=ht,o[vt>>2]=o[wt>>2],o[vt+4>>2]=o[wt+4>>2],O_(ot,vt,a),a=(o[tt>>2]|0)+12|0,o[tt>>2]=a):(wE(zt,Pt,Lt),a=o[tt>>2]|0),yt=Vt,((a-(o[zt>>2]|0)|0)/12|0)+-1|0}function O_(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=o[tt+4>>2]|0,o[a>>2]=o[tt>>2],o[a+4>>2]=ht,o[a+8>>2]=ot}function wE(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ht=zt+32|0,wt=zt+24|0,Pt=zt,Lt=a+4|0,vt=(((o[Lt>>2]|0)-(o[a>>2]|0)|0)/12|0)+1|0,_t=TE(a)|0,_t>>>0<vt>>>0)po(a);else{Vt=o[a>>2]|0,Zt=((o[a+8>>2]|0)-Vt|0)/12|0,Ht=Zt<<1,ME(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<vt>>>0?vt:Ht:_t,((o[Lt>>2]|0)-Vt|0)/12|0,a+8|0),Lt=Pt+8|0,_t=o[Lt>>2]|0,vt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[wt>>2]=o[tt>>2],o[wt+4>>2]=vt,o[ht>>2]=o[wt>>2],o[ht+4>>2]=o[wt+4>>2],O_(_t,ht,ot),o[Lt>>2]=(o[Lt>>2]|0)+12,AE(a,Pt),CE(Pt),yt=zt;return}}function TE(a){return a=a|0,357913941}function ME(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>357913941)eo();else{vt=Ar(tt*12|0)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot*12|0)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt*12|0)}function AE(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(((vt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function CE(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~(((ht+-12-tt|0)>>>0)/12|0)*12|0)),a=o[a>>2]|0,a|0&&qn(a)}function D_(a){a=a|0,PE(a)}function RE(a){a=a|0,bE(a+24|0)}function bE(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~(((tt+-12-ht|0)>>>0)/12|0)*12|0)),qn(ot))}function PE(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,2,4,tt,IE()|0,1),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function IE(){return 1180}function kE(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=LE(a)|0,a=o[wt+4>>2]|0,o[_t>>2]=o[wt>>2],o[_t+4>>2]=a,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],ot=NE(tt,vt,ot)|0,yt=ht,ot|0}function LE(a){return a=a|0,(o[(Av()|0)+24>>2]|0)+(a*12|0)|0}function NE(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0;return _t=yt,yt=yt+16|0,vt=_t,ht=o[tt>>2]|0,tt=o[tt+4>>2]|0,a=a+(tt>>1)|0,tt&1&&(ht=o[(o[a>>2]|0)+ht>>2]|0),lp(vt,ot),vt=up(vt,ot)|0,vt=w2(E_[ht&15](a,vt)|0)|0,yt=_t,vt|0}function lp(a,tt){a=a|0,tt=tt|0}function up(a,tt){return a=a|0,tt=tt|0,OE(tt)|0}function w2(a){return a=a|0,a|0}function OE(a){return a=a|0,a|0}function DE(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,Pt=o[ot>>2]|0,wt=o[ot+4>>2]|0,ot=on(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],FE(a,ot,vt,0),yt=ht}function FE(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;vt=yt,yt=yt+32|0,_t=vt+16|0,Vt=vt+8|0,Pt=vt,zt=o[ot>>2]|0,Lt=o[ot+4>>2]|0,wt=o[a>>2]|0,a=Cv()|0,o[Vt>>2]=zt,o[Vt+4>>2]=Lt,o[_t>>2]=o[Vt>>2],o[_t+4>>2]=o[Vt+4>>2],ot=BE(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=Lt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Er(wt,tt,a,ot,UE(_t,ht)|0,ht),yt=vt}function Cv(){var a=0,tt=0;if(d[7672]|0||(B_(9376),Fr(30,9376,bt|0)|0,tt=7672,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(9376)|0)){a=9376,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));B_(9376)}return 9376}function BE(a){return a=a|0,0}function UE(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;return Vt=yt,yt=yt+32|0,vt=Vt+24|0,wt=Vt+16|0,Pt=Vt,Lt=Vt+8|0,_t=o[a>>2]|0,ht=o[a+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ht,Ht=Cv()|0,zt=Ht+24|0,a=Mr(tt,4)|0,o[Lt>>2]=a,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[wt>>2]=_t,o[wt+4>>2]=ht,o[vt>>2]=o[wt>>2],o[vt+4>>2]=o[wt+4>>2],F_(ot,vt,a),a=(o[tt>>2]|0)+12|0,o[tt>>2]=a):(VE(zt,Pt,Lt),a=o[tt>>2]|0),yt=Vt,((a-(o[zt>>2]|0)|0)/12|0)+-1|0}function F_(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=o[tt+4>>2]|0,o[a>>2]=o[tt>>2],o[a+4>>2]=ht,o[a+8>>2]=ot}function VE(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ht=zt+32|0,wt=zt+24|0,Pt=zt,Lt=a+4|0,vt=(((o[Lt>>2]|0)-(o[a>>2]|0)|0)/12|0)+1|0,_t=zE(a)|0,_t>>>0<vt>>>0)po(a);else{Vt=o[a>>2]|0,Zt=((o[a+8>>2]|0)-Vt|0)/12|0,Ht=Zt<<1,$E(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<vt>>>0?vt:Ht:_t,((o[Lt>>2]|0)-Vt|0)/12|0,a+8|0),Lt=Pt+8|0,_t=o[Lt>>2]|0,vt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[wt>>2]=o[tt>>2],o[wt+4>>2]=vt,o[ht>>2]=o[wt>>2],o[ht+4>>2]=o[wt+4>>2],F_(_t,ht,ot),o[Lt>>2]=(o[Lt>>2]|0)+12,GE(a,Pt),HE(Pt),yt=zt;return}}function zE(a){return a=a|0,357913941}function $E(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>357913941)eo();else{vt=Ar(tt*12|0)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot*12|0)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt*12|0)}function GE(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(((vt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function HE(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~(((ht+-12-tt|0)>>>0)/12|0)*12|0)),a=o[a>>2]|0,a|0&&qn(a)}function B_(a){a=a|0,qE(a)}function WE(a){a=a|0,jE(a+24|0)}function jE(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~(((tt+-12-ht|0)>>>0)/12|0)*12|0)),qn(ot))}function qE(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,2,5,tt,U_()|0,0),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function U_(){return 1196}function XE(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0;return ot=yt,yt=yt+16|0,ht=ot+8|0,vt=ot,_t=KE(a)|0,a=o[_t+4>>2]|0,o[vt>>2]=o[_t>>2],o[vt+4>>2]=a,o[ht>>2]=o[vt>>2],o[ht+4>>2]=o[vt+4>>2],tt=YE(tt,ht)|0,yt=ot,tt|0}function KE(a){return a=a|0,(o[(Cv()|0)+24>>2]|0)+(a*12|0)|0}function YE(a,tt){a=a|0,tt=tt|0;var ot=0;return ot=o[tt>>2]|0,tt=o[tt+4>>2]|0,a=a+(tt>>1)|0,tt&1&&(ot=o[(o[a>>2]|0)+ot>>2]|0),w2(gp[ot&31](a)|0)|0}function QE(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,Pt=o[ot>>2]|0,wt=o[ot+4>>2]|0,ot=on(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],ZE(a,ot,vt,1),yt=ht}function ZE(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;vt=yt,yt=yt+32|0,_t=vt+16|0,Vt=vt+8|0,Pt=vt,zt=o[ot>>2]|0,Lt=o[ot+4>>2]|0,wt=o[a>>2]|0,a=Rv()|0,o[Vt>>2]=zt,o[Vt+4>>2]=Lt,o[_t>>2]=o[Vt>>2],o[_t+4>>2]=o[Vt+4>>2],ot=JE(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=Lt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Er(wt,tt,a,ot,ew(_t,ht)|0,ht),yt=vt}function Rv(){var a=0,tt=0;if(d[7680]|0||(z_(9412),Fr(31,9412,bt|0)|0,tt=7680,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(9412)|0)){a=9412,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));z_(9412)}return 9412}function JE(a){return a=a|0,0}function ew(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;return Vt=yt,yt=yt+32|0,vt=Vt+24|0,wt=Vt+16|0,Pt=Vt,Lt=Vt+8|0,_t=o[a>>2]|0,ht=o[a+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ht,Ht=Rv()|0,zt=Ht+24|0,a=Mr(tt,4)|0,o[Lt>>2]=a,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[wt>>2]=_t,o[wt+4>>2]=ht,o[vt>>2]=o[wt>>2],o[vt+4>>2]=o[wt+4>>2],V_(ot,vt,a),a=(o[tt>>2]|0)+12|0,o[tt>>2]=a):(tw(zt,Pt,Lt),a=o[tt>>2]|0),yt=Vt,((a-(o[zt>>2]|0)|0)/12|0)+-1|0}function V_(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=o[tt+4>>2]|0,o[a>>2]=o[tt>>2],o[a+4>>2]=ht,o[a+8>>2]=ot}function tw(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ht=zt+32|0,wt=zt+24|0,Pt=zt,Lt=a+4|0,vt=(((o[Lt>>2]|0)-(o[a>>2]|0)|0)/12|0)+1|0,_t=nw(a)|0,_t>>>0<vt>>>0)po(a);else{Vt=o[a>>2]|0,Zt=((o[a+8>>2]|0)-Vt|0)/12|0,Ht=Zt<<1,rw(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<vt>>>0?vt:Ht:_t,((o[Lt>>2]|0)-Vt|0)/12|0,a+8|0),Lt=Pt+8|0,_t=o[Lt>>2]|0,vt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[wt>>2]=o[tt>>2],o[wt+4>>2]=vt,o[ht>>2]=o[wt>>2],o[ht+4>>2]=o[wt+4>>2],V_(_t,ht,ot),o[Lt>>2]=(o[Lt>>2]|0)+12,iw(a,Pt),ow(Pt),yt=zt;return}}function nw(a){return a=a|0,357913941}function rw(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>357913941)eo();else{vt=Ar(tt*12|0)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot*12|0)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt*12|0)}function iw(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(((vt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function ow(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~(((ht+-12-tt|0)>>>0)/12|0)*12|0)),a=o[a>>2]|0,a|0&&qn(a)}function z_(a){a=a|0,lw(a)}function sw(a){a=a|0,aw(a+24|0)}function aw(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~(((tt+-12-ht|0)>>>0)/12|0)*12|0)),qn(ot))}function lw(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,2,6,tt,$_()|0,0),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function $_(){return 1200}function uw(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0;return ot=yt,yt=yt+16|0,ht=ot+8|0,vt=ot,_t=cw(a)|0,a=o[_t+4>>2]|0,o[vt>>2]=o[_t>>2],o[vt+4>>2]=a,o[ht>>2]=o[vt>>2],o[ht+4>>2]=o[vt+4>>2],tt=fw(tt,ht)|0,yt=ot,tt|0}function cw(a){return a=a|0,(o[(Rv()|0)+24>>2]|0)+(a*12|0)|0}function fw(a,tt){a=a|0,tt=tt|0;var ot=0;return ot=o[tt>>2]|0,tt=o[tt+4>>2]|0,a=a+(tt>>1)|0,tt&1&&(ot=o[(o[a>>2]|0)+ot>>2]|0),T2(gp[ot&31](a)|0)|0}function T2(a){return a=a|0,a|0}function dw(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,Pt=o[ot>>2]|0,wt=o[ot+4>>2]|0,ot=on(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],hw(a,ot,vt,0),yt=ht}function hw(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;vt=yt,yt=yt+32|0,_t=vt+16|0,Vt=vt+8|0,Pt=vt,zt=o[ot>>2]|0,Lt=o[ot+4>>2]|0,wt=o[a>>2]|0,a=bv()|0,o[Vt>>2]=zt,o[Vt+4>>2]=Lt,o[_t>>2]=o[Vt>>2],o[_t+4>>2]=o[Vt+4>>2],ot=pw(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=Lt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Er(wt,tt,a,ot,mw(_t,ht)|0,ht),yt=vt}function bv(){var a=0,tt=0;if(d[7688]|0||(H_(9448),Fr(32,9448,bt|0)|0,tt=7688,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(9448)|0)){a=9448,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));H_(9448)}return 9448}function pw(a){return a=a|0,0}function mw(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;return Vt=yt,yt=yt+32|0,vt=Vt+24|0,wt=Vt+16|0,Pt=Vt,Lt=Vt+8|0,_t=o[a>>2]|0,ht=o[a+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ht,Ht=bv()|0,zt=Ht+24|0,a=Mr(tt,4)|0,o[Lt>>2]=a,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[wt>>2]=_t,o[wt+4>>2]=ht,o[vt>>2]=o[wt>>2],o[vt+4>>2]=o[wt+4>>2],G_(ot,vt,a),a=(o[tt>>2]|0)+12|0,o[tt>>2]=a):(gw(zt,Pt,Lt),a=o[tt>>2]|0),yt=Vt,((a-(o[zt>>2]|0)|0)/12|0)+-1|0}function G_(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=o[tt+4>>2]|0,o[a>>2]=o[tt>>2],o[a+4>>2]=ht,o[a+8>>2]=ot}function gw(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ht=zt+32|0,wt=zt+24|0,Pt=zt,Lt=a+4|0,vt=(((o[Lt>>2]|0)-(o[a>>2]|0)|0)/12|0)+1|0,_t=vw(a)|0,_t>>>0<vt>>>0)po(a);else{Vt=o[a>>2]|0,Zt=((o[a+8>>2]|0)-Vt|0)/12|0,Ht=Zt<<1,_w(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<vt>>>0?vt:Ht:_t,((o[Lt>>2]|0)-Vt|0)/12|0,a+8|0),Lt=Pt+8|0,_t=o[Lt>>2]|0,vt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[wt>>2]=o[tt>>2],o[wt+4>>2]=vt,o[ht>>2]=o[wt>>2],o[ht+4>>2]=o[wt+4>>2],G_(_t,ht,ot),o[Lt>>2]=(o[Lt>>2]|0)+12,yw(a,Pt),xw(Pt),yt=zt;return}}function vw(a){return a=a|0,357913941}function _w(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>357913941)eo();else{vt=Ar(tt*12|0)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot*12|0)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt*12|0)}function yw(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(((vt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function xw(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~(((ht+-12-tt|0)>>>0)/12|0)*12|0)),a=o[a>>2]|0,a|0&&qn(a)}function H_(a){a=a|0,ww(a)}function Sw(a){a=a|0,Ew(a+24|0)}function Ew(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~(((tt+-12-ht|0)>>>0)/12|0)*12|0)),qn(ot))}function ww(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,2,6,tt,W_()|0,1),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function W_(){return 1204}function Tw(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=Mw(a)|0,a=o[wt+4>>2]|0,o[_t>>2]=o[wt>>2],o[_t+4>>2]=a,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],Aw(tt,vt,ot),yt=ht}function Mw(a){return a=a|0,(o[(bv()|0)+24>>2]|0)+(a*12|0)|0}function Aw(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0;_t=yt,yt=yt+16|0,vt=_t,ht=o[tt>>2]|0,tt=o[tt+4>>2]|0,a=a+(tt>>1)|0,tt&1&&(ht=o[(o[a>>2]|0)+ht>>2]|0),Pv(vt,ot),vt=Iv(vt,ot)|0,Ju[ht&31](a,vt),yt=_t}function Pv(a,tt){a=a|0,tt=tt|0}function Iv(a,tt){return a=a|0,tt=tt|0,Cw(tt)|0}function Cw(a){return a=a|0,a|0}function Rw(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,Pt=o[ot>>2]|0,wt=o[ot+4>>2]|0,ot=on(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],bw(a,ot,vt,0),yt=ht}function bw(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;vt=yt,yt=yt+32|0,_t=vt+16|0,Vt=vt+8|0,Pt=vt,zt=o[ot>>2]|0,Lt=o[ot+4>>2]|0,wt=o[a>>2]|0,a=kv()|0,o[Vt>>2]=zt,o[Vt+4>>2]=Lt,o[_t>>2]=o[Vt>>2],o[_t+4>>2]=o[Vt+4>>2],ot=Pw(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=Lt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Er(wt,tt,a,ot,Iw(_t,ht)|0,ht),yt=vt}function kv(){var a=0,tt=0;if(d[7696]|0||(q_(9484),Fr(33,9484,bt|0)|0,tt=7696,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(9484)|0)){a=9484,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));q_(9484)}return 9484}function Pw(a){return a=a|0,0}function Iw(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;return Vt=yt,yt=yt+32|0,vt=Vt+24|0,wt=Vt+16|0,Pt=Vt,Lt=Vt+8|0,_t=o[a>>2]|0,ht=o[a+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ht,Ht=kv()|0,zt=Ht+24|0,a=Mr(tt,4)|0,o[Lt>>2]=a,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[wt>>2]=_t,o[wt+4>>2]=ht,o[vt>>2]=o[wt>>2],o[vt+4>>2]=o[wt+4>>2],j_(ot,vt,a),a=(o[tt>>2]|0)+12|0,o[tt>>2]=a):(kw(zt,Pt,Lt),a=o[tt>>2]|0),yt=Vt,((a-(o[zt>>2]|0)|0)/12|0)+-1|0}function j_(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=o[tt+4>>2]|0,o[a>>2]=o[tt>>2],o[a+4>>2]=ht,o[a+8>>2]=ot}function kw(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ht=zt+32|0,wt=zt+24|0,Pt=zt,Lt=a+4|0,vt=(((o[Lt>>2]|0)-(o[a>>2]|0)|0)/12|0)+1|0,_t=Lw(a)|0,_t>>>0<vt>>>0)po(a);else{Vt=o[a>>2]|0,Zt=((o[a+8>>2]|0)-Vt|0)/12|0,Ht=Zt<<1,Nw(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<vt>>>0?vt:Ht:_t,((o[Lt>>2]|0)-Vt|0)/12|0,a+8|0),Lt=Pt+8|0,_t=o[Lt>>2]|0,vt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[wt>>2]=o[tt>>2],o[wt+4>>2]=vt,o[ht>>2]=o[wt>>2],o[ht+4>>2]=o[wt+4>>2],j_(_t,ht,ot),o[Lt>>2]=(o[Lt>>2]|0)+12,Ow(a,Pt),Dw(Pt),yt=zt;return}}function Lw(a){return a=a|0,357913941}function Nw(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>357913941)eo();else{vt=Ar(tt*12|0)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot*12|0)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt*12|0)}function Ow(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(((vt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function Dw(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~(((ht+-12-tt|0)>>>0)/12|0)*12|0)),a=o[a>>2]|0,a|0&&qn(a)}function q_(a){a=a|0,Uw(a)}function Fw(a){a=a|0,Bw(a+24|0)}function Bw(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~(((tt+-12-ht|0)>>>0)/12|0)*12|0)),qn(ot))}function Uw(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,2,1,tt,Vw()|0,2),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function Vw(){return 1212}function zw(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0;vt=yt,yt=yt+16|0,_t=vt+8|0,wt=vt,Pt=$w(a)|0,a=o[Pt+4>>2]|0,o[wt>>2]=o[Pt>>2],o[wt+4>>2]=a,o[_t>>2]=o[wt>>2],o[_t+4>>2]=o[wt+4>>2],Gw(tt,_t,ot,ht),yt=vt}function $w(a){return a=a|0,(o[(kv()|0)+24>>2]|0)+(a*12|0)|0}function Gw(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0;Pt=yt,yt=yt+16|0,_t=Pt+1|0,wt=Pt,vt=o[tt>>2]|0,tt=o[tt+4>>2]|0,a=a+(tt>>1)|0,tt&1&&(vt=o[(o[a>>2]|0)+vt>>2]|0),Pv(_t,ot),_t=Iv(_t,ot)|0,lp(wt,ht),wt=up(wt,ht)|0,_1[vt&15](a,_t,wt),yt=Pt}function Hw(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,Pt=o[ot>>2]|0,wt=o[ot+4>>2]|0,ot=on(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],Ww(a,ot,vt,1),yt=ht}function Ww(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;vt=yt,yt=yt+32|0,_t=vt+16|0,Vt=vt+8|0,Pt=vt,zt=o[ot>>2]|0,Lt=o[ot+4>>2]|0,wt=o[a>>2]|0,a=Lv()|0,o[Vt>>2]=zt,o[Vt+4>>2]=Lt,o[_t>>2]=o[Vt>>2],o[_t+4>>2]=o[Vt+4>>2],ot=jw(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=Lt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Er(wt,tt,a,ot,qw(_t,ht)|0,ht),yt=vt}function Lv(){var a=0,tt=0;if(d[7704]|0||(K_(9520),Fr(34,9520,bt|0)|0,tt=7704,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(9520)|0)){a=9520,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));K_(9520)}return 9520}function jw(a){return a=a|0,0}function qw(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;return Vt=yt,yt=yt+32|0,vt=Vt+24|0,wt=Vt+16|0,Pt=Vt,Lt=Vt+8|0,_t=o[a>>2]|0,ht=o[a+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ht,Ht=Lv()|0,zt=Ht+24|0,a=Mr(tt,4)|0,o[Lt>>2]=a,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[wt>>2]=_t,o[wt+4>>2]=ht,o[vt>>2]=o[wt>>2],o[vt+4>>2]=o[wt+4>>2],X_(ot,vt,a),a=(o[tt>>2]|0)+12|0,o[tt>>2]=a):(Xw(zt,Pt,Lt),a=o[tt>>2]|0),yt=Vt,((a-(o[zt>>2]|0)|0)/12|0)+-1|0}function X_(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=o[tt+4>>2]|0,o[a>>2]=o[tt>>2],o[a+4>>2]=ht,o[a+8>>2]=ot}function Xw(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ht=zt+32|0,wt=zt+24|0,Pt=zt,Lt=a+4|0,vt=(((o[Lt>>2]|0)-(o[a>>2]|0)|0)/12|0)+1|0,_t=Kw(a)|0,_t>>>0<vt>>>0)po(a);else{Vt=o[a>>2]|0,Zt=((o[a+8>>2]|0)-Vt|0)/12|0,Ht=Zt<<1,Yw(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<vt>>>0?vt:Ht:_t,((o[Lt>>2]|0)-Vt|0)/12|0,a+8|0),Lt=Pt+8|0,_t=o[Lt>>2]|0,vt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[wt>>2]=o[tt>>2],o[wt+4>>2]=vt,o[ht>>2]=o[wt>>2],o[ht+4>>2]=o[wt+4>>2],X_(_t,ht,ot),o[Lt>>2]=(o[Lt>>2]|0)+12,Qw(a,Pt),Zw(Pt),yt=zt;return}}function Kw(a){return a=a|0,357913941}function Yw(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>357913941)eo();else{vt=Ar(tt*12|0)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot*12|0)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt*12|0)}function Qw(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(((vt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function Zw(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~(((ht+-12-tt|0)>>>0)/12|0)*12|0)),a=o[a>>2]|0,a|0&&qn(a)}function K_(a){a=a|0,tT(a)}function Jw(a){a=a|0,eT(a+24|0)}function eT(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~(((tt+-12-ht|0)>>>0)/12|0)*12|0)),qn(ot))}function tT(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,2,1,tt,nT()|0,1),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function nT(){return 1224}function rT(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;return vt=yt,yt=yt+16|0,_t=vt+8|0,wt=vt,Pt=iT(a)|0,a=o[Pt+4>>2]|0,o[wt>>2]=o[Pt>>2],o[wt+4>>2]=a,o[_t>>2]=o[wt>>2],o[_t+4>>2]=o[wt+4>>2],ht=+oT(tt,_t,ot),yt=vt,+ht}function iT(a){return a=a|0,(o[(Lv()|0)+24>>2]|0)+(a*12|0)|0}function oT(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return _t=yt,yt=yt+16|0,vt=_t,ht=o[tt>>2]|0,tt=o[tt+4>>2]|0,a=a+(tt>>1)|0,tt&1&&(ht=o[(o[a>>2]|0)+ht>>2]|0),Ku(vt,ot),vt=Yu(vt,ot)|0,wt=+em(+Yx[ht&7](a,vt)),yt=_t,+wt}function sT(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,Pt=o[ot>>2]|0,wt=o[ot+4>>2]|0,ot=on(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],aT(a,ot,vt,1),yt=ht}function aT(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;vt=yt,yt=yt+32|0,_t=vt+16|0,Vt=vt+8|0,Pt=vt,zt=o[ot>>2]|0,Lt=o[ot+4>>2]|0,wt=o[a>>2]|0,a=Nv()|0,o[Vt>>2]=zt,o[Vt+4>>2]=Lt,o[_t>>2]=o[Vt>>2],o[_t+4>>2]=o[Vt+4>>2],ot=lT(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=Lt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Er(wt,tt,a,ot,uT(_t,ht)|0,ht),yt=vt}function Nv(){var a=0,tt=0;if(d[7712]|0||(Q_(9556),Fr(35,9556,bt|0)|0,tt=7712,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(9556)|0)){a=9556,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));Q_(9556)}return 9556}function lT(a){return a=a|0,0}function uT(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;return Vt=yt,yt=yt+32|0,vt=Vt+24|0,wt=Vt+16|0,Pt=Vt,Lt=Vt+8|0,_t=o[a>>2]|0,ht=o[a+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ht,Ht=Nv()|0,zt=Ht+24|0,a=Mr(tt,4)|0,o[Lt>>2]=a,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[wt>>2]=_t,o[wt+4>>2]=ht,o[vt>>2]=o[wt>>2],o[vt+4>>2]=o[wt+4>>2],Y_(ot,vt,a),a=(o[tt>>2]|0)+12|0,o[tt>>2]=a):(cT(zt,Pt,Lt),a=o[tt>>2]|0),yt=Vt,((a-(o[zt>>2]|0)|0)/12|0)+-1|0}function Y_(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=o[tt+4>>2]|0,o[a>>2]=o[tt>>2],o[a+4>>2]=ht,o[a+8>>2]=ot}function cT(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ht=zt+32|0,wt=zt+24|0,Pt=zt,Lt=a+4|0,vt=(((o[Lt>>2]|0)-(o[a>>2]|0)|0)/12|0)+1|0,_t=fT(a)|0,_t>>>0<vt>>>0)po(a);else{Vt=o[a>>2]|0,Zt=((o[a+8>>2]|0)-Vt|0)/12|0,Ht=Zt<<1,dT(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<vt>>>0?vt:Ht:_t,((o[Lt>>2]|0)-Vt|0)/12|0,a+8|0),Lt=Pt+8|0,_t=o[Lt>>2]|0,vt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[wt>>2]=o[tt>>2],o[wt+4>>2]=vt,o[ht>>2]=o[wt>>2],o[ht+4>>2]=o[wt+4>>2],Y_(_t,ht,ot),o[Lt>>2]=(o[Lt>>2]|0)+12,hT(a,Pt),pT(Pt),yt=zt;return}}function fT(a){return a=a|0,357913941}function dT(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>357913941)eo();else{vt=Ar(tt*12|0)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot*12|0)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt*12|0)}function hT(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(((vt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function pT(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~(((ht+-12-tt|0)>>>0)/12|0)*12|0)),a=o[a>>2]|0,a|0&&qn(a)}function Q_(a){a=a|0,vT(a)}function mT(a){a=a|0,gT(a+24|0)}function gT(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~(((tt+-12-ht|0)>>>0)/12|0)*12|0)),qn(ot))}function vT(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,2,5,tt,_T()|0,0),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function _T(){return 1232}function yT(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=xT(a)|0,a=o[wt+4>>2]|0,o[_t>>2]=o[wt>>2],o[_t+4>>2]=a,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],ot=+ST(tt,vt),yt=ht,+ot}function xT(a){return a=a|0,(o[(Nv()|0)+24>>2]|0)+(a*12|0)|0}function ST(a,tt){a=a|0,tt=tt|0;var ot=0;return ot=o[tt>>2]|0,tt=o[tt+4>>2]|0,a=a+(tt>>1)|0,tt&1&&(ot=o[(o[a>>2]|0)+ot>>2]|0),+ +em(+Kx[ot&15](a))}function ET(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,Pt=o[ot>>2]|0,wt=o[ot+4>>2]|0,ot=on(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],wT(a,ot,vt,1),yt=ht}function wT(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;vt=yt,yt=yt+32|0,_t=vt+16|0,Vt=vt+8|0,Pt=vt,zt=o[ot>>2]|0,Lt=o[ot+4>>2]|0,wt=o[a>>2]|0,a=Ov()|0,o[Vt>>2]=zt,o[Vt+4>>2]=Lt,o[_t>>2]=o[Vt>>2],o[_t+4>>2]=o[Vt+4>>2],ot=TT(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=Lt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Er(wt,tt,a,ot,MT(_t,ht)|0,ht),yt=vt}function Ov(){var a=0,tt=0;if(d[7720]|0||(J_(9592),Fr(36,9592,bt|0)|0,tt=7720,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(9592)|0)){a=9592,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));J_(9592)}return 9592}function TT(a){return a=a|0,0}function MT(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;return Vt=yt,yt=yt+32|0,vt=Vt+24|0,wt=Vt+16|0,Pt=Vt,Lt=Vt+8|0,_t=o[a>>2]|0,ht=o[a+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ht,Ht=Ov()|0,zt=Ht+24|0,a=Mr(tt,4)|0,o[Lt>>2]=a,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[wt>>2]=_t,o[wt+4>>2]=ht,o[vt>>2]=o[wt>>2],o[vt+4>>2]=o[wt+4>>2],Z_(ot,vt,a),a=(o[tt>>2]|0)+12|0,o[tt>>2]=a):(AT(zt,Pt,Lt),a=o[tt>>2]|0),yt=Vt,((a-(o[zt>>2]|0)|0)/12|0)+-1|0}function Z_(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=o[tt+4>>2]|0,o[a>>2]=o[tt>>2],o[a+4>>2]=ht,o[a+8>>2]=ot}function AT(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ht=zt+32|0,wt=zt+24|0,Pt=zt,Lt=a+4|0,vt=(((o[Lt>>2]|0)-(o[a>>2]|0)|0)/12|0)+1|0,_t=CT(a)|0,_t>>>0<vt>>>0)po(a);else{Vt=o[a>>2]|0,Zt=((o[a+8>>2]|0)-Vt|0)/12|0,Ht=Zt<<1,RT(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<vt>>>0?vt:Ht:_t,((o[Lt>>2]|0)-Vt|0)/12|0,a+8|0),Lt=Pt+8|0,_t=o[Lt>>2]|0,vt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[wt>>2]=o[tt>>2],o[wt+4>>2]=vt,o[ht>>2]=o[wt>>2],o[ht+4>>2]=o[wt+4>>2],Z_(_t,ht,ot),o[Lt>>2]=(o[Lt>>2]|0)+12,bT(a,Pt),PT(Pt),yt=zt;return}}function CT(a){return a=a|0,357913941}function RT(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>357913941)eo();else{vt=Ar(tt*12|0)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot*12|0)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt*12|0)}function bT(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(((vt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function PT(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~(((ht+-12-tt|0)>>>0)/12|0)*12|0)),a=o[a>>2]|0,a|0&&qn(a)}function J_(a){a=a|0,LT(a)}function IT(a){a=a|0,kT(a+24|0)}function kT(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~(((tt+-12-ht|0)>>>0)/12|0)*12|0)),qn(ot))}function LT(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,2,7,tt,NT()|0,0),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function NT(){return 1276}function OT(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0;return ot=yt,yt=yt+16|0,ht=ot+8|0,vt=ot,_t=DT(a)|0,a=o[_t+4>>2]|0,o[vt>>2]=o[_t>>2],o[vt+4>>2]=a,o[ht>>2]=o[vt>>2],o[ht+4>>2]=o[vt+4>>2],tt=FT(tt,ht)|0,yt=ot,tt|0}function DT(a){return a=a|0,(o[(Ov()|0)+24>>2]|0)+(a*12|0)|0}function FT(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0;return vt=yt,yt=yt+16|0,ht=vt,ot=o[tt>>2]|0,tt=o[tt+4>>2]|0,a=a+(tt>>1)|0,tt&1&&(ot=o[(o[a>>2]|0)+ot>>2]|0),Ju[ot&31](ht,a),ht=ey(ht)|0,yt=vt,ht|0}function ey(a){a=a|0;var tt=0,ot=0,ht=0,vt=0;return vt=yt,yt=yt+32|0,tt=vt+12|0,ot=vt,ht=_v(ty()|0)|0,ht?(yv(tt,ht),xv(ot,tt),BT(a,ot),a=Sv(tt)|0):a=UT(a)|0,yt=vt,a|0}function ty(){var a=0;return d[7736]|0||(KT(9640),Fr(25,9640,bt|0)|0,a=7736,o[a>>2]=1,o[a+4>>2]=0),9640}function BT(a,tt){a=a|0,tt=tt|0,GT(tt,a,a+8|0)|0}function UT(a){a=a|0;var tt=0,ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0;return ot=yt,yt=yt+16|0,vt=ot+4|0,wt=ot,ht=_l(8)|0,tt=ht,Pt=Ar(16)|0,o[Pt>>2]=o[a>>2],o[Pt+4>>2]=o[a+4>>2],o[Pt+8>>2]=o[a+8>>2],o[Pt+12>>2]=o[a+12>>2],_t=tt+4|0,o[_t>>2]=Pt,a=Ar(8)|0,_t=o[_t>>2]|0,o[wt>>2]=0,o[vt>>2]=o[wt>>2],Dv(a,_t,vt),o[ht>>2]=a,yt=ot,tt|0}function Dv(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,o[a>>2]=tt,ot=Ar(16)|0,o[ot+4>>2]=0,o[ot+8>>2]=0,o[ot>>2]=1244,o[ot+12>>2]=tt,o[a+4>>2]=ot}function VT(a){a=a|0,lm(a),qn(a)}function zT(a){a=a|0,a=o[a+12>>2]|0,a|0&&qn(a)}function $T(a){a=a|0,qn(a)}function GT(a,tt,ot){return a=a|0,tt=tt|0,ot=ot|0,tt=HT(o[a>>2]|0,tt,ot)|0,ot=a+4|0,o[(o[ot>>2]|0)+8>>2]=tt,o[(o[ot>>2]|0)+8>>2]|0}function HT(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0;return ht=yt,yt=yt+16|0,vt=ht,yl(vt),a=Qo(a)|0,ot=WT(a,o[tt>>2]|0,+Tt[ot>>3])|0,xl(vt),yt=ht,ot|0}function WT(a,tt,ot){a=a|0,tt=tt|0,ot=+ot;var ht=0;return ht=rs(jT()|0)|0,tt=b0(tt)|0,io(0,ht|0,a|0,tt|0,+ +ba(ot))|0}function jT(){var a=0;return d[7728]|0||(qT(9628),a=7728,o[a>>2]=1,o[a+4>>2]=0),9628}function qT(a){a=a|0,js(a,XT()|0,2)}function XT(){return 1264}function KT(a){a=a|0,P0(a)}function YT(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,Pt=o[ot>>2]|0,wt=o[ot+4>>2]|0,ot=on(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],QT(a,ot,vt,1),yt=ht}function QT(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;vt=yt,yt=yt+32|0,_t=vt+16|0,Vt=vt+8|0,Pt=vt,zt=o[ot>>2]|0,Lt=o[ot+4>>2]|0,wt=o[a>>2]|0,a=Fv()|0,o[Vt>>2]=zt,o[Vt+4>>2]=Lt,o[_t>>2]=o[Vt>>2],o[_t+4>>2]=o[Vt+4>>2],ot=ZT(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=Lt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Er(wt,tt,a,ot,JT(_t,ht)|0,ht),yt=vt}function Fv(){var a=0,tt=0;if(d[7744]|0||(ry(9684),Fr(37,9684,bt|0)|0,tt=7744,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(9684)|0)){a=9684,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));ry(9684)}return 9684}function ZT(a){return a=a|0,0}function JT(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;return Vt=yt,yt=yt+32|0,vt=Vt+24|0,wt=Vt+16|0,Pt=Vt,Lt=Vt+8|0,_t=o[a>>2]|0,ht=o[a+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ht,Ht=Fv()|0,zt=Ht+24|0,a=Mr(tt,4)|0,o[Lt>>2]=a,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[wt>>2]=_t,o[wt+4>>2]=ht,o[vt>>2]=o[wt>>2],o[vt+4>>2]=o[wt+4>>2],ny(ot,vt,a),a=(o[tt>>2]|0)+12|0,o[tt>>2]=a):(eM(zt,Pt,Lt),a=o[tt>>2]|0),yt=Vt,((a-(o[zt>>2]|0)|0)/12|0)+-1|0}function ny(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=o[tt+4>>2]|0,o[a>>2]=o[tt>>2],o[a+4>>2]=ht,o[a+8>>2]=ot}function eM(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ht=zt+32|0,wt=zt+24|0,Pt=zt,Lt=a+4|0,vt=(((o[Lt>>2]|0)-(o[a>>2]|0)|0)/12|0)+1|0,_t=tM(a)|0,_t>>>0<vt>>>0)po(a);else{Vt=o[a>>2]|0,Zt=((o[a+8>>2]|0)-Vt|0)/12|0,Ht=Zt<<1,nM(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<vt>>>0?vt:Ht:_t,((o[Lt>>2]|0)-Vt|0)/12|0,a+8|0),Lt=Pt+8|0,_t=o[Lt>>2]|0,vt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[wt>>2]=o[tt>>2],o[wt+4>>2]=vt,o[ht>>2]=o[wt>>2],o[ht+4>>2]=o[wt+4>>2],ny(_t,ht,ot),o[Lt>>2]=(o[Lt>>2]|0)+12,rM(a,Pt),iM(Pt),yt=zt;return}}function tM(a){return a=a|0,357913941}function nM(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>357913941)eo();else{vt=Ar(tt*12|0)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot*12|0)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt*12|0)}function rM(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(((vt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function iM(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~(((ht+-12-tt|0)>>>0)/12|0)*12|0)),a=o[a>>2]|0,a|0&&qn(a)}function ry(a){a=a|0,aM(a)}function oM(a){a=a|0,sM(a+24|0)}function sM(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~(((tt+-12-ht|0)>>>0)/12|0)*12|0)),qn(ot))}function aM(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,2,5,tt,lM()|0,1),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function lM(){return 1280}function uM(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=cM(a)|0,a=o[wt+4>>2]|0,o[_t>>2]=o[wt>>2],o[_t+4>>2]=a,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],ot=fM(tt,vt,ot)|0,yt=ht,ot|0}function cM(a){return a=a|0,(o[(Fv()|0)+24>>2]|0)+(a*12|0)|0}function fM(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return wt=yt,yt=yt+32|0,vt=wt,_t=wt+16|0,ht=o[tt>>2]|0,tt=o[tt+4>>2]|0,a=a+(tt>>1)|0,tt&1&&(ht=o[(o[a>>2]|0)+ht>>2]|0),Ku(_t,ot),_t=Yu(_t,ot)|0,_1[ht&15](vt,a,_t),_t=ey(vt)|0,yt=wt,_t|0}function dM(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,Pt=o[ot>>2]|0,wt=o[ot+4>>2]|0,ot=on(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],hM(a,ot,vt,1),yt=ht}function hM(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;vt=yt,yt=yt+32|0,_t=vt+16|0,Vt=vt+8|0,Pt=vt,zt=o[ot>>2]|0,Lt=o[ot+4>>2]|0,wt=o[a>>2]|0,a=Bv()|0,o[Vt>>2]=zt,o[Vt+4>>2]=Lt,o[_t>>2]=o[Vt>>2],o[_t+4>>2]=o[Vt+4>>2],ot=pM(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=Lt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Er(wt,tt,a,ot,mM(_t,ht)|0,ht),yt=vt}function Bv(){var a=0,tt=0;if(d[7752]|0||(oy(9720),Fr(38,9720,bt|0)|0,tt=7752,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(9720)|0)){a=9720,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));oy(9720)}return 9720}function pM(a){return a=a|0,0}function mM(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;return Vt=yt,yt=yt+32|0,vt=Vt+24|0,wt=Vt+16|0,Pt=Vt,Lt=Vt+8|0,_t=o[a>>2]|0,ht=o[a+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ht,Ht=Bv()|0,zt=Ht+24|0,a=Mr(tt,4)|0,o[Lt>>2]=a,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[wt>>2]=_t,o[wt+4>>2]=ht,o[vt>>2]=o[wt>>2],o[vt+4>>2]=o[wt+4>>2],iy(ot,vt,a),a=(o[tt>>2]|0)+12|0,o[tt>>2]=a):(gM(zt,Pt,Lt),a=o[tt>>2]|0),yt=Vt,((a-(o[zt>>2]|0)|0)/12|0)+-1|0}function iy(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=o[tt+4>>2]|0,o[a>>2]=o[tt>>2],o[a+4>>2]=ht,o[a+8>>2]=ot}function gM(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ht=zt+32|0,wt=zt+24|0,Pt=zt,Lt=a+4|0,vt=(((o[Lt>>2]|0)-(o[a>>2]|0)|0)/12|0)+1|0,_t=vM(a)|0,_t>>>0<vt>>>0)po(a);else{Vt=o[a>>2]|0,Zt=((o[a+8>>2]|0)-Vt|0)/12|0,Ht=Zt<<1,_M(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<vt>>>0?vt:Ht:_t,((o[Lt>>2]|0)-Vt|0)/12|0,a+8|0),Lt=Pt+8|0,_t=o[Lt>>2]|0,vt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[wt>>2]=o[tt>>2],o[wt+4>>2]=vt,o[ht>>2]=o[wt>>2],o[ht+4>>2]=o[wt+4>>2],iy(_t,ht,ot),o[Lt>>2]=(o[Lt>>2]|0)+12,yM(a,Pt),xM(Pt),yt=zt;return}}function vM(a){return a=a|0,357913941}function _M(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>357913941)eo();else{vt=Ar(tt*12|0)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot*12|0)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt*12|0)}function yM(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(((vt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function xM(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~(((ht+-12-tt|0)>>>0)/12|0)*12|0)),a=o[a>>2]|0,a|0&&qn(a)}function oy(a){a=a|0,wM(a)}function SM(a){a=a|0,EM(a+24|0)}function EM(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~(((tt+-12-ht|0)>>>0)/12|0)*12|0)),qn(ot))}function wM(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,2,8,tt,TM()|0,0),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function TM(){return 1288}function MM(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0;return ot=yt,yt=yt+16|0,ht=ot+8|0,vt=ot,_t=AM(a)|0,a=o[_t+4>>2]|0,o[vt>>2]=o[_t>>2],o[vt+4>>2]=a,o[ht>>2]=o[vt>>2],o[ht+4>>2]=o[vt+4>>2],tt=CM(tt,ht)|0,yt=ot,tt|0}function AM(a){return a=a|0,(o[(Bv()|0)+24>>2]|0)+(a*12|0)|0}function CM(a,tt){a=a|0,tt=tt|0;var ot=0;return ot=o[tt>>2]|0,tt=o[tt+4>>2]|0,a=a+(tt>>1)|0,tt&1&&(ot=o[(o[a>>2]|0)+ot>>2]|0),hs(gp[ot&31](a)|0)|0}function RM(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,Pt=o[ot>>2]|0,wt=o[ot+4>>2]|0,ot=on(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],bM(a,ot,vt,0),yt=ht}function bM(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;vt=yt,yt=yt+32|0,_t=vt+16|0,Vt=vt+8|0,Pt=vt,zt=o[ot>>2]|0,Lt=o[ot+4>>2]|0,wt=o[a>>2]|0,a=Uv()|0,o[Vt>>2]=zt,o[Vt+4>>2]=Lt,o[_t>>2]=o[Vt>>2],o[_t+4>>2]=o[Vt+4>>2],ot=PM(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=Lt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Er(wt,tt,a,ot,IM(_t,ht)|0,ht),yt=vt}function Uv(){var a=0,tt=0;if(d[7760]|0||(ay(9756),Fr(39,9756,bt|0)|0,tt=7760,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(9756)|0)){a=9756,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));ay(9756)}return 9756}function PM(a){return a=a|0,0}function IM(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;return Vt=yt,yt=yt+32|0,vt=Vt+24|0,wt=Vt+16|0,Pt=Vt,Lt=Vt+8|0,_t=o[a>>2]|0,ht=o[a+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ht,Ht=Uv()|0,zt=Ht+24|0,a=Mr(tt,4)|0,o[Lt>>2]=a,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[wt>>2]=_t,o[wt+4>>2]=ht,o[vt>>2]=o[wt>>2],o[vt+4>>2]=o[wt+4>>2],sy(ot,vt,a),a=(o[tt>>2]|0)+12|0,o[tt>>2]=a):(kM(zt,Pt,Lt),a=o[tt>>2]|0),yt=Vt,((a-(o[zt>>2]|0)|0)/12|0)+-1|0}function sy(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=o[tt+4>>2]|0,o[a>>2]=o[tt>>2],o[a+4>>2]=ht,o[a+8>>2]=ot}function kM(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ht=zt+32|0,wt=zt+24|0,Pt=zt,Lt=a+4|0,vt=(((o[Lt>>2]|0)-(o[a>>2]|0)|0)/12|0)+1|0,_t=LM(a)|0,_t>>>0<vt>>>0)po(a);else{Vt=o[a>>2]|0,Zt=((o[a+8>>2]|0)-Vt|0)/12|0,Ht=Zt<<1,NM(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<vt>>>0?vt:Ht:_t,((o[Lt>>2]|0)-Vt|0)/12|0,a+8|0),Lt=Pt+8|0,_t=o[Lt>>2]|0,vt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[wt>>2]=o[tt>>2],o[wt+4>>2]=vt,o[ht>>2]=o[wt>>2],o[ht+4>>2]=o[wt+4>>2],sy(_t,ht,ot),o[Lt>>2]=(o[Lt>>2]|0)+12,OM(a,Pt),DM(Pt),yt=zt;return}}function LM(a){return a=a|0,357913941}function NM(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>357913941)eo();else{vt=Ar(tt*12|0)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot*12|0)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt*12|0)}function OM(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(((vt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function DM(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~(((ht+-12-tt|0)>>>0)/12|0)*12|0)),a=o[a>>2]|0,a|0&&qn(a)}function ay(a){a=a|0,UM(a)}function FM(a){a=a|0,BM(a+24|0)}function BM(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~(((tt+-12-ht|0)>>>0)/12|0)*12|0)),qn(ot))}function UM(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,2,8,tt,VM()|0,1),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function VM(){return 1292}function zM(a,tt,ot){a=a|0,tt=tt|0,ot=+ot;var ht=0,vt=0,_t=0,wt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=$M(a)|0,a=o[wt+4>>2]|0,o[_t>>2]=o[wt>>2],o[_t+4>>2]=a,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],GM(tt,vt,ot),yt=ht}function $M(a){return a=a|0,(o[(Uv()|0)+24>>2]|0)+(a*12|0)|0}function GM(a,tt,ot){a=a|0,tt=tt|0,ot=+ot;var ht=0,vt=0,_t=0;_t=yt,yt=yt+16|0,vt=_t,ht=o[tt>>2]|0,tt=o[tt+4>>2]|0,a=a+(tt>>1)|0,tt&1&&(ht=o[(o[a>>2]|0)+ht>>2]|0),Su(vt,ot),ot=+Eu(vt,ot),jx[ht&31](a,ot),yt=_t}function HM(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,Pt=o[ot>>2]|0,wt=o[ot+4>>2]|0,ot=on(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],WM(a,ot,vt,0),yt=ht}function WM(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;vt=yt,yt=yt+32|0,_t=vt+16|0,Vt=vt+8|0,Pt=vt,zt=o[ot>>2]|0,Lt=o[ot+4>>2]|0,wt=o[a>>2]|0,a=Vv()|0,o[Vt>>2]=zt,o[Vt+4>>2]=Lt,o[_t>>2]=o[Vt>>2],o[_t+4>>2]=o[Vt+4>>2],ot=jM(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=Lt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Er(wt,tt,a,ot,qM(_t,ht)|0,ht),yt=vt}function Vv(){var a=0,tt=0;if(d[7768]|0||(uy(9792),Fr(40,9792,bt|0)|0,tt=7768,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(9792)|0)){a=9792,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));uy(9792)}return 9792}function jM(a){return a=a|0,0}function qM(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;return Vt=yt,yt=yt+32|0,vt=Vt+24|0,wt=Vt+16|0,Pt=Vt,Lt=Vt+8|0,_t=o[a>>2]|0,ht=o[a+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ht,Ht=Vv()|0,zt=Ht+24|0,a=Mr(tt,4)|0,o[Lt>>2]=a,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[wt>>2]=_t,o[wt+4>>2]=ht,o[vt>>2]=o[wt>>2],o[vt+4>>2]=o[wt+4>>2],ly(ot,vt,a),a=(o[tt>>2]|0)+12|0,o[tt>>2]=a):(XM(zt,Pt,Lt),a=o[tt>>2]|0),yt=Vt,((a-(o[zt>>2]|0)|0)/12|0)+-1|0}function ly(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=o[tt+4>>2]|0,o[a>>2]=o[tt>>2],o[a+4>>2]=ht,o[a+8>>2]=ot}function XM(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ht=zt+32|0,wt=zt+24|0,Pt=zt,Lt=a+4|0,vt=(((o[Lt>>2]|0)-(o[a>>2]|0)|0)/12|0)+1|0,_t=KM(a)|0,_t>>>0<vt>>>0)po(a);else{Vt=o[a>>2]|0,Zt=((o[a+8>>2]|0)-Vt|0)/12|0,Ht=Zt<<1,YM(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<vt>>>0?vt:Ht:_t,((o[Lt>>2]|0)-Vt|0)/12|0,a+8|0),Lt=Pt+8|0,_t=o[Lt>>2]|0,vt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[wt>>2]=o[tt>>2],o[wt+4>>2]=vt,o[ht>>2]=o[wt>>2],o[ht+4>>2]=o[wt+4>>2],ly(_t,ht,ot),o[Lt>>2]=(o[Lt>>2]|0)+12,QM(a,Pt),ZM(Pt),yt=zt;return}}function KM(a){return a=a|0,357913941}function YM(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>357913941)eo();else{vt=Ar(tt*12|0)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot*12|0)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt*12|0)}function QM(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(((vt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function ZM(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~(((ht+-12-tt|0)>>>0)/12|0)*12|0)),a=o[a>>2]|0,a|0&&qn(a)}function uy(a){a=a|0,tA(a)}function JM(a){a=a|0,eA(a+24|0)}function eA(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~(((tt+-12-ht|0)>>>0)/12|0)*12|0)),qn(ot))}function tA(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,2,1,tt,nA()|0,2),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function nA(){return 1300}function rA(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=+ht;var vt=0,_t=0,wt=0,Pt=0;vt=yt,yt=yt+16|0,_t=vt+8|0,wt=vt,Pt=iA(a)|0,a=o[Pt+4>>2]|0,o[wt>>2]=o[Pt>>2],o[wt+4>>2]=a,o[_t>>2]=o[wt>>2],o[_t+4>>2]=o[wt+4>>2],oA(tt,_t,ot,ht),yt=vt}function iA(a){return a=a|0,(o[(Vv()|0)+24>>2]|0)+(a*12|0)|0}function oA(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=+ht;var vt=0,_t=0,wt=0,Pt=0;Pt=yt,yt=yt+16|0,_t=Pt+1|0,wt=Pt,vt=o[tt>>2]|0,tt=o[tt+4>>2]|0,a=a+(tt>>1)|0,tt&1&&(vt=o[(o[a>>2]|0)+vt>>2]|0),Ku(_t,ot),_t=Yu(_t,ot)|0,Su(wt,ht),ht=+Eu(wt,ht),eS[vt&15](a,_t,ht),yt=Pt}function sA(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,Pt=o[ot>>2]|0,wt=o[ot+4>>2]|0,ot=on(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],aA(a,ot,vt,0),yt=ht}function aA(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;vt=yt,yt=yt+32|0,_t=vt+16|0,Vt=vt+8|0,Pt=vt,zt=o[ot>>2]|0,Lt=o[ot+4>>2]|0,wt=o[a>>2]|0,a=zv()|0,o[Vt>>2]=zt,o[Vt+4>>2]=Lt,o[_t>>2]=o[Vt>>2],o[_t+4>>2]=o[Vt+4>>2],ot=lA(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=Lt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Er(wt,tt,a,ot,uA(_t,ht)|0,ht),yt=vt}function zv(){var a=0,tt=0;if(d[7776]|0||(fy(9828),Fr(41,9828,bt|0)|0,tt=7776,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(9828)|0)){a=9828,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));fy(9828)}return 9828}function lA(a){return a=a|0,0}function uA(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;return Vt=yt,yt=yt+32|0,vt=Vt+24|0,wt=Vt+16|0,Pt=Vt,Lt=Vt+8|0,_t=o[a>>2]|0,ht=o[a+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ht,Ht=zv()|0,zt=Ht+24|0,a=Mr(tt,4)|0,o[Lt>>2]=a,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[wt>>2]=_t,o[wt+4>>2]=ht,o[vt>>2]=o[wt>>2],o[vt+4>>2]=o[wt+4>>2],cy(ot,vt,a),a=(o[tt>>2]|0)+12|0,o[tt>>2]=a):(cA(zt,Pt,Lt),a=o[tt>>2]|0),yt=Vt,((a-(o[zt>>2]|0)|0)/12|0)+-1|0}function cy(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=o[tt+4>>2]|0,o[a>>2]=o[tt>>2],o[a+4>>2]=ht,o[a+8>>2]=ot}function cA(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ht=zt+32|0,wt=zt+24|0,Pt=zt,Lt=a+4|0,vt=(((o[Lt>>2]|0)-(o[a>>2]|0)|0)/12|0)+1|0,_t=fA(a)|0,_t>>>0<vt>>>0)po(a);else{Vt=o[a>>2]|0,Zt=((o[a+8>>2]|0)-Vt|0)/12|0,Ht=Zt<<1,dA(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<vt>>>0?vt:Ht:_t,((o[Lt>>2]|0)-Vt|0)/12|0,a+8|0),Lt=Pt+8|0,_t=o[Lt>>2]|0,vt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[wt>>2]=o[tt>>2],o[wt+4>>2]=vt,o[ht>>2]=o[wt>>2],o[ht+4>>2]=o[wt+4>>2],cy(_t,ht,ot),o[Lt>>2]=(o[Lt>>2]|0)+12,hA(a,Pt),pA(Pt),yt=zt;return}}function fA(a){return a=a|0,357913941}function dA(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>357913941)eo();else{vt=Ar(tt*12|0)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot*12|0)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt*12|0)}function hA(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(((vt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function pA(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~(((ht+-12-tt|0)>>>0)/12|0)*12|0)),a=o[a>>2]|0,a|0&&qn(a)}function fy(a){a=a|0,vA(a)}function mA(a){a=a|0,gA(a+24|0)}function gA(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~(((tt+-12-ht|0)>>>0)/12|0)*12|0)),qn(ot))}function vA(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,2,7,tt,_A()|0,1),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function _A(){return 1312}function yA(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=xA(a)|0,a=o[wt+4>>2]|0,o[_t>>2]=o[wt>>2],o[_t+4>>2]=a,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],SA(tt,vt,ot),yt=ht}function xA(a){return a=a|0,(o[(zv()|0)+24>>2]|0)+(a*12|0)|0}function SA(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0;_t=yt,yt=yt+16|0,vt=_t,ht=o[tt>>2]|0,tt=o[tt+4>>2]|0,a=a+(tt>>1)|0,tt&1&&(ht=o[(o[a>>2]|0)+ht>>2]|0),Ku(vt,ot),vt=Yu(vt,ot)|0,Ju[ht&31](a,vt),yt=_t}function EA(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,Pt=o[ot>>2]|0,wt=o[ot+4>>2]|0,ot=on(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],wA(a,ot,vt,0),yt=ht}function wA(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;vt=yt,yt=yt+32|0,_t=vt+16|0,Vt=vt+8|0,Pt=vt,zt=o[ot>>2]|0,Lt=o[ot+4>>2]|0,wt=o[a>>2]|0,a=$v()|0,o[Vt>>2]=zt,o[Vt+4>>2]=Lt,o[_t>>2]=o[Vt>>2],o[_t+4>>2]=o[Vt+4>>2],ot=TA(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=Lt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Er(wt,tt,a,ot,MA(_t,ht)|0,ht),yt=vt}function $v(){var a=0,tt=0;if(d[7784]|0||(hy(9864),Fr(42,9864,bt|0)|0,tt=7784,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(9864)|0)){a=9864,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));hy(9864)}return 9864}function TA(a){return a=a|0,0}function MA(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;return Vt=yt,yt=yt+32|0,vt=Vt+24|0,wt=Vt+16|0,Pt=Vt,Lt=Vt+8|0,_t=o[a>>2]|0,ht=o[a+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ht,Ht=$v()|0,zt=Ht+24|0,a=Mr(tt,4)|0,o[Lt>>2]=a,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[wt>>2]=_t,o[wt+4>>2]=ht,o[vt>>2]=o[wt>>2],o[vt+4>>2]=o[wt+4>>2],dy(ot,vt,a),a=(o[tt>>2]|0)+12|0,o[tt>>2]=a):(AA(zt,Pt,Lt),a=o[tt>>2]|0),yt=Vt,((a-(o[zt>>2]|0)|0)/12|0)+-1|0}function dy(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=o[tt+4>>2]|0,o[a>>2]=o[tt>>2],o[a+4>>2]=ht,o[a+8>>2]=ot}function AA(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ht=zt+32|0,wt=zt+24|0,Pt=zt,Lt=a+4|0,vt=(((o[Lt>>2]|0)-(o[a>>2]|0)|0)/12|0)+1|0,_t=CA(a)|0,_t>>>0<vt>>>0)po(a);else{Vt=o[a>>2]|0,Zt=((o[a+8>>2]|0)-Vt|0)/12|0,Ht=Zt<<1,RA(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<vt>>>0?vt:Ht:_t,((o[Lt>>2]|0)-Vt|0)/12|0,a+8|0),Lt=Pt+8|0,_t=o[Lt>>2]|0,vt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[wt>>2]=o[tt>>2],o[wt+4>>2]=vt,o[ht>>2]=o[wt>>2],o[ht+4>>2]=o[wt+4>>2],dy(_t,ht,ot),o[Lt>>2]=(o[Lt>>2]|0)+12,bA(a,Pt),PA(Pt),yt=zt;return}}function CA(a){return a=a|0,357913941}function RA(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>357913941)eo();else{vt=Ar(tt*12|0)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot*12|0)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt*12|0)}function bA(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(((vt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function PA(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~(((ht+-12-tt|0)>>>0)/12|0)*12|0)),a=o[a>>2]|0,a|0&&qn(a)}function hy(a){a=a|0,LA(a)}function IA(a){a=a|0,kA(a+24|0)}function kA(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~(((tt+-12-ht|0)>>>0)/12|0)*12|0)),qn(ot))}function LA(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,2,8,tt,NA()|0,1),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function NA(){return 1320}function OA(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=DA(a)|0,a=o[wt+4>>2]|0,o[_t>>2]=o[wt>>2],o[_t+4>>2]=a,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],FA(tt,vt,ot),yt=ht}function DA(a){return a=a|0,(o[($v()|0)+24>>2]|0)+(a*12|0)|0}function FA(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0;_t=yt,yt=yt+16|0,vt=_t,ht=o[tt>>2]|0,tt=o[tt+4>>2]|0,a=a+(tt>>1)|0,tt&1&&(ht=o[(o[a>>2]|0)+ht>>2]|0),BA(vt,ot),vt=UA(vt,ot)|0,Ju[ht&31](a,vt),yt=_t}function BA(a,tt){a=a|0,tt=tt|0}function UA(a,tt){return a=a|0,tt=tt|0,VA(tt)|0}function VA(a){return a=a|0,a|0}function zA(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,Pt=o[ot>>2]|0,wt=o[ot+4>>2]|0,ot=on(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],$A(a,ot,vt,0),yt=ht}function $A(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;vt=yt,yt=yt+32|0,_t=vt+16|0,Vt=vt+8|0,Pt=vt,zt=o[ot>>2]|0,Lt=o[ot+4>>2]|0,wt=o[a>>2]|0,a=Gv()|0,o[Vt>>2]=zt,o[Vt+4>>2]=Lt,o[_t>>2]=o[Vt>>2],o[_t+4>>2]=o[Vt+4>>2],ot=GA(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=Lt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Er(wt,tt,a,ot,HA(_t,ht)|0,ht),yt=vt}function Gv(){var a=0,tt=0;if(d[7792]|0||(gy(9900),Fr(43,9900,bt|0)|0,tt=7792,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(9900)|0)){a=9900,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));gy(9900)}return 9900}function GA(a){return a=a|0,0}function HA(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;return Vt=yt,yt=yt+32|0,vt=Vt+24|0,wt=Vt+16|0,Pt=Vt,Lt=Vt+8|0,_t=o[a>>2]|0,ht=o[a+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ht,Ht=Gv()|0,zt=Ht+24|0,a=Mr(tt,4)|0,o[Lt>>2]=a,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[wt>>2]=_t,o[wt+4>>2]=ht,o[vt>>2]=o[wt>>2],o[vt+4>>2]=o[wt+4>>2],my(ot,vt,a),a=(o[tt>>2]|0)+12|0,o[tt>>2]=a):(WA(zt,Pt,Lt),a=o[tt>>2]|0),yt=Vt,((a-(o[zt>>2]|0)|0)/12|0)+-1|0}function my(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=o[tt+4>>2]|0,o[a>>2]=o[tt>>2],o[a+4>>2]=ht,o[a+8>>2]=ot}function WA(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ht=zt+32|0,wt=zt+24|0,Pt=zt,Lt=a+4|0,vt=(((o[Lt>>2]|0)-(o[a>>2]|0)|0)/12|0)+1|0,_t=jA(a)|0,_t>>>0<vt>>>0)po(a);else{Vt=o[a>>2]|0,Zt=((o[a+8>>2]|0)-Vt|0)/12|0,Ht=Zt<<1,qA(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<vt>>>0?vt:Ht:_t,((o[Lt>>2]|0)-Vt|0)/12|0,a+8|0),Lt=Pt+8|0,_t=o[Lt>>2]|0,vt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[wt>>2]=o[tt>>2],o[wt+4>>2]=vt,o[ht>>2]=o[wt>>2],o[ht+4>>2]=o[wt+4>>2],my(_t,ht,ot),o[Lt>>2]=(o[Lt>>2]|0)+12,XA(a,Pt),KA(Pt),yt=zt;return}}function jA(a){return a=a|0,357913941}function qA(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>357913941)eo();else{vt=Ar(tt*12|0)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot*12|0)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt*12|0)}function XA(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(((vt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function KA(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~(((ht+-12-tt|0)>>>0)/12|0)*12|0)),a=o[a>>2]|0,a|0&&qn(a)}function gy(a){a=a|0,ZA(a)}function YA(a){a=a|0,QA(a+24|0)}function QA(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~(((tt+-12-ht|0)>>>0)/12|0)*12|0)),qn(ot))}function ZA(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,2,22,tt,JA()|0,0),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function JA(){return 1344}function eC(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0;ot=yt,yt=yt+16|0,ht=ot+8|0,vt=ot,_t=tC(a)|0,a=o[_t+4>>2]|0,o[vt>>2]=o[_t>>2],o[vt+4>>2]=a,o[ht>>2]=o[vt>>2],o[ht+4>>2]=o[vt+4>>2],nC(tt,ht),yt=ot}function tC(a){return a=a|0,(o[(Gv()|0)+24>>2]|0)+(a*12|0)|0}function nC(a,tt){a=a|0,tt=tt|0;var ot=0;ot=o[tt>>2]|0,tt=o[tt+4>>2]|0,a=a+(tt>>1)|0,tt&1&&(ot=o[(o[a>>2]|0)+ot>>2]|0),Zu[ot&127](a)}function rC(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0;_t=o[a>>2]|0,vt=Hv()|0,a=iC(ot)|0,Er(_t,tt,vt,a,oC(ot,ht)|0,ht)}function Hv(){var a=0,tt=0;if(d[7800]|0||(yy(9936),Fr(44,9936,bt|0)|0,tt=7800,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(9936)|0)){a=9936,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));yy(9936)}return 9936}function iC(a){return a=a|0,a|0}function oC(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0;return Pt=yt,yt=yt+16|0,vt=Pt,_t=Pt+4|0,o[vt>>2]=a,Lt=Hv()|0,wt=Lt+24|0,tt=Mr(tt,4)|0,o[_t>>2]=tt,ot=Lt+28|0,ht=o[ot>>2]|0,ht>>>0<(o[Lt+32>>2]|0)>>>0?(vy(ht,a,tt),tt=(o[ot>>2]|0)+8|0,o[ot>>2]=tt):(sC(wt,vt,_t),tt=o[ot>>2]|0),yt=Pt,(tt-(o[wt>>2]|0)>>3)+-1|0}function vy(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,o[a>>2]=tt,o[a+4>>2]=ot}function sC(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;if(Pt=yt,yt=yt+32|0,vt=Pt,_t=a+4|0,wt=((o[_t>>2]|0)-(o[a>>2]|0)>>3)+1|0,ht=aC(a)|0,ht>>>0<wt>>>0)po(a);else{Lt=o[a>>2]|0,Vt=(o[a+8>>2]|0)-Lt|0,zt=Vt>>2,lC(vt,Vt>>3>>>0<ht>>>1>>>0?zt>>>0<wt>>>0?wt:zt:ht,(o[_t>>2]|0)-Lt>>3,a+8|0),wt=vt+8|0,vy(o[wt>>2]|0,o[tt>>2]|0,o[ot>>2]|0),o[wt>>2]=(o[wt>>2]|0)+8,uC(a,vt),cC(vt),yt=Pt;return}}function aC(a){return a=a|0,536870911}function lC(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>536870911)eo();else{vt=Ar(tt<<3)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot<<3)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt<<3)}function uC(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(0-(vt>>3)<<3)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function cC(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~((ht+-8-tt|0)>>>3)<<3)),a=o[a>>2]|0,a|0&&qn(a)}function yy(a){a=a|0,hC(a)}function fC(a){a=a|0,dC(a+24|0)}function dC(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~((tt+-8-ht|0)>>>3)<<3)),qn(ot))}function hC(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,1,23,tt,W_()|0,1),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function pC(a,tt){a=a|0,tt=tt|0,gC(o[(mC(a)|0)>>2]|0,tt)}function mC(a){return a=a|0,(o[(Hv()|0)+24>>2]|0)+(a<<3)|0}function gC(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;ot=yt,yt=yt+16|0,ht=ot,Pv(ht,tt),tt=Iv(ht,tt)|0,Zu[a&127](tt),yt=ot}function vC(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0;_t=o[a>>2]|0,vt=Wv()|0,a=_C(ot)|0,Er(_t,tt,vt,a,yC(ot,ht)|0,ht)}function Wv(){var a=0,tt=0;if(d[7808]|0||(Sy(9972),Fr(45,9972,bt|0)|0,tt=7808,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(9972)|0)){a=9972,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));Sy(9972)}return 9972}function _C(a){return a=a|0,a|0}function yC(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0;return Pt=yt,yt=yt+16|0,vt=Pt,_t=Pt+4|0,o[vt>>2]=a,Lt=Wv()|0,wt=Lt+24|0,tt=Mr(tt,4)|0,o[_t>>2]=tt,ot=Lt+28|0,ht=o[ot>>2]|0,ht>>>0<(o[Lt+32>>2]|0)>>>0?(xy(ht,a,tt),tt=(o[ot>>2]|0)+8|0,o[ot>>2]=tt):(xC(wt,vt,_t),tt=o[ot>>2]|0),yt=Pt,(tt-(o[wt>>2]|0)>>3)+-1|0}function xy(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,o[a>>2]=tt,o[a+4>>2]=ot}function xC(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;if(Pt=yt,yt=yt+32|0,vt=Pt,_t=a+4|0,wt=((o[_t>>2]|0)-(o[a>>2]|0)>>3)+1|0,ht=SC(a)|0,ht>>>0<wt>>>0)po(a);else{Lt=o[a>>2]|0,Vt=(o[a+8>>2]|0)-Lt|0,zt=Vt>>2,EC(vt,Vt>>3>>>0<ht>>>1>>>0?zt>>>0<wt>>>0?wt:zt:ht,(o[_t>>2]|0)-Lt>>3,a+8|0),wt=vt+8|0,xy(o[wt>>2]|0,o[tt>>2]|0,o[ot>>2]|0),o[wt>>2]=(o[wt>>2]|0)+8,wC(a,vt),TC(vt),yt=Pt;return}}function SC(a){return a=a|0,536870911}function EC(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>536870911)eo();else{vt=Ar(tt<<3)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot<<3)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt<<3)}function wC(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(0-(vt>>3)<<3)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function TC(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~((ht+-8-tt|0)>>>3)<<3)),a=o[a>>2]|0,a|0&&qn(a)}function Sy(a){a=a|0,CC(a)}function MC(a){a=a|0,AC(a+24|0)}function AC(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~((tt+-8-ht|0)>>>3)<<3)),qn(ot))}function CC(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,1,9,tt,RC()|0,1),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function RC(){return 1348}function bC(a,tt){return a=a|0,tt=tt|0,IC(o[(PC(a)|0)>>2]|0,tt)|0}function PC(a){return a=a|0,(o[(Wv()|0)+24>>2]|0)+(a<<3)|0}function IC(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;return ot=yt,yt=yt+16|0,ht=ot,Ey(ht,tt),tt=wy(ht,tt)|0,tt=w2(gp[a&31](tt)|0)|0,yt=ot,tt|0}function Ey(a,tt){a=a|0,tt=tt|0}function wy(a,tt){return a=a|0,tt=tt|0,kC(tt)|0}function kC(a){return a=a|0,a|0}function LC(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0;_t=o[a>>2]|0,vt=jv()|0,a=NC(ot)|0,Er(_t,tt,vt,a,OC(ot,ht)|0,ht)}function jv(){var a=0,tt=0;if(d[7816]|0||(My(10008),Fr(46,10008,bt|0)|0,tt=7816,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(10008)|0)){a=10008,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));My(10008)}return 10008}function NC(a){return a=a|0,a|0}function OC(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0;return Pt=yt,yt=yt+16|0,vt=Pt,_t=Pt+4|0,o[vt>>2]=a,Lt=jv()|0,wt=Lt+24|0,tt=Mr(tt,4)|0,o[_t>>2]=tt,ot=Lt+28|0,ht=o[ot>>2]|0,ht>>>0<(o[Lt+32>>2]|0)>>>0?(Ty(ht,a,tt),tt=(o[ot>>2]|0)+8|0,o[ot>>2]=tt):(DC(wt,vt,_t),tt=o[ot>>2]|0),yt=Pt,(tt-(o[wt>>2]|0)>>3)+-1|0}function Ty(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,o[a>>2]=tt,o[a+4>>2]=ot}function DC(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;if(Pt=yt,yt=yt+32|0,vt=Pt,_t=a+4|0,wt=((o[_t>>2]|0)-(o[a>>2]|0)>>3)+1|0,ht=FC(a)|0,ht>>>0<wt>>>0)po(a);else{Lt=o[a>>2]|0,Vt=(o[a+8>>2]|0)-Lt|0,zt=Vt>>2,BC(vt,Vt>>3>>>0<ht>>>1>>>0?zt>>>0<wt>>>0?wt:zt:ht,(o[_t>>2]|0)-Lt>>3,a+8|0),wt=vt+8|0,Ty(o[wt>>2]|0,o[tt>>2]|0,o[ot>>2]|0),o[wt>>2]=(o[wt>>2]|0)+8,UC(a,vt),VC(vt),yt=Pt;return}}function FC(a){return a=a|0,536870911}function BC(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>536870911)eo();else{vt=Ar(tt<<3)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot<<3)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt<<3)}function UC(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(0-(vt>>3)<<3)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function VC(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~((ht+-8-tt|0)>>>3)<<3)),a=o[a>>2]|0,a|0&&qn(a)}function My(a){a=a|0,GC(a)}function zC(a){a=a|0,$C(a+24|0)}function $C(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~((tt+-8-ht|0)>>>3)<<3)),qn(ot))}function GC(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,1,15,tt,U_()|0,0),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function HC(a){return a=a|0,jC(o[(WC(a)|0)>>2]|0)|0}function WC(a){return a=a|0,(o[(jv()|0)+24>>2]|0)+(a<<3)|0}function jC(a){return a=a|0,w2(B2[a&7]()|0)|0}function qC(){var a=0;return d[7832]|0||(t4(10052),Fr(25,10052,bt|0)|0,a=7832,o[a>>2]=1,o[a+4>>2]=0),10052}function XC(a,tt){a=a|0,tt=tt|0,o[a>>2]=KC()|0,o[a+4>>2]=YC()|0,o[a+12>>2]=tt,o[a+8>>2]=QC()|0,o[a+32>>2]=2}function KC(){return 11709}function YC(){return 1188}function QC(){return M2()|0}function ZC(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,(N0(ht,896)|0)==512?ot|0&&(JC(ot),qn(ot)):tt|0&&(Vp(tt),qn(tt))}function N0(a,tt){return a=a|0,tt=tt|0,tt&a|0}function JC(a){a=a|0,a=o[a+4>>2]|0,a|0&&D0(a)}function M2(){var a=0;return d[7824]|0||(o[2511]=e4()|0,o[2512]=0,a=7824,o[a>>2]=1,o[a+4>>2]=0),10044}function e4(){return 0}function t4(a){a=a|0,P0(a)}function n4(a){a=a|0;var tt=0,ot=0,ht=0,vt=0,_t=0;tt=yt,yt=yt+32|0,ot=tt+24|0,_t=tt+16|0,vt=tt+8|0,ht=tt,r4(a,4827),i4(a,4834,3)|0,o4(a,3682,47)|0,o[_t>>2]=9,o[_t+4>>2]=0,o[ot>>2]=o[_t>>2],o[ot+4>>2]=o[_t+4>>2],s4(a,4841,ot)|0,o[vt>>2]=1,o[vt+4>>2]=0,o[ot>>2]=o[vt>>2],o[ot+4>>2]=o[vt+4>>2],a4(a,4871,ot)|0,o[ht>>2]=10,o[ht+4>>2]=0,o[ot>>2]=o[ht>>2],o[ot+4>>2]=o[ht+4>>2],l4(a,4891,ot)|0,yt=tt}function r4(a,tt){a=a|0,tt=tt|0;var ot=0;ot=$3()|0,o[a>>2]=ot,G3(ot,tt),O0(o[a>>2]|0)}function i4(a,tt,ot){return a=a|0,tt=tt|0,ot=ot|0,A3(a,on(tt)|0,ot,0),a|0}function o4(a,tt,ot){return a=a|0,tt=tt|0,ot=ot|0,c3(a,on(tt)|0,ot,0),a|0}function s4(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],W4(a,tt,vt),yt=ht,a|0}function a4(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],A4(a,tt,vt),yt=ht,a|0}function l4(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],u4(a,tt,vt),yt=ht,a|0}function u4(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,Pt=o[ot>>2]|0,wt=o[ot+4>>2]|0,ot=on(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],c4(a,ot,vt,1),yt=ht}function c4(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;vt=yt,yt=yt+32|0,_t=vt+16|0,Vt=vt+8|0,Pt=vt,zt=o[ot>>2]|0,Lt=o[ot+4>>2]|0,wt=o[a>>2]|0,a=qv()|0,o[Vt>>2]=zt,o[Vt+4>>2]=Lt,o[_t>>2]=o[Vt>>2],o[_t+4>>2]=o[Vt+4>>2],ot=f4(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=Lt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Er(wt,tt,a,ot,d4(_t,ht)|0,ht),yt=vt}function qv(){var a=0,tt=0;if(d[7840]|0||(Cy(10100),Fr(48,10100,bt|0)|0,tt=7840,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(10100)|0)){a=10100,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));Cy(10100)}return 10100}function f4(a){return a=a|0,0}function d4(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;return Vt=yt,yt=yt+32|0,vt=Vt+24|0,wt=Vt+16|0,Pt=Vt,Lt=Vt+8|0,_t=o[a>>2]|0,ht=o[a+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ht,Ht=qv()|0,zt=Ht+24|0,a=Mr(tt,4)|0,o[Lt>>2]=a,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[wt>>2]=_t,o[wt+4>>2]=ht,o[vt>>2]=o[wt>>2],o[vt+4>>2]=o[wt+4>>2],Ay(ot,vt,a),a=(o[tt>>2]|0)+12|0,o[tt>>2]=a):(h4(zt,Pt,Lt),a=o[tt>>2]|0),yt=Vt,((a-(o[zt>>2]|0)|0)/12|0)+-1|0}function Ay(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=o[tt+4>>2]|0,o[a>>2]=o[tt>>2],o[a+4>>2]=ht,o[a+8>>2]=ot}function h4(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ht=zt+32|0,wt=zt+24|0,Pt=zt,Lt=a+4|0,vt=(((o[Lt>>2]|0)-(o[a>>2]|0)|0)/12|0)+1|0,_t=p4(a)|0,_t>>>0<vt>>>0)po(a);else{Vt=o[a>>2]|0,Zt=((o[a+8>>2]|0)-Vt|0)/12|0,Ht=Zt<<1,m4(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<vt>>>0?vt:Ht:_t,((o[Lt>>2]|0)-Vt|0)/12|0,a+8|0),Lt=Pt+8|0,_t=o[Lt>>2]|0,vt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[wt>>2]=o[tt>>2],o[wt+4>>2]=vt,o[ht>>2]=o[wt>>2],o[ht+4>>2]=o[wt+4>>2],Ay(_t,ht,ot),o[Lt>>2]=(o[Lt>>2]|0)+12,g4(a,Pt),_4(Pt),yt=zt;return}}function p4(a){return a=a|0,357913941}function m4(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>357913941)eo();else{vt=Ar(tt*12|0)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot*12|0)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt*12|0)}function g4(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(((vt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function _4(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~(((ht+-12-tt|0)>>>0)/12|0)*12|0)),a=o[a>>2]|0,a|0&&qn(a)}function Cy(a){a=a|0,S4(a)}function y4(a){a=a|0,x4(a+24|0)}function x4(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~(((tt+-12-ht|0)>>>0)/12|0)*12|0)),qn(ot))}function S4(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,2,6,tt,E4()|0,1),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function E4(){return 1364}function w4(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;return ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=T4(a)|0,a=o[wt+4>>2]|0,o[_t>>2]=o[wt>>2],o[_t+4>>2]=a,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],ot=M4(tt,vt,ot)|0,yt=ht,ot|0}function T4(a){return a=a|0,(o[(qv()|0)+24>>2]|0)+(a*12|0)|0}function M4(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0;return _t=yt,yt=yt+16|0,vt=_t,ht=o[tt>>2]|0,tt=o[tt+4>>2]|0,a=a+(tt>>1)|0,tt&1&&(ht=o[(o[a>>2]|0)+ht>>2]|0),Ku(vt,ot),vt=Yu(vt,ot)|0,vt=k_(E_[ht&15](a,vt)|0)|0,yt=_t,vt|0}function A4(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,Pt=o[ot>>2]|0,wt=o[ot+4>>2]|0,ot=on(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],C4(a,ot,vt,0),yt=ht}function C4(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;vt=yt,yt=yt+32|0,_t=vt+16|0,Vt=vt+8|0,Pt=vt,zt=o[ot>>2]|0,Lt=o[ot+4>>2]|0,wt=o[a>>2]|0,a=Xv()|0,o[Vt>>2]=zt,o[Vt+4>>2]=Lt,o[_t>>2]=o[Vt>>2],o[_t+4>>2]=o[Vt+4>>2],ot=R4(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=Lt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Er(wt,tt,a,ot,b4(_t,ht)|0,ht),yt=vt}function Xv(){var a=0,tt=0;if(d[7848]|0||(by(10136),Fr(49,10136,bt|0)|0,tt=7848,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(10136)|0)){a=10136,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));by(10136)}return 10136}function R4(a){return a=a|0,0}function b4(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;return Vt=yt,yt=yt+32|0,vt=Vt+24|0,wt=Vt+16|0,Pt=Vt,Lt=Vt+8|0,_t=o[a>>2]|0,ht=o[a+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ht,Ht=Xv()|0,zt=Ht+24|0,a=Mr(tt,4)|0,o[Lt>>2]=a,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[wt>>2]=_t,o[wt+4>>2]=ht,o[vt>>2]=o[wt>>2],o[vt+4>>2]=o[wt+4>>2],Ry(ot,vt,a),a=(o[tt>>2]|0)+12|0,o[tt>>2]=a):(P4(zt,Pt,Lt),a=o[tt>>2]|0),yt=Vt,((a-(o[zt>>2]|0)|0)/12|0)+-1|0}function Ry(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=o[tt+4>>2]|0,o[a>>2]=o[tt>>2],o[a+4>>2]=ht,o[a+8>>2]=ot}function P4(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ht=zt+32|0,wt=zt+24|0,Pt=zt,Lt=a+4|0,vt=(((o[Lt>>2]|0)-(o[a>>2]|0)|0)/12|0)+1|0,_t=I4(a)|0,_t>>>0<vt>>>0)po(a);else{Vt=o[a>>2]|0,Zt=((o[a+8>>2]|0)-Vt|0)/12|0,Ht=Zt<<1,k4(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<vt>>>0?vt:Ht:_t,((o[Lt>>2]|0)-Vt|0)/12|0,a+8|0),Lt=Pt+8|0,_t=o[Lt>>2]|0,vt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[wt>>2]=o[tt>>2],o[wt+4>>2]=vt,o[ht>>2]=o[wt>>2],o[ht+4>>2]=o[wt+4>>2],Ry(_t,ht,ot),o[Lt>>2]=(o[Lt>>2]|0)+12,L4(a,Pt),N4(Pt),yt=zt;return}}function I4(a){return a=a|0,357913941}function k4(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>357913941)eo();else{vt=Ar(tt*12|0)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot*12|0)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt*12|0)}function L4(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(((vt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function N4(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~(((ht+-12-tt|0)>>>0)/12|0)*12|0)),a=o[a>>2]|0,a|0&&qn(a)}function by(a){a=a|0,F4(a)}function O4(a){a=a|0,D4(a+24|0)}function D4(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~(((tt+-12-ht|0)>>>0)/12|0)*12|0)),qn(ot))}function F4(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,2,9,tt,B4()|0,1),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function B4(){return 1372}function U4(a,tt,ot){a=a|0,tt=tt|0,ot=+ot;var ht=0,vt=0,_t=0,wt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,wt=V4(a)|0,a=o[wt+4>>2]|0,o[_t>>2]=o[wt>>2],o[_t+4>>2]=a,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],z4(tt,vt,ot),yt=ht}function V4(a){return a=a|0,(o[(Xv()|0)+24>>2]|0)+(a*12|0)|0}function z4(a,tt,ot){a=a|0,tt=tt|0,ot=+ot;var ht=0,vt=0,_t=0,wt=Bn;_t=yt,yt=yt+16|0,vt=_t,ht=o[tt>>2]|0,tt=o[tt+4>>2]|0,a=a+(tt>>1)|0,tt&1&&(ht=o[(o[a>>2]|0)+ht>>2]|0),$4(vt,ot),wt=It(G4(vt,ot)),Wx[ht&1](a,wt),yt=_t}function $4(a,tt){a=a|0,tt=+tt}function G4(a,tt){return a=a|0,tt=+tt,It(H4(tt))}function H4(a){return a=+a,It(a)}function W4(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+16|0,vt=ht+8|0,_t=ht,Pt=o[ot>>2]|0,wt=o[ot+4>>2]|0,ot=on(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=wt,o[vt>>2]=o[_t>>2],o[vt+4>>2]=o[_t+4>>2],j4(a,ot,vt,0),yt=ht}function j4(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;vt=yt,yt=yt+32|0,_t=vt+16|0,Vt=vt+8|0,Pt=vt,zt=o[ot>>2]|0,Lt=o[ot+4>>2]|0,wt=o[a>>2]|0,a=Kv()|0,o[Vt>>2]=zt,o[Vt+4>>2]=Lt,o[_t>>2]=o[Vt>>2],o[_t+4>>2]=o[Vt+4>>2],ot=q4(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=Lt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Er(wt,tt,a,ot,X4(_t,ht)|0,ht),yt=vt}function Kv(){var a=0,tt=0;if(d[7856]|0||(Iy(10172),Fr(50,10172,bt|0)|0,tt=7856,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(10172)|0)){a=10172,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));Iy(10172)}return 10172}function q4(a){return a=a|0,0}function X4(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;return Vt=yt,yt=yt+32|0,vt=Vt+24|0,wt=Vt+16|0,Pt=Vt,Lt=Vt+8|0,_t=o[a>>2]|0,ht=o[a+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ht,Ht=Kv()|0,zt=Ht+24|0,a=Mr(tt,4)|0,o[Lt>>2]=a,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[wt>>2]=_t,o[wt+4>>2]=ht,o[vt>>2]=o[wt>>2],o[vt+4>>2]=o[wt+4>>2],Py(ot,vt,a),a=(o[tt>>2]|0)+12|0,o[tt>>2]=a):(K4(zt,Pt,Lt),a=o[tt>>2]|0),yt=Vt,((a-(o[zt>>2]|0)|0)/12|0)+-1|0}function Py(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=o[tt+4>>2]|0,o[a>>2]=o[tt>>2],o[a+4>>2]=ht,o[a+8>>2]=ot}function K4(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ht=zt+32|0,wt=zt+24|0,Pt=zt,Lt=a+4|0,vt=(((o[Lt>>2]|0)-(o[a>>2]|0)|0)/12|0)+1|0,_t=Y4(a)|0,_t>>>0<vt>>>0)po(a);else{Vt=o[a>>2]|0,Zt=((o[a+8>>2]|0)-Vt|0)/12|0,Ht=Zt<<1,Q4(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<vt>>>0?vt:Ht:_t,((o[Lt>>2]|0)-Vt|0)/12|0,a+8|0),Lt=Pt+8|0,_t=o[Lt>>2]|0,vt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[wt>>2]=o[tt>>2],o[wt+4>>2]=vt,o[ht>>2]=o[wt>>2],o[ht+4>>2]=o[wt+4>>2],Py(_t,ht,ot),o[Lt>>2]=(o[Lt>>2]|0)+12,Z4(a,Pt),J4(Pt),yt=zt;return}}function Y4(a){return a=a|0,357913941}function Q4(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>357913941)eo();else{vt=Ar(tt*12|0)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot*12|0)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt*12|0)}function Z4(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(((vt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function J4(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~(((ht+-12-tt|0)>>>0)/12|0)*12|0)),a=o[a>>2]|0,a|0&&qn(a)}function Iy(a){a=a|0,n3(a)}function e3(a){a=a|0,t3(a+24|0)}function t3(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~(((tt+-12-ht|0)>>>0)/12|0)*12|0)),qn(ot))}function n3(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,2,3,tt,r3()|0,2),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function r3(){return 1380}function i3(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0;vt=yt,yt=yt+16|0,_t=vt+8|0,wt=vt,Pt=o3(a)|0,a=o[Pt+4>>2]|0,o[wt>>2]=o[Pt>>2],o[wt+4>>2]=a,o[_t>>2]=o[wt>>2],o[_t+4>>2]=o[wt+4>>2],s3(tt,_t,ot,ht),yt=vt}function o3(a){return a=a|0,(o[(Kv()|0)+24>>2]|0)+(a*12|0)|0}function s3(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0;Pt=yt,yt=yt+16|0,_t=Pt+1|0,wt=Pt,vt=o[tt>>2]|0,tt=o[tt+4>>2]|0,a=a+(tt>>1)|0,tt&1&&(vt=o[(o[a>>2]|0)+vt>>2]|0),Ku(_t,ot),_t=Yu(_t,ot)|0,a3(wt,ht),wt=l3(wt,ht)|0,_1[vt&15](a,_t,wt),yt=Pt}function a3(a,tt){a=a|0,tt=tt|0}function l3(a,tt){return a=a|0,tt=tt|0,u3(tt)|0}function u3(a){return a=a|0,(a|0)!=0|0}function c3(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0;_t=o[a>>2]|0,vt=Yv()|0,a=f3(ot)|0,Er(_t,tt,vt,a,d3(ot,ht)|0,ht)}function Yv(){var a=0,tt=0;if(d[7864]|0||(Ly(10208),Fr(51,10208,bt|0)|0,tt=7864,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(10208)|0)){a=10208,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));Ly(10208)}return 10208}function f3(a){return a=a|0,a|0}function d3(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0;return Pt=yt,yt=yt+16|0,vt=Pt,_t=Pt+4|0,o[vt>>2]=a,Lt=Yv()|0,wt=Lt+24|0,tt=Mr(tt,4)|0,o[_t>>2]=tt,ot=Lt+28|0,ht=o[ot>>2]|0,ht>>>0<(o[Lt+32>>2]|0)>>>0?(ky(ht,a,tt),tt=(o[ot>>2]|0)+8|0,o[ot>>2]=tt):(h3(wt,vt,_t),tt=o[ot>>2]|0),yt=Pt,(tt-(o[wt>>2]|0)>>3)+-1|0}function ky(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,o[a>>2]=tt,o[a+4>>2]=ot}function h3(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;if(Pt=yt,yt=yt+32|0,vt=Pt,_t=a+4|0,wt=((o[_t>>2]|0)-(o[a>>2]|0)>>3)+1|0,ht=p3(a)|0,ht>>>0<wt>>>0)po(a);else{Lt=o[a>>2]|0,Vt=(o[a+8>>2]|0)-Lt|0,zt=Vt>>2,m3(vt,Vt>>3>>>0<ht>>>1>>>0?zt>>>0<wt>>>0?wt:zt:ht,(o[_t>>2]|0)-Lt>>3,a+8|0),wt=vt+8|0,ky(o[wt>>2]|0,o[tt>>2]|0,o[ot>>2]|0),o[wt>>2]=(o[wt>>2]|0)+8,g3(a,vt),_3(vt),yt=Pt;return}}function p3(a){return a=a|0,536870911}function m3(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>536870911)eo();else{vt=Ar(tt<<3)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot<<3)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt<<3)}function g3(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(0-(vt>>3)<<3)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function _3(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~((ht+-8-tt|0)>>>3)<<3)),a=o[a>>2]|0,a|0&&qn(a)}function Ly(a){a=a|0,S3(a)}function y3(a){a=a|0,x3(a+24|0)}function x3(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~((tt+-8-ht|0)>>>3)<<3)),qn(ot))}function S3(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,1,24,tt,E3()|0,1),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function E3(){return 1392}function w3(a,tt){a=a|0,tt=tt|0,M3(o[(T3(a)|0)>>2]|0,tt)}function T3(a){return a=a|0,(o[(Yv()|0)+24>>2]|0)+(a<<3)|0}function M3(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;ot=yt,yt=yt+16|0,ht=ot,Ey(ht,tt),tt=wy(ht,tt)|0,Zu[a&127](tt),yt=ot}function A3(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0;_t=o[a>>2]|0,vt=Qv()|0,a=C3(ot)|0,Er(_t,tt,vt,a,R3(ot,ht)|0,ht)}function Qv(){var a=0,tt=0;if(d[7872]|0||(Oy(10244),Fr(52,10244,bt|0)|0,tt=7872,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(10244)|0)){a=10244,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));Oy(10244)}return 10244}function C3(a){return a=a|0,a|0}function R3(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0;return Pt=yt,yt=yt+16|0,vt=Pt,_t=Pt+4|0,o[vt>>2]=a,Lt=Qv()|0,wt=Lt+24|0,tt=Mr(tt,4)|0,o[_t>>2]=tt,ot=Lt+28|0,ht=o[ot>>2]|0,ht>>>0<(o[Lt+32>>2]|0)>>>0?(Ny(ht,a,tt),tt=(o[ot>>2]|0)+8|0,o[ot>>2]=tt):(b3(wt,vt,_t),tt=o[ot>>2]|0),yt=Pt,(tt-(o[wt>>2]|0)>>3)+-1|0}function Ny(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,o[a>>2]=tt,o[a+4>>2]=ot}function b3(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;if(Pt=yt,yt=yt+32|0,vt=Pt,_t=a+4|0,wt=((o[_t>>2]|0)-(o[a>>2]|0)>>3)+1|0,ht=P3(a)|0,ht>>>0<wt>>>0)po(a);else{Lt=o[a>>2]|0,Vt=(o[a+8>>2]|0)-Lt|0,zt=Vt>>2,I3(vt,Vt>>3>>>0<ht>>>1>>>0?zt>>>0<wt>>>0?wt:zt:ht,(o[_t>>2]|0)-Lt>>3,a+8|0),wt=vt+8|0,Ny(o[wt>>2]|0,o[tt>>2]|0,o[ot>>2]|0),o[wt>>2]=(o[wt>>2]|0)+8,k3(a,vt),L3(vt),yt=Pt;return}}function P3(a){return a=a|0,536870911}function I3(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>536870911)eo();else{vt=Ar(tt<<3)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot<<3)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt<<3)}function k3(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(0-(vt>>3)<<3)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function L3(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~((ht+-8-tt|0)>>>3)<<3)),a=o[a>>2]|0,a|0&&qn(a)}function Oy(a){a=a|0,D3(a)}function N3(a){a=a|0,O3(a+24|0)}function O3(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~((tt+-8-ht|0)>>>3)<<3)),qn(ot))}function D3(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,1,16,tt,F3()|0,0),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function F3(){return 1400}function B3(a){return a=a|0,V3(o[(U3(a)|0)>>2]|0)|0}function U3(a){return a=a|0,(o[(Qv()|0)+24>>2]|0)+(a<<3)|0}function V3(a){return a=a|0,z3(B2[a&7]()|0)|0}function z3(a){return a=a|0,a|0}function $3(){var a=0;return d[7880]|0||(K3(10280),Fr(25,10280,bt|0)|0,a=7880,o[a>>2]=1,o[a+4>>2]=0),10280}function G3(a,tt){a=a|0,tt=tt|0,o[a>>2]=H3()|0,o[a+4>>2]=W3()|0,o[a+12>>2]=tt,o[a+8>>2]=j3()|0,o[a+32>>2]=4}function H3(){return 11711}function W3(){return 1356}function j3(){return M2()|0}function q3(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,(N0(ht,896)|0)==512?ot|0&&(X3(ot),qn(ot)):tt|0&&(ns(tt),qn(tt))}function X3(a){a=a|0,a=o[a+4>>2]|0,a|0&&D0(a)}function K3(a){a=a|0,P0(a)}function Y3(a){a=a|0,Q3(a,4920),Z3(a)|0,J3(a)|0}function Q3(a,tt){a=a|0,tt=tt|0;var ot=0;ot=ty()|0,o[a>>2]=ot,xR(ot,tt),O0(o[a>>2]|0)}function Z3(a){a=a|0;var tt=0;return tt=o[a>>2]|0,cp(tt,cR()|0),a|0}function J3(a){a=a|0;var tt=0;return tt=o[a>>2]|0,cp(tt,eR()|0),a|0}function eR(){var a=0;return d[7888]|0||(Dy(10328),Fr(53,10328,bt|0)|0,a=7888,o[a>>2]=1,o[a+4>>2]=0),Sr(10328)|0||Dy(10328),10328}function cp(a,tt){a=a|0,tt=tt|0,Er(a,0,tt,0,0,0)}function Dy(a){a=a|0,rR(a),fp(a,10)}function tR(a){a=a|0,nR(a+24|0)}function nR(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~((tt+-8-ht|0)>>>3)<<3)),qn(ot))}function rR(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,5,1,tt,aR()|0,2),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function iR(a,tt,ot){a=a|0,tt=tt|0,ot=+ot,oR(a,tt,ot)}function fp(a,tt){a=a|0,tt=tt|0,o[a+20>>2]=tt}function oR(a,tt,ot){a=a|0,tt=tt|0,ot=+ot;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+16|0,_t=ht+8|0,Pt=ht+13|0,vt=ht,wt=ht+12|0,Ku(Pt,tt),o[_t>>2]=Yu(Pt,tt)|0,Su(wt,ot),Tt[vt>>3]=+Eu(wt,ot),sR(a,_t,vt),yt=ht}function sR(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,A0(a+8|0,o[tt>>2]|0,+Tt[ot>>3]),d[a+24>>0]=1}function aR(){return 1404}function lR(a,tt){return a=a|0,tt=+tt,uR(a,tt)|0}function uR(a,tt){a=a|0,tt=+tt;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0;return ht=yt,yt=yt+16|0,_t=ht+4|0,wt=ht+8|0,Pt=ht,vt=_l(8)|0,ot=vt,Lt=Ar(16)|0,Ku(_t,a),a=Yu(_t,a)|0,Su(wt,tt),A0(Lt,a,+Eu(wt,tt)),wt=ot+4|0,o[wt>>2]=Lt,a=Ar(8)|0,wt=o[wt>>2]|0,o[Pt>>2]=0,o[_t>>2]=o[Pt>>2],Dv(a,wt,_t),o[vt>>2]=a,yt=ht,ot|0}function cR(){var a=0;return d[7896]|0||(Fy(10364),Fr(54,10364,bt|0)|0,a=7896,o[a>>2]=1,o[a+4>>2]=0),Sr(10364)|0||Fy(10364),10364}function Fy(a){a=a|0,hR(a),fp(a,55)}function fR(a){a=a|0,dR(a+24|0)}function dR(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~((tt+-8-ht|0)>>>3)<<3)),qn(ot))}function hR(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,5,4,tt,vR()|0,0),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function pR(a){a=a|0,mR(a)}function mR(a){a=a|0,gR(a)}function gR(a){a=a|0,By(a+8|0),d[a+24>>0]=1}function By(a){a=a|0,o[a>>2]=0,Tt[a+8>>3]=0}function vR(){return 1424}function _R(){return yR()|0}function yR(){var a=0,tt=0,ot=0,ht=0,vt=0,_t=0,wt=0;return tt=yt,yt=yt+16|0,vt=tt+4|0,wt=tt,ot=_l(8)|0,a=ot,ht=Ar(16)|0,By(ht),_t=a+4|0,o[_t>>2]=ht,ht=Ar(8)|0,_t=o[_t>>2]|0,o[wt>>2]=0,o[vt>>2]=o[wt>>2],Dv(ht,_t,vt),o[ot>>2]=ht,yt=tt,a|0}function xR(a,tt){a=a|0,tt=tt|0,o[a>>2]=SR()|0,o[a+4>>2]=ER()|0,o[a+12>>2]=tt,o[a+8>>2]=wR()|0,o[a+32>>2]=5}function SR(){return 11710}function ER(){return 1416}function wR(){return A2()|0}function TR(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,(N0(ht,896)|0)==512?ot|0&&(MR(ot),qn(ot)):tt|0&&qn(tt)}function MR(a){a=a|0,a=o[a+4>>2]|0,a|0&&D0(a)}function A2(){var a=0;return d[7904]|0||(o[2600]=AR()|0,o[2601]=0,a=7904,o[a>>2]=1,o[a+4>>2]=0),10400}function AR(){return o[357]|0}function CR(a){a=a|0,RR(a,4926),bR(a)|0}function RR(a,tt){a=a|0,tt=tt|0;var ot=0;ot=T_()|0,o[a>>2]=ot,VR(ot,tt),O0(o[a>>2]|0)}function bR(a){a=a|0;var tt=0;return tt=o[a>>2]|0,cp(tt,PR()|0),a|0}function PR(){var a=0;return d[7912]|0||(Uy(10412),Fr(56,10412,bt|0)|0,a=7912,o[a>>2]=1,o[a+4>>2]=0),Sr(10412)|0||Uy(10412),10412}function Uy(a){a=a|0,LR(a),fp(a,57)}function IR(a){a=a|0,kR(a+24|0)}function kR(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~((tt+-8-ht|0)>>>3)<<3)),qn(ot))}function LR(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,5,5,tt,FR()|0,0),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function NR(a){a=a|0,OR(a)}function OR(a){a=a|0,DR(a)}function DR(a){a=a|0;var tt=0,ot=0;tt=a+8|0,ot=tt+48|0;do o[tt>>2]=0,tt=tt+4|0;while((tt|0)<(ot|0));d[a+56>>0]=1}function FR(){return 1432}function BR(){return UR()|0}function UR(){var a=0,tt=0,ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0;wt=yt,yt=yt+16|0,a=wt+4|0,tt=wt,ot=_l(8)|0,ht=ot,vt=Ar(48)|0,_t=vt,Pt=_t+48|0;do o[_t>>2]=0,_t=_t+4|0;while((_t|0)<(Pt|0));return _t=ht+4|0,o[_t>>2]=vt,Pt=Ar(8)|0,_t=o[_t>>2]|0,o[tt>>2]=0,o[a>>2]=o[tt>>2],M_(Pt,_t,a),o[ot>>2]=Pt,yt=wt,ht|0}function VR(a,tt){a=a|0,tt=tt|0,o[a>>2]=zR()|0,o[a+4>>2]=$R()|0,o[a+12>>2]=tt,o[a+8>>2]=GR()|0,o[a+32>>2]=6}function zR(){return 11704}function $R(){return 1436}function GR(){return A2()|0}function HR(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,(N0(ht,896)|0)==512?ot|0&&(WR(ot),qn(ot)):tt|0&&qn(tt)}function WR(a){a=a|0,a=o[a+4>>2]|0,a|0&&D0(a)}function jR(a){a=a|0,qR(a,4933),XR(a)|0,KR(a)|0}function qR(a,tt){a=a|0,tt=tt|0;var ot=0;ot=yP()|0,o[a>>2]=ot,xP(ot,tt),O0(o[a>>2]|0)}function XR(a){a=a|0;var tt=0;return tt=o[a>>2]|0,cp(tt,uP()|0),a|0}function KR(a){a=a|0;var tt=0;return tt=o[a>>2]|0,cp(tt,YR()|0),a|0}function YR(){var a=0;return d[7920]|0||(Vy(10452),Fr(58,10452,bt|0)|0,a=7920,o[a>>2]=1,o[a+4>>2]=0),Sr(10452)|0||Vy(10452),10452}function Vy(a){a=a|0,JR(a),fp(a,1)}function QR(a){a=a|0,ZR(a+24|0)}function ZR(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~((tt+-8-ht|0)>>>3)<<3)),qn(ot))}function JR(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,5,1,tt,rP()|0,2),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function eP(a,tt,ot){a=a|0,tt=+tt,ot=+ot,tP(a,tt,ot)}function tP(a,tt,ot){a=a|0,tt=+tt,ot=+ot;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+32|0,_t=ht+8|0,Pt=ht+17|0,vt=ht,wt=ht+16|0,Su(Pt,tt),Tt[_t>>3]=+Eu(Pt,tt),Su(wt,ot),Tt[vt>>3]=+Eu(wt,ot),nP(a,_t,vt),yt=ht}function nP(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,zy(a+8|0,+Tt[tt>>3],+Tt[ot>>3]),d[a+24>>0]=1}function zy(a,tt,ot){a=a|0,tt=+tt,ot=+ot,Tt[a>>3]=tt,Tt[a+8>>3]=ot}function rP(){return 1472}function iP(a,tt){return a=+a,tt=+tt,oP(a,tt)|0}function oP(a,tt){a=+a,tt=+tt;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0;return ht=yt,yt=yt+16|0,wt=ht+4|0,Pt=ht+8|0,Lt=ht,vt=_l(8)|0,ot=vt,_t=Ar(16)|0,Su(wt,a),a=+Eu(wt,a),Su(Pt,tt),zy(_t,a,+Eu(Pt,tt)),Pt=ot+4|0,o[Pt>>2]=_t,_t=Ar(8)|0,Pt=o[Pt>>2]|0,o[Lt>>2]=0,o[wt>>2]=o[Lt>>2],$y(_t,Pt,wt),o[vt>>2]=_t,yt=ht,ot|0}function $y(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,o[a>>2]=tt,ot=Ar(16)|0,o[ot+4>>2]=0,o[ot+8>>2]=0,o[ot>>2]=1452,o[ot+12>>2]=tt,o[a+4>>2]=ot}function sP(a){a=a|0,lm(a),qn(a)}function aP(a){a=a|0,a=o[a+12>>2]|0,a|0&&qn(a)}function lP(a){a=a|0,qn(a)}function uP(){var a=0;return d[7928]|0||(Gy(10488),Fr(59,10488,bt|0)|0,a=7928,o[a>>2]=1,o[a+4>>2]=0),Sr(10488)|0||Gy(10488),10488}function Gy(a){a=a|0,dP(a),fp(a,60)}function cP(a){a=a|0,fP(a+24|0)}function fP(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~((tt+-8-ht|0)>>>3)<<3)),qn(ot))}function dP(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,5,6,tt,gP()|0,0),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function hP(a){a=a|0,pP(a)}function pP(a){a=a|0,mP(a)}function mP(a){a=a|0,Hy(a+8|0),d[a+24>>0]=1}function Hy(a){a=a|0,o[a>>2]=0,o[a+4>>2]=0,o[a+8>>2]=0,o[a+12>>2]=0}function gP(){return 1492}function vP(){return _P()|0}function _P(){var a=0,tt=0,ot=0,ht=0,vt=0,_t=0,wt=0;return tt=yt,yt=yt+16|0,vt=tt+4|0,wt=tt,ot=_l(8)|0,a=ot,ht=Ar(16)|0,Hy(ht),_t=a+4|0,o[_t>>2]=ht,ht=Ar(8)|0,_t=o[_t>>2]|0,o[wt>>2]=0,o[vt>>2]=o[wt>>2],$y(ht,_t,vt),o[ot>>2]=ht,yt=tt,a|0}function yP(){var a=0;return d[7936]|0||(AP(10524),Fr(25,10524,bt|0)|0,a=7936,o[a>>2]=1,o[a+4>>2]=0),10524}function xP(a,tt){a=a|0,tt=tt|0,o[a>>2]=SP()|0,o[a+4>>2]=EP()|0,o[a+12>>2]=tt,o[a+8>>2]=wP()|0,o[a+32>>2]=7}function SP(){return 11700}function EP(){return 1484}function wP(){return A2()|0}function TP(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,(N0(ht,896)|0)==512?ot|0&&(MP(ot),qn(ot)):tt|0&&qn(tt)}function MP(a){a=a|0,a=o[a+4>>2]|0,a|0&&D0(a)}function AP(a){a=a|0,P0(a)}function CP(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,a=on(tt)|0,tt=RP(ot)|0,ot=bP(ot,0)|0,oI(a,tt,ot,Zv()|0,0)}function RP(a){return a=a|0,a|0}function bP(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0;return Pt=yt,yt=yt+16|0,vt=Pt,_t=Pt+4|0,o[vt>>2]=a,Lt=Zv()|0,wt=Lt+24|0,tt=Mr(tt,4)|0,o[_t>>2]=tt,ot=Lt+28|0,ht=o[ot>>2]|0,ht>>>0<(o[Lt+32>>2]|0)>>>0?(jy(ht,a,tt),tt=(o[ot>>2]|0)+8|0,o[ot>>2]=tt):(DP(wt,vt,_t),tt=o[ot>>2]|0),yt=Pt,(tt-(o[wt>>2]|0)>>3)+-1|0}function Zv(){var a=0,tt=0;if(d[7944]|0||(Wy(10568),Fr(61,10568,bt|0)|0,tt=7944,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(10568)|0)){a=10568,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));Wy(10568)}return 10568}function Wy(a){a=a|0,kP(a)}function PP(a){a=a|0,IP(a+24|0)}function IP(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~((tt+-8-ht|0)>>>3)<<3)),qn(ot))}function kP(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,1,17,tt,$_()|0,0),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function LP(a){return a=a|0,OP(o[(NP(a)|0)>>2]|0)|0}function NP(a){return a=a|0,(o[(Zv()|0)+24>>2]|0)+(a<<3)|0}function OP(a){return a=a|0,T2(B2[a&7]()|0)|0}function jy(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,o[a>>2]=tt,o[a+4>>2]=ot}function DP(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;if(Pt=yt,yt=yt+32|0,vt=Pt,_t=a+4|0,wt=((o[_t>>2]|0)-(o[a>>2]|0)>>3)+1|0,ht=FP(a)|0,ht>>>0<wt>>>0)po(a);else{Lt=o[a>>2]|0,Vt=(o[a+8>>2]|0)-Lt|0,zt=Vt>>2,BP(vt,Vt>>3>>>0<ht>>>1>>>0?zt>>>0<wt>>>0?wt:zt:ht,(o[_t>>2]|0)-Lt>>3,a+8|0),wt=vt+8|0,jy(o[wt>>2]|0,o[tt>>2]|0,o[ot>>2]|0),o[wt>>2]=(o[wt>>2]|0)+8,UP(a,vt),VP(vt),yt=Pt;return}}function FP(a){return a=a|0,536870911}function BP(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>536870911)eo();else{vt=Ar(tt<<3)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot<<3)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt<<3)}function UP(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(0-(vt>>3)<<3)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function VP(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~((ht+-8-tt|0)>>>3)<<3)),a=o[a>>2]|0,a|0&&qn(a)}function zP(){$P()}function $P(){GP(10604)}function GP(a){a=a|0,HP(a,4955)}function HP(a,tt){a=a|0,tt=tt|0;var ot=0;ot=WP()|0,o[a>>2]=ot,jP(ot,tt),O0(o[a>>2]|0)}function WP(){var a=0;return d[7952]|0||(tI(10612),Fr(25,10612,bt|0)|0,a=7952,o[a>>2]=1,o[a+4>>2]=0),10612}function jP(a,tt){a=a|0,tt=tt|0,o[a>>2]=YP()|0,o[a+4>>2]=QP()|0,o[a+12>>2]=tt,o[a+8>>2]=ZP()|0,o[a+32>>2]=8}function O0(a){a=a|0;var tt=0,ot=0;tt=yt,yt=yt+16|0,ot=tt,rm()|0,o[ot>>2]=a,qP(10608,ot),yt=tt}function rm(){return d[11714]|0||(o[2652]=0,Fr(62,10608,bt|0)|0,d[11714]=1),10608}function qP(a,tt){a=a|0,tt=tt|0;var ot=0;ot=Ar(8)|0,o[ot+4>>2]=o[tt>>2],o[ot>>2]=o[a>>2],o[a>>2]=ot}function XP(a){a=a|0,KP(a)}function KP(a){a=a|0;var tt=0,ot=0;if(tt=o[a>>2]|0,tt|0)do ot=tt,tt=o[tt>>2]|0,qn(ot);while(tt|0);o[a>>2]=0}function YP(){return 11715}function QP(){return 1496}function ZP(){return M2()|0}function JP(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,(N0(ht,896)|0)==512?ot|0&&(eI(ot),qn(ot)):tt|0&&qn(tt)}function eI(a){a=a|0,a=o[a+4>>2]|0,a|0&&D0(a)}function tI(a){a=a|0,P0(a)}function nI(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;rm()|0,ot=o[2652]|0;e:do if(ot|0){for(;ht=o[ot+4>>2]|0,!(ht|0&&!(bx(Jv(ht)|0,a)|0));)if(ot=o[ot>>2]|0,!ot)break e;rI(ht,tt)}while(0)}function Jv(a){return a=a|0,o[a+12>>2]|0}function rI(a,tt){a=a|0,tt=tt|0;var ot=0;a=a+36|0,ot=o[a>>2]|0,ot|0&&(zu(ot),qn(ot)),ot=Ar(4)|0,Wu(ot,tt),o[a>>2]=ot}function e_(){return d[11716]|0||(o[2664]=0,Fr(63,10656,bt|0)|0,d[11716]=1),10656}function qy(){var a=0;return d[11717]|0?a=o[2665]|0:(iI(),o[2665]=1504,d[11717]=1,a=1504),a|0}function iI(){d[11740]|0||(d[11718]=Mr(Mr(8,0)|0,0)|0,d[11719]=Mr(Mr(0,0)|0,0)|0,d[11720]=Mr(Mr(0,16)|0,0)|0,d[11721]=Mr(Mr(8,0)|0,0)|0,d[11722]=Mr(Mr(0,0)|0,0)|0,d[11723]=Mr(Mr(8,0)|0,0)|0,d[11724]=Mr(Mr(0,0)|0,0)|0,d[11725]=Mr(Mr(8,0)|0,0)|0,d[11726]=Mr(Mr(0,0)|0,0)|0,d[11727]=Mr(Mr(8,0)|0,0)|0,d[11728]=Mr(Mr(0,0)|0,0)|0,d[11729]=Mr(Mr(0,0)|0,32)|0,d[11730]=Mr(Mr(0,0)|0,32)|0,d[11740]=1)}function Xy(){return 1572}function oI(a,tt,ot,ht,vt){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0;var _t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;_t=yt,yt=yt+32|0,Vt=_t+16|0,zt=_t+12|0,Lt=_t+8|0,Pt=_t+4|0,wt=_t,o[Vt>>2]=a,o[zt>>2]=tt,o[Lt>>2]=ot,o[Pt>>2]=ht,o[wt>>2]=vt,e_()|0,sI(10656,Vt,zt,Lt,Pt,wt),yt=_t}function sI(a,tt,ot,ht,vt,_t){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0,_t=_t|0;var wt=0;wt=Ar(24)|0,Gr(wt+4|0,o[tt>>2]|0,o[ot>>2]|0,o[ht>>2]|0,o[vt>>2]|0,o[_t>>2]|0),o[wt>>2]=o[a>>2],o[a>>2]=wt}function Ky(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0,_n=0,dn=0,ln=0,In=0,Cn=0,Un=0;if(Un=yt,yt=yt+32|0,dn=Un+20|0,ln=Un+8|0,In=Un+4|0,Cn=Un,tt=o[tt>>2]|0,tt|0){_n=dn+4|0,Lt=dn+8|0,zt=ln+4|0,Vt=ln+8|0,Ht=ln+8|0,Zt=dn+8|0;do{if(wt=tt+4|0,Pt=t_(wt)|0,Pt|0){if(vt=f1(Pt)|0,o[dn>>2]=0,o[_n>>2]=0,o[Lt>>2]=0,ht=(d1(Pt)|0)+1|0,aI(dn,ht),ht|0)for(;ht=ht+-1|0,tu(ln,o[vt>>2]|0),_t=o[_n>>2]|0,_t>>>0<(o[Zt>>2]|0)>>>0?(o[_t>>2]=o[ln>>2],o[_n>>2]=(o[_n>>2]|0)+4):n_(dn,ln),ht;)vt=vt+4|0;ht=h1(Pt)|0,o[ln>>2]=0,o[zt>>2]=0,o[Vt>>2]=0;e:do if(o[ht>>2]|0)for(vt=0,_t=0;;){if((vt|0)==(_t|0)?lI(ln,ht):(o[vt>>2]=o[ht>>2],o[zt>>2]=(o[zt>>2]|0)+4),ht=ht+4|0,!(o[ht>>2]|0))break e;vt=o[zt>>2]|0,_t=o[Ht>>2]|0}while(0);o[In>>2]=C2(wt)|0,o[Cn>>2]=Sr(Pt)|0,uI(ot,a,In,Cn,dn,ln),r_(ln),Qu(dn)}tt=o[tt>>2]|0}while(tt|0)}yt=Un}function t_(a){return a=a|0,o[a+12>>2]|0}function f1(a){return a=a|0,o[a+12>>2]|0}function d1(a){return a=a|0,o[a+16>>2]|0}function aI(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0;vt=yt,yt=yt+32|0,ot=vt,ht=o[a>>2]|0,(o[a+8>>2]|0)-ht>>2>>>0<tt>>>0&&(rx(ot,tt,(o[a+4>>2]|0)-ht>>2,a+8|0),ix(a,ot),ox(ot)),yt=vt}function n_(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0;if(wt=yt,yt=yt+32|0,ot=wt,ht=a+4|0,vt=((o[ht>>2]|0)-(o[a>>2]|0)>>2)+1|0,_t=nx(a)|0,_t>>>0<vt>>>0)po(a);else{Pt=o[a>>2]|0,zt=(o[a+8>>2]|0)-Pt|0,Lt=zt>>1,rx(ot,zt>>2>>>0<_t>>>1>>>0?Lt>>>0<vt>>>0?vt:Lt:_t,(o[ht>>2]|0)-Pt>>2,a+8|0),_t=ot+8|0,o[o[_t>>2]>>2]=o[tt>>2],o[_t>>2]=(o[_t>>2]|0)+4,ix(a,ot),ox(ot),yt=wt;return}}function h1(a){return a=a|0,o[a+8>>2]|0}function lI(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0;if(wt=yt,yt=yt+32|0,ot=wt,ht=a+4|0,vt=((o[ht>>2]|0)-(o[a>>2]|0)>>2)+1|0,_t=tx(a)|0,_t>>>0<vt>>>0)po(a);else{Pt=o[a>>2]|0,zt=(o[a+8>>2]|0)-Pt|0,Lt=zt>>1,RI(ot,zt>>2>>>0<_t>>>1>>>0?Lt>>>0<vt>>>0?vt:Lt:_t,(o[ht>>2]|0)-Pt>>2,a+8|0),_t=ot+8|0,o[o[_t>>2]>>2]=o[tt>>2],o[_t>>2]=(o[_t>>2]|0)+4,bI(a,ot),PI(ot),yt=wt;return}}function C2(a){return a=a|0,o[a>>2]|0}function uI(a,tt,ot,ht,vt,_t){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0,_t=_t|0,cI(a,tt,ot,ht,vt,_t)}function r_(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~((tt+-4-ht|0)>>>2)<<2)),qn(ot))}function Qu(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~((tt+-4-ht|0)>>>2)<<2)),qn(ot))}function cI(a,tt,ot,ht,vt,_t){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0,_t=_t|0;var wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;wt=yt,yt=yt+48|0,Vt=wt+40|0,Pt=wt+32|0,Ht=wt+24|0,Lt=wt+12|0,zt=wt,yl(Pt),a=Qo(a)|0,o[Ht>>2]=o[tt>>2],ot=o[ot>>2]|0,ht=o[ht>>2]|0,i_(Lt,vt),fI(zt,_t),o[Vt>>2]=o[Ht>>2],dI(a,Vt,ot,ht,Lt,zt),r_(zt),Qu(Lt),xl(Pt),yt=wt}function i_(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;o[a>>2]=0,o[a+4>>2]=0,o[a+8>>2]=0,ot=tt+4|0,ht=(o[ot>>2]|0)-(o[tt>>2]|0)>>2,ht|0&&(AI(a,ht),CI(a,o[tt>>2]|0,o[ot>>2]|0,ht))}function fI(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;o[a>>2]=0,o[a+4>>2]=0,o[a+8>>2]=0,ot=tt+4|0,ht=(o[ot>>2]|0)-(o[tt>>2]|0)>>2,ht|0&&(TI(a,ht),MI(a,o[tt>>2]|0,o[ot>>2]|0,ht))}function dI(a,tt,ot,ht,vt,_t){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0,_t=_t|0;var wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;wt=yt,yt=yt+32|0,Vt=wt+28|0,Ht=wt+24|0,Pt=wt+12|0,Lt=wt,zt=rs(hI()|0)|0,o[Ht>>2]=o[tt>>2],o[Vt>>2]=o[Ht>>2],tt=dp(Vt)|0,ot=Yy(ot)|0,ht=o_(ht)|0,o[Pt>>2]=o[vt>>2],Vt=vt+4|0,o[Pt+4>>2]=o[Vt>>2],Ht=vt+8|0,o[Pt+8>>2]=o[Ht>>2],o[Ht>>2]=0,o[Vt>>2]=0,o[vt>>2]=0,vt=s_(Pt)|0,o[Lt>>2]=o[_t>>2],Vt=_t+4|0,o[Lt+4>>2]=o[Vt>>2],Ht=_t+8|0,o[Lt+8>>2]=o[Ht>>2],o[Ht>>2]=0,o[Vt>>2]=0,o[_t>>2]=0,Jr(0,zt|0,a|0,tt|0,ot|0,ht|0,vt|0,pI(Lt)|0)|0,r_(Lt),Qu(Pt),yt=wt}function hI(){var a=0;return d[7968]|0||(EI(10708),a=7968,o[a>>2]=1,o[a+4>>2]=0),10708}function dp(a){return a=a|0,Zy(a)|0}function Yy(a){return a=a|0,Qy(a)|0}function o_(a){return a=a|0,T2(a)|0}function s_(a){return a=a|0,gI(a)|0}function pI(a){return a=a|0,mI(a)|0}function mI(a){a=a|0;var tt=0,ot=0,ht=0;if(ht=(o[a+4>>2]|0)-(o[a>>2]|0)|0,ot=ht>>2,ht=_l(ht+4|0)|0,o[ht>>2]=ot,ot|0){tt=0;do o[ht+4+(tt<<2)>>2]=Qy(o[(o[a>>2]|0)+(tt<<2)>>2]|0)|0,tt=tt+1|0;while((tt|0)!=(ot|0))}return ht|0}function Qy(a){return a=a|0,a|0}function gI(a){a=a|0;var tt=0,ot=0,ht=0;if(ht=(o[a+4>>2]|0)-(o[a>>2]|0)|0,ot=ht>>2,ht=_l(ht+4|0)|0,o[ht>>2]=ot,ot|0){tt=0;do o[ht+4+(tt<<2)>>2]=Zy((o[a>>2]|0)+(tt<<2)|0)|0,tt=tt+1|0;while((tt|0)!=(ot|0))}return ht|0}function Zy(a){a=a|0;var tt=0,ot=0,ht=0,vt=0;return vt=yt,yt=yt+32|0,tt=vt+12|0,ot=vt,ht=_v(Jy()|0)|0,ht?(yv(tt,ht),xv(ot,tt),ZO(a,ot),a=Sv(tt)|0):a=vI(a)|0,yt=vt,a|0}function Jy(){var a=0;return d[7960]|0||(SI(10664),Fr(25,10664,bt|0)|0,a=7960,o[a>>2]=1,o[a+4>>2]=0),10664}function vI(a){a=a|0;var tt=0,ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0;return ot=yt,yt=yt+16|0,vt=ot+4|0,wt=ot,ht=_l(8)|0,tt=ht,Pt=Ar(4)|0,o[Pt>>2]=o[a>>2],_t=tt+4|0,o[_t>>2]=Pt,a=Ar(8)|0,_t=o[_t>>2]|0,o[wt>>2]=0,o[vt>>2]=o[wt>>2],ex(a,_t,vt),o[ht>>2]=a,yt=ot,tt|0}function ex(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,o[a>>2]=tt,ot=Ar(16)|0,o[ot+4>>2]=0,o[ot+8>>2]=0,o[ot>>2]=1656,o[ot+12>>2]=tt,o[a+4>>2]=ot}function _I(a){a=a|0,lm(a),qn(a)}function yI(a){a=a|0,a=o[a+12>>2]|0,a|0&&qn(a)}function xI(a){a=a|0,qn(a)}function SI(a){a=a|0,P0(a)}function EI(a){a=a|0,js(a,wI()|0,5)}function wI(){return 1676}function TI(a,tt){a=a|0,tt=tt|0;var ot=0;if((tx(a)|0)>>>0<tt>>>0&&po(a),tt>>>0>1073741823)eo();else{ot=Ar(tt<<2)|0,o[a+4>>2]=ot,o[a>>2]=ot,o[a+8>>2]=ot+(tt<<2);return}}function MI(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,ht=a+4|0,a=ot-tt|0,(a|0)>0&&(Kr(o[ht>>2]|0,tt|0,a|0)|0,o[ht>>2]=(o[ht>>2]|0)+(a>>>2<<2))}function tx(a){return a=a|0,1073741823}function AI(a,tt){a=a|0,tt=tt|0;var ot=0;if((nx(a)|0)>>>0<tt>>>0&&po(a),tt>>>0>1073741823)eo();else{ot=Ar(tt<<2)|0,o[a+4>>2]=ot,o[a>>2]=ot,o[a+8>>2]=ot+(tt<<2);return}}function CI(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,ht=a+4|0,a=ot-tt|0,(a|0)>0&&(Kr(o[ht>>2]|0,tt|0,a|0)|0,o[ht>>2]=(o[ht>>2]|0)+(a>>>2<<2))}function nx(a){return a=a|0,1073741823}function RI(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>1073741823)eo();else{vt=Ar(tt<<2)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot<<2)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt<<2)}function bI(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(0-(vt>>2)<<2)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function PI(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~((ht+-4-tt|0)>>>2)<<2)),a=o[a>>2]|0,a|0&&qn(a)}function rx(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>1073741823)eo();else{vt=Ar(tt<<2)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot<<2)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt<<2)}function ix(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(0-(vt>>2)<<2)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function ox(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~((ht+-4-tt|0)>>>2)<<2)),a=o[a>>2]|0,a|0&&qn(a)}function II(a,tt,ot,ht,vt){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0;var _t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0,_n=0,dn=0,ln=0;if(ln=yt,yt=yt+32|0,Vt=ln+20|0,Ht=ln+12|0,zt=ln+16|0,Zt=ln+4|0,_n=ln,dn=ln+8|0,Pt=qy()|0,_t=o[Pt>>2]|0,wt=o[_t>>2]|0,wt|0)for(Lt=o[Pt+8>>2]|0,Pt=o[Pt+4>>2]|0;tu(Vt,wt),kI(a,Vt,Pt,Lt),_t=_t+4|0,wt=o[_t>>2]|0,wt;)Lt=Lt+1|0,Pt=Pt+1|0;if(_t=Xy()|0,wt=o[_t>>2]|0,wt|0)do tu(Vt,wt),o[Ht>>2]=o[_t+4>>2],LI(tt,Vt,Ht),_t=_t+8|0,wt=o[_t>>2]|0;while(wt|0);if(_t=o[(rm()|0)>>2]|0,_t|0)do tt=o[_t+4>>2]|0,tu(Vt,o[(im(tt)|0)>>2]|0),o[Ht>>2]=Jv(tt)|0,NI(ot,Vt,Ht),_t=o[_t>>2]|0;while(_t|0);if(tu(zt,0),_t=e_()|0,o[Vt>>2]=o[zt>>2],Ky(Vt,_t,vt),_t=o[(rm()|0)>>2]|0,_t|0){a=Vt+4|0,tt=Vt+8|0,ot=Vt+8|0;do{if(Lt=o[_t+4>>2]|0,tu(Ht,o[(im(Lt)|0)>>2]|0),OI(Zt,sx(Lt)|0),wt=o[Zt>>2]|0,wt|0){o[Vt>>2]=0,o[a>>2]=0,o[tt>>2]=0;do tu(_n,o[(im(o[wt+4>>2]|0)|0)>>2]|0),Pt=o[a>>2]|0,Pt>>>0<(o[ot>>2]|0)>>>0?(o[Pt>>2]=o[_n>>2],o[a>>2]=(o[a>>2]|0)+4):n_(Vt,_n),wt=o[wt>>2]|0;while(wt|0);DI(ht,Ht,Vt),Qu(Vt)}o[dn>>2]=o[Ht>>2],zt=ax(Lt)|0,o[Vt>>2]=o[dn>>2],Ky(Vt,zt,vt),C_(Zt),_t=o[_t>>2]|0}while(_t|0)}yt=ln}function kI(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,XI(a,tt,ot,ht)}function LI(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,qI(a,tt,ot)}function im(a){return a=a|0,a|0}function NI(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,GI(a,tt,ot)}function sx(a){return a=a|0,a+16|0}function OI(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0;if(_t=yt,yt=yt+16|0,vt=_t+8|0,ot=_t,o[a>>2]=0,ht=o[tt>>2]|0,o[vt>>2]=ht,o[ot>>2]=a,ot=$I(ot)|0,ht|0){if(ht=Ar(12)|0,wt=(lx(vt)|0)+4|0,a=o[wt+4>>2]|0,tt=ht+4|0,o[tt>>2]=o[wt>>2],o[tt+4>>2]=a,tt=o[o[vt>>2]>>2]|0,o[vt>>2]=tt,!tt)a=ht;else for(tt=ht;a=Ar(12)|0,Lt=(lx(vt)|0)+4|0,Pt=o[Lt+4>>2]|0,wt=a+4|0,o[wt>>2]=o[Lt>>2],o[wt+4>>2]=Pt,o[tt>>2]=a,wt=o[o[vt>>2]>>2]|0,o[vt>>2]=wt,wt;)tt=a;o[a>>2]=o[ot>>2],o[ot>>2]=ht}yt=_t}function DI(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,FI(a,tt,ot)}function ax(a){return a=a|0,a+24|0}function FI(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+32|0,wt=ht+24|0,vt=ht+16|0,Pt=ht+12|0,_t=ht,yl(vt),a=Qo(a)|0,o[Pt>>2]=o[tt>>2],i_(_t,ot),o[wt>>2]=o[Pt>>2],BI(a,wt,_t),Qu(_t),xl(vt),yt=ht}function BI(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=yt,yt=yt+32|0,wt=ht+16|0,Pt=ht+12|0,vt=ht,_t=rs(UI()|0)|0,o[Pt>>2]=o[tt>>2],o[wt>>2]=o[Pt>>2],tt=dp(wt)|0,o[vt>>2]=o[ot>>2],wt=ot+4|0,o[vt+4>>2]=o[wt>>2],Pt=ot+8|0,o[vt+8>>2]=o[Pt>>2],o[Pt>>2]=0,o[wt>>2]=0,o[ot>>2]=0,hr(0,_t|0,a|0,tt|0,s_(vt)|0)|0,Qu(vt),yt=ht}function UI(){var a=0;return d[7976]|0||(VI(10720),a=7976,o[a>>2]=1,o[a+4>>2]=0),10720}function VI(a){a=a|0,js(a,zI()|0,2)}function zI(){return 1732}function $I(a){return a=a|0,o[a>>2]|0}function lx(a){return a=a|0,o[a>>2]|0}function GI(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;ht=yt,yt=yt+32|0,_t=ht+16|0,vt=ht+8|0,wt=ht,yl(vt),a=Qo(a)|0,o[wt>>2]=o[tt>>2],ot=o[ot>>2]|0,o[_t>>2]=o[wt>>2],ux(a,_t,ot),xl(vt),yt=ht}function ux(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;ht=yt,yt=yt+16|0,_t=ht+4|0,wt=ht,vt=rs(HI()|0)|0,o[wt>>2]=o[tt>>2],o[_t>>2]=o[wt>>2],tt=dp(_t)|0,hr(0,vt|0,a|0,tt|0,Yy(ot)|0)|0,yt=ht}function HI(){var a=0;return d[7984]|0||(WI(10732),a=7984,o[a>>2]=1,o[a+4>>2]=0),10732}function WI(a){a=a|0,js(a,jI()|0,2)}function jI(){return 1744}function qI(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;ht=yt,yt=yt+32|0,_t=ht+16|0,vt=ht+8|0,wt=ht,yl(vt),a=Qo(a)|0,o[wt>>2]=o[tt>>2],ot=o[ot>>2]|0,o[_t>>2]=o[wt>>2],ux(a,_t,ot),xl(vt),yt=ht}function XI(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0;vt=yt,yt=yt+32|0,wt=vt+16|0,_t=vt+8|0,Pt=vt,yl(_t),a=Qo(a)|0,o[Pt>>2]=o[tt>>2],ot=d[ot>>0]|0,ht=d[ht>>0]|0,o[wt>>2]=o[Pt>>2],KI(a,wt,ot,ht),xl(_t),yt=vt}function KI(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0;vt=yt,yt=yt+16|0,wt=vt+4|0,Pt=vt,_t=rs(YI()|0)|0,o[Pt>>2]=o[tt>>2],o[wt>>2]=o[Pt>>2],tt=dp(wt)|0,ot=om(ot)|0,_r(0,_t|0,a|0,tt|0,ot|0,om(ht)|0)|0,yt=vt}function YI(){var a=0;return d[7992]|0||(ZI(10744),a=7992,o[a>>2]=1,o[a+4>>2]=0),10744}function om(a){return a=a|0,QI(a)|0}function QI(a){return a=a|0,a&255|0}function ZI(a){a=a|0,js(a,JI()|0,3)}function JI(){return 1756}function _k(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0;switch(Zt=yt,yt=yt+32|0,Pt=Zt+8|0,Lt=Zt+4|0,zt=Zt+20|0,Vt=Zt,Mv(a,0),ht=QO(tt)|0,o[Pt>>2]=0,Ht=Pt+4|0,o[Ht>>2]=0,o[Pt+8>>2]=0,ht<<24>>24){case 0:{d[zt>>0]=0,eL(Lt,ot,zt),R2(a,Lt)|0,$u(Lt);break}case 8:{Ht=d_(tt)|0,d[zt>>0]=8,tu(Vt,o[Ht+4>>2]|0),tL(Lt,ot,zt,Vt,Ht+8|0),R2(a,Lt)|0,$u(Lt);break}case 9:{if(_t=d_(tt)|0,tt=o[_t+4>>2]|0,tt|0)for(wt=Pt+8|0,vt=_t+12|0;tt=tt+-1|0,tu(Lt,o[vt>>2]|0),ht=o[Ht>>2]|0,ht>>>0<(o[wt>>2]|0)>>>0?(o[ht>>2]=o[Lt>>2],o[Ht>>2]=(o[Ht>>2]|0)+4):n_(Pt,Lt),tt;)vt=vt+4|0;d[zt>>0]=9,tu(Vt,o[_t+8>>2]|0),nL(Lt,ot,zt,Vt,Pt),R2(a,Lt)|0,$u(Lt);break}default:Ht=d_(tt)|0,d[zt>>0]=ht,tu(Vt,o[Ht+4>>2]|0),rL(Lt,ot,zt,Vt),R2(a,Lt)|0,$u(Lt)}Qu(Pt),yt=Zt}function eL(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0;ht=yt,yt=yt+16|0,vt=ht,yl(vt),tt=Qo(tt)|0,gL(a,tt,d[ot>>0]|0),xl(vt),yt=ht}function R2(a,tt){a=a|0,tt=tt|0;var ot=0;return ot=o[a>>2]|0,ot|0&&Pr(ot|0),o[a>>2]=o[tt>>2],o[tt>>2]=0,a|0}function tL(a,tt,ot,ht,vt){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0;var _t=0,wt=0,Pt=0,Lt=0;_t=yt,yt=yt+32|0,Pt=_t+16|0,wt=_t+8|0,Lt=_t,yl(wt),tt=Qo(tt)|0,ot=d[ot>>0]|0,o[Lt>>2]=o[ht>>2],vt=o[vt>>2]|0,o[Pt>>2]=o[Lt>>2],dL(a,tt,ot,Pt,vt),xl(wt),yt=_t}function nL(a,tt,ot,ht,vt){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0;var _t=0,wt=0,Pt=0,Lt=0,zt=0;_t=yt,yt=yt+32|0,Lt=_t+24|0,wt=_t+16|0,zt=_t+12|0,Pt=_t,yl(wt),tt=Qo(tt)|0,ot=d[ot>>0]|0,o[zt>>2]=o[ht>>2],i_(Pt,vt),o[Lt>>2]=o[zt>>2],lL(a,tt,ot,Lt,Pt),Qu(Pt),xl(wt),yt=_t}function rL(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0;vt=yt,yt=yt+32|0,wt=vt+16|0,_t=vt+8|0,Pt=vt,yl(_t),tt=Qo(tt)|0,ot=d[ot>>0]|0,o[Pt>>2]=o[ht>>2],o[wt>>2]=o[Pt>>2],iL(a,tt,ot,wt),xl(_t),yt=vt}function iL(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0,wt=0,Pt=0;vt=yt,yt=yt+16|0,_t=vt+4|0,Pt=vt,wt=rs(oL()|0)|0,ot=om(ot)|0,o[Pt>>2]=o[ht>>2],o[_t>>2]=o[Pt>>2],b2(a,hr(0,wt|0,tt|0,ot|0,dp(_t)|0)|0),yt=vt}function oL(){var a=0;return d[8e3]|0||(sL(10756),a=8e3,o[a>>2]=1,o[a+4>>2]=0),10756}function b2(a,tt){a=a|0,tt=tt|0,Mv(a,tt)}function sL(a){a=a|0,js(a,aL()|0,2)}function aL(){return 1772}function lL(a,tt,ot,ht,vt){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0;var _t=0,wt=0,Pt=0,Lt=0,zt=0;_t=yt,yt=yt+32|0,Lt=_t+16|0,zt=_t+12|0,wt=_t,Pt=rs(uL()|0)|0,ot=om(ot)|0,o[zt>>2]=o[ht>>2],o[Lt>>2]=o[zt>>2],ht=dp(Lt)|0,o[wt>>2]=o[vt>>2],Lt=vt+4|0,o[wt+4>>2]=o[Lt>>2],zt=vt+8|0,o[wt+8>>2]=o[zt>>2],o[zt>>2]=0,o[Lt>>2]=0,o[vt>>2]=0,b2(a,_r(0,Pt|0,tt|0,ot|0,ht|0,s_(wt)|0)|0),Qu(wt),yt=_t}function uL(){var a=0;return d[8008]|0||(cL(10768),a=8008,o[a>>2]=1,o[a+4>>2]=0),10768}function cL(a){a=a|0,js(a,fL()|0,3)}function fL(){return 1784}function dL(a,tt,ot,ht,vt){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0;var _t=0,wt=0,Pt=0,Lt=0;_t=yt,yt=yt+16|0,Pt=_t+4|0,Lt=_t,wt=rs(hL()|0)|0,ot=om(ot)|0,o[Lt>>2]=o[ht>>2],o[Pt>>2]=o[Lt>>2],ht=dp(Pt)|0,b2(a,_r(0,wt|0,tt|0,ot|0,ht|0,o_(vt)|0)|0),yt=_t}function hL(){var a=0;return d[8016]|0||(pL(10780),a=8016,o[a>>2]=1,o[a+4>>2]=0),10780}function pL(a){a=a|0,js(a,mL()|0,3)}function mL(){return 1800}function gL(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;ht=rs(vL()|0)|0,b2(a,Ir(0,ht|0,tt|0,om(ot)|0)|0)}function vL(){var a=0;return d[8024]|0||(_L(10792),a=8024,o[a>>2]=1,o[a+4>>2]=0),10792}function _L(a){a=a|0,js(a,yL()|0,1)}function yL(){return 1816}function xL(){SL(),EL(),wL()}function SL(){o[2702]=Ux(65536)|0}function EL(){HL(10856)}function wL(){TL(10816)}function TL(a){a=a|0,ML(a,5044),AL(a)|0}function ML(a,tt){a=a|0,tt=tt|0;var ot=0;ot=Jy()|0,o[a>>2]=ot,FL(ot,tt),O0(o[a>>2]|0)}function AL(a){a=a|0;var tt=0;return tt=o[a>>2]|0,cp(tt,CL()|0),a|0}function CL(){var a=0;return d[8032]|0||(cx(10820),Fr(64,10820,bt|0)|0,a=8032,o[a>>2]=1,o[a+4>>2]=0),Sr(10820)|0||cx(10820),10820}function cx(a){a=a|0,PL(a),fp(a,25)}function RL(a){a=a|0,bL(a+24|0)}function bL(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~((tt+-8-ht|0)>>>3)<<3)),qn(ot))}function PL(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,5,18,tt,NL()|0,1),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function IL(a,tt){a=a|0,tt=tt|0,kL(a,tt)}function kL(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0;ot=yt,yt=yt+16|0,ht=ot,vt=ot+4|0,lp(vt,tt),o[ht>>2]=up(vt,tt)|0,LL(a,ht),yt=ot}function LL(a,tt){a=a|0,tt=tt|0,fx(a+4|0,o[tt>>2]|0),d[a+8>>0]=1}function fx(a,tt){a=a|0,tt=tt|0,o[a>>2]=tt}function NL(){return 1824}function OL(a){return a=a|0,DL(a)|0}function DL(a){a=a|0;var tt=0,ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0;return ot=yt,yt=yt+16|0,vt=ot+4|0,wt=ot,ht=_l(8)|0,tt=ht,Pt=Ar(4)|0,lp(vt,a),fx(Pt,up(vt,a)|0),_t=tt+4|0,o[_t>>2]=Pt,a=Ar(8)|0,_t=o[_t>>2]|0,o[wt>>2]=0,o[vt>>2]=o[wt>>2],ex(a,_t,vt),o[ht>>2]=a,yt=ot,tt|0}function _l(a){a=a|0;var tt=0,ot=0;return a=a+7&-8,a>>>0<=32768&&(tt=o[2701]|0,a>>>0<=(65536-tt|0)>>>0)?(ot=(o[2702]|0)+tt|0,o[2701]=tt+a,a=ot):(a=Ux(a+8|0)|0,o[a>>2]=o[2703],o[2703]=a,a=a+8|0),a|0}function FL(a,tt){a=a|0,tt=tt|0,o[a>>2]=BL()|0,o[a+4>>2]=UL()|0,o[a+12>>2]=tt,o[a+8>>2]=VL()|0,o[a+32>>2]=9}function BL(){return 11744}function UL(){return 1832}function VL(){return A2()|0}function zL(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,(N0(ht,896)|0)==512?ot|0&&($L(ot),qn(ot)):tt|0&&qn(tt)}function $L(a){a=a|0,a=o[a+4>>2]|0,a|0&&D0(a)}function HL(a){a=a|0,WL(a,5052),jL(a)|0,qL(a,5058,26)|0,XL(a,5069,1)|0,KL(a,5077,10)|0,YL(a,5087,19)|0,QL(a,5094,27)|0}function WL(a,tt){a=a|0,tt=tt|0;var ot=0;ot=GO()|0,o[a>>2]=ot,HO(ot,tt),O0(o[a>>2]|0)}function jL(a){a=a|0;var tt=0;return tt=o[a>>2]|0,cp(tt,bO()|0),a|0}function qL(a,tt,ot){return a=a|0,tt=tt|0,ot=ot|0,fO(a,on(tt)|0,ot,0),a|0}function XL(a,tt,ot){return a=a|0,tt=tt|0,ot=ot|0,YN(a,on(tt)|0,ot,0),a|0}function KL(a,tt,ot){return a=a|0,tt=tt|0,ot=ot|0,RN(a,on(tt)|0,ot,0),a|0}function YL(a,tt,ot){return a=a|0,tt=tt|0,ot=ot|0,hN(a,on(tt)|0,ot,0),a|0}function dx(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;e:for(;;){for(ot=o[2703]|0;;){if((ot|0)==(tt|0))break e;if(ht=o[ot>>2]|0,o[2703]=ht,!ot)ot=ht;else break}qn(ot)}o[2701]=a}function QL(a,tt,ot){return a=a|0,tt=tt|0,ot=ot|0,ZL(a,on(tt)|0,ot,0),a|0}function ZL(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0;_t=o[a>>2]|0,vt=a_()|0,a=JL(ot)|0,Er(_t,tt,vt,a,eN(ot,ht)|0,ht)}function a_(){var a=0,tt=0;if(d[8040]|0||(mx(10860),Fr(65,10860,bt|0)|0,tt=8040,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(10860)|0)){a=10860,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));mx(10860)}return 10860}function JL(a){return a=a|0,a|0}function eN(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0;return Pt=yt,yt=yt+16|0,vt=Pt,_t=Pt+4|0,o[vt>>2]=a,Lt=a_()|0,wt=Lt+24|0,tt=Mr(tt,4)|0,o[_t>>2]=tt,ot=Lt+28|0,ht=o[ot>>2]|0,ht>>>0<(o[Lt+32>>2]|0)>>>0?(hx(ht,a,tt),tt=(o[ot>>2]|0)+8|0,o[ot>>2]=tt):(tN(wt,vt,_t),tt=o[ot>>2]|0),yt=Pt,(tt-(o[wt>>2]|0)>>3)+-1|0}function hx(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,o[a>>2]=tt,o[a+4>>2]=ot}function tN(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;if(Pt=yt,yt=yt+32|0,vt=Pt,_t=a+4|0,wt=((o[_t>>2]|0)-(o[a>>2]|0)>>3)+1|0,ht=nN(a)|0,ht>>>0<wt>>>0)po(a);else{Lt=o[a>>2]|0,Vt=(o[a+8>>2]|0)-Lt|0,zt=Vt>>2,rN(vt,Vt>>3>>>0<ht>>>1>>>0?zt>>>0<wt>>>0?wt:zt:ht,(o[_t>>2]|0)-Lt>>3,a+8|0),wt=vt+8|0,hx(o[wt>>2]|0,o[tt>>2]|0,o[ot>>2]|0),o[wt>>2]=(o[wt>>2]|0)+8,iN(a,vt),oN(vt),yt=Pt;return}}function nN(a){return a=a|0,536870911}function rN(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>536870911)eo();else{vt=Ar(tt<<3)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot<<3)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt<<3)}function iN(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(0-(vt>>3)<<3)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function oN(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~((ht+-8-tt|0)>>>3)<<3)),a=o[a>>2]|0,a|0&&qn(a)}function mx(a){a=a|0,lN(a)}function sN(a){a=a|0,aN(a+24|0)}function aN(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~((tt+-8-ht|0)>>>3)<<3)),qn(ot))}function lN(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,1,11,tt,uN()|0,2),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function uN(){return 1840}function cN(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,dN(o[(fN(a)|0)>>2]|0,tt,ot)}function fN(a){return a=a|0,(o[(a_()|0)+24>>2]|0)+(a<<3)|0}function dN(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0;ht=yt,yt=yt+16|0,_t=ht+1|0,vt=ht,lp(_t,tt),tt=up(_t,tt)|0,lp(vt,ot),ot=up(vt,ot)|0,Ju[a&31](tt,ot),yt=ht}function hN(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0;_t=o[a>>2]|0,vt=l_()|0,a=pN(ot)|0,Er(_t,tt,vt,a,mN(ot,ht)|0,ht)}function l_(){var a=0,tt=0;if(d[8048]|0||(vx(10896),Fr(66,10896,bt|0)|0,tt=8048,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(10896)|0)){a=10896,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));vx(10896)}return 10896}function pN(a){return a=a|0,a|0}function mN(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0;return Pt=yt,yt=yt+16|0,vt=Pt,_t=Pt+4|0,o[vt>>2]=a,Lt=l_()|0,wt=Lt+24|0,tt=Mr(tt,4)|0,o[_t>>2]=tt,ot=Lt+28|0,ht=o[ot>>2]|0,ht>>>0<(o[Lt+32>>2]|0)>>>0?(gx(ht,a,tt),tt=(o[ot>>2]|0)+8|0,o[ot>>2]=tt):(gN(wt,vt,_t),tt=o[ot>>2]|0),yt=Pt,(tt-(o[wt>>2]|0)>>3)+-1|0}function gx(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,o[a>>2]=tt,o[a+4>>2]=ot}function gN(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;if(Pt=yt,yt=yt+32|0,vt=Pt,_t=a+4|0,wt=((o[_t>>2]|0)-(o[a>>2]|0)>>3)+1|0,ht=vN(a)|0,ht>>>0<wt>>>0)po(a);else{Lt=o[a>>2]|0,Vt=(o[a+8>>2]|0)-Lt|0,zt=Vt>>2,_N(vt,Vt>>3>>>0<ht>>>1>>>0?zt>>>0<wt>>>0?wt:zt:ht,(o[_t>>2]|0)-Lt>>3,a+8|0),wt=vt+8|0,gx(o[wt>>2]|0,o[tt>>2]|0,o[ot>>2]|0),o[wt>>2]=(o[wt>>2]|0)+8,yN(a,vt),xN(vt),yt=Pt;return}}function vN(a){return a=a|0,536870911}function _N(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>536870911)eo();else{vt=Ar(tt<<3)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot<<3)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt<<3)}function yN(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(0-(vt>>3)<<3)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function xN(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~((ht+-8-tt|0)>>>3)<<3)),a=o[a>>2]|0,a|0&&qn(a)}function vx(a){a=a|0,wN(a)}function SN(a){a=a|0,EN(a+24|0)}function EN(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~((tt+-8-ht|0)>>>3)<<3)),qn(ot))}function wN(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,1,11,tt,TN()|0,1),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function TN(){return 1852}function MN(a,tt){return a=a|0,tt=tt|0,CN(o[(AN(a)|0)>>2]|0,tt)|0}function AN(a){return a=a|0,(o[(l_()|0)+24>>2]|0)+(a<<3)|0}function CN(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;return ot=yt,yt=yt+16|0,ht=ot,lp(ht,tt),tt=up(ht,tt)|0,tt=T2(gp[a&31](tt)|0)|0,yt=ot,tt|0}function RN(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0;_t=o[a>>2]|0,vt=u_()|0,a=bN(ot)|0,Er(_t,tt,vt,a,PN(ot,ht)|0,ht)}function u_(){var a=0,tt=0;if(d[8056]|0||(xx(10932),Fr(67,10932,bt|0)|0,tt=8056,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(10932)|0)){a=10932,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));xx(10932)}return 10932}function bN(a){return a=a|0,a|0}function PN(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0;return Pt=yt,yt=yt+16|0,vt=Pt,_t=Pt+4|0,o[vt>>2]=a,Lt=u_()|0,wt=Lt+24|0,tt=Mr(tt,4)|0,o[_t>>2]=tt,ot=Lt+28|0,ht=o[ot>>2]|0,ht>>>0<(o[Lt+32>>2]|0)>>>0?(yx(ht,a,tt),tt=(o[ot>>2]|0)+8|0,o[ot>>2]=tt):(IN(wt,vt,_t),tt=o[ot>>2]|0),yt=Pt,(tt-(o[wt>>2]|0)>>3)+-1|0}function yx(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,o[a>>2]=tt,o[a+4>>2]=ot}function IN(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;if(Pt=yt,yt=yt+32|0,vt=Pt,_t=a+4|0,wt=((o[_t>>2]|0)-(o[a>>2]|0)>>3)+1|0,ht=kN(a)|0,ht>>>0<wt>>>0)po(a);else{Lt=o[a>>2]|0,Vt=(o[a+8>>2]|0)-Lt|0,zt=Vt>>2,LN(vt,Vt>>3>>>0<ht>>>1>>>0?zt>>>0<wt>>>0?wt:zt:ht,(o[_t>>2]|0)-Lt>>3,a+8|0),wt=vt+8|0,yx(o[wt>>2]|0,o[tt>>2]|0,o[ot>>2]|0),o[wt>>2]=(o[wt>>2]|0)+8,NN(a,vt),ON(vt),yt=Pt;return}}function kN(a){return a=a|0,536870911}function LN(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>536870911)eo();else{vt=Ar(tt<<3)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot<<3)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt<<3)}function NN(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(0-(vt>>3)<<3)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function ON(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~((ht+-8-tt|0)>>>3)<<3)),a=o[a>>2]|0,a|0&&qn(a)}function xx(a){a=a|0,BN(a)}function DN(a){a=a|0,FN(a+24|0)}function FN(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~((tt+-8-ht|0)>>>3)<<3)),qn(ot))}function BN(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,1,7,tt,UN()|0,2),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function UN(){return 1860}function VN(a,tt,ot){return a=a|0,tt=tt|0,ot=ot|0,$N(o[(zN(a)|0)>>2]|0,tt,ot)|0}function zN(a){return a=a|0,(o[(u_()|0)+24>>2]|0)+(a<<3)|0}function $N(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0;return ht=yt,yt=yt+32|0,wt=ht+12|0,_t=ht+8|0,Pt=ht,Lt=ht+16|0,vt=ht+4|0,GN(Lt,tt),HN(Pt,Lt,tt),I0(vt,ot),ot=k0(vt,ot)|0,o[wt>>2]=o[Pt>>2],_1[a&15](_t,wt,ot),ot=WN(_t)|0,$u(_t),L0(vt),yt=ht,ot|0}function GN(a,tt){a=a|0,tt=tt|0}function HN(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,jN(a,ot)}function WN(a){return a=a|0,Qo(a)|0}function jN(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0;vt=yt,yt=yt+16|0,ot=vt,ht=tt,ht&1?(qN(ot,0),cs(ht|0,ot|0)|0,XN(a,ot),KN(ot)):o[a>>2]=o[tt>>2],yt=vt}function qN(a,tt){a=a|0,tt=tt|0,sp(a,tt),o[a+4>>2]=0,d[a+8>>0]=0}function XN(a,tt){a=a|0,tt=tt|0,o[a>>2]=o[tt+4>>2]}function KN(a){a=a|0,d[a+8>>0]=0}function YN(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0;_t=o[a>>2]|0,vt=c_()|0,a=QN(ot)|0,Er(_t,tt,vt,a,ZN(ot,ht)|0,ht)}function c_(){var a=0,tt=0;if(d[8064]|0||(Ex(10968),Fr(68,10968,bt|0)|0,tt=8064,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(10968)|0)){a=10968,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));Ex(10968)}return 10968}function QN(a){return a=a|0,a|0}function ZN(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0;return Pt=yt,yt=yt+16|0,vt=Pt,_t=Pt+4|0,o[vt>>2]=a,Lt=c_()|0,wt=Lt+24|0,tt=Mr(tt,4)|0,o[_t>>2]=tt,ot=Lt+28|0,ht=o[ot>>2]|0,ht>>>0<(o[Lt+32>>2]|0)>>>0?(Sx(ht,a,tt),tt=(o[ot>>2]|0)+8|0,o[ot>>2]=tt):(JN(wt,vt,_t),tt=o[ot>>2]|0),yt=Pt,(tt-(o[wt>>2]|0)>>3)+-1|0}function Sx(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,o[a>>2]=tt,o[a+4>>2]=ot}function JN(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;if(Pt=yt,yt=yt+32|0,vt=Pt,_t=a+4|0,wt=((o[_t>>2]|0)-(o[a>>2]|0)>>3)+1|0,ht=eO(a)|0,ht>>>0<wt>>>0)po(a);else{Lt=o[a>>2]|0,Vt=(o[a+8>>2]|0)-Lt|0,zt=Vt>>2,tO(vt,Vt>>3>>>0<ht>>>1>>>0?zt>>>0<wt>>>0?wt:zt:ht,(o[_t>>2]|0)-Lt>>3,a+8|0),wt=vt+8|0,Sx(o[wt>>2]|0,o[tt>>2]|0,o[ot>>2]|0),o[wt>>2]=(o[wt>>2]|0)+8,nO(a,vt),rO(vt),yt=Pt;return}}function eO(a){return a=a|0,536870911}function tO(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>536870911)eo();else{vt=Ar(tt<<3)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot<<3)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt<<3)}function nO(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(0-(vt>>3)<<3)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function rO(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~((ht+-8-tt|0)>>>3)<<3)),a=o[a>>2]|0,a|0&&qn(a)}function Ex(a){a=a|0,sO(a)}function iO(a){a=a|0,oO(a+24|0)}function oO(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~((tt+-8-ht|0)>>>3)<<3)),qn(ot))}function sO(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,1,1,tt,aO()|0,5),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function aO(){return 1872}function lO(a,tt,ot,ht,vt,_t){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0,_t=_t|0,cO(o[(uO(a)|0)>>2]|0,tt,ot,ht,vt,_t)}function uO(a){return a=a|0,(o[(c_()|0)+24>>2]|0)+(a<<3)|0}function cO(a,tt,ot,ht,vt,_t){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0,_t=_t|0;var wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0;wt=yt,yt=yt+32|0,Pt=wt+16|0,Lt=wt+12|0,zt=wt+8|0,Vt=wt+4|0,Ht=wt,I0(Pt,tt),tt=k0(Pt,tt)|0,I0(Lt,ot),ot=k0(Lt,ot)|0,I0(zt,ht),ht=k0(zt,ht)|0,I0(Vt,vt),vt=k0(Vt,vt)|0,I0(Ht,_t),_t=k0(Ht,_t)|0,Hx[a&1](tt,ot,ht,vt,_t),L0(Ht),L0(Vt),L0(zt),L0(Lt),L0(Pt),yt=wt}function fO(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0;_t=o[a>>2]|0,vt=f_()|0,a=dO(ot)|0,Er(_t,tt,vt,a,hO(ot,ht)|0,ht)}function f_(){var a=0,tt=0;if(d[8072]|0||(Tx(11004),Fr(69,11004,bt|0)|0,tt=8072,o[tt>>2]=1,o[tt+4>>2]=0),!(Sr(11004)|0)){a=11004,tt=a+36|0;do o[a>>2]=0,a=a+4|0;while((a|0)<(tt|0));Tx(11004)}return 11004}function dO(a){return a=a|0,a|0}function hO(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0;return Pt=yt,yt=yt+16|0,vt=Pt,_t=Pt+4|0,o[vt>>2]=a,Lt=f_()|0,wt=Lt+24|0,tt=Mr(tt,4)|0,o[_t>>2]=tt,ot=Lt+28|0,ht=o[ot>>2]|0,ht>>>0<(o[Lt+32>>2]|0)>>>0?(wx(ht,a,tt),tt=(o[ot>>2]|0)+8|0,o[ot>>2]=tt):(pO(wt,vt,_t),tt=o[ot>>2]|0),yt=Pt,(tt-(o[wt>>2]|0)>>3)+-1|0}function wx(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,o[a>>2]=tt,o[a+4>>2]=ot}function pO(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0;if(Pt=yt,yt=yt+32|0,vt=Pt,_t=a+4|0,wt=((o[_t>>2]|0)-(o[a>>2]|0)>>3)+1|0,ht=mO(a)|0,ht>>>0<wt>>>0)po(a);else{Lt=o[a>>2]|0,Vt=(o[a+8>>2]|0)-Lt|0,zt=Vt>>2,gO(vt,Vt>>3>>>0<ht>>>1>>>0?zt>>>0<wt>>>0?wt:zt:ht,(o[_t>>2]|0)-Lt>>3,a+8|0),wt=vt+8|0,wx(o[wt>>2]|0,o[tt>>2]|0,o[ot>>2]|0),o[wt>>2]=(o[wt>>2]|0)+8,vO(a,vt),_O(vt),yt=Pt;return}}function mO(a){return a=a|0,536870911}function gO(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0;o[a+12>>2]=0,o[a+16>>2]=ht;do if(tt)if(tt>>>0>536870911)eo();else{vt=Ar(tt<<3)|0;break}else vt=0;while(0);o[a>>2]=vt,ht=vt+(ot<<3)|0,o[a+8>>2]=ht,o[a+4>>2]=ht,o[a+12>>2]=vt+(tt<<3)}function vO(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0,vt=0,_t=0,wt=0;ht=o[a>>2]|0,wt=a+4|0,_t=tt+4|0,vt=(o[wt>>2]|0)-ht|0,ot=(o[_t>>2]|0)+(0-(vt>>3)<<3)|0,o[_t>>2]=ot,(vt|0)>0?(Kr(ot|0,ht|0,vt|0)|0,ht=_t,ot=o[_t>>2]|0):ht=_t,_t=o[a>>2]|0,o[a>>2]=ot,o[ht>>2]=_t,_t=tt+8|0,vt=o[wt>>2]|0,o[wt>>2]=o[_t>>2],o[_t>>2]=vt,_t=a+8|0,wt=tt+12|0,a=o[_t>>2]|0,o[_t>>2]=o[wt>>2],o[wt>>2]=a,o[tt>>2]=o[ht>>2]}function _O(a){a=a|0;var tt=0,ot=0,ht=0;tt=o[a+4>>2]|0,ot=a+8|0,ht=o[ot>>2]|0,(ht|0)!=(tt|0)&&(o[ot>>2]=ht+(~((ht+-8-tt|0)>>>3)<<3)),a=o[a>>2]|0,a|0&&qn(a)}function Tx(a){a=a|0,SO(a)}function yO(a){a=a|0,xO(a+24|0)}function xO(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~((tt+-8-ht|0)>>>3)<<3)),qn(ot))}function SO(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,1,12,tt,EO()|0,2),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function EO(){return 1896}function wO(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,MO(o[(TO(a)|0)>>2]|0,tt,ot)}function TO(a){return a=a|0,(o[(f_()|0)+24>>2]|0)+(a<<3)|0}function MO(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0;ht=yt,yt=yt+16|0,_t=ht+4|0,vt=ht,AO(_t,tt),tt=CO(_t,tt)|0,I0(vt,ot),ot=k0(vt,ot)|0,Ju[a&31](tt,ot),L0(vt),yt=ht}function AO(a,tt){a=a|0,tt=tt|0}function CO(a,tt){return a=a|0,tt=tt|0,RO(tt)|0}function RO(a){return a=a|0,a|0}function bO(){var a=0;return d[8080]|0||(Mx(11040),Fr(70,11040,bt|0)|0,a=8080,o[a>>2]=1,o[a+4>>2]=0),Sr(11040)|0||Mx(11040),11040}function Mx(a){a=a|0,kO(a),fp(a,71)}function PO(a){a=a|0,IO(a+24|0)}function IO(a){a=a|0;var tt=0,ot=0,ht=0;ot=o[a>>2]|0,ht=ot,ot|0&&(a=a+4|0,tt=o[a>>2]|0,(tt|0)!=(ot|0)&&(o[a>>2]=tt+(~((tt+-8-ht|0)>>>3)<<3)),qn(ot))}function kO(a){a=a|0;var tt=0;tt=Zr()|0,fo(a,5,7,tt,DO()|0,0),o[a+24>>2]=0,o[a+28>>2]=0,o[a+32>>2]=0}function LO(a){a=a|0,NO(a)}function NO(a){a=a|0,OO(a)}function OO(a){a=a|0,d[a+8>>0]=1}function DO(){return 1936}function FO(){return BO()|0}function BO(){var a=0,tt=0,ot=0,ht=0,vt=0,_t=0,wt=0;return tt=yt,yt=yt+16|0,vt=tt+4|0,wt=tt,ot=_l(8)|0,a=ot,_t=a+4|0,o[_t>>2]=Ar(1)|0,ht=Ar(8)|0,_t=o[_t>>2]|0,o[wt>>2]=0,o[vt>>2]=o[wt>>2],UO(ht,_t,vt),o[ot>>2]=ht,yt=tt,a|0}function UO(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,o[a>>2]=tt,ot=Ar(16)|0,o[ot+4>>2]=0,o[ot+8>>2]=0,o[ot>>2]=1916,o[ot+12>>2]=tt,o[a+4>>2]=ot}function VO(a){a=a|0,lm(a),qn(a)}function zO(a){a=a|0,a=o[a+12>>2]|0,a|0&&qn(a)}function $O(a){a=a|0,qn(a)}function GO(){var a=0;return d[8088]|0||(YO(11076),Fr(25,11076,bt|0)|0,a=8088,o[a>>2]=1,o[a+4>>2]=0),11076}function HO(a,tt){a=a|0,tt=tt|0,o[a>>2]=WO()|0,o[a+4>>2]=jO()|0,o[a+12>>2]=tt,o[a+8>>2]=qO()|0,o[a+32>>2]=10}function WO(){return 11745}function jO(){return 1940}function qO(){return M2()|0}function XO(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,(N0(ht,896)|0)==512?ot|0&&(KO(ot),qn(ot)):tt|0&&qn(tt)}function KO(a){a=a|0,a=o[a+4>>2]|0,a|0&&D0(a)}function YO(a){a=a|0,P0(a)}function tu(a,tt){a=a|0,tt=tt|0,o[a>>2]=tt}function d_(a){return a=a|0,o[a>>2]|0}function QO(a){return a=a|0,d[o[a>>2]>>0]|0}function ZO(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;ot=yt,yt=yt+16|0,ht=ot,o[ht>>2]=o[a>>2],JO(tt,ht)|0,yt=ot}function JO(a,tt){a=a|0,tt=tt|0;var ot=0;return ot=eD(o[a>>2]|0,tt)|0,tt=a+4|0,o[(o[tt>>2]|0)+8>>2]=ot,o[(o[tt>>2]|0)+8>>2]|0}function eD(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;return ot=yt,yt=yt+16|0,ht=ot,yl(ht),a=Qo(a)|0,tt=tD(a,o[tt>>2]|0)|0,xl(ht),yt=ot,tt|0}function yl(a){a=a|0,o[a>>2]=o[2701],o[a+4>>2]=o[2703]}function tD(a,tt){a=a|0,tt=tt|0;var ot=0;return ot=rs(nD()|0)|0,Ir(0,ot|0,a|0,o_(tt)|0)|0}function xl(a){a=a|0,dx(o[a>>2]|0,o[a+4>>2]|0)}function nD(){var a=0;return d[8096]|0||(rD(11120),a=8096,o[a>>2]=1,o[a+4>>2]=0),11120}function rD(a){a=a|0,js(a,iD()|0,1)}function iD(){return 1948}function oD(){sD()}function sD(){var a=0,tt=0,ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0,_n=0,dn=0,ln=0;if(dn=yt,yt=yt+16|0,Vt=dn+4|0,Ht=dn,Fs(65536,10804,o[2702]|0,10812),ot=qy()|0,tt=o[ot>>2]|0,a=o[tt>>2]|0,a|0)for(ht=o[ot+8>>2]|0,ot=o[ot+4>>2]|0;au(a|0,ft[ot>>0]|0|0,d[ht>>0]|0),tt=tt+4|0,a=o[tt>>2]|0,a;)ht=ht+1|0,ot=ot+1|0;if(a=Xy()|0,tt=o[a>>2]|0,tt|0)do lu(tt|0,o[a+4>>2]|0),a=a+8|0,tt=o[a>>2]|0;while(tt|0);lu(aD()|0,5167),zt=rm()|0,a=o[zt>>2]|0;e:do if(a|0){do lD(o[a+4>>2]|0),a=o[a>>2]|0;while(a|0);if(a=o[zt>>2]|0,a|0){Lt=zt;do{for(;vt=a,a=o[a>>2]|0,vt=o[vt+4>>2]|0,!!(uD(vt)|0);)if(o[Ht>>2]=Lt,o[Vt>>2]=o[Ht>>2],cD(zt,Vt)|0,!a)break e;if(fD(vt),Lt=o[Lt>>2]|0,tt=Ax(vt)|0,_t=en()|0,wt=yt,yt=yt+((1*(tt<<2)|0)+15&-16)|0,Pt=yt,yt=yt+((1*(tt<<2)|0)+15&-16)|0,tt=o[(sx(vt)|0)>>2]|0,tt|0)for(ot=wt,ht=Pt;o[ot>>2]=o[(im(o[tt+4>>2]|0)|0)>>2],o[ht>>2]=o[tt+8>>2],tt=o[tt>>2]|0,tt;)ot=ot+4|0,ht=ht+4|0;ln=im(vt)|0,tt=dD(vt)|0,ot=Ax(vt)|0,ht=hD(vt)|0,yp(ln|0,tt|0,wt|0,Pt|0,ot|0,ht|0,Jv(vt)|0),_s(_t|0)}while(a|0)}}while(0);if(a=o[(e_()|0)>>2]|0,a|0)do ln=a+4|0,zt=t_(ln)|0,vt=h1(zt)|0,_t=f1(zt)|0,wt=(d1(zt)|0)+1|0,Pt=P2(zt)|0,Lt=Cx(ln)|0,zt=Sr(zt)|0,Vt=C2(ln)|0,Ht=h_(ln)|0,c0(0,vt|0,_t|0,wt|0,Pt|0,Lt|0,zt|0,Vt|0,Ht|0,p_(ln)|0),a=o[a>>2]|0;while(a|0);a=o[(rm()|0)>>2]|0;e:do if(a|0){t:for(;;){if(tt=o[a+4>>2]|0,tt|0&&(Zt=o[(im(tt)|0)>>2]|0,_n=o[(ax(tt)|0)>>2]|0,_n|0)){ot=_n;do{tt=ot+4|0,ht=t_(tt)|0;n:do if(ht|0)switch(Sr(ht)|0){case 0:break t;case 4:case 3:case 2:{Pt=h1(ht)|0,Lt=f1(ht)|0,zt=(d1(ht)|0)+1|0,Vt=P2(ht)|0,Ht=Sr(ht)|0,ln=C2(tt)|0,c0(Zt|0,Pt|0,Lt|0,zt|0,Vt|0,0,Ht|0,ln|0,h_(tt)|0,p_(tt)|0);break n}case 1:{wt=h1(ht)|0,Pt=f1(ht)|0,Lt=(d1(ht)|0)+1|0,zt=P2(ht)|0,Vt=Cx(tt)|0,Ht=Sr(ht)|0,ln=C2(tt)|0,c0(Zt|0,wt|0,Pt|0,Lt|0,zt|0,Vt|0,Ht|0,ln|0,h_(tt)|0,p_(tt)|0);break n}case 5:{zt=h1(ht)|0,Vt=f1(ht)|0,Ht=(d1(ht)|0)+1|0,ln=P2(ht)|0,c0(Zt|0,zt|0,Vt|0,Ht|0,ln|0,pD(ht)|0,Sr(ht)|0,0,0,0);break n}default:break n}while(0);ot=o[ot>>2]|0}while(ot|0)}if(a=o[a>>2]|0,!a)break e}eo()}while(0);dm(),yt=dn}function aD(){return 11703}function lD(a){a=a|0,d[a+40>>0]=0}function uD(a){return a=a|0,(d[a+40>>0]|0)!=0|0}function cD(a,tt){return a=a|0,tt=tt|0,tt=mD(tt)|0,a=o[tt>>2]|0,o[tt>>2]=o[a>>2],qn(a),o[tt>>2]|0}function fD(a){a=a|0,d[a+40>>0]=1}function Ax(a){return a=a|0,o[a+20>>2]|0}function dD(a){return a=a|0,o[a+8>>2]|0}function hD(a){return a=a|0,o[a+32>>2]|0}function P2(a){return a=a|0,o[a+4>>2]|0}function Cx(a){return a=a|0,o[a+4>>2]|0}function h_(a){return a=a|0,o[a+8>>2]|0}function p_(a){return a=a|0,o[a+16>>2]|0}function pD(a){return a=a|0,o[a+20>>2]|0}function mD(a){return a=a|0,o[a>>2]|0}function I2(a){a=a|0;var tt=0,ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0,_n=0,dn=0,ln=0,In=0,Cn=0,Un=0,mn=0,vn=0,pr=0;pr=yt,yt=yt+16|0,Zt=pr;do if(a>>>0<245){if(zt=a>>>0<11?16:a+11&-8,a=zt>>>3,Ht=o[2783]|0,ot=Ht>>>a,ot&3|0)return tt=(ot&1^1)+a|0,a=11172+(tt<<1<<2)|0,ot=a+8|0,ht=o[ot>>2]|0,vt=ht+8|0,_t=o[vt>>2]|0,(a|0)==(_t|0)?o[2783]=Ht&~(1<<tt):(o[_t+12>>2]=a,o[ot>>2]=_t),vn=tt<<3,o[ht+4>>2]=vn|3,vn=ht+vn+4|0,o[vn>>2]=o[vn>>2]|1,vn=vt,yt=pr,vn|0;if(Vt=o[2785]|0,zt>>>0>Vt>>>0){if(ot|0)return tt=2<<a,tt=ot<<a&(tt|0-tt),tt=(tt&0-tt)+-1|0,wt=tt>>>12&16,tt=tt>>>wt,ot=tt>>>5&8,tt=tt>>>ot,vt=tt>>>2&4,tt=tt>>>vt,a=tt>>>1&2,tt=tt>>>a,ht=tt>>>1&1,ht=(ot|wt|vt|a|ht)+(tt>>>ht)|0,tt=11172+(ht<<1<<2)|0,a=tt+8|0,vt=o[a>>2]|0,wt=vt+8|0,ot=o[wt>>2]|0,(tt|0)==(ot|0)?(a=Ht&~(1<<ht),o[2783]=a):(o[ot+12>>2]=tt,o[a>>2]=ot,a=Ht),_t=(ht<<3)-zt|0,o[vt+4>>2]=zt|3,ht=vt+zt|0,o[ht+4>>2]=_t|1,o[ht+_t>>2]=_t,Vt|0&&(vt=o[2788]|0,tt=Vt>>>3,ot=11172+(tt<<1<<2)|0,tt=1<<tt,a&tt?(a=ot+8|0,tt=o[a>>2]|0):(o[2783]=a|tt,tt=ot,a=ot+8|0),o[a>>2]=vt,o[tt+12>>2]=vt,o[vt+8>>2]=tt,o[vt+12>>2]=ot),o[2785]=_t,o[2788]=ht,vn=wt,yt=pr,vn|0;if(Pt=o[2784]|0,Pt){if(ot=(Pt&0-Pt)+-1|0,wt=ot>>>12&16,ot=ot>>>wt,_t=ot>>>5&8,ot=ot>>>_t,Lt=ot>>>2&4,ot=ot>>>Lt,ht=ot>>>1&2,ot=ot>>>ht,a=ot>>>1&1,a=o[11436+((_t|wt|Lt|ht|a)+(ot>>>a)<<2)>>2]|0,ot=(o[a+4>>2]&-8)-zt|0,ht=o[a+16+(((o[a+16>>2]|0)==0&1)<<2)>>2]|0,!ht)Lt=a,_t=ot;else{do wt=(o[ht+4>>2]&-8)-zt|0,Lt=wt>>>0<ot>>>0,ot=Lt?wt:ot,a=Lt?ht:a,ht=o[ht+16+(((o[ht+16>>2]|0)==0&1)<<2)>>2]|0;while(ht|0);Lt=a,_t=ot}if(wt=Lt+zt|0,Lt>>>0<wt>>>0){vt=o[Lt+24>>2]|0,tt=o[Lt+12>>2]|0;do if((tt|0)==(Lt|0)){if(a=Lt+20|0,tt=o[a>>2]|0,!tt&&(a=Lt+16|0,tt=o[a>>2]|0,!tt)){ot=0;break}for(;;){if(ot=tt+20|0,ht=o[ot>>2]|0,ht|0){tt=ht,a=ot;continue}if(ot=tt+16|0,ht=o[ot>>2]|0,ht)tt=ht,a=ot;else break}o[a>>2]=0,ot=tt}else ot=o[Lt+8>>2]|0,o[ot+12>>2]=tt,o[tt+8>>2]=ot,ot=tt;while(0);do if(vt|0){if(tt=o[Lt+28>>2]|0,a=11436+(tt<<2)|0,(Lt|0)==(o[a>>2]|0)){if(o[a>>2]=ot,!ot){o[2784]=Pt&~(1<<tt);break}}else if(o[vt+16+(((o[vt+16>>2]|0)!=(Lt|0)&1)<<2)>>2]=ot,!ot)break;o[ot+24>>2]=vt,tt=o[Lt+16>>2]|0,tt|0&&(o[ot+16>>2]=tt,o[tt+24>>2]=ot),tt=o[Lt+20>>2]|0,tt|0&&(o[ot+20>>2]=tt,o[tt+24>>2]=ot)}while(0);return _t>>>0<16?(vn=_t+zt|0,o[Lt+4>>2]=vn|3,vn=Lt+vn+4|0,o[vn>>2]=o[vn>>2]|1):(o[Lt+4>>2]=zt|3,o[wt+4>>2]=_t|1,o[wt+_t>>2]=_t,Vt|0&&(ht=o[2788]|0,tt=Vt>>>3,ot=11172+(tt<<1<<2)|0,tt=1<<tt,Ht&tt?(a=ot+8|0,tt=o[a>>2]|0):(o[2783]=Ht|tt,tt=ot,a=ot+8|0),o[a>>2]=ht,o[tt+12>>2]=ht,o[ht+8>>2]=tt,o[ht+12>>2]=ot),o[2785]=_t,o[2788]=wt),vn=Lt+8|0,yt=pr,vn|0}else Ht=zt}else Ht=zt}else Ht=zt}else if(a>>>0<=4294967231)if(a=a+11|0,zt=a&-8,Lt=o[2784]|0,Lt){ht=0-zt|0,a=a>>>8,a?zt>>>0>16777215?Pt=31:(Ht=(a+1048320|0)>>>16&8,mn=a<<Ht,Vt=(mn+520192|0)>>>16&4,mn=mn<<Vt,Pt=(mn+245760|0)>>>16&2,Pt=14-(Vt|Ht|Pt)+(mn<<Pt>>>15)|0,Pt=zt>>>(Pt+7|0)&1|Pt<<1):Pt=0,ot=o[11436+(Pt<<2)>>2]|0;e:do if(!ot)ot=0,a=0,mn=57;else for(a=0,wt=zt<<((Pt|0)==31?0:25-(Pt>>>1)|0),_t=0;;){if(vt=(o[ot+4>>2]&-8)-zt|0,vt>>>0<ht>>>0)if(vt)a=ot,ht=vt;else{a=ot,ht=0,vt=ot,mn=61;break e}if(vt=o[ot+20>>2]|0,ot=o[ot+16+(wt>>>31<<2)>>2]|0,_t=(vt|0)==0|(vt|0)==(ot|0)?_t:vt,vt=(ot|0)==0,vt){ot=_t,mn=57;break}else wt=wt<<((vt^1)&1)}while(0);if((mn|0)==57){if((ot|0)==0&(a|0)==0){if(a=2<<Pt,a=Lt&(a|0-a),!a){Ht=zt;break}Ht=(a&0-a)+-1|0,wt=Ht>>>12&16,Ht=Ht>>>wt,_t=Ht>>>5&8,Ht=Ht>>>_t,Pt=Ht>>>2&4,Ht=Ht>>>Pt,Vt=Ht>>>1&2,Ht=Ht>>>Vt,ot=Ht>>>1&1,a=0,ot=o[11436+((_t|wt|Pt|Vt|ot)+(Ht>>>ot)<<2)>>2]|0}ot?(vt=ot,mn=61):(Pt=a,wt=ht)}if((mn|0)==61)for(;;)if(mn=0,ot=(o[vt+4>>2]&-8)-zt|0,Ht=ot>>>0<ht>>>0,ot=Ht?ot:ht,a=Ht?vt:a,vt=o[vt+16+(((o[vt+16>>2]|0)==0&1)<<2)>>2]|0,vt)ht=ot,mn=61;else{Pt=a,wt=ot;break}if(Pt|0&&wt>>>0<((o[2785]|0)-zt|0)>>>0){if(_t=Pt+zt|0,Pt>>>0>=_t>>>0)return vn=0,yt=pr,vn|0;vt=o[Pt+24>>2]|0,tt=o[Pt+12>>2]|0;do if((tt|0)==(Pt|0)){if(a=Pt+20|0,tt=o[a>>2]|0,!tt&&(a=Pt+16|0,tt=o[a>>2]|0,!tt)){tt=0;break}for(;;){if(ot=tt+20|0,ht=o[ot>>2]|0,ht|0){tt=ht,a=ot;continue}if(ot=tt+16|0,ht=o[ot>>2]|0,ht)tt=ht,a=ot;else break}o[a>>2]=0}else vn=o[Pt+8>>2]|0,o[vn+12>>2]=tt,o[tt+8>>2]=vn;while(0);do if(vt){if(a=o[Pt+28>>2]|0,ot=11436+(a<<2)|0,(Pt|0)==(o[ot>>2]|0)){if(o[ot>>2]=tt,!tt){ht=Lt&~(1<<a),o[2784]=ht;break}}else if(o[vt+16+(((o[vt+16>>2]|0)!=(Pt|0)&1)<<2)>>2]=tt,!tt){ht=Lt;break}o[tt+24>>2]=vt,a=o[Pt+16>>2]|0,a|0&&(o[tt+16>>2]=a,o[a+24>>2]=tt),a=o[Pt+20>>2]|0,a&&(o[tt+20>>2]=a,o[a+24>>2]=tt),ht=Lt}else ht=Lt;while(0);do if(wt>>>0>=16){if(o[Pt+4>>2]=zt|3,o[_t+4>>2]=wt|1,o[_t+wt>>2]=wt,tt=wt>>>3,wt>>>0<256){ot=11172+(tt<<1<<2)|0,a=o[2783]|0,tt=1<<tt,a&tt?(a=ot+8|0,tt=o[a>>2]|0):(o[2783]=a|tt,tt=ot,a=ot+8|0),o[a>>2]=_t,o[tt+12>>2]=_t,o[_t+8>>2]=tt,o[_t+12>>2]=ot;break}if(tt=wt>>>8,tt?wt>>>0>16777215?tt=31:(mn=(tt+1048320|0)>>>16&8,vn=tt<<mn,Un=(vn+520192|0)>>>16&4,vn=vn<<Un,tt=(vn+245760|0)>>>16&2,tt=14-(Un|mn|tt)+(vn<<tt>>>15)|0,tt=wt>>>(tt+7|0)&1|tt<<1):tt=0,ot=11436+(tt<<2)|0,o[_t+28>>2]=tt,a=_t+16|0,o[a+4>>2]=0,o[a>>2]=0,a=1<<tt,!(ht&a)){o[2784]=ht|a,o[ot>>2]=_t,o[_t+24>>2]=ot,o[_t+12>>2]=_t,o[_t+8>>2]=_t;break}for(a=wt<<((tt|0)==31?0:25-(tt>>>1)|0),ot=o[ot>>2]|0;;){if((o[ot+4>>2]&-8|0)==(wt|0)){mn=97;break}if(ht=ot+16+(a>>>31<<2)|0,tt=o[ht>>2]|0,tt)a=a<<1,ot=tt;else{mn=96;break}}if((mn|0)==96){o[ht>>2]=_t,o[_t+24>>2]=ot,o[_t+12>>2]=_t,o[_t+8>>2]=_t;break}else if((mn|0)==97){mn=ot+8|0,vn=o[mn>>2]|0,o[vn+12>>2]=_t,o[mn>>2]=_t,o[_t+8>>2]=vn,o[_t+12>>2]=ot,o[_t+24>>2]=0;break}}else vn=wt+zt|0,o[Pt+4>>2]=vn|3,vn=Pt+vn+4|0,o[vn>>2]=o[vn>>2]|1;while(0);return vn=Pt+8|0,yt=pr,vn|0}else Ht=zt}else Ht=zt;else Ht=-1;while(0);if(ot=o[2785]|0,ot>>>0>=Ht>>>0)return tt=ot-Ht|0,a=o[2788]|0,tt>>>0>15?(vn=a+Ht|0,o[2788]=vn,o[2785]=tt,o[vn+4>>2]=tt|1,o[vn+tt>>2]=tt,o[a+4>>2]=Ht|3):(o[2785]=0,o[2788]=0,o[a+4>>2]=ot|3,vn=a+ot+4|0,o[vn>>2]=o[vn>>2]|1),vn=a+8|0,yt=pr,vn|0;if(wt=o[2786]|0,wt>>>0>Ht>>>0)return Un=wt-Ht|0,o[2786]=Un,vn=o[2789]|0,mn=vn+Ht|0,o[2789]=mn,o[mn+4>>2]=Un|1,o[vn+4>>2]=Ht|3,vn=vn+8|0,yt=pr,vn|0;if(o[2901]|0?a=o[2903]|0:(o[2903]=4096,o[2902]=4096,o[2904]=-1,o[2905]=-1,o[2906]=0,o[2894]=0,a=Zt&-16^1431655768,o[Zt>>2]=a,o[2901]=a,a=4096),Pt=Ht+48|0,Lt=Ht+47|0,_t=a+Lt|0,vt=0-a|0,zt=_t&vt,zt>>>0<=Ht>>>0||(a=o[2893]|0,a|0&&(Vt=o[2891]|0,Zt=Vt+zt|0,Zt>>>0<=Vt>>>0|Zt>>>0>a>>>0)))return vn=0,yt=pr,vn|0;e:do if(o[2894]&4)tt=0,mn=133;else{ot=o[2789]|0;t:do if(ot){for(ht=11580;a=o[ht>>2]|0,!(a>>>0<=ot>>>0&&(ln=ht+4|0,(a+(o[ln>>2]|0)|0)>>>0>ot>>>0));)if(a=o[ht+8>>2]|0,a)ht=a;else{mn=118;break t}if(tt=_t-wt&vt,tt>>>0<2147483647)if(a=F0(tt|0)|0,(a|0)==((o[ht>>2]|0)+(o[ln>>2]|0)|0)){if((a|0)!=-1){wt=tt,_t=a,mn=135;break e}}else ht=a,mn=126;else tt=0}else mn=118;while(0);do if((mn|0)==118)if(ot=F0(0)|0,(ot|0)!=-1&&(tt=ot,_n=o[2902]|0,dn=_n+-1|0,tt=(dn&tt|0?(dn+tt&0-_n)-tt|0:0)+zt|0,_n=o[2891]|0,dn=tt+_n|0,tt>>>0>Ht>>>0&tt>>>0<2147483647)){if(ln=o[2893]|0,ln|0&&dn>>>0<=_n>>>0|dn>>>0>ln>>>0){tt=0;break}if(a=F0(tt|0)|0,(a|0)==(ot|0)){wt=tt,_t=ot,mn=135;break e}else ht=a,mn=126}else tt=0;while(0);do if((mn|0)==126){if(ot=0-tt|0,!(Pt>>>0>tt>>>0&(tt>>>0<2147483647&(ht|0)!=-1)))if((ht|0)==-1){tt=0;break}else{wt=tt,_t=ht,mn=135;break e}if(a=o[2903]|0,a=Lt-tt+a&0-a,a>>>0>=2147483647){wt=tt,_t=ht,mn=135;break e}if((F0(a|0)|0)==-1){F0(ot|0)|0,tt=0;break}else{wt=a+tt|0,_t=ht,mn=135;break e}}while(0);o[2894]=o[2894]|4,mn=133}while(0);if((mn|0)==133&&zt>>>0<2147483647&&(Un=F0(zt|0)|0,ln=F0(0)|0,In=ln-Un|0,Cn=In>>>0>(Ht+40|0)>>>0,!((Un|0)==-1|Cn^1|Un>>>0<ln>>>0&((Un|0)!=-1&(ln|0)!=-1)^1))&&(wt=Cn?In:tt,_t=Un,mn=135),(mn|0)==135){tt=(o[2891]|0)+wt|0,o[2891]=tt,tt>>>0>(o[2892]|0)>>>0&&(o[2892]=tt),Lt=o[2789]|0;do if(Lt){for(tt=11580;;){if(a=o[tt>>2]|0,ot=tt+4|0,ht=o[ot>>2]|0,(_t|0)==(a+ht|0)){mn=145;break}if(vt=o[tt+8>>2]|0,vt)tt=vt;else break}if((mn|0)==145&&!(o[tt+12>>2]&8|0)&&Lt>>>0<_t>>>0&Lt>>>0>=a>>>0){o[ot>>2]=ht+wt,vn=Lt+8|0,vn=vn&7|0?0-vn&7:0,mn=Lt+vn|0,vn=(o[2786]|0)+(wt-vn)|0,o[2789]=mn,o[2786]=vn,o[mn+4>>2]=vn|1,o[mn+vn+4>>2]=40,o[2790]=o[2905];break}for(_t>>>0<(o[2787]|0)>>>0&&(o[2787]=_t),ot=_t+wt|0,tt=11580;;){if((o[tt>>2]|0)==(ot|0)){mn=153;break}if(a=o[tt+8>>2]|0,a)tt=a;else break}if((mn|0)==153&&!(o[tt+12>>2]&8|0)){o[tt>>2]=_t,Vt=tt+4|0,o[Vt>>2]=(o[Vt>>2]|0)+wt,Vt=_t+8|0,Vt=_t+(Vt&7|0?0-Vt&7:0)|0,tt=ot+8|0,tt=ot+(tt&7|0?0-tt&7:0)|0,zt=Vt+Ht|0,Pt=tt-Vt-Ht|0,o[Vt+4>>2]=Ht|3;do if((tt|0)!=(Lt|0)){if((tt|0)==(o[2788]|0)){vn=(o[2785]|0)+Pt|0,o[2785]=vn,o[2788]=zt,o[zt+4>>2]=vn|1,o[zt+vn>>2]=vn;break}if(a=o[tt+4>>2]|0,(a&3|0)==1){wt=a&-8,ht=a>>>3;e:do if(a>>>0<256)if(a=o[tt+8>>2]|0,ot=o[tt+12>>2]|0,(ot|0)==(a|0)){o[2783]=o[2783]&~(1<<ht);break}else{o[a+12>>2]=ot,o[ot+8>>2]=a;break}else{_t=o[tt+24>>2]|0,a=o[tt+12>>2]|0;do if((a|0)==(tt|0)){if(ht=tt+16|0,ot=ht+4|0,a=o[ot>>2]|0,!a)if(a=o[ht>>2]|0,a)ot=ht;else{a=0;break}for(;;){if(ht=a+20|0,vt=o[ht>>2]|0,vt|0){a=vt,ot=ht;continue}if(ht=a+16|0,vt=o[ht>>2]|0,vt)a=vt,ot=ht;else break}o[ot>>2]=0}else vn=o[tt+8>>2]|0,o[vn+12>>2]=a,o[a+8>>2]=vn;while(0);if(!_t)break;ot=o[tt+28>>2]|0,ht=11436+(ot<<2)|0;do if((tt|0)!=(o[ht>>2]|0)){if(o[_t+16+(((o[_t+16>>2]|0)!=(tt|0)&1)<<2)>>2]=a,!a)break e}else{if(o[ht>>2]=a,a|0)break;o[2784]=o[2784]&~(1<<ot);break e}while(0);if(o[a+24>>2]=_t,ot=tt+16|0,ht=o[ot>>2]|0,ht|0&&(o[a+16>>2]=ht,o[ht+24>>2]=a),ot=o[ot+4>>2]|0,!ot)break;o[a+20>>2]=ot,o[ot+24>>2]=a}while(0);tt=tt+wt|0,vt=wt+Pt|0}else vt=Pt;if(tt=tt+4|0,o[tt>>2]=o[tt>>2]&-2,o[zt+4>>2]=vt|1,o[zt+vt>>2]=vt,tt=vt>>>3,vt>>>0<256){ot=11172+(tt<<1<<2)|0,a=o[2783]|0,tt=1<<tt,a&tt?(a=ot+8|0,tt=o[a>>2]|0):(o[2783]=a|tt,tt=ot,a=ot+8|0),o[a>>2]=zt,o[tt+12>>2]=zt,o[zt+8>>2]=tt,o[zt+12>>2]=ot;break}tt=vt>>>8;do if(!tt)tt=0;else{if(vt>>>0>16777215){tt=31;break}mn=(tt+1048320|0)>>>16&8,vn=tt<<mn,Un=(vn+520192|0)>>>16&4,vn=vn<<Un,tt=(vn+245760|0)>>>16&2,tt=14-(Un|mn|tt)+(vn<<tt>>>15)|0,tt=vt>>>(tt+7|0)&1|tt<<1}while(0);if(ht=11436+(tt<<2)|0,o[zt+28>>2]=tt,a=zt+16|0,o[a+4>>2]=0,o[a>>2]=0,a=o[2784]|0,ot=1<<tt,!(a&ot)){o[2784]=a|ot,o[ht>>2]=zt,o[zt+24>>2]=ht,o[zt+12>>2]=zt,o[zt+8>>2]=zt;break}for(a=vt<<((tt|0)==31?0:25-(tt>>>1)|0),ot=o[ht>>2]|0;;){if((o[ot+4>>2]&-8|0)==(vt|0)){mn=194;break}if(ht=ot+16+(a>>>31<<2)|0,tt=o[ht>>2]|0,tt)a=a<<1,ot=tt;else{mn=193;break}}if((mn|0)==193){o[ht>>2]=zt,o[zt+24>>2]=ot,o[zt+12>>2]=zt,o[zt+8>>2]=zt;break}else if((mn|0)==194){mn=ot+8|0,vn=o[mn>>2]|0,o[vn+12>>2]=zt,o[mn>>2]=zt,o[zt+8>>2]=vn,o[zt+12>>2]=ot,o[zt+24>>2]=0;break}}else vn=(o[2786]|0)+Pt|0,o[2786]=vn,o[2789]=zt,o[zt+4>>2]=vn|1;while(0);return vn=Vt+8|0,yt=pr,vn|0}for(tt=11580;a=o[tt>>2]|0,!(a>>>0<=Lt>>>0&&(vn=a+(o[tt+4>>2]|0)|0,vn>>>0>Lt>>>0));)tt=o[tt+8>>2]|0;vt=vn+-47|0,a=vt+8|0,a=vt+(a&7|0?0-a&7:0)|0,vt=Lt+16|0,a=a>>>0<vt>>>0?Lt:a,tt=a+8|0,ot=_t+8|0,ot=ot&7|0?0-ot&7:0,mn=_t+ot|0,ot=wt+-40-ot|0,o[2789]=mn,o[2786]=ot,o[mn+4>>2]=ot|1,o[mn+ot+4>>2]=40,o[2790]=o[2905],ot=a+4|0,o[ot>>2]=27,o[tt>>2]=o[2895],o[tt+4>>2]=o[2896],o[tt+8>>2]=o[2897],o[tt+12>>2]=o[2898],o[2895]=_t,o[2896]=wt,o[2898]=0,o[2897]=tt,tt=a+24|0;do mn=tt,tt=tt+4|0,o[tt>>2]=7;while((mn+8|0)>>>0<vn>>>0);if((a|0)!=(Lt|0)){if(_t=a-Lt|0,o[ot>>2]=o[ot>>2]&-2,o[Lt+4>>2]=_t|1,o[a>>2]=_t,tt=_t>>>3,_t>>>0<256){ot=11172+(tt<<1<<2)|0,a=o[2783]|0,tt=1<<tt,a&tt?(a=ot+8|0,tt=o[a>>2]|0):(o[2783]=a|tt,tt=ot,a=ot+8|0),o[a>>2]=Lt,o[tt+12>>2]=Lt,o[Lt+8>>2]=tt,o[Lt+12>>2]=ot;break}if(tt=_t>>>8,tt?_t>>>0>16777215?ot=31:(mn=(tt+1048320|0)>>>16&8,vn=tt<<mn,Un=(vn+520192|0)>>>16&4,vn=vn<<Un,ot=(vn+245760|0)>>>16&2,ot=14-(Un|mn|ot)+(vn<<ot>>>15)|0,ot=_t>>>(ot+7|0)&1|ot<<1):ot=0,ht=11436+(ot<<2)|0,o[Lt+28>>2]=ot,o[Lt+20>>2]=0,o[vt>>2]=0,tt=o[2784]|0,a=1<<ot,!(tt&a)){o[2784]=tt|a,o[ht>>2]=Lt,o[Lt+24>>2]=ht,o[Lt+12>>2]=Lt,o[Lt+8>>2]=Lt;break}for(a=_t<<((ot|0)==31?0:25-(ot>>>1)|0),ot=o[ht>>2]|0;;){if((o[ot+4>>2]&-8|0)==(_t|0)){mn=216;break}if(ht=ot+16+(a>>>31<<2)|0,tt=o[ht>>2]|0,tt)a=a<<1,ot=tt;else{mn=215;break}}if((mn|0)==215){o[ht>>2]=Lt,o[Lt+24>>2]=ot,o[Lt+12>>2]=Lt,o[Lt+8>>2]=Lt;break}else if((mn|0)==216){mn=ot+8|0,vn=o[mn>>2]|0,o[vn+12>>2]=Lt,o[mn>>2]=Lt,o[Lt+8>>2]=vn,o[Lt+12>>2]=ot,o[Lt+24>>2]=0;break}}}else{vn=o[2787]|0,(vn|0)==0|_t>>>0<vn>>>0&&(o[2787]=_t),o[2895]=_t,o[2896]=wt,o[2898]=0,o[2792]=o[2901],o[2791]=-1,tt=0;do vn=11172+(tt<<1<<2)|0,o[vn+12>>2]=vn,o[vn+8>>2]=vn,tt=tt+1|0;while((tt|0)!=32);vn=_t+8|0,vn=vn&7|0?0-vn&7:0,mn=_t+vn|0,vn=wt+-40-vn|0,o[2789]=mn,o[2786]=vn,o[mn+4>>2]=vn|1,o[mn+vn+4>>2]=40,o[2790]=o[2905]}while(0);if(tt=o[2786]|0,tt>>>0>Ht>>>0)return Un=tt-Ht|0,o[2786]=Un,vn=o[2789]|0,mn=vn+Ht|0,o[2789]=mn,o[mn+4>>2]=Un|1,o[vn+4>>2]=Ht|3,vn=vn+8|0,yt=pr,vn|0}return o[(sm()|0)>>2]=12,vn=0,yt=pr,vn|0}function k2(a){a=a|0;var tt=0,ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0;if(a){ot=a+-8|0,vt=o[2787]|0,a=o[a+-4>>2]|0,tt=a&-8,Lt=ot+tt|0;do if(a&1)Pt=ot,wt=ot;else{if(ht=o[ot>>2]|0,!(a&3)||(wt=ot+(0-ht)|0,_t=ht+tt|0,wt>>>0<vt>>>0))return;if((wt|0)==(o[2788]|0)){if(a=Lt+4|0,tt=o[a>>2]|0,(tt&3|0)!=3){Pt=wt,tt=_t;break}o[2785]=_t,o[a>>2]=tt&-2,o[wt+4>>2]=_t|1,o[wt+_t>>2]=_t;return}if(ot=ht>>>3,ht>>>0<256)if(a=o[wt+8>>2]|0,tt=o[wt+12>>2]|0,(tt|0)==(a|0)){o[2783]=o[2783]&~(1<<ot),Pt=wt,tt=_t;break}else{o[a+12>>2]=tt,o[tt+8>>2]=a,Pt=wt,tt=_t;break}vt=o[wt+24>>2]|0,a=o[wt+12>>2]|0;do if((a|0)==(wt|0)){if(ot=wt+16|0,tt=ot+4|0,a=o[tt>>2]|0,!a)if(a=o[ot>>2]|0,a)tt=ot;else{a=0;break}for(;;){if(ot=a+20|0,ht=o[ot>>2]|0,ht|0){a=ht,tt=ot;continue}if(ot=a+16|0,ht=o[ot>>2]|0,ht)a=ht,tt=ot;else break}o[tt>>2]=0}else Pt=o[wt+8>>2]|0,o[Pt+12>>2]=a,o[a+8>>2]=Pt;while(0);if(vt){if(tt=o[wt+28>>2]|0,ot=11436+(tt<<2)|0,(wt|0)==(o[ot>>2]|0)){if(o[ot>>2]=a,!a){o[2784]=o[2784]&~(1<<tt),Pt=wt,tt=_t;break}}else if(o[vt+16+(((o[vt+16>>2]|0)!=(wt|0)&1)<<2)>>2]=a,!a){Pt=wt,tt=_t;break}o[a+24>>2]=vt,tt=wt+16|0,ot=o[tt>>2]|0,ot|0&&(o[a+16>>2]=ot,o[ot+24>>2]=a),tt=o[tt+4>>2]|0,tt?(o[a+20>>2]=tt,o[tt+24>>2]=a,Pt=wt,tt=_t):(Pt=wt,tt=_t)}else Pt=wt,tt=_t}while(0);if(!(wt>>>0>=Lt>>>0)&&(a=Lt+4|0,ht=o[a>>2]|0,!!(ht&1))){if(ht&2)o[a>>2]=ht&-2,o[Pt+4>>2]=tt|1,o[wt+tt>>2]=tt,vt=tt;else{if(a=o[2788]|0,(Lt|0)==(o[2789]|0)){if(Lt=(o[2786]|0)+tt|0,o[2786]=Lt,o[2789]=Pt,o[Pt+4>>2]=Lt|1,(Pt|0)!=(a|0))return;o[2788]=0,o[2785]=0;return}if((Lt|0)==(a|0)){Lt=(o[2785]|0)+tt|0,o[2785]=Lt,o[2788]=wt,o[Pt+4>>2]=Lt|1,o[wt+Lt>>2]=Lt;return}vt=(ht&-8)+tt|0,ot=ht>>>3;do if(ht>>>0<256)if(tt=o[Lt+8>>2]|0,a=o[Lt+12>>2]|0,(a|0)==(tt|0)){o[2783]=o[2783]&~(1<<ot);break}else{o[tt+12>>2]=a,o[a+8>>2]=tt;break}else{_t=o[Lt+24>>2]|0,a=o[Lt+12>>2]|0;do if((a|0)==(Lt|0)){if(ot=Lt+16|0,tt=ot+4|0,a=o[tt>>2]|0,!a)if(a=o[ot>>2]|0,a)tt=ot;else{ot=0;break}for(;;){if(ot=a+20|0,ht=o[ot>>2]|0,ht|0){a=ht,tt=ot;continue}if(ot=a+16|0,ht=o[ot>>2]|0,ht)a=ht,tt=ot;else break}o[tt>>2]=0,ot=a}else ot=o[Lt+8>>2]|0,o[ot+12>>2]=a,o[a+8>>2]=ot,ot=a;while(0);if(_t|0){if(a=o[Lt+28>>2]|0,tt=11436+(a<<2)|0,(Lt|0)==(o[tt>>2]|0)){if(o[tt>>2]=ot,!ot){o[2784]=o[2784]&~(1<<a);break}}else if(o[_t+16+(((o[_t+16>>2]|0)!=(Lt|0)&1)<<2)>>2]=ot,!ot)break;o[ot+24>>2]=_t,a=Lt+16|0,tt=o[a>>2]|0,tt|0&&(o[ot+16>>2]=tt,o[tt+24>>2]=ot),a=o[a+4>>2]|0,a|0&&(o[ot+20>>2]=a,o[a+24>>2]=ot)}}while(0);if(o[Pt+4>>2]=vt|1,o[wt+vt>>2]=vt,(Pt|0)==(o[2788]|0)){o[2785]=vt;return}}if(a=vt>>>3,vt>>>0<256){ot=11172+(a<<1<<2)|0,tt=o[2783]|0,a=1<<a,tt&a?(tt=ot+8|0,a=o[tt>>2]|0):(o[2783]=tt|a,a=ot,tt=ot+8|0),o[tt>>2]=Pt,o[a+12>>2]=Pt,o[Pt+8>>2]=a,o[Pt+12>>2]=ot;return}a=vt>>>8,a?vt>>>0>16777215?a=31:(wt=(a+1048320|0)>>>16&8,Lt=a<<wt,_t=(Lt+520192|0)>>>16&4,Lt=Lt<<_t,a=(Lt+245760|0)>>>16&2,a=14-(_t|wt|a)+(Lt<<a>>>15)|0,a=vt>>>(a+7|0)&1|a<<1):a=0,ht=11436+(a<<2)|0,o[Pt+28>>2]=a,o[Pt+20>>2]=0,o[Pt+16>>2]=0,tt=o[2784]|0,ot=1<<a;do if(tt&ot){for(tt=vt<<((a|0)==31?0:25-(a>>>1)|0),ot=o[ht>>2]|0;;){if((o[ot+4>>2]&-8|0)==(vt|0)){a=73;break}if(ht=ot+16+(tt>>>31<<2)|0,a=o[ht>>2]|0,a)tt=tt<<1,ot=a;else{a=72;break}}if((a|0)==72){o[ht>>2]=Pt,o[Pt+24>>2]=ot,o[Pt+12>>2]=Pt,o[Pt+8>>2]=Pt;break}else if((a|0)==73){wt=ot+8|0,Lt=o[wt>>2]|0,o[Lt+12>>2]=Pt,o[wt>>2]=Pt,o[Pt+8>>2]=Lt,o[Pt+12>>2]=ot,o[Pt+24>>2]=0;break}}else o[2784]=tt|ot,o[ht>>2]=Pt,o[Pt+24>>2]=ht,o[Pt+12>>2]=Pt,o[Pt+8>>2]=Pt;while(0);if(Lt=(o[2791]|0)+-1|0,o[2791]=Lt,!Lt)a=11588;else return;for(;a=o[a>>2]|0,a;)a=a+8|0;o[2791]=-1}}}function gD(){return 11628}function vD(a){a=a|0;var tt=0,ot=0;return tt=yt,yt=yt+16|0,ot=tt,o[ot>>2]=xD(o[a+60>>2]|0)|0,a=L2(Wr(6,ot|0)|0)|0,yt=tt,a|0}function Rx(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0,_n=0;Ht=yt,yt=yt+48|0,zt=Ht+16|0,_t=Ht,vt=Ht+32|0,Pt=a+28|0,ht=o[Pt>>2]|0,o[vt>>2]=ht,Lt=a+20|0,ht=(o[Lt>>2]|0)-ht|0,o[vt+4>>2]=ht,o[vt+8>>2]=tt,o[vt+12>>2]=ot,ht=ht+ot|0,wt=a+60|0,o[_t>>2]=o[wt>>2],o[_t+4>>2]=vt,o[_t+8>>2]=2,_t=L2(lo(146,_t|0)|0)|0;e:do if((ht|0)!=(_t|0)){for(tt=2;!((_t|0)<0);)if(ht=ht-_t|0,_n=o[vt+4>>2]|0,Zt=_t>>>0>_n>>>0,vt=Zt?vt+8|0:vt,tt=(Zt<<31>>31)+tt|0,_n=_t-(Zt?_n:0)|0,o[vt>>2]=(o[vt>>2]|0)+_n,Zt=vt+4|0,o[Zt>>2]=(o[Zt>>2]|0)-_n,o[zt>>2]=o[wt>>2],o[zt+4>>2]=vt,o[zt+8>>2]=tt,_t=L2(lo(146,zt|0)|0)|0,(ht|0)==(_t|0)){Vt=3;break e}o[a+16>>2]=0,o[Pt>>2]=0,o[Lt>>2]=0,o[a>>2]=o[a>>2]|32,(tt|0)==2?ot=0:ot=ot-(o[vt+4>>2]|0)|0}else Vt=3;while(0);return(Vt|0)==3&&(_n=o[a+44>>2]|0,o[a+16>>2]=_n+(o[a+48>>2]|0),o[Pt>>2]=_n,o[Lt>>2]=_n),yt=Ht,ot|0}function _D(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0;return vt=yt,yt=yt+32|0,_t=vt,ht=vt+20|0,o[_t>>2]=o[a+60>>2],o[_t+4>>2]=0,o[_t+8>>2]=tt,o[_t+12>>2]=ht,o[_t+16>>2]=ot,(L2(Ur(140,_t|0)|0)|0)<0?(o[ht>>2]=-1,a=-1):a=o[ht>>2]|0,yt=vt,a|0}function L2(a){return a=a|0,a>>>0>4294963200&&(o[(sm()|0)>>2]=0-a,a=-1),a|0}function sm(){return(yD()|0)+64|0}function yD(){return m_()|0}function m_(){return 2084}function xD(a){return a=a|0,a|0}function SD(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0;return vt=yt,yt=yt+32|0,ht=vt,o[a+36>>2]=1,!(o[a>>2]&64|0)&&(o[ht>>2]=o[a+60>>2],o[ht+4>>2]=21523,o[ht+8>>2]=vt+16,Sn(54,ht|0)|0)&&(d[a+75>>0]=-1),ht=Rx(a,tt,ot)|0,yt=vt,ht|0}function bx(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;if(ot=d[a>>0]|0,ht=d[tt>>0]|0,!(ot<<24>>24)||ot<<24>>24!=ht<<24>>24)a=ht;else{do a=a+1|0,tt=tt+1|0,ot=d[a>>0]|0,ht=d[tt>>0]|0;while(!(!(ot<<24>>24)||ot<<24>>24!=ht<<24>>24));a=ht}return(ot&255)-(a&255)|0}function ED(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0;e:do if(!ot)a=0;else{for(;ht=d[a>>0]|0,vt=d[tt>>0]|0,ht<<24>>24==vt<<24>>24;)if(ot=ot+-1|0,ot)a=a+1|0,tt=tt+1|0;else{a=0;break e}a=(ht&255)-(vt&255)|0}while(0);return a|0}function Px(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0,_n=0,dn=0,ln=0;ln=yt,yt=yt+224|0,Vt=ln+120|0,Ht=ln+80|0,_n=ln,dn=ln+136|0,ht=Ht,vt=ht+40|0;do o[ht>>2]=0,ht=ht+4|0;while((ht|0)<(vt|0));return o[Vt>>2]=o[ot>>2],(g_(0,tt,Vt,_n,Ht)|0)<0?ot=-1:((o[a+76>>2]|0)>-1?Zt=wD(a)|0:Zt=0,ot=o[a>>2]|0,zt=ot&32,(d[a+74>>0]|0)<1&&(o[a>>2]=ot&-33),ht=a+48|0,o[ht>>2]|0?ot=g_(a,tt,Vt,_n,Ht)|0:(vt=a+44|0,_t=o[vt>>2]|0,o[vt>>2]=dn,wt=a+28|0,o[wt>>2]=dn,Pt=a+20|0,o[Pt>>2]=dn,o[ht>>2]=80,Lt=a+16|0,o[Lt>>2]=dn+80,ot=g_(a,tt,Vt,_n,Ht)|0,_t&&(F2[o[a+36>>2]&7](a,0,0)|0,ot=o[Pt>>2]|0?ot:-1,o[vt>>2]=_t,o[ht>>2]=0,o[Lt>>2]=0,o[wt>>2]=0,o[Pt>>2]=0)),ht=o[a>>2]|0,o[a>>2]=ht|zt,Zt|0&&TD(a),ot=ht&32|0?-1:ot),yt=ln,ot|0}function g_(a,tt,ot,ht,vt){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0;var _t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0,_n=0,dn=0,ln=0,In=0,Cn=0,Un=0,mn=0,vn=0,pr=0,so=0,Br=0,br=0,Yr=0,ro=0,Dr=0;Dr=yt,yt=yt+64|0,Br=Dr+16|0,br=Dr,pr=Dr+24|0,Yr=Dr+8|0,ro=Dr+20|0,o[Br>>2]=tt,Un=(a|0)!=0,mn=pr+40|0,vn=mn,pr=pr+39|0,so=Yr+4|0,wt=0,_t=0,Vt=0;e:for(;;){do if((_t|0)>-1)if((wt|0)>(2147483647-_t|0)){o[(sm()|0)>>2]=75,_t=-1;break}else{_t=wt+_t|0;break}while(0);if(wt=d[tt>>0]|0,wt<<24>>24)Pt=tt;else{Cn=87;break}t:for(;;){switch(wt<<24>>24){case 37:{wt=Pt,Cn=9;break t}case 0:{wt=Pt;break t}default:}In=Pt+1|0,o[Br>>2]=In,wt=d[In>>0]|0,Pt=In}t:do if((Cn|0)==9)for(;;){if(Cn=0,(d[Pt+1>>0]|0)!=37)break t;if(wt=wt+1|0,Pt=Pt+2|0,o[Br>>2]=Pt,(d[Pt>>0]|0)==37)Cn=9;else break}while(0);if(wt=wt-tt|0,Un&&Zo(a,tt,wt),wt|0){tt=Pt;continue}Lt=Pt+1|0,wt=(d[Lt>>0]|0)+-48|0,wt>>>0<10?(In=(d[Pt+2>>0]|0)==36,ln=In?wt:-1,Vt=In?1:Vt,Lt=In?Pt+3|0:Lt):ln=-1,o[Br>>2]=Lt,wt=d[Lt>>0]|0,Pt=(wt<<24>>24)+-32|0;t:do if(Pt>>>0<32)for(zt=0,Ht=wt;;){if(wt=1<<Pt,!(wt&75913)){wt=Ht;break t}if(zt=wt|zt,Lt=Lt+1|0,o[Br>>2]=Lt,wt=d[Lt>>0]|0,Pt=(wt<<24>>24)+-32|0,Pt>>>0>=32)break;Ht=wt}else zt=0;while(0);if(wt<<24>>24==42){if(Pt=Lt+1|0,wt=(d[Pt>>0]|0)+-48|0,wt>>>0<10&&(d[Lt+2>>0]|0)==36)o[vt+(wt<<2)>>2]=10,wt=o[ht+((d[Pt>>0]|0)+-48<<3)>>2]|0,Vt=1,Lt=Lt+3|0;else{if(Vt|0){_t=-1;break}Un?(Vt=(o[ot>>2]|0)+(4-1)&~(4-1),wt=o[Vt>>2]|0,o[ot>>2]=Vt+4,Vt=0,Lt=Pt):(wt=0,Vt=0,Lt=Pt)}o[Br>>2]=Lt,In=(wt|0)<0,wt=In?0-wt|0:wt,zt=In?zt|8192:zt}else{if(wt=Ix(Br)|0,(wt|0)<0){_t=-1;break}Lt=o[Br>>2]|0}do if((d[Lt>>0]|0)==46){if((d[Lt+1>>0]|0)!=42){o[Br>>2]=Lt+1,Pt=Ix(Br)|0,Lt=o[Br>>2]|0;break}if(Ht=Lt+2|0,Pt=(d[Ht>>0]|0)+-48|0,Pt>>>0<10&&(d[Lt+3>>0]|0)==36){o[vt+(Pt<<2)>>2]=10,Pt=o[ht+((d[Ht>>0]|0)+-48<<3)>>2]|0,Lt=Lt+4|0,o[Br>>2]=Lt;break}if(Vt|0){_t=-1;break e}Un?(In=(o[ot>>2]|0)+(4-1)&~(4-1),Pt=o[In>>2]|0,o[ot>>2]=In+4):Pt=0,o[Br>>2]=Ht,Lt=Ht}else Pt=-1;while(0);for(dn=0;;){if(((d[Lt>>0]|0)+-65|0)>>>0>57){_t=-1;break e}if(In=Lt+1|0,o[Br>>2]=In,Ht=d[(d[Lt>>0]|0)+-65+(5178+(dn*58|0))>>0]|0,Zt=Ht&255,(Zt+-1|0)>>>0<8)dn=Zt,Lt=In;else break}if(!(Ht<<24>>24)){_t=-1;break}_n=(ln|0)>-1;do if(Ht<<24>>24==19)if(_n){_t=-1;break e}else Cn=49;else{if(_n){o[vt+(ln<<2)>>2]=Zt,_n=ht+(ln<<3)|0,ln=o[_n+4>>2]|0,Cn=br,o[Cn>>2]=o[_n>>2],o[Cn+4>>2]=ln,Cn=49;break}if(!Un){_t=0;break e}kx(br,Zt,ot)}while(0);if((Cn|0)==49&&(Cn=0,!Un)){wt=0,tt=In;continue}Lt=d[Lt>>0]|0,Lt=(dn|0)!=0&(Lt&15|0)==3?Lt&-33:Lt,_n=zt&-65537,ln=zt&8192|0?_n:zt;t:do switch(Lt|0){case 110:switch((dn&255)<<24>>24){case 0:{o[o[br>>2]>>2]=_t,wt=0,tt=In;continue e}case 1:{o[o[br>>2]>>2]=_t,wt=0,tt=In;continue e}case 2:{wt=o[br>>2]|0,o[wt>>2]=_t,o[wt+4>>2]=((_t|0)<0)<<31>>31,wt=0,tt=In;continue e}case 3:{nt[o[br>>2]>>1]=_t,wt=0,tt=In;continue e}case 4:{d[o[br>>2]>>0]=_t,wt=0,tt=In;continue e}case 6:{o[o[br>>2]>>2]=_t,wt=0,tt=In;continue e}case 7:{wt=o[br>>2]|0,o[wt>>2]=_t,o[wt+4>>2]=((_t|0)<0)<<31>>31,wt=0,tt=In;continue e}default:{wt=0,tt=In;continue e}}case 112:{Lt=120,Pt=Pt>>>0>8?Pt:8,tt=ln|8,Cn=61;break}case 88:case 120:{tt=ln,Cn=61;break}case 111:{Lt=br,tt=o[Lt>>2]|0,Lt=o[Lt+4>>2]|0,Zt=AD(tt,Lt,mn)|0,_n=vn-Zt|0,zt=0,Ht=5642,Pt=(ln&8|0)==0|(Pt|0)>(_n|0)?Pt:_n+1|0,_n=ln,Cn=67;break}case 105:case 100:if(Lt=br,tt=o[Lt>>2]|0,Lt=o[Lt+4>>2]|0,(Lt|0)<0){tt=N2(0,0,tt|0,Lt|0)|0,Lt=sn,zt=br,o[zt>>2]=tt,o[zt+4>>2]=Lt,zt=1,Ht=5642,Cn=66;break t}else{zt=(ln&2049|0)!=0&1,Ht=ln&2048|0?5643:ln&1|0?5644:5642,Cn=66;break t}case 117:{Lt=br,zt=0,Ht=5642,tt=o[Lt>>2]|0,Lt=o[Lt+4>>2]|0,Cn=66;break}case 99:{d[pr>>0]=o[br>>2],tt=pr,zt=0,Ht=5642,Zt=mn,Lt=1,Pt=_n;break}case 109:{Lt=CD(o[(sm()|0)>>2]|0)|0,Cn=71;break}case 115:{Lt=o[br>>2]|0,Lt=Lt|0?Lt:5652,Cn=71;break}case 67:{o[Yr>>2]=o[br>>2],o[so>>2]=0,o[br>>2]=Yr,Zt=-1,Lt=Yr,Cn=75;break}case 83:{tt=o[br>>2]|0,Pt?(Zt=Pt,Lt=tt,Cn=75):(as(a,32,wt,0,ln),tt=0,Cn=84);break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{wt=bD(a,+Tt[br>>3],wt,Pt,ln,Lt)|0,tt=In;continue e}default:zt=0,Ht=5642,Zt=mn,Lt=Pt,Pt=ln}while(0);t:do if((Cn|0)==61)ln=br,dn=o[ln>>2]|0,ln=o[ln+4>>2]|0,Zt=MD(dn,ln,mn,Lt&32)|0,Ht=(tt&8|0)==0|(dn|0)==0&(ln|0)==0,zt=Ht?0:2,Ht=Ht?5642:5642+(Lt>>4)|0,_n=tt,tt=dn,Lt=ln,Cn=67;else if((Cn|0)==66)Zt=am(tt,Lt,mn)|0,_n=ln,Cn=67;else if((Cn|0)==71)Cn=0,ln=RD(Lt,0,Pt)|0,dn=(ln|0)==0,tt=Lt,zt=0,Ht=5642,Zt=dn?Lt+Pt|0:ln,Lt=dn?Pt:ln-Lt|0,Pt=_n;else if((Cn|0)==75){for(Cn=0,Ht=Lt,tt=0,Pt=0;zt=o[Ht>>2]|0,!(!zt||(Pt=Lx(ro,zt)|0,(Pt|0)<0|Pt>>>0>(Zt-tt|0)>>>0));)if(tt=Pt+tt|0,Zt>>>0>tt>>>0)Ht=Ht+4|0;else break;if((Pt|0)<0){_t=-1;break e}if(as(a,32,wt,tt,ln),!tt)tt=0,Cn=84;else for(zt=0;;){if(Pt=o[Lt>>2]|0,!Pt){Cn=84;break t}if(Pt=Lx(ro,Pt)|0,zt=Pt+zt|0,(zt|0)>(tt|0)){Cn=84;break t}if(Zo(a,ro,Pt),zt>>>0>=tt>>>0){Cn=84;break}else Lt=Lt+4|0}}while(0);if((Cn|0)==67)Cn=0,Lt=(tt|0)!=0|(Lt|0)!=0,ln=(Pt|0)!=0|Lt,Lt=((Lt^1)&1)+(vn-Zt)|0,tt=ln?Zt:mn,Zt=mn,Lt=ln?(Pt|0)>(Lt|0)?Pt:Lt:Pt,Pt=(Pt|0)>-1?_n&-65537:_n;else if((Cn|0)==84){Cn=0,as(a,32,wt,tt,ln^8192),wt=(wt|0)>(tt|0)?wt:tt,tt=In;continue}dn=Zt-tt|0,_n=(Lt|0)<(dn|0)?dn:Lt,ln=_n+zt|0,wt=(wt|0)<(ln|0)?ln:wt,as(a,32,wt,ln,Pt),Zo(a,Ht,zt),as(a,48,wt,ln,Pt^65536),as(a,48,_n,dn,0),Zo(a,tt,dn),as(a,32,wt,ln,Pt^8192),tt=In}e:do if((Cn|0)==87&&!a)if(!Vt)_t=0;else{for(_t=1;tt=o[vt+(_t<<2)>>2]|0,!!tt;)if(kx(ht+(_t<<3)|0,tt,ot),_t=_t+1|0,(_t|0)>=10){_t=1;break e}for(;;){if(o[vt+(_t<<2)>>2]|0){_t=-1;break e}if(_t=_t+1|0,(_t|0)>=10){_t=1;break}}}while(0);return yt=Dr,_t|0}function wD(a){return a=a|0,0}function TD(a){a=a|0}function Zo(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,o[a>>2]&32||BD(tt,ot,a)|0}function Ix(a){a=a|0;var tt=0,ot=0,ht=0;if(ot=o[a>>2]|0,ht=(d[ot>>0]|0)+-48|0,ht>>>0<10){tt=0;do tt=ht+(tt*10|0)|0,ot=ot+1|0,o[a>>2]=ot,ht=(d[ot>>0]|0)+-48|0;while(ht>>>0<10)}else tt=0;return tt|0}function kx(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0;e:do if(tt>>>0<=20)do switch(tt|0){case 9:{ht=(o[ot>>2]|0)+(4-1)&~(4-1),tt=o[ht>>2]|0,o[ot>>2]=ht+4,o[a>>2]=tt;break e}case 10:{ht=(o[ot>>2]|0)+(4-1)&~(4-1),tt=o[ht>>2]|0,o[ot>>2]=ht+4,ht=a,o[ht>>2]=tt,o[ht+4>>2]=((tt|0)<0)<<31>>31;break e}case 11:{ht=(o[ot>>2]|0)+(4-1)&~(4-1),tt=o[ht>>2]|0,o[ot>>2]=ht+4,ht=a,o[ht>>2]=tt,o[ht+4>>2]=0;break e}case 12:{ht=(o[ot>>2]|0)+(8-1)&~(8-1),tt=ht,vt=o[tt>>2]|0,tt=o[tt+4>>2]|0,o[ot>>2]=ht+8,ht=a,o[ht>>2]=vt,o[ht+4>>2]=tt;break e}case 13:{vt=(o[ot>>2]|0)+(4-1)&~(4-1),ht=o[vt>>2]|0,o[ot>>2]=vt+4,ht=(ht&65535)<<16>>16,vt=a,o[vt>>2]=ht,o[vt+4>>2]=((ht|0)<0)<<31>>31;break e}case 14:{vt=(o[ot>>2]|0)+(4-1)&~(4-1),ht=o[vt>>2]|0,o[ot>>2]=vt+4,vt=a,o[vt>>2]=ht&65535,o[vt+4>>2]=0;break e}case 15:{vt=(o[ot>>2]|0)+(4-1)&~(4-1),ht=o[vt>>2]|0,o[ot>>2]=vt+4,ht=(ht&255)<<24>>24,vt=a,o[vt>>2]=ht,o[vt+4>>2]=((ht|0)<0)<<31>>31;break e}case 16:{vt=(o[ot>>2]|0)+(4-1)&~(4-1),ht=o[vt>>2]|0,o[ot>>2]=vt+4,vt=a,o[vt>>2]=ht&255,o[vt+4>>2]=0;break e}case 17:{vt=(o[ot>>2]|0)+(8-1)&~(8-1),_t=+Tt[vt>>3],o[ot>>2]=vt+8,Tt[a>>3]=_t;break e}case 18:{vt=(o[ot>>2]|0)+(8-1)&~(8-1),_t=+Tt[vt>>3],o[ot>>2]=vt+8,Tt[a>>3]=_t;break e}default:break e}while(0);while(0)}function MD(a,tt,ot,ht){if(a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,!((a|0)==0&(tt|0)==0))do ot=ot+-1|0,d[ot>>0]=ft[5694+(a&15)>>0]|0|ht,a=O2(a|0,tt|0,4)|0,tt=sn;while(!((a|0)==0&(tt|0)==0));return ot|0}function AD(a,tt,ot){if(a=a|0,tt=tt|0,ot=ot|0,!((a|0)==0&(tt|0)==0))do ot=ot+-1|0,d[ot>>0]=a&7|48,a=O2(a|0,tt|0,3)|0,tt=sn;while(!((a|0)==0&(tt|0)==0));return ot|0}function am(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;if(tt>>>0>0|(tt|0)==0&a>>>0>4294967295){for(;ht=x_(a|0,tt|0,10,0)|0,ot=ot+-1|0,d[ot>>0]=ht&255|48,ht=a,a=y_(a|0,tt|0,10,0)|0,tt>>>0>9|(tt|0)==9&ht>>>0>4294967295;)tt=sn;tt=a}else tt=a;if(tt)for(;ot=ot+-1|0,d[ot>>0]=(tt>>>0)%10|0|48,!(tt>>>0<10);)tt=(tt>>>0)/10|0;return ot|0}function CD(a){return a=a|0,ND(a,o[(LD()|0)+188>>2]|0)|0}function RD(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;_t=tt&255,ht=(ot|0)!=0;e:do if(ht&(a&3|0)!=0)for(vt=tt&255;;){if((d[a>>0]|0)==vt<<24>>24){wt=6;break e}if(a=a+1|0,ot=ot+-1|0,ht=(ot|0)!=0,!(ht&(a&3|0)!=0)){wt=5;break}}else wt=5;while(0);(wt|0)==5&&(ht?wt=6:ot=0);e:do if((wt|0)==6&&(vt=tt&255,(d[a>>0]|0)!=vt<<24>>24)){ht=gr(_t,16843009)|0;t:do if(ot>>>0>3){for(;_t=o[a>>2]^ht,!((_t&-2139062144^-2139062144)&_t+-16843009|0);)if(a=a+4|0,ot=ot+-4|0,ot>>>0<=3){wt=11;break t}}else wt=11;while(0);if((wt|0)==11&&!ot){ot=0;break}for(;;){if((d[a>>0]|0)==vt<<24>>24)break e;if(a=a+1|0,ot=ot+-1|0,!ot){ot=0;break}}}while(0);return(ot|0?a:0)|0}function as(a,tt,ot,ht,vt){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0;var _t=0,wt=0;if(wt=yt,yt=yt+256|0,_t=wt,(ot|0)>(ht|0)&(vt&73728|0)==0){if(vt=ot-ht|0,um(_t|0,tt|0,(vt>>>0<256?vt:256)|0)|0,vt>>>0>255){tt=ot-ht|0;do Zo(a,_t,256),vt=vt+-256|0;while(vt>>>0>255);vt=tt&255}Zo(a,_t,vt)}yt=wt}function Lx(a,tt){return a=a|0,tt=tt|0,a?a=ID(a,tt,0)|0:a=0,a|0}function bD(a,tt,ot,ht,vt,_t){a=a|0,tt=+tt,ot=ot|0,ht=ht|0,vt=vt|0,_t=_t|0;var wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0,_n=0,dn=0,ln=0,In=0,Cn=0,Un=0,mn=0,vn=0,pr=0,so=0,Br=0,br=0,Yr=0,ro=0,Dr=0,wo=0;wo=yt,yt=yt+560|0,Lt=wo+8|0,In=wo,Dr=wo+524|0,ro=Dr,zt=wo+512|0,o[In>>2]=0,Yr=zt+12|0,Nx(tt)|0,(sn|0)<0?(tt=-tt,Br=1,so=5659):(Br=(vt&2049|0)!=0&1,so=vt&2048|0?5662:vt&1|0?5665:5660),Nx(tt)|0,br=sn&2146435072;do if(br>>>0<2146435072|(br|0)==2146435072&0<0){if(_n=+PD(tt,In)*2,wt=_n!=0,wt&&(o[In>>2]=(o[In>>2]|0)+-1),Un=_t|32,(Un|0)==97){dn=_t&32,Zt=dn|0?so+9|0:so,Ht=Br|2,wt=12-ht|0;do if(ht>>>0>11|(wt|0)==0)tt=_n;else{tt=8;do wt=wt+-1|0,tt=tt*16;while(wt|0);if((d[Zt>>0]|0)==45){tt=-(tt+(-_n-tt));break}else{tt=_n+tt-tt;break}}while(0);Pt=o[In>>2]|0,wt=(Pt|0)<0?0-Pt|0:Pt,wt=am(wt,((wt|0)<0)<<31>>31,Yr)|0,(wt|0)==(Yr|0)&&(wt=zt+11|0,d[wt>>0]=48),d[wt+-1>>0]=(Pt>>31&2)+43,Vt=wt+-2|0,d[Vt>>0]=_t+15,zt=(ht|0)<1,Lt=(vt&8|0)==0,wt=Dr;do br=~~tt,Pt=wt+1|0,d[wt>>0]=ft[5694+br>>0]|dn,tt=(tt-+(br|0))*16,(Pt-ro|0)==1&&!(Lt&(zt&tt==0))?(d[Pt>>0]=46,wt=wt+2|0):wt=Pt;while(tt!=0);br=wt-ro|0,ro=Yr-Vt|0,Yr=(ht|0)!=0&(br+-2|0)<(ht|0)?ht+2|0:br,wt=ro+Ht+Yr|0,as(a,32,ot,wt,vt),Zo(a,Zt,Ht),as(a,48,ot,wt,vt^65536),Zo(a,Dr,br),as(a,48,Yr-br|0,0,0),Zo(a,Vt,ro),as(a,32,ot,wt,vt^8192);break}Pt=(ht|0)<0?6:ht,wt?(wt=(o[In>>2]|0)+-28|0,o[In>>2]=wt,tt=_n*268435456):(tt=_n,wt=o[In>>2]|0),br=(wt|0)<0?Lt:Lt+288|0,Lt=br;do vn=~~tt>>>0,o[Lt>>2]=vn,Lt=Lt+4|0,tt=(tt-+(vn>>>0))*1e9;while(tt!=0);if((wt|0)>0)for(zt=br,Ht=Lt;;){if(Vt=(wt|0)<29?wt:29,wt=Ht+-4|0,wt>>>0>=zt>>>0){Lt=0;do mn=Vx(o[wt>>2]|0,0,Vt|0)|0,mn=__(mn|0,sn|0,Lt|0,0)|0,vn=sn,Cn=x_(mn|0,vn|0,1e9,0)|0,o[wt>>2]=Cn,Lt=y_(mn|0,vn|0,1e9,0)|0,wt=wt+-4|0;while(wt>>>0>=zt>>>0);Lt&&(zt=zt+-4|0,o[zt>>2]=Lt)}for(Lt=Ht;!(Lt>>>0<=zt>>>0);)if(wt=Lt+-4|0,!(o[wt>>2]|0))Lt=wt;else break;if(wt=(o[In>>2]|0)-Vt|0,o[In>>2]=wt,(wt|0)>0)Ht=Lt;else break}else zt=br;if((wt|0)<0){ht=((Pt+25|0)/9|0)+1|0,ln=(Un|0)==102;do{if(dn=0-wt|0,dn=(dn|0)<9?dn:9,zt>>>0<Lt>>>0){Vt=(1<<dn)+-1|0,Ht=1e9>>>dn,Zt=0,wt=zt;do vn=o[wt>>2]|0,o[wt>>2]=(vn>>>dn)+Zt,Zt=gr(vn&Vt,Ht)|0,wt=wt+4|0;while(wt>>>0<Lt>>>0);wt=o[zt>>2]|0?zt:zt+4|0,Zt?(o[Lt>>2]=Zt,zt=wt,wt=Lt+4|0):(zt=wt,wt=Lt)}else zt=o[zt>>2]|0?zt:zt+4|0,wt=Lt;Lt=ln?br:zt,Lt=(wt-Lt>>2|0)>(ht|0)?Lt+(ht<<2)|0:wt,wt=(o[In>>2]|0)+dn|0,o[In>>2]=wt}while((wt|0)<0);wt=zt,ht=Lt}else wt=zt,ht=Lt;if(vn=br,wt>>>0<ht>>>0){if(Lt=(vn-wt>>2)*9|0,Vt=o[wt>>2]|0,Vt>>>0>=10){zt=10;do zt=zt*10|0,Lt=Lt+1|0;while(Vt>>>0>=zt>>>0)}}else Lt=0;if(ln=(Un|0)==103,Cn=(Pt|0)!=0,zt=Pt-((Un|0)!=102?Lt:0)+((Cn&ln)<<31>>31)|0,(zt|0)<(((ht-vn>>2)*9|0)+-9|0)){if(zt=zt+9216|0,dn=br+4+(((zt|0)/9|0)+-1024<<2)|0,zt=((zt|0)%9|0)+1|0,(zt|0)<9){Vt=10;do Vt=Vt*10|0,zt=zt+1|0;while((zt|0)!=9)}else Vt=10;if(Ht=o[dn>>2]|0,Zt=(Ht>>>0)%(Vt>>>0)|0,zt=(dn+4|0)==(ht|0),zt&(Zt|0)==0)zt=dn;else if(_n=((Ht>>>0)/(Vt>>>0)|0)&1|0?9007199254740994:9007199254740992,mn=(Vt|0)/2|0,tt=Zt>>>0<mn>>>0?.5:zt&(Zt|0)==(mn|0)?1:1.5,Br&&(mn=(d[so>>0]|0)==45,tt=mn?-tt:tt,_n=mn?-_n:_n),zt=Ht-Zt|0,o[dn>>2]=zt,_n+tt!=_n){if(mn=zt+Vt|0,o[dn>>2]=mn,mn>>>0>999999999)for(Lt=dn;zt=Lt+-4|0,o[Lt>>2]=0,zt>>>0<wt>>>0&&(wt=wt+-4|0,o[wt>>2]=0),mn=(o[zt>>2]|0)+1|0,o[zt>>2]=mn,mn>>>0>999999999;)Lt=zt;else zt=dn;if(Lt=(vn-wt>>2)*9|0,Ht=o[wt>>2]|0,Ht>>>0>=10){Vt=10;do Vt=Vt*10|0,Lt=Lt+1|0;while(Ht>>>0>=Vt>>>0)}}else zt=dn;zt=zt+4|0,zt=ht>>>0>zt>>>0?zt:ht,mn=wt}else zt=ht,mn=wt;for(Un=zt;;){if(Un>>>0<=mn>>>0){In=0;break}if(wt=Un+-4|0,!(o[wt>>2]|0))Un=wt;else{In=1;break}}ht=0-Lt|0;do if(ln)if(wt=((Cn^1)&1)+Pt|0,(wt|0)>(Lt|0)&(Lt|0)>-5?(Vt=_t+-1|0,Pt=wt+-1-Lt|0):(Vt=_t+-2|0,Pt=wt+-1|0),wt=vt&8,wt)dn=wt;else{if(In&&(pr=o[Un+-4>>2]|0,(pr|0)!=0))if((pr>>>0)%10|0)zt=0;else{zt=0,wt=10;do wt=wt*10|0,zt=zt+1|0;while(!((pr>>>0)%(wt>>>0)|0|0))}else zt=9;if(wt=((Un-vn>>2)*9|0)+-9|0,(Vt|32|0)==102){dn=wt-zt|0,dn=(dn|0)>0?dn:0,Pt=(Pt|0)<(dn|0)?Pt:dn,dn=0;break}else{dn=wt+Lt-zt|0,dn=(dn|0)>0?dn:0,Pt=(Pt|0)<(dn|0)?Pt:dn,dn=0;break}}else Vt=_t,dn=vt&8;while(0);if(ln=Pt|dn,Ht=(ln|0)!=0&1,Zt=(Vt|32|0)==102,Zt)Cn=0,wt=(Lt|0)>0?Lt:0;else{if(wt=(Lt|0)<0?ht:Lt,wt=am(wt,((wt|0)<0)<<31>>31,Yr)|0,zt=Yr,(zt-wt|0)<2)do wt=wt+-1|0,d[wt>>0]=48;while((zt-wt|0)<2);d[wt+-1>>0]=(Lt>>31&2)+43,wt=wt+-2|0,d[wt>>0]=Vt,Cn=wt,wt=zt-wt|0}if(wt=Br+1+Pt+Ht+wt|0,as(a,32,ot,wt,vt),Zo(a,so,Br),as(a,48,ot,wt,vt^65536),Zt){Vt=mn>>>0>br>>>0?br:mn,dn=Dr+9|0,Ht=dn,Zt=Dr+8|0,zt=Vt;do{if(Lt=am(o[zt>>2]|0,0,dn)|0,(zt|0)==(Vt|0))(Lt|0)==(dn|0)&&(d[Zt>>0]=48,Lt=Zt);else if(Lt>>>0>Dr>>>0){um(Dr|0,48,Lt-ro|0)|0;do Lt=Lt+-1|0;while(Lt>>>0>Dr>>>0)}Zo(a,Lt,Ht-Lt|0),zt=zt+4|0}while(zt>>>0<=br>>>0);if(ln|0&&Zo(a,5710,1),zt>>>0<Un>>>0&(Pt|0)>0)for(;;){if(Lt=am(o[zt>>2]|0,0,dn)|0,Lt>>>0>Dr>>>0){um(Dr|0,48,Lt-ro|0)|0;do Lt=Lt+-1|0;while(Lt>>>0>Dr>>>0)}if(Zo(a,Lt,(Pt|0)<9?Pt:9),zt=zt+4|0,Lt=Pt+-9|0,zt>>>0<Un>>>0&(Pt|0)>9)Pt=Lt;else{Pt=Lt;break}}as(a,48,Pt+9|0,9,0)}else{if(ln=In?Un:mn+4|0,(Pt|0)>-1){In=Dr+9|0,dn=(dn|0)==0,ht=In,Ht=0-ro|0,Zt=Dr+8|0,Vt=mn;do{Lt=am(o[Vt>>2]|0,0,In)|0,(Lt|0)==(In|0)&&(d[Zt>>0]=48,Lt=Zt);do if((Vt|0)==(mn|0)){if(zt=Lt+1|0,Zo(a,Lt,1),dn&(Pt|0)<1){Lt=zt;break}Zo(a,5710,1),Lt=zt}else{if(Lt>>>0<=Dr>>>0)break;um(Dr|0,48,Lt+Ht|0)|0;do Lt=Lt+-1|0;while(Lt>>>0>Dr>>>0)}while(0);ro=ht-Lt|0,Zo(a,Lt,(Pt|0)>(ro|0)?ro:Pt),Pt=Pt-ro|0,Vt=Vt+4|0}while(Vt>>>0<ln>>>0&(Pt|0)>-1)}as(a,48,Pt+18|0,18,0),Zo(a,Cn,Yr-Cn|0)}as(a,32,ot,wt,vt^8192)}else Dr=(_t&32|0)!=0,wt=Br+3|0,as(a,32,ot,wt,vt&-65537),Zo(a,so,Br),Zo(a,tt!=tt|!1?Dr?5686:5690:Dr?5678:5682,3),as(a,32,ot,wt,vt^8192);while(0);return yt=wo,((wt|0)<(ot|0)?ot:wt)|0}function Nx(a){a=+a;var tt=0;return Tt[Ct>>3]=a,tt=o[Ct>>2]|0,sn=o[Ct+4>>2]|0,tt|0}function PD(a,tt){return a=+a,tt=tt|0,+ +Ox(a,tt)}function Ox(a,tt){a=+a,tt=tt|0;var ot=0,ht=0,vt=0;switch(Tt[Ct>>3]=a,ot=o[Ct>>2]|0,ht=o[Ct+4>>2]|0,vt=O2(ot|0,ht|0,52)|0,vt&2047){case 0:{a!=0?(a=+Ox(a*18446744073709552e3,tt),ot=(o[tt>>2]|0)+-64|0):ot=0,o[tt>>2]=ot;break}case 2047:break;default:o[tt>>2]=(vt&2047)+-1022,o[Ct>>2]=ot,o[Ct+4>>2]=ht&-2146435073|1071644672,a=+Tt[Ct>>3]}return+a}function ID(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;do if(a){if(tt>>>0<128){d[a>>0]=tt,a=1;break}if(!(o[o[(kD()|0)+188>>2]>>2]|0))if((tt&-128|0)==57216){d[a>>0]=tt,a=1;break}else{o[(sm()|0)>>2]=84,a=-1;break}if(tt>>>0<2048){d[a>>0]=tt>>>6|192,d[a+1>>0]=tt&63|128,a=2;break}if(tt>>>0<55296|(tt&-8192|0)==57344){d[a>>0]=tt>>>12|224,d[a+1>>0]=tt>>>6&63|128,d[a+2>>0]=tt&63|128,a=3;break}if((tt+-65536|0)>>>0<1048576){d[a>>0]=tt>>>18|240,d[a+1>>0]=tt>>>12&63|128,d[a+2>>0]=tt>>>6&63|128,d[a+3>>0]=tt&63|128,a=4;break}else{o[(sm()|0)>>2]=84,a=-1;break}}else a=1;while(0);return a|0}function kD(){return m_()|0}function LD(){return m_()|0}function ND(a,tt){a=a|0,tt=tt|0;var ot=0,ht=0;for(ht=0;;){if((ft[5712+ht>>0]|0)==(a|0)){a=2;break}if(ot=ht+1|0,(ot|0)==87){ot=5800,ht=87,a=5;break}else ht=ot}if((a|0)==2&&(ht?(ot=5800,a=5):ot=5800),(a|0)==5)for(;;){do a=ot,ot=ot+1|0;while(d[a>>0]|0);if(ht=ht+-1|0,ht)a=5;else break}return OD(ot,o[tt+20>>2]|0)|0}function OD(a,tt){return a=a|0,tt=tt|0,DD(a,tt)|0}function DD(a,tt){return a=a|0,tt=tt|0,tt?tt=FD(o[tt>>2]|0,o[tt+4>>2]|0,a)|0:tt=0,(tt|0?tt:a)|0}function FD(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0;Zt=(o[a>>2]|0)+1794895138|0,_t=hp(o[a+8>>2]|0,Zt)|0,ht=hp(o[a+12>>2]|0,Zt)|0,vt=hp(o[a+16>>2]|0,Zt)|0;e:do if(_t>>>0<tt>>>2>>>0&&(Ht=tt-(_t<<2)|0,ht>>>0<Ht>>>0&vt>>>0<Ht>>>0)&&!((vt|ht)&3|0)){for(Ht=ht>>>2,Vt=vt>>>2,zt=0;;){if(Pt=_t>>>1,Lt=zt+Pt|0,wt=Lt<<1,vt=wt+Ht|0,ht=hp(o[a+(vt<<2)>>2]|0,Zt)|0,vt=hp(o[a+(vt+1<<2)>>2]|0,Zt)|0,!(vt>>>0<tt>>>0&ht>>>0<(tt-vt|0)>>>0)){ht=0;break e}if(d[a+(vt+ht)>>0]|0){ht=0;break e}if(ht=bx(ot,a+vt|0)|0,!ht)break;if(ht=(ht|0)<0,(_t|0)==1){ht=0;break e}else zt=ht?zt:Lt,_t=ht?Pt:_t-Pt|0}ht=wt+Vt|0,vt=hp(o[a+(ht<<2)>>2]|0,Zt)|0,ht=hp(o[a+(ht+1<<2)>>2]|0,Zt)|0,ht>>>0<tt>>>0&vt>>>0<(tt-ht|0)>>>0?ht=d[a+(ht+vt)>>0]|0?0:a+ht|0:ht=0}else ht=0;while(0);return ht|0}function hp(a,tt){a=a|0,tt=tt|0;var ot=0;return ot=Gx(a|0)|0,(tt|0?ot:a)|0}function BD(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0,Pt=0;ht=ot+16|0,vt=o[ht>>2]|0,vt?_t=5:UD(ot)|0?ht=0:(vt=o[ht>>2]|0,_t=5);e:do if((_t|0)==5){if(Pt=ot+20|0,wt=o[Pt>>2]|0,ht=wt,(vt-wt|0)>>>0<tt>>>0){ht=F2[o[ot+36>>2]&7](ot,a,tt)|0;break}t:do if((d[ot+75>>0]|0)>-1){for(wt=tt;;){if(!wt){_t=0,vt=a;break t}if(vt=wt+-1|0,(d[a+vt>>0]|0)==10)break;wt=vt}if(ht=F2[o[ot+36>>2]&7](ot,a,wt)|0,ht>>>0<wt>>>0)break e;_t=wt,vt=a+wt|0,tt=tt-wt|0,ht=o[Pt>>2]|0}else _t=0,vt=a;while(0);Kr(ht|0,vt|0,tt|0)|0,o[Pt>>2]=(o[Pt>>2]|0)+tt,ht=_t+tt|0}while(0);return ht|0}function UD(a){a=a|0;var tt=0,ot=0;return tt=a+74|0,ot=d[tt>>0]|0,d[tt>>0]=ot+255|ot,tt=o[a>>2]|0,tt&8?(o[a>>2]=tt|32,a=-1):(o[a+8>>2]=0,o[a+4>>2]=0,ot=o[a+44>>2]|0,o[a+28>>2]=ot,o[a+20>>2]=ot,o[a+16>>2]=ot+(o[a+48>>2]|0),a=0),a|0}function bo(a,tt){a=It(a),tt=It(tt);var ot=0,ht=0;ot=Dx(a)|0;do if((ot&2147483647)>>>0<=2139095040){if(ht=Dx(tt)|0,(ht&2147483647)>>>0<=2139095040)if((ht^ot|0)<0){a=(ot|0)<0?tt:a;break}else{a=a<tt?tt:a;break}}else a=tt;while(0);return It(a)}function Dx(a){return a=It(a),St[Ct>>2]=a,o[Ct>>2]|0|0}function pp(a,tt){a=It(a),tt=It(tt);var ot=0,ht=0;ot=Fx(a)|0;do if((ot&2147483647)>>>0<=2139095040){if(ht=Fx(tt)|0,(ht&2147483647)>>>0<=2139095040)if((ht^ot|0)<0){a=(ot|0)<0?a:tt;break}else{a=a<tt?a:tt;break}}else a=tt;while(0);return It(a)}function Fx(a){return a=It(a),St[Ct>>2]=a,o[Ct>>2]|0|0}function v_(a,tt){a=It(a),tt=It(tt);var ot=0,ht=0,vt=0,_t=0,wt=0,Pt=0,Lt=0,zt=0;_t=(St[Ct>>2]=a,o[Ct>>2]|0),Pt=(St[Ct>>2]=tt,o[Ct>>2]|0),ot=_t>>>23&255,wt=Pt>>>23&255,Lt=_t&-2147483648,vt=Pt<<1;e:do if(vt|0&&!((ot|0)==255|((VD(tt)|0)&2147483647)>>>0>2139095040)){if(ht=_t<<1,ht>>>0<=vt>>>0)return tt=It(a*It(0)),It((ht|0)==(vt|0)?tt:a);if(ot)ht=_t&8388607|8388608;else{if(ot=_t<<9,(ot|0)>-1){ht=ot,ot=0;do ot=ot+-1|0,ht=ht<<1;while((ht|0)>-1)}else ot=0;ht=_t<<1-ot}if(wt)Pt=Pt&8388607|8388608;else{if(_t=Pt<<9,(_t|0)>-1){vt=0;do vt=vt+-1|0,_t=_t<<1;while((_t|0)>-1)}else vt=0;wt=vt,Pt=Pt<<1-vt}vt=ht-Pt|0,_t=(vt|0)>-1;t:do if((ot|0)>(wt|0)){for(;;){if(_t)if(vt)ht=vt;else break;if(ht=ht<<1,ot=ot+-1|0,vt=ht-Pt|0,_t=(vt|0)>-1,(ot|0)<=(wt|0))break t}tt=It(a*It(0));break e}while(0);if(_t)if(vt)ht=vt;else{tt=It(a*It(0));break}if(ht>>>0<8388608)do ht=ht<<1,ot=ot+-1|0;while(ht>>>0<8388608);(ot|0)>0?ot=ht+-8388608|ot<<23:ot=ht>>>(1-ot|0),tt=(o[Ct>>2]=ot|Lt,It(St[Ct>>2]))}else zt=3;while(0);return(zt|0)==3&&(tt=It(a*tt),tt=It(tt/tt)),It(tt)}function VD(a){return a=It(a),St[Ct>>2]=a,o[Ct>>2]|0|0}function zD(a,tt){return a=a|0,tt=tt|0,Px(o[582]|0,a,tt)|0}function po(a){a=a|0,eo()}function lm(a){a=a|0}function $D(a,tt){return a=a|0,tt=tt|0,0}function GD(a){return a=a|0,(Bx(a+4|0)|0)==-1?(Zu[o[(o[a>>2]|0)+8>>2]&127](a),a=1):a=0,a|0}function Bx(a){a=a|0;var tt=0;return tt=o[a>>2]|0,o[a>>2]=tt+-1,tt+-1|0}function D0(a){a=a|0,GD(a)|0&&HD(a)}function HD(a){a=a|0;var tt=0;tt=a+8|0,o[tt>>2]|0&&(Bx(tt)|0)!=-1||Zu[o[(o[a>>2]|0)+16>>2]&127](a)}function Ar(a){a=a|0;var tt=0;for(tt=a|0?a:1;a=I2(tt)|0,!(a|0);){if(a=jD()|0,!a){a=0;break}Jx[a&0]()}return a|0}function Ux(a){return a=a|0,Ar(a)|0}function qn(a){a=a|0,k2(a)}function WD(a){a=a|0,(d[a+11>>0]|0)<0&&qn(o[a>>2]|0)}function jD(){var a=0;return a=o[2923]|0,o[2923]=a+0,a|0}function qD(){}function N2(a,tt,ot,ht){return a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,ht=tt-ht-(ot>>>0>a>>>0|0)>>>0,sn=ht,a-ot>>>0|0|0}function __(a,tt,ot,ht){return a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,ot=a+ot>>>0,sn=tt+ht+(ot>>>0<a>>>0|0)>>>0,ot|0|0}function um(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0,wt=0;if(_t=a+ot|0,tt=tt&255,(ot|0)>=67){for(;a&3;)d[a>>0]=tt,a=a+1|0;for(ht=_t&-4|0,vt=ht-64|0,wt=tt|tt<<8|tt<<16|tt<<24;(a|0)<=(vt|0);)o[a>>2]=wt,o[a+4>>2]=wt,o[a+8>>2]=wt,o[a+12>>2]=wt,o[a+16>>2]=wt,o[a+20>>2]=wt,o[a+24>>2]=wt,o[a+28>>2]=wt,o[a+32>>2]=wt,o[a+36>>2]=wt,o[a+40>>2]=wt,o[a+44>>2]=wt,o[a+48>>2]=wt,o[a+52>>2]=wt,o[a+56>>2]=wt,o[a+60>>2]=wt,a=a+64|0;for(;(a|0)<(ht|0);)o[a>>2]=wt,a=a+4|0}for(;(a|0)<(_t|0);)d[a>>0]=tt,a=a+1|0;return _t-ot|0}function Vx(a,tt,ot){return a=a|0,tt=tt|0,ot=ot|0,(ot|0)<32?(sn=tt<<ot|(a&(1<<ot)-1<<32-ot)>>>32-ot,a<<ot):(sn=a<<ot-32,0)}function O2(a,tt,ot){return a=a|0,tt=tt|0,ot=ot|0,(ot|0)<32?(sn=tt>>>ot,a>>>ot|(tt&(1<<ot)-1)<<32-ot):(sn=0,tt>>>ot-32|0)}function Kr(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0,vt=0,_t=0;if((ot|0)>=8192)return vp(a|0,tt|0,ot|0)|0;if(_t=a|0,vt=a+ot|0,(a&3)==(tt&3)){for(;a&3;){if(!ot)return _t|0;d[a>>0]=d[tt>>0]|0,a=a+1|0,tt=tt+1|0,ot=ot-1|0}for(ot=vt&-4|0,ht=ot-64|0;(a|0)<=(ht|0);)o[a>>2]=o[tt>>2],o[a+4>>2]=o[tt+4>>2],o[a+8>>2]=o[tt+8>>2],o[a+12>>2]=o[tt+12>>2],o[a+16>>2]=o[tt+16>>2],o[a+20>>2]=o[tt+20>>2],o[a+24>>2]=o[tt+24>>2],o[a+28>>2]=o[tt+28>>2],o[a+32>>2]=o[tt+32>>2],o[a+36>>2]=o[tt+36>>2],o[a+40>>2]=o[tt+40>>2],o[a+44>>2]=o[tt+44>>2],o[a+48>>2]=o[tt+48>>2],o[a+52>>2]=o[tt+52>>2],o[a+56>>2]=o[tt+56>>2],o[a+60>>2]=o[tt+60>>2],a=a+64|0,tt=tt+64|0;for(;(a|0)<(ot|0);)o[a>>2]=o[tt>>2],a=a+4|0,tt=tt+4|0}else for(ot=vt-4|0;(a|0)<(ot|0);)d[a>>0]=d[tt>>0]|0,d[a+1>>0]=d[tt+1>>0]|0,d[a+2>>0]=d[tt+2>>0]|0,d[a+3>>0]=d[tt+3>>0]|0,a=a+4|0,tt=tt+4|0;for(;(a|0)<(vt|0);)d[a>>0]=d[tt>>0]|0,a=a+1|0,tt=tt+1|0;return _t|0}function zx(a){a=a|0;var tt=0;return tt=d[Nt+(a&255)>>0]|0,(tt|0)<8?tt|0:(tt=d[Nt+(a>>8&255)>>0]|0,(tt|0)<8?tt+8|0:(tt=d[Nt+(a>>16&255)>>0]|0,(tt|0)<8?tt+16|0:(d[Nt+(a>>>24)>>0]|0)+24|0))}function $x(a,tt,ot,ht,vt){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0;var _t=0,wt=0,Pt=0,Lt=0,zt=0,Vt=0,Ht=0,Zt=0,_n=0,dn=0;if(Vt=a,Lt=tt,zt=Lt,wt=ot,Zt=ht,Pt=Zt,!zt)return _t=(vt|0)!=0,Pt?_t?(o[vt>>2]=a|0,o[vt+4>>2]=tt&0,Zt=0,vt=0,sn=Zt,vt|0):(Zt=0,vt=0,sn=Zt,vt|0):(_t&&(o[vt>>2]=(Vt>>>0)%(wt>>>0),o[vt+4>>2]=0),Zt=0,vt=(Vt>>>0)/(wt>>>0)>>>0,sn=Zt,vt|0);_t=(Pt|0)==0;do if(wt){if(!_t){if(_t=(mr(Pt|0)|0)-(mr(zt|0)|0)|0,_t>>>0<=31){Ht=_t+1|0,Pt=31-_t|0,tt=_t-31>>31,wt=Ht,a=Vt>>>(Ht>>>0)&tt|zt<<Pt,tt=zt>>>(Ht>>>0)&tt,_t=0,Pt=Vt<<Pt;break}return vt?(o[vt>>2]=a|0,o[vt+4>>2]=Lt|tt&0,Zt=0,vt=0,sn=Zt,vt|0):(Zt=0,vt=0,sn=Zt,vt|0)}if(_t=wt-1|0,_t&wt|0){Pt=(mr(wt|0)|0)+33-(mr(zt|0)|0)|0,dn=64-Pt|0,Ht=32-Pt|0,Lt=Ht>>31,_n=Pt-32|0,tt=_n>>31,wt=Pt,a=Ht-1>>31&zt>>>(_n>>>0)|(zt<<Ht|Vt>>>(Pt>>>0))&tt,tt=tt&zt>>>(Pt>>>0),_t=Vt<<dn&Lt,Pt=(zt<<dn|Vt>>>(_n>>>0))&Lt|Vt<<Ht&Pt-33>>31;break}return vt|0&&(o[vt>>2]=_t&Vt,o[vt+4>>2]=0),(wt|0)==1?(_n=Lt|tt&0,dn=a|0|0,sn=_n,dn|0):(dn=zx(wt|0)|0,_n=zt>>>(dn>>>0)|0,dn=zt<<32-dn|Vt>>>(dn>>>0)|0,sn=_n,dn|0)}else{if(_t)return vt|0&&(o[vt>>2]=(zt>>>0)%(wt>>>0),o[vt+4>>2]=0),_n=0,dn=(zt>>>0)/(wt>>>0)>>>0,sn=_n,dn|0;if(!Vt)return vt|0&&(o[vt>>2]=0,o[vt+4>>2]=(zt>>>0)%(Pt>>>0)),_n=0,dn=(zt>>>0)/(Pt>>>0)>>>0,sn=_n,dn|0;if(_t=Pt-1|0,!(_t&Pt))return vt|0&&(o[vt>>2]=a|0,o[vt+4>>2]=_t&zt|tt&0),_n=0,dn=zt>>>((zx(Pt|0)|0)>>>0),sn=_n,dn|0;if(_t=(mr(Pt|0)|0)-(mr(zt|0)|0)|0,_t>>>0<=30){tt=_t+1|0,Pt=31-_t|0,wt=tt,a=zt<<Pt|Vt>>>(tt>>>0),tt=zt>>>(tt>>>0),_t=0,Pt=Vt<<Pt;break}return vt?(o[vt>>2]=a|0,o[vt+4>>2]=Lt|tt&0,_n=0,dn=0,sn=_n,dn|0):(_n=0,dn=0,sn=_n,dn|0)}while(0);if(!wt)zt=Pt,Lt=0,Pt=0;else{Ht=ot|0|0,Vt=Zt|ht&0,zt=__(Ht|0,Vt|0,-1,-1)|0,ot=sn,Lt=Pt,Pt=0;do ht=Lt,Lt=_t>>>31|Lt<<1,_t=Pt|_t<<1,ht=a<<1|ht>>>31|0,Zt=a>>>31|tt<<1|0,N2(zt|0,ot|0,ht|0,Zt|0)|0,dn=sn,_n=dn>>31|((dn|0)<0?-1:0)<<1,Pt=_n&1,a=N2(ht|0,Zt|0,_n&Ht|0,(((dn|0)<0?-1:0)>>31|((dn|0)<0?-1:0)<<1)&Vt|0)|0,tt=sn,wt=wt-1|0;while(wt|0);zt=Lt,Lt=0}return wt=0,vt|0&&(o[vt>>2]=a,o[vt+4>>2]=tt),_n=(_t|0)>>>31|(zt|wt)<<1|(wt<<1|_t>>>31)&0|Lt,dn=(_t<<1|0)&-2|Pt,sn=_n,dn|0}function y_(a,tt,ot,ht){return a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,$x(a,tt,ot,ht,0)|0}function F0(a){a=a|0;var tt=0,ot=0;return ot=a+15&-16|0,tt=o[At>>2]|0,a=tt+ot|0,(ot|0)>0&(a|0)<(tt|0)|(a|0)<0?(Yn()|0,_p(12),-1):(o[At>>2]=a,(a|0)>(Kn()|0)&&!(nr()|0)?(o[At>>2]=tt,_p(12),-1):tt|0)}function p1(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0;var ht=0;if((tt|0)<(a|0)&(a|0)<(tt+ot|0)){for(ht=a,tt=tt+ot|0,a=a+ot|0;(ot|0)>0;)a=a-1|0,tt=tt-1|0,ot=ot-1|0,d[a>>0]=d[tt>>0]|0;a=ht}else Kr(a,tt,ot)|0;return a|0}function x_(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0;var vt=0,_t=0;return _t=yt,yt=yt+16|0,vt=_t|0,$x(a,tt,ot,ht,vt)|0,yt=_t,sn=o[vt+4>>2]|0,o[vt>>2]|0|0}function Gx(a){return a=a|0,(a&255)<<24|(a>>8&255)<<16|(a>>16&255)<<8|a>>>24|0}function XD(a,tt,ot,ht,vt,_t){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0,_t=_t|0,Hx[a&1](tt|0,ot|0,ht|0,vt|0,_t|0)}function KD(a,tt,ot){a=a|0,tt=tt|0,ot=It(ot),Wx[a&1](tt|0,It(ot))}function YD(a,tt,ot){a=a|0,tt=tt|0,ot=+ot,jx[a&31](tt|0,+ot)}function QD(a,tt,ot,ht){return a=a|0,tt=tt|0,ot=It(ot),ht=It(ht),It(qx[a&0](tt|0,It(ot),It(ht)))}function ZD(a,tt){a=a|0,tt=tt|0,Zu[a&127](tt|0)}function JD(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,Ju[a&31](tt|0,ot|0)}function eF(a,tt){return a=a|0,tt=tt|0,gp[a&31](tt|0)|0}function tF(a,tt,ot,ht,vt){a=a|0,tt=tt|0,ot=+ot,ht=+ht,vt=vt|0,Xx[a&1](tt|0,+ot,+ht,vt|0)}function nF(a,tt,ot,ht){a=a|0,tt=tt|0,ot=+ot,ht=+ht,DF[a&1](tt|0,+ot,+ht)}function rF(a,tt,ot,ht){return a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,F2[a&7](tt|0,ot|0,ht|0)|0}function iF(a,tt,ot,ht){return a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,+FF[a&1](tt|0,ot|0,ht|0)}function oF(a,tt){return a=a|0,tt=tt|0,+Kx[a&15](tt|0)}function sF(a,tt,ot){return a=a|0,tt=tt|0,ot=+ot,BF[a&1](tt|0,+ot)|0}function aF(a,tt,ot){return a=a|0,tt=tt|0,ot=ot|0,E_[a&15](tt|0,ot|0)|0}function lF(a,tt,ot,ht,vt,_t){a=a|0,tt=tt|0,ot=ot|0,ht=+ht,vt=+vt,_t=_t|0,UF[a&1](tt|0,ot|0,+ht,+vt,_t|0)}function uF(a,tt,ot,ht,vt,_t,wt){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0,_t=_t|0,wt=wt|0,VF[a&1](tt|0,ot|0,ht|0,vt|0,_t|0,wt|0)}function cF(a,tt,ot){return a=a|0,tt=tt|0,ot=ot|0,+Yx[a&7](tt|0,ot|0)}function fF(a){return a=a|0,B2[a&7]()|0}function dF(a,tt,ot,ht,vt,_t){return a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0,_t=_t|0,Qx[a&1](tt|0,ot|0,ht|0,vt|0,_t|0)|0}function hF(a,tt,ot,ht,vt){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=+vt,zF[a&1](tt|0,ot|0,ht|0,+vt)}function pF(a,tt,ot,ht,vt,_t,wt){a=a|0,tt=tt|0,ot=ot|0,ht=It(ht),vt=vt|0,_t=It(_t),wt=wt|0,Zx[a&1](tt|0,ot|0,It(ht),vt|0,It(_t),wt|0)}function mF(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,_1[a&15](tt|0,ot|0,ht|0)}function gF(a){a=a|0,Jx[a&0]()}function vF(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=+ht,eS[a&15](tt|0,ot|0,+ht)}function _F(a,tt,ot){return a=a|0,tt=+tt,ot=+ot,$F[a&1](+tt,+ot)|0}function yF(a,tt,ot,ht,vt){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0,w_[a&15](tt|0,ot|0,ht|0,vt|0)}function xF(a,tt,ot,ht,vt){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0,Zn(0)}function SF(a,tt){a=a|0,tt=It(tt),Zn(1)}function Ks(a,tt){a=a|0,tt=+tt,Zn(2)}function EF(a,tt,ot){return a=a|0,tt=It(tt),ot=It(ot),Zn(3),Bn}function jr(a){a=a|0,Zn(4)}function m1(a,tt){a=a|0,tt=tt|0,Zn(5)}function Sl(a){return a=a|0,Zn(6),0}function wF(a,tt,ot,ht){a=a|0,tt=+tt,ot=+ot,ht=ht|0,Zn(7)}function TF(a,tt,ot){a=a|0,tt=+tt,ot=+ot,Zn(8)}function MF(a,tt,ot){return a=a|0,tt=tt|0,ot=ot|0,Zn(9),0}function AF(a,tt,ot){return a=a|0,tt=tt|0,ot=ot|0,Zn(10),0}function mp(a){return a=a|0,Zn(11),0}function CF(a,tt){return a=a|0,tt=+tt,Zn(12),0}function g1(a,tt){return a=a|0,tt=tt|0,Zn(13),0}function RF(a,tt,ot,ht,vt){a=a|0,tt=tt|0,ot=+ot,ht=+ht,vt=vt|0,Zn(14)}function bF(a,tt,ot,ht,vt,_t){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0,_t=_t|0,Zn(15)}function S_(a,tt){return a=a|0,tt=tt|0,Zn(16),0}function PF(){return Zn(17),0}function IF(a,tt,ot,ht,vt){return a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,vt=vt|0,Zn(18),0}function kF(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=+ht,Zn(19)}function LF(a,tt,ot,ht,vt,_t){a=a|0,tt=tt|0,ot=It(ot),ht=ht|0,vt=It(vt),_t=_t|0,Zn(20)}function D2(a,tt,ot){a=a|0,tt=tt|0,ot=ot|0,Zn(21)}function NF(){Zn(22)}function cm(a,tt,ot){a=a|0,tt=tt|0,ot=+ot,Zn(23)}function OF(a,tt){return a=+a,tt=+tt,Zn(24),0}function fm(a,tt,ot,ht){a=a|0,tt=tt|0,ot=ot|0,ht=ht|0,Zn(25)}var Hx=[xF,II],Wx=[SF,H1],jx=[Ks,Hp,Hm,J1,rv,Hu,np,Wm,e2,t2,r2,i2,jm,qm,o2,Xm,Wp,iv,ov,Ks,Ks,Ks,Ks,Ks,Ks,Ks,Ks,Ks,Ks,Ks,Ks,Ks],qx=[EF],Zu=[jr,lm,aS,lS,uS,VT,zT,$T,sP,aP,lP,_I,yI,xI,VO,zO,$O,vo,q1,zp,_g,n2,f2,d2,oo,vS,PS,KS,fE,RE,WE,sw,Sw,Fw,Jw,mT,IT,oM,SM,FM,JM,mA,IA,YA,fC,MC,zC,ks,y4,O4,e3,y3,N3,tR,fR,pR,IR,NR,QR,cP,hP,PP,XP,A_,RL,sN,SN,DN,iO,yO,PO,LO,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr],Ju=[m1,X1,$m,$p,Q1,Gm,Z1,eu,ev,Gu,nv,Tr,Kp,co,Uo,Vo,Yo,Ns,C0,e1,n1,m2,eC,pC,w3,IL,nI,dx,m1,m1,m1,m1],gp=[Sl,vD,zm,u2,qp,Xp,rp,Km,Ym,Qm,Zm,sv,op,Es,s1,HC,B3,LP,OL,_l,Sl,Sl,Sl,Sl,Sl,Sl,Sl,Sl,Sl,Sl,Sl,Sl],Xx=[wF,ju],DF=[TF,eP],F2=[MF,Rx,_D,SD,kE,uM,w4,VN],FF=[AF,rT],Kx=[mp,Jm,Bo,Go,h2,p2,a1,tm,av,lv,mp,mp,mp,mp,mp,mp],BF=[CF,lR],E_=[g1,$D,t1,tS,JS,XE,uw,OT,MM,bC,W1,MN,g1,g1,g1,g1],UF=[RF,NS],VF=[bF,lO],Yx=[S_,ip,g2,qu,uv,yT,S_,S_],B2=[PF,Xu,j1,Z2,_R,BR,vP,FO],Qx=[IF,es],zF=[kF,rA],Zx=[LF,Qp],_1=[D2,jp,c2,R0,Yp,mE,Tw,yA,OA,G1,_k,cN,wO,D2,D2,D2],Jx=[NF],eS=[cm,K1,Y1,tv,Gp,s2,a2,l2,zM,U4,iR,cm,cm,cm,cm,cm],$F=[OF,iP],w_=[fm,zw,ZC,i3,q3,TR,HR,TP,JP,zL,XO,fm,fm,fm,fm,fm];return{_llvm_bswap_i32:Gx,dynCall_idd:_F,dynCall_i:fF,_i64Subtract:N2,___udivdi3:y_,dynCall_vif:KD,setThrew:ys,dynCall_viii:mF,_bitshift64Lshr:O2,_bitshift64Shl:Vx,dynCall_vi:ZD,dynCall_viiddi:lF,dynCall_diii:iF,dynCall_iii:aF,_memset:um,_sbrk:F0,_memcpy:Kr,__GLOBAL__sub_I_Yoga_cpp:ts,dynCall_vii:JD,___uremdi3:x_,dynCall_vid:YD,stackAlloc:uo,_nbind_init:oD,getTempRet0:Ho,dynCall_di:oF,dynCall_iid:sF,setTempRet0:Hl,_i64Add:__,dynCall_fiff:QD,dynCall_iiii:rF,_emscripten_get_global_libc:gD,dynCall_viid:vF,dynCall_viiid:hF,dynCall_viififi:pF,dynCall_ii:eF,__GLOBAL__sub_I_Binding_cc:xL,dynCall_viiii:yF,dynCall_iiiiii:dF,stackSave:$r,dynCall_viiiii:XD,__GLOBAL__sub_I_nbind_cc:_2,dynCall_vidd:nF,_free:k2,runPostSets:qD,dynCall_viiiiii:uF,establishStackSpace:yo,_memmove:p1,stackRestore:xo,_malloc:I2,__GLOBAL__sub_I_common_cc:zP,dynCall_viddi:tF,dynCall_dii:cF,dynCall_v:gF}}(Module.asmGlobalArg,Module.asmLibraryArg,buffer);Module._llvm_bswap_i32=asm._llvm_bswap_i32,Module.getTempRet0=asm.getTempRet0,Module.___udivdi3=asm.___udivdi3,Module.setThrew=asm.setThrew,Module._bitshift64Lshr=asm._bitshift64Lshr,Module._bitshift64Shl=asm._bitshift64Shl,Module._memset=asm._memset,Module._sbrk=asm._sbrk,Module._memcpy=asm._memcpy,Module.stackAlloc=asm.stackAlloc,Module.___uremdi3=asm.___uremdi3,Module._nbind_init=asm._nbind_init,Module._i64Subtract=asm._i64Subtract,Module.setTempRet0=asm.setTempRet0,Module._i64Add=asm._i64Add,Module._emscripten_get_global_libc=asm._emscripten_get_global_libc;var __GLOBAL__sub_I_Yoga_cpp=Module.__GLOBAL__sub_I_Yoga_cpp=asm.__GLOBAL__sub_I_Yoga_cpp,__GLOBAL__sub_I_Binding_cc=Module.__GLOBAL__sub_I_Binding_cc=asm.__GLOBAL__sub_I_Binding_cc;Module.stackSave=asm.stackSave;var __GLOBAL__sub_I_nbind_cc=Module.__GLOBAL__sub_I_nbind_cc=asm.__GLOBAL__sub_I_nbind_cc,_free=Module._free=asm._free;Module.runPostSets=asm.runPostSets,Module.establishStackSpace=asm.establishStackSpace,Module._memmove=asm._memmove,Module.stackRestore=asm.stackRestore;var _malloc=Module._malloc=asm._malloc,__GLOBAL__sub_I_common_cc=Module.__GLOBAL__sub_I_common_cc=asm.__GLOBAL__sub_I_common_cc;Module.dynCall_viiiii=asm.dynCall_viiiii,Module.dynCall_vif=asm.dynCall_vif,Module.dynCall_vid=asm.dynCall_vid,Module.dynCall_fiff=asm.dynCall_fiff,Module.dynCall_vi=asm.dynCall_vi,Module.dynCall_vii=asm.dynCall_vii,Module.dynCall_ii=asm.dynCall_ii,Module.dynCall_viddi=asm.dynCall_viddi,Module.dynCall_vidd=asm.dynCall_vidd,Module.dynCall_iiii=asm.dynCall_iiii,Module.dynCall_diii=asm.dynCall_diii,Module.dynCall_di=asm.dynCall_di,Module.dynCall_iid=asm.dynCall_iid,Module.dynCall_iii=asm.dynCall_iii,Module.dynCall_viiddi=asm.dynCall_viiddi,Module.dynCall_viiiiii=asm.dynCall_viiiiii,Module.dynCall_dii=asm.dynCall_dii,Module.dynCall_i=asm.dynCall_i,Module.dynCall_iiiiii=asm.dynCall_iiiiii,Module.dynCall_viiid=asm.dynCall_viiid,Module.dynCall_viififi=asm.dynCall_viififi,Module.dynCall_viii=asm.dynCall_viii,Module.dynCall_v=asm.dynCall_v,Module.dynCall_viid=asm.dynCall_viid,Module.dynCall_idd=asm.dynCall_idd,Module.dynCall_viiii=asm.dynCall_viiii,Runtime.stackAlloc=Module.stackAlloc,Runtime.stackSave=Module.stackSave,Runtime.stackRestore=Module.stackRestore,Runtime.establishStackSpace=Module.establishStackSpace,Runtime.setTempRet0=Module.setTempRet0,Runtime.getTempRet0=Module.getTempRet0,Module.asm=asm;function ExitStatus(c){this.name="ExitStatus",this.message="Program terminated with exit("+c+")",this.status=c}ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus;var initialStackTop;dependenciesFulfilled=function c(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=c)},Module.callMain=Module.callMain=function c(e){e=e||[],ensureInitRuntime();var s=e.length+1;function d(){for(var xt=0;xt<4-1;xt++)nt.push(0)}var nt=[allocate(intArrayFromString(Module.thisProgram),"i8",ALLOC_NORMAL)];d();for(var o=0;o<s-1;o=o+1)nt.push(allocate(intArrayFromString(e[o]),"i8",ALLOC_NORMAL)),d();nt.push(0),nt=allocate(nt,"i32",ALLOC_NORMAL);try{var ft=Module._main(s,nt,0);exit(ft,!0)}catch(xt){if(xt instanceof ExitStatus)return;if(xt=="SimulateInfiniteLoop"){Module.noExitRuntime=!0;return}else{var gt=xt;xt&&typeof xt=="object"&&xt.stack&&(gt=[xt,xt.stack]),Module.printErr("exception thrown: "+gt),Module.quit(1,xt)}}finally{}};function run(c){if(c=c||Module.arguments,runDependencies>0||(preRun(),runDependencies>0)||Module.calledRun)return;function e(){Module.calledRun||(Module.calledRun=!0,!ABORT&&(ensureInitRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Module._main&&shouldRunNow&&Module.callMain(c),postRun()))}Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),e()},1)):e()}Module.run=Module.run=run;function exit(c,e){e&&Module.noExitRuntime||(Module.noExitRuntime||(ABORT=!0,STACKTOP=initialStackTop,exitRuntime(),Module.onExit&&Module.onExit(c)),ENVIRONMENT_IS_NODE&&process.exit(c),Module.quit(c,new ExitStatus(c)))}Module.exit=Module.exit=exit;var abortDecorators=[];function abort(c){Module.onAbort&&Module.onAbort(c),c!==void 0?(Module.print(c),Module.printErr(c),c=JSON.stringify(c)):c="",ABORT=!0;var e=`
If this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.`,s="abort("+c+") at "+stackTrace()+e;throw abortDecorators&&abortDecorators.forEach(function(d){s=d(s,c)}),s}if(Module.abort=Module.abort=abort,Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run()})})(nbind$1);var nbindExports=nbind$1.exports,Yoga=entryCommon,nbind=nbindExports,ran=!1,ret=null;nbind({},function(c,e){if(!ran){if(ran=!0,c)throw c;ret=e}});if(!ran)throw new Error("Failed to load the yoga module - it needed to be loaded synchronously, but didn't");var entryBrowser=Yoga(ret.bind,ret.lib);const l=getDefaultExportFromCjs(entryBrowser);function mergeRefs(c){return function(e){c.forEach(function(s){typeof s=="function"?s(e):s!=null&&(s.current=e)})}}const h=c=>c[0].toUpperCase()+c.slice(1),x=c=>c.toUpperCase().replace("-","_"),w=(c,e,s)=>Object.keys(e).forEach(d=>{const nt=e[d];if(typeof nt=="string")switch(d){case"flexDir":case"dir":case"flexDirection":return c.setFlexDirection(l[`FLEX_DIRECTION_${x(nt)}`]);case"align":return c.setAlignItems(l[`ALIGN_${x(nt)}`]),c.setAlignContent(l[`ALIGN_${x(nt)}`]);case"alignContent":return c.setAlignContent(l[`ALIGN_${x(nt)}`]);case"alignItems":return c.setAlignItems(l[`ALIGN_${x(nt)}`]);case"alignSelf":return c.setAlignSelf(l[`ALIGN_${x(nt)}`]);case"justify":case"justifyContent":return c.setJustifyContent(l[`JUSTIFY_${x(nt)}`]);case"wrap":case"flexWrap":return c.setFlexWrap(l[`WRAP_${x(nt)}`]);case"basis":case"flexBasis":return c.setFlexBasis(nt);default:return c[`set${h(d)}`](nt)}else if(typeof nt=="number"){const o=nt*s;switch(d){case"basis":case"flexBasis":return c.setFlexBasis(o);case"grow":case"flexGrow":return c.setFlexGrow(o);case"shrink":case"flexShrink":return c.setFlexShrink(o);case"align":return c.setAlignItems(nt);case"justify":return c.setJustifyContent(nt);case"flexDir":case"dir":return c.setFlexDirection(nt);case"wrap":return c.setFlexWrap(nt);case"padding":case"p":return c.setPadding(l.EDGE_ALL,o);case"paddingLeft":case"pl":return c.setPadding(l.EDGE_LEFT,o);case"paddingRight":case"pr":return c.setPadding(l.EDGE_RIGHT,o);case"paddingTop":case"pt":return c.setPadding(l.EDGE_TOP,o);case"paddingBottom":case"pb":return c.setPadding(l.EDGE_BOTTOM,o);case"margin":case"m":return c.setMargin(l.EDGE_ALL,o);case"marginLeft":case"ml":return c.setMargin(l.EDGE_LEFT,o);case"marginRight":case"mr":return c.setMargin(l.EDGE_RIGHT,o);case"marginTop":case"mt":return c.setMargin(l.EDGE_TOP,o);case"marginBottom":case"mb":return c.setMargin(l.EDGE_BOTTOM,o);default:return c[`set${h(d)}`](o)}}}),y=c=>Object.keys(c).forEach(e=>c[e]===void 0?delete c[e]:{}),E=reactExports.createContext({scaleFactor:100,requestReflow(){console.warn("Flex not initialized! Please report")},registerBox(){console.warn("Flex not initialized! Please report")},unregisterBox(){console.warn("Flex not initialized! Please report")},notInitialized:!0}),b=reactExports.createContext({node:null,size:[0,0],notInitialized:!0});function C(c){let e=reactExports.useContext(c);return e.notInitialized&&console.warn("You must place this hook/component under a <Flex/> component!"),e}function B(){const{requestReflow:c}=C(E);return c}new Vector3;function T(c,e){let{children:s,centerAnchor:d,flexDirection:nt,flexDir:o,dir:ft,alignContent:gt,alignItems:xt,alignSelf:St,align:Tt,justifyContent:At,justify:Ct,flexBasis:Rt,basis:yt,flexGrow:Ot,grow:Nt,flexShrink:bt,shrink:Dt,flexWrap:Ft,wrap:Ut,margin:Wt,m:Gt,marginBottom:Xt,marginLeft:Yt,marginRight:Kt,marginTop:jt,mb:Jt,ml:fn,mr:sn,mt:wn,padding:Mn,p:Tn,paddingBottom:kn,paddingLeft:rn,paddingRight:un,paddingTop:pn,pb:Rn,pl:zn,pr:ir,pt:An,height:jn,width:or,maxHeight:er,maxWidth:gr,minHeight:kr,minWidth:dr,...mr}=c;const It=reactExports.useMemo(()=>{const Gn={flexDirection:nt,flexDir:o,dir:ft,alignContent:gt,alignItems:xt,alignSelf:St,align:Tt,justifyContent:At,justify:Ct,flexBasis:Rt,basis:yt,flexGrow:Ot,grow:Nt,flexShrink:bt,shrink:Dt,flexWrap:Ft,wrap:Ut,margin:Wt,m:Gt,marginBottom:Xt,marginLeft:Yt,marginRight:Kt,marginTop:jt,mb:Jt,ml:fn,mr:sn,mt:wn,padding:Mn,p:Tn,paddingBottom:kn,paddingLeft:rn,paddingRight:un,paddingTop:pn,pb:Rn,pl:zn,pr:ir,pt:An,height:jn,width:or,maxHeight:er,maxWidth:gr,minHeight:kr,minWidth:dr};return y(Gn),Gn},[Tt,gt,xt,St,ft,Rt,yt,o,nt,Ot,Nt,bt,Dt,Ft,jn,Ct,At,Gt,Wt,Xt,Yt,Kt,jt,er,gr,Jt,kr,dr,fn,sn,wn,Tn,Mn,kn,rn,un,pn,Rn,zn,ir,An,or,Ut]),{registerBox:Zn,unregisterBox:nn,scaleFactor:nr}=C(E),{node:Kn}=C(b),Yn=reactExports.useRef(),Dn=reactExports.useMemo(()=>l.Node.create(),[]),vr=B(),Xn=reactExports.useRef(Kn==null?void 0:Kn.getChildCount());reactExports.useLayoutEffect(()=>{w(Dn,It,nr)},[It,Dn,nr]),reactExports.useLayoutEffect(()=>{if(Yn.current&&Kn)return Xn.current=Xn.current||Kn.getChildCount(),Kn.insertChild(Dn,Xn.current),Zn(Dn,Yn.current,It,d),()=>{Kn.removeChild(Dn),nn(Dn)}},[Dn,Kn,It,d,Zn,nn]),reactExports.useLayoutEffect(()=>{vr()},[s,It,vr]);const[tn,Qt]=reactExports.useState([0,0]),hn=1/nr;useFrame(()=>{const Gn=(typeof It.width=="number"?It.width:null)||Dn.getComputedWidth().valueOf()/nr,yn=(typeof It.height=="number"?It.height:null)||Dn.getComputedHeight().valueOf()/nr;(Math.abs(Gn-tn[0])>hn||Math.abs(yn-tn[1])>hn)&&Qt([Gn,yn])});const Pn=reactExports.useMemo(()=>({node:Dn,size:tn,centerAnchor:d}),[Dn,tn,d]);return React$2.createElement("group",_extends$2({ref:mergeRefs([Yn,e])},mr),React$2.createElement(b.Provider,{value:Pn},typeof s=="function"?s(tn[0],tn[1],d):s))}const F=React$2.forwardRef(T);function A(c,e){let{size:s=[1,1,1],yogaDirection:d="ltr",plane:nt="xy",children:o,scaleFactor:ft=100,onReflow:gt,disableSizeRecalc:xt,centerAnchor:St,flexDirection:Tt,flexDir:At,dir:Ct,alignContent:Rt,alignItems:yt,alignSelf:Ot,align:Nt,justifyContent:bt,justify:Dt,flexBasis:Ft,basis:Ut,flexGrow:Wt,grow:Gt,flexShrink:Xt,shrink:Yt,flexWrap:Kt,wrap:jt,margin:Jt,m:fn,marginBottom:sn,marginLeft:wn,marginRight:Mn,marginTop:Tn,mb:kn,ml:rn,mr:un,mt:pn,padding:Rn,p:zn,paddingBottom:ir,paddingLeft:An,paddingRight:jn,paddingTop:or,pb:er,pl:gr,pr:kr,pt:dr,height:mr,width:It,maxHeight:Zn,maxWidth:nn,minHeight:nr,minWidth:Kn,...Yn}=c;const Dn=reactExports.useMemo(()=>{const lr={flexDirection:Tt,flexDir:At,dir:Ct,alignContent:Rt,alignItems:yt,alignSelf:Ot,align:Nt,justifyContent:bt,justify:Dt,flexBasis:Ft,basis:Ut,flexGrow:Wt,grow:Gt,flexShrink:Xt,shrink:Yt,flexWrap:Kt,wrap:jt,margin:Jt,m:fn,marginBottom:sn,marginLeft:wn,marginRight:Mn,marginTop:Tn,mb:kn,ml:rn,mr:un,mt:pn,padding:Rn,p:zn,paddingBottom:ir,paddingLeft:An,paddingRight:jn,paddingTop:or,pb:er,pl:gr,pr:kr,pt:dr,height:mr,width:It,maxHeight:Zn,maxWidth:nn,minHeight:nr,minWidth:Kn};return y(lr),lr},[Nt,Rt,yt,Ot,Ct,Ft,Ut,At,Tt,Wt,Gt,Xt,Yt,Kt,mr,Dt,bt,fn,Jt,sn,wn,Mn,Tn,Zn,nn,kn,nr,Kn,rn,un,pn,zn,Rn,ir,An,jn,or,er,gr,kr,dr,It,jt]),vr=reactExports.useRef(),Xn=reactExports.useRef([]),tn=reactExports.useCallback(function(lr,an,sr,Ln){Ln===void 0&&(Ln=!1);const Wn=Xn.current.findIndex(yr=>yr.node===lr);Wn!==-1&&Xn.current.splice(Wn,1),Xn.current.push({group:an,node:lr,flexProps:sr,centerAnchor:Ln})},[]),Qt=reactExports.useCallback(lr=>{const an=Xn.current.findIndex(sr=>sr.node===lr);an!==-1&&Xn.current.splice(an,1)},[]),hn=reactExports.useMemo(()=>l.Node.create(),[]);reactExports.useLayoutEffect(()=>{w(hn,Dn,ft)},[hn,Dn,ft]);const{invalidate:Pn}=useThree(),Gn=reactExports.useRef(!0),yn=reactExports.useCallback(()=>{Gn.current=!0,Pn()},[Pn]);reactExports.useLayoutEffect(()=>{yn()},[o,Dn,yn]);const Jn=reactExports.useMemo(()=>new Box3,[]),$n=reactExports.useMemo(()=>new Vector3,[]),fr=nt[0],Lr=nt[1],Qn=function(lr){switch(lr){case"xy":return"z";case"yz":return"x";case"xz":return"y"}}(nt),[tr,rr]=function(lr,an){switch(an){case"xy":return[lr[0],lr[1]];case"yz":return[lr[1],lr[2]];case"xz":return[lr[0],lr[2]]}}(s,nt),Or=d==="ltr"?l.DIRECTION_LTR:d==="rtl"?l.DIRECTION_RTL:d,wr=reactExports.useMemo(()=>({requestReflow:yn,registerBox:tn,unregisterBox:Qt,scaleFactor:ft}),[yn,tn,Qt,ft]),cn=reactExports.useMemo(()=>({node:hn,size:[tr,rr],centerAnchor:St}),[hn,tr,rr,St]);function Hn(){xt||Xn.current.forEach(hr=>{let{group:zr,node:io,flexProps:_o}=hr;const Jr=typeof _o.width=="number"?_o.width*ft:_o.width,Mo=typeof _o.height=="number"?_o.height*ft:_o.height;Jr!==void 0&&Mo!==void 0?(io.setWidth(Jr),io.setHeight(Mo)):io.getChildCount()===0&&(vr.current?((Ao,Fs,Ru,_s)=>{Ao.updateMatrix();const Fr=Ao.matrix,Gl=Ao.matrixAutoUpdate;Fs.updateMatrixWorld();const cs=new Matrix4().copy(Fs.matrixWorld).invert();Ao.matrix=cs,Ao.matrixAutoUpdate=!1,Fs.updateMatrixWorld(),Ru.setFromObject(Ao).getSize(_s),Ao.matrix=Fr,Ao.matrixAutoUpdate=Gl,Fs.updateMatrixWorld()})(zr,vr.current,Jn,$n):Jn.setFromObject(zr).getSize($n),io.setWidth(Jr||$n[fr]*ft),io.setHeight(Mo||$n[Lr]*ft))}),hn.calculateLayout(tr*ft,rr*ft,Or);const lr=hn.getComputedWidth(),an=hn.getComputedHeight();let sr=0,Ln=0,Wn=0,yr=0;Xn.current.forEach(hr=>{let{group:zr,node:io,centerAnchor:_o}=hr;const{left:Jr,top:Mo,width:Ao,height:Fs}=io.getComputedLayout(),[Ru,_s]=((Gl,cs,wl,bu)=>Gl&&(au=>{var lu;return!((lu=au.getParent())!=null&&lu.getParent())})(bu)?[-cs/2,-wl/2]:[0,0])(St,lr,an,io),Fr=(Gl=>{let{x:cs,y:wl,z:bu}=Gl;return new Vector3(cs,wl,bu)})({[fr]:(Ru+Jr+(_o?Ao/2:0))/ft,[Lr]:-(_s+Mo+(_o?Fs/2:0))/ft,[Qn]:0});sr=Math.min(sr,Jr),Wn=Math.min(Wn,Mo),Ln=Math.max(Ln,Jr+Ao),yr=Math.max(yr,Mo+Fs),zr.position.copy(Fr)}),gt&&gt((Ln-sr)/ft,(yr-Wn)/ft),Pn()}return useFrame(()=>{Gn.current&&(Gn.current=!1,Hn())}),React$2.createElement("group",_extends$2({ref:mergeRefs([vr,e])},Yn),React$2.createElement(E.Provider,{value:wr},React$2.createElement(b.Provider,{value:cn},o)))}F.displayName="Box";const G=React$2.forwardRef(A);G.displayName="Flex";const instagramImg=""+new URL("instagram-logo-ad466939.jpg",import.meta.url).href,spotifyImg=""+new URL("spotify-logo-193ef6f3.png",import.meta.url).href,Social=({src:c,link:e})=>{const[s,d]=reactExports.useState(!1);reactExports.useEffect(()=>{document.body.style.cursor=s?"pointer":"auto"},[s]);const nt=useLoader(TextureLoader,c),o=reactExports.useRef(null);return useFrame((ft,gt)=>{o.current&&(o.current.rotation.y+=gt*Math.random())}),jsxs("mesh",{onPointerEnter:()=>d(!0),onPointerLeave:()=>d(!1),ref:o,onClick:()=>window.open(e),children:[jsx("circleGeometry",{args:[.2,128]}),jsx("meshBasicMaterial",{map:nt,side:DoubleSide})]})},Socials=({socials:c})=>jsx("group",{position:pages.socials.camera.lookAt,children:jsx(G,{justifyContent:"center",alignItems:"center",flexDirection:"row",plane:"xy",size:[1.5,0,0],centerAnchor:!0,children:c.map(e=>jsx(F,{width:"auto",height:"auto",flexGrow:1,centerAnchor:!0,children:jsx(Social,{link:e.link,src:e.platform==="instagram"?instagramImg:spotifyImg})},e.documentId))})}),VerticalTitle=dt.h1`
  position: absolute;
  font-family: 'Bootzy';
  top: ${isMobile_1?"25%":"50%"};
  left: 0;
  font-size: 64px;
  margin-left: ${isMobile_1?"12px":"24px"};
  animation: ${appear} 1s ease-in-out;
  height: 40%;
  text-align: center;
  transform: translate(0, -50%);
  writing-mode: vertical-rl;
`,VerticalLocation=dt.h2`
  position: absolute;
  font-family: 'Bootzy';
  top: ${isMobile_1?"25%":"50%"};
  right: 0;
  font-size: 36px;
  margin-right: ${isMobile_1?"12px":"24px"};
  animation: ${appear} 2s ease-in-out;
  height: 40%;
  text-align: center;
  transform: translate(0, -50%) rotateX(180deg) scaleX(-1);
  writing-mode: vertical-lr;
`,EPSILON=1,Landing=({isAtSplash:c,gltf:e,nextParty:s,socials:d})=>{const[nt,o]=reactExports.useState([pages.initial]),[ft,gt]=reactExports.useState(pages.splash),xt=reactExports.useRef(pages.splash.camera.lookAt),[St,Tt]=reactExports.useState(!1);reactExports.useEffect(()=>{c||gt(pages.initial)},[c]);const At=()=>(useFrame(({camera:yt},Ot)=>{if(St&&c)return;const Nt=ft.camera.lookAt,bt=ft.camera.position;xt.current.lerp(Nt,Ot*3),yt.lookAt(xt.current),yt.position.lerp(bt,Ot*3);const Dt=yt.position.distanceTo(bt)<EPSILON,Ft=xt.current.distanceTo(Nt)<EPSILON;Dt&&Ft&&!St&&Tt(!0)}),null),Ct=reactExports.useCallback(yt=>{Tt(!1),gt(yt),o(Ot=>[...Ot,yt])},[nt,ft]),Rt=reactExports.useCallback(()=>{const yt=[...nt];yt.pop(),Ct(yt[yt.length-1]||pages.initial),o(yt)},[nt]);return jsxs(Fragment,{children:[jsxs(Canvas,{camera:{position:[20,50,0]},children:[jsx(At,{}),jsx("ambientLight",{}),jsx("directionalLight",{position:[10,10,10]}),jsx(OrbitControls,{autoRotate:c,enableZoom:!1,enablePan:ft.id!=="partyHistory",enableRotate:ft.id!=="partyHistory",autoRotateSpeed:.9}),jsx("primitive",{position:[0,0,0],object:e.scene}),jsx(NextPartyPoster,{nextParty:s,moveTo:Ct,currentPage:ft}),jsx(Socials,{socials:d}),ft.id==="partyHistory"&&jsx(PartyHistory,{doneTransitioning:St}),ft.id==="partyDetails"&&jsx(PartyDetails,{party:s})]}),ft.id==="initial"&&jsx(VerticalTitle,{children:"ADR"}),ft.id==="initial"&&jsx(VerticalLocation,{children:"Garden"}),!c&&ft.id!=="partyHistory"&&jsx(NavBar,{currentPage:ft,moveTo:Ct}),ft.id!=="splash"&&jsxs(Fragment,{children:[ft.id!=="initial"&&jsx(Close,{moveTo:Ct}),ft.id!=="initial"&&jsx(Back,{goBack:Rt})]}),ft.id==="partyDetails"&&jsx(Archive,{moveTo:Ct})]})},Wrapper=dt.div`
  width: 100vw;
  height: 100svh;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
`,Blur=dt.div`
  width: 100%;
  height: 100%;
  position: absolute;
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  top: 0;
  left: 0;
  display: flex;
  justify-content: center;
  z-index: 999;
  opacity: ${({$isFadingOut:c})=>c?0:1};
  transition: opacity 1s ease-in-out;
`,Title=dt.h1`
  font-family: 'Bootzy';
  font-size: 64px;
  margin-top: 24px;
  animation: ${fadeIn} 1s ease-in-out;
  width: 80%;
  text-align: center;

  @media (max-width: 768px) {
    font-size: 48px;
  }
`;function toTrianglesDrawMode(c,e){if(e===TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),c;if(e===TriangleFanDrawMode||e===TriangleStripDrawMode){let s=c.getIndex();if(s===null){const ft=[],gt=c.getAttribute("position");if(gt!==void 0){for(let xt=0;xt<gt.count;xt++)ft.push(xt);c.setIndex(ft),s=c.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),c}const d=s.count-2,nt=[];if(e===TriangleFanDrawMode)for(let ft=1;ft<=d;ft++)nt.push(s.getX(0)),nt.push(s.getX(ft)),nt.push(s.getX(ft+1));else for(let ft=0;ft<d;ft++)ft%2===0?(nt.push(s.getX(ft)),nt.push(s.getX(ft+1)),nt.push(s.getX(ft+2))):(nt.push(s.getX(ft+2)),nt.push(s.getX(ft+1)),nt.push(s.getX(ft)));nt.length/3!==d&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=c.clone();return o.setIndex(nt),o.clearGroups(),o}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),c}class GLTFLoader extends Loader{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(s){return new GLTFMaterialsClearcoatExtension(s)}),this.register(function(s){return new GLTFMaterialsDispersionExtension(s)}),this.register(function(s){return new GLTFTextureBasisUExtension(s)}),this.register(function(s){return new GLTFTextureWebPExtension(s)}),this.register(function(s){return new GLTFTextureAVIFExtension(s)}),this.register(function(s){return new GLTFMaterialsSheenExtension(s)}),this.register(function(s){return new GLTFMaterialsTransmissionExtension(s)}),this.register(function(s){return new GLTFMaterialsVolumeExtension(s)}),this.register(function(s){return new GLTFMaterialsIorExtension(s)}),this.register(function(s){return new GLTFMaterialsEmissiveStrengthExtension(s)}),this.register(function(s){return new GLTFMaterialsSpecularExtension(s)}),this.register(function(s){return new GLTFMaterialsIridescenceExtension(s)}),this.register(function(s){return new GLTFMaterialsAnisotropyExtension(s)}),this.register(function(s){return new GLTFMaterialsBumpExtension(s)}),this.register(function(s){return new GLTFLightsExtension(s)}),this.register(function(s){return new GLTFMeshoptCompression(s)}),this.register(function(s){return new GLTFMeshGpuInstancing(s)})}load(e,s,d,nt){const o=this;let ft;if(this.resourcePath!=="")ft=this.resourcePath;else if(this.path!==""){const St=LoaderUtils.extractUrlBase(e);ft=LoaderUtils.resolveURL(St,this.path)}else ft=LoaderUtils.extractUrlBase(e);this.manager.itemStart(e);const gt=function(St){nt?nt(St):console.error(St),o.manager.itemError(e),o.manager.itemEnd(e)},xt=new FileLoader(this.manager);xt.setPath(this.path),xt.setResponseType("arraybuffer"),xt.setRequestHeader(this.requestHeader),xt.setWithCredentials(this.withCredentials),xt.load(e,function(St){try{o.parse(St,ft,function(Tt){s(Tt),o.manager.itemEnd(e)},gt)}catch(Tt){gt(Tt)}},d,gt)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,s,d,nt){let o;const ft={},gt={},xt=new TextDecoder;if(typeof e=="string")o=JSON.parse(e);else if(e instanceof ArrayBuffer)if(xt.decode(new Uint8Array(e,0,4))===BINARY_EXTENSION_HEADER_MAGIC){try{ft[EXTENSIONS.KHR_BINARY_GLTF]=new GLTFBinaryExtension(e)}catch(At){nt&&nt(At);return}o=JSON.parse(ft[EXTENSIONS.KHR_BINARY_GLTF].content)}else o=JSON.parse(xt.decode(e));else o=e;if(o.asset===void 0||o.asset.version[0]<2){nt&&nt(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const St=new GLTFParser(o,{path:s||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});St.fileLoader.setRequestHeader(this.requestHeader);for(let Tt=0;Tt<this.pluginCallbacks.length;Tt++){const At=this.pluginCallbacks[Tt](St);At.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),gt[At.name]=At,ft[At.name]=!0}if(o.extensionsUsed)for(let Tt=0;Tt<o.extensionsUsed.length;++Tt){const At=o.extensionsUsed[Tt],Ct=o.extensionsRequired||[];switch(At){case EXTENSIONS.KHR_MATERIALS_UNLIT:ft[At]=new GLTFMaterialsUnlitExtension;break;case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:ft[At]=new GLTFDracoMeshCompressionExtension(o,this.dracoLoader);break;case EXTENSIONS.KHR_TEXTURE_TRANSFORM:ft[At]=new GLTFTextureTransformExtension;break;case EXTENSIONS.KHR_MESH_QUANTIZATION:ft[At]=new GLTFMeshQuantizationExtension;break;default:Ct.indexOf(At)>=0&&gt[At]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+At+'".')}}St.setExtensions(ft),St.setPlugins(gt),St.parse(d,nt)}parseAsync(e,s){const d=this;return new Promise(function(nt,o){d.parse(e,s,nt,o)})}}function GLTFRegistry(){let c={};return{get:function(e){return c[e]},add:function(e,s){c[e]=s},remove:function(e){delete c[e]},removeAll:function(){c={}}}}const EXTENSIONS={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class GLTFLightsExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,s=this.parser.json.nodes||[];for(let d=0,nt=s.length;d<nt;d++){const o=s[d];o.extensions&&o.extensions[this.name]&&o.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,o.extensions[this.name].light)}}_loadLight(e){const s=this.parser,d="light:"+e;let nt=s.cache.get(d);if(nt)return nt;const o=s.json,xt=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let St;const Tt=new Color(16777215);xt.color!==void 0&&Tt.setRGB(xt.color[0],xt.color[1],xt.color[2],LinearSRGBColorSpace);const At=xt.range!==void 0?xt.range:0;switch(xt.type){case"directional":St=new DirectionalLight(Tt),St.target.position.set(0,0,-1),St.add(St.target);break;case"point":St=new PointLight(Tt),St.distance=At;break;case"spot":St=new SpotLight(Tt),St.distance=At,xt.spot=xt.spot||{},xt.spot.innerConeAngle=xt.spot.innerConeAngle!==void 0?xt.spot.innerConeAngle:0,xt.spot.outerConeAngle=xt.spot.outerConeAngle!==void 0?xt.spot.outerConeAngle:Math.PI/4,St.angle=xt.spot.outerConeAngle,St.penumbra=1-xt.spot.innerConeAngle/xt.spot.outerConeAngle,St.target.position.set(0,0,-1),St.add(St.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+xt.type)}return St.position.set(0,0,0),assignExtrasToUserData(St,xt),xt.intensity!==void 0&&(St.intensity=xt.intensity),St.name=s.createUniqueName(xt.name||"light_"+e),nt=Promise.resolve(St),s.cache.add(d,nt),nt}getDependency(e,s){if(e==="light")return this._loadLight(s)}createNodeAttachment(e){const s=this,d=this.parser,o=d.json.nodes[e],gt=(o.extensions&&o.extensions[this.name]||{}).light;return gt===void 0?null:this._loadLight(gt).then(function(xt){return d._getNodeRef(s.cache,gt,xt)})}}class GLTFMaterialsUnlitExtension{constructor(){this.name=EXTENSIONS.KHR_MATERIALS_UNLIT}getMaterialType(){return MeshBasicMaterial}extendParams(e,s,d){const nt=[];e.color=new Color(1,1,1),e.opacity=1;const o=s.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const ft=o.baseColorFactor;e.color.setRGB(ft[0],ft[1],ft[2],LinearSRGBColorSpace),e.opacity=ft[3]}o.baseColorTexture!==void 0&&nt.push(d.assignTexture(e,"map",o.baseColorTexture,SRGBColorSpace))}return Promise.all(nt)}}class GLTFMaterialsEmissiveStrengthExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,s){const nt=this.parser.json.materials[e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const o=nt.extensions[this.name].emissiveStrength;return o!==void 0&&(s.emissiveIntensity=o),Promise.resolve()}}class GLTFMaterialsClearcoatExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const d=this.parser.json.materials[e];return!d.extensions||!d.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,s){const d=this.parser,nt=d.json.materials[e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const o=[],ft=nt.extensions[this.name];if(ft.clearcoatFactor!==void 0&&(s.clearcoat=ft.clearcoatFactor),ft.clearcoatTexture!==void 0&&o.push(d.assignTexture(s,"clearcoatMap",ft.clearcoatTexture)),ft.clearcoatRoughnessFactor!==void 0&&(s.clearcoatRoughness=ft.clearcoatRoughnessFactor),ft.clearcoatRoughnessTexture!==void 0&&o.push(d.assignTexture(s,"clearcoatRoughnessMap",ft.clearcoatRoughnessTexture)),ft.clearcoatNormalTexture!==void 0&&(o.push(d.assignTexture(s,"clearcoatNormalMap",ft.clearcoatNormalTexture)),ft.clearcoatNormalTexture.scale!==void 0)){const gt=ft.clearcoatNormalTexture.scale;s.clearcoatNormalScale=new Vector2(gt,gt)}return Promise.all(o)}}class GLTFMaterialsDispersionExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_DISPERSION}getMaterialType(e){const d=this.parser.json.materials[e];return!d.extensions||!d.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,s){const nt=this.parser.json.materials[e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const o=nt.extensions[this.name];return s.dispersion=o.dispersion!==void 0?o.dispersion:0,Promise.resolve()}}class GLTFMaterialsIridescenceExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const d=this.parser.json.materials[e];return!d.extensions||!d.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,s){const d=this.parser,nt=d.json.materials[e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const o=[],ft=nt.extensions[this.name];return ft.iridescenceFactor!==void 0&&(s.iridescence=ft.iridescenceFactor),ft.iridescenceTexture!==void 0&&o.push(d.assignTexture(s,"iridescenceMap",ft.iridescenceTexture)),ft.iridescenceIor!==void 0&&(s.iridescenceIOR=ft.iridescenceIor),s.iridescenceThicknessRange===void 0&&(s.iridescenceThicknessRange=[100,400]),ft.iridescenceThicknessMinimum!==void 0&&(s.iridescenceThicknessRange[0]=ft.iridescenceThicknessMinimum),ft.iridescenceThicknessMaximum!==void 0&&(s.iridescenceThicknessRange[1]=ft.iridescenceThicknessMaximum),ft.iridescenceThicknessTexture!==void 0&&o.push(d.assignTexture(s,"iridescenceThicknessMap",ft.iridescenceThicknessTexture)),Promise.all(o)}}class GLTFMaterialsSheenExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_SHEEN}getMaterialType(e){const d=this.parser.json.materials[e];return!d.extensions||!d.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,s){const d=this.parser,nt=d.json.materials[e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const o=[];s.sheenColor=new Color(0,0,0),s.sheenRoughness=0,s.sheen=1;const ft=nt.extensions[this.name];if(ft.sheenColorFactor!==void 0){const gt=ft.sheenColorFactor;s.sheenColor.setRGB(gt[0],gt[1],gt[2],LinearSRGBColorSpace)}return ft.sheenRoughnessFactor!==void 0&&(s.sheenRoughness=ft.sheenRoughnessFactor),ft.sheenColorTexture!==void 0&&o.push(d.assignTexture(s,"sheenColorMap",ft.sheenColorTexture,SRGBColorSpace)),ft.sheenRoughnessTexture!==void 0&&o.push(d.assignTexture(s,"sheenRoughnessMap",ft.sheenRoughnessTexture)),Promise.all(o)}}class GLTFMaterialsTransmissionExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const d=this.parser.json.materials[e];return!d.extensions||!d.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,s){const d=this.parser,nt=d.json.materials[e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const o=[],ft=nt.extensions[this.name];return ft.transmissionFactor!==void 0&&(s.transmission=ft.transmissionFactor),ft.transmissionTexture!==void 0&&o.push(d.assignTexture(s,"transmissionMap",ft.transmissionTexture)),Promise.all(o)}}class GLTFMaterialsVolumeExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_VOLUME}getMaterialType(e){const d=this.parser.json.materials[e];return!d.extensions||!d.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,s){const d=this.parser,nt=d.json.materials[e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const o=[],ft=nt.extensions[this.name];s.thickness=ft.thicknessFactor!==void 0?ft.thicknessFactor:0,ft.thicknessTexture!==void 0&&o.push(d.assignTexture(s,"thicknessMap",ft.thicknessTexture)),s.attenuationDistance=ft.attenuationDistance||1/0;const gt=ft.attenuationColor||[1,1,1];return s.attenuationColor=new Color().setRGB(gt[0],gt[1],gt[2],LinearSRGBColorSpace),Promise.all(o)}}class GLTFMaterialsIorExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_IOR}getMaterialType(e){const d=this.parser.json.materials[e];return!d.extensions||!d.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,s){const nt=this.parser.json.materials[e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const o=nt.extensions[this.name];return s.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}}class GLTFMaterialsSpecularExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_SPECULAR}getMaterialType(e){const d=this.parser.json.materials[e];return!d.extensions||!d.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,s){const d=this.parser,nt=d.json.materials[e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const o=[],ft=nt.extensions[this.name];s.specularIntensity=ft.specularFactor!==void 0?ft.specularFactor:1,ft.specularTexture!==void 0&&o.push(d.assignTexture(s,"specularIntensityMap",ft.specularTexture));const gt=ft.specularColorFactor||[1,1,1];return s.specularColor=new Color().setRGB(gt[0],gt[1],gt[2],LinearSRGBColorSpace),ft.specularColorTexture!==void 0&&o.push(d.assignTexture(s,"specularColorMap",ft.specularColorTexture,SRGBColorSpace)),Promise.all(o)}}class GLTFMaterialsBumpExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.EXT_MATERIALS_BUMP}getMaterialType(e){const d=this.parser.json.materials[e];return!d.extensions||!d.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,s){const d=this.parser,nt=d.json.materials[e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const o=[],ft=nt.extensions[this.name];return s.bumpScale=ft.bumpFactor!==void 0?ft.bumpFactor:1,ft.bumpTexture!==void 0&&o.push(d.assignTexture(s,"bumpMap",ft.bumpTexture)),Promise.all(o)}}class GLTFMaterialsAnisotropyExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const d=this.parser.json.materials[e];return!d.extensions||!d.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,s){const d=this.parser,nt=d.json.materials[e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const o=[],ft=nt.extensions[this.name];return ft.anisotropyStrength!==void 0&&(s.anisotropy=ft.anisotropyStrength),ft.anisotropyRotation!==void 0&&(s.anisotropyRotation=ft.anisotropyRotation),ft.anisotropyTexture!==void 0&&o.push(d.assignTexture(s,"anisotropyMap",ft.anisotropyTexture)),Promise.all(o)}}class GLTFTextureBasisUExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_TEXTURE_BASISU}loadTexture(e){const s=this.parser,d=s.json,nt=d.textures[e];if(!nt.extensions||!nt.extensions[this.name])return null;const o=nt.extensions[this.name],ft=s.options.ktx2Loader;if(!ft){if(d.extensionsRequired&&d.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return s.loadTextureImage(e,o.source,ft)}}class GLTFTextureWebPExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.EXT_TEXTURE_WEBP}loadTexture(e){const s=this.name,d=this.parser,nt=d.json,o=nt.textures[e];if(!o.extensions||!o.extensions[s])return null;const ft=o.extensions[s],gt=nt.images[ft.source];let xt=d.textureLoader;if(gt.uri){const St=d.options.manager.getHandler(gt.uri);St!==null&&(xt=St)}return d.loadTextureImage(e,ft.source,xt)}}class GLTFTextureAVIFExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.EXT_TEXTURE_AVIF}loadTexture(e){const s=this.name,d=this.parser,nt=d.json,o=nt.textures[e];if(!o.extensions||!o.extensions[s])return null;const ft=o.extensions[s],gt=nt.images[ft.source];let xt=d.textureLoader;if(gt.uri){const St=d.options.manager.getHandler(gt.uri);St!==null&&(xt=St)}return d.loadTextureImage(e,ft.source,xt)}}class GLTFMeshoptCompression{constructor(e){this.name=EXTENSIONS.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const s=this.parser.json,d=s.bufferViews[e];if(d.extensions&&d.extensions[this.name]){const nt=d.extensions[this.name],o=this.parser.getDependency("buffer",nt.buffer),ft=this.parser.options.meshoptDecoder;if(!ft||!ft.supported){if(s.extensionsRequired&&s.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return o.then(function(gt){const xt=nt.byteOffset||0,St=nt.byteLength||0,Tt=nt.count,At=nt.byteStride,Ct=new Uint8Array(gt,xt,St);return ft.decodeGltfBufferAsync?ft.decodeGltfBufferAsync(Tt,At,Ct,nt.mode,nt.filter).then(function(Rt){return Rt.buffer}):ft.ready.then(function(){const Rt=new ArrayBuffer(Tt*At);return ft.decodeGltfBuffer(new Uint8Array(Rt),Tt,At,Ct,nt.mode,nt.filter),Rt})})}else return null}}class GLTFMeshGpuInstancing{constructor(e){this.name=EXTENSIONS.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const s=this.parser.json,d=s.nodes[e];if(!d.extensions||!d.extensions[this.name]||d.mesh===void 0)return null;const nt=s.meshes[d.mesh];for(const St of nt.primitives)if(St.mode!==WEBGL_CONSTANTS.TRIANGLES&&St.mode!==WEBGL_CONSTANTS.TRIANGLE_STRIP&&St.mode!==WEBGL_CONSTANTS.TRIANGLE_FAN&&St.mode!==void 0)return null;const ft=d.extensions[this.name].attributes,gt=[],xt={};for(const St in ft)gt.push(this.parser.getDependency("accessor",ft[St]).then(Tt=>(xt[St]=Tt,xt[St])));return gt.length<1?null:(gt.push(this.parser.createNodeMesh(e)),Promise.all(gt).then(St=>{const Tt=St.pop(),At=Tt.isGroup?Tt.children:[Tt],Ct=St[0].count,Rt=[];for(const yt of At){const Ot=new Matrix4,Nt=new Vector3,bt=new Quaternion,Dt=new Vector3(1,1,1),Ft=new InstancedMesh(yt.geometry,yt.material,Ct);for(let Ut=0;Ut<Ct;Ut++)xt.TRANSLATION&&Nt.fromBufferAttribute(xt.TRANSLATION,Ut),xt.ROTATION&&bt.fromBufferAttribute(xt.ROTATION,Ut),xt.SCALE&&Dt.fromBufferAttribute(xt.SCALE,Ut),Ft.setMatrixAt(Ut,Ot.compose(Nt,bt,Dt));for(const Ut in xt)if(Ut==="_COLOR_0"){const Wt=xt[Ut];Ft.instanceColor=new InstancedBufferAttribute(Wt.array,Wt.itemSize,Wt.normalized)}else Ut!=="TRANSLATION"&&Ut!=="ROTATION"&&Ut!=="SCALE"&&yt.geometry.setAttribute(Ut,xt[Ut]);Object3D.prototype.copy.call(Ft,yt),this.parser.assignFinalMaterial(Ft),Rt.push(Ft)}return Tt.isGroup?(Tt.clear(),Tt.add(...Rt),Tt):Rt[0]}))}}const BINARY_EXTENSION_HEADER_MAGIC="glTF",BINARY_EXTENSION_HEADER_LENGTH=12,BINARY_EXTENSION_CHUNK_TYPES={JSON:1313821514,BIN:5130562};class GLTFBinaryExtension{constructor(e){this.name=EXTENSIONS.KHR_BINARY_GLTF,this.content=null,this.body=null;const s=new DataView(e,0,BINARY_EXTENSION_HEADER_LENGTH),d=new TextDecoder;if(this.header={magic:d.decode(new Uint8Array(e.slice(0,4))),version:s.getUint32(4,!0),length:s.getUint32(8,!0)},this.header.magic!==BINARY_EXTENSION_HEADER_MAGIC)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const nt=this.header.length-BINARY_EXTENSION_HEADER_LENGTH,o=new DataView(e,BINARY_EXTENSION_HEADER_LENGTH);let ft=0;for(;ft<nt;){const gt=o.getUint32(ft,!0);ft+=4;const xt=o.getUint32(ft,!0);if(ft+=4,xt===BINARY_EXTENSION_CHUNK_TYPES.JSON){const St=new Uint8Array(e,BINARY_EXTENSION_HEADER_LENGTH+ft,gt);this.content=d.decode(St)}else if(xt===BINARY_EXTENSION_CHUNK_TYPES.BIN){const St=BINARY_EXTENSION_HEADER_LENGTH+ft;this.body=e.slice(St,St+gt)}ft+=gt}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class GLTFDracoMeshCompressionExtension{constructor(e,s){if(!s)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=EXTENSIONS.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=s,this.dracoLoader.preload()}decodePrimitive(e,s){const d=this.json,nt=this.dracoLoader,o=e.extensions[this.name].bufferView,ft=e.extensions[this.name].attributes,gt={},xt={},St={};for(const Tt in ft){const At=ATTRIBUTES[Tt]||Tt.toLowerCase();gt[At]=ft[Tt]}for(const Tt in e.attributes){const At=ATTRIBUTES[Tt]||Tt.toLowerCase();if(ft[Tt]!==void 0){const Ct=d.accessors[e.attributes[Tt]],Rt=WEBGL_COMPONENT_TYPES[Ct.componentType];St[At]=Rt.name,xt[At]=Ct.normalized===!0}}return s.getDependency("bufferView",o).then(function(Tt){return new Promise(function(At,Ct){nt.decodeDracoFile(Tt,function(Rt){for(const yt in Rt.attributes){const Ot=Rt.attributes[yt],Nt=xt[yt];Nt!==void 0&&(Ot.normalized=Nt)}At(Rt)},gt,St,LinearSRGBColorSpace,Ct)})})}}class GLTFTextureTransformExtension{constructor(){this.name=EXTENSIONS.KHR_TEXTURE_TRANSFORM}extendTexture(e,s){return(s.texCoord===void 0||s.texCoord===e.channel)&&s.offset===void 0&&s.rotation===void 0&&s.scale===void 0||(e=e.clone(),s.texCoord!==void 0&&(e.channel=s.texCoord),s.offset!==void 0&&e.offset.fromArray(s.offset),s.rotation!==void 0&&(e.rotation=s.rotation),s.scale!==void 0&&e.repeat.fromArray(s.scale),e.needsUpdate=!0),e}}class GLTFMeshQuantizationExtension{constructor(){this.name=EXTENSIONS.KHR_MESH_QUANTIZATION}}class GLTFCubicSplineInterpolant extends Interpolant{constructor(e,s,d,nt){super(e,s,d,nt)}copySampleValue_(e){const s=this.resultBuffer,d=this.sampleValues,nt=this.valueSize,o=e*nt*3+nt;for(let ft=0;ft!==nt;ft++)s[ft]=d[o+ft];return s}interpolate_(e,s,d,nt){const o=this.resultBuffer,ft=this.sampleValues,gt=this.valueSize,xt=gt*2,St=gt*3,Tt=nt-s,At=(d-s)/Tt,Ct=At*At,Rt=Ct*At,yt=e*St,Ot=yt-St,Nt=-2*Rt+3*Ct,bt=Rt-Ct,Dt=1-Nt,Ft=bt-Ct+At;for(let Ut=0;Ut!==gt;Ut++){const Wt=ft[Ot+Ut+gt],Gt=ft[Ot+Ut+xt]*Tt,Xt=ft[yt+Ut+gt],Yt=ft[yt+Ut]*Tt;o[Ut]=Dt*Wt+Ft*Gt+Nt*Xt+bt*Yt}return o}}const _quaternion=new Quaternion;class GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant{interpolate_(e,s,d,nt){const o=super.interpolate_(e,s,d,nt);return _quaternion.fromArray(o).normalize().toArray(o),o}}const WEBGL_CONSTANTS={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},WEBGL_COMPONENT_TYPES={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},WEBGL_FILTERS={9728:NearestFilter,9729:LinearFilter,9984:NearestMipmapNearestFilter,9985:LinearMipmapNearestFilter,9986:NearestMipmapLinearFilter,9987:LinearMipmapLinearFilter},WEBGL_WRAPPINGS={33071:ClampToEdgeWrapping,33648:MirroredRepeatWrapping,10497:RepeatWrapping},WEBGL_TYPE_SIZES={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ATTRIBUTES={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},PATH_PROPERTIES={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},INTERPOLATION={CUBICSPLINE:void 0,LINEAR:InterpolateLinear,STEP:InterpolateDiscrete},ALPHA_MODES={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function createDefaultMaterial(c){return c.DefaultMaterial===void 0&&(c.DefaultMaterial=new MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:FrontSide})),c.DefaultMaterial}function addUnknownExtensionsToUserData(c,e,s){for(const d in s.extensions)c[d]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[d]=s.extensions[d])}function assignExtrasToUserData(c,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(c.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function addMorphTargets(c,e,s){let d=!1,nt=!1,o=!1;for(let St=0,Tt=e.length;St<Tt;St++){const At=e[St];if(At.POSITION!==void 0&&(d=!0),At.NORMAL!==void 0&&(nt=!0),At.COLOR_0!==void 0&&(o=!0),d&&nt&&o)break}if(!d&&!nt&&!o)return Promise.resolve(c);const ft=[],gt=[],xt=[];for(let St=0,Tt=e.length;St<Tt;St++){const At=e[St];if(d){const Ct=At.POSITION!==void 0?s.getDependency("accessor",At.POSITION):c.attributes.position;ft.push(Ct)}if(nt){const Ct=At.NORMAL!==void 0?s.getDependency("accessor",At.NORMAL):c.attributes.normal;gt.push(Ct)}if(o){const Ct=At.COLOR_0!==void 0?s.getDependency("accessor",At.COLOR_0):c.attributes.color;xt.push(Ct)}}return Promise.all([Promise.all(ft),Promise.all(gt),Promise.all(xt)]).then(function(St){const Tt=St[0],At=St[1],Ct=St[2];return d&&(c.morphAttributes.position=Tt),nt&&(c.morphAttributes.normal=At),o&&(c.morphAttributes.color=Ct),c.morphTargetsRelative=!0,c})}function updateMorphTargets(c,e){if(c.updateMorphTargets(),e.weights!==void 0)for(let s=0,d=e.weights.length;s<d;s++)c.morphTargetInfluences[s]=e.weights[s];if(e.extras&&Array.isArray(e.extras.targetNames)){const s=e.extras.targetNames;if(c.morphTargetInfluences.length===s.length){c.morphTargetDictionary={};for(let d=0,nt=s.length;d<nt;d++)c.morphTargetDictionary[s[d]]=d}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function createPrimitiveKey(c){let e;const s=c.extensions&&c.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];if(s?e="draco:"+s.bufferView+":"+s.indices+":"+createAttributesKey(s.attributes):e=c.indices+":"+createAttributesKey(c.attributes)+":"+c.mode,c.targets!==void 0)for(let d=0,nt=c.targets.length;d<nt;d++)e+=":"+createAttributesKey(c.targets[d]);return e}function createAttributesKey(c){let e="";const s=Object.keys(c).sort();for(let d=0,nt=s.length;d<nt;d++)e+=s[d]+":"+c[s[d]]+";";return e}function getNormalizedComponentScale(c){switch(c){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function getImageURIMimeType(c){return c.search(/\.jpe?g($|\?)/i)>0||c.search(/^data\:image\/jpeg/)===0?"image/jpeg":c.search(/\.webp($|\?)/i)>0||c.search(/^data\:image\/webp/)===0?"image/webp":c.search(/\.ktx2($|\?)/i)>0||c.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const _identityMatrix=new Matrix4;class GLTFParser{constructor(e={},s={}){this.json=e,this.extensions={},this.plugins={},this.options=s,this.cache=new GLTFRegistry,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let d=!1,nt=-1,o=!1,ft=-1;if(typeof navigator<"u"){const gt=navigator.userAgent;d=/^((?!chrome|android).)*safari/i.test(gt)===!0;const xt=gt.match(/Version\/(\d+)/);nt=d&&xt?parseInt(xt[1],10):-1,o=gt.indexOf("Firefox")>-1,ft=o?gt.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||d&&nt<17||o&&ft<98?this.textureLoader=new TextureLoader(this.options.manager):this.textureLoader=new ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,s){const d=this,nt=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(ft){return ft._markDefs&&ft._markDefs()}),Promise.all(this._invokeAll(function(ft){return ft.beforeRoot&&ft.beforeRoot()})).then(function(){return Promise.all([d.getDependencies("scene"),d.getDependencies("animation"),d.getDependencies("camera")])}).then(function(ft){const gt={scene:ft[0][nt.scene||0],scenes:ft[0],animations:ft[1],cameras:ft[2],asset:nt.asset,parser:d,userData:{}};return addUnknownExtensionsToUserData(o,gt,nt),assignExtrasToUserData(gt,nt),Promise.all(d._invokeAll(function(xt){return xt.afterRoot&&xt.afterRoot(gt)})).then(function(){for(const xt of gt.scenes)xt.updateMatrixWorld();e(gt)})}).catch(s)}_markDefs(){const e=this.json.nodes||[],s=this.json.skins||[],d=this.json.meshes||[];for(let nt=0,o=s.length;nt<o;nt++){const ft=s[nt].joints;for(let gt=0,xt=ft.length;gt<xt;gt++)e[ft[gt]].isBone=!0}for(let nt=0,o=e.length;nt<o;nt++){const ft=e[nt];ft.mesh!==void 0&&(this._addNodeRef(this.meshCache,ft.mesh),ft.skin!==void 0&&(d[ft.mesh].isSkinnedMesh=!0)),ft.camera!==void 0&&this._addNodeRef(this.cameraCache,ft.camera)}}_addNodeRef(e,s){s!==void 0&&(e.refs[s]===void 0&&(e.refs[s]=e.uses[s]=0),e.refs[s]++)}_getNodeRef(e,s,d){if(e.refs[s]<=1)return d;const nt=d.clone(),o=(ft,gt)=>{const xt=this.associations.get(ft);xt!=null&&this.associations.set(gt,xt);for(const[St,Tt]of ft.children.entries())o(Tt,gt.children[St])};return o(d,nt),nt.name+="_instance_"+e.uses[s]++,nt}_invokeOne(e){const s=Object.values(this.plugins);s.push(this);for(let d=0;d<s.length;d++){const nt=e(s[d]);if(nt)return nt}return null}_invokeAll(e){const s=Object.values(this.plugins);s.unshift(this);const d=[];for(let nt=0;nt<s.length;nt++){const o=e(s[nt]);o&&d.push(o)}return d}getDependency(e,s){const d=e+":"+s;let nt=this.cache.get(d);if(!nt){switch(e){case"scene":nt=this.loadScene(s);break;case"node":nt=this._invokeOne(function(o){return o.loadNode&&o.loadNode(s)});break;case"mesh":nt=this._invokeOne(function(o){return o.loadMesh&&o.loadMesh(s)});break;case"accessor":nt=this.loadAccessor(s);break;case"bufferView":nt=this._invokeOne(function(o){return o.loadBufferView&&o.loadBufferView(s)});break;case"buffer":nt=this.loadBuffer(s);break;case"material":nt=this._invokeOne(function(o){return o.loadMaterial&&o.loadMaterial(s)});break;case"texture":nt=this._invokeOne(function(o){return o.loadTexture&&o.loadTexture(s)});break;case"skin":nt=this.loadSkin(s);break;case"animation":nt=this._invokeOne(function(o){return o.loadAnimation&&o.loadAnimation(s)});break;case"camera":nt=this.loadCamera(s);break;default:if(nt=this._invokeOne(function(o){return o!=this&&o.getDependency&&o.getDependency(e,s)}),!nt)throw new Error("Unknown type: "+e);break}this.cache.add(d,nt)}return nt}getDependencies(e){let s=this.cache.get(e);if(!s){const d=this,nt=this.json[e+(e==="mesh"?"es":"s")]||[];s=Promise.all(nt.map(function(o,ft){return d.getDependency(e,ft)})),this.cache.add(e,s)}return s}loadBuffer(e){const s=this.json.buffers[e],d=this.fileLoader;if(s.type&&s.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+s.type+" buffer type is not supported.");if(s.uri===void 0&&e===0)return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);const nt=this.options;return new Promise(function(o,ft){d.load(LoaderUtils.resolveURL(s.uri,nt.path),o,void 0,function(){ft(new Error('THREE.GLTFLoader: Failed to load buffer "'+s.uri+'".'))})})}loadBufferView(e){const s=this.json.bufferViews[e];return this.getDependency("buffer",s.buffer).then(function(d){const nt=s.byteLength||0,o=s.byteOffset||0;return d.slice(o,o+nt)})}loadAccessor(e){const s=this,d=this.json,nt=this.json.accessors[e];if(nt.bufferView===void 0&&nt.sparse===void 0){const ft=WEBGL_TYPE_SIZES[nt.type],gt=WEBGL_COMPONENT_TYPES[nt.componentType],xt=nt.normalized===!0,St=new gt(nt.count*ft);return Promise.resolve(new BufferAttribute(St,ft,xt))}const o=[];return nt.bufferView!==void 0?o.push(this.getDependency("bufferView",nt.bufferView)):o.push(null),nt.sparse!==void 0&&(o.push(this.getDependency("bufferView",nt.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",nt.sparse.values.bufferView))),Promise.all(o).then(function(ft){const gt=ft[0],xt=WEBGL_TYPE_SIZES[nt.type],St=WEBGL_COMPONENT_TYPES[nt.componentType],Tt=St.BYTES_PER_ELEMENT,At=Tt*xt,Ct=nt.byteOffset||0,Rt=nt.bufferView!==void 0?d.bufferViews[nt.bufferView].byteStride:void 0,yt=nt.normalized===!0;let Ot,Nt;if(Rt&&Rt!==At){const bt=Math.floor(Ct/Rt),Dt="InterleavedBuffer:"+nt.bufferView+":"+nt.componentType+":"+bt+":"+nt.count;let Ft=s.cache.get(Dt);Ft||(Ot=new St(gt,bt*Rt,nt.count*Rt/Tt),Ft=new InterleavedBuffer(Ot,Rt/Tt),s.cache.add(Dt,Ft)),Nt=new InterleavedBufferAttribute(Ft,xt,Ct%Rt/Tt,yt)}else gt===null?Ot=new St(nt.count*xt):Ot=new St(gt,Ct,nt.count*xt),Nt=new BufferAttribute(Ot,xt,yt);if(nt.sparse!==void 0){const bt=WEBGL_TYPE_SIZES.SCALAR,Dt=WEBGL_COMPONENT_TYPES[nt.sparse.indices.componentType],Ft=nt.sparse.indices.byteOffset||0,Ut=nt.sparse.values.byteOffset||0,Wt=new Dt(ft[1],Ft,nt.sparse.count*bt),Gt=new St(ft[2],Ut,nt.sparse.count*xt);gt!==null&&(Nt=new BufferAttribute(Nt.array.slice(),Nt.itemSize,Nt.normalized)),Nt.normalized=!1;for(let Xt=0,Yt=Wt.length;Xt<Yt;Xt++){const Kt=Wt[Xt];if(Nt.setX(Kt,Gt[Xt*xt]),xt>=2&&Nt.setY(Kt,Gt[Xt*xt+1]),xt>=3&&Nt.setZ(Kt,Gt[Xt*xt+2]),xt>=4&&Nt.setW(Kt,Gt[Xt*xt+3]),xt>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}Nt.normalized=yt}return Nt})}loadTexture(e){const s=this.json,d=this.options,o=s.textures[e].source,ft=s.images[o];let gt=this.textureLoader;if(ft.uri){const xt=d.manager.getHandler(ft.uri);xt!==null&&(gt=xt)}return this.loadTextureImage(e,o,gt)}loadTextureImage(e,s,d){const nt=this,o=this.json,ft=o.textures[e],gt=o.images[s],xt=(gt.uri||gt.bufferView)+":"+ft.sampler;if(this.textureCache[xt])return this.textureCache[xt];const St=this.loadImageSource(s,d).then(function(Tt){Tt.flipY=!1,Tt.name=ft.name||gt.name||"",Tt.name===""&&typeof gt.uri=="string"&&gt.uri.startsWith("data:image/")===!1&&(Tt.name=gt.uri);const Ct=(o.samplers||{})[ft.sampler]||{};return Tt.magFilter=WEBGL_FILTERS[Ct.magFilter]||LinearFilter,Tt.minFilter=WEBGL_FILTERS[Ct.minFilter]||LinearMipmapLinearFilter,Tt.wrapS=WEBGL_WRAPPINGS[Ct.wrapS]||RepeatWrapping,Tt.wrapT=WEBGL_WRAPPINGS[Ct.wrapT]||RepeatWrapping,Tt.generateMipmaps=!Tt.isCompressedTexture&&Tt.minFilter!==NearestFilter&&Tt.minFilter!==LinearFilter,nt.associations.set(Tt,{textures:e}),Tt}).catch(function(){return null});return this.textureCache[xt]=St,St}loadImageSource(e,s){const d=this,nt=this.json,o=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(At=>At.clone());const ft=nt.images[e],gt=self.URL||self.webkitURL;let xt=ft.uri||"",St=!1;if(ft.bufferView!==void 0)xt=d.getDependency("bufferView",ft.bufferView).then(function(At){St=!0;const Ct=new Blob([At],{type:ft.mimeType});return xt=gt.createObjectURL(Ct),xt});else if(ft.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const Tt=Promise.resolve(xt).then(function(At){return new Promise(function(Ct,Rt){let yt=Ct;s.isImageBitmapLoader===!0&&(yt=function(Ot){const Nt=new Texture(Ot);Nt.needsUpdate=!0,Ct(Nt)}),s.load(LoaderUtils.resolveURL(At,o.path),yt,void 0,Rt)})}).then(function(At){return St===!0&&gt.revokeObjectURL(xt),assignExtrasToUserData(At,ft),At.userData.mimeType=ft.mimeType||getImageURIMimeType(ft.uri),At}).catch(function(At){throw console.error("THREE.GLTFLoader: Couldn't load texture",xt),At});return this.sourceCache[e]=Tt,Tt}assignTexture(e,s,d,nt){const o=this;return this.getDependency("texture",d.index).then(function(ft){if(!ft)return null;if(d.texCoord!==void 0&&d.texCoord>0&&(ft=ft.clone(),ft.channel=d.texCoord),o.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]){const gt=d.extensions!==void 0?d.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]:void 0;if(gt){const xt=o.associations.get(ft);ft=o.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(ft,gt),o.associations.set(ft,xt)}}return nt!==void 0&&(ft.colorSpace=nt),e[s]=ft,ft})}assignFinalMaterial(e){const s=e.geometry;let d=e.material;const nt=s.attributes.tangent===void 0,o=s.attributes.color!==void 0,ft=s.attributes.normal===void 0;if(e.isPoints){const gt="PointsMaterial:"+d.uuid;let xt=this.cache.get(gt);xt||(xt=new PointsMaterial,Material.prototype.copy.call(xt,d),xt.color.copy(d.color),xt.map=d.map,xt.sizeAttenuation=!1,this.cache.add(gt,xt)),d=xt}else if(e.isLine){const gt="LineBasicMaterial:"+d.uuid;let xt=this.cache.get(gt);xt||(xt=new LineBasicMaterial,Material.prototype.copy.call(xt,d),xt.color.copy(d.color),xt.map=d.map,this.cache.add(gt,xt)),d=xt}if(nt||o||ft){let gt="ClonedMaterial:"+d.uuid+":";nt&&(gt+="derivative-tangents:"),o&&(gt+="vertex-colors:"),ft&&(gt+="flat-shading:");let xt=this.cache.get(gt);xt||(xt=d.clone(),o&&(xt.vertexColors=!0),ft&&(xt.flatShading=!0),nt&&(xt.normalScale&&(xt.normalScale.y*=-1),xt.clearcoatNormalScale&&(xt.clearcoatNormalScale.y*=-1)),this.cache.add(gt,xt),this.associations.set(xt,this.associations.get(d))),d=xt}e.material=d}getMaterialType(){return MeshStandardMaterial}loadMaterial(e){const s=this,d=this.json,nt=this.extensions,o=d.materials[e];let ft;const gt={},xt=o.extensions||{},St=[];if(xt[EXTENSIONS.KHR_MATERIALS_UNLIT]){const At=nt[EXTENSIONS.KHR_MATERIALS_UNLIT];ft=At.getMaterialType(),St.push(At.extendParams(gt,o,s))}else{const At=o.pbrMetallicRoughness||{};if(gt.color=new Color(1,1,1),gt.opacity=1,Array.isArray(At.baseColorFactor)){const Ct=At.baseColorFactor;gt.color.setRGB(Ct[0],Ct[1],Ct[2],LinearSRGBColorSpace),gt.opacity=Ct[3]}At.baseColorTexture!==void 0&&St.push(s.assignTexture(gt,"map",At.baseColorTexture,SRGBColorSpace)),gt.metalness=At.metallicFactor!==void 0?At.metallicFactor:1,gt.roughness=At.roughnessFactor!==void 0?At.roughnessFactor:1,At.metallicRoughnessTexture!==void 0&&(St.push(s.assignTexture(gt,"metalnessMap",At.metallicRoughnessTexture)),St.push(s.assignTexture(gt,"roughnessMap",At.metallicRoughnessTexture))),ft=this._invokeOne(function(Ct){return Ct.getMaterialType&&Ct.getMaterialType(e)}),St.push(Promise.all(this._invokeAll(function(Ct){return Ct.extendMaterialParams&&Ct.extendMaterialParams(e,gt)})))}o.doubleSided===!0&&(gt.side=DoubleSide);const Tt=o.alphaMode||ALPHA_MODES.OPAQUE;if(Tt===ALPHA_MODES.BLEND?(gt.transparent=!0,gt.depthWrite=!1):(gt.transparent=!1,Tt===ALPHA_MODES.MASK&&(gt.alphaTest=o.alphaCutoff!==void 0?o.alphaCutoff:.5)),o.normalTexture!==void 0&&ft!==MeshBasicMaterial&&(St.push(s.assignTexture(gt,"normalMap",o.normalTexture)),gt.normalScale=new Vector2(1,1),o.normalTexture.scale!==void 0)){const At=o.normalTexture.scale;gt.normalScale.set(At,At)}if(o.occlusionTexture!==void 0&&ft!==MeshBasicMaterial&&(St.push(s.assignTexture(gt,"aoMap",o.occlusionTexture)),o.occlusionTexture.strength!==void 0&&(gt.aoMapIntensity=o.occlusionTexture.strength)),o.emissiveFactor!==void 0&&ft!==MeshBasicMaterial){const At=o.emissiveFactor;gt.emissive=new Color().setRGB(At[0],At[1],At[2],LinearSRGBColorSpace)}return o.emissiveTexture!==void 0&&ft!==MeshBasicMaterial&&St.push(s.assignTexture(gt,"emissiveMap",o.emissiveTexture,SRGBColorSpace)),Promise.all(St).then(function(){const At=new ft(gt);return o.name&&(At.name=o.name),assignExtrasToUserData(At,o),s.associations.set(At,{materials:e}),o.extensions&&addUnknownExtensionsToUserData(nt,At,o),At})}createUniqueName(e){const s=PropertyBinding.sanitizeNodeName(e||"");return s in this.nodeNamesUsed?s+"_"+ ++this.nodeNamesUsed[s]:(this.nodeNamesUsed[s]=0,s)}loadGeometries(e){const s=this,d=this.extensions,nt=this.primitiveCache;function o(gt){return d[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(gt,s).then(function(xt){return addPrimitiveAttributes(xt,gt,s)})}const ft=[];for(let gt=0,xt=e.length;gt<xt;gt++){const St=e[gt],Tt=createPrimitiveKey(St),At=nt[Tt];if(At)ft.push(At.promise);else{let Ct;St.extensions&&St.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]?Ct=o(St):Ct=addPrimitiveAttributes(new BufferGeometry,St,s),nt[Tt]={primitive:St,promise:Ct},ft.push(Ct)}}return Promise.all(ft)}loadMesh(e){const s=this,d=this.json,nt=this.extensions,o=d.meshes[e],ft=o.primitives,gt=[];for(let xt=0,St=ft.length;xt<St;xt++){const Tt=ft[xt].material===void 0?createDefaultMaterial(this.cache):this.getDependency("material",ft[xt].material);gt.push(Tt)}return gt.push(s.loadGeometries(ft)),Promise.all(gt).then(function(xt){const St=xt.slice(0,xt.length-1),Tt=xt[xt.length-1],At=[];for(let Rt=0,yt=Tt.length;Rt<yt;Rt++){const Ot=Tt[Rt],Nt=ft[Rt];let bt;const Dt=St[Rt];if(Nt.mode===WEBGL_CONSTANTS.TRIANGLES||Nt.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP||Nt.mode===WEBGL_CONSTANTS.TRIANGLE_FAN||Nt.mode===void 0)bt=o.isSkinnedMesh===!0?new SkinnedMesh(Ot,Dt):new Mesh(Ot,Dt),bt.isSkinnedMesh===!0&&bt.normalizeSkinWeights(),Nt.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP?bt.geometry=toTrianglesDrawMode(bt.geometry,TriangleStripDrawMode):Nt.mode===WEBGL_CONSTANTS.TRIANGLE_FAN&&(bt.geometry=toTrianglesDrawMode(bt.geometry,TriangleFanDrawMode));else if(Nt.mode===WEBGL_CONSTANTS.LINES)bt=new LineSegments(Ot,Dt);else if(Nt.mode===WEBGL_CONSTANTS.LINE_STRIP)bt=new Line(Ot,Dt);else if(Nt.mode===WEBGL_CONSTANTS.LINE_LOOP)bt=new LineLoop(Ot,Dt);else if(Nt.mode===WEBGL_CONSTANTS.POINTS)bt=new Points(Ot,Dt);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+Nt.mode);Object.keys(bt.geometry.morphAttributes).length>0&&updateMorphTargets(bt,o),bt.name=s.createUniqueName(o.name||"mesh_"+e),assignExtrasToUserData(bt,o),Nt.extensions&&addUnknownExtensionsToUserData(nt,bt,Nt),s.assignFinalMaterial(bt),At.push(bt)}for(let Rt=0,yt=At.length;Rt<yt;Rt++)s.associations.set(At[Rt],{meshes:e,primitives:Rt});if(At.length===1)return o.extensions&&addUnknownExtensionsToUserData(nt,At[0],o),At[0];const Ct=new Group;o.extensions&&addUnknownExtensionsToUserData(nt,Ct,o),s.associations.set(Ct,{meshes:e});for(let Rt=0,yt=At.length;Rt<yt;Rt++)Ct.add(At[Rt]);return Ct})}loadCamera(e){let s;const d=this.json.cameras[e],nt=d[d.type];if(!nt){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return d.type==="perspective"?s=new PerspectiveCamera(MathUtils.radToDeg(nt.yfov),nt.aspectRatio||1,nt.znear||1,nt.zfar||2e6):d.type==="orthographic"&&(s=new OrthographicCamera(-nt.xmag,nt.xmag,nt.ymag,-nt.ymag,nt.znear,nt.zfar)),d.name&&(s.name=this.createUniqueName(d.name)),assignExtrasToUserData(s,d),Promise.resolve(s)}loadSkin(e){const s=this.json.skins[e],d=[];for(let nt=0,o=s.joints.length;nt<o;nt++)d.push(this._loadNodeShallow(s.joints[nt]));return s.inverseBindMatrices!==void 0?d.push(this.getDependency("accessor",s.inverseBindMatrices)):d.push(null),Promise.all(d).then(function(nt){const o=nt.pop(),ft=nt,gt=[],xt=[];for(let St=0,Tt=ft.length;St<Tt;St++){const At=ft[St];if(At){gt.push(At);const Ct=new Matrix4;o!==null&&Ct.fromArray(o.array,St*16),xt.push(Ct)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',s.joints[St])}return new Skeleton(gt,xt)})}loadAnimation(e){const s=this.json,d=this,nt=s.animations[e],o=nt.name?nt.name:"animation_"+e,ft=[],gt=[],xt=[],St=[],Tt=[];for(let At=0,Ct=nt.channels.length;At<Ct;At++){const Rt=nt.channels[At],yt=nt.samplers[Rt.sampler],Ot=Rt.target,Nt=Ot.node,bt=nt.parameters!==void 0?nt.parameters[yt.input]:yt.input,Dt=nt.parameters!==void 0?nt.parameters[yt.output]:yt.output;Ot.node!==void 0&&(ft.push(this.getDependency("node",Nt)),gt.push(this.getDependency("accessor",bt)),xt.push(this.getDependency("accessor",Dt)),St.push(yt),Tt.push(Ot))}return Promise.all([Promise.all(ft),Promise.all(gt),Promise.all(xt),Promise.all(St),Promise.all(Tt)]).then(function(At){const Ct=At[0],Rt=At[1],yt=At[2],Ot=At[3],Nt=At[4],bt=[];for(let Dt=0,Ft=Ct.length;Dt<Ft;Dt++){const Ut=Ct[Dt],Wt=Rt[Dt],Gt=yt[Dt],Xt=Ot[Dt],Yt=Nt[Dt];if(Ut===void 0)continue;Ut.updateMatrix&&Ut.updateMatrix();const Kt=d._createAnimationTracks(Ut,Wt,Gt,Xt,Yt);if(Kt)for(let jt=0;jt<Kt.length;jt++)bt.push(Kt[jt])}return new AnimationClip(o,void 0,bt)})}createNodeMesh(e){const s=this.json,d=this,nt=s.nodes[e];return nt.mesh===void 0?null:d.getDependency("mesh",nt.mesh).then(function(o){const ft=d._getNodeRef(d.meshCache,nt.mesh,o);return nt.weights!==void 0&&ft.traverse(function(gt){if(gt.isMesh)for(let xt=0,St=nt.weights.length;xt<St;xt++)gt.morphTargetInfluences[xt]=nt.weights[xt]}),ft})}loadNode(e){const s=this.json,d=this,nt=s.nodes[e],o=d._loadNodeShallow(e),ft=[],gt=nt.children||[];for(let St=0,Tt=gt.length;St<Tt;St++)ft.push(d.getDependency("node",gt[St]));const xt=nt.skin===void 0?Promise.resolve(null):d.getDependency("skin",nt.skin);return Promise.all([o,Promise.all(ft),xt]).then(function(St){const Tt=St[0],At=St[1],Ct=St[2];Ct!==null&&Tt.traverse(function(Rt){Rt.isSkinnedMesh&&Rt.bind(Ct,_identityMatrix)});for(let Rt=0,yt=At.length;Rt<yt;Rt++)Tt.add(At[Rt]);return Tt})}_loadNodeShallow(e){const s=this.json,d=this.extensions,nt=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const o=s.nodes[e],ft=o.name?nt.createUniqueName(o.name):"",gt=[],xt=nt._invokeOne(function(St){return St.createNodeMesh&&St.createNodeMesh(e)});return xt&&gt.push(xt),o.camera!==void 0&&gt.push(nt.getDependency("camera",o.camera).then(function(St){return nt._getNodeRef(nt.cameraCache,o.camera,St)})),nt._invokeAll(function(St){return St.createNodeAttachment&&St.createNodeAttachment(e)}).forEach(function(St){gt.push(St)}),this.nodeCache[e]=Promise.all(gt).then(function(St){let Tt;if(o.isBone===!0?Tt=new Bone:St.length>1?Tt=new Group:St.length===1?Tt=St[0]:Tt=new Object3D,Tt!==St[0])for(let At=0,Ct=St.length;At<Ct;At++)Tt.add(St[At]);if(o.name&&(Tt.userData.name=o.name,Tt.name=ft),assignExtrasToUserData(Tt,o),o.extensions&&addUnknownExtensionsToUserData(d,Tt,o),o.matrix!==void 0){const At=new Matrix4;At.fromArray(o.matrix),Tt.applyMatrix4(At)}else o.translation!==void 0&&Tt.position.fromArray(o.translation),o.rotation!==void 0&&Tt.quaternion.fromArray(o.rotation),o.scale!==void 0&&Tt.scale.fromArray(o.scale);return nt.associations.has(Tt)||nt.associations.set(Tt,{}),nt.associations.get(Tt).nodes=e,Tt}),this.nodeCache[e]}loadScene(e){const s=this.extensions,d=this.json.scenes[e],nt=this,o=new Group;d.name&&(o.name=nt.createUniqueName(d.name)),assignExtrasToUserData(o,d),d.extensions&&addUnknownExtensionsToUserData(s,o,d);const ft=d.nodes||[],gt=[];for(let xt=0,St=ft.length;xt<St;xt++)gt.push(nt.getDependency("node",ft[xt]));return Promise.all(gt).then(function(xt){for(let Tt=0,At=xt.length;Tt<At;Tt++)o.add(xt[Tt]);const St=Tt=>{const At=new Map;for(const[Ct,Rt]of nt.associations)(Ct instanceof Material||Ct instanceof Texture)&&At.set(Ct,Rt);return Tt.traverse(Ct=>{const Rt=nt.associations.get(Ct);Rt!=null&&At.set(Ct,Rt)}),At};return nt.associations=St(o),o})}_createAnimationTracks(e,s,d,nt,o){const ft=[],gt=e.name?e.name:e.uuid,xt=[];PATH_PROPERTIES[o.path]===PATH_PROPERTIES.weights?e.traverse(function(Ct){Ct.morphTargetInfluences&&xt.push(Ct.name?Ct.name:Ct.uuid)}):xt.push(gt);let St;switch(PATH_PROPERTIES[o.path]){case PATH_PROPERTIES.weights:St=NumberKeyframeTrack;break;case PATH_PROPERTIES.rotation:St=QuaternionKeyframeTrack;break;case PATH_PROPERTIES.translation:case PATH_PROPERTIES.scale:St=VectorKeyframeTrack;break;default:switch(d.itemSize){case 1:St=NumberKeyframeTrack;break;case 2:case 3:default:St=VectorKeyframeTrack;break}break}const Tt=nt.interpolation!==void 0?INTERPOLATION[nt.interpolation]:InterpolateLinear,At=this._getArrayFromAccessor(d);for(let Ct=0,Rt=xt.length;Ct<Rt;Ct++){const yt=new St(xt[Ct]+"."+PATH_PROPERTIES[o.path],s.array,At,Tt);nt.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(yt),ft.push(yt)}return ft}_getArrayFromAccessor(e){let s=e.array;if(e.normalized){const d=getNormalizedComponentScale(s.constructor),nt=new Float32Array(s.length);for(let o=0,ft=s.length;o<ft;o++)nt[o]=s[o]*d;s=nt}return s}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(d){const nt=this instanceof QuaternionKeyframeTrack?GLTFCubicSplineQuaternionInterpolant:GLTFCubicSplineInterpolant;return new nt(this.times,this.values,this.getValueSize()/3,d)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function computeBounds(c,e,s){const d=e.attributes,nt=new Box3;if(d.POSITION!==void 0){const gt=s.json.accessors[d.POSITION],xt=gt.min,St=gt.max;if(xt!==void 0&&St!==void 0){if(nt.set(new Vector3(xt[0],xt[1],xt[2]),new Vector3(St[0],St[1],St[2])),gt.normalized){const Tt=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[gt.componentType]);nt.min.multiplyScalar(Tt),nt.max.multiplyScalar(Tt)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const o=e.targets;if(o!==void 0){const gt=new Vector3,xt=new Vector3;for(let St=0,Tt=o.length;St<Tt;St++){const At=o[St];if(At.POSITION!==void 0){const Ct=s.json.accessors[At.POSITION],Rt=Ct.min,yt=Ct.max;if(Rt!==void 0&&yt!==void 0){if(xt.setX(Math.max(Math.abs(Rt[0]),Math.abs(yt[0]))),xt.setY(Math.max(Math.abs(Rt[1]),Math.abs(yt[1]))),xt.setZ(Math.max(Math.abs(Rt[2]),Math.abs(yt[2]))),Ct.normalized){const Ot=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[Ct.componentType]);xt.multiplyScalar(Ot)}gt.max(xt)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}nt.expandByVector(gt)}c.boundingBox=nt;const ft=new Sphere;nt.getCenter(ft.center),ft.radius=nt.min.distanceTo(nt.max)/2,c.boundingSphere=ft}function addPrimitiveAttributes(c,e,s){const d=e.attributes,nt=[];function o(ft,gt){return s.getDependency("accessor",ft).then(function(xt){c.setAttribute(gt,xt)})}for(const ft in d){const gt=ATTRIBUTES[ft]||ft.toLowerCase();gt in c.attributes||nt.push(o(d[ft],gt))}if(e.indices!==void 0&&!c.index){const ft=s.getDependency("accessor",e.indices).then(function(gt){c.setIndex(gt)});nt.push(ft)}return ColorManagement.workingColorSpace!==LinearSRGBColorSpace&&"COLOR_0"in d&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${ColorManagement.workingColorSpace}" not supported.`),assignExtrasToUserData(c,e),computeBounds(c,e,s),Promise.all(nt).then(function(){return e.targets!==void 0?addMorphTargets(c,e.targets,s):c})}const SOCIALS=gql`
  query Socials {
    socials {
      documentId
      link
      platform
    }
  }
`,useGetSocials=()=>useQuery(SOCIALS),Splash=()=>{const[c,e]=reactExports.useState(!0),[s,d]=reactExports.useState(!1),nt=useLoader(GLTFLoader,"./backyard.glb"),{loaded:o,total:ft}=useProgress(),{loading:gt,error:xt,data:St}=useGetNextParty(),{loading:Tt,error:At,data:Ct}=useGetSocials(),Rt=reactExports.useMemo(()=>gt||Tt||o!==ft,[o,ft,gt,Tt]),yt=()=>{d(!0),setTimeout(()=>{e(!1)},1e3)};return Rt?jsx(Wrapper,{children:jsx("p",{children:"Loading..."})}):xt||At?jsx(Wrapper,{children:jsx("p",{children:"Something went wrong!"})}):jsxs(Wrapper,{children:[jsx(Landing,{isAtSplash:c,gltf:nt,nextParty:St.parties[0],socials:Ct.socials}),c&&jsxs(Blur,{$isFadingOut:s,children:[jsx(Title,{children:"AFTER DINNER RECORDS"}),jsx(Enter,{handleEnter:yt})]})]})},client=new ApolloClient({uri:`${STRAPI_URL}/graphql/`,cache:new InMemoryCache}),App=()=>jsx(ApolloProvider,{client,children:jsx(Splash,{})}),index="";client$1.createRoot(document.getElementById("root")).render(jsx(React$2.StrictMode,{children:jsx(App,{})}));
