var Dy=(c,e,a)=>{if(!e.has(c))throw TypeError("Cannot "+a)};var gn=(c,e,a)=>(Dy(c,e,"read from private field"),a?a.call(c):e.get(c)),Yr=(c,e,a)=>{if(e.has(c))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(c):e.set(c,a)},Br=(c,e,a,d)=>(Dy(c,e,"write to private field"),d?d.call(c,a):e.set(c,a),a);var j_=(c,e,a,d)=>({set _(nt){Br(c,e,nt,a)},get _(){return gn(c,e,d)}}),Mo=(c,e,a)=>(Dy(c,e,"access private method"),a);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const nt of document.querySelectorAll('link[rel="modulepreload"]'))d(nt);new MutationObserver(nt=>{for(const o of nt)if(o.type==="childList")for(const ht of o.addedNodes)ht.tagName==="LINK"&&ht.rel==="modulepreload"&&d(ht)}).observe(document,{childList:!0,subtree:!0});function a(nt){const o={};return nt.integrity&&(o.integrity=nt.integrity),nt.referrerPolicy&&(o.referrerPolicy=nt.referrerPolicy),nt.crossOrigin==="use-credentials"?o.credentials="include":nt.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function d(nt){if(nt.ep)return;nt.ep=!0;const o=a(nt);fetch(nt.href,o)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$3(c){return c===null||typeof c!="object"?null:(c=z$2&&c[z$2]||c["@@iterator"],typeof c=="function"?c:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$3={};function E$3(c,e,a){this.props=c,this.context=e,this.refs=D$3,this.updater=a||B$3}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(c,e){if(typeof c!="object"&&typeof c!="function"&&c!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,c,e,"setState")};E$3.prototype.forceUpdate=function(c){this.updater.enqueueForceUpdate(this,c,"forceUpdate")};function F$2(){}F$2.prototype=E$3.prototype;function G$3(c,e,a){this.props=c,this.context=e,this.refs=D$3,this.updater=a||B$3}var H$2=G$3.prototype=new F$2;H$2.constructor=G$3;C$3(H$2,E$3.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(c,e,a){var d,nt={},o=null,ht=null;if(e!=null)for(d in e.ref!==void 0&&(ht=e.ref),e.key!==void 0&&(o=""+e.key),e)J$1.call(e,d)&&!L$2.hasOwnProperty(d)&&(nt[d]=e[d]);var vt=arguments.length-2;if(vt===1)nt.children=a;else if(1<vt){for(var xt=Array(vt),St=0;St<vt;St++)xt[St]=arguments[St+2];nt.children=xt}if(c&&c.defaultProps)for(d in vt=c.defaultProps,vt)nt[d]===void 0&&(nt[d]=vt[d]);return{$$typeof:l$2,type:c,key:o,ref:ht,props:nt,_owner:K$2.current}}function N$1(c,e){return{$$typeof:l$2,type:c.type,key:e,ref:c.ref,props:c.props,_owner:c._owner}}function O$2(c){return typeof c=="object"&&c!==null&&c.$$typeof===l$2}function escape(c){var e={"=":"=0",":":"=2"};return"$"+c.replace(/[=:]/g,function(a){return e[a]})}var P$1=/\/+/g;function Q$2(c,e){return typeof c=="object"&&c!==null&&c.key!=null?escape(""+c.key):e.toString(36)}function R$2(c,e,a,d,nt){var o=typeof c;(o==="undefined"||o==="boolean")&&(c=null);var ht=!1;if(c===null)ht=!0;else switch(o){case"string":case"number":ht=!0;break;case"object":switch(c.$$typeof){case l$2:case n$1:ht=!0}}if(ht)return ht=c,nt=nt(ht),c=d===""?"."+Q$2(ht,0):d,I$2(nt)?(a="",c!=null&&(a=c.replace(P$1,"$&/")+"/"),R$2(nt,e,a,"",function(St){return St})):nt!=null&&(O$2(nt)&&(nt=N$1(nt,a+(!nt.key||ht&&ht.key===nt.key?"":(""+nt.key).replace(P$1,"$&/")+"/")+c)),e.push(nt)),1;if(ht=0,d=d===""?".":d+":",I$2(c))for(var vt=0;vt<c.length;vt++){o=c[vt];var xt=d+Q$2(o,vt);ht+=R$2(o,e,a,xt,nt)}else if(xt=A$3(c),typeof xt=="function")for(c=xt.call(c),vt=0;!(o=c.next()).done;)o=o.value,xt=d+Q$2(o,vt++),ht+=R$2(o,e,a,xt,nt);else if(o==="object")throw e=String(c),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return ht}function S$2(c,e,a){if(c==null)return c;var d=[],nt=0;return R$2(c,d,"","",function(o){return e.call(a,o,nt++)}),d}function T$3(c){if(c._status===-1){var e=c._result;e=e(),e.then(function(a){(c._status===0||c._status===-1)&&(c._status=1,c._result=a)},function(a){(c._status===0||c._status===-1)&&(c._status=2,c._result=a)}),c._status===-1&&(c._status=0,c._result=e)}if(c._status===1)return c._result.default;throw c._result}var U$2={current:null},V$2={transition:null},W$3={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};function X$3(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(c,e,a){S$2(c,function(){e.apply(this,arguments)},a)},count:function(c){var e=0;return S$2(c,function(){e++}),e},toArray:function(c){return S$2(c,function(e){return e})||[]},only:function(c){if(!O$2(c))throw Error("React.Children.only expected to receive a single React element child.");return c}};react_production_min.Component=E$3;react_production_min.Fragment=p$2;react_production_min.Profiler=r;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$3;react_production_min.cloneElement=function(c,e,a){if(c==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+c+".");var d=C$3({},c.props),nt=c.key,o=c.ref,ht=c._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,ht=K$2.current),e.key!==void 0&&(nt=""+e.key),c.type&&c.type.defaultProps)var vt=c.type.defaultProps;for(xt in e)J$1.call(e,xt)&&!L$2.hasOwnProperty(xt)&&(d[xt]=e[xt]===void 0&&vt!==void 0?vt[xt]:e[xt])}var xt=arguments.length-2;if(xt===1)d.children=a;else if(1<xt){vt=Array(xt);for(var St=0;St<xt;St++)vt[St]=arguments[St+2];d.children=vt}return{$$typeof:l$2,type:c.type,key:nt,ref:o,props:d,_owner:ht}};react_production_min.createContext=function(c){return c={$$typeof:u,_currentValue:c,_currentValue2:c,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},c.Provider={$$typeof:t,_context:c},c.Consumer=c};react_production_min.createElement=M$2;react_production_min.createFactory=function(c){var e=M$2.bind(null,c);return e.type=c,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(c){return{$$typeof:v$2,render:c}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(c){return{$$typeof:y$2,_payload:{_status:-1,_result:c},_init:T$3}};react_production_min.memo=function(c,e){return{$$typeof:x$2,type:c,compare:e===void 0?null:e}};react_production_min.startTransition=function(c){var e=V$2.transition;V$2.transition={};try{c()}finally{V$2.transition=e}};react_production_min.unstable_act=X$3;react_production_min.useCallback=function(c,e){return U$2.current.useCallback(c,e)};react_production_min.useContext=function(c){return U$2.current.useContext(c)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(c){return U$2.current.useDeferredValue(c)};react_production_min.useEffect=function(c,e){return U$2.current.useEffect(c,e)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(c,e,a){return U$2.current.useImperativeHandle(c,e,a)};react_production_min.useInsertionEffect=function(c,e){return U$2.current.useInsertionEffect(c,e)};react_production_min.useLayoutEffect=function(c,e){return U$2.current.useLayoutEffect(c,e)};react_production_min.useMemo=function(c,e){return U$2.current.useMemo(c,e)};react_production_min.useReducer=function(c,e,a){return U$2.current.useReducer(c,e,a)};react_production_min.useRef=function(c){return U$2.current.useRef(c)};react_production_min.useState=function(c){return U$2.current.useState(c)};react_production_min.useSyncExternalStore=function(c,e,a){return U$2.current.useSyncExternalStore(c,e,a)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$1=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$2=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q$1(c,e,a){var d,nt={},o=null,ht=null;a!==void 0&&(o=""+a),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(ht=e.ref);for(d in e)m$2.call(e,d)&&!p$1.hasOwnProperty(d)&&(nt[d]=e[d]);if(c&&c.defaultProps)for(d in e=c.defaultProps,e)nt[d]===void 0&&(nt[d]=e[d]);return{$$typeof:k$2,type:c,key:o,ref:ht,props:nt,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;const Fragment=jsxRuntimeExports.Fragment,jsx=jsxRuntimeExports.jsx,jsxs=jsxRuntimeExports.jsxs;var client={},reactDom={exports:{}},reactDom_production_min={},scheduler$1={exports:{}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(c){function e(on,hn){var pn=on.length;on.push(hn);e:for(;0<pn;){var Pn=pn-1>>>1,jn=on[Pn];if(0<nt(jn,hn))on[Pn]=hn,on[pn]=jn,pn=Pn;else break e}}function a(on){return on.length===0?null:on[0]}function d(on){if(on.length===0)return null;var hn=on[0],pn=on.pop();if(pn!==hn){on[0]=pn;e:for(var Pn=0,jn=on.length,ar=jn>>>1;Pn<ar;){var An=2*(Pn+1)-1,Xn=on[An],or=An+1,tr=on[or];if(0>nt(Xn,pn))or<jn&&0>nt(tr,Xn)?(on[Pn]=tr,on[or]=pn,Pn=or):(on[Pn]=Xn,on[An]=pn,Pn=An);else if(or<jn&&0>nt(tr,pn))on[Pn]=tr,on[or]=pn,Pn=or;else break e}}return hn}function nt(on,hn){var pn=on.sortIndex-hn.sortIndex;return pn!==0?pn:on.id-hn.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;c.unstable_now=function(){return o.now()}}else{var ht=Date,vt=ht.now();c.unstable_now=function(){return ht.now()-vt}}var xt=[],St=[],Tt=1,At=null,Ct=3,Rt=!1,yt=!1,Dt=!1,Nt=typeof setTimeout=="function"?setTimeout:null,Lt=typeof clearTimeout=="function"?clearTimeout:null,Ot=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ft(on){for(var hn=a(St);hn!==null;){if(hn.callback===null)d(St);else if(hn.startTime<=on)d(St),hn.sortIndex=hn.expirationTime,e(xt,hn);else break;hn=a(St)}}function Vt(on){if(Dt=!1,Ft(on),!yt)if(a(xt)!==null)yt=!0,En(jt);else{var hn=a(St);hn!==null&&Nn(Vt,hn.startTime-on)}}function jt(on,hn){yt=!1,Dt&&(Dt=!1,Lt(Kt),Kt=-1),Rt=!0;var pn=Ct;try{for(Ft(hn),At=a(xt);At!==null&&(!(At.expirationTime>hn)||on&&!Jt());){var Pn=At.callback;if(typeof Pn=="function"){At.callback=null,Ct=At.priorityLevel;var jn=Pn(At.expirationTime<=hn);hn=c.unstable_now(),typeof jn=="function"?At.callback=jn:At===a(xt)&&d(xt),Ft(hn)}else d(xt);At=a(xt)}if(At!==null)var ar=!0;else{var An=a(St);An!==null&&Nn(Vt,An.startTime-hn),ar=!1}return ar}finally{At=null,Ct=pn,Rt=!1}}var $t=!1,Yt=null,Kt=-1,qt=5,Wt=-1;function Jt(){return!(c.unstable_now()-Wt<qt)}function cn(){if(Yt!==null){var on=c.unstable_now();Wt=on;var hn=!0;try{hn=Yt(!0,on)}finally{hn?sn():($t=!1,Yt=null)}}else $t=!1}var sn;if(typeof Ot=="function")sn=function(){Ot(cn)};else if(typeof MessageChannel<"u"){var Tn=new MessageChannel,Cn=Tn.port2;Tn.port1.onmessage=cn,sn=function(){Cn.postMessage(null)}}else sn=function(){Nt(cn,0)};function En(on){Yt=on,$t||($t=!0,sn())}function Nn(on,hn){Kt=Nt(function(){on(c.unstable_now())},hn)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(on){on.callback=null},c.unstable_continueExecution=function(){yt||Rt||(yt=!0,En(jt))},c.unstable_forceFrameRate=function(on){0>on||125<on?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):qt=0<on?Math.floor(1e3/on):5},c.unstable_getCurrentPriorityLevel=function(){return Ct},c.unstable_getFirstCallbackNode=function(){return a(xt)},c.unstable_next=function(on){switch(Ct){case 1:case 2:case 3:var hn=3;break;default:hn=Ct}var pn=Ct;Ct=hn;try{return on()}finally{Ct=pn}},c.unstable_pauseExecution=function(){},c.unstable_requestPaint=function(){},c.unstable_runWithPriority=function(on,hn){switch(on){case 1:case 2:case 3:case 4:case 5:break;default:on=3}var pn=Ct;Ct=on;try{return hn()}finally{Ct=pn}},c.unstable_scheduleCallback=function(on,hn,pn){var Pn=c.unstable_now();switch(typeof pn=="object"&&pn!==null?(pn=pn.delay,pn=typeof pn=="number"&&0<pn?Pn+pn:Pn):pn=Pn,on){case 1:var jn=-1;break;case 2:jn=250;break;case 5:jn=1073741823;break;case 4:jn=1e4;break;default:jn=5e3}return jn=pn+jn,on={id:Tt++,callback:hn,priorityLevel:on,startTime:pn,expirationTime:jn,sortIndex:-1},pn>Pn?(on.sortIndex=pn,e(St,on),a(xt)===null&&on===a(St)&&(Dt?(Lt(Kt),Kt=-1):Dt=!0,Nn(Vt,pn-Pn))):(on.sortIndex=jn,e(xt,on),yt||Rt||(yt=!0,En(jt))),on},c.unstable_shouldYield=Jt,c.unstable_wrapCallback=function(on){var hn=Ct;return function(){var pn=Ct;Ct=hn;try{return on.apply(this,arguments)}finally{Ct=pn}}}})(scheduler_production_min$1);scheduler$1.exports=scheduler_production_min$1;var schedulerExports$1=scheduler$1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports$1;function p(c){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+c,a=1;a<arguments.length;a++)e+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+c+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(c,e){ha(c,e),ha(c+"Capture",e)}function ha(c,e){for(ea[c]=e,c=0;c<e.length;c++)da.add(e[c])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(c){return ja.call(ma,c)?!0:ja.call(la,c)?!1:ka.test(c)?ma[c]=!0:(la[c]=!0,!1)}function pa(c,e,a,d){if(a!==null&&a.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return d?!1:a!==null?!a.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function qa(c,e,a,d){if(e===null||typeof e>"u"||pa(c,e,a,d))return!0;if(d)return!1;if(a!==null)switch(a.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v$1(c,e,a,d,nt,o,ht){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=d,this.attributeNamespace=nt,this.mustUseProperty=a,this.propertyName=c,this.type=e,this.sanitizeURL=o,this.removeEmptyString=ht}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){z$1[c]=new v$1(c,0,!1,c,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var e=c[0];z$1[e]=new v$1(e,1,!1,c[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(c){z$1[c]=new v$1(c,2,!1,c.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){z$1[c]=new v$1(c,2,!1,c,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){z$1[c]=new v$1(c,3,!1,c.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(c){z$1[c]=new v$1(c,3,!0,c,null,!1,!1)});["capture","download"].forEach(function(c){z$1[c]=new v$1(c,4,!1,c,null,!1,!1)});["cols","rows","size","span"].forEach(function(c){z$1[c]=new v$1(c,6,!1,c,null,!1,!1)});["rowSpan","start"].forEach(function(c){z$1[c]=new v$1(c,5,!1,c.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var e=c.replace(ra,sa);z$1[e]=new v$1(e,1,!1,c,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var e=c.replace(ra,sa);z$1[e]=new v$1(e,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(c){var e=c.replace(ra,sa);z$1[e]=new v$1(e,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(c){z$1[c]=new v$1(c,1,!1,c.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(c){z$1[c]=new v$1(c,1,!1,c.toLowerCase(),null,!0,!0)});function ta(c,e,a,d){var nt=z$1.hasOwnProperty(e)?z$1[e]:null;(nt!==null?nt.type!==0:d||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa(e,a,nt,d)&&(a=null),d||nt===null?oa(e)&&(a===null?c.removeAttribute(e):c.setAttribute(e,""+a)):nt.mustUseProperty?c[nt.propertyName]=a===null?nt.type===3?!1:"":a:(e=nt.attributeName,d=nt.attributeNamespace,a===null?c.removeAttribute(e):(nt=nt.type,a=nt===3||nt===4&&a===!0?"":""+a,d?c.setAttributeNS(d,e,a):c.setAttribute(e,a))))}var ua$1=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(c){return c===null||typeof c!="object"?null:(c=Ja&&c[Ja]||c["@@iterator"],typeof c=="function"?c:null)}var A$2=Object.assign,La;function Ma(c){if(La===void 0)try{throw Error()}catch(a){var e=a.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+c}var Na=!1;function Oa(c,e){if(!c||Na)return"";Na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(St){var d=St}Reflect.construct(c,[],e)}else{try{e.call()}catch(St){d=St}c.call(e.prototype)}else{try{throw Error()}catch(St){d=St}c()}}catch(St){if(St&&d&&typeof St.stack=="string"){for(var nt=St.stack.split(`
`),o=d.stack.split(`
`),ht=nt.length-1,vt=o.length-1;1<=ht&&0<=vt&&nt[ht]!==o[vt];)vt--;for(;1<=ht&&0<=vt;ht--,vt--)if(nt[ht]!==o[vt]){if(ht!==1||vt!==1)do if(ht--,vt--,0>vt||nt[ht]!==o[vt]){var xt=`
`+nt[ht].replace(" at new "," at ");return c.displayName&&xt.includes("<anonymous>")&&(xt=xt.replace("<anonymous>",c.displayName)),xt}while(1<=ht&&0<=vt);break}}}finally{Na=!1,Error.prepareStackTrace=a}return(c=c?c.displayName||c.name:"")?Ma(c):""}function Pa(c){switch(c.tag){case 5:return Ma(c.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return c=Oa(c.type,!1),c;case 11:return c=Oa(c.type.render,!1),c;case 1:return c=Oa(c.type,!0),c;default:return""}}function Qa(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case Ca:return(c.displayName||"Context")+".Consumer";case Ba:return(c._context.displayName||"Context")+".Provider";case Da:var e=c.render;return c=c.displayName,c||(c=e.displayName||e.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case Ga:return e=c.displayName||null,e!==null?e:Qa(c.type)||"Memo";case Ha:e=c._payload,c=c._init;try{return Qa(c(e))}catch{}}return null}function Ra(c){var e=c.type;switch(c.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=e.render,c=c.displayName||c.name||"",e.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(e);case 8:return e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Ta(c){var e=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua(c){var e=Ta(c)?"checked":"value",a=Object.getOwnPropertyDescriptor(c.constructor.prototype,e),d=""+c[e];if(!c.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var nt=a.get,o=a.set;return Object.defineProperty(c,e,{configurable:!0,get:function(){return nt.call(this)},set:function(ht){d=""+ht,o.call(this,ht)}}),Object.defineProperty(c,e,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(ht){d=""+ht},stopTracking:function(){c._valueTracker=null,delete c[e]}}}}function Va(c){c._valueTracker||(c._valueTracker=Ua(c))}function Wa(c){if(!c)return!1;var e=c._valueTracker;if(!e)return!0;var a=e.getValue(),d="";return c&&(d=Ta(c)?c.checked?"true":"false":c.value),c=d,c!==a?(e.setValue(c),!0):!1}function Xa(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Ya(c,e){var a=e.checked;return A$2({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??c._wrapperState.initialChecked})}function Za(c,e){var a=e.defaultValue==null?"":e.defaultValue,d=e.checked!=null?e.checked:e.defaultChecked;a=Sa(e.value!=null?e.value:a),c._wrapperState={initialChecked:d,initialValue:a,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(c,e){e=e.checked,e!=null&&ta(c,"checked",e,!1)}function bb(c,e){ab(c,e);var a=Sa(e.value),d=e.type;if(a!=null)d==="number"?(a===0&&c.value===""||c.value!=a)&&(c.value=""+a):c.value!==""+a&&(c.value=""+a);else if(d==="submit"||d==="reset"){c.removeAttribute("value");return}e.hasOwnProperty("value")?cb(c,e.type,a):e.hasOwnProperty("defaultValue")&&cb(c,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(c.defaultChecked=!!e.defaultChecked)}function db(c,e,a){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var d=e.type;if(!(d!=="submit"&&d!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+c._wrapperState.initialValue,a||e===c.value||(c.value=e),c.defaultValue=e}a=c.name,a!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,a!==""&&(c.name=a)}function cb(c,e,a){(e!=="number"||Xa(c.ownerDocument)!==c)&&(a==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+a&&(c.defaultValue=""+a))}var eb=Array.isArray;function fb(c,e,a,d){if(c=c.options,e){e={};for(var nt=0;nt<a.length;nt++)e["$"+a[nt]]=!0;for(a=0;a<c.length;a++)nt=e.hasOwnProperty("$"+c[a].value),c[a].selected!==nt&&(c[a].selected=nt),nt&&d&&(c[a].defaultSelected=!0)}else{for(a=""+Sa(a),e=null,nt=0;nt<c.length;nt++){if(c[nt].value===a){c[nt].selected=!0,d&&(c[nt].defaultSelected=!0);return}e!==null||c[nt].disabled||(e=c[nt])}e!==null&&(e.selected=!0)}}function gb(c,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p(91));return A$2({},e,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function hb(c,e){var a=e.value;if(a==null){if(a=e.children,e=e.defaultValue,a!=null){if(e!=null)throw Error(p(92));if(eb(a)){if(1<a.length)throw Error(p(93));a=a[0]}e=a}e==null&&(e=""),a=e}c._wrapperState={initialValue:Sa(a)}}function ib(c,e){var a=Sa(e.value),d=Sa(e.defaultValue);a!=null&&(a=""+a,a!==c.value&&(c.value=a),e.defaultValue==null&&c.defaultValue!==a&&(c.defaultValue=a)),d!=null&&(c.defaultValue=""+d)}function jb(c){var e=c.textContent;e===c._wrapperState.initialValue&&e!==""&&e!==null&&(c.value=e)}function kb(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(c,e){return c==null||c==="http://www.w3.org/1999/xhtml"?kb(e):c==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var mb,nb=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,a,d,nt){MSApp.execUnsafeLocalFunction(function(){return c(e,a,d,nt)})}:c}(function(c,e){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;e.firstChild;)c.appendChild(e.firstChild)}});function ob(c,e){if(e){var a=c.firstChild;if(a&&a===c.lastChild&&a.nodeType===3){a.nodeValue=e;return}}c.textContent=e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(c){qb.forEach(function(e){e=e+c.charAt(0).toUpperCase()+c.substring(1),pb[e]=pb[c]})});function rb(c,e,a){return e==null||typeof e=="boolean"||e===""?"":a||typeof e!="number"||e===0||pb.hasOwnProperty(c)&&pb[c]?(""+e).trim():e+"px"}function sb(c,e){c=c.style;for(var a in e)if(e.hasOwnProperty(a)){var d=a.indexOf("--")===0,nt=rb(a,e[a],d);a==="float"&&(a="cssFloat"),d?c.setProperty(a,nt):c[a]=nt}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(c,e){if(e){if(tb[c]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p(137,c));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p(62))}}function vb(c,e){if(c.indexOf("-")===-1)return typeof e.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var yb=null,zb=null,Ab=null;function Bb(c){if(c=Cb(c)){if(typeof yb!="function")throw Error(p(280));var e=c.stateNode;e&&(e=Db(e),yb(c.stateNode,c.type,e))}}function Eb(c){zb?Ab?Ab.push(c):Ab=[c]:zb=c}function Fb(){if(zb){var c=zb,e=Ab;if(Ab=zb=null,Bb(c),e)for(c=0;c<e.length;c++)Bb(e[c])}}function Gb(c,e){return c(e)}function Hb(){}var Ib=!1;function Jb(c,e,a){if(Ib)return c(e,a);Ib=!0;try{return Gb(c,e,a)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(c,e){var a=c.stateNode;if(a===null)return null;var d=Db(a);if(d===null)return null;a=d[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(c=c.type,d=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!d;break e;default:c=!1}if(c)return null;if(a&&typeof a!="function")throw Error(p(231,e,typeof a));return a}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(c,e,a,d,nt,o,ht,vt,xt){var St=Array.prototype.slice.call(arguments,3);try{e.apply(a,St)}catch(Tt){this.onError(Tt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(c){Ob=!0,Pb=c}};function Tb(c,e,a,d,nt,o,ht,vt,xt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(c,e,a,d,nt,o,ht,vt,xt){if(Tb.apply(this,arguments),Ob){if(Ob){var St=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=St)}}function Vb(c){var e=c,a=c;if(c.alternate)for(;e.return;)e=e.return;else{c=e;do e=c,e.flags&4098&&(a=e.return),c=e.return;while(c)}return e.tag===3?a:null}function Wb(c){if(c.tag===13){var e=c.memoizedState;if(e===null&&(c=c.alternate,c!==null&&(e=c.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(c){if(Vb(c)!==c)throw Error(p(188))}function Yb(c){var e=c.alternate;if(!e){if(e=Vb(c),e===null)throw Error(p(188));return e!==c?null:c}for(var a=c,d=e;;){var nt=a.return;if(nt===null)break;var o=nt.alternate;if(o===null){if(d=nt.return,d!==null){a=d;continue}break}if(nt.child===o.child){for(o=nt.child;o;){if(o===a)return Xb(nt),c;if(o===d)return Xb(nt),e;o=o.sibling}throw Error(p(188))}if(a.return!==d.return)a=nt,d=o;else{for(var ht=!1,vt=nt.child;vt;){if(vt===a){ht=!0,a=nt,d=o;break}if(vt===d){ht=!0,d=nt,a=o;break}vt=vt.sibling}if(!ht){for(vt=o.child;vt;){if(vt===a){ht=!0,a=o,d=nt;break}if(vt===d){ht=!0,d=o,a=nt;break}vt=vt.sibling}if(!ht)throw Error(p(189))}}if(a.alternate!==d)throw Error(p(190))}if(a.tag!==3)throw Error(p(188));return a.stateNode.current===a?c:e}function Zb(c){return c=Yb(c),c!==null?$b(c):null}function $b(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var e=$b(c);if(e!==null)return e;c=c.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$2=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(c){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,c,void 0,(c.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(c){return c>>>=0,c===0?32:31-(pc(c)/qc|0)|0}var rc=64,sc=4194304;function tc(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function uc(c,e){var a=c.pendingLanes;if(a===0)return 0;var d=0,nt=c.suspendedLanes,o=c.pingedLanes,ht=a&268435455;if(ht!==0){var vt=ht&~nt;vt!==0?d=tc(vt):(o&=ht,o!==0&&(d=tc(o)))}else ht=a&~nt,ht!==0?d=tc(ht):o!==0&&(d=tc(o));if(d===0)return 0;if(e!==0&&e!==d&&!(e&nt)&&(nt=d&-d,o=e&-e,nt>=o||nt===16&&(o&4194240)!==0))return e;if(d&4&&(d|=a&16),e=c.entangledLanes,e!==0)for(c=c.entanglements,e&=d;0<e;)a=31-oc(e),nt=1<<a,d|=c[a],e&=~nt;return d}function vc(c,e){switch(c){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(c,e){for(var a=c.suspendedLanes,d=c.pingedLanes,nt=c.expirationTimes,o=c.pendingLanes;0<o;){var ht=31-oc(o),vt=1<<ht,xt=nt[ht];xt===-1?(!(vt&a)||vt&d)&&(nt[ht]=vc(vt,e)):xt<=e&&(c.expiredLanes|=vt),o&=~vt}}function xc(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function yc(){var c=rc;return rc<<=1,!(rc&4194240)&&(rc=64),c}function zc(c){for(var e=[],a=0;31>a;a++)e.push(c);return e}function Ac(c,e,a){c.pendingLanes|=e,e!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,e=31-oc(e),c[e]=a}function Bc(c,e){var a=c.pendingLanes&~e;c.pendingLanes=e,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=e,c.mutableReadLanes&=e,c.entangledLanes&=e,e=c.entanglements;var d=c.eventTimes;for(c=c.expirationTimes;0<a;){var nt=31-oc(a),o=1<<nt;e[nt]=0,d[nt]=-1,c[nt]=-1,a&=~o}}function Cc(c,e){var a=c.entangledLanes|=e;for(c=c.entanglements;a;){var d=31-oc(a),nt=1<<d;nt&e|c[d]&e&&(c[d]|=e),a&=~nt}}var C$2=0;function Dc(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(c,e){switch(c){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Tc(c,e,a,d,nt,o){return c===null||c.nativeEvent!==o?(c={blockedOn:e,domEventName:a,eventSystemFlags:d,nativeEvent:o,targetContainers:[nt]},e!==null&&(e=Cb(e),e!==null&&Fc(e)),c):(c.eventSystemFlags|=d,e=c.targetContainers,nt!==null&&e.indexOf(nt)===-1&&e.push(nt),c)}function Uc(c,e,a,d,nt){switch(e){case"focusin":return Lc=Tc(Lc,c,e,a,d,nt),!0;case"dragenter":return Mc=Tc(Mc,c,e,a,d,nt),!0;case"mouseover":return Nc=Tc(Nc,c,e,a,d,nt),!0;case"pointerover":var o=nt.pointerId;return Oc.set(o,Tc(Oc.get(o)||null,c,e,a,d,nt)),!0;case"gotpointercapture":return o=nt.pointerId,Pc.set(o,Tc(Pc.get(o)||null,c,e,a,d,nt)),!0}return!1}function Vc(c){var e=Wc(c.target);if(e!==null){var a=Vb(e);if(a!==null){if(e=a.tag,e===13){if(e=Wb(a),e!==null){c.blockedOn=e,Ic(c.priority,function(){Gc(a)});return}}else if(e===3&&a.stateNode.current.memoizedState.isDehydrated){c.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Xc(c){if(c.blockedOn!==null)return!1;for(var e=c.targetContainers;0<e.length;){var a=Yc(c.domEventName,c.eventSystemFlags,e[0],c.nativeEvent);if(a===null){a=c.nativeEvent;var d=new a.constructor(a.type,a);wb=d,a.target.dispatchEvent(d),wb=null}else return e=Cb(a),e!==null&&Fc(e),c.blockedOn=a,!1;e.shift()}return!0}function Zc(c,e,a){Xc(c)&&a.delete(e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(c,e){c.blockedOn===e&&(c.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(c){function e(nt){return ad(nt,c)}if(0<Kc.length){ad(Kc[0],c);for(var a=1;a<Kc.length;a++){var d=Kc[a];d.blockedOn===c&&(d.blockedOn=null)}}for(Lc!==null&&ad(Lc,c),Mc!==null&&ad(Mc,c),Nc!==null&&ad(Nc,c),Oc.forEach(e),Pc.forEach(e),a=0;a<Qc.length;a++)d=Qc[a],d.blockedOn===c&&(d.blockedOn=null);for(;0<Qc.length&&(a=Qc[0],a.blockedOn===null);)Vc(a),a.blockedOn===null&&Qc.shift()}var cd=ua$1.ReactCurrentBatchConfig,dd=!0;function ed(c,e,a,d){var nt=C$2,o=cd.transition;cd.transition=null;try{C$2=1,fd(c,e,a,d)}finally{C$2=nt,cd.transition=o}}function gd(c,e,a,d){var nt=C$2,o=cd.transition;cd.transition=null;try{C$2=4,fd(c,e,a,d)}finally{C$2=nt,cd.transition=o}}function fd(c,e,a,d){if(dd){var nt=Yc(c,e,a,d);if(nt===null)hd(c,e,d,id,a),Sc(c,d);else if(Uc(nt,c,e,a,d))d.stopPropagation();else if(Sc(c,d),e&4&&-1<Rc.indexOf(c)){for(;nt!==null;){var o=Cb(nt);if(o!==null&&Ec(o),o=Yc(c,e,a,d),o===null&&hd(c,e,d,id,a),o===nt)break;nt=o}nt!==null&&d.stopPropagation()}else hd(c,e,d,null,a)}}var id=null;function Yc(c,e,a,d){if(id=null,c=xb(d),c=Wc(c),c!==null)if(e=Vb(c),e===null)c=null;else if(a=e.tag,a===13){if(c=Wb(e),c!==null)return c;c=null}else if(a===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;c=null}else e!==c&&(c=null);return id=c,null}function jd(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var c,e=ld,a=e.length,d,nt="value"in kd?kd.value:kd.textContent,o=nt.length;for(c=0;c<a&&e[c]===nt[c];c++);var ht=a-c;for(d=1;d<=ht&&e[a-d]===nt[o-d];d++);return md=nt.slice(c,1<d?1-d:void 0)}function od(c){var e=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&e===13&&(c=13)):c=e,c===10&&(c=13),32<=c||c===13?c:0}function pd(){return!0}function qd(){return!1}function rd(c){function e(a,d,nt,o,ht){this._reactName=a,this._targetInst=nt,this.type=d,this.nativeEvent=o,this.target=ht,this.currentTarget=null;for(var vt in c)c.hasOwnProperty(vt)&&(a=c[vt],this[vt]=a?a(o):o[vt]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==yd&&(yd&&c.type==="mousemove"?(wd=c.screenX-yd.screenX,xd=c.screenY-yd.screenY):xd=wd=0,yd=c),wd)},movementY:function(c){return"movementY"in c?c.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(c){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(c):(c=Od[c])?!!e[c]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(c){if(c.key){var e=Md[c.key]||c.key;if(e!=="Unidentified")return e}return c.type==="keypress"?(c=od(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Nd[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(c){return c.type==="keypress"?od(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?od(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=String.fromCharCode(32),fe$1=!1;function ge$1(c,e){switch(c){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var ie$1=!1;function je$1(c,e){switch(c){case"compositionend":return he$1(e);case"keypress":return e.which!==32?null:(fe$1=!0,ee$1);case"textInput":return c=e.data,c===ee$1&&fe$1?null:c;default:return null}}function ke$1(c,e){if(ie$1)return c==="compositionend"||!ae$1&&ge$1(c,e)?(c=nd(),md=ld=kd=null,ie$1=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de&&e.locale!=="ko"?null:e.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(c){var e=c&&c.nodeName&&c.nodeName.toLowerCase();return e==="input"?!!le$1[c.type]:e==="textarea"}function ne$1(c,e,a,d){Eb(d),e=oe$1(e,"onChange"),0<e.length&&(a=new td("onChange","change",null,a,d),c.push({event:a,listeners:e}))}var pe=null,qe$1=null;function re$1(c){se$1(c,0)}function te$1(c){var e=ue$1(c);if(Wa(e))return c}function ve$1(c,e){if(c==="change")return e}var we$1=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe&&(pe.detachEvent("onpropertychange",Be),qe$1=pe=null)}function Be(c){if(c.propertyName==="value"&&te$1(qe$1)){var e=[];ne$1(e,qe$1,c,xb(c)),Jb(re$1,e)}}function Ce$1(c,e,a){c==="focusin"?(Ae$1(),pe=e,qe$1=a,pe.attachEvent("onpropertychange",Be)):c==="focusout"&&Ae$1()}function De$1(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return te$1(qe$1)}function Ee$1(c,e){if(c==="click")return te$1(e)}function Fe$1(c,e){if(c==="input"||c==="change")return te$1(e)}function Ge$1(c,e){return c===e&&(c!==0||1/c===1/e)||c!==c&&e!==e}var He$1=typeof Object.is=="function"?Object.is:Ge$1;function Ie$1(c,e){if(He$1(c,e))return!0;if(typeof c!="object"||c===null||typeof e!="object"||e===null)return!1;var a=Object.keys(c),d=Object.keys(e);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var nt=a[d];if(!ja.call(e,nt)||!He$1(c[nt],e[nt]))return!1}return!0}function Je$1(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Ke$1(c,e){var a=Je$1(c);c=0;for(var d;a;){if(a.nodeType===3){if(d=c+a.textContent.length,c<=e&&d>=e)return{node:a,offset:e-c};c=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Je$1(a)}}function Le(c,e){return c&&e?c===e?!0:c&&c.nodeType===3?!1:e&&e.nodeType===3?Le(c,e.parentNode):"contains"in c?c.contains(e):c.compareDocumentPosition?!!(c.compareDocumentPosition(e)&16):!1:!1}function Me$1(){for(var c=window,e=Xa();e instanceof c.HTMLIFrameElement;){try{var a=typeof e.contentWindow.location.href=="string"}catch{a=!1}if(a)c=e.contentWindow;else break;e=Xa(c.document)}return e}function Ne$1(c){var e=c&&c.nodeName&&c.nodeName.toLowerCase();return e&&(e==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||e==="textarea"||c.contentEditable==="true")}function Oe$1(c){var e=Me$1(),a=c.focusedElem,d=c.selectionRange;if(e!==a&&a&&a.ownerDocument&&Le(a.ownerDocument.documentElement,a)){if(d!==null&&Ne$1(a)){if(e=d.start,c=d.end,c===void 0&&(c=e),"selectionStart"in a)a.selectionStart=e,a.selectionEnd=Math.min(c,a.value.length);else if(c=(e=a.ownerDocument||document)&&e.defaultView||window,c.getSelection){c=c.getSelection();var nt=a.textContent.length,o=Math.min(d.start,nt);d=d.end===void 0?o:Math.min(d.end,nt),!c.extend&&o>d&&(nt=d,d=o,o=nt),nt=Ke$1(a,o);var ht=Ke$1(a,d);nt&&ht&&(c.rangeCount!==1||c.anchorNode!==nt.node||c.anchorOffset!==nt.offset||c.focusNode!==ht.node||c.focusOffset!==ht.offset)&&(e=e.createRange(),e.setStart(nt.node,nt.offset),c.removeAllRanges(),o>d?(c.addRange(e),c.extend(ht.node,ht.offset)):(e.setEnd(ht.node,ht.offset),c.addRange(e)))}}for(e=[],c=a;c=c.parentNode;)c.nodeType===1&&e.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<e.length;a++)c=e[a],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var Pe$1=ia&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re$1=null,Se$1=null,Te$1=!1;function Ue$1(c,e,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Te$1||Qe$1==null||Qe$1!==Xa(d)||(d=Qe$1,"selectionStart"in d&&Ne$1(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se$1&&Ie$1(Se$1,d)||(Se$1=d,d=oe$1(Re$1,"onSelect"),0<d.length&&(e=new td("onSelect","select",null,e,a),c.push({event:e,listeners:d}),e.target=Qe$1)))}function Ve$1(c,e){var a={};return a[c.toLowerCase()]=e.toLowerCase(),a["Webkit"+c]="webkit"+e,a["Moz"+c]="moz"+e,a}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze$1(c){if(Xe$1[c])return Xe$1[c];if(!We$1[c])return c;var e=We$1[c],a;for(a in e)if(e.hasOwnProperty(a)&&a in Ye)return Xe$1[c]=e[a];return c}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(c,e){df.set(c,e),fa(e,[c])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(c,e,a){var d=c.type||"unknown-event";c.currentTarget=a,Ub(d,e,void 0,c),c.currentTarget=null}function se$1(c,e){e=(e&4)!==0;for(var a=0;a<c.length;a++){var d=c[a],nt=d.event;d=d.listeners;e:{var o=void 0;if(e)for(var ht=d.length-1;0<=ht;ht--){var vt=d[ht],xt=vt.instance,St=vt.currentTarget;if(vt=vt.listener,xt!==o&&nt.isPropagationStopped())break e;nf(nt,vt,St),o=xt}else for(ht=0;ht<d.length;ht++){if(vt=d[ht],xt=vt.instance,St=vt.currentTarget,vt=vt.listener,xt!==o&&nt.isPropagationStopped())break e;nf(nt,vt,St),o=xt}}}if(Qb)throw c=Rb,Qb=!1,Rb=null,c}function D$2(c,e){var a=e[of];a===void 0&&(a=e[of]=new Set);var d=c+"__bubble";a.has(d)||(pf(e,c,2,!1),a.add(d))}function qf(c,e,a){var d=0;e&&(d|=4),pf(a,c,d,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(c){if(!c[rf]){c[rf]=!0,da.forEach(function(a){a!=="selectionchange"&&(mf.has(a)||qf(a,!1,c),qf(a,!0,c))});var e=c.nodeType===9?c:c.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(c,e,a,d){switch(jd(e)){case 1:var nt=ed;break;case 4:nt=gd;break;default:nt=fd}a=nt.bind(null,e,a,c),nt=void 0,!Lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(nt=!0),d?nt!==void 0?c.addEventListener(e,a,{capture:!0,passive:nt}):c.addEventListener(e,a,!0):nt!==void 0?c.addEventListener(e,a,{passive:nt}):c.addEventListener(e,a,!1)}function hd(c,e,a,d,nt){var o=d;if(!(e&1)&&!(e&2)&&d!==null)e:for(;;){if(d===null)return;var ht=d.tag;if(ht===3||ht===4){var vt=d.stateNode.containerInfo;if(vt===nt||vt.nodeType===8&&vt.parentNode===nt)break;if(ht===4)for(ht=d.return;ht!==null;){var xt=ht.tag;if((xt===3||xt===4)&&(xt=ht.stateNode.containerInfo,xt===nt||xt.nodeType===8&&xt.parentNode===nt))return;ht=ht.return}for(;vt!==null;){if(ht=Wc(vt),ht===null)return;if(xt=ht.tag,xt===5||xt===6){d=o=ht;continue e}vt=vt.parentNode}}d=d.return}Jb(function(){var St=o,Tt=xb(a),At=[];e:{var Ct=df.get(c);if(Ct!==void 0){var Rt=td,yt=c;switch(c){case"keypress":if(od(a)===0)break e;case"keydown":case"keyup":Rt=Rd;break;case"focusin":yt="focus",Rt=Fd;break;case"focusout":yt="blur",Rt=Fd;break;case"beforeblur":case"afterblur":Rt=Fd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Rt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Rt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Rt=Vd;break;case $e$1:case af:case bf:Rt=Hd;break;case cf:Rt=Xd;break;case"scroll":Rt=vd;break;case"wheel":Rt=Zd;break;case"copy":case"cut":case"paste":Rt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Rt=Td}var Dt=(e&4)!==0,Nt=!Dt&&c==="scroll",Lt=Dt?Ct!==null?Ct+"Capture":null:Ct;Dt=[];for(var Ot=St,Ft;Ot!==null;){Ft=Ot;var Vt=Ft.stateNode;if(Ft.tag===5&&Vt!==null&&(Ft=Vt,Lt!==null&&(Vt=Kb(Ot,Lt),Vt!=null&&Dt.push(tf(Ot,Vt,Ft)))),Nt)break;Ot=Ot.return}0<Dt.length&&(Ct=new Rt(Ct,yt,null,a,Tt),At.push({event:Ct,listeners:Dt}))}}if(!(e&7)){e:{if(Ct=c==="mouseover"||c==="pointerover",Rt=c==="mouseout"||c==="pointerout",Ct&&a!==wb&&(yt=a.relatedTarget||a.fromElement)&&(Wc(yt)||yt[uf]))break e;if((Rt||Ct)&&(Ct=Tt.window===Tt?Tt:(Ct=Tt.ownerDocument)?Ct.defaultView||Ct.parentWindow:window,Rt?(yt=a.relatedTarget||a.toElement,Rt=St,yt=yt?Wc(yt):null,yt!==null&&(Nt=Vb(yt),yt!==Nt||yt.tag!==5&&yt.tag!==6)&&(yt=null)):(Rt=null,yt=St),Rt!==yt)){if(Dt=Bd,Vt="onMouseLeave",Lt="onMouseEnter",Ot="mouse",(c==="pointerout"||c==="pointerover")&&(Dt=Td,Vt="onPointerLeave",Lt="onPointerEnter",Ot="pointer"),Nt=Rt==null?Ct:ue$1(Rt),Ft=yt==null?Ct:ue$1(yt),Ct=new Dt(Vt,Ot+"leave",Rt,a,Tt),Ct.target=Nt,Ct.relatedTarget=Ft,Vt=null,Wc(Tt)===St&&(Dt=new Dt(Lt,Ot+"enter",yt,a,Tt),Dt.target=Ft,Dt.relatedTarget=Nt,Vt=Dt),Nt=Vt,Rt&&yt)t:{for(Dt=Rt,Lt=yt,Ot=0,Ft=Dt;Ft;Ft=vf(Ft))Ot++;for(Ft=0,Vt=Lt;Vt;Vt=vf(Vt))Ft++;for(;0<Ot-Ft;)Dt=vf(Dt),Ot--;for(;0<Ft-Ot;)Lt=vf(Lt),Ft--;for(;Ot--;){if(Dt===Lt||Lt!==null&&Dt===Lt.alternate)break t;Dt=vf(Dt),Lt=vf(Lt)}Dt=null}else Dt=null;Rt!==null&&wf(At,Ct,Rt,Dt,!1),yt!==null&&Nt!==null&&wf(At,Nt,yt,Dt,!0)}}e:{if(Ct=St?ue$1(St):window,Rt=Ct.nodeName&&Ct.nodeName.toLowerCase(),Rt==="select"||Rt==="input"&&Ct.type==="file")var jt=ve$1;else if(me(Ct))if(we$1)jt=Fe$1;else{jt=De$1;var $t=Ce$1}else(Rt=Ct.nodeName)&&Rt.toLowerCase()==="input"&&(Ct.type==="checkbox"||Ct.type==="radio")&&(jt=Ee$1);if(jt&&(jt=jt(c,St))){ne$1(At,jt,a,Tt);break e}$t&&$t(c,Ct,St),c==="focusout"&&($t=Ct._wrapperState)&&$t.controlled&&Ct.type==="number"&&cb(Ct,"number",Ct.value)}switch($t=St?ue$1(St):window,c){case"focusin":(me($t)||$t.contentEditable==="true")&&(Qe$1=$t,Re$1=St,Se$1=null);break;case"focusout":Se$1=Re$1=Qe$1=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$1(At,a,Tt);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue$1(At,a,Tt)}var Yt;if(ae$1)e:{switch(c){case"compositionstart":var Kt="onCompositionStart";break e;case"compositionend":Kt="onCompositionEnd";break e;case"compositionupdate":Kt="onCompositionUpdate";break e}Kt=void 0}else ie$1?ge$1(c,a)&&(Kt="onCompositionEnd"):c==="keydown"&&a.keyCode===229&&(Kt="onCompositionStart");Kt&&(de&&a.locale!=="ko"&&(ie$1||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&ie$1&&(Yt=nd()):(kd=Tt,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),$t=oe$1(St,Kt),0<$t.length&&(Kt=new Ld(Kt,c,null,a,Tt),At.push({event:Kt,listeners:$t}),Yt?Kt.data=Yt:(Yt=he$1(a),Yt!==null&&(Kt.data=Yt)))),(Yt=ce$1?je$1(c,a):ke$1(c,a))&&(St=oe$1(St,"onBeforeInput"),0<St.length&&(Tt=new Ld("onBeforeInput","beforeinput",null,a,Tt),At.push({event:Tt,listeners:St}),Tt.data=Yt))}se$1(At,e)})}function tf(c,e,a){return{instance:c,listener:e,currentTarget:a}}function oe$1(c,e){for(var a=e+"Capture",d=[];c!==null;){var nt=c,o=nt.stateNode;nt.tag===5&&o!==null&&(nt=o,o=Kb(c,a),o!=null&&d.unshift(tf(c,o,nt)),o=Kb(c,e),o!=null&&d.push(tf(c,o,nt))),c=c.return}return d}function vf(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function wf(c,e,a,d,nt){for(var o=e._reactName,ht=[];a!==null&&a!==d;){var vt=a,xt=vt.alternate,St=vt.stateNode;if(xt!==null&&xt===d)break;vt.tag===5&&St!==null&&(vt=St,nt?(xt=Kb(a,o),xt!=null&&ht.unshift(tf(a,xt,vt))):nt||(xt=Kb(a,o),xt!=null&&ht.push(tf(a,xt,vt)))),a=a.return}ht.length!==0&&c.push({event:e,listeners:ht})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(c){return(typeof c=="string"?c:""+c).replace(xf,`
`).replace(yf,"")}function Af(c,e,a){if(e=zf(e),zf(c)!==e&&a)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(c,e){return c==="textarea"||c==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(c){return Hf.resolve(null).then(c).catch(If)}:Ff;function If(c){setTimeout(function(){throw c})}function Kf(c,e){var a=e,d=0;do{var nt=a.nextSibling;if(c.removeChild(a),nt&&nt.nodeType===8)if(a=nt.data,a==="/$"){if(d===0){c.removeChild(nt),bd(e);return}d--}else a!=="$"&&a!=="$?"&&a!=="$!"||d++;a=nt}while(a);bd(e)}function Lf(c){for(;c!=null;c=c.nextSibling){var e=c.nodeType;if(e===1||e===3)break;if(e===8){if(e=c.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return c}function Mf(c){c=c.previousSibling;for(var e=0;c;){if(c.nodeType===8){var a=c.data;if(a==="$"||a==="$!"||a==="$?"){if(e===0)return c;e--}else a==="/$"&&e++}c=c.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(c){var e=c[Of];if(e)return e;for(var a=c.parentNode;a;){if(e=a[uf]||a[Of]){if(a=e.alternate,e.child!==null||a!==null&&a.child!==null)for(c=Mf(c);c!==null;){if(a=c[Of])return a;c=Mf(c)}return e}c=a,a=c.parentNode}return null}function Cb(c){return c=c[Of]||c[uf],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function ue$1(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(p(33))}function Db(c){return c[Pf]||null}var Sf=[],Tf=-1;function Uf(c){return{current:c}}function E$2(c){0>Tf||(c.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(c,e){Tf++,Sf[Tf]=c.current,c.current=e}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(c,e){var a=c.type.contextTypes;if(!a)return Vf;var d=c.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===e)return d.__reactInternalMemoizedMaskedChildContext;var nt={},o;for(o in a)nt[o]=e[o];return d&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=e,c.__reactInternalMemoizedMaskedChildContext=nt),nt}function Zf(c){return c=c.childContextTypes,c!=null}function $f(){E$2(Wf),E$2(H$1)}function ag(c,e,a){if(H$1.current!==Vf)throw Error(p(168));G$2(H$1,e),G$2(Wf,a)}function bg(c,e,a){var d=c.stateNode;if(e=e.childContextTypes,typeof d.getChildContext!="function")return a;d=d.getChildContext();for(var nt in d)if(!(nt in e))throw Error(p(108,Ra(c)||"Unknown",nt));return A$2({},a,d)}function cg(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$2(H$1,c),G$2(Wf,Wf.current),!0}function dg(c,e,a){var d=c.stateNode;if(!d)throw Error(p(169));a?(c=bg(c,e,Xf),d.__reactInternalMemoizedMergedChildContext=c,E$2(Wf),E$2(H$1),G$2(H$1,c)):E$2(Wf),G$2(Wf,a)}var eg=null,fg=!1,gg=!1;function hg(c){eg===null?eg=[c]:eg.push(c)}function ig(c){fg=!0,hg(c)}function jg(){if(!gg&&eg!==null){gg=!0;var c=0,e=C$2;try{var a=eg;for(C$2=1;c<a.length;c++){var d=a[c];do d=d(!0);while(d!==null)}eg=null,fg=!1}catch(nt){throw eg!==null&&(eg=eg.slice(c+1)),ac(fc,jg),nt}finally{C$2=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(c,e){kg[lg++]=ng,kg[lg++]=mg,mg=c,ng=e}function ug(c,e,a){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=c;var d=rg;c=sg;var nt=32-oc(d)-1;d&=~(1<<nt),a+=1;var o=32-oc(e)+nt;if(30<o){var ht=nt-nt%5;o=(d&(1<<ht)-1).toString(32),d>>=ht,nt-=ht,rg=1<<32-oc(e)+nt|a<<nt|d,sg=o+c}else rg=1<<o|a<<nt|d,sg=c}function vg(c){c.return!==null&&(tg(c,1),ug(c,1,0))}function wg(c){for(;c===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;c===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(c,e){var a=Bg(5,null,null,0);a.elementType="DELETED",a.stateNode=e,a.return=c,e=c.deletions,e===null?(c.deletions=[a],c.flags|=16):e.push(a)}function Cg(c,e){switch(c.tag){case 5:var a=c.type;return e=e.nodeType!==1||a.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(c.stateNode=e,xg=c,yg=Lf(e.firstChild),!0):!1;case 6:return e=c.pendingProps===""||e.nodeType!==3?null:e,e!==null?(c.stateNode=e,xg=c,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(a=qg!==null?{id:rg,overflow:sg}:null,c.memoizedState={dehydrated:e,treeContext:a,retryLane:1073741824},a=Bg(18,null,null,0),a.stateNode=e,a.return=c,c.child=a,xg=c,yg=null,!0):!1;default:return!1}}function Dg(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Eg(c){if(I$1){var e=yg;if(e){var a=e;if(!Cg(c,e)){if(Dg(c))throw Error(p(418));e=Lf(a.nextSibling);var d=xg;e&&Cg(c,e)?Ag(d,a):(c.flags=c.flags&-4097|2,I$1=!1,xg=c)}}else{if(Dg(c))throw Error(p(418));c.flags=c.flags&-4097|2,I$1=!1,xg=c}}}function Fg(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;xg=c}function Gg(c){if(c!==xg)return!1;if(!I$1)return Fg(c),I$1=!0,!1;var e;if((e=c.tag!==3)&&!(e=c.tag!==5)&&(e=c.type,e=e!=="head"&&e!=="body"&&!Ef(c.type,c.memoizedProps)),e&&(e=yg)){if(Dg(c))throw Hg(),Error(p(418));for(;e;)Ag(c,e),e=Lf(e.nextSibling)}if(Fg(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p(317));e:{for(c=c.nextSibling,e=0;c;){if(c.nodeType===8){var a=c.data;if(a==="/$"){if(e===0){yg=Lf(c.nextSibling);break e}e--}else a!=="$"&&a!=="$!"&&a!=="$?"||e++}c=c.nextSibling}yg=null}}else yg=xg?Lf(c.stateNode.nextSibling):null;return!0}function Hg(){for(var c=yg;c;)c=Lf(c.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(c){zg===null?zg=[c]:zg.push(c)}var Kg=ua$1.ReactCurrentBatchConfig;function Lg(c,e,a){if(c=a.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(p(309));var d=a.stateNode}if(!d)throw Error(p(147,c));var nt=d,o=""+c;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(ht){var vt=nt.refs;ht===null?delete vt[o]:vt[o]=ht},e._stringRef=o,e)}if(typeof c!="string")throw Error(p(284));if(!a._owner)throw Error(p(290,c))}return c}function Mg(c,e){throw c=Object.prototype.toString.call(e),Error(p(31,c==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":c))}function Ng(c){var e=c._init;return e(c._payload)}function Og(c){function e(Lt,Ot){if(c){var Ft=Lt.deletions;Ft===null?(Lt.deletions=[Ot],Lt.flags|=16):Ft.push(Ot)}}function a(Lt,Ot){if(!c)return null;for(;Ot!==null;)e(Lt,Ot),Ot=Ot.sibling;return null}function d(Lt,Ot){for(Lt=new Map;Ot!==null;)Ot.key!==null?Lt.set(Ot.key,Ot):Lt.set(Ot.index,Ot),Ot=Ot.sibling;return Lt}function nt(Lt,Ot){return Lt=Pg(Lt,Ot),Lt.index=0,Lt.sibling=null,Lt}function o(Lt,Ot,Ft){return Lt.index=Ft,c?(Ft=Lt.alternate,Ft!==null?(Ft=Ft.index,Ft<Ot?(Lt.flags|=2,Ot):Ft):(Lt.flags|=2,Ot)):(Lt.flags|=1048576,Ot)}function ht(Lt){return c&&Lt.alternate===null&&(Lt.flags|=2),Lt}function vt(Lt,Ot,Ft,Vt){return Ot===null||Ot.tag!==6?(Ot=Qg(Ft,Lt.mode,Vt),Ot.return=Lt,Ot):(Ot=nt(Ot,Ft),Ot.return=Lt,Ot)}function xt(Lt,Ot,Ft,Vt){var jt=Ft.type;return jt===ya?Tt(Lt,Ot,Ft.props.children,Vt,Ft.key):Ot!==null&&(Ot.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===Ha&&Ng(jt)===Ot.type)?(Vt=nt(Ot,Ft.props),Vt.ref=Lg(Lt,Ot,Ft),Vt.return=Lt,Vt):(Vt=Rg(Ft.type,Ft.key,Ft.props,null,Lt.mode,Vt),Vt.ref=Lg(Lt,Ot,Ft),Vt.return=Lt,Vt)}function St(Lt,Ot,Ft,Vt){return Ot===null||Ot.tag!==4||Ot.stateNode.containerInfo!==Ft.containerInfo||Ot.stateNode.implementation!==Ft.implementation?(Ot=Sg(Ft,Lt.mode,Vt),Ot.return=Lt,Ot):(Ot=nt(Ot,Ft.children||[]),Ot.return=Lt,Ot)}function Tt(Lt,Ot,Ft,Vt,jt){return Ot===null||Ot.tag!==7?(Ot=Tg(Ft,Lt.mode,Vt,jt),Ot.return=Lt,Ot):(Ot=nt(Ot,Ft),Ot.return=Lt,Ot)}function At(Lt,Ot,Ft){if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number")return Ot=Qg(""+Ot,Lt.mode,Ft),Ot.return=Lt,Ot;if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case va:return Ft=Rg(Ot.type,Ot.key,Ot.props,null,Lt.mode,Ft),Ft.ref=Lg(Lt,null,Ot),Ft.return=Lt,Ft;case wa:return Ot=Sg(Ot,Lt.mode,Ft),Ot.return=Lt,Ot;case Ha:var Vt=Ot._init;return At(Lt,Vt(Ot._payload),Ft)}if(eb(Ot)||Ka(Ot))return Ot=Tg(Ot,Lt.mode,Ft,null),Ot.return=Lt,Ot;Mg(Lt,Ot)}return null}function Ct(Lt,Ot,Ft,Vt){var jt=Ot!==null?Ot.key:null;if(typeof Ft=="string"&&Ft!==""||typeof Ft=="number")return jt!==null?null:vt(Lt,Ot,""+Ft,Vt);if(typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case va:return Ft.key===jt?xt(Lt,Ot,Ft,Vt):null;case wa:return Ft.key===jt?St(Lt,Ot,Ft,Vt):null;case Ha:return jt=Ft._init,Ct(Lt,Ot,jt(Ft._payload),Vt)}if(eb(Ft)||Ka(Ft))return jt!==null?null:Tt(Lt,Ot,Ft,Vt,null);Mg(Lt,Ft)}return null}function Rt(Lt,Ot,Ft,Vt,jt){if(typeof Vt=="string"&&Vt!==""||typeof Vt=="number")return Lt=Lt.get(Ft)||null,vt(Ot,Lt,""+Vt,jt);if(typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case va:return Lt=Lt.get(Vt.key===null?Ft:Vt.key)||null,xt(Ot,Lt,Vt,jt);case wa:return Lt=Lt.get(Vt.key===null?Ft:Vt.key)||null,St(Ot,Lt,Vt,jt);case Ha:var $t=Vt._init;return Rt(Lt,Ot,Ft,$t(Vt._payload),jt)}if(eb(Vt)||Ka(Vt))return Lt=Lt.get(Ft)||null,Tt(Ot,Lt,Vt,jt,null);Mg(Ot,Vt)}return null}function yt(Lt,Ot,Ft,Vt){for(var jt=null,$t=null,Yt=Ot,Kt=Ot=0,qt=null;Yt!==null&&Kt<Ft.length;Kt++){Yt.index>Kt?(qt=Yt,Yt=null):qt=Yt.sibling;var Wt=Ct(Lt,Yt,Ft[Kt],Vt);if(Wt===null){Yt===null&&(Yt=qt);break}c&&Yt&&Wt.alternate===null&&e(Lt,Yt),Ot=o(Wt,Ot,Kt),$t===null?jt=Wt:$t.sibling=Wt,$t=Wt,Yt=qt}if(Kt===Ft.length)return a(Lt,Yt),I$1&&tg(Lt,Kt),jt;if(Yt===null){for(;Kt<Ft.length;Kt++)Yt=At(Lt,Ft[Kt],Vt),Yt!==null&&(Ot=o(Yt,Ot,Kt),$t===null?jt=Yt:$t.sibling=Yt,$t=Yt);return I$1&&tg(Lt,Kt),jt}for(Yt=d(Lt,Yt);Kt<Ft.length;Kt++)qt=Rt(Yt,Lt,Kt,Ft[Kt],Vt),qt!==null&&(c&&qt.alternate!==null&&Yt.delete(qt.key===null?Kt:qt.key),Ot=o(qt,Ot,Kt),$t===null?jt=qt:$t.sibling=qt,$t=qt);return c&&Yt.forEach(function(Jt){return e(Lt,Jt)}),I$1&&tg(Lt,Kt),jt}function Dt(Lt,Ot,Ft,Vt){var jt=Ka(Ft);if(typeof jt!="function")throw Error(p(150));if(Ft=jt.call(Ft),Ft==null)throw Error(p(151));for(var $t=jt=null,Yt=Ot,Kt=Ot=0,qt=null,Wt=Ft.next();Yt!==null&&!Wt.done;Kt++,Wt=Ft.next()){Yt.index>Kt?(qt=Yt,Yt=null):qt=Yt.sibling;var Jt=Ct(Lt,Yt,Wt.value,Vt);if(Jt===null){Yt===null&&(Yt=qt);break}c&&Yt&&Jt.alternate===null&&e(Lt,Yt),Ot=o(Jt,Ot,Kt),$t===null?jt=Jt:$t.sibling=Jt,$t=Jt,Yt=qt}if(Wt.done)return a(Lt,Yt),I$1&&tg(Lt,Kt),jt;if(Yt===null){for(;!Wt.done;Kt++,Wt=Ft.next())Wt=At(Lt,Wt.value,Vt),Wt!==null&&(Ot=o(Wt,Ot,Kt),$t===null?jt=Wt:$t.sibling=Wt,$t=Wt);return I$1&&tg(Lt,Kt),jt}for(Yt=d(Lt,Yt);!Wt.done;Kt++,Wt=Ft.next())Wt=Rt(Yt,Lt,Kt,Wt.value,Vt),Wt!==null&&(c&&Wt.alternate!==null&&Yt.delete(Wt.key===null?Kt:Wt.key),Ot=o(Wt,Ot,Kt),$t===null?jt=Wt:$t.sibling=Wt,$t=Wt);return c&&Yt.forEach(function(cn){return e(Lt,cn)}),I$1&&tg(Lt,Kt),jt}function Nt(Lt,Ot,Ft,Vt){if(typeof Ft=="object"&&Ft!==null&&Ft.type===ya&&Ft.key===null&&(Ft=Ft.props.children),typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case va:e:{for(var jt=Ft.key,$t=Ot;$t!==null;){if($t.key===jt){if(jt=Ft.type,jt===ya){if($t.tag===7){a(Lt,$t.sibling),Ot=nt($t,Ft.props.children),Ot.return=Lt,Lt=Ot;break e}}else if($t.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===Ha&&Ng(jt)===$t.type){a(Lt,$t.sibling),Ot=nt($t,Ft.props),Ot.ref=Lg(Lt,$t,Ft),Ot.return=Lt,Lt=Ot;break e}a(Lt,$t);break}else e(Lt,$t);$t=$t.sibling}Ft.type===ya?(Ot=Tg(Ft.props.children,Lt.mode,Vt,Ft.key),Ot.return=Lt,Lt=Ot):(Vt=Rg(Ft.type,Ft.key,Ft.props,null,Lt.mode,Vt),Vt.ref=Lg(Lt,Ot,Ft),Vt.return=Lt,Lt=Vt)}return ht(Lt);case wa:e:{for($t=Ft.key;Ot!==null;){if(Ot.key===$t)if(Ot.tag===4&&Ot.stateNode.containerInfo===Ft.containerInfo&&Ot.stateNode.implementation===Ft.implementation){a(Lt,Ot.sibling),Ot=nt(Ot,Ft.children||[]),Ot.return=Lt,Lt=Ot;break e}else{a(Lt,Ot);break}else e(Lt,Ot);Ot=Ot.sibling}Ot=Sg(Ft,Lt.mode,Vt),Ot.return=Lt,Lt=Ot}return ht(Lt);case Ha:return $t=Ft._init,Nt(Lt,Ot,$t(Ft._payload),Vt)}if(eb(Ft))return yt(Lt,Ot,Ft,Vt);if(Ka(Ft))return Dt(Lt,Ot,Ft,Vt);Mg(Lt,Ft)}return typeof Ft=="string"&&Ft!==""||typeof Ft=="number"?(Ft=""+Ft,Ot!==null&&Ot.tag===6?(a(Lt,Ot.sibling),Ot=nt(Ot,Ft),Ot.return=Lt,Lt=Ot):(a(Lt,Ot),Ot=Qg(Ft,Lt.mode,Vt),Ot.return=Lt,Lt=Ot),ht(Lt)):a(Lt,Ot)}return Nt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(c){var e=Wg.current;E$2(Wg),c._currentValue=e}function bh(c,e,a){for(;c!==null;){var d=c.alternate;if((c.childLanes&e)!==e?(c.childLanes|=e,d!==null&&(d.childLanes|=e)):d!==null&&(d.childLanes&e)!==e&&(d.childLanes|=e),c===a)break;c=c.return}}function ch(c,e){Xg=c,Zg=Yg=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&e&&(dh=!0),c.firstContext=null)}function eh(c){var e=c._currentValue;if(Zg!==c)if(c={context:c,memoizedValue:e,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=c,Xg.dependencies={lanes:0,firstContext:c}}else Yg=Yg.next=c;return e}var fh=null;function gh(c){fh===null?fh=[c]:fh.push(c)}function hh(c,e,a,d){var nt=e.interleaved;return nt===null?(a.next=a,gh(e)):(a.next=nt.next,nt.next=a),e.interleaved=a,ih(c,d)}function ih(c,e){c.lanes|=e;var a=c.alternate;for(a!==null&&(a.lanes|=e),a=c,c=c.return;c!==null;)c.childLanes|=e,a=c.alternate,a!==null&&(a.childLanes|=e),a=c,c=c.return;return a.tag===3?a.stateNode:null}var jh=!1;function kh(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(c,e){c=c.updateQueue,e.updateQueue===c&&(e.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function mh(c,e){return{eventTime:c,lane:e,tag:0,payload:null,callback:null,next:null}}function nh(c,e,a){var d=c.updateQueue;if(d===null)return null;if(d=d.shared,K$1&2){var nt=d.pending;return nt===null?e.next=e:(e.next=nt.next,nt.next=e),d.pending=e,ih(c,a)}return nt=d.interleaved,nt===null?(e.next=e,gh(d)):(e.next=nt.next,nt.next=e),d.interleaved=e,ih(c,a)}function oh(c,e,a){if(e=e.updateQueue,e!==null&&(e=e.shared,(a&4194240)!==0)){var d=e.lanes;d&=c.pendingLanes,a|=d,e.lanes=a,Cc(c,a)}}function ph(c,e){var a=c.updateQueue,d=c.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var nt=null,o=null;if(a=a.firstBaseUpdate,a!==null){do{var ht={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};o===null?nt=o=ht:o=o.next=ht,a=a.next}while(a!==null);o===null?nt=o=e:o=o.next=e}else nt=o=e;a={baseState:d.baseState,firstBaseUpdate:nt,lastBaseUpdate:o,shared:d.shared,effects:d.effects},c.updateQueue=a;return}c=a.lastBaseUpdate,c===null?a.firstBaseUpdate=e:c.next=e,a.lastBaseUpdate=e}function qh(c,e,a,d){var nt=c.updateQueue;jh=!1;var o=nt.firstBaseUpdate,ht=nt.lastBaseUpdate,vt=nt.shared.pending;if(vt!==null){nt.shared.pending=null;var xt=vt,St=xt.next;xt.next=null,ht===null?o=St:ht.next=St,ht=xt;var Tt=c.alternate;Tt!==null&&(Tt=Tt.updateQueue,vt=Tt.lastBaseUpdate,vt!==ht&&(vt===null?Tt.firstBaseUpdate=St:vt.next=St,Tt.lastBaseUpdate=xt))}if(o!==null){var At=nt.baseState;ht=0,Tt=St=xt=null,vt=o;do{var Ct=vt.lane,Rt=vt.eventTime;if((d&Ct)===Ct){Tt!==null&&(Tt=Tt.next={eventTime:Rt,lane:0,tag:vt.tag,payload:vt.payload,callback:vt.callback,next:null});e:{var yt=c,Dt=vt;switch(Ct=e,Rt=a,Dt.tag){case 1:if(yt=Dt.payload,typeof yt=="function"){At=yt.call(Rt,At,Ct);break e}At=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=Dt.payload,Ct=typeof yt=="function"?yt.call(Rt,At,Ct):yt,Ct==null)break e;At=A$2({},At,Ct);break e;case 2:jh=!0}}vt.callback!==null&&vt.lane!==0&&(c.flags|=64,Ct=nt.effects,Ct===null?nt.effects=[vt]:Ct.push(vt))}else Rt={eventTime:Rt,lane:Ct,tag:vt.tag,payload:vt.payload,callback:vt.callback,next:null},Tt===null?(St=Tt=Rt,xt=At):Tt=Tt.next=Rt,ht|=Ct;if(vt=vt.next,vt===null){if(vt=nt.shared.pending,vt===null)break;Ct=vt,vt=Ct.next,Ct.next=null,nt.lastBaseUpdate=Ct,nt.shared.pending=null}}while(1);if(Tt===null&&(xt=At),nt.baseState=xt,nt.firstBaseUpdate=St,nt.lastBaseUpdate=Tt,e=nt.shared.interleaved,e!==null){nt=e;do ht|=nt.lane,nt=nt.next;while(nt!==e)}else o===null&&(nt.shared.lanes=0);rh|=ht,c.lanes=ht,c.memoizedState=At}}function sh(c,e,a){if(c=e.effects,e.effects=null,c!==null)for(e=0;e<c.length;e++){var d=c[e],nt=d.callback;if(nt!==null){if(d.callback=null,d=a,typeof nt!="function")throw Error(p(191,nt));nt.call(d)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(c){if(c===th)throw Error(p(174));return c}function yh(c,e){switch(G$2(wh,e),G$2(vh,c),G$2(uh,th),c=e.nodeType,c){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb(null,"");break;default:c=c===8?e.parentNode:e,e=c.namespaceURI||null,c=c.tagName,e=lb(e,c)}E$2(uh),G$2(uh,e)}function zh(){E$2(uh),E$2(vh),E$2(wh)}function Ah(c){xh(wh.current);var e=xh(uh.current),a=lb(e,c.type);e!==a&&(G$2(vh,c),G$2(uh,a))}function Bh(c){vh.current===c&&(E$2(uh),E$2(vh))}var L$1=Uf(0);function Ch(c){for(var e=c;e!==null;){if(e.tag===13){var a=e.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===c)break;for(;e.sibling===null;){if(e.return===null||e.return===c)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dh=[];function Eh(){for(var c=0;c<Dh.length;c++)Dh[c]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua$1.ReactCurrentDispatcher,Gh=ua$1.ReactCurrentBatchConfig,Hh=0,M$1=null,N=null,O$1=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(c,e){if(e===null)return!1;for(var a=0;a<e.length&&a<c.length;a++)if(!He$1(c[a],e[a]))return!1;return!0}function Nh(c,e,a,d,nt,o){if(Hh=o,M$1=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fh.current=c===null||c.memoizedState===null?Oh:Ph,c=a(d,nt),Jh){o=0;do{if(Jh=!1,Kh=0,25<=o)throw Error(p(301));o+=1,O$1=N=null,e.updateQueue=null,Fh.current=Qh,c=a(d,nt)}while(Jh)}if(Fh.current=Rh,e=N!==null&&N.next!==null,Hh=0,O$1=N=M$1=null,Ih=!1,e)throw Error(p(300));return c}function Sh(){var c=Kh!==0;return Kh=0,c}function Th(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$1===null?M$1.memoizedState=O$1=c:O$1=O$1.next=c,O$1}function Uh(){if(N===null){var c=M$1.alternate;c=c!==null?c.memoizedState:null}else c=N.next;var e=O$1===null?M$1.memoizedState:O$1.next;if(e!==null)O$1=e,N=c;else{if(c===null)throw Error(p(310));N=c,c={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O$1===null?M$1.memoizedState=O$1=c:O$1=O$1.next=c}return O$1}function Vh(c,e){return typeof e=="function"?e(c):e}function Wh(c){var e=Uh(),a=e.queue;if(a===null)throw Error(p(311));a.lastRenderedReducer=c;var d=N,nt=d.baseQueue,o=a.pending;if(o!==null){if(nt!==null){var ht=nt.next;nt.next=o.next,o.next=ht}d.baseQueue=nt=o,a.pending=null}if(nt!==null){o=nt.next,d=d.baseState;var vt=ht=null,xt=null,St=o;do{var Tt=St.lane;if((Hh&Tt)===Tt)xt!==null&&(xt=xt.next={lane:0,action:St.action,hasEagerState:St.hasEagerState,eagerState:St.eagerState,next:null}),d=St.hasEagerState?St.eagerState:c(d,St.action);else{var At={lane:Tt,action:St.action,hasEagerState:St.hasEagerState,eagerState:St.eagerState,next:null};xt===null?(vt=xt=At,ht=d):xt=xt.next=At,M$1.lanes|=Tt,rh|=Tt}St=St.next}while(St!==null&&St!==o);xt===null?ht=d:xt.next=vt,He$1(d,e.memoizedState)||(dh=!0),e.memoizedState=d,e.baseState=ht,e.baseQueue=xt,a.lastRenderedState=d}if(c=a.interleaved,c!==null){nt=c;do o=nt.lane,M$1.lanes|=o,rh|=o,nt=nt.next;while(nt!==c)}else nt===null&&(a.lanes=0);return[e.memoizedState,a.dispatch]}function Xh(c){var e=Uh(),a=e.queue;if(a===null)throw Error(p(311));a.lastRenderedReducer=c;var d=a.dispatch,nt=a.pending,o=e.memoizedState;if(nt!==null){a.pending=null;var ht=nt=nt.next;do o=c(o,ht.action),ht=ht.next;while(ht!==nt);He$1(o,e.memoizedState)||(dh=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),a.lastRenderedState=o}return[o,d]}function Yh(){}function Zh(c,e){var a=M$1,d=Uh(),nt=e(),o=!He$1(d.memoizedState,nt);if(o&&(d.memoizedState=nt,dh=!0),d=d.queue,$h(ai.bind(null,a,d,c),[c]),d.getSnapshot!==e||o||O$1!==null&&O$1.memoizedState.tag&1){if(a.flags|=2048,bi(9,ci.bind(null,a,d,nt,e),void 0,null),Q$1===null)throw Error(p(349));Hh&30||di(a,e,nt)}return nt}function di(c,e,a){c.flags|=16384,c={getSnapshot:e,value:a},e=M$1.updateQueue,e===null?(e={lastEffect:null,stores:null},M$1.updateQueue=e,e.stores=[c]):(a=e.stores,a===null?e.stores=[c]:a.push(c))}function ci(c,e,a,d){e.value=a,e.getSnapshot=d,ei(e)&&fi(c)}function ai(c,e,a){return a(function(){ei(e)&&fi(c)})}function ei(c){var e=c.getSnapshot;c=c.value;try{var a=e();return!He$1(c,a)}catch{return!0}}function fi(c){var e=ih(c,1);e!==null&&gi(e,c,1,-1)}function hi(c){var e=Th();return typeof c=="function"&&(c=c()),e.memoizedState=e.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:c},e.queue=c,c=c.dispatch=ii.bind(null,M$1,c),[e.memoizedState,c]}function bi(c,e,a,d){return c={tag:c,create:e,destroy:a,deps:d,next:null},e=M$1.updateQueue,e===null?(e={lastEffect:null,stores:null},M$1.updateQueue=e,e.lastEffect=c.next=c):(a=e.lastEffect,a===null?e.lastEffect=c.next=c:(d=a.next,a.next=c,c.next=d,e.lastEffect=c)),c}function ji(){return Uh().memoizedState}function ki(c,e,a,d){var nt=Th();M$1.flags|=c,nt.memoizedState=bi(1|e,a,void 0,d===void 0?null:d)}function li(c,e,a,d){var nt=Uh();d=d===void 0?null:d;var o=void 0;if(N!==null){var ht=N.memoizedState;if(o=ht.destroy,d!==null&&Mh(d,ht.deps)){nt.memoizedState=bi(e,a,o,d);return}}M$1.flags|=c,nt.memoizedState=bi(1|e,a,o,d)}function mi(c,e){return ki(8390656,8,c,e)}function $h(c,e){return li(2048,8,c,e)}function ni(c,e){return li(4,2,c,e)}function oi(c,e){return li(4,4,c,e)}function pi(c,e){if(typeof e=="function")return c=c(),e(c),function(){e(null)};if(e!=null)return c=c(),e.current=c,function(){e.current=null}}function qi(c,e,a){return a=a!=null?a.concat([c]):null,li(4,4,pi.bind(null,e,c),a)}function ri(){}function si(c,e){var a=Uh();e=e===void 0?null:e;var d=a.memoizedState;return d!==null&&e!==null&&Mh(e,d[1])?d[0]:(a.memoizedState=[c,e],c)}function ti(c,e){var a=Uh();e=e===void 0?null:e;var d=a.memoizedState;return d!==null&&e!==null&&Mh(e,d[1])?d[0]:(c=c(),a.memoizedState=[c,e],c)}function ui(c,e,a){return Hh&21?(He$1(a,e)||(a=yc(),M$1.lanes|=a,rh|=a,c.baseState=!0),e):(c.baseState&&(c.baseState=!1,dh=!0),c.memoizedState=a)}function vi(c,e){var a=C$2;C$2=a!==0&&4>a?a:4,c(!0);var d=Gh.transition;Gh.transition={};try{c(!1),e()}finally{C$2=a,Gh.transition=d}}function wi(){return Uh().memoizedState}function xi(c,e,a){var d=yi(c);if(a={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null},zi(c))Ai(e,a);else if(a=hh(c,e,a,d),a!==null){var nt=R$1();gi(a,c,d,nt),Bi(a,e,d)}}function ii(c,e,a){var d=yi(c),nt={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null};if(zi(c))Ai(e,nt);else{var o=c.alternate;if(c.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var ht=e.lastRenderedState,vt=o(ht,a);if(nt.hasEagerState=!0,nt.eagerState=vt,He$1(vt,ht)){var xt=e.interleaved;xt===null?(nt.next=nt,gh(e)):(nt.next=xt.next,xt.next=nt),e.interleaved=nt;return}}catch{}finally{}a=hh(c,e,nt,d),a!==null&&(nt=R$1(),gi(a,c,d,nt),Bi(a,e,d))}}function zi(c){var e=c.alternate;return c===M$1||e!==null&&e===M$1}function Ai(c,e){Jh=Ih=!0;var a=c.pending;a===null?e.next=e:(e.next=a.next,a.next=e),c.pending=e}function Bi(c,e,a){if(a&4194240){var d=e.lanes;d&=c.pendingLanes,a|=d,e.lanes=a,Cc(c,a)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(c,e){return Th().memoizedState=[c,e===void 0?null:e],c},useContext:eh,useEffect:mi,useImperativeHandle:function(c,e,a){return a=a!=null?a.concat([c]):null,ki(4194308,4,pi.bind(null,e,c),a)},useLayoutEffect:function(c,e){return ki(4194308,4,c,e)},useInsertionEffect:function(c,e){return ki(4,2,c,e)},useMemo:function(c,e){var a=Th();return e=e===void 0?null:e,c=c(),a.memoizedState=[c,e],c},useReducer:function(c,e,a){var d=Th();return e=a!==void 0?a(e):e,d.memoizedState=d.baseState=e,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:e},d.queue=c,c=c.dispatch=xi.bind(null,M$1,c),[d.memoizedState,c]},useRef:function(c){var e=Th();return c={current:c},e.memoizedState=c},useState:hi,useDebugValue:ri,useDeferredValue:function(c){return Th().memoizedState=c},useTransition:function(){var c=hi(!1),e=c[0];return c=vi.bind(null,c[1]),Th().memoizedState=c,[e,c]},useMutableSource:function(){},useSyncExternalStore:function(c,e,a){var d=M$1,nt=Th();if(I$1){if(a===void 0)throw Error(p(407));a=a()}else{if(a=e(),Q$1===null)throw Error(p(349));Hh&30||di(d,e,a)}nt.memoizedState=a;var o={value:a,getSnapshot:e};return nt.queue=o,mi(ai.bind(null,d,o,c),[c]),d.flags|=2048,bi(9,ci.bind(null,d,o,a,e),void 0,null),a},useId:function(){var c=Th(),e=Q$1.identifierPrefix;if(I$1){var a=sg,d=rg;a=(d&~(1<<32-oc(d)-1)).toString(32)+a,e=":"+e+"R"+a,a=Kh++,0<a&&(e+="H"+a.toString(32)),e+=":"}else a=Lh++,e=":"+e+"r"+a.toString(32)+":";return c.memoizedState=e},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(c){var e=Uh();return ui(e,N.memoizedState,c)},useTransition:function(){var c=Wh(Vh)[0],e=Uh().memoizedState;return[c,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(c){var e=Uh();return N===null?e.memoizedState=c:ui(e,N.memoizedState,c)},useTransition:function(){var c=Xh(Vh)[0],e=Uh().memoizedState;return[c,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(c,e){if(c&&c.defaultProps){e=A$2({},e),c=c.defaultProps;for(var a in c)e[a]===void 0&&(e[a]=c[a]);return e}return e}function Di(c,e,a,d){e=c.memoizedState,a=a(d,e),a=a==null?e:A$2({},e,a),c.memoizedState=a,c.lanes===0&&(c.updateQueue.baseState=a)}var Ei={isMounted:function(c){return(c=c._reactInternals)?Vb(c)===c:!1},enqueueSetState:function(c,e,a){c=c._reactInternals;var d=R$1(),nt=yi(c),o=mh(d,nt);o.payload=e,a!=null&&(o.callback=a),e=nh(c,o,nt),e!==null&&(gi(e,c,nt,d),oh(e,c,nt))},enqueueReplaceState:function(c,e,a){c=c._reactInternals;var d=R$1(),nt=yi(c),o=mh(d,nt);o.tag=1,o.payload=e,a!=null&&(o.callback=a),e=nh(c,o,nt),e!==null&&(gi(e,c,nt,d),oh(e,c,nt))},enqueueForceUpdate:function(c,e){c=c._reactInternals;var a=R$1(),d=yi(c),nt=mh(a,d);nt.tag=2,e!=null&&(nt.callback=e),e=nh(c,nt,d),e!==null&&(gi(e,c,d,a),oh(e,c,d))}};function Fi(c,e,a,d,nt,o,ht){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(d,o,ht):e.prototype&&e.prototype.isPureReactComponent?!Ie$1(a,d)||!Ie$1(nt,o):!0}function Gi(c,e,a){var d=!1,nt=Vf,o=e.contextType;return typeof o=="object"&&o!==null?o=eh(o):(nt=Zf(e)?Xf:H$1.current,d=e.contextTypes,o=(d=d!=null)?Yf(c,nt):Vf),e=new e(a,o),c.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ei,c.stateNode=e,e._reactInternals=c,d&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=nt,c.__reactInternalMemoizedMaskedChildContext=o),e}function Hi(c,e,a,d){c=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(a,d),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(a,d),e.state!==c&&Ei.enqueueReplaceState(e,e.state,null)}function Ii(c,e,a,d){var nt=c.stateNode;nt.props=a,nt.state=c.memoizedState,nt.refs={},kh(c);var o=e.contextType;typeof o=="object"&&o!==null?nt.context=eh(o):(o=Zf(e)?Xf:H$1.current,nt.context=Yf(c,o)),nt.state=c.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Di(c,e,o,a),nt.state=c.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof nt.getSnapshotBeforeUpdate=="function"||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(e=nt.state,typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount(),e!==nt.state&&Ei.enqueueReplaceState(nt,nt.state,null),qh(c,a,nt,d),nt.state=c.memoizedState),typeof nt.componentDidMount=="function"&&(c.flags|=4194308)}function Ji(c,e){try{var a="",d=e;do a+=Pa(d),d=d.return;while(d);var nt=a}catch(o){nt=`
Error generating stack: `+o.message+`
`+o.stack}return{value:c,source:e,stack:nt,digest:null}}function Ki(c,e,a){return{value:c,source:null,stack:a??null,digest:e??null}}function Li(c,e){try{console.error(e.value)}catch(a){setTimeout(function(){throw a})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(c,e,a){a=mh(-1,a),a.tag=3,a.payload={element:null};var d=e.value;return a.callback=function(){Oi||(Oi=!0,Pi=d),Li(c,e)},a}function Qi(c,e,a){a=mh(-1,a),a.tag=3;var d=c.type.getDerivedStateFromError;if(typeof d=="function"){var nt=e.value;a.payload=function(){return d(nt)},a.callback=function(){Li(c,e)}}var o=c.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(a.callback=function(){Li(c,e),typeof d!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var ht=e.stack;this.componentDidCatch(e.value,{componentStack:ht!==null?ht:""})}),a}function Si(c,e,a){var d=c.pingCache;if(d===null){d=c.pingCache=new Mi;var nt=new Set;d.set(e,nt)}else nt=d.get(e),nt===void 0&&(nt=new Set,d.set(e,nt));nt.has(a)||(nt.add(a),c=Ti.bind(null,c,e,a),e.then(c,c))}function Ui(c){do{var e;if((e=c.tag===13)&&(e=c.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return c;c=c.return}while(c!==null);return null}function Vi(c,e,a,d,nt){return c.mode&1?(c.flags|=65536,c.lanes=nt,c):(c===e?c.flags|=65536:(c.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(e=mh(-1,1),e.tag=2,nh(a,e,1))),a.lanes|=1),c)}var Wi=ua$1.ReactCurrentOwner,dh=!1;function Xi(c,e,a,d){e.child=c===null?Vg(e,null,a,d):Ug(e,c.child,a,d)}function Yi(c,e,a,d,nt){a=a.render;var o=e.ref;return ch(e,nt),d=Nh(c,e,a,d,o,nt),a=Sh(),c!==null&&!dh?(e.updateQueue=c.updateQueue,e.flags&=-2053,c.lanes&=~nt,Zi(c,e,nt)):(I$1&&a&&vg(e),e.flags|=1,Xi(c,e,d,nt),e.child)}function $i(c,e,a,d,nt){if(c===null){var o=a.type;return typeof o=="function"&&!aj(o)&&o.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(e.tag=15,e.type=o,bj(c,e,o,d,nt)):(c=Rg(a.type,null,d,e,e.mode,nt),c.ref=e.ref,c.return=e,e.child=c)}if(o=c.child,!(c.lanes&nt)){var ht=o.memoizedProps;if(a=a.compare,a=a!==null?a:Ie$1,a(ht,d)&&c.ref===e.ref)return Zi(c,e,nt)}return e.flags|=1,c=Pg(o,d),c.ref=e.ref,c.return=e,e.child=c}function bj(c,e,a,d,nt){if(c!==null){var o=c.memoizedProps;if(Ie$1(o,d)&&c.ref===e.ref)if(dh=!1,e.pendingProps=d=o,(c.lanes&nt)!==0)c.flags&131072&&(dh=!0);else return e.lanes=c.lanes,Zi(c,e,nt)}return cj(c,e,a,d,nt)}function dj(c,e,a){var d=e.pendingProps,nt=d.children,o=c!==null?c.memoizedState:null;if(d.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(ej,fj),fj|=a;else{if(!(a&1073741824))return c=o!==null?o.baseLanes|a:a,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:c,cachePool:null,transitions:null},e.updateQueue=null,G$2(ej,fj),fj|=c,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=o!==null?o.baseLanes:a,G$2(ej,fj),fj|=d}else o!==null?(d=o.baseLanes|a,e.memoizedState=null):d=a,G$2(ej,fj),fj|=d;return Xi(c,e,nt,a),e.child}function gj(c,e){var a=e.ref;(c===null&&a!==null||c!==null&&c.ref!==a)&&(e.flags|=512,e.flags|=2097152)}function cj(c,e,a,d,nt){var o=Zf(a)?Xf:H$1.current;return o=Yf(e,o),ch(e,nt),a=Nh(c,e,a,d,o,nt),d=Sh(),c!==null&&!dh?(e.updateQueue=c.updateQueue,e.flags&=-2053,c.lanes&=~nt,Zi(c,e,nt)):(I$1&&d&&vg(e),e.flags|=1,Xi(c,e,a,nt),e.child)}function hj(c,e,a,d,nt){if(Zf(a)){var o=!0;cg(e)}else o=!1;if(ch(e,nt),e.stateNode===null)ij(c,e),Gi(e,a,d),Ii(e,a,d,nt),d=!0;else if(c===null){var ht=e.stateNode,vt=e.memoizedProps;ht.props=vt;var xt=ht.context,St=a.contextType;typeof St=="object"&&St!==null?St=eh(St):(St=Zf(a)?Xf:H$1.current,St=Yf(e,St));var Tt=a.getDerivedStateFromProps,At=typeof Tt=="function"||typeof ht.getSnapshotBeforeUpdate=="function";At||typeof ht.UNSAFE_componentWillReceiveProps!="function"&&typeof ht.componentWillReceiveProps!="function"||(vt!==d||xt!==St)&&Hi(e,ht,d,St),jh=!1;var Ct=e.memoizedState;ht.state=Ct,qh(e,d,ht,nt),xt=e.memoizedState,vt!==d||Ct!==xt||Wf.current||jh?(typeof Tt=="function"&&(Di(e,a,Tt,d),xt=e.memoizedState),(vt=jh||Fi(e,a,vt,d,Ct,xt,St))?(At||typeof ht.UNSAFE_componentWillMount!="function"&&typeof ht.componentWillMount!="function"||(typeof ht.componentWillMount=="function"&&ht.componentWillMount(),typeof ht.UNSAFE_componentWillMount=="function"&&ht.UNSAFE_componentWillMount()),typeof ht.componentDidMount=="function"&&(e.flags|=4194308)):(typeof ht.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=d,e.memoizedState=xt),ht.props=d,ht.state=xt,ht.context=St,d=vt):(typeof ht.componentDidMount=="function"&&(e.flags|=4194308),d=!1)}else{ht=e.stateNode,lh(c,e),vt=e.memoizedProps,St=e.type===e.elementType?vt:Ci(e.type,vt),ht.props=St,At=e.pendingProps,Ct=ht.context,xt=a.contextType,typeof xt=="object"&&xt!==null?xt=eh(xt):(xt=Zf(a)?Xf:H$1.current,xt=Yf(e,xt));var Rt=a.getDerivedStateFromProps;(Tt=typeof Rt=="function"||typeof ht.getSnapshotBeforeUpdate=="function")||typeof ht.UNSAFE_componentWillReceiveProps!="function"&&typeof ht.componentWillReceiveProps!="function"||(vt!==At||Ct!==xt)&&Hi(e,ht,d,xt),jh=!1,Ct=e.memoizedState,ht.state=Ct,qh(e,d,ht,nt);var yt=e.memoizedState;vt!==At||Ct!==yt||Wf.current||jh?(typeof Rt=="function"&&(Di(e,a,Rt,d),yt=e.memoizedState),(St=jh||Fi(e,a,St,d,Ct,yt,xt)||!1)?(Tt||typeof ht.UNSAFE_componentWillUpdate!="function"&&typeof ht.componentWillUpdate!="function"||(typeof ht.componentWillUpdate=="function"&&ht.componentWillUpdate(d,yt,xt),typeof ht.UNSAFE_componentWillUpdate=="function"&&ht.UNSAFE_componentWillUpdate(d,yt,xt)),typeof ht.componentDidUpdate=="function"&&(e.flags|=4),typeof ht.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof ht.componentDidUpdate!="function"||vt===c.memoizedProps&&Ct===c.memoizedState||(e.flags|=4),typeof ht.getSnapshotBeforeUpdate!="function"||vt===c.memoizedProps&&Ct===c.memoizedState||(e.flags|=1024),e.memoizedProps=d,e.memoizedState=yt),ht.props=d,ht.state=yt,ht.context=xt,d=St):(typeof ht.componentDidUpdate!="function"||vt===c.memoizedProps&&Ct===c.memoizedState||(e.flags|=4),typeof ht.getSnapshotBeforeUpdate!="function"||vt===c.memoizedProps&&Ct===c.memoizedState||(e.flags|=1024),d=!1)}return jj(c,e,a,d,o,nt)}function jj(c,e,a,d,nt,o){gj(c,e);var ht=(e.flags&128)!==0;if(!d&&!ht)return nt&&dg(e,a,!1),Zi(c,e,o);d=e.stateNode,Wi.current=e;var vt=ht&&typeof a.getDerivedStateFromError!="function"?null:d.render();return e.flags|=1,c!==null&&ht?(e.child=Ug(e,c.child,null,o),e.child=Ug(e,null,vt,o)):Xi(c,e,vt,o),e.memoizedState=d.state,nt&&dg(e,a,!0),e.child}function kj(c){var e=c.stateNode;e.pendingContext?ag(c,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(c,e.context,!1),yh(c,e.containerInfo)}function lj(c,e,a,d,nt){return Ig(),Jg(nt),e.flags|=256,Xi(c,e,a,d),e.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(c){return{baseLanes:c,cachePool:null,transitions:null}}function oj(c,e,a){var d=e.pendingProps,nt=L$1.current,o=!1,ht=(e.flags&128)!==0,vt;if((vt=ht)||(vt=c!==null&&c.memoizedState===null?!1:(nt&2)!==0),vt?(o=!0,e.flags&=-129):(c===null||c.memoizedState!==null)&&(nt|=1),G$2(L$1,nt&1),c===null)return Eg(e),c=e.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(e.mode&1?c.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(ht=d.children,c=d.fallback,o?(d=e.mode,o=e.child,ht={mode:"hidden",children:ht},!(d&1)&&o!==null?(o.childLanes=0,o.pendingProps=ht):o=pj(ht,d,0,null),c=Tg(c,d,a,null),o.return=e,c.return=e,o.sibling=c,e.child=o,e.child.memoizedState=nj(a),e.memoizedState=mj,c):qj(e,ht));if(nt=c.memoizedState,nt!==null&&(vt=nt.dehydrated,vt!==null))return rj(c,e,ht,d,vt,nt,a);if(o){o=d.fallback,ht=e.mode,nt=c.child,vt=nt.sibling;var xt={mode:"hidden",children:d.children};return!(ht&1)&&e.child!==nt?(d=e.child,d.childLanes=0,d.pendingProps=xt,e.deletions=null):(d=Pg(nt,xt),d.subtreeFlags=nt.subtreeFlags&14680064),vt!==null?o=Pg(vt,o):(o=Tg(o,ht,a,null),o.flags|=2),o.return=e,d.return=e,d.sibling=o,e.child=d,d=o,o=e.child,ht=c.child.memoizedState,ht=ht===null?nj(a):{baseLanes:ht.baseLanes|a,cachePool:null,transitions:ht.transitions},o.memoizedState=ht,o.childLanes=c.childLanes&~a,e.memoizedState=mj,d}return o=c.child,c=o.sibling,d=Pg(o,{mode:"visible",children:d.children}),!(e.mode&1)&&(d.lanes=a),d.return=e,d.sibling=null,c!==null&&(a=e.deletions,a===null?(e.deletions=[c],e.flags|=16):a.push(c)),e.child=d,e.memoizedState=null,d}function qj(c,e){return e=pj({mode:"visible",children:e},c.mode,0,null),e.return=c,c.child=e}function sj(c,e,a,d){return d!==null&&Jg(d),Ug(e,c.child,null,a),c=qj(e,e.pendingProps.children),c.flags|=2,e.memoizedState=null,c}function rj(c,e,a,d,nt,o,ht){if(a)return e.flags&256?(e.flags&=-257,d=Ki(Error(p(422))),sj(c,e,ht,d)):e.memoizedState!==null?(e.child=c.child,e.flags|=128,null):(o=d.fallback,nt=e.mode,d=pj({mode:"visible",children:d.children},nt,0,null),o=Tg(o,nt,ht,null),o.flags|=2,d.return=e,o.return=e,d.sibling=o,e.child=d,e.mode&1&&Ug(e,c.child,null,ht),e.child.memoizedState=nj(ht),e.memoizedState=mj,o);if(!(e.mode&1))return sj(c,e,ht,null);if(nt.data==="$!"){if(d=nt.nextSibling&&nt.nextSibling.dataset,d)var vt=d.dgst;return d=vt,o=Error(p(419)),d=Ki(o,d,void 0),sj(c,e,ht,d)}if(vt=(ht&c.childLanes)!==0,dh||vt){if(d=Q$1,d!==null){switch(ht&-ht){case 4:nt=2;break;case 16:nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nt=32;break;case 536870912:nt=268435456;break;default:nt=0}nt=nt&(d.suspendedLanes|ht)?0:nt,nt!==0&&nt!==o.retryLane&&(o.retryLane=nt,ih(c,nt),gi(d,c,nt,-1))}return tj(),d=Ki(Error(p(421))),sj(c,e,ht,d)}return nt.data==="$?"?(e.flags|=128,e.child=c.child,e=uj.bind(null,c),nt._reactRetry=e,null):(c=o.treeContext,yg=Lf(nt.nextSibling),xg=e,I$1=!0,zg=null,c!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=c.id,sg=c.overflow,qg=e),e=qj(e,d.children),e.flags|=4096,e)}function vj(c,e,a){c.lanes|=e;var d=c.alternate;d!==null&&(d.lanes|=e),bh(c.return,e,a)}function wj(c,e,a,d,nt){var o=c.memoizedState;o===null?c.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:nt}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=d,o.tail=a,o.tailMode=nt)}function xj(c,e,a){var d=e.pendingProps,nt=d.revealOrder,o=d.tail;if(Xi(c,e,d.children,a),d=L$1.current,d&2)d=d&1|2,e.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=e.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&vj(c,a,e);else if(c.tag===19)vj(c,a,e);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}d&=1}if(G$2(L$1,d),!(e.mode&1))e.memoizedState=null;else switch(nt){case"forwards":for(a=e.child,nt=null;a!==null;)c=a.alternate,c!==null&&Ch(c)===null&&(nt=a),a=a.sibling;a=nt,a===null?(nt=e.child,e.child=null):(nt=a.sibling,a.sibling=null),wj(e,!1,nt,a,o);break;case"backwards":for(a=null,nt=e.child,e.child=null;nt!==null;){if(c=nt.alternate,c!==null&&Ch(c)===null){e.child=nt;break}c=nt.sibling,nt.sibling=a,a=nt,nt=c}wj(e,!0,a,null,o);break;case"together":wj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ij(c,e){!(e.mode&1)&&c!==null&&(c.alternate=null,e.alternate=null,e.flags|=2)}function Zi(c,e,a){if(c!==null&&(e.dependencies=c.dependencies),rh|=e.lanes,!(a&e.childLanes))return null;if(c!==null&&e.child!==c.child)throw Error(p(153));if(e.child!==null){for(c=e.child,a=Pg(c,c.pendingProps),e.child=a,a.return=e;c.sibling!==null;)c=c.sibling,a=a.sibling=Pg(c,c.pendingProps),a.return=e;a.sibling=null}return e.child}function yj(c,e,a){switch(e.tag){case 3:kj(e),Ig();break;case 5:Ah(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:yh(e,e.stateNode.containerInfo);break;case 10:var d=e.type._context,nt=e.memoizedProps.value;G$2(Wg,d._currentValue),d._currentValue=nt;break;case 13:if(d=e.memoizedState,d!==null)return d.dehydrated!==null?(G$2(L$1,L$1.current&1),e.flags|=128,null):a&e.child.childLanes?oj(c,e,a):(G$2(L$1,L$1.current&1),c=Zi(c,e,a),c!==null?c.sibling:null);G$2(L$1,L$1.current&1);break;case 19:if(d=(a&e.childLanes)!==0,c.flags&128){if(d)return xj(c,e,a);e.flags|=128}if(nt=e.memoizedState,nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),G$2(L$1,L$1.current),d)break;return null;case 22:case 23:return e.lanes=0,dj(c,e,a)}return Zi(c,e,a)}var zj,Aj,Bj,Cj;zj=function(c,e){for(var a=e.child;a!==null;){if(a.tag===5||a.tag===6)c.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Aj=function(){};Bj=function(c,e,a,d){var nt=c.memoizedProps;if(nt!==d){c=e.stateNode,xh(uh.current);var o=null;switch(a){case"input":nt=Ya(c,nt),d=Ya(c,d),o=[];break;case"select":nt=A$2({},nt,{value:void 0}),d=A$2({},d,{value:void 0}),o=[];break;case"textarea":nt=gb(c,nt),d=gb(c,d),o=[];break;default:typeof nt.onClick!="function"&&typeof d.onClick=="function"&&(c.onclick=Bf)}ub(a,d);var ht;a=null;for(St in nt)if(!d.hasOwnProperty(St)&&nt.hasOwnProperty(St)&&nt[St]!=null)if(St==="style"){var vt=nt[St];for(ht in vt)vt.hasOwnProperty(ht)&&(a||(a={}),a[ht]="")}else St!=="dangerouslySetInnerHTML"&&St!=="children"&&St!=="suppressContentEditableWarning"&&St!=="suppressHydrationWarning"&&St!=="autoFocus"&&(ea.hasOwnProperty(St)?o||(o=[]):(o=o||[]).push(St,null));for(St in d){var xt=d[St];if(vt=nt!=null?nt[St]:void 0,d.hasOwnProperty(St)&&xt!==vt&&(xt!=null||vt!=null))if(St==="style")if(vt){for(ht in vt)!vt.hasOwnProperty(ht)||xt&&xt.hasOwnProperty(ht)||(a||(a={}),a[ht]="");for(ht in xt)xt.hasOwnProperty(ht)&&vt[ht]!==xt[ht]&&(a||(a={}),a[ht]=xt[ht])}else a||(o||(o=[]),o.push(St,a)),a=xt;else St==="dangerouslySetInnerHTML"?(xt=xt?xt.__html:void 0,vt=vt?vt.__html:void 0,xt!=null&&vt!==xt&&(o=o||[]).push(St,xt)):St==="children"?typeof xt!="string"&&typeof xt!="number"||(o=o||[]).push(St,""+xt):St!=="suppressContentEditableWarning"&&St!=="suppressHydrationWarning"&&(ea.hasOwnProperty(St)?(xt!=null&&St==="onScroll"&&D$2("scroll",c),o||vt===xt||(o=[])):(o=o||[]).push(St,xt))}a&&(o=o||[]).push("style",a);var St=o;(e.updateQueue=St)&&(e.flags|=4)}};Cj=function(c,e,a,d){a!==d&&(e.flags|=4)};function Dj(c,e){if(!I$1)switch(c.tailMode){case"hidden":e=c.tail;for(var a=null;e!==null;)e.alternate!==null&&(a=e),e=e.sibling;a===null?c.tail=null:a.sibling=null;break;case"collapsed":a=c.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?e||c.tail===null?c.tail=null:c.tail.sibling=null:d.sibling=null}}function S$1(c){var e=c.alternate!==null&&c.alternate.child===c.child,a=0,d=0;if(e)for(var nt=c.child;nt!==null;)a|=nt.lanes|nt.childLanes,d|=nt.subtreeFlags&14680064,d|=nt.flags&14680064,nt.return=c,nt=nt.sibling;else for(nt=c.child;nt!==null;)a|=nt.lanes|nt.childLanes,d|=nt.subtreeFlags,d|=nt.flags,nt.return=c,nt=nt.sibling;return c.subtreeFlags|=d,c.childLanes=a,e}function Ej(c,e,a){var d=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(e),null;case 1:return Zf(e.type)&&$f(),S$1(e),null;case 3:return d=e.stateNode,zh(),E$2(Wf),E$2(H$1),Eh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(c===null||c.child===null)&&(Gg(e)?e.flags|=4:c===null||c.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(c,e),S$1(e),null;case 5:Bh(e);var nt=xh(wh.current);if(a=e.type,c!==null&&e.stateNode!=null)Bj(c,e,a,d,nt),c.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!d){if(e.stateNode===null)throw Error(p(166));return S$1(e),null}if(c=xh(uh.current),Gg(e)){d=e.stateNode,a=e.type;var o=e.memoizedProps;switch(d[Of]=e,d[Pf]=o,c=(e.mode&1)!==0,a){case"dialog":D$2("cancel",d),D$2("close",d);break;case"iframe":case"object":case"embed":D$2("load",d);break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$2(lf[nt],d);break;case"source":D$2("error",d);break;case"img":case"image":case"link":D$2("error",d),D$2("load",d);break;case"details":D$2("toggle",d);break;case"input":Za(d,o),D$2("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!o.multiple},D$2("invalid",d);break;case"textarea":hb(d,o),D$2("invalid",d)}ub(a,o),nt=null;for(var ht in o)if(o.hasOwnProperty(ht)){var vt=o[ht];ht==="children"?typeof vt=="string"?d.textContent!==vt&&(o.suppressHydrationWarning!==!0&&Af(d.textContent,vt,c),nt=["children",vt]):typeof vt=="number"&&d.textContent!==""+vt&&(o.suppressHydrationWarning!==!0&&Af(d.textContent,vt,c),nt=["children",""+vt]):ea.hasOwnProperty(ht)&&vt!=null&&ht==="onScroll"&&D$2("scroll",d)}switch(a){case"input":Va(d),db(d,o,!0);break;case"textarea":Va(d),jb(d);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(d.onclick=Bf)}d=nt,e.updateQueue=d,d!==null&&(e.flags|=4)}else{ht=nt.nodeType===9?nt:nt.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=kb(a)),c==="http://www.w3.org/1999/xhtml"?a==="script"?(c=ht.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof d.is=="string"?c=ht.createElement(a,{is:d.is}):(c=ht.createElement(a),a==="select"&&(ht=c,d.multiple?ht.multiple=!0:d.size&&(ht.size=d.size))):c=ht.createElementNS(c,a),c[Of]=e,c[Pf]=d,zj(c,e,!1,!1),e.stateNode=c;e:{switch(ht=vb(a,d),a){case"dialog":D$2("cancel",c),D$2("close",c),nt=d;break;case"iframe":case"object":case"embed":D$2("load",c),nt=d;break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$2(lf[nt],c);nt=d;break;case"source":D$2("error",c),nt=d;break;case"img":case"image":case"link":D$2("error",c),D$2("load",c),nt=d;break;case"details":D$2("toggle",c),nt=d;break;case"input":Za(c,d),nt=Ya(c,d),D$2("invalid",c);break;case"option":nt=d;break;case"select":c._wrapperState={wasMultiple:!!d.multiple},nt=A$2({},d,{value:void 0}),D$2("invalid",c);break;case"textarea":hb(c,d),nt=gb(c,d),D$2("invalid",c);break;default:nt=d}ub(a,nt),vt=nt;for(o in vt)if(vt.hasOwnProperty(o)){var xt=vt[o];o==="style"?sb(c,xt):o==="dangerouslySetInnerHTML"?(xt=xt?xt.__html:void 0,xt!=null&&nb(c,xt)):o==="children"?typeof xt=="string"?(a!=="textarea"||xt!=="")&&ob(c,xt):typeof xt=="number"&&ob(c,""+xt):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ea.hasOwnProperty(o)?xt!=null&&o==="onScroll"&&D$2("scroll",c):xt!=null&&ta(c,o,xt,ht))}switch(a){case"input":Va(c),db(c,d,!1);break;case"textarea":Va(c),jb(c);break;case"option":d.value!=null&&c.setAttribute("value",""+Sa(d.value));break;case"select":c.multiple=!!d.multiple,o=d.value,o!=null?fb(c,!!d.multiple,o,!1):d.defaultValue!=null&&fb(c,!!d.multiple,d.defaultValue,!0);break;default:typeof nt.onClick=="function"&&(c.onclick=Bf)}switch(a){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S$1(e),null;case 6:if(c&&e.stateNode!=null)Cj(c,e,c.memoizedProps,d);else{if(typeof d!="string"&&e.stateNode===null)throw Error(p(166));if(a=xh(wh.current),xh(uh.current),Gg(e)){if(d=e.stateNode,a=e.memoizedProps,d[Of]=e,(o=d.nodeValue!==a)&&(c=xg,c!==null))switch(c.tag){case 3:Af(d.nodeValue,a,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Af(d.nodeValue,a,(c.mode&1)!==0)}o&&(e.flags|=4)}else d=(a.nodeType===9?a:a.ownerDocument).createTextNode(d),d[Of]=e,e.stateNode=d}return S$1(e),null;case 13:if(E$2(L$1),d=e.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&e.mode&1&&!(e.flags&128))Hg(),Ig(),e.flags|=98560,o=!1;else if(o=Gg(e),d!==null&&d.dehydrated!==null){if(c===null){if(!o)throw Error(p(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(p(317));o[Of]=e}else Ig(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;S$1(e),o=!1}else zg!==null&&(Fj(zg),zg=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=a,e):(d=d!==null,d!==(c!==null&&c.memoizedState!==null)&&d&&(e.child.flags|=8192,e.mode&1&&(c===null||L$1.current&1?T$2===0&&(T$2=3):tj())),e.updateQueue!==null&&(e.flags|=4),S$1(e),null);case 4:return zh(),Aj(c,e),c===null&&sf(e.stateNode.containerInfo),S$1(e),null;case 10:return ah(e.type._context),S$1(e),null;case 17:return Zf(e.type)&&$f(),S$1(e),null;case 19:if(E$2(L$1),o=e.memoizedState,o===null)return S$1(e),null;if(d=(e.flags&128)!==0,ht=o.rendering,ht===null)if(d)Dj(o,!1);else{if(T$2!==0||c!==null&&c.flags&128)for(c=e.child;c!==null;){if(ht=Ch(c),ht!==null){for(e.flags|=128,Dj(o,!1),d=ht.updateQueue,d!==null&&(e.updateQueue=d,e.flags|=4),e.subtreeFlags=0,d=a,a=e.child;a!==null;)o=a,c=d,o.flags&=14680066,ht=o.alternate,ht===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=ht.childLanes,o.lanes=ht.lanes,o.child=ht.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=ht.memoizedProps,o.memoizedState=ht.memoizedState,o.updateQueue=ht.updateQueue,o.type=ht.type,c=ht.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a=a.sibling;return G$2(L$1,L$1.current&1|2),e.child}c=c.sibling}o.tail!==null&&B$2()>Gj&&(e.flags|=128,d=!0,Dj(o,!1),e.lanes=4194304)}else{if(!d)if(c=Ch(ht),c!==null){if(e.flags|=128,d=!0,a=c.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),Dj(o,!0),o.tail===null&&o.tailMode==="hidden"&&!ht.alternate&&!I$1)return S$1(e),null}else 2*B$2()-o.renderingStartTime>Gj&&a!==1073741824&&(e.flags|=128,d=!0,Dj(o,!1),e.lanes=4194304);o.isBackwards?(ht.sibling=e.child,e.child=ht):(a=o.last,a!==null?a.sibling=ht:e.child=ht,o.last=ht)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=B$2(),e.sibling=null,a=L$1.current,G$2(L$1,d?a&1|2:a&1),e):(S$1(e),null);case 22:case 23:return Hj(),d=e.memoizedState!==null,c!==null&&c.memoizedState!==null!==d&&(e.flags|=8192),d&&e.mode&1?fj&1073741824&&(S$1(e),e.subtreeFlags&6&&(e.flags|=8192)):S$1(e),null;case 24:return null;case 25:return null}throw Error(p(156,e.tag))}function Ij(c,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),c=e.flags,c&65536?(e.flags=c&-65537|128,e):null;case 3:return zh(),E$2(Wf),E$2(H$1),Eh(),c=e.flags,c&65536&&!(c&128)?(e.flags=c&-65537|128,e):null;case 5:return Bh(e),null;case 13:if(E$2(L$1),c=e.memoizedState,c!==null&&c.dehydrated!==null){if(e.alternate===null)throw Error(p(340));Ig()}return c=e.flags,c&65536?(e.flags=c&-65537|128,e):null;case 19:return E$2(L$1),null;case 4:return zh(),null;case 10:return ah(e.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(c,e){var a=c.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(d){W$2(c,e,d)}else a.current=null}function Mj(c,e,a){try{a()}catch(d){W$2(c,e,d)}}var Nj=!1;function Oj(c,e){if(Cf=dd,c=Me$1(),Ne$1(c)){if("selectionStart"in c)var a={start:c.selectionStart,end:c.selectionEnd};else e:{a=(a=c.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var nt=d.anchorOffset,o=d.focusNode;d=d.focusOffset;try{a.nodeType,o.nodeType}catch{a=null;break e}var ht=0,vt=-1,xt=-1,St=0,Tt=0,At=c,Ct=null;t:for(;;){for(var Rt;At!==a||nt!==0&&At.nodeType!==3||(vt=ht+nt),At!==o||d!==0&&At.nodeType!==3||(xt=ht+d),At.nodeType===3&&(ht+=At.nodeValue.length),(Rt=At.firstChild)!==null;)Ct=At,At=Rt;for(;;){if(At===c)break t;if(Ct===a&&++St===nt&&(vt=ht),Ct===o&&++Tt===d&&(xt=ht),(Rt=At.nextSibling)!==null)break;At=Ct,Ct=At.parentNode}At=Rt}a=vt===-1||xt===-1?null:{start:vt,end:xt}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:c,selectionRange:a},dd=!1,V$1=e;V$1!==null;)if(e=V$1,c=e.child,(e.subtreeFlags&1028)!==0&&c!==null)c.return=e,V$1=c;else for(;V$1!==null;){e=V$1;try{var yt=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(yt!==null){var Dt=yt.memoizedProps,Nt=yt.memoizedState,Lt=e.stateNode,Ot=Lt.getSnapshotBeforeUpdate(e.elementType===e.type?Dt:Ci(e.type,Dt),Nt);Lt.__reactInternalSnapshotBeforeUpdate=Ot}break;case 3:var Ft=e.stateNode.containerInfo;Ft.nodeType===1?Ft.textContent="":Ft.nodeType===9&&Ft.documentElement&&Ft.removeChild(Ft.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(Vt){W$2(e,e.return,Vt)}if(c=e.sibling,c!==null){c.return=e.return,V$1=c;break}V$1=e.return}return yt=Nj,Nj=!1,yt}function Pj(c,e,a){var d=e.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var nt=d=d.next;do{if((nt.tag&c)===c){var o=nt.destroy;nt.destroy=void 0,o!==void 0&&Mj(e,a,o)}nt=nt.next}while(nt!==d)}}function Qj(c,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var a=e=e.next;do{if((a.tag&c)===c){var d=a.create;a.destroy=d()}a=a.next}while(a!==e)}}function Rj(c){var e=c.ref;if(e!==null){var a=c.stateNode;switch(c.tag){case 5:c=a;break;default:c=a}typeof e=="function"?e(c):e.current=c}}function Sj(c){var e=c.alternate;e!==null&&(c.alternate=null,Sj(e)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(e=c.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function Tj(c){return c.tag===5||c.tag===3||c.tag===4}function Uj(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Tj(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Vj(c,e,a){var d=c.tag;if(d===5||d===6)c=c.stateNode,e?a.nodeType===8?a.parentNode.insertBefore(c,e):a.insertBefore(c,e):(a.nodeType===8?(e=a.parentNode,e.insertBefore(c,a)):(e=a,e.appendChild(c)),a=a._reactRootContainer,a!=null||e.onclick!==null||(e.onclick=Bf));else if(d!==4&&(c=c.child,c!==null))for(Vj(c,e,a),c=c.sibling;c!==null;)Vj(c,e,a),c=c.sibling}function Wj(c,e,a){var d=c.tag;if(d===5||d===6)c=c.stateNode,e?a.insertBefore(c,e):a.appendChild(c);else if(d!==4&&(c=c.child,c!==null))for(Wj(c,e,a),c=c.sibling;c!==null;)Wj(c,e,a),c=c.sibling}var X$2=null,Xj=!1;function Yj(c,e,a){for(a=a.child;a!==null;)Zj(c,e,a),a=a.sibling}function Zj(c,e,a){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,a)}catch{}switch(a.tag){case 5:U$1||Lj(a,e);case 6:var d=X$2,nt=Xj;X$2=null,Yj(c,e,a),X$2=d,Xj=nt,X$2!==null&&(Xj?(c=X$2,a=a.stateNode,c.nodeType===8?c.parentNode.removeChild(a):c.removeChild(a)):X$2.removeChild(a.stateNode));break;case 18:X$2!==null&&(Xj?(c=X$2,a=a.stateNode,c.nodeType===8?Kf(c.parentNode,a):c.nodeType===1&&Kf(c,a),bd(c)):Kf(X$2,a.stateNode));break;case 4:d=X$2,nt=Xj,X$2=a.stateNode.containerInfo,Xj=!0,Yj(c,e,a),X$2=d,Xj=nt;break;case 0:case 11:case 14:case 15:if(!U$1&&(d=a.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){nt=d=d.next;do{var o=nt,ht=o.destroy;o=o.tag,ht!==void 0&&(o&2||o&4)&&Mj(a,e,ht),nt=nt.next}while(nt!==d)}Yj(c,e,a);break;case 1:if(!U$1&&(Lj(a,e),d=a.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(vt){W$2(a,e,vt)}Yj(c,e,a);break;case 21:Yj(c,e,a);break;case 22:a.mode&1?(U$1=(d=U$1)||a.memoizedState!==null,Yj(c,e,a),U$1=d):Yj(c,e,a);break;default:Yj(c,e,a)}}function ak(c){var e=c.updateQueue;if(e!==null){c.updateQueue=null;var a=c.stateNode;a===null&&(a=c.stateNode=new Kj),e.forEach(function(d){var nt=bk.bind(null,c,d);a.has(d)||(a.add(d),d.then(nt,nt))})}}function ck(c,e){var a=e.deletions;if(a!==null)for(var d=0;d<a.length;d++){var nt=a[d];try{var o=c,ht=e,vt=ht;e:for(;vt!==null;){switch(vt.tag){case 5:X$2=vt.stateNode,Xj=!1;break e;case 3:X$2=vt.stateNode.containerInfo,Xj=!0;break e;case 4:X$2=vt.stateNode.containerInfo,Xj=!0;break e}vt=vt.return}if(X$2===null)throw Error(p(160));Zj(o,ht,nt),X$2=null,Xj=!1;var xt=nt.alternate;xt!==null&&(xt.return=null),nt.return=null}catch(St){W$2(nt,e,St)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dk(e,c),e=e.sibling}function dk(c,e){var a=c.alternate,d=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(ck(e,c),ek(c),d&4){try{Pj(3,c,c.return),Qj(3,c)}catch(Dt){W$2(c,c.return,Dt)}try{Pj(5,c,c.return)}catch(Dt){W$2(c,c.return,Dt)}}break;case 1:ck(e,c),ek(c),d&512&&a!==null&&Lj(a,a.return);break;case 5:if(ck(e,c),ek(c),d&512&&a!==null&&Lj(a,a.return),c.flags&32){var nt=c.stateNode;try{ob(nt,"")}catch(Dt){W$2(c,c.return,Dt)}}if(d&4&&(nt=c.stateNode,nt!=null)){var o=c.memoizedProps,ht=a!==null?a.memoizedProps:o,vt=c.type,xt=c.updateQueue;if(c.updateQueue=null,xt!==null)try{vt==="input"&&o.type==="radio"&&o.name!=null&&ab(nt,o),vb(vt,ht);var St=vb(vt,o);for(ht=0;ht<xt.length;ht+=2){var Tt=xt[ht],At=xt[ht+1];Tt==="style"?sb(nt,At):Tt==="dangerouslySetInnerHTML"?nb(nt,At):Tt==="children"?ob(nt,At):ta(nt,Tt,At,St)}switch(vt){case"input":bb(nt,o);break;case"textarea":ib(nt,o);break;case"select":var Ct=nt._wrapperState.wasMultiple;nt._wrapperState.wasMultiple=!!o.multiple;var Rt=o.value;Rt!=null?fb(nt,!!o.multiple,Rt,!1):Ct!==!!o.multiple&&(o.defaultValue!=null?fb(nt,!!o.multiple,o.defaultValue,!0):fb(nt,!!o.multiple,o.multiple?[]:"",!1))}nt[Pf]=o}catch(Dt){W$2(c,c.return,Dt)}}break;case 6:if(ck(e,c),ek(c),d&4){if(c.stateNode===null)throw Error(p(162));nt=c.stateNode,o=c.memoizedProps;try{nt.nodeValue=o}catch(Dt){W$2(c,c.return,Dt)}}break;case 3:if(ck(e,c),ek(c),d&4&&a!==null&&a.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(Dt){W$2(c,c.return,Dt)}break;case 4:ck(e,c),ek(c);break;case 13:ck(e,c),ek(c),nt=c.child,nt.flags&8192&&(o=nt.memoizedState!==null,nt.stateNode.isHidden=o,!o||nt.alternate!==null&&nt.alternate.memoizedState!==null||(fk=B$2())),d&4&&ak(c);break;case 22:if(Tt=a!==null&&a.memoizedState!==null,c.mode&1?(U$1=(St=U$1)||Tt,ck(e,c),U$1=St):ck(e,c),ek(c),d&8192){if(St=c.memoizedState!==null,(c.stateNode.isHidden=St)&&!Tt&&c.mode&1)for(V$1=c,Tt=c.child;Tt!==null;){for(At=V$1=Tt;V$1!==null;){switch(Ct=V$1,Rt=Ct.child,Ct.tag){case 0:case 11:case 14:case 15:Pj(4,Ct,Ct.return);break;case 1:Lj(Ct,Ct.return);var yt=Ct.stateNode;if(typeof yt.componentWillUnmount=="function"){d=Ct,a=Ct.return;try{e=d,yt.props=e.memoizedProps,yt.state=e.memoizedState,yt.componentWillUnmount()}catch(Dt){W$2(d,a,Dt)}}break;case 5:Lj(Ct,Ct.return);break;case 22:if(Ct.memoizedState!==null){gk(At);continue}}Rt!==null?(Rt.return=Ct,V$1=Rt):gk(At)}Tt=Tt.sibling}e:for(Tt=null,At=c;;){if(At.tag===5){if(Tt===null){Tt=At;try{nt=At.stateNode,St?(o=nt.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(vt=At.stateNode,xt=At.memoizedProps.style,ht=xt!=null&&xt.hasOwnProperty("display")?xt.display:null,vt.style.display=rb("display",ht))}catch(Dt){W$2(c,c.return,Dt)}}}else if(At.tag===6){if(Tt===null)try{At.stateNode.nodeValue=St?"":At.memoizedProps}catch(Dt){W$2(c,c.return,Dt)}}else if((At.tag!==22&&At.tag!==23||At.memoizedState===null||At===c)&&At.child!==null){At.child.return=At,At=At.child;continue}if(At===c)break e;for(;At.sibling===null;){if(At.return===null||At.return===c)break e;Tt===At&&(Tt=null),At=At.return}Tt===At&&(Tt=null),At.sibling.return=At.return,At=At.sibling}}break;case 19:ck(e,c),ek(c),d&4&&ak(c);break;case 21:break;default:ck(e,c),ek(c)}}function ek(c){var e=c.flags;if(e&2){try{e:{for(var a=c.return;a!==null;){if(Tj(a)){var d=a;break e}a=a.return}throw Error(p(160))}switch(d.tag){case 5:var nt=d.stateNode;d.flags&32&&(ob(nt,""),d.flags&=-33);var o=Uj(c);Wj(c,o,nt);break;case 3:case 4:var ht=d.stateNode.containerInfo,vt=Uj(c);Vj(c,vt,ht);break;default:throw Error(p(161))}}catch(xt){W$2(c,c.return,xt)}c.flags&=-3}e&4096&&(c.flags&=-4097)}function hk(c,e,a){V$1=c,ik(c)}function ik(c,e,a){for(var d=(c.mode&1)!==0;V$1!==null;){var nt=V$1,o=nt.child;if(nt.tag===22&&d){var ht=nt.memoizedState!==null||Jj;if(!ht){var vt=nt.alternate,xt=vt!==null&&vt.memoizedState!==null||U$1;vt=Jj;var St=U$1;if(Jj=ht,(U$1=xt)&&!St)for(V$1=nt;V$1!==null;)ht=V$1,xt=ht.child,ht.tag===22&&ht.memoizedState!==null?jk(nt):xt!==null?(xt.return=ht,V$1=xt):jk(nt);for(;o!==null;)V$1=o,ik(o),o=o.sibling;V$1=nt,Jj=vt,U$1=St}kk(c)}else nt.subtreeFlags&8772&&o!==null?(o.return=nt,V$1=o):kk(c)}}function kk(c){for(;V$1!==null;){var e=V$1;if(e.flags&8772){var a=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:U$1||Qj(5,e);break;case 1:var d=e.stateNode;if(e.flags&4&&!U$1)if(a===null)d.componentDidMount();else{var nt=e.elementType===e.type?a.memoizedProps:Ci(e.type,a.memoizedProps);d.componentDidUpdate(nt,a.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&sh(e,o,d);break;case 3:var ht=e.updateQueue;if(ht!==null){if(a=null,e.child!==null)switch(e.child.tag){case 5:a=e.child.stateNode;break;case 1:a=e.child.stateNode}sh(e,ht,a)}break;case 5:var vt=e.stateNode;if(a===null&&e.flags&4){a=vt;var xt=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":xt.autoFocus&&a.focus();break;case"img":xt.src&&(a.src=xt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var St=e.alternate;if(St!==null){var Tt=St.memoizedState;if(Tt!==null){var At=Tt.dehydrated;At!==null&&bd(At)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U$1||e.flags&512&&Rj(e)}catch(Ct){W$2(e,e.return,Ct)}}if(e===c){V$1=null;break}if(a=e.sibling,a!==null){a.return=e.return,V$1=a;break}V$1=e.return}}function gk(c){for(;V$1!==null;){var e=V$1;if(e===c){V$1=null;break}var a=e.sibling;if(a!==null){a.return=e.return,V$1=a;break}V$1=e.return}}function jk(c){for(;V$1!==null;){var e=V$1;try{switch(e.tag){case 0:case 11:case 15:var a=e.return;try{Qj(4,e)}catch(xt){W$2(e,a,xt)}break;case 1:var d=e.stateNode;if(typeof d.componentDidMount=="function"){var nt=e.return;try{d.componentDidMount()}catch(xt){W$2(e,nt,xt)}}var o=e.return;try{Rj(e)}catch(xt){W$2(e,o,xt)}break;case 5:var ht=e.return;try{Rj(e)}catch(xt){W$2(e,ht,xt)}}}catch(xt){W$2(e,e.return,xt)}if(e===c){V$1=null;break}var vt=e.sibling;if(vt!==null){vt.return=e.return,V$1=vt;break}V$1=e.return}}var lk=Math.ceil,mk=ua$1.ReactCurrentDispatcher,nk=ua$1.ReactCurrentOwner,ok=ua$1.ReactCurrentBatchConfig,K$1=0,Q$1=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T$2=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K$1&6?B$2():Ak!==-1?Ak:Ak=B$2()}function yi(c){return c.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(c=C$2,c!==0||(c=window.event,c=c===void 0?16:jd(c.type)),c):1}function gi(c,e,a,d){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(c,a,d),(!(K$1&2)||c!==Q$1)&&(c===Q$1&&(!(K$1&2)&&(qk|=a),T$2===4&&Ck(c,Z$1)),Dk(c,d),a===1&&K$1===0&&!(e.mode&1)&&(Gj=B$2()+500,fg&&jg()))}function Dk(c,e){var a=c.callbackNode;wc(c,e);var d=uc(c,c===Q$1?Z$1:0);if(d===0)a!==null&&bc(a),c.callbackNode=null,c.callbackPriority=0;else if(e=d&-d,c.callbackPriority!==e){if(a!=null&&bc(a),e===1)c.tag===0?ig(Ek.bind(null,c)):hg(Ek.bind(null,c)),Jf(function(){!(K$1&6)&&jg()}),a=null;else{switch(Dc(d)){case 1:a=fc;break;case 4:a=gc;break;case 16:a=hc;break;case 536870912:a=jc;break;default:a=hc}a=Fk(a,Gk.bind(null,c))}c.callbackPriority=e,c.callbackNode=a}}function Gk(c,e){if(Ak=-1,Bk=0,K$1&6)throw Error(p(327));var a=c.callbackNode;if(Hk()&&c.callbackNode!==a)return null;var d=uc(c,c===Q$1?Z$1:0);if(d===0)return null;if(d&30||d&c.expiredLanes||e)e=Ik(c,d);else{e=d;var nt=K$1;K$1|=2;var o=Jk();(Q$1!==c||Z$1!==e)&&(uk=null,Gj=B$2()+500,Kk(c,e));do try{Lk();break}catch(vt){Mk(c,vt)}while(1);$g(),mk.current=o,K$1=nt,Y$1!==null?e=0:(Q$1=null,Z$1=0,e=T$2)}if(e!==0){if(e===2&&(nt=xc(c),nt!==0&&(d=nt,e=Nk(c,nt))),e===1)throw a=pk,Kk(c,0),Ck(c,d),Dk(c,B$2()),a;if(e===6)Ck(c,d);else{if(nt=c.current.alternate,!(d&30)&&!Ok(nt)&&(e=Ik(c,d),e===2&&(o=xc(c),o!==0&&(d=o,e=Nk(c,o))),e===1))throw a=pk,Kk(c,0),Ck(c,d),Dk(c,B$2()),a;switch(c.finishedWork=nt,c.finishedLanes=d,e){case 0:case 1:throw Error(p(345));case 2:Pk(c,tk,uk);break;case 3:if(Ck(c,d),(d&130023424)===d&&(e=fk+500-B$2(),10<e)){if(uc(c,0)!==0)break;if(nt=c.suspendedLanes,(nt&d)!==d){R$1(),c.pingedLanes|=c.suspendedLanes&nt;break}c.timeoutHandle=Ff(Pk.bind(null,c,tk,uk),e);break}Pk(c,tk,uk);break;case 4:if(Ck(c,d),(d&4194240)===d)break;for(e=c.eventTimes,nt=-1;0<d;){var ht=31-oc(d);o=1<<ht,ht=e[ht],ht>nt&&(nt=ht),d&=~o}if(d=nt,d=B$2()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*lk(d/1960))-d,10<d){c.timeoutHandle=Ff(Pk.bind(null,c,tk,uk),d);break}Pk(c,tk,uk);break;case 5:Pk(c,tk,uk);break;default:throw Error(p(329))}}}return Dk(c,B$2()),c.callbackNode===a?Gk.bind(null,c):null}function Nk(c,e){var a=sk;return c.current.memoizedState.isDehydrated&&(Kk(c,e).flags|=256),c=Ik(c,e),c!==2&&(e=tk,tk=a,e!==null&&Fj(e)),c}function Fj(c){tk===null?tk=c:tk.push.apply(tk,c)}function Ok(c){for(var e=c;;){if(e.flags&16384){var a=e.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var d=0;d<a.length;d++){var nt=a[d],o=nt.getSnapshot;nt=nt.value;try{if(!He$1(o(),nt))return!1}catch{return!1}}}if(a=e.child,e.subtreeFlags&16384&&a!==null)a.return=e,e=a;else{if(e===c)break;for(;e.sibling===null;){if(e.return===null||e.return===c)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ck(c,e){for(e&=~rk,e&=~qk,c.suspendedLanes|=e,c.pingedLanes&=~e,c=c.expirationTimes;0<e;){var a=31-oc(e),d=1<<a;c[a]=-1,e&=~d}}function Ek(c){if(K$1&6)throw Error(p(327));Hk();var e=uc(c,0);if(!(e&1))return Dk(c,B$2()),null;var a=Ik(c,e);if(c.tag!==0&&a===2){var d=xc(c);d!==0&&(e=d,a=Nk(c,d))}if(a===1)throw a=pk,Kk(c,0),Ck(c,e),Dk(c,B$2()),a;if(a===6)throw Error(p(345));return c.finishedWork=c.current.alternate,c.finishedLanes=e,Pk(c,tk,uk),Dk(c,B$2()),null}function Qk(c,e){var a=K$1;K$1|=1;try{return c(e)}finally{K$1=a,K$1===0&&(Gj=B$2()+500,fg&&jg())}}function Rk(c){wk!==null&&wk.tag===0&&!(K$1&6)&&Hk();var e=K$1;K$1|=1;var a=ok.transition,d=C$2;try{if(ok.transition=null,C$2=1,c)return c()}finally{C$2=d,ok.transition=a,K$1=e,!(K$1&6)&&jg()}}function Hj(){fj=ej.current,E$2(ej)}function Kk(c,e){c.finishedWork=null,c.finishedLanes=0;var a=c.timeoutHandle;if(a!==-1&&(c.timeoutHandle=-1,Gf(a)),Y$1!==null)for(a=Y$1.return;a!==null;){var d=a;switch(wg(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&$f();break;case 3:zh(),E$2(Wf),E$2(H$1),Eh();break;case 5:Bh(d);break;case 4:zh();break;case 13:E$2(L$1);break;case 19:E$2(L$1);break;case 10:ah(d.type._context);break;case 22:case 23:Hj()}a=a.return}if(Q$1=c,Y$1=c=Pg(c.current,null),Z$1=fj=e,T$2=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(e=0;e<fh.length;e++)if(a=fh[e],d=a.interleaved,d!==null){a.interleaved=null;var nt=d.next,o=a.pending;if(o!==null){var ht=o.next;o.next=nt,d.next=ht}a.pending=d}fh=null}return c}function Mk(c,e){do{var a=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var d=M$1.memoizedState;d!==null;){var nt=d.queue;nt!==null&&(nt.pending=null),d=d.next}Ih=!1}if(Hh=0,O$1=N=M$1=null,Jh=!1,Kh=0,nk.current=null,a===null||a.return===null){T$2=1,pk=e,Y$1=null;break}e:{var o=c,ht=a.return,vt=a,xt=e;if(e=Z$1,vt.flags|=32768,xt!==null&&typeof xt=="object"&&typeof xt.then=="function"){var St=xt,Tt=vt,At=Tt.tag;if(!(Tt.mode&1)&&(At===0||At===11||At===15)){var Ct=Tt.alternate;Ct?(Tt.updateQueue=Ct.updateQueue,Tt.memoizedState=Ct.memoizedState,Tt.lanes=Ct.lanes):(Tt.updateQueue=null,Tt.memoizedState=null)}var Rt=Ui(ht);if(Rt!==null){Rt.flags&=-257,Vi(Rt,ht,vt,o,e),Rt.mode&1&&Si(o,St,e),e=Rt,xt=St;var yt=e.updateQueue;if(yt===null){var Dt=new Set;Dt.add(xt),e.updateQueue=Dt}else yt.add(xt);break e}else{if(!(e&1)){Si(o,St,e),tj();break e}xt=Error(p(426))}}else if(I$1&&vt.mode&1){var Nt=Ui(ht);if(Nt!==null){!(Nt.flags&65536)&&(Nt.flags|=256),Vi(Nt,ht,vt,o,e),Jg(Ji(xt,vt));break e}}o=xt=Ji(xt,vt),T$2!==4&&(T$2=2),sk===null?sk=[o]:sk.push(o),o=ht;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var Lt=Ni(o,xt,e);ph(o,Lt);break e;case 1:vt=xt;var Ot=o.type,Ft=o.stateNode;if(!(o.flags&128)&&(typeof Ot.getDerivedStateFromError=="function"||Ft!==null&&typeof Ft.componentDidCatch=="function"&&(Ri===null||!Ri.has(Ft)))){o.flags|=65536,e&=-e,o.lanes|=e;var Vt=Qi(o,vt,e);ph(o,Vt);break e}}o=o.return}while(o!==null)}Sk(a)}catch(jt){e=jt,Y$1===a&&a!==null&&(Y$1=a=a.return);continue}break}while(1)}function Jk(){var c=mk.current;return mk.current=Rh,c===null?Rh:c}function tj(){(T$2===0||T$2===3||T$2===2)&&(T$2=4),Q$1===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$1,Z$1)}function Ik(c,e){var a=K$1;K$1|=2;var d=Jk();(Q$1!==c||Z$1!==e)&&(uk=null,Kk(c,e));do try{Tk();break}catch(nt){Mk(c,nt)}while(1);if($g(),K$1=a,mk.current=d,Y$1!==null)throw Error(p(261));return Q$1=null,Z$1=0,T$2}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(c){var e=Vk(c.alternate,c,fj);c.memoizedProps=c.pendingProps,e===null?Sk(c):Y$1=e,nk.current=null}function Sk(c){var e=c;do{var a=e.alternate;if(c=e.return,e.flags&32768){if(a=Ij(a,e),a!==null){a.flags&=32767,Y$1=a;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{T$2=6,Y$1=null;return}}else if(a=Ej(a,e,fj),a!==null){Y$1=a;return}if(e=e.sibling,e!==null){Y$1=e;return}Y$1=e=c}while(e!==null);T$2===0&&(T$2=5)}function Pk(c,e,a){var d=C$2,nt=ok.transition;try{ok.transition=null,C$2=1,Wk(c,e,a,d)}finally{ok.transition=nt,C$2=d}return null}function Wk(c,e,a,d){do Hk();while(wk!==null);if(K$1&6)throw Error(p(327));a=c.finishedWork;var nt=c.finishedLanes;if(a===null)return null;if(c.finishedWork=null,c.finishedLanes=0,a===c.current)throw Error(p(177));c.callbackNode=null,c.callbackPriority=0;var o=a.lanes|a.childLanes;if(Bc(c,o),c===Q$1&&(Y$1=Q$1=null,Z$1=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),o=(a.flags&15990)!==0,a.subtreeFlags&15990||o){o=ok.transition,ok.transition=null;var ht=C$2;C$2=1;var vt=K$1;K$1|=4,nk.current=null,Oj(c,a),dk(a,c),Oe$1(Df),dd=!!Cf,Df=Cf=null,c.current=a,hk(a),dc(),K$1=vt,C$2=ht,ok.transition=o}else c.current=a;if(vk&&(vk=!1,wk=c,xk=nt),o=c.pendingLanes,o===0&&(Ri=null),mc(a.stateNode),Dk(c,B$2()),e!==null)for(d=c.onRecoverableError,a=0;a<e.length;a++)nt=e[a],d(nt.value,{componentStack:nt.stack,digest:nt.digest});if(Oi)throw Oi=!1,c=Pi,Pi=null,c;return xk&1&&c.tag!==0&&Hk(),o=c.pendingLanes,o&1?c===zk?yk++:(yk=0,zk=c):yk=0,jg(),null}function Hk(){if(wk!==null){var c=Dc(xk),e=ok.transition,a=C$2;try{if(ok.transition=null,C$2=16>c?16:c,wk===null)var d=!1;else{if(c=wk,wk=null,xk=0,K$1&6)throw Error(p(331));var nt=K$1;for(K$1|=4,V$1=c.current;V$1!==null;){var o=V$1,ht=o.child;if(V$1.flags&16){var vt=o.deletions;if(vt!==null){for(var xt=0;xt<vt.length;xt++){var St=vt[xt];for(V$1=St;V$1!==null;){var Tt=V$1;switch(Tt.tag){case 0:case 11:case 15:Pj(8,Tt,o)}var At=Tt.child;if(At!==null)At.return=Tt,V$1=At;else for(;V$1!==null;){Tt=V$1;var Ct=Tt.sibling,Rt=Tt.return;if(Sj(Tt),Tt===St){V$1=null;break}if(Ct!==null){Ct.return=Rt,V$1=Ct;break}V$1=Rt}}}var yt=o.alternate;if(yt!==null){var Dt=yt.child;if(Dt!==null){yt.child=null;do{var Nt=Dt.sibling;Dt.sibling=null,Dt=Nt}while(Dt!==null)}}V$1=o}}if(o.subtreeFlags&2064&&ht!==null)ht.return=o,V$1=ht;else e:for(;V$1!==null;){if(o=V$1,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Pj(9,o,o.return)}var Lt=o.sibling;if(Lt!==null){Lt.return=o.return,V$1=Lt;break e}V$1=o.return}}var Ot=c.current;for(V$1=Ot;V$1!==null;){ht=V$1;var Ft=ht.child;if(ht.subtreeFlags&2064&&Ft!==null)Ft.return=ht,V$1=Ft;else e:for(ht=Ot;V$1!==null;){if(vt=V$1,vt.flags&2048)try{switch(vt.tag){case 0:case 11:case 15:Qj(9,vt)}}catch(jt){W$2(vt,vt.return,jt)}if(vt===ht){V$1=null;break e}var Vt=vt.sibling;if(Vt!==null){Vt.return=vt.return,V$1=Vt;break e}V$1=vt.return}}if(K$1=nt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,c)}catch{}d=!0}return d}finally{C$2=a,ok.transition=e}}return!1}function Xk(c,e,a){e=Ji(a,e),e=Ni(c,e,1),c=nh(c,e,1),e=R$1(),c!==null&&(Ac(c,1,e),Dk(c,e))}function W$2(c,e,a){if(c.tag===3)Xk(c,c,a);else for(;e!==null;){if(e.tag===3){Xk(e,c,a);break}else if(e.tag===1){var d=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ri===null||!Ri.has(d))){c=Ji(a,c),c=Qi(e,c,1),e=nh(e,c,1),c=R$1(),e!==null&&(Ac(e,1,c),Dk(e,c));break}}e=e.return}}function Ti(c,e,a){var d=c.pingCache;d!==null&&d.delete(e),e=R$1(),c.pingedLanes|=c.suspendedLanes&a,Q$1===c&&(Z$1&a)===a&&(T$2===4||T$2===3&&(Z$1&130023424)===Z$1&&500>B$2()-fk?Kk(c,0):rk|=a),Dk(c,e)}function Yk(c,e){e===0&&(c.mode&1?(e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):e=1);var a=R$1();c=ih(c,e),c!==null&&(Ac(c,e,a),Dk(c,a))}function uj(c){var e=c.memoizedState,a=0;e!==null&&(a=e.retryLane),Yk(c,a)}function bk(c,e){var a=0;switch(c.tag){case 13:var d=c.stateNode,nt=c.memoizedState;nt!==null&&(a=nt.retryLane);break;case 19:d=c.stateNode;break;default:throw Error(p(314))}d!==null&&d.delete(e),Yk(c,a)}var Vk;Vk=function(c,e,a){if(c!==null)if(c.memoizedProps!==e.pendingProps||Wf.current)dh=!0;else{if(!(c.lanes&a)&&!(e.flags&128))return dh=!1,yj(c,e,a);dh=!!(c.flags&131072)}else dh=!1,I$1&&e.flags&1048576&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var d=e.type;ij(c,e),c=e.pendingProps;var nt=Yf(e,H$1.current);ch(e,a),nt=Nh(null,e,d,c,nt,a);var o=Sh();return e.flags|=1,typeof nt=="object"&&nt!==null&&typeof nt.render=="function"&&nt.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(d)?(o=!0,cg(e)):o=!1,e.memoizedState=nt.state!==null&&nt.state!==void 0?nt.state:null,kh(e),nt.updater=Ei,e.stateNode=nt,nt._reactInternals=e,Ii(e,d,c,a),e=jj(null,e,d,!0,o,a)):(e.tag=0,I$1&&o&&vg(e),Xi(null,e,nt,a),e=e.child),e;case 16:d=e.elementType;e:{switch(ij(c,e),c=e.pendingProps,nt=d._init,d=nt(d._payload),e.type=d,nt=e.tag=Zk(d),c=Ci(d,c),nt){case 0:e=cj(null,e,d,c,a);break e;case 1:e=hj(null,e,d,c,a);break e;case 11:e=Yi(null,e,d,c,a);break e;case 14:e=$i(null,e,d,Ci(d.type,c),a);break e}throw Error(p(306,d,""))}return e;case 0:return d=e.type,nt=e.pendingProps,nt=e.elementType===d?nt:Ci(d,nt),cj(c,e,d,nt,a);case 1:return d=e.type,nt=e.pendingProps,nt=e.elementType===d?nt:Ci(d,nt),hj(c,e,d,nt,a);case 3:e:{if(kj(e),c===null)throw Error(p(387));d=e.pendingProps,o=e.memoizedState,nt=o.element,lh(c,e),qh(e,d,null,a);var ht=e.memoizedState;if(d=ht.element,o.isDehydrated)if(o={element:d,isDehydrated:!1,cache:ht.cache,pendingSuspenseBoundaries:ht.pendingSuspenseBoundaries,transitions:ht.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){nt=Ji(Error(p(423)),e),e=lj(c,e,d,a,nt);break e}else if(d!==nt){nt=Ji(Error(p(424)),e),e=lj(c,e,d,a,nt);break e}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I$1=!0,zg=null,a=Vg(e,null,d,a),e.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ig(),d===nt){e=Zi(c,e,a);break e}Xi(c,e,d,a)}e=e.child}return e;case 5:return Ah(e),c===null&&Eg(e),d=e.type,nt=e.pendingProps,o=c!==null?c.memoizedProps:null,ht=nt.children,Ef(d,nt)?ht=null:o!==null&&Ef(d,o)&&(e.flags|=32),gj(c,e),Xi(c,e,ht,a),e.child;case 6:return c===null&&Eg(e),null;case 13:return oj(c,e,a);case 4:return yh(e,e.stateNode.containerInfo),d=e.pendingProps,c===null?e.child=Ug(e,null,d,a):Xi(c,e,d,a),e.child;case 11:return d=e.type,nt=e.pendingProps,nt=e.elementType===d?nt:Ci(d,nt),Yi(c,e,d,nt,a);case 7:return Xi(c,e,e.pendingProps,a),e.child;case 8:return Xi(c,e,e.pendingProps.children,a),e.child;case 12:return Xi(c,e,e.pendingProps.children,a),e.child;case 10:e:{if(d=e.type._context,nt=e.pendingProps,o=e.memoizedProps,ht=nt.value,G$2(Wg,d._currentValue),d._currentValue=ht,o!==null)if(He$1(o.value,ht)){if(o.children===nt.children&&!Wf.current){e=Zi(c,e,a);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var vt=o.dependencies;if(vt!==null){ht=o.child;for(var xt=vt.firstContext;xt!==null;){if(xt.context===d){if(o.tag===1){xt=mh(-1,a&-a),xt.tag=2;var St=o.updateQueue;if(St!==null){St=St.shared;var Tt=St.pending;Tt===null?xt.next=xt:(xt.next=Tt.next,Tt.next=xt),St.pending=xt}}o.lanes|=a,xt=o.alternate,xt!==null&&(xt.lanes|=a),bh(o.return,a,e),vt.lanes|=a;break}xt=xt.next}}else if(o.tag===10)ht=o.type===e.type?null:o.child;else if(o.tag===18){if(ht=o.return,ht===null)throw Error(p(341));ht.lanes|=a,vt=ht.alternate,vt!==null&&(vt.lanes|=a),bh(ht,a,e),ht=o.sibling}else ht=o.child;if(ht!==null)ht.return=o;else for(ht=o;ht!==null;){if(ht===e){ht=null;break}if(o=ht.sibling,o!==null){o.return=ht.return,ht=o;break}ht=ht.return}o=ht}Xi(c,e,nt.children,a),e=e.child}return e;case 9:return nt=e.type,d=e.pendingProps.children,ch(e,a),nt=eh(nt),d=d(nt),e.flags|=1,Xi(c,e,d,a),e.child;case 14:return d=e.type,nt=Ci(d,e.pendingProps),nt=Ci(d.type,nt),$i(c,e,d,nt,a);case 15:return bj(c,e,e.type,e.pendingProps,a);case 17:return d=e.type,nt=e.pendingProps,nt=e.elementType===d?nt:Ci(d,nt),ij(c,e),e.tag=1,Zf(d)?(c=!0,cg(e)):c=!1,ch(e,a),Gi(e,d,nt),Ii(e,d,nt,a),jj(null,e,d,!0,c,a);case 19:return xj(c,e,a);case 22:return dj(c,e,a)}throw Error(p(156,e.tag))};function Fk(c,e){return ac(c,e)}function $k(c,e,a,d){this.tag=c,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(c,e,a,d){return new $k(c,e,a,d)}function aj(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Zk(c){if(typeof c=="function")return aj(c)?1:0;if(c!=null){if(c=c.$$typeof,c===Da)return 11;if(c===Ga)return 14}return 2}function Pg(c,e){var a=c.alternate;return a===null?(a=Bg(c.tag,e,c.key,c.mode),a.elementType=c.elementType,a.type=c.type,a.stateNode=c.stateNode,a.alternate=c,c.alternate=a):(a.pendingProps=e,a.type=c.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=c.flags&14680064,a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,e=c.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},a.sibling=c.sibling,a.index=c.index,a.ref=c.ref,a}function Rg(c,e,a,d,nt,o){var ht=2;if(d=c,typeof c=="function")aj(c)&&(ht=1);else if(typeof c=="string")ht=5;else e:switch(c){case ya:return Tg(a.children,nt,o,e);case za:ht=8,nt|=8;break;case Aa:return c=Bg(12,a,e,nt|2),c.elementType=Aa,c.lanes=o,c;case Ea:return c=Bg(13,a,e,nt),c.elementType=Ea,c.lanes=o,c;case Fa:return c=Bg(19,a,e,nt),c.elementType=Fa,c.lanes=o,c;case Ia:return pj(a,nt,o,e);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case Ba:ht=10;break e;case Ca:ht=9;break e;case Da:ht=11;break e;case Ga:ht=14;break e;case Ha:ht=16,d=null;break e}throw Error(p(130,c==null?c:typeof c,""))}return e=Bg(ht,a,e,nt),e.elementType=c,e.type=d,e.lanes=o,e}function Tg(c,e,a,d){return c=Bg(7,c,d,e),c.lanes=a,c}function pj(c,e,a,d){return c=Bg(22,c,d,e),c.elementType=Ia,c.lanes=a,c.stateNode={isHidden:!1},c}function Qg(c,e,a){return c=Bg(6,c,null,e),c.lanes=a,c}function Sg(c,e,a){return e=Bg(4,c.children!==null?c.children:[],c.key,e),e.lanes=a,e.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},e}function al(c,e,a,d,nt){this.tag=e,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=d,this.onRecoverableError=nt,this.mutableSourceEagerHydrationData=null}function bl(c,e,a,d,nt,o,ht,vt,xt){return c=new al(c,e,a,vt,xt),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Bg(3,null,null,e),c.current=o,o.stateNode=c,o.memoizedState={element:d,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(o),c}function cl(c,e,a){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:d==null?null:""+d,children:c,containerInfo:e,implementation:a}}function dl(c){if(!c)return Vf;c=c._reactInternals;e:{if(Vb(c)!==c||c.tag!==1)throw Error(p(170));var e=c;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(p(171))}if(c.tag===1){var a=c.type;if(Zf(a))return bg(c,a,e)}return e}function el(c,e,a,d,nt,o,ht,vt,xt){return c=bl(a,d,!0,c,nt,o,ht,vt,xt),c.context=dl(null),a=c.current,d=R$1(),nt=yi(a),o=mh(d,nt),o.callback=e??null,nh(a,o,nt),c.current.lanes=nt,Ac(c,nt,d),Dk(c,d),c}function fl(c,e,a,d){var nt=e.current,o=R$1(),ht=yi(nt);return a=dl(a),e.context===null?e.context=a:e.pendingContext=a,e=mh(o,ht),e.payload={element:c},d=d===void 0?null:d,d!==null&&(e.callback=d),c=nh(nt,e,ht),c!==null&&(gi(c,nt,ht,o),oh(c,nt,ht)),ht}function gl(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function hl(c,e){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var a=c.retryLane;c.retryLane=a!==0&&a<e?a:e}}function il(c,e){hl(c,e),(c=c.alternate)&&hl(c,e)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(c){console.error(c)};function ll(c){this._internalRoot=c}ml.prototype.render=ll.prototype.render=function(c){var e=this._internalRoot;if(e===null)throw Error(p(409));fl(c,e,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var e=c.containerInfo;Rk(function(){fl(null,c,null,null)}),e[uf]=null}};function ml(c){this._internalRoot=c}ml.prototype.unstable_scheduleHydration=function(c){if(c){var e=Hc();c={blockedOn:null,target:c,priority:e};for(var a=0;a<Qc.length&&e!==0&&e<Qc[a].priority;a++);Qc.splice(a,0,c),a===0&&Vc(c)}};function nl(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function ol(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(c,e,a,d,nt){if(nt){if(typeof d=="function"){var o=d;d=function(){var St=gl(ht);o.call(St)}}var ht=el(e,d,c,0,null,!1,!1,"",pl);return c._reactRootContainer=ht,c[uf]=ht.current,sf(c.nodeType===8?c.parentNode:c),Rk(),ht}for(;nt=c.lastChild;)c.removeChild(nt);if(typeof d=="function"){var vt=d;d=function(){var St=gl(xt);vt.call(St)}}var xt=bl(c,0,!1,null,null,!1,!1,"",pl);return c._reactRootContainer=xt,c[uf]=xt.current,sf(c.nodeType===8?c.parentNode:c),Rk(function(){fl(e,xt,a,d)}),xt}function rl(c,e,a,d,nt){var o=a._reactRootContainer;if(o){var ht=o;if(typeof nt=="function"){var vt=nt;nt=function(){var xt=gl(ht);vt.call(xt)}}fl(e,ht,c,nt)}else ht=ql(a,e,c,nt,d);return gl(ht)}Ec=function(c){switch(c.tag){case 3:var e=c.stateNode;if(e.current.memoizedState.isDehydrated){var a=tc(e.pendingLanes);a!==0&&(Cc(e,a|1),Dk(e,B$2()),!(K$1&6)&&(Gj=B$2()+500,jg()))}break;case 13:Rk(function(){var d=ih(c,1);if(d!==null){var nt=R$1();gi(d,c,1,nt)}}),il(c,1)}};Fc=function(c){if(c.tag===13){var e=ih(c,134217728);if(e!==null){var a=R$1();gi(e,c,134217728,a)}il(c,134217728)}};Gc=function(c){if(c.tag===13){var e=yi(c),a=ih(c,e);if(a!==null){var d=R$1();gi(a,c,e,d)}il(c,e)}};Hc=function(){return C$2};Ic=function(c,e){var a=C$2;try{return C$2=c,e()}finally{C$2=a}};yb=function(c,e,a){switch(e){case"input":if(bb(c,a),e=a.name,a.type==="radio"&&e!=null){for(a=c;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<a.length;e++){var d=a[e];if(d!==c&&d.form===c.form){var nt=Db(d);if(!nt)throw Error(p(90));Wa(d),bb(d,nt)}}}break;case"textarea":ib(c,a);break;case"select":e=a.value,e!=null&&fb(c,!!a.multiple,e,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$1.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Zb(c),c===null?null:c.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(c,e){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(e))throw Error(p(200));return cl(c,e,null,a)};reactDom_production_min.createRoot=function(c,e){if(!nl(c))throw Error(p(299));var a=!1,d="",nt=kl;return e!=null&&(e.unstable_strictMode===!0&&(a=!0),e.identifierPrefix!==void 0&&(d=e.identifierPrefix),e.onRecoverableError!==void 0&&(nt=e.onRecoverableError)),e=bl(c,1,!1,null,null,a,!1,d,nt),c[uf]=e.current,sf(c.nodeType===8?c.parentNode:c),new ll(e)};reactDom_production_min.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var e=c._reactInternals;if(e===void 0)throw typeof c.render=="function"?Error(p(188)):(c=Object.keys(c).join(","),Error(p(268,c)));return c=Zb(e),c=c===null?null:c.stateNode,c};reactDom_production_min.flushSync=function(c){return Rk(c)};reactDom_production_min.hydrate=function(c,e,a){if(!ol(e))throw Error(p(200));return rl(null,c,e,!0,a)};reactDom_production_min.hydrateRoot=function(c,e,a){if(!nl(c))throw Error(p(405));var d=a!=null&&a.hydratedSources||null,nt=!1,o="",ht=kl;if(a!=null&&(a.unstable_strictMode===!0&&(nt=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onRecoverableError!==void 0&&(ht=a.onRecoverableError)),e=el(e,null,c,1,a??null,nt,!1,o,ht),c[uf]=e.current,sf(c),d)for(c=0;c<d.length;c++)a=d[c],nt=a._getVersion,nt=nt(a._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[a,nt]:e.mutableSourceEagerHydrationData.push(a,nt);return new ml(e)};reactDom_production_min.render=function(c,e,a){if(!ol(e))throw Error(p(200));return rl(null,c,e,!1,a)};reactDom_production_min.unmountComponentAtNode=function(c){if(!ol(c))throw Error(p(40));return c._reactRootContainer?(Rk(function(){rl(null,null,c,!1,function(){c._reactRootContainer=null,c[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(c,e,a,d){if(!ol(a))throw Error(p(200));if(c==null||c._reactInternals===void 0)throw Error(p(38));return rl(c,e,a,!1,d)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(c){console.error(c)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot$1,m$1=reactDomExports;createRoot$1=client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(c){return this.listeners.add(c),this.onSubscribe(),()=>{this.listeners.delete(c),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer=typeof window>"u"||"Deno"in globalThis;function noop$1(){}function functionalUpdate(c,e){return typeof c=="function"?c(e):c}function isValidTimeout(c){return typeof c=="number"&&c>=0&&c!==1/0}function timeUntilStale(c,e){return Math.max(c+(e||0)-Date.now(),0)}function resolveStaleTime(c,e){return typeof c=="function"?c(e):c}function resolveEnabled(c,e){return typeof c=="function"?c(e):c}function matchQuery(c,e){const{type:a="all",exact:d,fetchStatus:nt,predicate:o,queryKey:ht,stale:vt}=c;if(ht){if(d){if(e.queryHash!==hashQueryKeyByOptions(ht,e.options))return!1}else if(!partialMatchKey(e.queryKey,ht))return!1}if(a!=="all"){const xt=e.isActive();if(a==="active"&&!xt||a==="inactive"&&xt)return!1}return!(typeof vt=="boolean"&&e.isStale()!==vt||nt&&nt!==e.state.fetchStatus||o&&!o(e))}function matchMutation(c,e){const{exact:a,status:d,predicate:nt,mutationKey:o}=c;if(o){if(!e.options.mutationKey)return!1;if(a){if(hashKey(e.options.mutationKey)!==hashKey(o))return!1}else if(!partialMatchKey(e.options.mutationKey,o))return!1}return!(d&&e.state.status!==d||nt&&!nt(e))}function hashQueryKeyByOptions(c,e){return((e==null?void 0:e.queryKeyHashFn)||hashKey)(c)}function hashKey(c){return JSON.stringify(c,(e,a)=>isPlainObject$1(a)?Object.keys(a).sort().reduce((d,nt)=>(d[nt]=a[nt],d),{}):a)}function partialMatchKey(c,e){return c===e?!0:typeof c!=typeof e?!1:c&&e&&typeof c=="object"&&typeof e=="object"?Object.keys(e).every(a=>partialMatchKey(c[a],e[a])):!1}function replaceEqualDeep(c,e){if(c===e)return c;const a=isPlainArray(c)&&isPlainArray(e);if(a||isPlainObject$1(c)&&isPlainObject$1(e)){const d=a?c:Object.keys(c),nt=d.length,o=a?e:Object.keys(e),ht=o.length,vt=a?[]:{};let xt=0;for(let St=0;St<ht;St++){const Tt=a?St:o[St];(!a&&d.includes(Tt)||a)&&c[Tt]===void 0&&e[Tt]===void 0?(vt[Tt]=void 0,xt++):(vt[Tt]=replaceEqualDeep(c[Tt],e[Tt]),vt[Tt]===c[Tt]&&c[Tt]!==void 0&&xt++)}return nt===ht&&xt===nt?c:vt}return e}function shallowEqualObjects(c,e){if(!e||Object.keys(c).length!==Object.keys(e).length)return!1;for(const a in c)if(c[a]!==e[a])return!1;return!0}function isPlainArray(c){return Array.isArray(c)&&c.length===Object.keys(c).length}function isPlainObject$1(c){if(!hasObjectPrototype(c))return!1;const e=c.constructor;if(e===void 0)return!0;const a=e.prototype;return!(!hasObjectPrototype(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(c)!==Object.prototype)}function hasObjectPrototype(c){return Object.prototype.toString.call(c)==="[object Object]"}function sleep(c){return new Promise(e=>{setTimeout(e,c)})}function replaceData(c,e,a){return typeof a.structuralSharing=="function"?a.structuralSharing(c,e):a.structuralSharing!==!1?replaceEqualDeep(c,e):e}function addToEnd(c,e,a=0){const d=[...c,e];return a&&d.length>a?d.slice(1):d}function addToStart(c,e,a=0){const d=[e,...c];return a&&d.length>a?d.slice(0,-1):d}var skipToken=Symbol();function ensureQueryFn(c,e){return!c.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!c.queryFn||c.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${c.queryHash}'`)):c.queryFn}function shouldThrowError(c,e){return typeof c=="function"?c(...e):!!c}var $p,up,qm,xw,FocusManager=(xw=class extends Subscribable{constructor(){super();Yr(this,$p,void 0);Yr(this,up,void 0);Yr(this,qm,void 0);Br(this,qm,e=>{if(!isServer&&window.addEventListener){const a=()=>e();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}})}onSubscribe(){gn(this,up)||this.setEventListener(gn(this,qm))}onUnsubscribe(){var e;this.hasListeners()||((e=gn(this,up))==null||e.call(this),Br(this,up,void 0))}setEventListener(e){var a;Br(this,qm,e),(a=gn(this,up))==null||a.call(this),Br(this,up,e(d=>{typeof d=="boolean"?this.setFocused(d):this.onFocus()}))}setFocused(e){gn(this,$p)!==e&&(Br(this,$p,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(a=>{a(e)})}isFocused(){var e;return typeof gn(this,$p)=="boolean"?gn(this,$p):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},$p=new WeakMap,up=new WeakMap,qm=new WeakMap,xw),focusManager=new FocusManager,Ym,cp,Km,Sw,OnlineManager=(Sw=class extends Subscribable{constructor(){super();Yr(this,Ym,!0);Yr(this,cp,void 0);Yr(this,Km,void 0);Br(this,Km,e=>{if(!isServer&&window.addEventListener){const a=()=>e(!0),d=()=>e(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",d,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",d)}}})}onSubscribe(){gn(this,cp)||this.setEventListener(gn(this,Km))}onUnsubscribe(){var e;this.hasListeners()||((e=gn(this,cp))==null||e.call(this),Br(this,cp,void 0))}setEventListener(e){var a;Br(this,Km,e),(a=gn(this,cp))==null||a.call(this),Br(this,cp,e(this.setOnline.bind(this)))}setOnline(e){gn(this,Ym)!==e&&(Br(this,Ym,e),this.listeners.forEach(d=>{d(e)}))}isOnline(){return gn(this,Ym)}},Ym=new WeakMap,cp=new WeakMap,Km=new WeakMap,Sw),onlineManager=new OnlineManager;function pendingThenable(){let c,e;const a=new Promise((nt,o)=>{c=nt,e=o});a.status="pending",a.catch(()=>{});function d(nt){Object.assign(a,nt),delete a.resolve,delete a.reject}return a.resolve=nt=>{d({status:"fulfilled",value:nt}),c(nt)},a.reject=nt=>{d({status:"rejected",reason:nt}),e(nt)},a}function defaultRetryDelay(c){return Math.min(1e3*2**c,3e4)}function canFetch(c){return(c??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(c){super("CancelledError"),this.revert=c==null?void 0:c.revert,this.silent=c==null?void 0:c.silent}};function isCancelledError(c){return c instanceof CancelledError}function createRetryer(c){let e=!1,a=0,d=!1,nt;const o=pendingThenable(),ht=Dt=>{var Nt;d||(Ct(new CancelledError(Dt)),(Nt=c.abort)==null||Nt.call(c))},vt=()=>{e=!0},xt=()=>{e=!1},St=()=>focusManager.isFocused()&&(c.networkMode==="always"||onlineManager.isOnline())&&c.canRun(),Tt=()=>canFetch(c.networkMode)&&c.canRun(),At=Dt=>{var Nt;d||(d=!0,(Nt=c.onSuccess)==null||Nt.call(c,Dt),nt==null||nt(),o.resolve(Dt))},Ct=Dt=>{var Nt;d||(d=!0,(Nt=c.onError)==null||Nt.call(c,Dt),nt==null||nt(),o.reject(Dt))},Rt=()=>new Promise(Dt=>{var Nt;nt=Lt=>{(d||St())&&Dt(Lt)},(Nt=c.onPause)==null||Nt.call(c)}).then(()=>{var Dt;nt=void 0,d||(Dt=c.onContinue)==null||Dt.call(c)}),yt=()=>{if(d)return;let Dt;const Nt=a===0?c.initialPromise:void 0;try{Dt=Nt??c.fn()}catch(Lt){Dt=Promise.reject(Lt)}Promise.resolve(Dt).then(At).catch(Lt=>{var $t;if(d)return;const Ot=c.retry??(isServer?0:3),Ft=c.retryDelay??defaultRetryDelay,Vt=typeof Ft=="function"?Ft(a,Lt):Ft,jt=Ot===!0||typeof Ot=="number"&&a<Ot||typeof Ot=="function"&&Ot(a,Lt);if(e||!jt){Ct(Lt);return}a++,($t=c.onFail)==null||$t.call(c,a,Lt),sleep(Vt).then(()=>St()?void 0:Rt()).then(()=>{e?Ct(Lt):yt()})})};return{promise:o,cancel:ht,continue:()=>(nt==null||nt(),o),cancelRetry:vt,continueRetry:xt,canStart:Tt,start:()=>(Tt()?yt():Rt().then(yt),o)}}var defaultScheduler=c=>setTimeout(c,0);function createNotifyManager(){let c=[],e=0,a=vt=>{vt()},d=vt=>{vt()},nt=defaultScheduler;const o=vt=>{e?c.push(vt):nt(()=>{a(vt)})},ht=()=>{const vt=c;c=[],vt.length&&nt(()=>{d(()=>{vt.forEach(xt=>{a(xt)})})})};return{batch:vt=>{let xt;e++;try{xt=vt()}finally{e--,e||ht()}return xt},batchCalls:vt=>(...xt)=>{o(()=>{vt(...xt)})},schedule:o,setNotifyFunction:vt=>{a=vt},setBatchNotifyFunction:vt=>{d=vt},setScheduler:vt=>{nt=vt}}}var notifyManager=createNotifyManager(),Wp,ww,Removable=(ww=class{constructor(){Yr(this,Wp,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&Br(this,Wp,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(c){this.gcTime=Math.max(this.gcTime||0,c??(isServer?1/0:5*60*1e3))}clearGcTimeout(){gn(this,Wp)&&(clearTimeout(gn(this,Wp)),Br(this,Wp,void 0))}},Wp=new WeakMap,ww),Qm,Zm,tu,jp,Os,m2,Xp,vu,A0,Mw,Query=(Mw=class extends Removable{constructor(e){super();Yr(this,vu);Yr(this,Qm,void 0);Yr(this,Zm,void 0);Yr(this,tu,void 0);Yr(this,jp,void 0);Yr(this,Os,void 0);Yr(this,m2,void 0);Yr(this,Xp,void 0);Br(this,Xp,!1),Br(this,m2,e.defaultOptions),this.setOptions(e.options),this.observers=[],Br(this,jp,e.client),Br(this,tu,gn(this,jp).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Br(this,Qm,getDefaultState$1(this.options)),this.state=e.state??gn(this,Qm),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=gn(this,Os))==null?void 0:e.promise}setOptions(e){this.options={...gn(this,m2),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&gn(this,tu).remove(this)}setData(e,a){const d=replaceData(this.state.data,e,this.options);return Mo(this,vu,A0).call(this,{data:d,type:"success",dataUpdatedAt:a==null?void 0:a.updatedAt,manual:a==null?void 0:a.manual}),d}setState(e,a){Mo(this,vu,A0).call(this,{type:"setState",state:e,setStateOptions:a})}cancel(e){var d,nt;const a=(d=gn(this,Os))==null?void 0:d.promise;return(nt=gn(this,Os))==null||nt.cancel(e),a?a.then(noop$1).catch(noop$1):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(gn(this,Qm))}isActive(){return this.observers.some(e=>resolveEnabled(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>resolveStaleTime(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!timeUntilStale(this.state.dataUpdatedAt,e)}onFocus(){var a;const e=this.observers.find(d=>d.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(a=gn(this,Os))==null||a.continue()}onOnline(){var a;const e=this.observers.find(d=>d.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(a=gn(this,Os))==null||a.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),gn(this,tu).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(a=>a!==e),this.observers.length||(gn(this,Os)&&(gn(this,Xp)?gn(this,Os).cancel({revert:!0}):gn(this,Os).cancelRetry()),this.scheduleGc()),gn(this,tu).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Mo(this,vu,A0).call(this,{type:"invalidate"})}fetch(e,a){var xt,St,Tt;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(a!=null&&a.cancelRefetch))this.cancel({silent:!0});else if(gn(this,Os))return gn(this,Os).continueRetry(),gn(this,Os).promise}if(e&&this.setOptions(e),!this.options.queryFn){const At=this.observers.find(Ct=>Ct.options.queryFn);At&&this.setOptions(At.options)}const d=new AbortController,nt=At=>{Object.defineProperty(At,"signal",{enumerable:!0,get:()=>(Br(this,Xp,!0),d.signal)})},o=()=>{const At=ensureQueryFn(this.options,a),Ct={client:gn(this,jp),queryKey:this.queryKey,meta:this.meta};return nt(Ct),Br(this,Xp,!1),this.options.persister?this.options.persister(At,Ct,this):At(Ct)},ht={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:gn(this,jp),state:this.state,fetchFn:o};nt(ht),(xt=this.options.behavior)==null||xt.onFetch(ht,this),Br(this,Zm,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((St=ht.fetchOptions)==null?void 0:St.meta))&&Mo(this,vu,A0).call(this,{type:"fetch",meta:(Tt=ht.fetchOptions)==null?void 0:Tt.meta});const vt=At=>{var Ct,Rt,yt,Dt;isCancelledError(At)&&At.silent||Mo(this,vu,A0).call(this,{type:"error",error:At}),isCancelledError(At)||((Rt=(Ct=gn(this,tu).config).onError)==null||Rt.call(Ct,At,this),(Dt=(yt=gn(this,tu).config).onSettled)==null||Dt.call(yt,this.state.data,At,this)),this.scheduleGc()};return Br(this,Os,createRetryer({initialPromise:a==null?void 0:a.initialPromise,fn:ht.fetchFn,abort:d.abort.bind(d),onSuccess:At=>{var Ct,Rt,yt,Dt;if(At===void 0){vt(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(At)}catch(Nt){vt(Nt);return}(Rt=(Ct=gn(this,tu).config).onSuccess)==null||Rt.call(Ct,At,this),(Dt=(yt=gn(this,tu).config).onSettled)==null||Dt.call(yt,At,this.state.error,this),this.scheduleGc()},onError:vt,onFail:(At,Ct)=>{Mo(this,vu,A0).call(this,{type:"failed",failureCount:At,error:Ct})},onPause:()=>{Mo(this,vu,A0).call(this,{type:"pause"})},onContinue:()=>{Mo(this,vu,A0).call(this,{type:"continue"})},retry:ht.options.retry,retryDelay:ht.options.retryDelay,networkMode:ht.options.networkMode,canRun:()=>!0})),gn(this,Os).start()}},Qm=new WeakMap,Zm=new WeakMap,tu=new WeakMap,jp=new WeakMap,Os=new WeakMap,m2=new WeakMap,Xp=new WeakMap,vu=new WeakSet,A0=function(e){const a=d=>{switch(e.type){case"failed":return{...d,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...d,fetchStatus:"paused"};case"continue":return{...d,fetchStatus:"fetching"};case"fetch":return{...d,...fetchState(d.data,this.options),fetchMeta:e.meta??null};case"success":return{...d,data:e.data,dataUpdateCount:d.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const nt=e.error;return isCancelledError(nt)&&nt.revert&&gn(this,Zm)?{...gn(this,Zm),fetchStatus:"idle"}:{...d,error:nt,errorUpdateCount:d.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:d.fetchFailureCount+1,fetchFailureReason:nt,fetchStatus:"idle",status:"error"};case"invalidate":return{...d,isInvalidated:!0};case"setState":return{...d,...e.state}}};this.state=a(this.state),notifyManager.batch(()=>{this.observers.forEach(d=>{d.onQueryUpdate()}),gn(this,tu).notify({query:this,type:"updated",action:e})})},Mw);function fetchState(c,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(e.networkMode)?"fetching":"paused",...c===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(c){const e=typeof c.initialData=="function"?c.initialData():c.initialData,a=e!==void 0,d=a?typeof c.initialDataUpdatedAt=="function"?c.initialDataUpdatedAt():c.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:a?d??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var Vu,Ew,QueryCache=(Ew=class extends Subscribable{constructor(e={}){super();Yr(this,Vu,void 0);this.config=e,Br(this,Vu,new Map)}build(e,a,d){const nt=a.queryKey,o=a.queryHash??hashQueryKeyByOptions(nt,a);let ht=this.get(o);return ht||(ht=new Query({client:e,queryKey:nt,queryHash:o,options:e.defaultQueryOptions(a),state:d,defaultOptions:e.getQueryDefaults(nt)}),this.add(ht)),ht}add(e){gn(this,Vu).has(e.queryHash)||(gn(this,Vu).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const a=gn(this,Vu).get(e.queryHash);a&&(e.destroy(),a===e&&gn(this,Vu).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return gn(this,Vu).get(e)}getAll(){return[...gn(this,Vu).values()]}find(e){const a={exact:!0,...e};return this.getAll().find(d=>matchQuery(a,d))}findAll(e={}){const a=this.getAll();return Object.keys(e).length>0?a.filter(d=>matchQuery(e,d)):a}notify(e){notifyManager.batch(()=>{this.listeners.forEach(a=>{a(e)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Vu=new WeakMap,Ew),Gu,$s,qp,Hu,lp,Tw,Mutation=(Tw=class extends Removable{constructor(e){super();Yr(this,Hu);Yr(this,Gu,void 0);Yr(this,$s,void 0);Yr(this,qp,void 0);this.mutationId=e.mutationId,Br(this,$s,e.mutationCache),Br(this,Gu,[]),this.state=e.state||getDefaultState(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){gn(this,Gu).includes(e)||(gn(this,Gu).push(e),this.clearGcTimeout(),gn(this,$s).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Br(this,Gu,gn(this,Gu).filter(a=>a!==e)),this.scheduleGc(),gn(this,$s).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){gn(this,Gu).length||(this.state.status==="pending"?this.scheduleGc():gn(this,$s).remove(this))}continue(){var e;return((e=gn(this,qp))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,ht,vt,xt,St,Tt,At,Ct,Rt,yt,Dt,Nt,Lt,Ot,Ft,Vt,jt,$t,Yt,Kt;const a=()=>{Mo(this,Hu,lp).call(this,{type:"continue"})};Br(this,qp,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(qt,Wt)=>{Mo(this,Hu,lp).call(this,{type:"failed",failureCount:qt,error:Wt})},onPause:()=>{Mo(this,Hu,lp).call(this,{type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>gn(this,$s).canRun(this)}));const d=this.state.status==="pending",nt=!gn(this,qp).canStart();try{if(d)a();else{Mo(this,Hu,lp).call(this,{type:"pending",variables:e,isPaused:nt}),await((ht=(o=gn(this,$s).config).onMutate)==null?void 0:ht.call(o,e,this));const Wt=await((xt=(vt=this.options).onMutate)==null?void 0:xt.call(vt,e));Wt!==this.state.context&&Mo(this,Hu,lp).call(this,{type:"pending",context:Wt,variables:e,isPaused:nt})}const qt=await gn(this,qp).start();return await((Tt=(St=gn(this,$s).config).onSuccess)==null?void 0:Tt.call(St,qt,e,this.state.context,this)),await((Ct=(At=this.options).onSuccess)==null?void 0:Ct.call(At,qt,e,this.state.context)),await((yt=(Rt=gn(this,$s).config).onSettled)==null?void 0:yt.call(Rt,qt,null,this.state.variables,this.state.context,this)),await((Nt=(Dt=this.options).onSettled)==null?void 0:Nt.call(Dt,qt,null,e,this.state.context)),Mo(this,Hu,lp).call(this,{type:"success",data:qt}),qt}catch(qt){try{throw await((Ot=(Lt=gn(this,$s).config).onError)==null?void 0:Ot.call(Lt,qt,e,this.state.context,this)),await((Vt=(Ft=this.options).onError)==null?void 0:Vt.call(Ft,qt,e,this.state.context)),await(($t=(jt=gn(this,$s).config).onSettled)==null?void 0:$t.call(jt,void 0,qt,this.state.variables,this.state.context,this)),await((Kt=(Yt=this.options).onSettled)==null?void 0:Kt.call(Yt,void 0,qt,e,this.state.context)),qt}finally{Mo(this,Hu,lp).call(this,{type:"error",error:qt})}}finally{gn(this,$s).runNext(this)}}},Gu=new WeakMap,$s=new WeakMap,qp=new WeakMap,Hu=new WeakSet,lp=function(e){const a=d=>{switch(e.type){case"failed":return{...d,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...d,isPaused:!0};case"continue":return{...d,isPaused:!1};case"pending":return{...d,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...d,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...d,data:void 0,error:e.error,failureCount:d.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=a(this.state),notifyManager.batch(()=>{gn(this,Gu).forEach(d=>{d.onMutationUpdate(e)}),gn(this,$s).notify({mutation:this,type:"updated",action:e})})},Tw);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var C0,yu,g2,Aw,MutationCache=(Aw=class extends Subscribable{constructor(e={}){super();Yr(this,C0,void 0);Yr(this,yu,void 0);Yr(this,g2,void 0);this.config=e,Br(this,C0,new Set),Br(this,yu,new Map),Br(this,g2,0)}build(e,a,d){const nt=new Mutation({mutationCache:this,mutationId:++j_(this,g2)._,options:e.defaultMutationOptions(a),state:d});return this.add(nt),nt}add(e){gn(this,C0).add(e);const a=scopeFor(e);if(typeof a=="string"){const d=gn(this,yu).get(a);d?d.push(e):gn(this,yu).set(a,[e])}this.notify({type:"added",mutation:e})}remove(e){if(gn(this,C0).delete(e)){const a=scopeFor(e);if(typeof a=="string"){const d=gn(this,yu).get(a);if(d)if(d.length>1){const nt=d.indexOf(e);nt!==-1&&d.splice(nt,1)}else d[0]===e&&gn(this,yu).delete(a)}}this.notify({type:"removed",mutation:e})}canRun(e){const a=scopeFor(e);if(typeof a=="string"){const d=gn(this,yu).get(a),nt=d==null?void 0:d.find(o=>o.state.status==="pending");return!nt||nt===e}else return!0}runNext(e){var d;const a=scopeFor(e);if(typeof a=="string"){const nt=(d=gn(this,yu).get(a))==null?void 0:d.find(o=>o!==e&&o.state.isPaused);return(nt==null?void 0:nt.continue())??Promise.resolve()}else return Promise.resolve()}clear(){notifyManager.batch(()=>{gn(this,C0).forEach(e=>{this.notify({type:"removed",mutation:e})}),gn(this,C0).clear(),gn(this,yu).clear()})}getAll(){return Array.from(gn(this,C0))}find(e){const a={exact:!0,...e};return this.getAll().find(d=>matchMutation(a,d))}findAll(e={}){return this.getAll().filter(a=>matchMutation(e,a))}notify(e){notifyManager.batch(()=>{this.listeners.forEach(a=>{a(e)})})}resumePausedMutations(){const e=this.getAll().filter(a=>a.state.isPaused);return notifyManager.batch(()=>Promise.all(e.map(a=>a.continue().catch(noop$1))))}},C0=new WeakMap,yu=new WeakMap,g2=new WeakMap,Aw);function scopeFor(c){var e;return(e=c.options.scope)==null?void 0:e.id}function infiniteQueryBehavior(c){return{onFetch:(e,a)=>{var Tt,At,Ct,Rt,yt;const d=e.options,nt=(Ct=(At=(Tt=e.fetchOptions)==null?void 0:Tt.meta)==null?void 0:At.fetchMore)==null?void 0:Ct.direction,o=((Rt=e.state.data)==null?void 0:Rt.pages)||[],ht=((yt=e.state.data)==null?void 0:yt.pageParams)||[];let vt={pages:[],pageParams:[]},xt=0;const St=async()=>{let Dt=!1;const Nt=Ft=>{Object.defineProperty(Ft,"signal",{enumerable:!0,get:()=>(e.signal.aborted?Dt=!0:e.signal.addEventListener("abort",()=>{Dt=!0}),e.signal)})},Lt=ensureQueryFn(e.options,e.fetchOptions),Ot=async(Ft,Vt,jt)=>{if(Dt)return Promise.reject();if(Vt==null&&Ft.pages.length)return Promise.resolve(Ft);const $t={client:e.client,queryKey:e.queryKey,pageParam:Vt,direction:jt?"backward":"forward",meta:e.options.meta};Nt($t);const Yt=await Lt($t),{maxPages:Kt}=e.options,qt=jt?addToStart:addToEnd;return{pages:qt(Ft.pages,Yt,Kt),pageParams:qt(Ft.pageParams,Vt,Kt)}};if(nt&&o.length){const Ft=nt==="backward",Vt=Ft?getPreviousPageParam:getNextPageParam,jt={pages:o,pageParams:ht},$t=Vt(d,jt);vt=await Ot(jt,$t,Ft)}else{const Ft=c??o.length;do{const Vt=xt===0?ht[0]??d.initialPageParam:getNextPageParam(d,vt);if(xt>0&&Vt==null)break;vt=await Ot(vt,Vt),xt++}while(xt<Ft)}return vt};e.options.persister?e.fetchFn=()=>{var Dt,Nt;return(Nt=(Dt=e.options).persister)==null?void 0:Nt.call(Dt,St,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},a)}:e.fetchFn=St}}}function getNextPageParam(c,{pages:e,pageParams:a}){const d=e.length-1;return e.length>0?c.getNextPageParam(e[d],e,a[d],a):void 0}function getPreviousPageParam(c,{pages:e,pageParams:a}){var d;return e.length>0?(d=c.getPreviousPageParam)==null?void 0:d.call(c,e[0],e,a[0],a):void 0}var Xo,fp,dp,Jm,e1,hp,t1,n1,Cw,QueryClient=(Cw=class{constructor(c={}){Yr(this,Xo,void 0);Yr(this,fp,void 0);Yr(this,dp,void 0);Yr(this,Jm,void 0);Yr(this,e1,void 0);Yr(this,hp,void 0);Yr(this,t1,void 0);Yr(this,n1,void 0);Br(this,Xo,c.queryCache||new QueryCache),Br(this,fp,c.mutationCache||new MutationCache),Br(this,dp,c.defaultOptions||{}),Br(this,Jm,new Map),Br(this,e1,new Map),Br(this,hp,0)}mount(){j_(this,hp)._++,gn(this,hp)===1&&(Br(this,t1,focusManager.subscribe(async c=>{c&&(await this.resumePausedMutations(),gn(this,Xo).onFocus())})),Br(this,n1,onlineManager.subscribe(async c=>{c&&(await this.resumePausedMutations(),gn(this,Xo).onOnline())})))}unmount(){var c,e;j_(this,hp)._--,gn(this,hp)===0&&((c=gn(this,t1))==null||c.call(this),Br(this,t1,void 0),(e=gn(this,n1))==null||e.call(this),Br(this,n1,void 0))}isFetching(c){return gn(this,Xo).findAll({...c,fetchStatus:"fetching"}).length}isMutating(c){return gn(this,fp).findAll({...c,status:"pending"}).length}getQueryData(c){var a;const e=this.defaultQueryOptions({queryKey:c});return(a=gn(this,Xo).get(e.queryHash))==null?void 0:a.state.data}ensureQueryData(c){const e=this.defaultQueryOptions(c),a=gn(this,Xo).build(this,e),d=a.state.data;return d===void 0?this.fetchQuery(c):(c.revalidateIfStale&&a.isStaleByTime(resolveStaleTime(e.staleTime,a))&&this.prefetchQuery(e),Promise.resolve(d))}getQueriesData(c){return gn(this,Xo).findAll(c).map(({queryKey:e,state:a})=>{const d=a.data;return[e,d]})}setQueryData(c,e,a){const d=this.defaultQueryOptions({queryKey:c}),nt=gn(this,Xo).get(d.queryHash),o=nt==null?void 0:nt.state.data,ht=functionalUpdate(e,o);if(ht!==void 0)return gn(this,Xo).build(this,d).setData(ht,{...a,manual:!0})}setQueriesData(c,e,a){return notifyManager.batch(()=>gn(this,Xo).findAll(c).map(({queryKey:d})=>[d,this.setQueryData(d,e,a)]))}getQueryState(c){var a;const e=this.defaultQueryOptions({queryKey:c});return(a=gn(this,Xo).get(e.queryHash))==null?void 0:a.state}removeQueries(c){const e=gn(this,Xo);notifyManager.batch(()=>{e.findAll(c).forEach(a=>{e.remove(a)})})}resetQueries(c,e){const a=gn(this,Xo);return notifyManager.batch(()=>(a.findAll(c).forEach(d=>{d.reset()}),this.refetchQueries({type:"active",...c},e)))}cancelQueries(c,e={}){const a={revert:!0,...e},d=notifyManager.batch(()=>gn(this,Xo).findAll(c).map(nt=>nt.cancel(a)));return Promise.all(d).then(noop$1).catch(noop$1)}invalidateQueries(c,e={}){return notifyManager.batch(()=>(gn(this,Xo).findAll(c).forEach(a=>{a.invalidate()}),(c==null?void 0:c.refetchType)==="none"?Promise.resolve():this.refetchQueries({...c,type:(c==null?void 0:c.refetchType)??(c==null?void 0:c.type)??"active"},e)))}refetchQueries(c,e={}){const a={...e,cancelRefetch:e.cancelRefetch??!0},d=notifyManager.batch(()=>gn(this,Xo).findAll(c).filter(nt=>!nt.isDisabled()&&!nt.isStatic()).map(nt=>{let o=nt.fetch(void 0,a);return a.throwOnError||(o=o.catch(noop$1)),nt.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(d).then(noop$1)}fetchQuery(c){const e=this.defaultQueryOptions(c);e.retry===void 0&&(e.retry=!1);const a=gn(this,Xo).build(this,e);return a.isStaleByTime(resolveStaleTime(e.staleTime,a))?a.fetch(e):Promise.resolve(a.state.data)}prefetchQuery(c){return this.fetchQuery(c).then(noop$1).catch(noop$1)}fetchInfiniteQuery(c){return c.behavior=infiniteQueryBehavior(c.pages),this.fetchQuery(c)}prefetchInfiniteQuery(c){return this.fetchInfiniteQuery(c).then(noop$1).catch(noop$1)}ensureInfiniteQueryData(c){return c.behavior=infiniteQueryBehavior(c.pages),this.ensureQueryData(c)}resumePausedMutations(){return onlineManager.isOnline()?gn(this,fp).resumePausedMutations():Promise.resolve()}getQueryCache(){return gn(this,Xo)}getMutationCache(){return gn(this,fp)}getDefaultOptions(){return gn(this,dp)}setDefaultOptions(c){Br(this,dp,c)}setQueryDefaults(c,e){gn(this,Jm).set(hashKey(c),{queryKey:c,defaultOptions:e})}getQueryDefaults(c){const e=[...gn(this,Jm).values()],a={};return e.forEach(d=>{partialMatchKey(c,d.queryKey)&&Object.assign(a,d.defaultOptions)}),a}setMutationDefaults(c,e){gn(this,e1).set(hashKey(c),{mutationKey:c,defaultOptions:e})}getMutationDefaults(c){const e=[...gn(this,e1).values()],a={};return e.forEach(d=>{partialMatchKey(c,d.mutationKey)&&Object.assign(a,d.defaultOptions)}),a}defaultQueryOptions(c){if(c._defaulted)return c;const e={...gn(this,dp).queries,...this.getQueryDefaults(c.queryKey),...c,_defaulted:!0};return e.queryHash||(e.queryHash=hashQueryKeyByOptions(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===skipToken&&(e.enabled=!1),e}defaultMutationOptions(c){return c!=null&&c._defaulted?c:{...gn(this,dp).mutations,...(c==null?void 0:c.mutationKey)&&this.getMutationDefaults(c.mutationKey),...c,_defaulted:!0}}clear(){gn(this,Xo).clear(),gn(this,fp).clear()}},Xo=new WeakMap,fp=new WeakMap,dp=new WeakMap,Jm=new WeakMap,e1=new WeakMap,hp=new WeakMap,t1=new WeakMap,n1=new WeakMap,Cw),yl,Eo,_2,Ws,Yp,r1,pp,mp,y2,i1,o1,Kp,Qp,gp,s1,Zp,p2,x2,Oy,S2,Fy,w2,By,M2,Uy,E2,zy,T2,Vy,A2,Gy,X_,Pw,Rw,QueryObserver=(Rw=class extends Subscribable{constructor(e,a){super();Yr(this,Zp);Yr(this,x2);Yr(this,S2);Yr(this,w2);Yr(this,M2);Yr(this,E2);Yr(this,T2);Yr(this,A2);Yr(this,X_);Yr(this,yl,void 0);Yr(this,Eo,void 0);Yr(this,_2,void 0);Yr(this,Ws,void 0);Yr(this,Yp,void 0);Yr(this,r1,void 0);Yr(this,pp,void 0);Yr(this,mp,void 0);Yr(this,y2,void 0);Yr(this,i1,void 0);Yr(this,o1,void 0);Yr(this,Kp,void 0);Yr(this,Qp,void 0);Yr(this,gp,void 0);Yr(this,s1,new Set);this.options=a,Br(this,yl,e),Br(this,mp,null),Br(this,pp,pendingThenable()),this.options.experimental_prefetchInRender||gn(this,pp).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(a)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(gn(this,Eo).addObserver(this),shouldFetchOnMount(gn(this,Eo),this.options)?Mo(this,Zp,p2).call(this):this.updateResult(),Mo(this,M2,Uy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(gn(this,Eo),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(gn(this,Eo),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Mo(this,E2,zy).call(this),Mo(this,T2,Vy).call(this),gn(this,Eo).removeObserver(this)}setOptions(e){const a=this.options,d=gn(this,Eo);if(this.options=gn(this,yl).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof resolveEnabled(this.options.enabled,gn(this,Eo))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Mo(this,A2,Gy).call(this),gn(this,Eo).setOptions(this.options),a._defaulted&&!shallowEqualObjects(this.options,a)&&gn(this,yl).getQueryCache().notify({type:"observerOptionsUpdated",query:gn(this,Eo),observer:this});const nt=this.hasListeners();nt&&shouldFetchOptionally(gn(this,Eo),d,this.options,a)&&Mo(this,Zp,p2).call(this),this.updateResult(),nt&&(gn(this,Eo)!==d||resolveEnabled(this.options.enabled,gn(this,Eo))!==resolveEnabled(a.enabled,gn(this,Eo))||resolveStaleTime(this.options.staleTime,gn(this,Eo))!==resolveStaleTime(a.staleTime,gn(this,Eo)))&&Mo(this,x2,Oy).call(this);const o=Mo(this,S2,Fy).call(this);nt&&(gn(this,Eo)!==d||resolveEnabled(this.options.enabled,gn(this,Eo))!==resolveEnabled(a.enabled,gn(this,Eo))||o!==gn(this,gp))&&Mo(this,w2,By).call(this,o)}getOptimisticResult(e){const a=gn(this,yl).getQueryCache().build(gn(this,yl),e),d=this.createResult(a,e);return shouldAssignObserverCurrentProperties(this,d)&&(Br(this,Ws,d),Br(this,r1,this.options),Br(this,Yp,gn(this,Eo).state)),d}getCurrentResult(){return gn(this,Ws)}trackResult(e,a){return new Proxy(e,{get:(d,nt)=>(this.trackProp(nt),a==null||a(nt),Reflect.get(d,nt))})}trackProp(e){gn(this,s1).add(e)}getCurrentQuery(){return gn(this,Eo)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const a=gn(this,yl).defaultQueryOptions(e),d=gn(this,yl).getQueryCache().build(gn(this,yl),a);return d.fetch().then(()=>this.createResult(d,a))}fetch(e){return Mo(this,Zp,p2).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),gn(this,Ws)))}createResult(e,a){var qt;const d=gn(this,Eo),nt=this.options,o=gn(this,Ws),ht=gn(this,Yp),vt=gn(this,r1),St=e!==d?e.state:gn(this,_2),{state:Tt}=e;let At={...Tt},Ct=!1,Rt;if(a._optimisticResults){const Wt=this.hasListeners(),Jt=!Wt&&shouldFetchOnMount(e,a),cn=Wt&&shouldFetchOptionally(e,d,a,nt);(Jt||cn)&&(At={...At,...fetchState(Tt.data,e.options)}),a._optimisticResults==="isRestoring"&&(At.fetchStatus="idle")}let{error:yt,errorUpdatedAt:Dt,status:Nt}=At;Rt=At.data;let Lt=!1;if(a.placeholderData!==void 0&&Rt===void 0&&Nt==="pending"){let Wt;o!=null&&o.isPlaceholderData&&a.placeholderData===(vt==null?void 0:vt.placeholderData)?(Wt=o.data,Lt=!0):Wt=typeof a.placeholderData=="function"?a.placeholderData((qt=gn(this,o1))==null?void 0:qt.state.data,gn(this,o1)):a.placeholderData,Wt!==void 0&&(Nt="success",Rt=replaceData(o==null?void 0:o.data,Wt,a),Ct=!0)}if(a.select&&Rt!==void 0&&!Lt)if(o&&Rt===(ht==null?void 0:ht.data)&&a.select===gn(this,y2))Rt=gn(this,i1);else try{Br(this,y2,a.select),Rt=a.select(Rt),Rt=replaceData(o==null?void 0:o.data,Rt,a),Br(this,i1,Rt),Br(this,mp,null)}catch(Wt){Br(this,mp,Wt)}gn(this,mp)&&(yt=gn(this,mp),Rt=gn(this,i1),Dt=Date.now(),Nt="error");const Ot=At.fetchStatus==="fetching",Ft=Nt==="pending",Vt=Nt==="error",jt=Ft&&Ot,$t=Rt!==void 0,Kt={status:Nt,fetchStatus:At.fetchStatus,isPending:Ft,isSuccess:Nt==="success",isError:Vt,isInitialLoading:jt,isLoading:jt,data:Rt,dataUpdatedAt:At.dataUpdatedAt,error:yt,errorUpdatedAt:Dt,failureCount:At.fetchFailureCount,failureReason:At.fetchFailureReason,errorUpdateCount:At.errorUpdateCount,isFetched:At.dataUpdateCount>0||At.errorUpdateCount>0,isFetchedAfterMount:At.dataUpdateCount>St.dataUpdateCount||At.errorUpdateCount>St.errorUpdateCount,isFetching:Ot,isRefetching:Ot&&!Ft,isLoadingError:Vt&&!$t,isPaused:At.fetchStatus==="paused",isPlaceholderData:Ct,isRefetchError:Vt&&$t,isStale:isStale(e,a),refetch:this.refetch,promise:gn(this,pp)};if(this.options.experimental_prefetchInRender){const Wt=sn=>{Kt.status==="error"?sn.reject(Kt.error):Kt.data!==void 0&&sn.resolve(Kt.data)},Jt=()=>{const sn=Br(this,pp,Kt.promise=pendingThenable());Wt(sn)},cn=gn(this,pp);switch(cn.status){case"pending":e.queryHash===d.queryHash&&Wt(cn);break;case"fulfilled":(Kt.status==="error"||Kt.data!==cn.value)&&Jt();break;case"rejected":(Kt.status!=="error"||Kt.error!==cn.reason)&&Jt();break}}return Kt}updateResult(){const e=gn(this,Ws),a=this.createResult(gn(this,Eo),this.options);if(Br(this,Yp,gn(this,Eo).state),Br(this,r1,this.options),gn(this,Yp).data!==void 0&&Br(this,o1,gn(this,Eo)),shallowEqualObjects(a,e))return;Br(this,Ws,a);const d=()=>{if(!e)return!0;const{notifyOnChangeProps:nt}=this.options,o=typeof nt=="function"?nt():nt;if(o==="all"||!o&&!gn(this,s1).size)return!0;const ht=new Set(o??gn(this,s1));return this.options.throwOnError&&ht.add("error"),Object.keys(gn(this,Ws)).some(vt=>{const xt=vt;return gn(this,Ws)[xt]!==e[xt]&&ht.has(xt)})};Mo(this,X_,Pw).call(this,{listeners:d()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Mo(this,M2,Uy).call(this)}},yl=new WeakMap,Eo=new WeakMap,_2=new WeakMap,Ws=new WeakMap,Yp=new WeakMap,r1=new WeakMap,pp=new WeakMap,mp=new WeakMap,y2=new WeakMap,i1=new WeakMap,o1=new WeakMap,Kp=new WeakMap,Qp=new WeakMap,gp=new WeakMap,s1=new WeakMap,Zp=new WeakSet,p2=function(e){Mo(this,A2,Gy).call(this);let a=gn(this,Eo).fetch(this.options,e);return e!=null&&e.throwOnError||(a=a.catch(noop$1)),a},x2=new WeakSet,Oy=function(){Mo(this,E2,zy).call(this);const e=resolveStaleTime(this.options.staleTime,gn(this,Eo));if(isServer||gn(this,Ws).isStale||!isValidTimeout(e))return;const d=timeUntilStale(gn(this,Ws).dataUpdatedAt,e)+1;Br(this,Kp,setTimeout(()=>{gn(this,Ws).isStale||this.updateResult()},d))},S2=new WeakSet,Fy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(gn(this,Eo)):this.options.refetchInterval)??!1},w2=new WeakSet,By=function(e){Mo(this,T2,Vy).call(this),Br(this,gp,e),!(isServer||resolveEnabled(this.options.enabled,gn(this,Eo))===!1||!isValidTimeout(gn(this,gp))||gn(this,gp)===0)&&Br(this,Qp,setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&Mo(this,Zp,p2).call(this)},gn(this,gp)))},M2=new WeakSet,Uy=function(){Mo(this,x2,Oy).call(this),Mo(this,w2,By).call(this,Mo(this,S2,Fy).call(this))},E2=new WeakSet,zy=function(){gn(this,Kp)&&(clearTimeout(gn(this,Kp)),Br(this,Kp,void 0))},T2=new WeakSet,Vy=function(){gn(this,Qp)&&(clearInterval(gn(this,Qp)),Br(this,Qp,void 0))},A2=new WeakSet,Gy=function(){const e=gn(this,yl).getQueryCache().build(gn(this,yl),this.options);if(e===gn(this,Eo))return;const a=gn(this,Eo);Br(this,Eo,e),Br(this,_2,e.state),this.hasListeners()&&(a==null||a.removeObserver(this),e.addObserver(this))},X_=new WeakSet,Pw=function(e){notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(a=>{a(gn(this,Ws))}),gn(this,yl).getQueryCache().notify({query:gn(this,Eo),type:"observerResultsUpdated"})})},Rw);function shouldLoadOnMount(c,e){return resolveEnabled(e.enabled,c)!==!1&&c.state.data===void 0&&!(c.state.status==="error"&&e.retryOnMount===!1)}function shouldFetchOnMount(c,e){return shouldLoadOnMount(c,e)||c.state.data!==void 0&&shouldFetchOn(c,e,e.refetchOnMount)}function shouldFetchOn(c,e,a){if(resolveEnabled(e.enabled,c)!==!1&&resolveStaleTime(e.staleTime,c)!=="static"){const d=typeof a=="function"?a(c):a;return d==="always"||d!==!1&&isStale(c,e)}return!1}function shouldFetchOptionally(c,e,a,d){return(c!==e||resolveEnabled(d.enabled,c)===!1)&&(!a.suspense||c.state.status!=="error")&&isStale(c,a)}function isStale(c,e){return resolveEnabled(e.enabled,c)!==!1&&c.isStaleByTime(resolveStaleTime(e.staleTime,c))}function shouldAssignObserverCurrentProperties(c,e){return!shallowEqualObjects(c.getCurrentResult(),e)}var QueryClientContext=reactExports.createContext(void 0),useQueryClient=c=>{const e=reactExports.useContext(QueryClientContext);if(c)return c;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},QueryClientProvider=({client:c,children:e})=>(reactExports.useEffect(()=>(c.mount(),()=>{c.unmount()}),[c]),jsx(QueryClientContext.Provider,{value:c,children:e})),IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let c=!1;return{clearReset:()=>{c=!1},reset:()=>{c=!0},isReset:()=>c}}var QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext),ensurePreventErrorBoundaryRetry=(c,e)=>{(c.suspense||c.throwOnError||c.experimental_prefetchInRender)&&(e.isReset()||(c.retryOnMount=!1))},useClearResetErrorBoundary=c=>{reactExports.useEffect(()=>{c.clearReset()},[c])},getHasError=({result:c,errorResetBoundary:e,throwOnError:a,query:d,suspense:nt})=>c.isError&&!e.isReset()&&!c.isFetching&&d&&(nt&&c.data===void 0||shouldThrowError(a,[c.error,d])),ensureSuspenseTimers=c=>{if(c.suspense){const e=d=>d==="static"?d:Math.max(d??1e3,1e3),a=c.staleTime;c.staleTime=typeof a=="function"?(...d)=>e(a(...d)):e(a),typeof c.gcTime=="number"&&(c.gcTime=Math.max(c.gcTime,1e3))}},willFetch=(c,e)=>c.isLoading&&c.isFetching&&!e,shouldSuspend=(c,e)=>(c==null?void 0:c.suspense)&&e.isPending,fetchOptimistic=(c,e,a)=>e.fetchOptimistic(c).catch(()=>{a.clearReset()});function useBaseQuery(c,e,a){var At,Ct,Rt,yt,Dt;const d=useQueryClient(a),nt=useIsRestoring(),o=useQueryErrorResetBoundary(),ht=d.defaultQueryOptions(c);(Ct=(At=d.getDefaultOptions().queries)==null?void 0:At._experimental_beforeQuery)==null||Ct.call(At,ht),ht._optimisticResults=nt?"isRestoring":"optimistic",ensureSuspenseTimers(ht),ensurePreventErrorBoundaryRetry(ht,o),useClearResetErrorBoundary(o);const vt=!d.getQueryCache().get(ht.queryHash),[xt]=reactExports.useState(()=>new e(d,ht)),St=xt.getOptimisticResult(ht),Tt=!nt&&c.subscribed!==!1;if(reactExports.useSyncExternalStore(reactExports.useCallback(Nt=>{const Lt=Tt?xt.subscribe(notifyManager.batchCalls(Nt)):noop$1;return xt.updateResult(),Lt},[xt,Tt]),()=>xt.getCurrentResult(),()=>xt.getCurrentResult()),reactExports.useEffect(()=>{xt.setOptions(ht)},[ht,xt]),shouldSuspend(ht,St))throw fetchOptimistic(ht,xt,o);if(getHasError({result:St,errorResetBoundary:o,throwOnError:ht.throwOnError,query:d.getQueryCache().get(ht.queryHash),suspense:ht.suspense}))throw St.error;if((yt=(Rt=d.getDefaultOptions().queries)==null?void 0:Rt._experimental_afterQuery)==null||yt.call(Rt,ht,St),ht.experimental_prefetchInRender&&!isServer&&willFetch(St,nt)){const Nt=vt?fetchOptimistic(ht,xt,o):(Dt=d.getQueryCache().get(ht.queryHash))==null?void 0:Dt.promise;Nt==null||Nt.catch(noop$1).finally(()=>{xt.updateResult()})}return ht.notifyOnChangeProps?St:xt.trackResult(St)}function useQuery(c,e){return useBaseQuery(c,QueryObserver,e)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(c){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var d in a)({}).hasOwnProperty.call(a,d)&&(c[d]=a[d])}return c},_extends$2.apply(null,arguments)}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="176",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,ConstantColorFactor=211,OneMinusConstantColorFactor=212,ConstantAlphaFactor=213,OneMinusConstantAlphaFactor=214,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,AgXToneMapping=6,NeutralToneMapping=7,AttachedBindMode="attached",DetachedBindMode="detached",UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,UnsignedInt5999Type=35902,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBIntegerFormat=1032,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RGB_BPTC_SIGNED_Format=36494,RGB_BPTC_UNSIGNED_Format=36495,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,BasicDepthPacking=3200,RGBADepthPacking=3201,RGBDepthPacking=3202,RGDepthPacking=3203,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",LinearTransfer="linear",SRGBTransfer="srgb",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,NeverCompare=512,LessCompare=513,EqualCompare=514,LessEqualCompare=515,GreaterCompare=516,NotEqualCompare=517,GreaterEqualCompare=518,AlwaysCompare=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",WebGLCoordinateSystem=2e3,WebGPUCoordinateSystem=2001,TimestampQuery={COMPUTE:"compute",RENDER:"render"},InterpolationSamplingType={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},InterpolationSamplingMode={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"};let EventDispatcher$1=class{addEventListener(e,a){this._listeners===void 0&&(this._listeners={});const d=this._listeners;d[e]===void 0&&(d[e]=[]),d[e].indexOf(a)===-1&&d[e].push(a)}hasEventListener(e,a){const d=this._listeners;return d===void 0?!1:d[e]!==void 0&&d[e].indexOf(a)!==-1}removeEventListener(e,a){const d=this._listeners;if(d===void 0)return;const nt=d[e];if(nt!==void 0){const o=nt.indexOf(a);o!==-1&&nt.splice(o,1)}}dispatchEvent(e){const a=this._listeners;if(a===void 0)return;const d=a[e.type];if(d!==void 0){e.target=this;const nt=d.slice(0);for(let o=0,ht=nt.length;o<ht;o++)nt[o].call(this,e);e.target=null}}};const _lut=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const c=Math.random()*4294967295|0,e=Math.random()*4294967295|0,a=Math.random()*4294967295|0,d=Math.random()*4294967295|0;return(_lut[c&255]+_lut[c>>8&255]+_lut[c>>16&255]+_lut[c>>24&255]+"-"+_lut[e&255]+_lut[e>>8&255]+"-"+_lut[e>>16&15|64]+_lut[e>>24&255]+"-"+_lut[a&63|128]+_lut[a>>8&255]+"-"+_lut[a>>16&255]+_lut[a>>24&255]+_lut[d&255]+_lut[d>>8&255]+_lut[d>>16&255]+_lut[d>>24&255]).toLowerCase()}function clamp(c,e,a){return Math.max(e,Math.min(a,c))}function euclideanModulo(c,e){return(c%e+e)%e}function mapLinear(c,e,a,d,nt){return d+(c-e)*(nt-d)/(a-e)}function inverseLerp(c,e,a){return c!==e?(a-c)/(e-c):0}function lerp(c,e,a){return(1-a)*c+a*e}function damp(c,e,a,d){return lerp(c,e,1-Math.exp(-a*d))}function pingpong(c,e=1){return e-Math.abs(euclideanModulo(c,e*2)-e)}function smoothstep(c,e,a){return c<=e?0:c>=a?1:(c=(c-e)/(a-e),c*c*(3-2*c))}function smootherstep(c,e,a){return c<=e?0:c>=a?1:(c=(c-e)/(a-e),c*c*c*(c*(c*6-15)+10))}function randInt(c,e){return c+Math.floor(Math.random()*(e-c+1))}function randFloat(c,e){return c+Math.random()*(e-c)}function randFloatSpread(c){return c*(.5-Math.random())}function seededRandom(c){c!==void 0&&(_seed=c);let e=_seed+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function degToRad(c){return c*DEG2RAD}function radToDeg(c){return c*RAD2DEG}function isPowerOfTwo(c){return(c&c-1)===0&&c!==0}function ceilPowerOfTwo(c){return Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))}function floorPowerOfTwo(c){return Math.pow(2,Math.floor(Math.log(c)/Math.LN2))}function setQuaternionFromProperEuler(c,e,a,d,nt){const o=Math.cos,ht=Math.sin,vt=o(a/2),xt=ht(a/2),St=o((e+d)/2),Tt=ht((e+d)/2),At=o((e-d)/2),Ct=ht((e-d)/2),Rt=o((d-e)/2),yt=ht((d-e)/2);switch(nt){case"XYX":c.set(vt*Tt,xt*At,xt*Ct,vt*St);break;case"YZY":c.set(xt*Ct,vt*Tt,xt*At,vt*St);break;case"ZXZ":c.set(xt*At,xt*Ct,vt*Tt,vt*St);break;case"XZX":c.set(vt*Tt,xt*yt,xt*Rt,vt*St);break;case"YXY":c.set(xt*Rt,vt*Tt,xt*yt,vt*St);break;case"ZYZ":c.set(xt*yt,xt*Rt,vt*Tt,vt*St);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+nt)}}function denormalize(c,e){switch(e.constructor){case Float32Array:return c;case Uint32Array:return c/4294967295;case Uint16Array:return c/65535;case Uint8Array:return c/255;case Int32Array:return Math.max(c/2147483647,-1);case Int16Array:return Math.max(c/32767,-1);case Int8Array:return Math.max(c/127,-1);default:throw new Error("Invalid component type.")}}function normalize(c,e){switch(e.constructor){case Float32Array:return c;case Uint32Array:return Math.round(c*4294967295);case Uint16Array:return Math.round(c*65535);case Uint8Array:return Math.round(c*255);case Int32Array:return Math.round(c*2147483647);case Int16Array:return Math.round(c*32767);case Int8Array:return Math.round(c*127);default:throw new Error("Invalid component type.")}}const MathUtils={DEG2RAD,RAD2DEG,generateUUID,clamp,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize,denormalize};class Vector2{constructor(e=0,a=0){Vector2.prototype.isVector2=!0,this.x=e,this.y=a}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,a){return this.x=e,this.y=a,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,a){switch(e){case 0:this.x=a;break;case 1:this.y=a;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,a){return this.x=e.x+a.x,this.y=e.y+a.y,this}addScaledVector(e,a){return this.x+=e.x*a,this.y+=e.y*a,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,a){return this.x=e.x-a.x,this.y=e.y-a.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const a=this.x,d=this.y,nt=e.elements;return this.x=nt[0]*a+nt[3]*d+nt[6],this.y=nt[1]*a+nt[4]*d+nt[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,a){return this.x=clamp(this.x,e.x,a.x),this.y=clamp(this.y,e.y,a.y),this}clampScalar(e,a){return this.x=clamp(this.x,e,a),this.y=clamp(this.y,e,a),this}clampLength(e,a){const d=this.length();return this.divideScalar(d||1).multiplyScalar(clamp(d,e,a))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const a=Math.sqrt(this.lengthSq()*e.lengthSq());if(a===0)return Math.PI/2;const d=this.dot(e)/a;return Math.acos(clamp(d,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const a=this.x-e.x,d=this.y-e.y;return a*a+d*d}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,a){return this.x+=(e.x-this.x)*a,this.y+=(e.y-this.y)*a,this}lerpVectors(e,a,d){return this.x=e.x+(a.x-e.x)*d,this.y=e.y+(a.y-e.y)*d,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,a=0){return this.x=e[a],this.y=e[a+1],this}toArray(e=[],a=0){return e[a]=this.x,e[a+1]=this.y,e}fromBufferAttribute(e,a){return this.x=e.getX(a),this.y=e.getY(a),this}rotateAround(e,a){const d=Math.cos(a),nt=Math.sin(a),o=this.x-e.x,ht=this.y-e.y;return this.x=o*d-ht*nt+e.x,this.y=o*nt+ht*d+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(e,a,d,nt,o,ht,vt,xt,St){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,a,d,nt,o,ht,vt,xt,St)}set(e,a,d,nt,o,ht,vt,xt,St){const Tt=this.elements;return Tt[0]=e,Tt[1]=nt,Tt[2]=vt,Tt[3]=a,Tt[4]=o,Tt[5]=xt,Tt[6]=d,Tt[7]=ht,Tt[8]=St,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const a=this.elements,d=e.elements;return a[0]=d[0],a[1]=d[1],a[2]=d[2],a[3]=d[3],a[4]=d[4],a[5]=d[5],a[6]=d[6],a[7]=d[7],a[8]=d[8],this}extractBasis(e,a,d){return e.setFromMatrix3Column(this,0),a.setFromMatrix3Column(this,1),d.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const a=e.elements;return this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,a){const d=e.elements,nt=a.elements,o=this.elements,ht=d[0],vt=d[3],xt=d[6],St=d[1],Tt=d[4],At=d[7],Ct=d[2],Rt=d[5],yt=d[8],Dt=nt[0],Nt=nt[3],Lt=nt[6],Ot=nt[1],Ft=nt[4],Vt=nt[7],jt=nt[2],$t=nt[5],Yt=nt[8];return o[0]=ht*Dt+vt*Ot+xt*jt,o[3]=ht*Nt+vt*Ft+xt*$t,o[6]=ht*Lt+vt*Vt+xt*Yt,o[1]=St*Dt+Tt*Ot+At*jt,o[4]=St*Nt+Tt*Ft+At*$t,o[7]=St*Lt+Tt*Vt+At*Yt,o[2]=Ct*Dt+Rt*Ot+yt*jt,o[5]=Ct*Nt+Rt*Ft+yt*$t,o[8]=Ct*Lt+Rt*Vt+yt*Yt,this}multiplyScalar(e){const a=this.elements;return a[0]*=e,a[3]*=e,a[6]*=e,a[1]*=e,a[4]*=e,a[7]*=e,a[2]*=e,a[5]*=e,a[8]*=e,this}determinant(){const e=this.elements,a=e[0],d=e[1],nt=e[2],o=e[3],ht=e[4],vt=e[5],xt=e[6],St=e[7],Tt=e[8];return a*ht*Tt-a*vt*St-d*o*Tt+d*vt*xt+nt*o*St-nt*ht*xt}invert(){const e=this.elements,a=e[0],d=e[1],nt=e[2],o=e[3],ht=e[4],vt=e[5],xt=e[6],St=e[7],Tt=e[8],At=Tt*ht-vt*St,Ct=vt*xt-Tt*o,Rt=St*o-ht*xt,yt=a*At+d*Ct+nt*Rt;if(yt===0)return this.set(0,0,0,0,0,0,0,0,0);const Dt=1/yt;return e[0]=At*Dt,e[1]=(nt*St-Tt*d)*Dt,e[2]=(vt*d-nt*ht)*Dt,e[3]=Ct*Dt,e[4]=(Tt*a-nt*xt)*Dt,e[5]=(nt*o-vt*a)*Dt,e[6]=Rt*Dt,e[7]=(d*xt-St*a)*Dt,e[8]=(ht*a-d*o)*Dt,this}transpose(){let e;const a=this.elements;return e=a[1],a[1]=a[3],a[3]=e,e=a[2],a[2]=a[6],a[6]=e,e=a[5],a[5]=a[7],a[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const a=this.elements;return e[0]=a[0],e[1]=a[3],e[2]=a[6],e[3]=a[1],e[4]=a[4],e[5]=a[7],e[6]=a[2],e[7]=a[5],e[8]=a[8],this}setUvTransform(e,a,d,nt,o,ht,vt){const xt=Math.cos(o),St=Math.sin(o);return this.set(d*xt,d*St,-d*(xt*ht+St*vt)+ht+e,-nt*St,nt*xt,-nt*(-St*ht+xt*vt)+vt+a,0,0,1),this}scale(e,a){return this.premultiply(_m3.makeScale(e,a)),this}rotate(e){return this.premultiply(_m3.makeRotation(-e)),this}translate(e,a){return this.premultiply(_m3.makeTranslation(e,a)),this}makeTranslation(e,a){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,a,0,0,1),this}makeRotation(e){const a=Math.cos(e),d=Math.sin(e);return this.set(a,-d,0,d,a,0,0,0,1),this}makeScale(e,a){return this.set(e,0,0,0,a,0,0,0,1),this}equals(e){const a=this.elements,d=e.elements;for(let nt=0;nt<9;nt++)if(a[nt]!==d[nt])return!1;return!0}fromArray(e,a=0){for(let d=0;d<9;d++)this.elements[d]=e[d+a];return this}toArray(e=[],a=0){const d=this.elements;return e[a]=d[0],e[a+1]=d[1],e[a+2]=d[2],e[a+3]=d[3],e[a+4]=d[4],e[a+5]=d[5],e[a+6]=d[6],e[a+7]=d[7],e[a+8]=d[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(c){for(let e=c.length-1;e>=0;--e)if(c[e]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(c,e){return new TYPED_ARRAYS[c](e)}function createElementNS(c){return document.createElementNS("http://www.w3.org/1999/xhtml",c)}function createCanvasElement(){const c=createElementNS("canvas");return c.style.display="block",c}const _cache={};function warnOnce(c){c in _cache||(_cache[c]=!0,console.warn(c))}function probeAsync(c,e,a){return new Promise(function(d,nt){function o(){switch(c.clientWaitSync(e,c.SYNC_FLUSH_COMMANDS_BIT,0)){case c.WAIT_FAILED:nt();break;case c.TIMEOUT_EXPIRED:setTimeout(o,a);break;default:d()}}setTimeout(o,a)})}function toNormalizedProjectionMatrix(c){const e=c.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function toReversedProjectionMatrix(c){const e=c.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const LINEAR_REC709_TO_XYZ=new Matrix3().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),XYZ_TO_LINEAR_REC709=new Matrix3().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function createColorManagement(){const c={enabled:!0,workingColorSpace:LinearSRGBColorSpace,spaces:{},convert:function(nt,o,ht){return this.enabled===!1||o===ht||!o||!ht||(this.spaces[o].transfer===SRGBTransfer&&(nt.r=SRGBToLinear(nt.r),nt.g=SRGBToLinear(nt.g),nt.b=SRGBToLinear(nt.b)),this.spaces[o].primaries!==this.spaces[ht].primaries&&(nt.applyMatrix3(this.spaces[o].toXYZ),nt.applyMatrix3(this.spaces[ht].fromXYZ)),this.spaces[ht].transfer===SRGBTransfer&&(nt.r=LinearToSRGB(nt.r),nt.g=LinearToSRGB(nt.g),nt.b=LinearToSRGB(nt.b))),nt},fromWorkingColorSpace:function(nt,o){return this.convert(nt,this.workingColorSpace,o)},toWorkingColorSpace:function(nt,o){return this.convert(nt,o,this.workingColorSpace)},getPrimaries:function(nt){return this.spaces[nt].primaries},getTransfer:function(nt){return nt===NoColorSpace?LinearTransfer:this.spaces[nt].transfer},getLuminanceCoefficients:function(nt,o=this.workingColorSpace){return nt.fromArray(this.spaces[o].luminanceCoefficients)},define:function(nt){Object.assign(this.spaces,nt)},_getMatrix:function(nt,o,ht){return nt.copy(this.spaces[o].toXYZ).multiply(this.spaces[ht].fromXYZ)},_getDrawingBufferColorSpace:function(nt){return this.spaces[nt].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(nt=this.workingColorSpace){return this.spaces[nt].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],a=[.2126,.7152,.0722],d=[.3127,.329];return c.define({[LinearSRGBColorSpace]:{primaries:e,whitePoint:d,transfer:LinearTransfer,toXYZ:LINEAR_REC709_TO_XYZ,fromXYZ:XYZ_TO_LINEAR_REC709,luminanceCoefficients:a,workingColorSpaceConfig:{unpackColorSpace:SRGBColorSpace},outputColorSpaceConfig:{drawingBufferColorSpace:SRGBColorSpace}},[SRGBColorSpace]:{primaries:e,whitePoint:d,transfer:SRGBTransfer,toXYZ:LINEAR_REC709_TO_XYZ,fromXYZ:XYZ_TO_LINEAR_REC709,luminanceCoefficients:a,outputColorSpaceConfig:{drawingBufferColorSpace:SRGBColorSpace}}}),c}const ColorManagement=createColorManagement();function SRGBToLinear(c){return c<.04045?c*.0773993808:Math.pow(c*.9478672986+.0521327014,2.4)}function LinearToSRGB(c){return c<.0031308?c*12.92:1.055*Math.pow(c,.41666)-.055}let _canvas;class ImageUtils{static getDataURL(e,a="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let d;if(e instanceof HTMLCanvasElement)d=e;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=e.width,_canvas.height=e.height;const nt=_canvas.getContext("2d");e instanceof ImageData?nt.putImageData(e,0,0):nt.drawImage(e,0,0,e.width,e.height),d=_canvas}return d.toDataURL(a)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const a=createElementNS("canvas");a.width=e.width,a.height=e.height;const d=a.getContext("2d");d.drawImage(e,0,0,e.width,e.height);const nt=d.getImageData(0,0,e.width,e.height),o=nt.data;for(let ht=0;ht<o.length;ht++)o[ht]=SRGBToLinear(o[ht]/255)*255;return d.putImageData(nt,0,0),a}else if(e.data){const a=e.data.slice(0);for(let d=0;d<a.length;d++)a instanceof Uint8Array||a instanceof Uint8ClampedArray?a[d]=Math.floor(SRGBToLinear(a[d]/255)*255):a[d]=SRGBToLinear(a[d]);return{data:a,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let _sourceId=0;class Source{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_sourceId++}),this.uuid=generateUUID(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const a=e===void 0||typeof e=="string";if(!a&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const d={uuid:this.uuid,url:""},nt=this.data;if(nt!==null){let o;if(Array.isArray(nt)){o=[];for(let ht=0,vt=nt.length;ht<vt;ht++)nt[ht].isDataTexture?o.push(serializeImage(nt[ht].image)):o.push(serializeImage(nt[ht]))}else o=serializeImage(nt);d.url=o}return a||(e.images[this.uuid]=d),d}}function serializeImage(c){return typeof HTMLImageElement<"u"&&c instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&c instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&c instanceof ImageBitmap?ImageUtils.getDataURL(c):c.data?{data:Array.from(c.data),width:c.width,height:c.height,type:c.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _textureId=0;class Texture extends EventDispatcher$1{constructor(e=Texture.DEFAULT_IMAGE,a=Texture.DEFAULT_MAPPING,d=ClampToEdgeWrapping,nt=ClampToEdgeWrapping,o=LinearFilter,ht=LinearMipmapLinearFilter,vt=RGBAFormat,xt=UnsignedByteType,St=Texture.DEFAULT_ANISOTROPY,Tt=NoColorSpace){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source(e),this.mipmaps=[],this.mapping=a,this.channel=0,this.wrapS=d,this.wrapT=nt,this.magFilter=o,this.minFilter=ht,this.anisotropy=St,this.format=vt,this.internalFormat=null,this.type=xt,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=Tt,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isTextureArray=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isTextureArray=e.isTextureArray,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const a=e===void 0||typeof e=="string";if(!a&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const d={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(d.userData=this.userData),a||(e.textures[this.uuid]=d),d}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==UVMapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case RepeatWrapping:e.x=e.x-Math.floor(e.x);break;case ClampToEdgeWrapping:e.x=e.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case RepeatWrapping:e.y=e.y-Math.floor(e.y);break;case ClampToEdgeWrapping:e.y=e.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(e=0,a=0,d=0,nt=1){Vector4.prototype.isVector4=!0,this.x=e,this.y=a,this.z=d,this.w=nt}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,a,d,nt){return this.x=e,this.y=a,this.z=d,this.w=nt,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,a){switch(e){case 0:this.x=a;break;case 1:this.y=a;break;case 2:this.z=a;break;case 3:this.w=a;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,a){return this.x=e.x+a.x,this.y=e.y+a.y,this.z=e.z+a.z,this.w=e.w+a.w,this}addScaledVector(e,a){return this.x+=e.x*a,this.y+=e.y*a,this.z+=e.z*a,this.w+=e.w*a,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,a){return this.x=e.x-a.x,this.y=e.y-a.y,this.z=e.z-a.z,this.w=e.w-a.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const a=this.x,d=this.y,nt=this.z,o=this.w,ht=e.elements;return this.x=ht[0]*a+ht[4]*d+ht[8]*nt+ht[12]*o,this.y=ht[1]*a+ht[5]*d+ht[9]*nt+ht[13]*o,this.z=ht[2]*a+ht[6]*d+ht[10]*nt+ht[14]*o,this.w=ht[3]*a+ht[7]*d+ht[11]*nt+ht[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const a=Math.sqrt(1-e.w*e.w);return a<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/a,this.y=e.y/a,this.z=e.z/a),this}setAxisAngleFromRotationMatrix(e){let a,d,nt,o;const xt=e.elements,St=xt[0],Tt=xt[4],At=xt[8],Ct=xt[1],Rt=xt[5],yt=xt[9],Dt=xt[2],Nt=xt[6],Lt=xt[10];if(Math.abs(Tt-Ct)<.01&&Math.abs(At-Dt)<.01&&Math.abs(yt-Nt)<.01){if(Math.abs(Tt+Ct)<.1&&Math.abs(At+Dt)<.1&&Math.abs(yt+Nt)<.1&&Math.abs(St+Rt+Lt-3)<.1)return this.set(1,0,0,0),this;a=Math.PI;const Ft=(St+1)/2,Vt=(Rt+1)/2,jt=(Lt+1)/2,$t=(Tt+Ct)/4,Yt=(At+Dt)/4,Kt=(yt+Nt)/4;return Ft>Vt&&Ft>jt?Ft<.01?(d=0,nt=.707106781,o=.707106781):(d=Math.sqrt(Ft),nt=$t/d,o=Yt/d):Vt>jt?Vt<.01?(d=.707106781,nt=0,o=.707106781):(nt=Math.sqrt(Vt),d=$t/nt,o=Kt/nt):jt<.01?(d=.707106781,nt=.707106781,o=0):(o=Math.sqrt(jt),d=Yt/o,nt=Kt/o),this.set(d,nt,o,a),this}let Ot=Math.sqrt((Nt-yt)*(Nt-yt)+(At-Dt)*(At-Dt)+(Ct-Tt)*(Ct-Tt));return Math.abs(Ot)<.001&&(Ot=1),this.x=(Nt-yt)/Ot,this.y=(At-Dt)/Ot,this.z=(Ct-Tt)/Ot,this.w=Math.acos((St+Rt+Lt-1)/2),this}setFromMatrixPosition(e){const a=e.elements;return this.x=a[12],this.y=a[13],this.z=a[14],this.w=a[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,a){return this.x=clamp(this.x,e.x,a.x),this.y=clamp(this.y,e.y,a.y),this.z=clamp(this.z,e.z,a.z),this.w=clamp(this.w,e.w,a.w),this}clampScalar(e,a){return this.x=clamp(this.x,e,a),this.y=clamp(this.y,e,a),this.z=clamp(this.z,e,a),this.w=clamp(this.w,e,a),this}clampLength(e,a){const d=this.length();return this.divideScalar(d||1).multiplyScalar(clamp(d,e,a))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,a){return this.x+=(e.x-this.x)*a,this.y+=(e.y-this.y)*a,this.z+=(e.z-this.z)*a,this.w+=(e.w-this.w)*a,this}lerpVectors(e,a,d){return this.x=e.x+(a.x-e.x)*d,this.y=e.y+(a.y-e.y)*d,this.z=e.z+(a.z-e.z)*d,this.w=e.w+(a.w-e.w)*d,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,a=0){return this.x=e[a],this.y=e[a+1],this.z=e[a+2],this.w=e[a+3],this}toArray(e=[],a=0){return e[a]=this.x,e[a+1]=this.y,e[a+2]=this.z,e[a+3]=this.w,e}fromBufferAttribute(e,a){return this.x=e.getX(a),this.y=e.getY(a),this.z=e.getZ(a),this.w=e.getW(a),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class RenderTarget extends EventDispatcher$1{constructor(e=1,a=1,d={}){super(),this.isRenderTarget=!0,this.width=e,this.height=a,this.depth=d.depth?d.depth:1,this.scissor=new Vector4(0,0,e,a),this.scissorTest=!1,this.viewport=new Vector4(0,0,e,a);const nt={width:e,height:a,depth:this.depth};d=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:LinearFilter,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,multiview:!1},d);const o=new Texture(nt,d.mapping,d.wrapS,d.wrapT,d.magFilter,d.minFilter,d.format,d.type,d.anisotropy,d.colorSpace);o.flipY=!1,o.generateMipmaps=d.generateMipmaps,o.internalFormat=d.internalFormat,this.textures=[];const ht=d.count;for(let vt=0;vt<ht;vt++)this.textures[vt]=o.clone(),this.textures[vt].isRenderTargetTexture=!0,this.textures[vt].renderTarget=this;this.depthBuffer=d.depthBuffer,this.stencilBuffer=d.stencilBuffer,this.resolveDepthBuffer=d.resolveDepthBuffer,this.resolveStencilBuffer=d.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=d.depthTexture,this.samples=d.samples,this.multiview=d.multiview}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,a,d=1){if(this.width!==e||this.height!==a||this.depth!==d){this.width=e,this.height=a,this.depth=d;for(let nt=0,o=this.textures.length;nt<o;nt++)this.textures[nt].image.width=e,this.textures[nt].image.height=a,this.textures[nt].image.depth=d;this.dispose()}this.viewport.set(0,0,e,a),this.scissor.set(0,0,e,a)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let a=0,d=e.textures.length;a<d;a++){this.textures[a]=e.textures[a].clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;const nt=Object.assign({},e.textures[a].image);this.textures[a].source=new Source(nt)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class WebGLRenderTarget extends RenderTarget{constructor(e=1,a=1,d={}){super(e,a,d),this.isWebGLRenderTarget=!0}}class DataArrayTexture extends Texture{constructor(e=null,a=1,d=1,nt=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:a,height:d,depth:nt},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(e=1,a=1,d=1,nt={}){super(e,a,nt),this.isWebGLArrayRenderTarget=!0,this.depth=d,this.texture=new DataArrayTexture(null,e,a,d),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor(e=null,a=1,d=1,nt=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:a,height:d,depth:nt},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(e=1,a=1,d=1,nt={}){super(e,a,nt),this.isWebGL3DRenderTarget=!0,this.depth=d,this.texture=new Data3DTexture(null,e,a,d),this.texture.isRenderTargetTexture=!0}}class Quaternion{constructor(e=0,a=0,d=0,nt=1){this.isQuaternion=!0,this._x=e,this._y=a,this._z=d,this._w=nt}static slerpFlat(e,a,d,nt,o,ht,vt){let xt=d[nt+0],St=d[nt+1],Tt=d[nt+2],At=d[nt+3];const Ct=o[ht+0],Rt=o[ht+1],yt=o[ht+2],Dt=o[ht+3];if(vt===0){e[a+0]=xt,e[a+1]=St,e[a+2]=Tt,e[a+3]=At;return}if(vt===1){e[a+0]=Ct,e[a+1]=Rt,e[a+2]=yt,e[a+3]=Dt;return}if(At!==Dt||xt!==Ct||St!==Rt||Tt!==yt){let Nt=1-vt;const Lt=xt*Ct+St*Rt+Tt*yt+At*Dt,Ot=Lt>=0?1:-1,Ft=1-Lt*Lt;if(Ft>Number.EPSILON){const jt=Math.sqrt(Ft),$t=Math.atan2(jt,Lt*Ot);Nt=Math.sin(Nt*$t)/jt,vt=Math.sin(vt*$t)/jt}const Vt=vt*Ot;if(xt=xt*Nt+Ct*Vt,St=St*Nt+Rt*Vt,Tt=Tt*Nt+yt*Vt,At=At*Nt+Dt*Vt,Nt===1-vt){const jt=1/Math.sqrt(xt*xt+St*St+Tt*Tt+At*At);xt*=jt,St*=jt,Tt*=jt,At*=jt}}e[a]=xt,e[a+1]=St,e[a+2]=Tt,e[a+3]=At}static multiplyQuaternionsFlat(e,a,d,nt,o,ht){const vt=d[nt],xt=d[nt+1],St=d[nt+2],Tt=d[nt+3],At=o[ht],Ct=o[ht+1],Rt=o[ht+2],yt=o[ht+3];return e[a]=vt*yt+Tt*At+xt*Rt-St*Ct,e[a+1]=xt*yt+Tt*Ct+St*At-vt*Rt,e[a+2]=St*yt+Tt*Rt+vt*Ct-xt*At,e[a+3]=Tt*yt-vt*At-xt*Ct-St*Rt,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,a,d,nt){return this._x=e,this._y=a,this._z=d,this._w=nt,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,a=!0){const d=e._x,nt=e._y,o=e._z,ht=e._order,vt=Math.cos,xt=Math.sin,St=vt(d/2),Tt=vt(nt/2),At=vt(o/2),Ct=xt(d/2),Rt=xt(nt/2),yt=xt(o/2);switch(ht){case"XYZ":this._x=Ct*Tt*At+St*Rt*yt,this._y=St*Rt*At-Ct*Tt*yt,this._z=St*Tt*yt+Ct*Rt*At,this._w=St*Tt*At-Ct*Rt*yt;break;case"YXZ":this._x=Ct*Tt*At+St*Rt*yt,this._y=St*Rt*At-Ct*Tt*yt,this._z=St*Tt*yt-Ct*Rt*At,this._w=St*Tt*At+Ct*Rt*yt;break;case"ZXY":this._x=Ct*Tt*At-St*Rt*yt,this._y=St*Rt*At+Ct*Tt*yt,this._z=St*Tt*yt+Ct*Rt*At,this._w=St*Tt*At-Ct*Rt*yt;break;case"ZYX":this._x=Ct*Tt*At-St*Rt*yt,this._y=St*Rt*At+Ct*Tt*yt,this._z=St*Tt*yt-Ct*Rt*At,this._w=St*Tt*At+Ct*Rt*yt;break;case"YZX":this._x=Ct*Tt*At+St*Rt*yt,this._y=St*Rt*At+Ct*Tt*yt,this._z=St*Tt*yt-Ct*Rt*At,this._w=St*Tt*At-Ct*Rt*yt;break;case"XZY":this._x=Ct*Tt*At-St*Rt*yt,this._y=St*Rt*At-Ct*Tt*yt,this._z=St*Tt*yt+Ct*Rt*At,this._w=St*Tt*At+Ct*Rt*yt;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+ht)}return a===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,a){const d=a/2,nt=Math.sin(d);return this._x=e.x*nt,this._y=e.y*nt,this._z=e.z*nt,this._w=Math.cos(d),this._onChangeCallback(),this}setFromRotationMatrix(e){const a=e.elements,d=a[0],nt=a[4],o=a[8],ht=a[1],vt=a[5],xt=a[9],St=a[2],Tt=a[6],At=a[10],Ct=d+vt+At;if(Ct>0){const Rt=.5/Math.sqrt(Ct+1);this._w=.25/Rt,this._x=(Tt-xt)*Rt,this._y=(o-St)*Rt,this._z=(ht-nt)*Rt}else if(d>vt&&d>At){const Rt=2*Math.sqrt(1+d-vt-At);this._w=(Tt-xt)/Rt,this._x=.25*Rt,this._y=(nt+ht)/Rt,this._z=(o+St)/Rt}else if(vt>At){const Rt=2*Math.sqrt(1+vt-d-At);this._w=(o-St)/Rt,this._x=(nt+ht)/Rt,this._y=.25*Rt,this._z=(xt+Tt)/Rt}else{const Rt=2*Math.sqrt(1+At-d-vt);this._w=(ht-nt)/Rt,this._x=(o+St)/Rt,this._y=(xt+Tt)/Rt,this._z=.25*Rt}return this._onChangeCallback(),this}setFromUnitVectors(e,a){let d=e.dot(a)+1;return d<Number.EPSILON?(d=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=d):(this._x=0,this._y=-e.z,this._z=e.y,this._w=d)):(this._x=e.y*a.z-e.z*a.y,this._y=e.z*a.x-e.x*a.z,this._z=e.x*a.y-e.y*a.x,this._w=d),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(clamp(this.dot(e),-1,1)))}rotateTowards(e,a){const d=this.angleTo(e);if(d===0)return this;const nt=Math.min(1,a/d);return this.slerp(e,nt),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,a){const d=e._x,nt=e._y,o=e._z,ht=e._w,vt=a._x,xt=a._y,St=a._z,Tt=a._w;return this._x=d*Tt+ht*vt+nt*St-o*xt,this._y=nt*Tt+ht*xt+o*vt-d*St,this._z=o*Tt+ht*St+d*xt-nt*vt,this._w=ht*Tt-d*vt-nt*xt-o*St,this._onChangeCallback(),this}slerp(e,a){if(a===0)return this;if(a===1)return this.copy(e);const d=this._x,nt=this._y,o=this._z,ht=this._w;let vt=ht*e._w+d*e._x+nt*e._y+o*e._z;if(vt<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,vt=-vt):this.copy(e),vt>=1)return this._w=ht,this._x=d,this._y=nt,this._z=o,this;const xt=1-vt*vt;if(xt<=Number.EPSILON){const Rt=1-a;return this._w=Rt*ht+a*this._w,this._x=Rt*d+a*this._x,this._y=Rt*nt+a*this._y,this._z=Rt*o+a*this._z,this.normalize(),this}const St=Math.sqrt(xt),Tt=Math.atan2(St,vt),At=Math.sin((1-a)*Tt)/St,Ct=Math.sin(a*Tt)/St;return this._w=ht*At+this._w*Ct,this._x=d*At+this._x*Ct,this._y=nt*At+this._y*Ct,this._z=o*At+this._z*Ct,this._onChangeCallback(),this}slerpQuaternions(e,a,d){return this.copy(e).slerp(a,d)}random(){const e=2*Math.PI*Math.random(),a=2*Math.PI*Math.random(),d=Math.random(),nt=Math.sqrt(1-d),o=Math.sqrt(d);return this.set(nt*Math.sin(e),nt*Math.cos(e),o*Math.sin(a),o*Math.cos(a))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,a=0){return this._x=e[a],this._y=e[a+1],this._z=e[a+2],this._w=e[a+3],this._onChangeCallback(),this}toArray(e=[],a=0){return e[a]=this._x,e[a+1]=this._y,e[a+2]=this._z,e[a+3]=this._w,e}fromBufferAttribute(e,a){return this._x=e.getX(a),this._y=e.getY(a),this._z=e.getZ(a),this._w=e.getW(a),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(e=0,a=0,d=0){Vector3.prototype.isVector3=!0,this.x=e,this.y=a,this.z=d}set(e,a,d){return d===void 0&&(d=this.z),this.x=e,this.y=a,this.z=d,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,a){switch(e){case 0:this.x=a;break;case 1:this.y=a;break;case 2:this.z=a;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,a){return this.x=e.x+a.x,this.y=e.y+a.y,this.z=e.z+a.z,this}addScaledVector(e,a){return this.x+=e.x*a,this.y+=e.y*a,this.z+=e.z*a,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,a){return this.x=e.x-a.x,this.y=e.y-a.y,this.z=e.z-a.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,a){return this.x=e.x*a.x,this.y=e.y*a.y,this.z=e.z*a.z,this}applyEuler(e){return this.applyQuaternion(_quaternion$4.setFromEuler(e))}applyAxisAngle(e,a){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(e,a))}applyMatrix3(e){const a=this.x,d=this.y,nt=this.z,o=e.elements;return this.x=o[0]*a+o[3]*d+o[6]*nt,this.y=o[1]*a+o[4]*d+o[7]*nt,this.z=o[2]*a+o[5]*d+o[8]*nt,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const a=this.x,d=this.y,nt=this.z,o=e.elements,ht=1/(o[3]*a+o[7]*d+o[11]*nt+o[15]);return this.x=(o[0]*a+o[4]*d+o[8]*nt+o[12])*ht,this.y=(o[1]*a+o[5]*d+o[9]*nt+o[13])*ht,this.z=(o[2]*a+o[6]*d+o[10]*nt+o[14])*ht,this}applyQuaternion(e){const a=this.x,d=this.y,nt=this.z,o=e.x,ht=e.y,vt=e.z,xt=e.w,St=2*(ht*nt-vt*d),Tt=2*(vt*a-o*nt),At=2*(o*d-ht*a);return this.x=a+xt*St+ht*At-vt*Tt,this.y=d+xt*Tt+vt*St-o*At,this.z=nt+xt*At+o*Tt-ht*St,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const a=this.x,d=this.y,nt=this.z,o=e.elements;return this.x=o[0]*a+o[4]*d+o[8]*nt,this.y=o[1]*a+o[5]*d+o[9]*nt,this.z=o[2]*a+o[6]*d+o[10]*nt,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,a){return this.x=clamp(this.x,e.x,a.x),this.y=clamp(this.y,e.y,a.y),this.z=clamp(this.z,e.z,a.z),this}clampScalar(e,a){return this.x=clamp(this.x,e,a),this.y=clamp(this.y,e,a),this.z=clamp(this.z,e,a),this}clampLength(e,a){const d=this.length();return this.divideScalar(d||1).multiplyScalar(clamp(d,e,a))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,a){return this.x+=(e.x-this.x)*a,this.y+=(e.y-this.y)*a,this.z+=(e.z-this.z)*a,this}lerpVectors(e,a,d){return this.x=e.x+(a.x-e.x)*d,this.y=e.y+(a.y-e.y)*d,this.z=e.z+(a.z-e.z)*d,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,a){const d=e.x,nt=e.y,o=e.z,ht=a.x,vt=a.y,xt=a.z;return this.x=nt*xt-o*vt,this.y=o*ht-d*xt,this.z=d*vt-nt*ht,this}projectOnVector(e){const a=e.lengthSq();if(a===0)return this.set(0,0,0);const d=e.dot(this)/a;return this.copy(e).multiplyScalar(d)}projectOnPlane(e){return _vector$c.copy(this).projectOnVector(e),this.sub(_vector$c)}reflect(e){return this.sub(_vector$c.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const a=Math.sqrt(this.lengthSq()*e.lengthSq());if(a===0)return Math.PI/2;const d=this.dot(e)/a;return Math.acos(clamp(d,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const a=this.x-e.x,d=this.y-e.y,nt=this.z-e.z;return a*a+d*d+nt*nt}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,a,d){const nt=Math.sin(a)*e;return this.x=nt*Math.sin(d),this.y=Math.cos(a)*e,this.z=nt*Math.cos(d),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,a,d){return this.x=e*Math.sin(a),this.y=d,this.z=e*Math.cos(a),this}setFromMatrixPosition(e){const a=e.elements;return this.x=a[12],this.y=a[13],this.z=a[14],this}setFromMatrixScale(e){const a=this.setFromMatrixColumn(e,0).length(),d=this.setFromMatrixColumn(e,1).length(),nt=this.setFromMatrixColumn(e,2).length();return this.x=a,this.y=d,this.z=nt,this}setFromMatrixColumn(e,a){return this.fromArray(e.elements,a*4)}setFromMatrix3Column(e,a){return this.fromArray(e.elements,a*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,a=0){return this.x=e[a],this.y=e[a+1],this.z=e[a+2],this}toArray(e=[],a=0){return e[a]=this.x,e[a+1]=this.y,e[a+2]=this.z,e}fromBufferAttribute(e,a){return this.x=e.getX(a),this.y=e.getY(a),this.z=e.getZ(a),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,a=Math.random()*2-1,d=Math.sqrt(1-a*a);return this.x=d*Math.cos(e),this.y=a,this.z=d*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(e=new Vector3(1/0,1/0,1/0),a=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=a}set(e,a){return this.min.copy(e),this.max.copy(a),this}setFromArray(e){this.makeEmpty();for(let a=0,d=e.length;a<d;a+=3)this.expandByPoint(_vector$b.fromArray(e,a));return this}setFromBufferAttribute(e){this.makeEmpty();for(let a=0,d=e.count;a<d;a++)this.expandByPoint(_vector$b.fromBufferAttribute(e,a));return this}setFromPoints(e){this.makeEmpty();for(let a=0,d=e.length;a<d;a++)this.expandByPoint(e[a]);return this}setFromCenterAndSize(e,a){const d=_vector$b.copy(a).multiplyScalar(.5);return this.min.copy(e).sub(d),this.max.copy(e).add(d),this}setFromObject(e,a=!1){return this.makeEmpty(),this.expandByObject(e,a)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,a=!1){e.updateWorldMatrix(!1,!1);const d=e.geometry;if(d!==void 0){const o=d.getAttribute("position");if(a===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let ht=0,vt=o.count;ht<vt;ht++)e.isMesh===!0?e.getVertexPosition(ht,_vector$b):_vector$b.fromBufferAttribute(o,ht),_vector$b.applyMatrix4(e.matrixWorld),this.expandByPoint(_vector$b);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),_box$4.copy(e.boundingBox)):(d.boundingBox===null&&d.computeBoundingBox(),_box$4.copy(d.boundingBox)),_box$4.applyMatrix4(e.matrixWorld),this.union(_box$4)}const nt=e.children;for(let o=0,ht=nt.length;o<ht;o++)this.expandByObject(nt[o],a);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,a){return a.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,_vector$b),_vector$b.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let a,d;return e.normal.x>0?(a=e.normal.x*this.min.x,d=e.normal.x*this.max.x):(a=e.normal.x*this.max.x,d=e.normal.x*this.min.x),e.normal.y>0?(a+=e.normal.y*this.min.y,d+=e.normal.y*this.max.y):(a+=e.normal.y*this.max.y,d+=e.normal.y*this.min.y),e.normal.z>0?(a+=e.normal.z*this.min.z,d+=e.normal.z*this.max.z):(a+=e.normal.z*this.max.z,d+=e.normal.z*this.min.z),a<=-e.constant&&d>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(e.a,_center),_v1$7.subVectors(e.b,_center),_v2$4.subVectors(e.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let a=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(a,_v0$2,_v1$7,_v2$4,_extents)||(a=[1,0,0,0,1,0,0,0,1],!satForAxes(a,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),a=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(a,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(e,a){return a.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_vector$b).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(_vector$b).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(_points),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$4=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(c,e,a,d,nt){for(let o=0,ht=c.length-3;o<=ht;o+=3){_testAxis.fromArray(c,o);const vt=nt.x*Math.abs(_testAxis.x)+nt.y*Math.abs(_testAxis.y)+nt.z*Math.abs(_testAxis.z),xt=e.dot(_testAxis),St=a.dot(_testAxis),Tt=d.dot(_testAxis);if(Math.max(-Math.max(xt,St,Tt),Math.min(xt,St,Tt))>vt)return!1}return!0}const _box$3=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(e=new Vector3,a=-1){this.isSphere=!0,this.center=e,this.radius=a}set(e,a){return this.center.copy(e),this.radius=a,this}setFromPoints(e,a){const d=this.center;a!==void 0?d.copy(a):_box$3.setFromPoints(e).getCenter(d);let nt=0;for(let o=0,ht=e.length;o<ht;o++)nt=Math.max(nt,d.distanceToSquared(e[o]));return this.radius=Math.sqrt(nt),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const a=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=a*a}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,a){const d=this.center.distanceToSquared(e);return a.copy(e),d>this.radius*this.radius&&(a.sub(this.center).normalize(),a.multiplyScalar(this.radius).add(this.center)),a}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;_v1$6.subVectors(e,this.center);const a=_v1$6.lengthSq();if(a>this.radius*this.radius){const d=Math.sqrt(a),nt=(d-this.radius)*.5;this.center.addScaledVector(_v1$6,nt/d),this.radius+=nt}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(_v2$3.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(_v1$6.copy(e.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(e.center).sub(_v2$3))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(e=new Vector3,a=new Vector3(0,0,-1)){this.origin=e,this.direction=a}set(e,a){return this.origin.copy(e),this.direction.copy(a),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,a){return a.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,_vector$a)),this}closestPointToPoint(e,a){a.subVectors(e,this.origin);const d=a.dot(this.direction);return d<0?a.copy(this.origin):a.copy(this.origin).addScaledVector(this.direction,d)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const a=_vector$a.subVectors(e,this.origin).dot(this.direction);return a<0?this.origin.distanceToSquared(e):(_vector$a.copy(this.origin).addScaledVector(this.direction,a),_vector$a.distanceToSquared(e))}distanceSqToSegment(e,a,d,nt){_segCenter.copy(e).add(a).multiplyScalar(.5),_segDir.copy(a).sub(e).normalize(),_diff.copy(this.origin).sub(_segCenter);const o=e.distanceTo(a)*.5,ht=-this.direction.dot(_segDir),vt=_diff.dot(this.direction),xt=-_diff.dot(_segDir),St=_diff.lengthSq(),Tt=Math.abs(1-ht*ht);let At,Ct,Rt,yt;if(Tt>0)if(At=ht*xt-vt,Ct=ht*vt-xt,yt=o*Tt,At>=0)if(Ct>=-yt)if(Ct<=yt){const Dt=1/Tt;At*=Dt,Ct*=Dt,Rt=At*(At+ht*Ct+2*vt)+Ct*(ht*At+Ct+2*xt)+St}else Ct=o,At=Math.max(0,-(ht*Ct+vt)),Rt=-At*At+Ct*(Ct+2*xt)+St;else Ct=-o,At=Math.max(0,-(ht*Ct+vt)),Rt=-At*At+Ct*(Ct+2*xt)+St;else Ct<=-yt?(At=Math.max(0,-(-ht*o+vt)),Ct=At>0?-o:Math.min(Math.max(-o,-xt),o),Rt=-At*At+Ct*(Ct+2*xt)+St):Ct<=yt?(At=0,Ct=Math.min(Math.max(-o,-xt),o),Rt=Ct*(Ct+2*xt)+St):(At=Math.max(0,-(ht*o+vt)),Ct=At>0?o:Math.min(Math.max(-o,-xt),o),Rt=-At*At+Ct*(Ct+2*xt)+St);else Ct=ht>0?-o:o,At=Math.max(0,-(ht*Ct+vt)),Rt=-At*At+Ct*(Ct+2*xt)+St;return d&&d.copy(this.origin).addScaledVector(this.direction,At),nt&&nt.copy(_segCenter).addScaledVector(_segDir,Ct),Rt}intersectSphere(e,a){_vector$a.subVectors(e.center,this.origin);const d=_vector$a.dot(this.direction),nt=_vector$a.dot(_vector$a)-d*d,o=e.radius*e.radius;if(nt>o)return null;const ht=Math.sqrt(o-nt),vt=d-ht,xt=d+ht;return xt<0?null:vt<0?this.at(xt,a):this.at(vt,a)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const a=e.normal.dot(this.direction);if(a===0)return e.distanceToPoint(this.origin)===0?0:null;const d=-(this.origin.dot(e.normal)+e.constant)/a;return d>=0?d:null}intersectPlane(e,a){const d=this.distanceToPlane(e);return d===null?null:this.at(d,a)}intersectsPlane(e){const a=e.distanceToPoint(this.origin);return a===0||e.normal.dot(this.direction)*a<0}intersectBox(e,a){let d,nt,o,ht,vt,xt;const St=1/this.direction.x,Tt=1/this.direction.y,At=1/this.direction.z,Ct=this.origin;return St>=0?(d=(e.min.x-Ct.x)*St,nt=(e.max.x-Ct.x)*St):(d=(e.max.x-Ct.x)*St,nt=(e.min.x-Ct.x)*St),Tt>=0?(o=(e.min.y-Ct.y)*Tt,ht=(e.max.y-Ct.y)*Tt):(o=(e.max.y-Ct.y)*Tt,ht=(e.min.y-Ct.y)*Tt),d>ht||o>nt||((o>d||isNaN(d))&&(d=o),(ht<nt||isNaN(nt))&&(nt=ht),At>=0?(vt=(e.min.z-Ct.z)*At,xt=(e.max.z-Ct.z)*At):(vt=(e.max.z-Ct.z)*At,xt=(e.min.z-Ct.z)*At),d>xt||vt>nt)||((vt>d||d!==d)&&(d=vt),(xt<nt||nt!==nt)&&(nt=xt),nt<0)?null:this.at(d>=0?d:nt,a)}intersectsBox(e){return this.intersectBox(e,_vector$a)!==null}intersectTriangle(e,a,d,nt,o){_edge1.subVectors(a,e),_edge2.subVectors(d,e),_normal$1.crossVectors(_edge1,_edge2);let ht=this.direction.dot(_normal$1),vt;if(ht>0){if(nt)return null;vt=1}else if(ht<0)vt=-1,ht=-ht;else return null;_diff.subVectors(this.origin,e);const xt=vt*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(xt<0)return null;const St=vt*this.direction.dot(_edge1.cross(_diff));if(St<0||xt+St>ht)return null;const Tt=-vt*_diff.dot(_normal$1);return Tt<0?null:this.at(Tt/ht,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(e,a,d,nt,o,ht,vt,xt,St,Tt,At,Ct,Rt,yt,Dt,Nt){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,a,d,nt,o,ht,vt,xt,St,Tt,At,Ct,Rt,yt,Dt,Nt)}set(e,a,d,nt,o,ht,vt,xt,St,Tt,At,Ct,Rt,yt,Dt,Nt){const Lt=this.elements;return Lt[0]=e,Lt[4]=a,Lt[8]=d,Lt[12]=nt,Lt[1]=o,Lt[5]=ht,Lt[9]=vt,Lt[13]=xt,Lt[2]=St,Lt[6]=Tt,Lt[10]=At,Lt[14]=Ct,Lt[3]=Rt,Lt[7]=yt,Lt[11]=Dt,Lt[15]=Nt,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(e){const a=this.elements,d=e.elements;return a[0]=d[0],a[1]=d[1],a[2]=d[2],a[3]=d[3],a[4]=d[4],a[5]=d[5],a[6]=d[6],a[7]=d[7],a[8]=d[8],a[9]=d[9],a[10]=d[10],a[11]=d[11],a[12]=d[12],a[13]=d[13],a[14]=d[14],a[15]=d[15],this}copyPosition(e){const a=this.elements,d=e.elements;return a[12]=d[12],a[13]=d[13],a[14]=d[14],this}setFromMatrix3(e){const a=e.elements;return this.set(a[0],a[3],a[6],0,a[1],a[4],a[7],0,a[2],a[5],a[8],0,0,0,0,1),this}extractBasis(e,a,d){return e.setFromMatrixColumn(this,0),a.setFromMatrixColumn(this,1),d.setFromMatrixColumn(this,2),this}makeBasis(e,a,d){return this.set(e.x,a.x,d.x,0,e.y,a.y,d.y,0,e.z,a.z,d.z,0,0,0,0,1),this}extractRotation(e){const a=this.elements,d=e.elements,nt=1/_v1$5.setFromMatrixColumn(e,0).length(),o=1/_v1$5.setFromMatrixColumn(e,1).length(),ht=1/_v1$5.setFromMatrixColumn(e,2).length();return a[0]=d[0]*nt,a[1]=d[1]*nt,a[2]=d[2]*nt,a[3]=0,a[4]=d[4]*o,a[5]=d[5]*o,a[6]=d[6]*o,a[7]=0,a[8]=d[8]*ht,a[9]=d[9]*ht,a[10]=d[10]*ht,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,this}makeRotationFromEuler(e){const a=this.elements,d=e.x,nt=e.y,o=e.z,ht=Math.cos(d),vt=Math.sin(d),xt=Math.cos(nt),St=Math.sin(nt),Tt=Math.cos(o),At=Math.sin(o);if(e.order==="XYZ"){const Ct=ht*Tt,Rt=ht*At,yt=vt*Tt,Dt=vt*At;a[0]=xt*Tt,a[4]=-xt*At,a[8]=St,a[1]=Rt+yt*St,a[5]=Ct-Dt*St,a[9]=-vt*xt,a[2]=Dt-Ct*St,a[6]=yt+Rt*St,a[10]=ht*xt}else if(e.order==="YXZ"){const Ct=xt*Tt,Rt=xt*At,yt=St*Tt,Dt=St*At;a[0]=Ct+Dt*vt,a[4]=yt*vt-Rt,a[8]=ht*St,a[1]=ht*At,a[5]=ht*Tt,a[9]=-vt,a[2]=Rt*vt-yt,a[6]=Dt+Ct*vt,a[10]=ht*xt}else if(e.order==="ZXY"){const Ct=xt*Tt,Rt=xt*At,yt=St*Tt,Dt=St*At;a[0]=Ct-Dt*vt,a[4]=-ht*At,a[8]=yt+Rt*vt,a[1]=Rt+yt*vt,a[5]=ht*Tt,a[9]=Dt-Ct*vt,a[2]=-ht*St,a[6]=vt,a[10]=ht*xt}else if(e.order==="ZYX"){const Ct=ht*Tt,Rt=ht*At,yt=vt*Tt,Dt=vt*At;a[0]=xt*Tt,a[4]=yt*St-Rt,a[8]=Ct*St+Dt,a[1]=xt*At,a[5]=Dt*St+Ct,a[9]=Rt*St-yt,a[2]=-St,a[6]=vt*xt,a[10]=ht*xt}else if(e.order==="YZX"){const Ct=ht*xt,Rt=ht*St,yt=vt*xt,Dt=vt*St;a[0]=xt*Tt,a[4]=Dt-Ct*At,a[8]=yt*At+Rt,a[1]=At,a[5]=ht*Tt,a[9]=-vt*Tt,a[2]=-St*Tt,a[6]=Rt*At+yt,a[10]=Ct-Dt*At}else if(e.order==="XZY"){const Ct=ht*xt,Rt=ht*St,yt=vt*xt,Dt=vt*St;a[0]=xt*Tt,a[4]=-At,a[8]=St*Tt,a[1]=Ct*At+Dt,a[5]=ht*Tt,a[9]=Rt*At-yt,a[2]=yt*At-Rt,a[6]=vt*Tt,a[10]=Dt*At+Ct}return a[3]=0,a[7]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,this}makeRotationFromQuaternion(e){return this.compose(_zero,e,_one)}lookAt(e,a,d){const nt=this.elements;return _z.subVectors(e,a),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(d,_z),_x.lengthSq()===0&&(Math.abs(d.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(d,_z)),_x.normalize(),_y.crossVectors(_z,_x),nt[0]=_x.x,nt[4]=_y.x,nt[8]=_z.x,nt[1]=_x.y,nt[5]=_y.y,nt[9]=_z.y,nt[2]=_x.z,nt[6]=_y.z,nt[10]=_z.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,a){const d=e.elements,nt=a.elements,o=this.elements,ht=d[0],vt=d[4],xt=d[8],St=d[12],Tt=d[1],At=d[5],Ct=d[9],Rt=d[13],yt=d[2],Dt=d[6],Nt=d[10],Lt=d[14],Ot=d[3],Ft=d[7],Vt=d[11],jt=d[15],$t=nt[0],Yt=nt[4],Kt=nt[8],qt=nt[12],Wt=nt[1],Jt=nt[5],cn=nt[9],sn=nt[13],Tn=nt[2],Cn=nt[6],En=nt[10],Nn=nt[14],on=nt[3],hn=nt[7],pn=nt[11],Pn=nt[15];return o[0]=ht*$t+vt*Wt+xt*Tn+St*on,o[4]=ht*Yt+vt*Jt+xt*Cn+St*hn,o[8]=ht*Kt+vt*cn+xt*En+St*pn,o[12]=ht*qt+vt*sn+xt*Nn+St*Pn,o[1]=Tt*$t+At*Wt+Ct*Tn+Rt*on,o[5]=Tt*Yt+At*Jt+Ct*Cn+Rt*hn,o[9]=Tt*Kt+At*cn+Ct*En+Rt*pn,o[13]=Tt*qt+At*sn+Ct*Nn+Rt*Pn,o[2]=yt*$t+Dt*Wt+Nt*Tn+Lt*on,o[6]=yt*Yt+Dt*Jt+Nt*Cn+Lt*hn,o[10]=yt*Kt+Dt*cn+Nt*En+Lt*pn,o[14]=yt*qt+Dt*sn+Nt*Nn+Lt*Pn,o[3]=Ot*$t+Ft*Wt+Vt*Tn+jt*on,o[7]=Ot*Yt+Ft*Jt+Vt*Cn+jt*hn,o[11]=Ot*Kt+Ft*cn+Vt*En+jt*pn,o[15]=Ot*qt+Ft*sn+Vt*Nn+jt*Pn,this}multiplyScalar(e){const a=this.elements;return a[0]*=e,a[4]*=e,a[8]*=e,a[12]*=e,a[1]*=e,a[5]*=e,a[9]*=e,a[13]*=e,a[2]*=e,a[6]*=e,a[10]*=e,a[14]*=e,a[3]*=e,a[7]*=e,a[11]*=e,a[15]*=e,this}determinant(){const e=this.elements,a=e[0],d=e[4],nt=e[8],o=e[12],ht=e[1],vt=e[5],xt=e[9],St=e[13],Tt=e[2],At=e[6],Ct=e[10],Rt=e[14],yt=e[3],Dt=e[7],Nt=e[11],Lt=e[15];return yt*(+o*xt*At-nt*St*At-o*vt*Ct+d*St*Ct+nt*vt*Rt-d*xt*Rt)+Dt*(+a*xt*Rt-a*St*Ct+o*ht*Ct-nt*ht*Rt+nt*St*Tt-o*xt*Tt)+Nt*(+a*St*At-a*vt*Rt-o*ht*At+d*ht*Rt+o*vt*Tt-d*St*Tt)+Lt*(-nt*vt*Tt-a*xt*At+a*vt*Ct+nt*ht*At-d*ht*Ct+d*xt*Tt)}transpose(){const e=this.elements;let a;return a=e[1],e[1]=e[4],e[4]=a,a=e[2],e[2]=e[8],e[8]=a,a=e[6],e[6]=e[9],e[9]=a,a=e[3],e[3]=e[12],e[12]=a,a=e[7],e[7]=e[13],e[13]=a,a=e[11],e[11]=e[14],e[14]=a,this}setPosition(e,a,d){const nt=this.elements;return e.isVector3?(nt[12]=e.x,nt[13]=e.y,nt[14]=e.z):(nt[12]=e,nt[13]=a,nt[14]=d),this}invert(){const e=this.elements,a=e[0],d=e[1],nt=e[2],o=e[3],ht=e[4],vt=e[5],xt=e[6],St=e[7],Tt=e[8],At=e[9],Ct=e[10],Rt=e[11],yt=e[12],Dt=e[13],Nt=e[14],Lt=e[15],Ot=At*Nt*St-Dt*Ct*St+Dt*xt*Rt-vt*Nt*Rt-At*xt*Lt+vt*Ct*Lt,Ft=yt*Ct*St-Tt*Nt*St-yt*xt*Rt+ht*Nt*Rt+Tt*xt*Lt-ht*Ct*Lt,Vt=Tt*Dt*St-yt*At*St+yt*vt*Rt-ht*Dt*Rt-Tt*vt*Lt+ht*At*Lt,jt=yt*At*xt-Tt*Dt*xt-yt*vt*Ct+ht*Dt*Ct+Tt*vt*Nt-ht*At*Nt,$t=a*Ot+d*Ft+nt*Vt+o*jt;if($t===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Yt=1/$t;return e[0]=Ot*Yt,e[1]=(Dt*Ct*o-At*Nt*o-Dt*nt*Rt+d*Nt*Rt+At*nt*Lt-d*Ct*Lt)*Yt,e[2]=(vt*Nt*o-Dt*xt*o+Dt*nt*St-d*Nt*St-vt*nt*Lt+d*xt*Lt)*Yt,e[3]=(At*xt*o-vt*Ct*o-At*nt*St+d*Ct*St+vt*nt*Rt-d*xt*Rt)*Yt,e[4]=Ft*Yt,e[5]=(Tt*Nt*o-yt*Ct*o+yt*nt*Rt-a*Nt*Rt-Tt*nt*Lt+a*Ct*Lt)*Yt,e[6]=(yt*xt*o-ht*Nt*o-yt*nt*St+a*Nt*St+ht*nt*Lt-a*xt*Lt)*Yt,e[7]=(ht*Ct*o-Tt*xt*o+Tt*nt*St-a*Ct*St-ht*nt*Rt+a*xt*Rt)*Yt,e[8]=Vt*Yt,e[9]=(yt*At*o-Tt*Dt*o-yt*d*Rt+a*Dt*Rt+Tt*d*Lt-a*At*Lt)*Yt,e[10]=(ht*Dt*o-yt*vt*o+yt*d*St-a*Dt*St-ht*d*Lt+a*vt*Lt)*Yt,e[11]=(Tt*vt*o-ht*At*o-Tt*d*St+a*At*St+ht*d*Rt-a*vt*Rt)*Yt,e[12]=jt*Yt,e[13]=(Tt*Dt*nt-yt*At*nt+yt*d*Ct-a*Dt*Ct-Tt*d*Nt+a*At*Nt)*Yt,e[14]=(yt*vt*nt-ht*Dt*nt-yt*d*xt+a*Dt*xt+ht*d*Nt-a*vt*Nt)*Yt,e[15]=(ht*At*nt-Tt*vt*nt+Tt*d*xt-a*At*xt-ht*d*Ct+a*vt*Ct)*Yt,this}scale(e){const a=this.elements,d=e.x,nt=e.y,o=e.z;return a[0]*=d,a[4]*=nt,a[8]*=o,a[1]*=d,a[5]*=nt,a[9]*=o,a[2]*=d,a[6]*=nt,a[10]*=o,a[3]*=d,a[7]*=nt,a[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,a=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],d=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],nt=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(a,d,nt))}makeTranslation(e,a,d){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,a,0,0,1,d,0,0,0,1),this}makeRotationX(e){const a=Math.cos(e),d=Math.sin(e);return this.set(1,0,0,0,0,a,-d,0,0,d,a,0,0,0,0,1),this}makeRotationY(e){const a=Math.cos(e),d=Math.sin(e);return this.set(a,0,d,0,0,1,0,0,-d,0,a,0,0,0,0,1),this}makeRotationZ(e){const a=Math.cos(e),d=Math.sin(e);return this.set(a,-d,0,0,d,a,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,a){const d=Math.cos(a),nt=Math.sin(a),o=1-d,ht=e.x,vt=e.y,xt=e.z,St=o*ht,Tt=o*vt;return this.set(St*ht+d,St*vt-nt*xt,St*xt+nt*vt,0,St*vt+nt*xt,Tt*vt+d,Tt*xt-nt*ht,0,St*xt-nt*vt,Tt*xt+nt*ht,o*xt*xt+d,0,0,0,0,1),this}makeScale(e,a,d){return this.set(e,0,0,0,0,a,0,0,0,0,d,0,0,0,0,1),this}makeShear(e,a,d,nt,o,ht){return this.set(1,d,o,0,e,1,ht,0,a,nt,1,0,0,0,0,1),this}compose(e,a,d){const nt=this.elements,o=a._x,ht=a._y,vt=a._z,xt=a._w,St=o+o,Tt=ht+ht,At=vt+vt,Ct=o*St,Rt=o*Tt,yt=o*At,Dt=ht*Tt,Nt=ht*At,Lt=vt*At,Ot=xt*St,Ft=xt*Tt,Vt=xt*At,jt=d.x,$t=d.y,Yt=d.z;return nt[0]=(1-(Dt+Lt))*jt,nt[1]=(Rt+Vt)*jt,nt[2]=(yt-Ft)*jt,nt[3]=0,nt[4]=(Rt-Vt)*$t,nt[5]=(1-(Ct+Lt))*$t,nt[6]=(Nt+Ot)*$t,nt[7]=0,nt[8]=(yt+Ft)*Yt,nt[9]=(Nt-Ot)*Yt,nt[10]=(1-(Ct+Dt))*Yt,nt[11]=0,nt[12]=e.x,nt[13]=e.y,nt[14]=e.z,nt[15]=1,this}decompose(e,a,d){const nt=this.elements;let o=_v1$5.set(nt[0],nt[1],nt[2]).length();const ht=_v1$5.set(nt[4],nt[5],nt[6]).length(),vt=_v1$5.set(nt[8],nt[9],nt[10]).length();this.determinant()<0&&(o=-o),e.x=nt[12],e.y=nt[13],e.z=nt[14],_m1$2.copy(this);const St=1/o,Tt=1/ht,At=1/vt;return _m1$2.elements[0]*=St,_m1$2.elements[1]*=St,_m1$2.elements[2]*=St,_m1$2.elements[4]*=Tt,_m1$2.elements[5]*=Tt,_m1$2.elements[6]*=Tt,_m1$2.elements[8]*=At,_m1$2.elements[9]*=At,_m1$2.elements[10]*=At,a.setFromRotationMatrix(_m1$2),d.x=o,d.y=ht,d.z=vt,this}makePerspective(e,a,d,nt,o,ht,vt=WebGLCoordinateSystem){const xt=this.elements,St=2*o/(a-e),Tt=2*o/(d-nt),At=(a+e)/(a-e),Ct=(d+nt)/(d-nt);let Rt,yt;if(vt===WebGLCoordinateSystem)Rt=-(ht+o)/(ht-o),yt=-2*ht*o/(ht-o);else if(vt===WebGPUCoordinateSystem)Rt=-ht/(ht-o),yt=-ht*o/(ht-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+vt);return xt[0]=St,xt[4]=0,xt[8]=At,xt[12]=0,xt[1]=0,xt[5]=Tt,xt[9]=Ct,xt[13]=0,xt[2]=0,xt[6]=0,xt[10]=Rt,xt[14]=yt,xt[3]=0,xt[7]=0,xt[11]=-1,xt[15]=0,this}makeOrthographic(e,a,d,nt,o,ht,vt=WebGLCoordinateSystem){const xt=this.elements,St=1/(a-e),Tt=1/(d-nt),At=1/(ht-o),Ct=(a+e)*St,Rt=(d+nt)*Tt;let yt,Dt;if(vt===WebGLCoordinateSystem)yt=(ht+o)*At,Dt=-2*At;else if(vt===WebGPUCoordinateSystem)yt=o*At,Dt=-1*At;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+vt);return xt[0]=2*St,xt[4]=0,xt[8]=0,xt[12]=-Ct,xt[1]=0,xt[5]=2*Tt,xt[9]=0,xt[13]=-Rt,xt[2]=0,xt[6]=0,xt[10]=Dt,xt[14]=-yt,xt[3]=0,xt[7]=0,xt[11]=0,xt[15]=1,this}equals(e){const a=this.elements,d=e.elements;for(let nt=0;nt<16;nt++)if(a[nt]!==d[nt])return!1;return!0}fromArray(e,a=0){for(let d=0;d<16;d++)this.elements[d]=e[d+a];return this}toArray(e=[],a=0){const d=this.elements;return e[a]=d[0],e[a+1]=d[1],e[a+2]=d[2],e[a+3]=d[3],e[a+4]=d[4],e[a+5]=d[5],e[a+6]=d[6],e[a+7]=d[7],e[a+8]=d[8],e[a+9]=d[9],e[a+10]=d[10],e[a+11]=d[11],e[a+12]=d[12],e[a+13]=d[13],e[a+14]=d[14],e[a+15]=d[15],e}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$2=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(e=0,a=0,d=0,nt=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=a,this._z=d,this._order=nt}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,a,d,nt=this._order){return this._x=e,this._y=a,this._z=d,this._order=nt,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,a=this._order,d=!0){const nt=e.elements,o=nt[0],ht=nt[4],vt=nt[8],xt=nt[1],St=nt[5],Tt=nt[9],At=nt[2],Ct=nt[6],Rt=nt[10];switch(a){case"XYZ":this._y=Math.asin(clamp(vt,-1,1)),Math.abs(vt)<.9999999?(this._x=Math.atan2(-Tt,Rt),this._z=Math.atan2(-ht,o)):(this._x=Math.atan2(Ct,St),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp(Tt,-1,1)),Math.abs(Tt)<.9999999?(this._y=Math.atan2(vt,Rt),this._z=Math.atan2(xt,St)):(this._y=Math.atan2(-At,o),this._z=0);break;case"ZXY":this._x=Math.asin(clamp(Ct,-1,1)),Math.abs(Ct)<.9999999?(this._y=Math.atan2(-At,Rt),this._z=Math.atan2(-ht,St)):(this._y=0,this._z=Math.atan2(xt,o));break;case"ZYX":this._y=Math.asin(-clamp(At,-1,1)),Math.abs(At)<.9999999?(this._x=Math.atan2(Ct,Rt),this._z=Math.atan2(xt,o)):(this._x=0,this._z=Math.atan2(-ht,St));break;case"YZX":this._z=Math.asin(clamp(xt,-1,1)),Math.abs(xt)<.9999999?(this._x=Math.atan2(-Tt,St),this._y=Math.atan2(-At,o)):(this._x=0,this._y=Math.atan2(vt,Rt));break;case"XZY":this._z=Math.asin(-clamp(ht,-1,1)),Math.abs(ht)<.9999999?(this._x=Math.atan2(Ct,St),this._y=Math.atan2(vt,o)):(this._x=Math.atan2(-Tt,Rt),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+a)}return this._order=a,d===!0&&this._onChangeCallback(),this}setFromQuaternion(e,a,d){return _matrix$2.makeRotationFromQuaternion(e),this.setFromRotationMatrix(_matrix$2,a,d)}setFromVector3(e,a=this._order){return this.set(e.x,e.y,e.z,a)}reorder(e){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],a=0){return e[a]=this._x,e[a+1]=this._y,e[a+2]=this._z,e[a+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"},_childaddedEvent={type:"childadded",child:null},_childremovedEvent={type:"childremoved",child:null};class Object3D extends EventDispatcher$1{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const e=new Vector3,a=new Euler,d=new Quaternion,nt=new Vector3(1,1,1);function o(){d.setFromEuler(a,!1)}function ht(){a.setFromQuaternion(d,void 0,!1)}a._onChange(o),d._onChange(ht),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:a},quaternion:{configurable:!0,enumerable:!0,value:d},scale:{configurable:!0,enumerable:!0,value:nt},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,a){this.quaternion.setFromAxisAngle(e,a)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,a){return _q1.setFromAxisAngle(e,a),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(e,a){return _q1.setFromAxisAngle(e,a),this.quaternion.premultiply(_q1),this}rotateX(e){return this.rotateOnAxis(_xAxis,e)}rotateY(e){return this.rotateOnAxis(_yAxis,e)}rotateZ(e){return this.rotateOnAxis(_zAxis,e)}translateOnAxis(e,a){return _v1$4.copy(e).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(a)),this}translateX(e){return this.translateOnAxis(_xAxis,e)}translateY(e){return this.translateOnAxis(_yAxis,e)}translateZ(e){return this.translateOnAxis(_zAxis,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(_m1$1$1.copy(this.matrixWorld).invert())}lookAt(e,a,d){e.isVector3?_target.copy(e):_target.set(e,a,d);const nt=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1$1.lookAt(_position$3,_target,this.up):_m1$1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1$1),nt&&(_m1$1$1.extractRotation(nt.matrixWorld),_q1.setFromRotationMatrix(_m1$1$1),this.quaternion.premultiply(_q1.invert()))}add(e){if(arguments.length>1){for(let a=0;a<arguments.length;a++)this.add(arguments[a]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(_addedEvent),_childaddedEvent.child=e,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let d=0;d<arguments.length;d++)this.remove(arguments[d]);return this}const a=this.children.indexOf(e);return a!==-1&&(e.parent=null,this.children.splice(a,1),e.dispatchEvent(_removedEvent),_childremovedEvent.child=e,this.dispatchEvent(_childremovedEvent),_childremovedEvent.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),_m1$1$1.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),_m1$1$1.multiply(e.parent.matrixWorld)),e.applyMatrix4(_m1$1$1),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(_addedEvent),_childaddedEvent.child=e,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,a){if(this[e]===a)return this;for(let d=0,nt=this.children.length;d<nt;d++){const ht=this.children[d].getObjectByProperty(e,a);if(ht!==void 0)return ht}}getObjectsByProperty(e,a,d=[]){this[e]===a&&d.push(this);const nt=this.children;for(let o=0,ht=nt.length;o<ht;o++)nt[o].getObjectsByProperty(e,a,d);return d}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,e,_scale$2),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const a=this.matrixWorld.elements;return e.set(a[8],a[9],a[10]).normalize()}raycast(){}traverse(e){e(this);const a=this.children;for(let d=0,nt=a.length;d<nt;d++)a[d].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const a=this.children;for(let d=0,nt=a.length;d<nt;d++)a[d].traverseVisible(e)}traverseAncestors(e){const a=this.parent;a!==null&&(e(a),a.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const a=this.children;for(let d=0,nt=a.length;d<nt;d++)a[d].updateMatrixWorld(e)}updateWorldMatrix(e,a){const d=this.parent;if(e===!0&&d!==null&&d.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),a===!0){const nt=this.children;for(let o=0,ht=nt.length;o<ht;o++)nt[o].updateWorldMatrix(!1,!0)}}toJSON(e){const a=e===void 0||typeof e=="string",d={};a&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},d.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const nt={};nt.uuid=this.uuid,nt.type=this.type,this.name!==""&&(nt.name=this.name),this.castShadow===!0&&(nt.castShadow=!0),this.receiveShadow===!0&&(nt.receiveShadow=!0),this.visible===!1&&(nt.visible=!1),this.frustumCulled===!1&&(nt.frustumCulled=!1),this.renderOrder!==0&&(nt.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(nt.userData=this.userData),nt.layers=this.layers.mask,nt.matrix=this.matrix.toArray(),nt.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(nt.matrixAutoUpdate=!1),this.isInstancedMesh&&(nt.type="InstancedMesh",nt.count=this.count,nt.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(nt.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(nt.type="BatchedMesh",nt.perObjectFrustumCulled=this.perObjectFrustumCulled,nt.sortObjects=this.sortObjects,nt.drawRanges=this._drawRanges,nt.reservedRanges=this._reservedRanges,nt.geometryInfo=this._geometryInfo.map(vt=>({...vt,boundingBox:vt.boundingBox?{min:vt.boundingBox.min.toArray(),max:vt.boundingBox.max.toArray()}:void 0,boundingSphere:vt.boundingSphere?{radius:vt.boundingSphere.radius,center:vt.boundingSphere.center.toArray()}:void 0})),nt.instanceInfo=this._instanceInfo.map(vt=>({...vt})),nt.availableInstanceIds=this._availableInstanceIds.slice(),nt.availableGeometryIds=this._availableGeometryIds.slice(),nt.nextIndexStart=this._nextIndexStart,nt.nextVertexStart=this._nextVertexStart,nt.geometryCount=this._geometryCount,nt.maxInstanceCount=this._maxInstanceCount,nt.maxVertexCount=this._maxVertexCount,nt.maxIndexCount=this._maxIndexCount,nt.geometryInitialized=this._geometryInitialized,nt.matricesTexture=this._matricesTexture.toJSON(e),nt.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(nt.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(nt.boundingSphere={center:this.boundingSphere.center.toArray(),radius:this.boundingSphere.radius}),this.boundingBox!==null&&(nt.boundingBox={min:this.boundingBox.min.toArray(),max:this.boundingBox.max.toArray()}));function o(vt,xt){return vt[xt.uuid]===void 0&&(vt[xt.uuid]=xt.toJSON(e)),xt.uuid}if(this.isScene)this.background&&(this.background.isColor?nt.background=this.background.toJSON():this.background.isTexture&&(nt.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(nt.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){nt.geometry=o(e.geometries,this.geometry);const vt=this.geometry.parameters;if(vt!==void 0&&vt.shapes!==void 0){const xt=vt.shapes;if(Array.isArray(xt))for(let St=0,Tt=xt.length;St<Tt;St++){const At=xt[St];o(e.shapes,At)}else o(e.shapes,xt)}}if(this.isSkinnedMesh&&(nt.bindMode=this.bindMode,nt.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),nt.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const vt=[];for(let xt=0,St=this.material.length;xt<St;xt++)vt.push(o(e.materials,this.material[xt]));nt.material=vt}else nt.material=o(e.materials,this.material);if(this.children.length>0){nt.children=[];for(let vt=0;vt<this.children.length;vt++)nt.children.push(this.children[vt].toJSON(e).object)}if(this.animations.length>0){nt.animations=[];for(let vt=0;vt<this.animations.length;vt++){const xt=this.animations[vt];nt.animations.push(o(e.animations,xt))}}if(a){const vt=ht(e.geometries),xt=ht(e.materials),St=ht(e.textures),Tt=ht(e.images),At=ht(e.shapes),Ct=ht(e.skeletons),Rt=ht(e.animations),yt=ht(e.nodes);vt.length>0&&(d.geometries=vt),xt.length>0&&(d.materials=xt),St.length>0&&(d.textures=St),Tt.length>0&&(d.images=Tt),At.length>0&&(d.shapes=At),Ct.length>0&&(d.skeletons=Ct),Rt.length>0&&(d.animations=Rt),yt.length>0&&(d.nodes=yt)}return d.object=nt,d;function ht(vt){const xt=[];for(const St in vt){const Tt=vt[St];delete Tt.metadata,xt.push(Tt)}return xt}}clone(e){return new this.constructor().copy(this,e)}copy(e,a=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),a===!0)for(let d=0;d<e.children.length;d++){const nt=e.children[d];this.add(nt.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$2=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3,_v40=new Vector4,_v41=new Vector4,_v42=new Vector4;class Triangle{constructor(e=new Vector3,a=new Vector3,d=new Vector3){this.a=e,this.b=a,this.c=d}static getNormal(e,a,d,nt){nt.subVectors(d,a),_v0$1.subVectors(e,a),nt.cross(_v0$1);const o=nt.lengthSq();return o>0?nt.multiplyScalar(1/Math.sqrt(o)):nt.set(0,0,0)}static getBarycoord(e,a,d,nt,o){_v0$1.subVectors(nt,a),_v1$3.subVectors(d,a),_v2$2.subVectors(e,a);const ht=_v0$1.dot(_v0$1),vt=_v0$1.dot(_v1$3),xt=_v0$1.dot(_v2$2),St=_v1$3.dot(_v1$3),Tt=_v1$3.dot(_v2$2),At=ht*St-vt*vt;if(At===0)return o.set(0,0,0),null;const Ct=1/At,Rt=(St*xt-vt*Tt)*Ct,yt=(ht*Tt-vt*xt)*Ct;return o.set(1-Rt-yt,yt,Rt)}static containsPoint(e,a,d,nt){return this.getBarycoord(e,a,d,nt,_v3$2)===null?!1:_v3$2.x>=0&&_v3$2.y>=0&&_v3$2.x+_v3$2.y<=1}static getInterpolation(e,a,d,nt,o,ht,vt,xt){return this.getBarycoord(e,a,d,nt,_v3$2)===null?(xt.x=0,xt.y=0,"z"in xt&&(xt.z=0),"w"in xt&&(xt.w=0),null):(xt.setScalar(0),xt.addScaledVector(o,_v3$2.x),xt.addScaledVector(ht,_v3$2.y),xt.addScaledVector(vt,_v3$2.z),xt)}static getInterpolatedAttribute(e,a,d,nt,o,ht){return _v40.setScalar(0),_v41.setScalar(0),_v42.setScalar(0),_v40.fromBufferAttribute(e,a),_v41.fromBufferAttribute(e,d),_v42.fromBufferAttribute(e,nt),ht.setScalar(0),ht.addScaledVector(_v40,o.x),ht.addScaledVector(_v41,o.y),ht.addScaledVector(_v42,o.z),ht}static isFrontFacing(e,a,d,nt){return _v0$1.subVectors(d,a),_v1$3.subVectors(e,a),_v0$1.cross(_v1$3).dot(nt)<0}set(e,a,d){return this.a.copy(e),this.b.copy(a),this.c.copy(d),this}setFromPointsAndIndices(e,a,d,nt){return this.a.copy(e[a]),this.b.copy(e[d]),this.c.copy(e[nt]),this}setFromAttributeAndIndices(e,a,d,nt){return this.a.fromBufferAttribute(e,a),this.b.fromBufferAttribute(e,d),this.c.fromBufferAttribute(e,nt),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Triangle.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,a){return Triangle.getBarycoord(e,this.a,this.b,this.c,a)}getInterpolation(e,a,d,nt,o){return Triangle.getInterpolation(e,this.a,this.b,this.c,a,d,nt,o)}containsPoint(e){return Triangle.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Triangle.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,a){const d=this.a,nt=this.b,o=this.c;let ht,vt;_vab.subVectors(nt,d),_vac.subVectors(o,d),_vap.subVectors(e,d);const xt=_vab.dot(_vap),St=_vac.dot(_vap);if(xt<=0&&St<=0)return a.copy(d);_vbp.subVectors(e,nt);const Tt=_vab.dot(_vbp),At=_vac.dot(_vbp);if(Tt>=0&&At<=Tt)return a.copy(nt);const Ct=xt*At-Tt*St;if(Ct<=0&&xt>=0&&Tt<=0)return ht=xt/(xt-Tt),a.copy(d).addScaledVector(_vab,ht);_vcp.subVectors(e,o);const Rt=_vab.dot(_vcp),yt=_vac.dot(_vcp);if(yt>=0&&Rt<=yt)return a.copy(o);const Dt=Rt*St-xt*yt;if(Dt<=0&&St>=0&&yt<=0)return vt=St/(St-yt),a.copy(d).addScaledVector(_vac,vt);const Nt=Tt*yt-Rt*At;if(Nt<=0&&At-Tt>=0&&Rt-yt>=0)return _vbc.subVectors(o,nt),vt=(At-Tt)/(At-Tt+(Rt-yt)),a.copy(nt).addScaledVector(_vbc,vt);const Lt=1/(Nt+Dt+Ct);return ht=Dt*Lt,vt=Ct*Lt,a.copy(d).addScaledVector(_vab,ht).addScaledVector(_vac,vt)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(c,e,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?c+(e-c)*6*a:a<1/2?e:a<2/3?c+(e-c)*6*(2/3-a):c}class Color{constructor(e,a,d){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,a,d)}set(e,a,d){if(a===void 0&&d===void 0){const nt=e;nt&&nt.isColor?this.copy(nt):typeof nt=="number"?this.setHex(nt):typeof nt=="string"&&this.setStyle(nt)}else this.setRGB(e,a,d);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,a=SRGBColorSpace){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ColorManagement.toWorkingColorSpace(this,a),this}setRGB(e,a,d,nt=ColorManagement.workingColorSpace){return this.r=e,this.g=a,this.b=d,ColorManagement.toWorkingColorSpace(this,nt),this}setHSL(e,a,d,nt=ColorManagement.workingColorSpace){if(e=euclideanModulo(e,1),a=clamp(a,0,1),d=clamp(d,0,1),a===0)this.r=this.g=this.b=d;else{const o=d<=.5?d*(1+a):d+a-d*a,ht=2*d-o;this.r=hue2rgb(ht,o,e+1/3),this.g=hue2rgb(ht,o,e),this.b=hue2rgb(ht,o,e-1/3)}return ColorManagement.toWorkingColorSpace(this,nt),this}setStyle(e,a=SRGBColorSpace){function d(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let nt;if(nt=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const ht=nt[1],vt=nt[2];switch(ht){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(vt))return d(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,a);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(vt))return d(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,a);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(vt))return d(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,a);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(nt=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=nt[1],ht=o.length;if(ht===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,a);if(ht===6)return this.setHex(parseInt(o,16),a);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,a);return this}setColorName(e,a=SRGBColorSpace){const d=_colorKeywords[e.toLowerCase()];return d!==void 0?this.setHex(d,a):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=SRGBToLinear(e.r),this.g=SRGBToLinear(e.g),this.b=SRGBToLinear(e.b),this}copyLinearToSRGB(e){return this.r=LinearToSRGB(e.r),this.g=LinearToSRGB(e.g),this.b=LinearToSRGB(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),e),Math.round(clamp(_color.r*255,0,255))*65536+Math.round(clamp(_color.g*255,0,255))*256+Math.round(clamp(_color.b*255,0,255))}getHexString(e=SRGBColorSpace){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,a=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),a);const d=_color.r,nt=_color.g,o=_color.b,ht=Math.max(d,nt,o),vt=Math.min(d,nt,o);let xt,St;const Tt=(vt+ht)/2;if(vt===ht)xt=0,St=0;else{const At=ht-vt;switch(St=Tt<=.5?At/(ht+vt):At/(2-ht-vt),ht){case d:xt=(nt-o)/At+(nt<o?6:0);break;case nt:xt=(o-d)/At+2;break;case o:xt=(d-nt)/At+4;break}xt/=6}return e.h=xt,e.s=St,e.l=Tt,e}getRGB(e,a=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),a),e.r=_color.r,e.g=_color.g,e.b=_color.b,e}getStyle(e=SRGBColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),e);const a=_color.r,d=_color.g,nt=_color.b;return e!==SRGBColorSpace?`color(${e} ${a.toFixed(3)} ${d.toFixed(3)} ${nt.toFixed(3)})`:`rgb(${Math.round(a*255)},${Math.round(d*255)},${Math.round(nt*255)})`}offsetHSL(e,a,d){return this.getHSL(_hslA),this.setHSL(_hslA.h+e,_hslA.s+a,_hslA.l+d)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,a){return this.r=e.r+a.r,this.g=e.g+a.g,this.b=e.b+a.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,a){return this.r+=(e.r-this.r)*a,this.g+=(e.g-this.g)*a,this.b+=(e.b-this.b)*a,this}lerpColors(e,a,d){return this.r=e.r+(a.r-e.r)*d,this.g=e.g+(a.g-e.g)*d,this.b=e.b+(a.b-e.b)*d,this}lerpHSL(e,a){this.getHSL(_hslA),e.getHSL(_hslB);const d=lerp(_hslA.h,_hslB.h,a),nt=lerp(_hslA.s,_hslB.s,a),o=lerp(_hslA.l,_hslB.l,a);return this.setHSL(d,nt,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const a=this.r,d=this.g,nt=this.b,o=e.elements;return this.r=o[0]*a+o[3]*d+o[6]*nt,this.g=o[1]*a+o[4]*d+o[7]*nt,this.b=o[2]*a+o[5]*d+o[8]*nt,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,a=0){return this.r=e[a],this.g=e[a+1],this.b=e[a+2],this}toArray(e=[],a=0){return e[a]=this.r,e[a+1]=this.g,e[a+2]=this.b,e}fromBufferAttribute(e,a){return this.r=e.getX(a),this.g=e.getY(a),this.b=e.getZ(a),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const _color=new Color;Color.NAMES=_colorKeywords;let _materialId=0;class Material extends EventDispatcher$1{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Color(0,0,0),this.blendAlpha=0,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const a in e){const d=e[a];if(d===void 0){console.warn(`THREE.Material: parameter '${a}' has value of undefined.`);continue}const nt=this[a];if(nt===void 0){console.warn(`THREE.Material: '${a}' is not a property of THREE.${this.type}.`);continue}nt&&nt.isColor?nt.set(d):nt&&nt.isVector3&&d&&d.isVector3?nt.copy(d):this[a]=d}}toJSON(e){const a=e===void 0||typeof e=="string";a&&(e={textures:{},images:{}});const d={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};d.uuid=this.uuid,d.type=this.type,this.name!==""&&(d.name=this.name),this.color&&this.color.isColor&&(d.color=this.color.getHex()),this.roughness!==void 0&&(d.roughness=this.roughness),this.metalness!==void 0&&(d.metalness=this.metalness),this.sheen!==void 0&&(d.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(d.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(d.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(d.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(d.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(d.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(d.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(d.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(d.shininess=this.shininess),this.clearcoat!==void 0&&(d.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(d.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(d.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(d.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(d.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,d.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(d.dispersion=this.dispersion),this.iridescence!==void 0&&(d.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(d.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(d.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(d.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(d.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(d.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(d.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(d.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(d.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(d.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(d.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(d.lightMap=this.lightMap.toJSON(e).uuid,d.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(d.aoMap=this.aoMap.toJSON(e).uuid,d.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(d.bumpMap=this.bumpMap.toJSON(e).uuid,d.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(d.normalMap=this.normalMap.toJSON(e).uuid,d.normalMapType=this.normalMapType,d.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(d.displacementMap=this.displacementMap.toJSON(e).uuid,d.displacementScale=this.displacementScale,d.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(d.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(d.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(d.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(d.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(d.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(d.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(d.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(d.combine=this.combine)),this.envMapRotation!==void 0&&(d.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(d.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(d.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(d.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(d.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(d.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(d.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(d.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(d.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(d.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(d.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(d.size=this.size),this.shadowSide!==null&&(d.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(d.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(d.blending=this.blending),this.side!==FrontSide&&(d.side=this.side),this.vertexColors===!0&&(d.vertexColors=!0),this.opacity<1&&(d.opacity=this.opacity),this.transparent===!0&&(d.transparent=!0),this.blendSrc!==SrcAlphaFactor&&(d.blendSrc=this.blendSrc),this.blendDst!==OneMinusSrcAlphaFactor&&(d.blendDst=this.blendDst),this.blendEquation!==AddEquation&&(d.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(d.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(d.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(d.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(d.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(d.blendAlpha=this.blendAlpha),this.depthFunc!==LessEqualDepth&&(d.depthFunc=this.depthFunc),this.depthTest===!1&&(d.depthTest=this.depthTest),this.depthWrite===!1&&(d.depthWrite=this.depthWrite),this.colorWrite===!1&&(d.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(d.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==AlwaysStencilFunc&&(d.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(d.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(d.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==KeepStencilOp&&(d.stencilFail=this.stencilFail),this.stencilZFail!==KeepStencilOp&&(d.stencilZFail=this.stencilZFail),this.stencilZPass!==KeepStencilOp&&(d.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(d.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(d.rotation=this.rotation),this.polygonOffset===!0&&(d.polygonOffset=!0),this.polygonOffsetFactor!==0&&(d.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(d.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(d.linewidth=this.linewidth),this.dashSize!==void 0&&(d.dashSize=this.dashSize),this.gapSize!==void 0&&(d.gapSize=this.gapSize),this.scale!==void 0&&(d.scale=this.scale),this.dithering===!0&&(d.dithering=!0),this.alphaTest>0&&(d.alphaTest=this.alphaTest),this.alphaHash===!0&&(d.alphaHash=!0),this.alphaToCoverage===!0&&(d.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(d.premultipliedAlpha=!0),this.forceSinglePass===!0&&(d.forceSinglePass=!0),this.wireframe===!0&&(d.wireframe=!0),this.wireframeLinewidth>1&&(d.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(d.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(d.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(d.flatShading=!0),this.visible===!1&&(d.visible=!1),this.toneMapped===!1&&(d.toneMapped=!1),this.fog===!1&&(d.fog=!1),Object.keys(this.userData).length>0&&(d.userData=this.userData);function nt(o){const ht=[];for(const vt in o){const xt=o[vt];delete xt.metadata,ht.push(xt)}return ht}if(a){const o=nt(e.textures),ht=nt(e.images);o.length>0&&(d.textures=o),ht.length>0&&(d.images=ht)}return d}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const a=e.clippingPlanes;let d=null;if(a!==null){const nt=a.length;d=new Array(nt);for(let o=0;o!==nt;++o)d[o]=a[o].clone()}return this.clippingPlanes=d,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class MeshBasicMaterial extends Material{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const _tables=_generateTables();function _generateTables(){const c=new ArrayBuffer(4),e=new Float32Array(c),a=new Uint32Array(c),d=new Uint32Array(512),nt=new Uint32Array(512);for(let xt=0;xt<256;++xt){const St=xt-127;St<-27?(d[xt]=0,d[xt|256]=32768,nt[xt]=24,nt[xt|256]=24):St<-14?(d[xt]=1024>>-St-14,d[xt|256]=1024>>-St-14|32768,nt[xt]=-St-1,nt[xt|256]=-St-1):St<=15?(d[xt]=St+15<<10,d[xt|256]=St+15<<10|32768,nt[xt]=13,nt[xt|256]=13):St<128?(d[xt]=31744,d[xt|256]=64512,nt[xt]=24,nt[xt|256]=24):(d[xt]=31744,d[xt|256]=64512,nt[xt]=13,nt[xt|256]=13)}const o=new Uint32Array(2048),ht=new Uint32Array(64),vt=new Uint32Array(64);for(let xt=1;xt<1024;++xt){let St=xt<<13,Tt=0;for(;!(St&8388608);)St<<=1,Tt-=8388608;St&=-8388609,Tt+=947912704,o[xt]=St|Tt}for(let xt=1024;xt<2048;++xt)o[xt]=939524096+(xt-1024<<13);for(let xt=1;xt<31;++xt)ht[xt]=xt<<23;ht[31]=1199570944,ht[32]=2147483648;for(let xt=33;xt<63;++xt)ht[xt]=2147483648+(xt-32<<23);ht[63]=3347054592;for(let xt=1;xt<64;++xt)xt!==32&&(vt[xt]=1024);return{floatView:e,uint32View:a,baseTable:d,shiftTable:nt,mantissaTable:o,exponentTable:ht,offsetTable:vt}}function toHalfFloat(c){Math.abs(c)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),c=clamp(c,-65504,65504),_tables.floatView[0]=c;const e=_tables.uint32View[0],a=e>>23&511;return _tables.baseTable[a]+((e&8388607)>>_tables.shiftTable[a])}function fromHalfFloat(c){const e=c>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[e]+(c&1023)]+_tables.exponentTable[e],_tables.floatView[0]}class DataUtils{static toHalfFloat(e){return toHalfFloat(e)}static fromHalfFloat(e){return fromHalfFloat(e)}}const _vector$9=new Vector3,_vector2$1=new Vector2;let _id$2=0;class BufferAttribute{constructor(e,a,d=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:_id$2++}),this.name="",this.array=e,this.itemSize=a,this.count=e!==void 0?e.length/a:0,this.normalized=d,this.usage=StaticDrawUsage,this.updateRanges=[],this.gpuType=FloatType,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,a){this.updateRanges.push({start:e,count:a})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,a,d){e*=this.itemSize,d*=a.itemSize;for(let nt=0,o=this.itemSize;nt<o;nt++)this.array[e+nt]=a.array[d+nt];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let a=0,d=this.count;a<d;a++)_vector2$1.fromBufferAttribute(this,a),_vector2$1.applyMatrix3(e),this.setXY(a,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let a=0,d=this.count;a<d;a++)_vector$9.fromBufferAttribute(this,a),_vector$9.applyMatrix3(e),this.setXYZ(a,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(e){for(let a=0,d=this.count;a<d;a++)_vector$9.fromBufferAttribute(this,a),_vector$9.applyMatrix4(e),this.setXYZ(a,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(e){for(let a=0,d=this.count;a<d;a++)_vector$9.fromBufferAttribute(this,a),_vector$9.applyNormalMatrix(e),this.setXYZ(a,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(e){for(let a=0,d=this.count;a<d;a++)_vector$9.fromBufferAttribute(this,a),_vector$9.transformDirection(e),this.setXYZ(a,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(e,a=0){return this.array.set(e,a),this}getComponent(e,a){let d=this.array[e*this.itemSize+a];return this.normalized&&(d=denormalize(d,this.array)),d}setComponent(e,a,d){return this.normalized&&(d=normalize(d,this.array)),this.array[e*this.itemSize+a]=d,this}getX(e){let a=this.array[e*this.itemSize];return this.normalized&&(a=denormalize(a,this.array)),a}setX(e,a){return this.normalized&&(a=normalize(a,this.array)),this.array[e*this.itemSize]=a,this}getY(e){let a=this.array[e*this.itemSize+1];return this.normalized&&(a=denormalize(a,this.array)),a}setY(e,a){return this.normalized&&(a=normalize(a,this.array)),this.array[e*this.itemSize+1]=a,this}getZ(e){let a=this.array[e*this.itemSize+2];return this.normalized&&(a=denormalize(a,this.array)),a}setZ(e,a){return this.normalized&&(a=normalize(a,this.array)),this.array[e*this.itemSize+2]=a,this}getW(e){let a=this.array[e*this.itemSize+3];return this.normalized&&(a=denormalize(a,this.array)),a}setW(e,a){return this.normalized&&(a=normalize(a,this.array)),this.array[e*this.itemSize+3]=a,this}setXY(e,a,d){return e*=this.itemSize,this.normalized&&(a=normalize(a,this.array),d=normalize(d,this.array)),this.array[e+0]=a,this.array[e+1]=d,this}setXYZ(e,a,d,nt){return e*=this.itemSize,this.normalized&&(a=normalize(a,this.array),d=normalize(d,this.array),nt=normalize(nt,this.array)),this.array[e+0]=a,this.array[e+1]=d,this.array[e+2]=nt,this}setXYZW(e,a,d,nt,o){return e*=this.itemSize,this.normalized&&(a=normalize(a,this.array),d=normalize(d,this.array),nt=normalize(nt,this.array),o=normalize(o,this.array)),this.array[e+0]=a,this.array[e+1]=d,this.array[e+2]=nt,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==StaticDrawUsage&&(e.usage=this.usage),e}}class Int8BufferAttribute extends BufferAttribute{constructor(e,a,d){super(new Int8Array(e),a,d)}}class Uint8BufferAttribute extends BufferAttribute{constructor(e,a,d){super(new Uint8Array(e),a,d)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(e,a,d){super(new Uint8ClampedArray(e),a,d)}}class Int16BufferAttribute extends BufferAttribute{constructor(e,a,d){super(new Int16Array(e),a,d)}}class Uint16BufferAttribute extends BufferAttribute{constructor(e,a,d){super(new Uint16Array(e),a,d)}}class Int32BufferAttribute extends BufferAttribute{constructor(e,a,d){super(new Int32Array(e),a,d)}}class Uint32BufferAttribute extends BufferAttribute{constructor(e,a,d){super(new Uint32Array(e),a,d)}}class Float16BufferAttribute extends BufferAttribute{constructor(e,a,d){super(new Uint16Array(e),a,d),this.isFloat16BufferAttribute=!0}getX(e){let a=fromHalfFloat(this.array[e*this.itemSize]);return this.normalized&&(a=denormalize(a,this.array)),a}setX(e,a){return this.normalized&&(a=normalize(a,this.array)),this.array[e*this.itemSize]=toHalfFloat(a),this}getY(e){let a=fromHalfFloat(this.array[e*this.itemSize+1]);return this.normalized&&(a=denormalize(a,this.array)),a}setY(e,a){return this.normalized&&(a=normalize(a,this.array)),this.array[e*this.itemSize+1]=toHalfFloat(a),this}getZ(e){let a=fromHalfFloat(this.array[e*this.itemSize+2]);return this.normalized&&(a=denormalize(a,this.array)),a}setZ(e,a){return this.normalized&&(a=normalize(a,this.array)),this.array[e*this.itemSize+2]=toHalfFloat(a),this}getW(e){let a=fromHalfFloat(this.array[e*this.itemSize+3]);return this.normalized&&(a=denormalize(a,this.array)),a}setW(e,a){return this.normalized&&(a=normalize(a,this.array)),this.array[e*this.itemSize+3]=toHalfFloat(a),this}setXY(e,a,d){return e*=this.itemSize,this.normalized&&(a=normalize(a,this.array),d=normalize(d,this.array)),this.array[e+0]=toHalfFloat(a),this.array[e+1]=toHalfFloat(d),this}setXYZ(e,a,d,nt){return e*=this.itemSize,this.normalized&&(a=normalize(a,this.array),d=normalize(d,this.array),nt=normalize(nt,this.array)),this.array[e+0]=toHalfFloat(a),this.array[e+1]=toHalfFloat(d),this.array[e+2]=toHalfFloat(nt),this}setXYZW(e,a,d,nt,o){return e*=this.itemSize,this.normalized&&(a=normalize(a,this.array),d=normalize(d,this.array),nt=normalize(nt,this.array),o=normalize(o,this.array)),this.array[e+0]=toHalfFloat(a),this.array[e+1]=toHalfFloat(d),this.array[e+2]=toHalfFloat(nt),this.array[e+3]=toHalfFloat(o),this}}class Float32BufferAttribute extends BufferAttribute{constructor(e,a,d){super(new Float32Array(e),a,d)}}let _id$1=0;const _m1$3=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$2=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher$1{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(arrayNeedsUint32(e)?Uint32BufferAttribute:Uint16BufferAttribute)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,a){return this.attributes[e]=a,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,a,d=0){this.groups.push({start:e,count:a,materialIndex:d})}clearGroups(){this.groups=[]}setDrawRange(e,a){this.drawRange.start=e,this.drawRange.count=a}applyMatrix4(e){const a=this.attributes.position;a!==void 0&&(a.applyMatrix4(e),a.needsUpdate=!0);const d=this.attributes.normal;if(d!==void 0){const o=new Matrix3().getNormalMatrix(e);d.applyNormalMatrix(o),d.needsUpdate=!0}const nt=this.attributes.tangent;return nt!==void 0&&(nt.transformDirection(e),nt.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return _m1$3.makeRotationFromQuaternion(e),this.applyMatrix4(_m1$3),this}rotateX(e){return _m1$3.makeRotationX(e),this.applyMatrix4(_m1$3),this}rotateY(e){return _m1$3.makeRotationY(e),this.applyMatrix4(_m1$3),this}rotateZ(e){return _m1$3.makeRotationZ(e),this.applyMatrix4(_m1$3),this}translate(e,a,d){return _m1$3.makeTranslation(e,a,d),this.applyMatrix4(_m1$3),this}scale(e,a,d){return _m1$3.makeScale(e,a,d),this.applyMatrix4(_m1$3),this}lookAt(e){return _obj.lookAt(e),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(e){const a=this.getAttribute("position");if(a===void 0){const d=[];for(let nt=0,o=e.length;nt<o;nt++){const ht=e[nt];d.push(ht.x,ht.y,ht.z||0)}this.setAttribute("position",new Float32BufferAttribute(d,3))}else{const d=Math.min(e.length,a.count);for(let nt=0;nt<d;nt++){const o=e[nt];a.setXYZ(nt,o.x,o.y,o.z||0)}e.length>a.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),a.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const e=this.attributes.position,a=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),a)for(let d=0,nt=a.length;d<nt;d++){const o=a[d];_box$2.setFromBufferAttribute(o),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$2.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$2.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$2.min),this.boundingBox.expandByPoint(_box$2.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const e=this.attributes.position,a=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Vector3,1/0);return}if(e){const d=this.boundingSphere.center;if(_box$2.setFromBufferAttribute(e),a)for(let o=0,ht=a.length;o<ht;o++){const vt=a[o];_boxMorphTargets.setFromBufferAttribute(vt),this.morphTargetsRelative?(_vector$8.addVectors(_box$2.min,_boxMorphTargets.min),_box$2.expandByPoint(_vector$8),_vector$8.addVectors(_box$2.max,_boxMorphTargets.max),_box$2.expandByPoint(_vector$8)):(_box$2.expandByPoint(_boxMorphTargets.min),_box$2.expandByPoint(_boxMorphTargets.max))}_box$2.getCenter(d);let nt=0;for(let o=0,ht=e.count;o<ht;o++)_vector$8.fromBufferAttribute(e,o),nt=Math.max(nt,d.distanceToSquared(_vector$8));if(a)for(let o=0,ht=a.length;o<ht;o++){const vt=a[o],xt=this.morphTargetsRelative;for(let St=0,Tt=vt.count;St<Tt;St++)_vector$8.fromBufferAttribute(vt,St),xt&&(_offset.fromBufferAttribute(e,St),_vector$8.add(_offset)),nt=Math.max(nt,d.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(nt),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,a=this.attributes;if(e===null||a.position===void 0||a.normal===void 0||a.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const d=a.position,nt=a.normal,o=a.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*d.count),4));const ht=this.getAttribute("tangent"),vt=[],xt=[];for(let Kt=0;Kt<d.count;Kt++)vt[Kt]=new Vector3,xt[Kt]=new Vector3;const St=new Vector3,Tt=new Vector3,At=new Vector3,Ct=new Vector2,Rt=new Vector2,yt=new Vector2,Dt=new Vector3,Nt=new Vector3;function Lt(Kt,qt,Wt){St.fromBufferAttribute(d,Kt),Tt.fromBufferAttribute(d,qt),At.fromBufferAttribute(d,Wt),Ct.fromBufferAttribute(o,Kt),Rt.fromBufferAttribute(o,qt),yt.fromBufferAttribute(o,Wt),Tt.sub(St),At.sub(St),Rt.sub(Ct),yt.sub(Ct);const Jt=1/(Rt.x*yt.y-yt.x*Rt.y);isFinite(Jt)&&(Dt.copy(Tt).multiplyScalar(yt.y).addScaledVector(At,-Rt.y).multiplyScalar(Jt),Nt.copy(At).multiplyScalar(Rt.x).addScaledVector(Tt,-yt.x).multiplyScalar(Jt),vt[Kt].add(Dt),vt[qt].add(Dt),vt[Wt].add(Dt),xt[Kt].add(Nt),xt[qt].add(Nt),xt[Wt].add(Nt))}let Ot=this.groups;Ot.length===0&&(Ot=[{start:0,count:e.count}]);for(let Kt=0,qt=Ot.length;Kt<qt;++Kt){const Wt=Ot[Kt],Jt=Wt.start,cn=Wt.count;for(let sn=Jt,Tn=Jt+cn;sn<Tn;sn+=3)Lt(e.getX(sn+0),e.getX(sn+1),e.getX(sn+2))}const Ft=new Vector3,Vt=new Vector3,jt=new Vector3,$t=new Vector3;function Yt(Kt){jt.fromBufferAttribute(nt,Kt),$t.copy(jt);const qt=vt[Kt];Ft.copy(qt),Ft.sub(jt.multiplyScalar(jt.dot(qt))).normalize(),Vt.crossVectors($t,qt);const Jt=Vt.dot(xt[Kt])<0?-1:1;ht.setXYZW(Kt,Ft.x,Ft.y,Ft.z,Jt)}for(let Kt=0,qt=Ot.length;Kt<qt;++Kt){const Wt=Ot[Kt],Jt=Wt.start,cn=Wt.count;for(let sn=Jt,Tn=Jt+cn;sn<Tn;sn+=3)Yt(e.getX(sn+0)),Yt(e.getX(sn+1)),Yt(e.getX(sn+2))}}computeVertexNormals(){const e=this.index,a=this.getAttribute("position");if(a!==void 0){let d=this.getAttribute("normal");if(d===void 0)d=new BufferAttribute(new Float32Array(a.count*3),3),this.setAttribute("normal",d);else for(let Ct=0,Rt=d.count;Ct<Rt;Ct++)d.setXYZ(Ct,0,0,0);const nt=new Vector3,o=new Vector3,ht=new Vector3,vt=new Vector3,xt=new Vector3,St=new Vector3,Tt=new Vector3,At=new Vector3;if(e)for(let Ct=0,Rt=e.count;Ct<Rt;Ct+=3){const yt=e.getX(Ct+0),Dt=e.getX(Ct+1),Nt=e.getX(Ct+2);nt.fromBufferAttribute(a,yt),o.fromBufferAttribute(a,Dt),ht.fromBufferAttribute(a,Nt),Tt.subVectors(ht,o),At.subVectors(nt,o),Tt.cross(At),vt.fromBufferAttribute(d,yt),xt.fromBufferAttribute(d,Dt),St.fromBufferAttribute(d,Nt),vt.add(Tt),xt.add(Tt),St.add(Tt),d.setXYZ(yt,vt.x,vt.y,vt.z),d.setXYZ(Dt,xt.x,xt.y,xt.z),d.setXYZ(Nt,St.x,St.y,St.z)}else for(let Ct=0,Rt=a.count;Ct<Rt;Ct+=3)nt.fromBufferAttribute(a,Ct+0),o.fromBufferAttribute(a,Ct+1),ht.fromBufferAttribute(a,Ct+2),Tt.subVectors(ht,o),At.subVectors(nt,o),Tt.cross(At),d.setXYZ(Ct+0,Tt.x,Tt.y,Tt.z),d.setXYZ(Ct+1,Tt.x,Tt.y,Tt.z),d.setXYZ(Ct+2,Tt.x,Tt.y,Tt.z);this.normalizeNormals(),d.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let a=0,d=e.count;a<d;a++)_vector$8.fromBufferAttribute(e,a),_vector$8.normalize(),e.setXYZ(a,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function e(vt,xt){const St=vt.array,Tt=vt.itemSize,At=vt.normalized,Ct=new St.constructor(xt.length*Tt);let Rt=0,yt=0;for(let Dt=0,Nt=xt.length;Dt<Nt;Dt++){vt.isInterleavedBufferAttribute?Rt=xt[Dt]*vt.data.stride+vt.offset:Rt=xt[Dt]*Tt;for(let Lt=0;Lt<Tt;Lt++)Ct[yt++]=St[Rt++]}return new BufferAttribute(Ct,Tt,At)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const a=new BufferGeometry,d=this.index.array,nt=this.attributes;for(const vt in nt){const xt=nt[vt],St=e(xt,d);a.setAttribute(vt,St)}const o=this.morphAttributes;for(const vt in o){const xt=[],St=o[vt];for(let Tt=0,At=St.length;Tt<At;Tt++){const Ct=St[Tt],Rt=e(Ct,d);xt.push(Rt)}a.morphAttributes[vt]=xt}a.morphTargetsRelative=this.morphTargetsRelative;const ht=this.groups;for(let vt=0,xt=ht.length;vt<xt;vt++){const St=ht[vt];a.addGroup(St.start,St.count,St.materialIndex)}return a}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const xt=this.parameters;for(const St in xt)xt[St]!==void 0&&(e[St]=xt[St]);return e}e.data={attributes:{}};const a=this.index;a!==null&&(e.data.index={type:a.array.constructor.name,array:Array.prototype.slice.call(a.array)});const d=this.attributes;for(const xt in d){const St=d[xt];e.data.attributes[xt]=St.toJSON(e.data)}const nt={};let o=!1;for(const xt in this.morphAttributes){const St=this.morphAttributes[xt],Tt=[];for(let At=0,Ct=St.length;At<Ct;At++){const Rt=St[At];Tt.push(Rt.toJSON(e.data))}Tt.length>0&&(nt[xt]=Tt,o=!0)}o&&(e.data.morphAttributes=nt,e.data.morphTargetsRelative=this.morphTargetsRelative);const ht=this.groups;ht.length>0&&(e.data.groups=JSON.parse(JSON.stringify(ht)));const vt=this.boundingSphere;return vt!==null&&(e.data.boundingSphere={center:vt.center.toArray(),radius:vt.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const a={};this.name=e.name;const d=e.index;d!==null&&this.setIndex(d.clone());const nt=e.attributes;for(const St in nt){const Tt=nt[St];this.setAttribute(St,Tt.clone(a))}const o=e.morphAttributes;for(const St in o){const Tt=[],At=o[St];for(let Ct=0,Rt=At.length;Ct<Rt;Ct++)Tt.push(At[Ct].clone(a));this.morphAttributes[St]=Tt}this.morphTargetsRelative=e.morphTargetsRelative;const ht=e.groups;for(let St=0,Tt=ht.length;St<Tt;St++){const At=ht[St];this.addGroup(At.start,At.count,At.materialIndex)}const vt=e.boundingBox;vt!==null&&(this.boundingBox=vt.clone());const xt=e.boundingSphere;return xt!==null&&(this.boundingSphere=xt.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$3=new Matrix4,_ray$3=new Ray,_sphere$6=new Sphere,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(e=new BufferGeometry,a=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=a,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,a){return super.copy(e,a),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const a=this.geometry.morphAttributes,d=Object.keys(a);if(d.length>0){const nt=a[d[0]];if(nt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,ht=nt.length;o<ht;o++){const vt=nt[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[vt]=o}}}}getVertexPosition(e,a){const d=this.geometry,nt=d.attributes.position,o=d.morphAttributes.position,ht=d.morphTargetsRelative;a.fromBufferAttribute(nt,e);const vt=this.morphTargetInfluences;if(o&&vt){_morphA.set(0,0,0);for(let xt=0,St=o.length;xt<St;xt++){const Tt=vt[xt],At=o[xt];Tt!==0&&(_tempA.fromBufferAttribute(At,e),ht?_morphA.addScaledVector(_tempA,Tt):_morphA.addScaledVector(_tempA.sub(a),Tt))}a.add(_morphA)}return a}raycast(e,a){const d=this.geometry,nt=this.material,o=this.matrixWorld;nt!==void 0&&(d.boundingSphere===null&&d.computeBoundingSphere(),_sphere$6.copy(d.boundingSphere),_sphere$6.applyMatrix4(o),_ray$3.copy(e.ray).recast(e.near),!(_sphere$6.containsPoint(_ray$3.origin)===!1&&(_ray$3.intersectSphere(_sphere$6,_sphereHitAt)===null||_ray$3.origin.distanceToSquared(_sphereHitAt)>(e.far-e.near)**2))&&(_inverseMatrix$3.copy(o).invert(),_ray$3.copy(e.ray).applyMatrix4(_inverseMatrix$3),!(d.boundingBox!==null&&_ray$3.intersectsBox(d.boundingBox)===!1)&&this._computeIntersections(e,a,_ray$3)))}_computeIntersections(e,a,d){let nt;const o=this.geometry,ht=this.material,vt=o.index,xt=o.attributes.position,St=o.attributes.uv,Tt=o.attributes.uv1,At=o.attributes.normal,Ct=o.groups,Rt=o.drawRange;if(vt!==null)if(Array.isArray(ht))for(let yt=0,Dt=Ct.length;yt<Dt;yt++){const Nt=Ct[yt],Lt=ht[Nt.materialIndex],Ot=Math.max(Nt.start,Rt.start),Ft=Math.min(vt.count,Math.min(Nt.start+Nt.count,Rt.start+Rt.count));for(let Vt=Ot,jt=Ft;Vt<jt;Vt+=3){const $t=vt.getX(Vt),Yt=vt.getX(Vt+1),Kt=vt.getX(Vt+2);nt=checkGeometryIntersection(this,Lt,e,d,St,Tt,At,$t,Yt,Kt),nt&&(nt.faceIndex=Math.floor(Vt/3),nt.face.materialIndex=Nt.materialIndex,a.push(nt))}}else{const yt=Math.max(0,Rt.start),Dt=Math.min(vt.count,Rt.start+Rt.count);for(let Nt=yt,Lt=Dt;Nt<Lt;Nt+=3){const Ot=vt.getX(Nt),Ft=vt.getX(Nt+1),Vt=vt.getX(Nt+2);nt=checkGeometryIntersection(this,ht,e,d,St,Tt,At,Ot,Ft,Vt),nt&&(nt.faceIndex=Math.floor(Nt/3),a.push(nt))}}else if(xt!==void 0)if(Array.isArray(ht))for(let yt=0,Dt=Ct.length;yt<Dt;yt++){const Nt=Ct[yt],Lt=ht[Nt.materialIndex],Ot=Math.max(Nt.start,Rt.start),Ft=Math.min(xt.count,Math.min(Nt.start+Nt.count,Rt.start+Rt.count));for(let Vt=Ot,jt=Ft;Vt<jt;Vt+=3){const $t=Vt,Yt=Vt+1,Kt=Vt+2;nt=checkGeometryIntersection(this,Lt,e,d,St,Tt,At,$t,Yt,Kt),nt&&(nt.faceIndex=Math.floor(Vt/3),nt.face.materialIndex=Nt.materialIndex,a.push(nt))}}else{const yt=Math.max(0,Rt.start),Dt=Math.min(xt.count,Rt.start+Rt.count);for(let Nt=yt,Lt=Dt;Nt<Lt;Nt+=3){const Ot=Nt,Ft=Nt+1,Vt=Nt+2;nt=checkGeometryIntersection(this,ht,e,d,St,Tt,At,Ot,Ft,Vt),nt&&(nt.faceIndex=Math.floor(Nt/3),a.push(nt))}}}}function checkIntersection$1(c,e,a,d,nt,o,ht,vt){let xt;if(e.side===BackSide?xt=d.intersectTriangle(ht,o,nt,!0,vt):xt=d.intersectTriangle(nt,o,ht,e.side===FrontSide,vt),xt===null)return null;_intersectionPointWorld.copy(vt),_intersectionPointWorld.applyMatrix4(c.matrixWorld);const St=a.ray.origin.distanceTo(_intersectionPointWorld);return St<a.near||St>a.far?null:{distance:St,point:_intersectionPointWorld.clone(),object:c}}function checkGeometryIntersection(c,e,a,d,nt,o,ht,vt,xt,St){c.getVertexPosition(vt,_vA$1),c.getVertexPosition(xt,_vB$1),c.getVertexPosition(St,_vC$1);const Tt=checkIntersection$1(c,e,a,d,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(Tt){const At=new Vector3;Triangle.getBarycoord(_intersectionPoint,_vA$1,_vB$1,_vC$1,At),nt&&(Tt.uv=Triangle.getInterpolatedAttribute(nt,vt,xt,St,At,new Vector2)),o&&(Tt.uv1=Triangle.getInterpolatedAttribute(o,vt,xt,St,At,new Vector2)),ht&&(Tt.normal=Triangle.getInterpolatedAttribute(ht,vt,xt,St,At,new Vector3),Tt.normal.dot(d.direction)>0&&Tt.normal.multiplyScalar(-1));const Ct={a:vt,b:xt,c:St,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,Ct.normal),Tt.face=Ct,Tt.barycoord=At}return Tt}class BoxGeometry extends BufferGeometry{constructor(e=1,a=1,d=1,nt=1,o=1,ht=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:a,depth:d,widthSegments:nt,heightSegments:o,depthSegments:ht};const vt=this;nt=Math.floor(nt),o=Math.floor(o),ht=Math.floor(ht);const xt=[],St=[],Tt=[],At=[];let Ct=0,Rt=0;yt("z","y","x",-1,-1,d,a,e,ht,o,0),yt("z","y","x",1,-1,d,a,-e,ht,o,1),yt("x","z","y",1,1,e,d,a,nt,ht,2),yt("x","z","y",1,-1,e,d,-a,nt,ht,3),yt("x","y","z",1,-1,e,a,d,nt,o,4),yt("x","y","z",-1,-1,e,a,-d,nt,o,5),this.setIndex(xt),this.setAttribute("position",new Float32BufferAttribute(St,3)),this.setAttribute("normal",new Float32BufferAttribute(Tt,3)),this.setAttribute("uv",new Float32BufferAttribute(At,2));function yt(Dt,Nt,Lt,Ot,Ft,Vt,jt,$t,Yt,Kt,qt){const Wt=Vt/Yt,Jt=jt/Kt,cn=Vt/2,sn=jt/2,Tn=$t/2,Cn=Yt+1,En=Kt+1;let Nn=0,on=0;const hn=new Vector3;for(let pn=0;pn<En;pn++){const Pn=pn*Jt-sn;for(let jn=0;jn<Cn;jn++){const ar=jn*Wt-cn;hn[Dt]=ar*Ot,hn[Nt]=Pn*Ft,hn[Lt]=Tn,St.push(hn.x,hn.y,hn.z),hn[Dt]=0,hn[Nt]=0,hn[Lt]=$t>0?1:-1,Tt.push(hn.x,hn.y,hn.z),At.push(jn/Yt),At.push(1-pn/Kt),Nn+=1}}for(let pn=0;pn<Kt;pn++)for(let Pn=0;Pn<Yt;Pn++){const jn=Ct+Pn+Cn*pn,ar=Ct+Pn+Cn*(pn+1),An=Ct+(Pn+1)+Cn*(pn+1),Xn=Ct+(Pn+1)+Cn*pn;xt.push(jn,ar,Xn),xt.push(ar,An,Xn),on+=6}vt.addGroup(Rt,on,qt),Rt+=on,Ct+=Nn}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new BoxGeometry(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function cloneUniforms(c){const e={};for(const a in c){e[a]={};for(const d in c[a]){const nt=c[a][d];nt&&(nt.isColor||nt.isMatrix3||nt.isMatrix4||nt.isVector2||nt.isVector3||nt.isVector4||nt.isTexture||nt.isQuaternion)?nt.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[a][d]=null):e[a][d]=nt.clone():Array.isArray(nt)?e[a][d]=nt.slice():e[a][d]=nt}}return e}function mergeUniforms(c){const e={};for(let a=0;a<c.length;a++){const d=cloneUniforms(c[a]);for(const nt in d)e[nt]=d[nt]}return e}function cloneUniformsGroups(c){const e=[];for(let a=0;a<c.length;a++)e.push(c[a].clone());return e}function getUnlitUniformColorSpace(c){const e=c.getRenderTarget();return e===null?c.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:ColorManagement.workingColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=cloneUniforms(e.uniforms),this.uniformsGroups=cloneUniformsGroups(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const a=super.toJSON(e);a.glslVersion=this.glslVersion,a.uniforms={};for(const nt in this.uniforms){const ht=this.uniforms[nt].value;ht&&ht.isTexture?a.uniforms[nt]={type:"t",value:ht.toJSON(e).uuid}:ht&&ht.isColor?a.uniforms[nt]={type:"c",value:ht.getHex()}:ht&&ht.isVector2?a.uniforms[nt]={type:"v2",value:ht.toArray()}:ht&&ht.isVector3?a.uniforms[nt]={type:"v3",value:ht.toArray()}:ht&&ht.isVector4?a.uniforms[nt]={type:"v4",value:ht.toArray()}:ht&&ht.isMatrix3?a.uniforms[nt]={type:"m3",value:ht.toArray()}:ht&&ht.isMatrix4?a.uniforms[nt]={type:"m4",value:ht.toArray()}:a.uniforms[nt]={value:ht}}Object.keys(this.defines).length>0&&(a.defines=this.defines),a.vertexShader=this.vertexShader,a.fragmentShader=this.fragmentShader,a.lights=this.lights,a.clipping=this.clipping;const d={};for(const nt in this.extensions)this.extensions[nt]===!0&&(d[nt]=!0);return Object.keys(d).length>0&&(a.extensions=d),a}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4,this.coordinateSystem=WebGLCoordinateSystem}copy(e,a){return super.copy(e,a),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,a){super.updateWorldMatrix(e,a),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const _v3$1=new Vector3,_minTarget=new Vector2,_maxTarget=new Vector2;class PerspectiveCamera extends Camera{constructor(e=50,a=1,d=.1,nt=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=d,this.far=nt,this.focus=10,this.aspect=a,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,a){return super.copy(e,a),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const a=.5*this.getFilmHeight()/e;this.fov=RAD2DEG*2*Math.atan(a),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,a,d){_v3$1.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),a.set(_v3$1.x,_v3$1.y).multiplyScalar(-e/_v3$1.z),_v3$1.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),d.set(_v3$1.x,_v3$1.y).multiplyScalar(-e/_v3$1.z)}getViewSize(e,a){return this.getViewBounds(e,_minTarget,_maxTarget),a.subVectors(_maxTarget,_minTarget)}setViewOffset(e,a,d,nt,o,ht){this.aspect=e/a,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=a,this.view.offsetX=d,this.view.offsetY=nt,this.view.width=o,this.view.height=ht,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let a=e*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,d=2*a,nt=this.aspect*d,o=-.5*nt;const ht=this.view;if(this.view!==null&&this.view.enabled){const xt=ht.fullWidth,St=ht.fullHeight;o+=ht.offsetX*nt/xt,a-=ht.offsetY*d/St,nt*=ht.width/xt,d*=ht.height/St}const vt=this.filmOffset;vt!==0&&(o+=e*vt/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+nt,a,a-d,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const a=super.toJSON(e);return a.object.fov=this.fov,a.object.zoom=this.zoom,a.object.near=this.near,a.object.far=this.far,a.object.focus=this.focus,a.object.aspect=this.aspect,this.view!==null&&(a.object.view=Object.assign({},this.view)),a.object.filmGauge=this.filmGauge,a.object.filmOffset=this.filmOffset,a}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(e,a,d){super(),this.type="CubeCamera",this.renderTarget=d,this.coordinateSystem=null,this.activeMipmapLevel=0;const nt=new PerspectiveCamera(fov,aspect,e,a);nt.layers=this.layers,this.add(nt);const o=new PerspectiveCamera(fov,aspect,e,a);o.layers=this.layers,this.add(o);const ht=new PerspectiveCamera(fov,aspect,e,a);ht.layers=this.layers,this.add(ht);const vt=new PerspectiveCamera(fov,aspect,e,a);vt.layers=this.layers,this.add(vt);const xt=new PerspectiveCamera(fov,aspect,e,a);xt.layers=this.layers,this.add(xt);const St=new PerspectiveCamera(fov,aspect,e,a);St.layers=this.layers,this.add(St)}updateCoordinateSystem(){const e=this.coordinateSystem,a=this.children.concat(),[d,nt,o,ht,vt,xt]=a;for(const St of a)this.remove(St);if(e===WebGLCoordinateSystem)d.up.set(0,1,0),d.lookAt(1,0,0),nt.up.set(0,1,0),nt.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),ht.up.set(0,0,1),ht.lookAt(0,-1,0),vt.up.set(0,1,0),vt.lookAt(0,0,1),xt.up.set(0,1,0),xt.lookAt(0,0,-1);else if(e===WebGPUCoordinateSystem)d.up.set(0,-1,0),d.lookAt(-1,0,0),nt.up.set(0,-1,0),nt.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),ht.up.set(0,0,-1),ht.lookAt(0,-1,0),vt.up.set(0,-1,0),vt.lookAt(0,0,1),xt.up.set(0,-1,0),xt.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const St of a)this.add(St),St.updateMatrixWorld()}update(e,a){this.parent===null&&this.updateMatrixWorld();const{renderTarget:d,activeMipmapLevel:nt}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,ht,vt,xt,St,Tt]=this.children,At=e.getRenderTarget(),Ct=e.getActiveCubeFace(),Rt=e.getActiveMipmapLevel(),yt=e.xr.enabled;e.xr.enabled=!1;const Dt=d.texture.generateMipmaps;d.texture.generateMipmaps=!1,e.setRenderTarget(d,0,nt),e.render(a,o),e.setRenderTarget(d,1,nt),e.render(a,ht),e.setRenderTarget(d,2,nt),e.render(a,vt),e.setRenderTarget(d,3,nt),e.render(a,xt),e.setRenderTarget(d,4,nt),e.render(a,St),d.texture.generateMipmaps=Dt,e.setRenderTarget(d,5,nt),e.render(a,Tt),e.setRenderTarget(At,Ct,Rt),e.xr.enabled=yt,d.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(e=[],a=CubeReflectionMapping,d,nt,o,ht,vt,xt,St,Tt){super(e,a,d,nt,o,ht,vt,xt,St,Tt),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(e=1,a={}){super(e,e,a),this.isWebGLCubeRenderTarget=!0;const d={width:e,height:e,depth:1},nt=[d,d,d,d,d,d];this.texture=new CubeTexture(nt,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=a.generateMipmaps!==void 0?a.generateMipmaps:!1,this.texture.minFilter=a.minFilter!==void 0?a.minFilter:LinearFilter}fromEquirectangularTexture(e,a){this.texture.type=a.type,this.texture.colorSpace=a.colorSpace,this.texture.generateMipmaps=a.generateMipmaps,this.texture.minFilter=a.minFilter,this.texture.magFilter=a.magFilter;const d={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},nt=new BoxGeometry(5,5,5),o=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(d.uniforms),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader,side:BackSide,blending:NoBlending});o.uniforms.tEquirect.value=a;const ht=new Mesh(nt,o),vt=a.minFilter;return a.minFilter===LinearMipmapLinearFilter&&(a.minFilter=LinearFilter),new CubeCamera(1,10,this).update(e,ht),a.minFilter=vt,ht.geometry.dispose(),ht.material.dispose(),this}clear(e,a=!0,d=!0,nt=!0){const o=e.getRenderTarget();for(let ht=0;ht<6;ht++)e.setRenderTarget(this,ht),e.clear(a,d,nt);e.setRenderTarget(o)}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const a=this._hand;if(a)for(const d of e.hand.values())this._getHandJoint(a,d)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,a,d){let nt=null,o=null,ht=null;const vt=this._targetRay,xt=this._grip,St=this._hand;if(e&&a.session.visibilityState!=="visible-blurred"){if(St&&e.hand){ht=!0;for(const Dt of e.hand.values()){const Nt=a.getJointPose(Dt,d),Lt=this._getHandJoint(St,Dt);Nt!==null&&(Lt.matrix.fromArray(Nt.transform.matrix),Lt.matrix.decompose(Lt.position,Lt.rotation,Lt.scale),Lt.matrixWorldNeedsUpdate=!0,Lt.jointRadius=Nt.radius),Lt.visible=Nt!==null}const Tt=St.joints["index-finger-tip"],At=St.joints["thumb-tip"],Ct=Tt.position.distanceTo(At.position),Rt=.02,yt=.005;St.inputState.pinching&&Ct>Rt+yt?(St.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!St.inputState.pinching&&Ct<=Rt-yt&&(St.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else xt!==null&&e.gripSpace&&(o=a.getPose(e.gripSpace,d),o!==null&&(xt.matrix.fromArray(o.transform.matrix),xt.matrix.decompose(xt.position,xt.rotation,xt.scale),xt.matrixWorldNeedsUpdate=!0,o.linearVelocity?(xt.hasLinearVelocity=!0,xt.linearVelocity.copy(o.linearVelocity)):xt.hasLinearVelocity=!1,o.angularVelocity?(xt.hasAngularVelocity=!0,xt.angularVelocity.copy(o.angularVelocity)):xt.hasAngularVelocity=!1));vt!==null&&(nt=a.getPose(e.targetRaySpace,d),nt===null&&o!==null&&(nt=o),nt!==null&&(vt.matrix.fromArray(nt.transform.matrix),vt.matrix.decompose(vt.position,vt.rotation,vt.scale),vt.matrixWorldNeedsUpdate=!0,nt.linearVelocity?(vt.hasLinearVelocity=!0,vt.linearVelocity.copy(nt.linearVelocity)):vt.hasLinearVelocity=!1,nt.angularVelocity?(vt.hasAngularVelocity=!0,vt.angularVelocity.copy(nt.angularVelocity)):vt.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return vt!==null&&(vt.visible=nt!==null),xt!==null&&(xt.visible=o!==null),St!==null&&(St.visible=ht!==null),this}_getHandJoint(e,a){if(e.joints[a.jointName]===void 0){const d=new Group;d.matrixAutoUpdate=!1,d.visible=!1,e.joints[a.jointName]=d,e.add(d)}return e.joints[a.jointName]}}class FogExp2{constructor(e,a=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color(e),this.density=a}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Fog{constructor(e,a=1,d=1e3){this.isFog=!0,this.name="",this.color=new Color(e),this.near=a,this.far=d}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Euler,this.environmentIntensity=1,this.environmentRotation=new Euler,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,a){return super.copy(e,a),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const a=super.toJSON(e);return this.fog!==null&&(a.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(a.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(a.object.backgroundIntensity=this.backgroundIntensity),a.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(a.object.environmentIntensity=this.environmentIntensity),a.object.environmentRotation=this.environmentRotation.toArray(),a}}class InterleavedBuffer{constructor(e,a){this.isInterleavedBuffer=!0,this.array=e,this.stride=a,this.count=e!==void 0?e.length/a:0,this.usage=StaticDrawUsage,this.updateRanges=[],this.version=0,this.uuid=generateUUID()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,a){this.updateRanges.push({start:e,count:a})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,a,d){e*=this.stride,d*=a.stride;for(let nt=0,o=this.stride;nt<o;nt++)this.array[e+nt]=a.array[d+nt];return this}set(e,a=0){return this.array.set(e,a),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const a=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),d=new this.constructor(a,this.stride);return d.setUsage(this.usage),d}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$7=new Vector3;class InterleavedBufferAttribute{constructor(e,a,d,nt=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=a,this.offset=d,this.normalized=nt}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let a=0,d=this.data.count;a<d;a++)_vector$7.fromBufferAttribute(this,a),_vector$7.applyMatrix4(e),this.setXYZ(a,_vector$7.x,_vector$7.y,_vector$7.z);return this}applyNormalMatrix(e){for(let a=0,d=this.count;a<d;a++)_vector$7.fromBufferAttribute(this,a),_vector$7.applyNormalMatrix(e),this.setXYZ(a,_vector$7.x,_vector$7.y,_vector$7.z);return this}transformDirection(e){for(let a=0,d=this.count;a<d;a++)_vector$7.fromBufferAttribute(this,a),_vector$7.transformDirection(e),this.setXYZ(a,_vector$7.x,_vector$7.y,_vector$7.z);return this}getComponent(e,a){let d=this.array[e*this.data.stride+this.offset+a];return this.normalized&&(d=denormalize(d,this.array)),d}setComponent(e,a,d){return this.normalized&&(d=normalize(d,this.array)),this.data.array[e*this.data.stride+this.offset+a]=d,this}setX(e,a){return this.normalized&&(a=normalize(a,this.array)),this.data.array[e*this.data.stride+this.offset]=a,this}setY(e,a){return this.normalized&&(a=normalize(a,this.array)),this.data.array[e*this.data.stride+this.offset+1]=a,this}setZ(e,a){return this.normalized&&(a=normalize(a,this.array)),this.data.array[e*this.data.stride+this.offset+2]=a,this}setW(e,a){return this.normalized&&(a=normalize(a,this.array)),this.data.array[e*this.data.stride+this.offset+3]=a,this}getX(e){let a=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(a=denormalize(a,this.array)),a}getY(e){let a=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(a=denormalize(a,this.array)),a}getZ(e){let a=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(a=denormalize(a,this.array)),a}getW(e){let a=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(a=denormalize(a,this.array)),a}setXY(e,a,d){return e=e*this.data.stride+this.offset,this.normalized&&(a=normalize(a,this.array),d=normalize(d,this.array)),this.data.array[e+0]=a,this.data.array[e+1]=d,this}setXYZ(e,a,d,nt){return e=e*this.data.stride+this.offset,this.normalized&&(a=normalize(a,this.array),d=normalize(d,this.array),nt=normalize(nt,this.array)),this.data.array[e+0]=a,this.data.array[e+1]=d,this.data.array[e+2]=nt,this}setXYZW(e,a,d,nt,o){return e=e*this.data.stride+this.offset,this.normalized&&(a=normalize(a,this.array),d=normalize(d,this.array),nt=normalize(nt,this.array),o=normalize(o,this.array)),this.data.array[e+0]=a,this.data.array[e+1]=d,this.data.array[e+2]=nt,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const a=[];for(let d=0;d<this.count;d++){const nt=d*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)a.push(this.data.array[nt+o])}return new BufferAttribute(new this.array.constructor(a),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new InterleavedBufferAttribute(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const a=[];for(let d=0;d<this.count;d++){const nt=d*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)a.push(this.data.array[nt+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:a,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(e=new SpriteMaterial){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const a=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),d=new InterleavedBuffer(a,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(d,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(d,2,3,!1))}this.geometry=_geometry,this.material=e,this.center=new Vector2(.5,.5)}raycast(e,a){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const d=this.material.rotation;let nt,o;d!==0&&(o=Math.cos(d),nt=Math.sin(d));const ht=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,ht,_worldScale,nt,o),transformVertex(_vB.set(.5,-.5,0),_mvPosition,ht,_worldScale,nt,o),transformVertex(_vC.set(.5,.5,0),_mvPosition,ht,_worldScale,nt,o),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let vt=e.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(vt===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,ht,_worldScale,nt,o),_uvB.set(0,1),vt=e.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),vt===null))return;const xt=e.ray.origin.distanceTo(_intersectPoint);xt<e.near||xt>e.far||a.push({distance:xt,point:_intersectPoint.clone(),uv:Triangle.getInterpolation(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(e,a){return super.copy(e,a),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function transformVertex(c,e,a,d,nt,o){_alignedPosition.subVectors(c,a).addScalar(.5).multiply(d),nt!==void 0?(_rotatedPosition.x=o*_alignedPosition.x-nt*_alignedPosition.y,_rotatedPosition.y=nt*_alignedPosition.x+o*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),c.copy(e),c.x+=_rotatedPosition.x,c.y+=_rotatedPosition.y,c.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const a=e.levels;for(let d=0,nt=a.length;d<nt;d++){const o=a[d];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,a=0,d=0){a=Math.abs(a);const nt=this.levels;let o;for(o=0;o<nt.length&&!(a<nt[o].distance);o++);return nt.splice(o,0,{distance:a,hysteresis:d,object:e}),this.add(e),this}removeLevel(e){const a=this.levels;for(let d=0;d<a.length;d++)if(a[d].distance===e){const nt=a.splice(d,1);return this.remove(nt[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const a=this.levels;if(a.length>0){let d,nt;for(d=1,nt=a.length;d<nt;d++){let o=a[d].distance;if(a[d].object.visible&&(o-=o*a[d].hysteresis),e<o)break}return a[d-1].object}return null}raycast(e,a){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const nt=e.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(nt).raycast(e,a)}}update(e){const a=this.levels;if(a.length>1){_v1$2.setFromMatrixPosition(e.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const d=_v1$2.distanceTo(_v2$1)/e.zoom;a[0].object.visible=!0;let nt,o;for(nt=1,o=a.length;nt<o;nt++){let ht=a[nt].distance;if(a[nt].object.visible&&(ht-=ht*a[nt].hysteresis),d>=ht)a[nt-1].object.visible=!1,a[nt].object.visible=!0;else break}for(this._currentLevel=nt-1;nt<o;nt++)a[nt].object.visible=!1}}toJSON(e){const a=super.toJSON(e);this.autoUpdate===!1&&(a.object.autoUpdate=!1),a.object.levels=[];const d=this.levels;for(let nt=0,o=d.length;nt<o;nt++){const ht=d[nt];a.object.levels.push({object:ht.object.uuid,distance:ht.distance,hysteresis:ht.hysteresis})}return a}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector3=new Vector3,_matrix4=new Matrix4,_vertex=new Vector3,_sphere$5=new Sphere,_inverseMatrix$2=new Matrix4,_ray$2=new Ray;class SkinnedMesh extends Mesh{constructor(e,a){super(e,a),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=AttachedBindMode,this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Box3),this.boundingBox.makeEmpty();const a=e.getAttribute("position");for(let d=0;d<a.count;d++)this.getVertexPosition(d,_vertex),this.boundingBox.expandByPoint(_vertex)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Sphere),this.boundingSphere.makeEmpty();const a=e.getAttribute("position");for(let d=0;d<a.count;d++)this.getVertexPosition(d,_vertex),this.boundingSphere.expandByPoint(_vertex)}copy(e,a){return super.copy(e,a),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,a){const d=this.material,nt=this.matrixWorld;d!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$5.copy(this.boundingSphere),_sphere$5.applyMatrix4(nt),e.ray.intersectsSphere(_sphere$5)!==!1&&(_inverseMatrix$2.copy(nt).invert(),_ray$2.copy(e.ray).applyMatrix4(_inverseMatrix$2),!(this.boundingBox!==null&&_ray$2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,a,_ray$2)))}getVertexPosition(e,a){return super.getVertexPosition(e,a),this.applyBoneTransform(e,a),a}bind(e,a){this.skeleton=e,a===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),a=this.matrixWorld),this.bindMatrix.copy(a),this.bindMatrixInverse.copy(a).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Vector4,a=this.geometry.attributes.skinWeight;for(let d=0,nt=a.count;d<nt;d++){e.fromBufferAttribute(a,d);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),a.setXYZW(d,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===AttachedBindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===DetachedBindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,a){const d=this.skeleton,nt=this.geometry;_skinIndex.fromBufferAttribute(nt.attributes.skinIndex,e),_skinWeight.fromBufferAttribute(nt.attributes.skinWeight,e),_basePosition.copy(a).applyMatrix4(this.bindMatrix),a.set(0,0,0);for(let o=0;o<4;o++){const ht=_skinWeight.getComponent(o);if(ht!==0){const vt=_skinIndex.getComponent(o);_matrix4.multiplyMatrices(d.bones[vt].matrixWorld,d.boneInverses[vt]),a.addScaledVector(_vector3.copy(_basePosition).applyMatrix4(_matrix4),ht)}}return a.applyMatrix4(this.bindMatrixInverse)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(e=null,a=1,d=1,nt,o,ht,vt,xt,St=NearestFilter,Tt=NearestFilter,At,Ct){super(null,ht,vt,xt,St,Tt,nt,o,At,Ct),this.isDataTexture=!0,this.image={data:e,width:a,height:d},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix$1=new Matrix4;class Skeleton{constructor(e=[],a=[]){this.uuid=generateUUID(),this.bones=e.slice(0),this.boneInverses=a,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,a=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),a.length===0)this.calculateInverses();else if(e.length!==a.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let d=0,nt=this.bones.length;d<nt;d++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,a=this.bones.length;e<a;e++){const d=new Matrix4;this.bones[e]&&d.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(d)}}pose(){for(let e=0,a=this.bones.length;e<a;e++){const d=this.bones[e];d&&d.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,a=this.bones.length;e<a;e++){const d=this.bones[e];d&&(d.parent&&d.parent.isBone?(d.matrix.copy(d.parent.matrixWorld).invert(),d.matrix.multiply(d.matrixWorld)):d.matrix.copy(d.matrixWorld),d.matrix.decompose(d.position,d.quaternion,d.scale))}}update(){const e=this.bones,a=this.boneInverses,d=this.boneMatrices,nt=this.boneTexture;for(let o=0,ht=e.length;o<ht;o++){const vt=e[o]?e[o].matrixWorld:_identityMatrix$1;_offsetMatrix.multiplyMatrices(vt,a[o]),_offsetMatrix.toArray(d,o*16)}nt!==null&&(nt.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const a=new Float32Array(e*e*4);a.set(this.boneMatrices);const d=new DataTexture(a,e,e,RGBAFormat,FloatType);return d.needsUpdate=!0,this.boneMatrices=a,this.boneTexture=d,this}getBoneByName(e){for(let a=0,d=this.bones.length;a<d;a++){const nt=this.bones[a];if(nt.name===e)return nt}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,a){this.uuid=e.uuid;for(let d=0,nt=e.bones.length;d<nt;d++){const o=e.bones[d];let ht=a[o];ht===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),ht=new Bone),this.bones.push(ht),this.boneInverses.push(new Matrix4().fromArray(e.boneInverses[d]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const a=this.bones,d=this.boneInverses;for(let nt=0,o=a.length;nt<o;nt++){const ht=a[nt];e.bones.push(ht.uuid);const vt=d[nt];e.boneInverses.push(vt.toArray())}return e}}class InstancedBufferAttribute extends BufferAttribute{constructor(e,a,d,nt=1){super(e,a,d),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=nt}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_box3=new Box3,_identity=new Matrix4,_mesh$1=new Mesh,_sphere$4=new Sphere;class InstancedMesh extends Mesh{constructor(e,a,d){super(e,a),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(d*16),16),this.instanceColor=null,this.morphTexture=null,this.count=d,this.boundingBox=null,this.boundingSphere=null;for(let nt=0;nt<d;nt++)this.setMatrixAt(nt,_identity)}computeBoundingBox(){const e=this.geometry,a=this.count;this.boundingBox===null&&(this.boundingBox=new Box3),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let d=0;d<a;d++)this.getMatrixAt(d,_instanceLocalMatrix),_box3.copy(e.boundingBox).applyMatrix4(_instanceLocalMatrix),this.boundingBox.union(_box3)}computeBoundingSphere(){const e=this.geometry,a=this.count;this.boundingSphere===null&&(this.boundingSphere=new Sphere),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let d=0;d<a;d++)this.getMatrixAt(d,_instanceLocalMatrix),_sphere$4.copy(e.boundingSphere).applyMatrix4(_instanceLocalMatrix),this.boundingSphere.union(_sphere$4)}copy(e,a){return super.copy(e,a),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,a){a.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,a){a.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,a){const d=a.morphTargetInfluences,nt=this.morphTexture.source.data.data,o=d.length+1,ht=e*o+1;for(let vt=0;vt<d.length;vt++)d[vt]=nt[ht+vt]}raycast(e,a){const d=this.matrixWorld,nt=this.count;if(_mesh$1.geometry=this.geometry,_mesh$1.material=this.material,_mesh$1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$4.copy(this.boundingSphere),_sphere$4.applyMatrix4(d),e.ray.intersectsSphere(_sphere$4)!==!1))for(let o=0;o<nt;o++){this.getMatrixAt(o,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(d,_instanceLocalMatrix),_mesh$1.matrixWorld=_instanceWorldMatrix,_mesh$1.raycast(e,_instanceIntersects);for(let ht=0,vt=_instanceIntersects.length;ht<vt;ht++){const xt=_instanceIntersects[ht];xt.instanceId=o,xt.object=this,a.push(xt)}_instanceIntersects.length=0}}setColorAt(e,a){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),a.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,a){a.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,a){const d=a.morphTargetInfluences,nt=d.length+1;this.morphTexture===null&&(this.morphTexture=new DataTexture(new Float32Array(nt*this.count),nt,this.count,RedFormat,FloatType));const o=this.morphTexture.source.data.data;let ht=0;for(let St=0;St<d.length;St++)ht+=d[St];const vt=this.geometry.morphTargetsRelative?1:1-ht,xt=nt*e;o[xt]=vt,o.set(d,xt+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(e=new Vector3(1,0,0),a=0){this.isPlane=!0,this.normal=e,this.constant=a}set(e,a){return this.normal.copy(e),this.constant=a,this}setComponents(e,a,d,nt){return this.normal.set(e,a,d),this.constant=nt,this}setFromNormalAndCoplanarPoint(e,a){return this.normal.copy(e),this.constant=-a.dot(this.normal),this}setFromCoplanarPoints(e,a,d){const nt=_vector1.subVectors(d,a).cross(_vector2.subVectors(e,a)).normalize();return this.setFromNormalAndCoplanarPoint(nt,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,a){return a.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,a){const d=e.delta(_vector1),nt=this.normal.dot(d);if(nt===0)return this.distanceToPoint(e.start)===0?a.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/nt;return o<0||o>1?null:a.copy(e.start).addScaledVector(d,o)}intersectsLine(e){const a=this.distanceToPoint(e.start),d=this.distanceToPoint(e.end);return a<0&&d>0||d<0&&a>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,a){const d=a||_normalMatrix.getNormalMatrix(e),nt=this.coplanarPoint(_vector1).applyMatrix4(e),o=this.normal.applyMatrix3(d).normalize();return this.constant=-nt.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$3=new Sphere,_vector$6=new Vector3;class Frustum{constructor(e=new Plane,a=new Plane,d=new Plane,nt=new Plane,o=new Plane,ht=new Plane){this.planes=[e,a,d,nt,o,ht]}set(e,a,d,nt,o,ht){const vt=this.planes;return vt[0].copy(e),vt[1].copy(a),vt[2].copy(d),vt[3].copy(nt),vt[4].copy(o),vt[5].copy(ht),this}copy(e){const a=this.planes;for(let d=0;d<6;d++)a[d].copy(e.planes[d]);return this}setFromProjectionMatrix(e,a=WebGLCoordinateSystem){const d=this.planes,nt=e.elements,o=nt[0],ht=nt[1],vt=nt[2],xt=nt[3],St=nt[4],Tt=nt[5],At=nt[6],Ct=nt[7],Rt=nt[8],yt=nt[9],Dt=nt[10],Nt=nt[11],Lt=nt[12],Ot=nt[13],Ft=nt[14],Vt=nt[15];if(d[0].setComponents(xt-o,Ct-St,Nt-Rt,Vt-Lt).normalize(),d[1].setComponents(xt+o,Ct+St,Nt+Rt,Vt+Lt).normalize(),d[2].setComponents(xt+ht,Ct+Tt,Nt+yt,Vt+Ot).normalize(),d[3].setComponents(xt-ht,Ct-Tt,Nt-yt,Vt-Ot).normalize(),d[4].setComponents(xt-vt,Ct-At,Nt-Dt,Vt-Ft).normalize(),a===WebGLCoordinateSystem)d[5].setComponents(xt+vt,Ct+At,Nt+Dt,Vt+Ft).normalize();else if(a===WebGPUCoordinateSystem)d[5].setComponents(vt,At,Dt,Ft).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+a);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),_sphere$3.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const a=e.geometry;a.boundingSphere===null&&a.computeBoundingSphere(),_sphere$3.copy(a.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(_sphere$3)}intersectsSprite(e){return _sphere$3.center.set(0,0,0),_sphere$3.radius=.7071067811865476,_sphere$3.applyMatrix4(e.matrixWorld),this.intersectsSphere(_sphere$3)}intersectsSphere(e){const a=this.planes,d=e.center,nt=-e.radius;for(let o=0;o<6;o++)if(a[o].distanceToPoint(d)<nt)return!1;return!0}intersectsBox(e){const a=this.planes;for(let d=0;d<6;d++){const nt=a[d];if(_vector$6.x=nt.normal.x>0?e.max.x:e.min.x,_vector$6.y=nt.normal.y>0?e.max.y:e.min.y,_vector$6.z=nt.normal.z>0?e.max.z:e.min.z,nt.distanceToPoint(_vector$6)<0)return!1}return!0}containsPoint(e){const a=this.planes;for(let d=0;d<6;d++)if(a[d].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const _projScreenMatrix$2=new Matrix4,_frustum$1=new Frustum;class FrustumArray{constructor(){this.coordinateSystem=WebGLCoordinateSystem}intersectsObject(e,a){if(!a.isArrayCamera||a.cameras.length===0)return!1;for(let d=0;d<a.cameras.length;d++){const nt=a.cameras[d];if(_projScreenMatrix$2.multiplyMatrices(nt.projectionMatrix,nt.matrixWorldInverse),_frustum$1.setFromProjectionMatrix(_projScreenMatrix$2,this.coordinateSystem),_frustum$1.intersectsObject(e))return!0}return!1}intersectsSprite(e,a){if(!a||!a.cameras||a.cameras.length===0)return!1;for(let d=0;d<a.cameras.length;d++){const nt=a.cameras[d];if(_projScreenMatrix$2.multiplyMatrices(nt.projectionMatrix,nt.matrixWorldInverse),_frustum$1.setFromProjectionMatrix(_projScreenMatrix$2,this.coordinateSystem),_frustum$1.intersectsSprite(e))return!0}return!1}intersectsSphere(e,a){if(!a||!a.cameras||a.cameras.length===0)return!1;for(let d=0;d<a.cameras.length;d++){const nt=a.cameras[d];if(_projScreenMatrix$2.multiplyMatrices(nt.projectionMatrix,nt.matrixWorldInverse),_frustum$1.setFromProjectionMatrix(_projScreenMatrix$2,this.coordinateSystem),_frustum$1.intersectsSphere(e))return!0}return!1}intersectsBox(e,a){if(!a||!a.cameras||a.cameras.length===0)return!1;for(let d=0;d<a.cameras.length;d++){const nt=a.cameras[d];if(_projScreenMatrix$2.multiplyMatrices(nt.projectionMatrix,nt.matrixWorldInverse),_frustum$1.setFromProjectionMatrix(_projScreenMatrix$2,this.coordinateSystem),_frustum$1.intersectsBox(e))return!0}return!1}containsPoint(e,a){if(!a||!a.cameras||a.cameras.length===0)return!1;for(let d=0;d<a.cameras.length;d++){const nt=a.cameras[d];if(_projScreenMatrix$2.multiplyMatrices(nt.projectionMatrix,nt.matrixWorldInverse),_frustum$1.setFromProjectionMatrix(_projScreenMatrix$2,this.coordinateSystem),_frustum$1.containsPoint(e))return!0}return!1}clone(){return new FrustumArray}}function ascIdSort(c,e){return c-e}function sortOpaque(c,e){return c.z-e.z}function sortTransparent(c,e){return e.z-c.z}class MultiDrawRenderList{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,a,d,nt){const o=this.pool,ht=this.list;this.index>=o.length&&o.push({start:-1,count:-1,z:-1,index:-1});const vt=o[this.index];ht.push(vt),this.index++,vt.start=e,vt.count=a,vt.z=d,vt.index=nt}reset(){this.list.length=0,this.index=0}}const _matrix$1=new Matrix4,_whiteColor=new Color(1,1,1),_frustum=new Frustum,_frustumArray=new FrustumArray,_box$1=new Box3,_sphere$2=new Sphere,_vector$5=new Vector3,_forward=new Vector3,_temp=new Vector3,_renderList=new MultiDrawRenderList,_mesh=new Mesh,_batchIntersects=[];function copyAttributeData(c,e,a=0){const d=e.itemSize;if(c.isInterleavedBufferAttribute||c.array.constructor!==e.array.constructor){const nt=c.count;for(let o=0;o<nt;o++)for(let ht=0;ht<d;ht++)e.setComponent(o+a,ht,c.getComponent(o,ht))}else e.array.set(c.array,a*d);e.needsUpdate=!0}function copyArrayContents(c,e){if(c.constructor!==e.constructor){const a=Math.min(c.length,e.length);for(let d=0;d<a;d++)e[d]=c[d]}else{const a=Math.min(c.length,e.length);e.set(new c.constructor(c.buffer,0,a))}}class BatchedMesh extends Mesh{constructor(e,a,d=a*2,nt){super(new BufferGeometry,nt),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=a,this._maxIndexCount=d,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const a=new Float32Array(e*e*4),d=new DataTexture(a,e,e,RGBAFormat,FloatType);this._matricesTexture=d}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const a=new Uint32Array(e*e),d=new DataTexture(a,e,e,RedIntegerFormat,UnsignedIntType);this._indirectTexture=d}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const a=new Float32Array(e*e*4).fill(1),d=new DataTexture(a,e,e,RGBAFormat,FloatType);d.colorSpace=ColorManagement.workingColorSpace,this._colorsTexture=d}_initializeGeometry(e){const a=this.geometry,d=this._maxVertexCount,nt=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in e.attributes){const ht=e.getAttribute(o),{array:vt,itemSize:xt,normalized:St}=ht,Tt=new vt.constructor(d*xt),At=new BufferAttribute(Tt,xt,St);a.setAttribute(o,At)}if(e.getIndex()!==null){const o=d>65535?new Uint32Array(nt):new Uint16Array(nt);a.setIndex(new BufferAttribute(o,1))}this._geometryInitialized=!0}}_validateGeometry(e){const a=this.geometry;if(!!e.getIndex()!=!!a.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const d in a.attributes){if(!e.hasAttribute(d))throw new Error(`THREE.BatchedMesh: Added geometry missing "${d}". All geometries must have consistent attributes.`);const nt=e.getAttribute(d),o=a.getAttribute(d);if(nt.itemSize!==o.itemSize||nt.normalized!==o.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const a=this._instanceInfo;if(e<0||e>=a.length||a[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const a=this._geometryInfo;if(e<0||e>=a.length||a[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const e=this.boundingBox,a=this._instanceInfo;e.makeEmpty();for(let d=0,nt=a.length;d<nt;d++){if(a[d].active===!1)continue;const o=a[d].geometryIndex;this.getMatrixAt(d,_matrix$1),this.getBoundingBoxAt(o,_box$1).applyMatrix4(_matrix$1),e.union(_box$1)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const e=this.boundingSphere,a=this._instanceInfo;e.makeEmpty();for(let d=0,nt=a.length;d<nt;d++){if(a[d].active===!1)continue;const o=a[d].geometryIndex;this.getMatrixAt(d,_matrix$1),this.getBoundingSphereAt(o,_sphere$2).applyMatrix4(_matrix$1),e.union(_sphere$2)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const d={visible:!0,active:!0,geometryIndex:e};let nt=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(ascIdSort),nt=this._availableInstanceIds.shift(),this._instanceInfo[nt]=d):(nt=this._instanceInfo.length,this._instanceInfo.push(d));const o=this._matricesTexture;_matrix$1.identity().toArray(o.image.data,nt*16),o.needsUpdate=!0;const ht=this._colorsTexture;return ht&&(_whiteColor.toArray(ht.image.data,nt*4),ht.needsUpdate=!0),this._visibilityChanged=!0,nt}addGeometry(e,a=-1,d=-1){this._initializeGeometry(e),this._validateGeometry(e);const nt={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},o=this._geometryInfo;nt.vertexStart=this._nextVertexStart,nt.reservedVertexCount=a===-1?e.getAttribute("position").count:a;const ht=e.getIndex();if(ht!==null&&(nt.indexStart=this._nextIndexStart,nt.reservedIndexCount=d===-1?ht.count:d),nt.indexStart!==-1&&nt.indexStart+nt.reservedIndexCount>this._maxIndexCount||nt.vertexStart+nt.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let xt;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(ascIdSort),xt=this._availableGeometryIds.shift(),o[xt]=nt):(xt=this._geometryCount,this._geometryCount++,o.push(nt)),this.setGeometryAt(xt,e),this._nextIndexStart=nt.indexStart+nt.reservedIndexCount,this._nextVertexStart=nt.vertexStart+nt.reservedVertexCount,xt}setGeometryAt(e,a){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(a);const d=this.geometry,nt=d.getIndex()!==null,o=d.getIndex(),ht=a.getIndex(),vt=this._geometryInfo[e];if(nt&&ht.count>vt.reservedIndexCount||a.attributes.position.count>vt.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const xt=vt.vertexStart,St=vt.reservedVertexCount;vt.vertexCount=a.getAttribute("position").count;for(const Tt in d.attributes){const At=a.getAttribute(Tt),Ct=d.getAttribute(Tt);copyAttributeData(At,Ct,xt);const Rt=At.itemSize;for(let yt=At.count,Dt=St;yt<Dt;yt++){const Nt=xt+yt;for(let Lt=0;Lt<Rt;Lt++)Ct.setComponent(Nt,Lt,0)}Ct.needsUpdate=!0,Ct.addUpdateRange(xt*Rt,St*Rt)}if(nt){const Tt=vt.indexStart,At=vt.reservedIndexCount;vt.indexCount=a.getIndex().count;for(let Ct=0;Ct<ht.count;Ct++)o.setX(Tt+Ct,xt+ht.getX(Ct));for(let Ct=ht.count,Rt=At;Ct<Rt;Ct++)o.setX(Tt+Ct,xt);o.needsUpdate=!0,o.addUpdateRange(Tt,vt.reservedIndexCount)}return vt.start=nt?vt.indexStart:vt.vertexStart,vt.count=nt?vt.indexCount:vt.vertexCount,vt.boundingBox=null,a.boundingBox!==null&&(vt.boundingBox=a.boundingBox.clone()),vt.boundingSphere=null,a.boundingSphere!==null&&(vt.boundingSphere=a.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const a=this._geometryInfo;if(e>=a.length||a[e].active===!1)return this;const d=this._instanceInfo;for(let nt=0,o=d.length;nt<o;nt++)d[nt].active&&d[nt].geometryIndex===e&&this.deleteInstance(nt);return a[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,a=0;const d=this._geometryInfo,nt=d.map((ht,vt)=>vt).sort((ht,vt)=>d[ht].vertexStart-d[vt].vertexStart),o=this.geometry;for(let ht=0,vt=d.length;ht<vt;ht++){const xt=nt[ht],St=d[xt];if(St.active!==!1){if(o.index!==null){if(St.indexStart!==a){const{indexStart:Tt,vertexStart:At,reservedIndexCount:Ct}=St,Rt=o.index,yt=Rt.array,Dt=e-At;for(let Nt=Tt;Nt<Tt+Ct;Nt++)yt[Nt]=yt[Nt]+Dt;Rt.array.copyWithin(a,Tt,Tt+Ct),Rt.addUpdateRange(a,Ct),St.indexStart=a}a+=St.reservedIndexCount}if(St.vertexStart!==e){const{vertexStart:Tt,reservedVertexCount:At}=St,Ct=o.attributes;for(const Rt in Ct){const yt=Ct[Rt],{array:Dt,itemSize:Nt}=yt;Dt.copyWithin(e*Nt,Tt*Nt,(Tt+At)*Nt),yt.addUpdateRange(e*Nt,At*Nt)}St.vertexStart=e}e+=St.reservedVertexCount,St.start=o.index?St.indexStart:St.vertexStart,this._nextIndexStart=o.index?St.indexStart+St.reservedIndexCount:0,this._nextVertexStart=St.vertexStart+St.reservedVertexCount}}return this}getBoundingBoxAt(e,a){if(e>=this._geometryCount)return null;const d=this.geometry,nt=this._geometryInfo[e];if(nt.boundingBox===null){const o=new Box3,ht=d.index,vt=d.attributes.position;for(let xt=nt.start,St=nt.start+nt.count;xt<St;xt++){let Tt=xt;ht&&(Tt=ht.getX(Tt)),o.expandByPoint(_vector$5.fromBufferAttribute(vt,Tt))}nt.boundingBox=o}return a.copy(nt.boundingBox),a}getBoundingSphereAt(e,a){if(e>=this._geometryCount)return null;const d=this.geometry,nt=this._geometryInfo[e];if(nt.boundingSphere===null){const o=new Sphere;this.getBoundingBoxAt(e,_box$1),_box$1.getCenter(o.center);const ht=d.index,vt=d.attributes.position;let xt=0;for(let St=nt.start,Tt=nt.start+nt.count;St<Tt;St++){let At=St;ht&&(At=ht.getX(At)),_vector$5.fromBufferAttribute(vt,At),xt=Math.max(xt,o.center.distanceToSquared(_vector$5))}o.radius=Math.sqrt(xt),nt.boundingSphere=o}return a.copy(nt.boundingSphere),a}setMatrixAt(e,a){this.validateInstanceId(e);const d=this._matricesTexture,nt=this._matricesTexture.image.data;return a.toArray(nt,e*16),d.needsUpdate=!0,this}getMatrixAt(e,a){return this.validateInstanceId(e),a.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,a){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),a.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,a){return this.validateInstanceId(e),a.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,a){return this.validateInstanceId(e),this._instanceInfo[e].visible===a?this:(this._instanceInfo[e].visible=a,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,a){return this.validateInstanceId(e),this.validateGeometryId(a),this._instanceInfo[e].geometryIndex=a,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,a={}){this.validateGeometryId(e);const d=this._geometryInfo[e];return a.vertexStart=d.vertexStart,a.vertexCount=d.vertexCount,a.reservedVertexCount=d.reservedVertexCount,a.indexStart=d.indexStart,a.indexCount=d.indexCount,a.reservedIndexCount=d.reservedIndexCount,a.start=d.start,a.count=d.count,a}setInstanceCount(e){const a=this._availableInstanceIds,d=this._instanceInfo;for(a.sort(ascIdSort);a[a.length-1]===d.length;)d.pop(),a.pop();if(e<d.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const nt=new Int32Array(e),o=new Int32Array(e);copyArrayContents(this._multiDrawCounts,nt),copyArrayContents(this._multiDrawStarts,o),this._multiDrawCounts=nt,this._multiDrawStarts=o,this._maxInstanceCount=e;const ht=this._indirectTexture,vt=this._matricesTexture,xt=this._colorsTexture;ht.dispose(),this._initIndirectTexture(),copyArrayContents(ht.image.data,this._indirectTexture.image.data),vt.dispose(),this._initMatricesTexture(),copyArrayContents(vt.image.data,this._matricesTexture.image.data),xt&&(xt.dispose(),this._initColorsTexture(),copyArrayContents(xt.image.data,this._colorsTexture.image.data))}setGeometrySize(e,a){const d=[...this._geometryInfo].filter(vt=>vt.active);if(Math.max(...d.map(vt=>vt.vertexStart+vt.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${a}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...d.map(xt=>xt.indexStart+xt.reservedIndexCount))>a)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${a}. Cannot shrink further.`);const o=this.geometry;o.dispose(),this._maxVertexCount=e,this._maxIndexCount=a,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new BufferGeometry,this._initializeGeometry(o));const ht=this.geometry;o.index&&copyArrayContents(o.index.array,ht.index.array);for(const vt in o.attributes)copyArrayContents(o.attributes[vt].array,ht.attributes[vt].array)}raycast(e,a){const d=this._instanceInfo,nt=this._geometryInfo,o=this.matrixWorld,ht=this.geometry;_mesh.material=this.material,_mesh.geometry.index=ht.index,_mesh.geometry.attributes=ht.attributes,_mesh.geometry.boundingBox===null&&(_mesh.geometry.boundingBox=new Box3),_mesh.geometry.boundingSphere===null&&(_mesh.geometry.boundingSphere=new Sphere);for(let vt=0,xt=d.length;vt<xt;vt++){if(!d[vt].visible||!d[vt].active)continue;const St=d[vt].geometryIndex,Tt=nt[St];_mesh.geometry.setDrawRange(Tt.start,Tt.count),this.getMatrixAt(vt,_mesh.matrixWorld).premultiply(o),this.getBoundingBoxAt(St,_mesh.geometry.boundingBox),this.getBoundingSphereAt(St,_mesh.geometry.boundingSphere),_mesh.raycast(e,_batchIntersects);for(let At=0,Ct=_batchIntersects.length;At<Ct;At++){const Rt=_batchIntersects[At];Rt.object=this,Rt.batchId=vt,a.push(Rt)}_batchIntersects.length=0}_mesh.material=null,_mesh.geometry.index=null,_mesh.geometry.attributes={},_mesh.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(a=>({...a,boundingBox:a.boundingBox!==null?a.boundingBox.clone():null,boundingSphere:a.boundingSphere!==null?a.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(a=>({...a})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,a,d,nt,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const ht=nt.getIndex(),vt=ht===null?1:ht.array.BYTES_PER_ELEMENT,xt=this._instanceInfo,St=this._multiDrawStarts,Tt=this._multiDrawCounts,At=this._geometryInfo,Ct=this.perObjectFrustumCulled,Rt=this._indirectTexture,yt=Rt.image.data,Dt=d.isArrayCamera?_frustumArray:_frustum;Ct&&!d.isArrayCamera&&(_matrix$1.multiplyMatrices(d.projectionMatrix,d.matrixWorldInverse).multiply(this.matrixWorld),_frustum.setFromProjectionMatrix(_matrix$1,e.coordinateSystem));let Nt=0;if(this.sortObjects){_matrix$1.copy(this.matrixWorld).invert(),_vector$5.setFromMatrixPosition(d.matrixWorld).applyMatrix4(_matrix$1),_forward.set(0,0,-1).transformDirection(d.matrixWorld).transformDirection(_matrix$1);for(let Ft=0,Vt=xt.length;Ft<Vt;Ft++)if(xt[Ft].visible&&xt[Ft].active){const jt=xt[Ft].geometryIndex;this.getMatrixAt(Ft,_matrix$1),this.getBoundingSphereAt(jt,_sphere$2).applyMatrix4(_matrix$1);let $t=!1;if(Ct&&($t=!Dt.intersectsSphere(_sphere$2,d)),!$t){const Yt=At[jt],Kt=_temp.subVectors(_sphere$2.center,_vector$5).dot(_forward);_renderList.push(Yt.start,Yt.count,Kt,Ft)}}const Lt=_renderList.list,Ot=this.customSort;Ot===null?Lt.sort(o.transparent?sortTransparent:sortOpaque):Ot.call(this,Lt,d);for(let Ft=0,Vt=Lt.length;Ft<Vt;Ft++){const jt=Lt[Ft];St[Nt]=jt.start*vt,Tt[Nt]=jt.count,yt[Nt]=jt.index,Nt++}_renderList.reset()}else for(let Lt=0,Ot=xt.length;Lt<Ot;Lt++)if(xt[Lt].visible&&xt[Lt].active){const Ft=xt[Lt].geometryIndex;let Vt=!1;if(Ct&&(this.getMatrixAt(Lt,_matrix$1),this.getBoundingSphereAt(Ft,_sphere$2).applyMatrix4(_matrix$1),Vt=!Dt.intersectsSphere(_sphere$2,d)),!Vt){const jt=At[Ft];St[Nt]=jt.start*vt,Tt[Nt]=jt.count,yt[Nt]=Lt,Nt++}}Rt.needsUpdate=!0,this._multiDrawCount=Nt,this._visibilityChanged=!1}onBeforeShadow(e,a,d,nt,o,ht){this.onBeforeRender(e,null,nt,o,ht)}}class LineBasicMaterial extends Material{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const _vStart=new Vector3,_vEnd=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere,_intersectPointOnRay=new Vector3,_intersectPointOnSegment=new Vector3;class Line extends Object3D{constructor(e=new BufferGeometry,a=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=a,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,a){return super.copy(e,a),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const a=e.attributes.position,d=[0];for(let nt=1,o=a.count;nt<o;nt++)_vStart.fromBufferAttribute(a,nt-1),_vEnd.fromBufferAttribute(a,nt),d[nt]=d[nt-1],d[nt]+=_vStart.distanceTo(_vEnd);e.setAttribute("lineDistance",new Float32BufferAttribute(d,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,a){const d=this.geometry,nt=this.matrixWorld,o=e.params.Line.threshold,ht=d.drawRange;if(d.boundingSphere===null&&d.computeBoundingSphere(),_sphere$1.copy(d.boundingSphere),_sphere$1.applyMatrix4(nt),_sphere$1.radius+=o,e.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(nt).invert(),_ray$1.copy(e.ray).applyMatrix4(_inverseMatrix$1);const vt=o/((this.scale.x+this.scale.y+this.scale.z)/3),xt=vt*vt,St=this.isLineSegments?2:1,Tt=d.index,Ct=d.attributes.position;if(Tt!==null){const Rt=Math.max(0,ht.start),yt=Math.min(Tt.count,ht.start+ht.count);for(let Dt=Rt,Nt=yt-1;Dt<Nt;Dt+=St){const Lt=Tt.getX(Dt),Ot=Tt.getX(Dt+1),Ft=checkIntersection(this,e,_ray$1,xt,Lt,Ot,Dt);Ft&&a.push(Ft)}if(this.isLineLoop){const Dt=Tt.getX(yt-1),Nt=Tt.getX(Rt),Lt=checkIntersection(this,e,_ray$1,xt,Dt,Nt,yt-1);Lt&&a.push(Lt)}}else{const Rt=Math.max(0,ht.start),yt=Math.min(Ct.count,ht.start+ht.count);for(let Dt=Rt,Nt=yt-1;Dt<Nt;Dt+=St){const Lt=checkIntersection(this,e,_ray$1,xt,Dt,Dt+1,Dt);Lt&&a.push(Lt)}if(this.isLineLoop){const Dt=checkIntersection(this,e,_ray$1,xt,yt-1,Rt,yt-1);Dt&&a.push(Dt)}}}updateMorphTargets(){const a=this.geometry.morphAttributes,d=Object.keys(a);if(d.length>0){const nt=a[d[0]];if(nt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,ht=nt.length;o<ht;o++){const vt=nt[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[vt]=o}}}}}function checkIntersection(c,e,a,d,nt,o,ht){const vt=c.geometry.attributes.position;if(_vStart.fromBufferAttribute(vt,nt),_vEnd.fromBufferAttribute(vt,o),a.distanceSqToSegment(_vStart,_vEnd,_intersectPointOnRay,_intersectPointOnSegment)>d)return;_intersectPointOnRay.applyMatrix4(c.matrixWorld);const St=e.ray.origin.distanceTo(_intersectPointOnRay);if(!(St<e.near||St>e.far))return{distance:St,point:_intersectPointOnSegment.clone().applyMatrix4(c.matrixWorld),index:ht,face:null,faceIndex:null,barycoord:null,object:c}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(e,a){super(e,a),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const a=e.attributes.position,d=[];for(let nt=0,o=a.count;nt<o;nt+=2)_start.fromBufferAttribute(a,nt),_end.fromBufferAttribute(a,nt+1),d[nt]=nt===0?0:d[nt-1],d[nt+1]=d[nt]+_start.distanceTo(_end);e.setAttribute("lineDistance",new Float32BufferAttribute(d,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor(e,a){super(e,a),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const _inverseMatrix=new Matrix4,_ray$4=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(e=new BufferGeometry,a=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=a,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,a){return super.copy(e,a),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,a){const d=this.geometry,nt=this.matrixWorld,o=e.params.Points.threshold,ht=d.drawRange;if(d.boundingSphere===null&&d.computeBoundingSphere(),_sphere.copy(d.boundingSphere),_sphere.applyMatrix4(nt),_sphere.radius+=o,e.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(nt).invert(),_ray$4.copy(e.ray).applyMatrix4(_inverseMatrix);const vt=o/((this.scale.x+this.scale.y+this.scale.z)/3),xt=vt*vt,St=d.index,At=d.attributes.position;if(St!==null){const Ct=Math.max(0,ht.start),Rt=Math.min(St.count,ht.start+ht.count);for(let yt=Ct,Dt=Rt;yt<Dt;yt++){const Nt=St.getX(yt);_position$2.fromBufferAttribute(At,Nt),testPoint(_position$2,Nt,xt,nt,e,a,this)}}else{const Ct=Math.max(0,ht.start),Rt=Math.min(At.count,ht.start+ht.count);for(let yt=Ct,Dt=Rt;yt<Dt;yt++)_position$2.fromBufferAttribute(At,yt),testPoint(_position$2,yt,xt,nt,e,a,this)}}updateMorphTargets(){const a=this.geometry.morphAttributes,d=Object.keys(a);if(d.length>0){const nt=a[d[0]];if(nt!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,ht=nt.length;o<ht;o++){const vt=nt[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[vt]=o}}}}}function testPoint(c,e,a,d,nt,o,ht){const vt=_ray$4.distanceSqToPoint(c);if(vt<a){const xt=new Vector3;_ray$4.closestPointToPoint(c,xt),xt.applyMatrix4(d);const St=nt.ray.origin.distanceTo(xt);if(St<nt.near||St>nt.far)return;o.push({distance:St,distanceToRay:Math.sqrt(vt),point:xt,index:e,face:null,faceIndex:null,barycoord:null,object:ht})}}class VideoTexture extends Texture{constructor(e,a,d,nt,o=LinearFilter,ht=LinearFilter,vt,xt,St){super(e,a,d,nt,o,ht,vt,xt,St),this.isVideoTexture=!0,this.generateMipmaps=!1;const Tt=this;function At(){Tt.needsUpdate=!0,e.requestVideoFrameCallback(At)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(At)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class VideoFrameTexture extends VideoTexture{constructor(e,a,d,nt,o,ht,vt,xt){super({},e,a,d,nt,o,ht,vt,xt),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class FramebufferTexture extends Texture{constructor(e,a){super({width:e,height:a}),this.isFramebufferTexture=!0,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(e,a,d,nt,o,ht,vt,xt,St,Tt,At,Ct){super(null,ht,vt,xt,St,Tt,nt,o,At,Ct),this.isCompressedTexture=!0,this.image={width:a,height:d},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor(e,a,d,nt,o,ht){super(e,a,d,o,ht),this.isCompressedArrayTexture=!0,this.image.depth=nt,this.wrapR=ClampToEdgeWrapping,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class CompressedCubeTexture extends CompressedTexture{constructor(e,a,d){super(void 0,e[0].width,e[0].height,a,d,CubeReflectionMapping),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class CanvasTexture extends Texture{constructor(e,a,d,nt,o,ht,vt,xt,St){super(e,a,d,nt,o,ht,vt,xt,St),this.isCanvasTexture=!0,this.needsUpdate=!0}}class DepthTexture extends Texture{constructor(e,a,d=UnsignedIntType,nt,o,ht,vt=NearestFilter,xt=NearestFilter,St,Tt=DepthFormat){if(Tt!==DepthFormat&&Tt!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,nt,o,ht,vt,xt,Tt,d,St),this.isDepthTexture=!0,this.image={width:e,height:a},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Source(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const a=super.toJSON(e);return this.compareFunction!==null&&(a.compareFunction=this.compareFunction),a}}class DepthArrayTexture extends DepthTexture{constructor(e=1,a=1,d=1){super(e,a),this.isDepthArrayTexture=!0,this.image={width:e,height:a,depth:d},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class CapsuleGeometry extends BufferGeometry{constructor(e=1,a=1,d=4,nt=8,o=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:a,capSegments:d,radialSegments:nt,heightSegments:o},a=Math.max(0,a),d=Math.max(1,Math.floor(d)),nt=Math.max(3,Math.floor(nt)),o=Math.max(1,Math.floor(o));const ht=[],vt=[],xt=[],St=[],Tt=a/2,At=Math.PI/2*e,Ct=a,Rt=2*At+Ct,yt=d*2+o,Dt=nt+1,Nt=new Vector3,Lt=new Vector3;for(let Ot=0;Ot<=yt;Ot++){let Ft=0,Vt=0,jt=0,$t=0;if(Ot<=d){const qt=Ot/d,Wt=qt*Math.PI/2;Vt=-Tt-e*Math.cos(Wt),jt=e*Math.sin(Wt),$t=-e*Math.cos(Wt),Ft=qt*At}else if(Ot<=d+o){const qt=(Ot-d)/o;Vt=-Tt+qt*a,jt=e,$t=0,Ft=At+qt*Ct}else{const qt=(Ot-d-o)/d,Wt=qt*Math.PI/2;Vt=Tt+e*Math.sin(Wt),jt=e*Math.cos(Wt),$t=e*Math.sin(Wt),Ft=At+Ct+qt*At}const Yt=Math.max(0,Math.min(1,Ft/Rt));let Kt=0;Ot===0?Kt=.5/nt:Ot===yt&&(Kt=-.5/nt);for(let qt=0;qt<=nt;qt++){const Wt=qt/nt,Jt=Wt*Math.PI*2,cn=Math.sin(Jt),sn=Math.cos(Jt);Lt.x=-jt*sn,Lt.y=Vt,Lt.z=jt*cn,vt.push(Lt.x,Lt.y,Lt.z),Nt.set(-jt*sn,$t,jt*cn),Nt.normalize(),xt.push(Nt.x,Nt.y,Nt.z),St.push(Wt+Kt,Yt)}if(Ot>0){const qt=(Ot-1)*Dt;for(let Wt=0;Wt<nt;Wt++){const Jt=qt+Wt,cn=qt+Wt+1,sn=Ot*Dt+Wt,Tn=Ot*Dt+Wt+1;ht.push(Jt,cn,sn),ht.push(cn,Tn,sn)}}}this.setIndex(ht),this.setAttribute("position",new Float32BufferAttribute(vt,3)),this.setAttribute("normal",new Float32BufferAttribute(xt,3)),this.setAttribute("uv",new Float32BufferAttribute(St,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new CapsuleGeometry(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class CircleGeometry extends BufferGeometry{constructor(e=1,a=32,d=0,nt=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:a,thetaStart:d,thetaLength:nt},a=Math.max(3,a);const o=[],ht=[],vt=[],xt=[],St=new Vector3,Tt=new Vector2;ht.push(0,0,0),vt.push(0,0,1),xt.push(.5,.5);for(let At=0,Ct=3;At<=a;At++,Ct+=3){const Rt=d+At/a*nt;St.x=e*Math.cos(Rt),St.y=e*Math.sin(Rt),ht.push(St.x,St.y,St.z),vt.push(0,0,1),Tt.x=(ht[Ct]/e+1)/2,Tt.y=(ht[Ct+1]/e+1)/2,xt.push(Tt.x,Tt.y)}for(let At=1;At<=a;At++)o.push(At,At+1,0);this.setIndex(o),this.setAttribute("position",new Float32BufferAttribute(ht,3)),this.setAttribute("normal",new Float32BufferAttribute(vt,3)),this.setAttribute("uv",new Float32BufferAttribute(xt,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new CircleGeometry(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(e=1,a=1,d=1,nt=32,o=1,ht=!1,vt=0,xt=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:a,height:d,radialSegments:nt,heightSegments:o,openEnded:ht,thetaStart:vt,thetaLength:xt};const St=this;nt=Math.floor(nt),o=Math.floor(o);const Tt=[],At=[],Ct=[],Rt=[];let yt=0;const Dt=[],Nt=d/2;let Lt=0;Ot(),ht===!1&&(e>0&&Ft(!0),a>0&&Ft(!1)),this.setIndex(Tt),this.setAttribute("position",new Float32BufferAttribute(At,3)),this.setAttribute("normal",new Float32BufferAttribute(Ct,3)),this.setAttribute("uv",new Float32BufferAttribute(Rt,2));function Ot(){const Vt=new Vector3,jt=new Vector3;let $t=0;const Yt=(a-e)/d;for(let Kt=0;Kt<=o;Kt++){const qt=[],Wt=Kt/o,Jt=Wt*(a-e)+e;for(let cn=0;cn<=nt;cn++){const sn=cn/nt,Tn=sn*xt+vt,Cn=Math.sin(Tn),En=Math.cos(Tn);jt.x=Jt*Cn,jt.y=-Wt*d+Nt,jt.z=Jt*En,At.push(jt.x,jt.y,jt.z),Vt.set(Cn,Yt,En).normalize(),Ct.push(Vt.x,Vt.y,Vt.z),Rt.push(sn,1-Wt),qt.push(yt++)}Dt.push(qt)}for(let Kt=0;Kt<nt;Kt++)for(let qt=0;qt<o;qt++){const Wt=Dt[qt][Kt],Jt=Dt[qt+1][Kt],cn=Dt[qt+1][Kt+1],sn=Dt[qt][Kt+1];(e>0||qt!==0)&&(Tt.push(Wt,Jt,sn),$t+=3),(a>0||qt!==o-1)&&(Tt.push(Jt,cn,sn),$t+=3)}St.addGroup(Lt,$t,0),Lt+=$t}function Ft(Vt){const jt=yt,$t=new Vector2,Yt=new Vector3;let Kt=0;const qt=Vt===!0?e:a,Wt=Vt===!0?1:-1;for(let cn=1;cn<=nt;cn++)At.push(0,Nt*Wt,0),Ct.push(0,Wt,0),Rt.push(.5,.5),yt++;const Jt=yt;for(let cn=0;cn<=nt;cn++){const Tn=cn/nt*xt+vt,Cn=Math.cos(Tn),En=Math.sin(Tn);Yt.x=qt*En,Yt.y=Nt*Wt,Yt.z=qt*Cn,At.push(Yt.x,Yt.y,Yt.z),Ct.push(0,Wt,0),$t.x=Cn*.5+.5,$t.y=En*.5*Wt+.5,Rt.push($t.x,$t.y),yt++}for(let cn=0;cn<nt;cn++){const sn=jt+cn,Tn=Jt+cn;Vt===!0?Tt.push(Tn,Tn+1,sn):Tt.push(Tn+1,Tn,sn),Kt+=3}St.addGroup(Lt,Kt,Vt===!0?1:2),Lt+=Kt}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new CylinderGeometry(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(e=1,a=1,d=32,nt=1,o=!1,ht=0,vt=Math.PI*2){super(0,e,a,d,nt,o,ht,vt),this.type="ConeGeometry",this.parameters={radius:e,height:a,radialSegments:d,heightSegments:nt,openEnded:o,thetaStart:ht,thetaLength:vt}}static fromJSON(e){return new ConeGeometry(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(e=[],a=[],d=1,nt=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:a,radius:d,detail:nt};const o=[],ht=[];vt(nt),St(d),Tt(),this.setAttribute("position",new Float32BufferAttribute(o,3)),this.setAttribute("normal",new Float32BufferAttribute(o.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(ht,2)),nt===0?this.computeVertexNormals():this.normalizeNormals();function vt(Ot){const Ft=new Vector3,Vt=new Vector3,jt=new Vector3;for(let $t=0;$t<a.length;$t+=3)Rt(a[$t+0],Ft),Rt(a[$t+1],Vt),Rt(a[$t+2],jt),xt(Ft,Vt,jt,Ot)}function xt(Ot,Ft,Vt,jt){const $t=jt+1,Yt=[];for(let Kt=0;Kt<=$t;Kt++){Yt[Kt]=[];const qt=Ot.clone().lerp(Vt,Kt/$t),Wt=Ft.clone().lerp(Vt,Kt/$t),Jt=$t-Kt;for(let cn=0;cn<=Jt;cn++)cn===0&&Kt===$t?Yt[Kt][cn]=qt:Yt[Kt][cn]=qt.clone().lerp(Wt,cn/Jt)}for(let Kt=0;Kt<$t;Kt++)for(let qt=0;qt<2*($t-Kt)-1;qt++){const Wt=Math.floor(qt/2);qt%2===0?(Ct(Yt[Kt][Wt+1]),Ct(Yt[Kt+1][Wt]),Ct(Yt[Kt][Wt])):(Ct(Yt[Kt][Wt+1]),Ct(Yt[Kt+1][Wt+1]),Ct(Yt[Kt+1][Wt]))}}function St(Ot){const Ft=new Vector3;for(let Vt=0;Vt<o.length;Vt+=3)Ft.x=o[Vt+0],Ft.y=o[Vt+1],Ft.z=o[Vt+2],Ft.normalize().multiplyScalar(Ot),o[Vt+0]=Ft.x,o[Vt+1]=Ft.y,o[Vt+2]=Ft.z}function Tt(){const Ot=new Vector3;for(let Ft=0;Ft<o.length;Ft+=3){Ot.x=o[Ft+0],Ot.y=o[Ft+1],Ot.z=o[Ft+2];const Vt=Nt(Ot)/2/Math.PI+.5,jt=Lt(Ot)/Math.PI+.5;ht.push(Vt,1-jt)}yt(),At()}function At(){for(let Ot=0;Ot<ht.length;Ot+=6){const Ft=ht[Ot+0],Vt=ht[Ot+2],jt=ht[Ot+4],$t=Math.max(Ft,Vt,jt),Yt=Math.min(Ft,Vt,jt);$t>.9&&Yt<.1&&(Ft<.2&&(ht[Ot+0]+=1),Vt<.2&&(ht[Ot+2]+=1),jt<.2&&(ht[Ot+4]+=1))}}function Ct(Ot){o.push(Ot.x,Ot.y,Ot.z)}function Rt(Ot,Ft){const Vt=Ot*3;Ft.x=e[Vt+0],Ft.y=e[Vt+1],Ft.z=e[Vt+2]}function yt(){const Ot=new Vector3,Ft=new Vector3,Vt=new Vector3,jt=new Vector3,$t=new Vector2,Yt=new Vector2,Kt=new Vector2;for(let qt=0,Wt=0;qt<o.length;qt+=9,Wt+=6){Ot.set(o[qt+0],o[qt+1],o[qt+2]),Ft.set(o[qt+3],o[qt+4],o[qt+5]),Vt.set(o[qt+6],o[qt+7],o[qt+8]),$t.set(ht[Wt+0],ht[Wt+1]),Yt.set(ht[Wt+2],ht[Wt+3]),Kt.set(ht[Wt+4],ht[Wt+5]),jt.copy(Ot).add(Ft).add(Vt).divideScalar(3);const Jt=Nt(jt);Dt($t,Wt+0,Ot,Jt),Dt(Yt,Wt+2,Ft,Jt),Dt(Kt,Wt+4,Vt,Jt)}}function Dt(Ot,Ft,Vt,jt){jt<0&&Ot.x===1&&(ht[Ft]=Ot.x-1),Vt.x===0&&Vt.z===0&&(ht[Ft]=jt/2/Math.PI+.5)}function Nt(Ot){return Math.atan2(Ot.z,-Ot.x)}function Lt(Ot){return Math.atan2(-Ot.y,Math.sqrt(Ot.x*Ot.x+Ot.z*Ot.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new PolyhedronGeometry(e.vertices,e.indices,e.radius,e.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(e=1,a=0){const d=(1+Math.sqrt(5))/2,nt=1/d,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-nt,-d,0,-nt,d,0,nt,-d,0,nt,d,-nt,-d,0,-nt,d,0,nt,-d,0,nt,d,0,-d,0,-nt,d,0,-nt,-d,0,nt,d,0,nt],ht=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,ht,e,a),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:a}}static fromJSON(e){return new DodecahedronGeometry(e.radius,e.detail)}}const _v0$3=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(e=null,a=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:a},e!==null){const nt=Math.pow(10,4),o=Math.cos(DEG2RAD*a),ht=e.getIndex(),vt=e.getAttribute("position"),xt=ht?ht.count:vt.count,St=[0,0,0],Tt=["a","b","c"],At=new Array(3),Ct={},Rt=[];for(let yt=0;yt<xt;yt+=3){ht?(St[0]=ht.getX(yt),St[1]=ht.getX(yt+1),St[2]=ht.getX(yt+2)):(St[0]=yt,St[1]=yt+1,St[2]=yt+2);const{a:Dt,b:Nt,c:Lt}=_triangle;if(Dt.fromBufferAttribute(vt,St[0]),Nt.fromBufferAttribute(vt,St[1]),Lt.fromBufferAttribute(vt,St[2]),_triangle.getNormal(_normal),At[0]=`${Math.round(Dt.x*nt)},${Math.round(Dt.y*nt)},${Math.round(Dt.z*nt)}`,At[1]=`${Math.round(Nt.x*nt)},${Math.round(Nt.y*nt)},${Math.round(Nt.z*nt)}`,At[2]=`${Math.round(Lt.x*nt)},${Math.round(Lt.y*nt)},${Math.round(Lt.z*nt)}`,!(At[0]===At[1]||At[1]===At[2]||At[2]===At[0]))for(let Ot=0;Ot<3;Ot++){const Ft=(Ot+1)%3,Vt=At[Ot],jt=At[Ft],$t=_triangle[Tt[Ot]],Yt=_triangle[Tt[Ft]],Kt=`${Vt}_${jt}`,qt=`${jt}_${Vt}`;qt in Ct&&Ct[qt]?(_normal.dot(Ct[qt].normal)<=o&&(Rt.push($t.x,$t.y,$t.z),Rt.push(Yt.x,Yt.y,Yt.z)),Ct[qt]=null):Kt in Ct||(Ct[Kt]={index0:St[Ot],index1:St[Ft],normal:_normal.clone()})}}for(const yt in Ct)if(Ct[yt]){const{index0:Dt,index1:Nt}=Ct[yt];_v0$3.fromBufferAttribute(vt,Dt),_v1$1.fromBufferAttribute(vt,Nt),Rt.push(_v0$3.x,_v0$3.y,_v0$3.z),Rt.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(Rt,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,a){const d=this.getUtoTmapping(e);return this.getPoint(d,a)}getPoints(e=5){const a=[];for(let d=0;d<=e;d++)a.push(this.getPoint(d/e));return a}getSpacedPoints(e=5){const a=[];for(let d=0;d<=e;d++)a.push(this.getPointAt(d/e));return a}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const a=[];let d,nt=this.getPoint(0),o=0;a.push(0);for(let ht=1;ht<=e;ht++)d=this.getPoint(ht/e),o+=d.distanceTo(nt),a.push(o),nt=d;return this.cacheArcLengths=a,a}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,a=null){const d=this.getLengths();let nt=0;const o=d.length;let ht;a?ht=a:ht=e*d[o-1];let vt=0,xt=o-1,St;for(;vt<=xt;)if(nt=Math.floor(vt+(xt-vt)/2),St=d[nt]-ht,St<0)vt=nt+1;else if(St>0)xt=nt-1;else{xt=nt;break}if(nt=xt,d[nt]===ht)return nt/(o-1);const Tt=d[nt],Ct=d[nt+1]-Tt,Rt=(ht-Tt)/Ct;return(nt+Rt)/(o-1)}getTangent(e,a){let nt=e-1e-4,o=e+1e-4;nt<0&&(nt=0),o>1&&(o=1);const ht=this.getPoint(nt),vt=this.getPoint(o),xt=a||(ht.isVector2?new Vector2:new Vector3);return xt.copy(vt).sub(ht).normalize(),xt}getTangentAt(e,a){const d=this.getUtoTmapping(e);return this.getTangent(d,a)}computeFrenetFrames(e,a=!1){const d=new Vector3,nt=[],o=[],ht=[],vt=new Vector3,xt=new Matrix4;for(let Rt=0;Rt<=e;Rt++){const yt=Rt/e;nt[Rt]=this.getTangentAt(yt,new Vector3)}o[0]=new Vector3,ht[0]=new Vector3;let St=Number.MAX_VALUE;const Tt=Math.abs(nt[0].x),At=Math.abs(nt[0].y),Ct=Math.abs(nt[0].z);Tt<=St&&(St=Tt,d.set(1,0,0)),At<=St&&(St=At,d.set(0,1,0)),Ct<=St&&d.set(0,0,1),vt.crossVectors(nt[0],d).normalize(),o[0].crossVectors(nt[0],vt),ht[0].crossVectors(nt[0],o[0]);for(let Rt=1;Rt<=e;Rt++){if(o[Rt]=o[Rt-1].clone(),ht[Rt]=ht[Rt-1].clone(),vt.crossVectors(nt[Rt-1],nt[Rt]),vt.length()>Number.EPSILON){vt.normalize();const yt=Math.acos(clamp(nt[Rt-1].dot(nt[Rt]),-1,1));o[Rt].applyMatrix4(xt.makeRotationAxis(vt,yt))}ht[Rt].crossVectors(nt[Rt],o[Rt])}if(a===!0){let Rt=Math.acos(clamp(o[0].dot(o[e]),-1,1));Rt/=e,nt[0].dot(vt.crossVectors(o[0],o[e]))>0&&(Rt=-Rt);for(let yt=1;yt<=e;yt++)o[yt].applyMatrix4(xt.makeRotationAxis(nt[yt],Rt*yt)),ht[yt].crossVectors(nt[yt],o[yt])}return{tangents:nt,normals:o,binormals:ht}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(e=0,a=0,d=1,nt=1,o=0,ht=Math.PI*2,vt=!1,xt=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=a,this.xRadius=d,this.yRadius=nt,this.aStartAngle=o,this.aEndAngle=ht,this.aClockwise=vt,this.aRotation=xt}getPoint(e,a=new Vector2){const d=a,nt=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const ht=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=nt;for(;o>nt;)o-=nt;o<Number.EPSILON&&(ht?o=0:o=nt),this.aClockwise===!0&&!ht&&(o===nt?o=-nt:o=o-nt);const vt=this.aStartAngle+e*o;let xt=this.aX+this.xRadius*Math.cos(vt),St=this.aY+this.yRadius*Math.sin(vt);if(this.aRotation!==0){const Tt=Math.cos(this.aRotation),At=Math.sin(this.aRotation),Ct=xt-this.aX,Rt=St-this.aY;xt=Ct*Tt-Rt*At+this.aX,St=Ct*At+Rt*Tt+this.aY}return d.set(xt,St)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(e,a,d,nt,o,ht){super(e,a,d,d,nt,o,ht),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let c=0,e=0,a=0,d=0;function nt(o,ht,vt,xt){c=o,e=vt,a=-3*o+3*ht-2*vt-xt,d=2*o-2*ht+vt+xt}return{initCatmullRom:function(o,ht,vt,xt,St){nt(ht,vt,St*(vt-o),St*(xt-ht))},initNonuniformCatmullRom:function(o,ht,vt,xt,St,Tt,At){let Ct=(ht-o)/St-(vt-o)/(St+Tt)+(vt-ht)/Tt,Rt=(vt-ht)/Tt-(xt-ht)/(Tt+At)+(xt-vt)/At;Ct*=Tt,Rt*=Tt,nt(ht,vt,Ct,Rt)},calc:function(o){const ht=o*o,vt=ht*o;return c+e*o+a*ht+d*vt}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(e=[],a=!1,d="centripetal",nt=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=a,this.curveType=d,this.tension=nt}getPoint(e,a=new Vector3){const d=a,nt=this.points,o=nt.length,ht=(o-(this.closed?0:1))*e;let vt=Math.floor(ht),xt=ht-vt;this.closed?vt+=vt>0?0:(Math.floor(Math.abs(vt)/o)+1)*o:xt===0&&vt===o-1&&(vt=o-2,xt=1);let St,Tt;this.closed||vt>0?St=nt[(vt-1)%o]:(tmp.subVectors(nt[0],nt[1]).add(nt[0]),St=tmp);const At=nt[vt%o],Ct=nt[(vt+1)%o];if(this.closed||vt+2<o?Tt=nt[(vt+2)%o]:(tmp.subVectors(nt[o-1],nt[o-2]).add(nt[o-1]),Tt=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const Rt=this.curveType==="chordal"?.5:.25;let yt=Math.pow(St.distanceToSquared(At),Rt),Dt=Math.pow(At.distanceToSquared(Ct),Rt),Nt=Math.pow(Ct.distanceToSquared(Tt),Rt);Dt<1e-4&&(Dt=1),yt<1e-4&&(yt=Dt),Nt<1e-4&&(Nt=Dt),px.initNonuniformCatmullRom(St.x,At.x,Ct.x,Tt.x,yt,Dt,Nt),py.initNonuniformCatmullRom(St.y,At.y,Ct.y,Tt.y,yt,Dt,Nt),pz.initNonuniformCatmullRom(St.z,At.z,Ct.z,Tt.z,yt,Dt,Nt)}else this.curveType==="catmullrom"&&(px.initCatmullRom(St.x,At.x,Ct.x,Tt.x,this.tension),py.initCatmullRom(St.y,At.y,Ct.y,Tt.y,this.tension),pz.initCatmullRom(St.z,At.z,Ct.z,Tt.z,this.tension));return d.set(px.calc(xt),py.calc(xt),pz.calc(xt)),d}copy(e){super.copy(e),this.points=[];for(let a=0,d=e.points.length;a<d;a++){const nt=e.points[a];this.points.push(nt.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let a=0,d=this.points.length;a<d;a++){const nt=this.points[a];e.points.push(nt.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let a=0,d=e.points.length;a<d;a++){const nt=e.points[a];this.points.push(new Vector3().fromArray(nt))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function CatmullRom(c,e,a,d,nt){const o=(d-e)*.5,ht=(nt-a)*.5,vt=c*c,xt=c*vt;return(2*a-2*d+o+ht)*xt+(-3*a+3*d-2*o-ht)*vt+o*c+a}function QuadraticBezierP0(c,e){const a=1-c;return a*a*e}function QuadraticBezierP1(c,e){return 2*(1-c)*c*e}function QuadraticBezierP2(c,e){return c*c*e}function QuadraticBezier(c,e,a,d){return QuadraticBezierP0(c,e)+QuadraticBezierP1(c,a)+QuadraticBezierP2(c,d)}function CubicBezierP0(c,e){const a=1-c;return a*a*a*e}function CubicBezierP1(c,e){const a=1-c;return 3*a*a*c*e}function CubicBezierP2(c,e){return 3*(1-c)*c*c*e}function CubicBezierP3(c,e){return c*c*c*e}function CubicBezier(c,e,a,d,nt){return CubicBezierP0(c,e)+CubicBezierP1(c,a)+CubicBezierP2(c,d)+CubicBezierP3(c,nt)}class CubicBezierCurve extends Curve{constructor(e=new Vector2,a=new Vector2,d=new Vector2,nt=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=a,this.v2=d,this.v3=nt}getPoint(e,a=new Vector2){const d=a,nt=this.v0,o=this.v1,ht=this.v2,vt=this.v3;return d.set(CubicBezier(e,nt.x,o.x,ht.x,vt.x),CubicBezier(e,nt.y,o.y,ht.y,vt.y)),d}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class CubicBezierCurve3 extends Curve{constructor(e=new Vector3,a=new Vector3,d=new Vector3,nt=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=a,this.v2=d,this.v3=nt}getPoint(e,a=new Vector3){const d=a,nt=this.v0,o=this.v1,ht=this.v2,vt=this.v3;return d.set(CubicBezier(e,nt.x,o.x,ht.x,vt.x),CubicBezier(e,nt.y,o.y,ht.y,vt.y),CubicBezier(e,nt.z,o.z,ht.z,vt.z)),d}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class LineCurve extends Curve{constructor(e=new Vector2,a=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=a}getPoint(e,a=new Vector2){const d=a;return e===1?d.copy(this.v2):(d.copy(this.v2).sub(this.v1),d.multiplyScalar(e).add(this.v1)),d}getPointAt(e,a){return this.getPoint(e,a)}getTangent(e,a=new Vector2){return a.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,a){return this.getTangent(e,a)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class LineCurve3 extends Curve{constructor(e=new Vector3,a=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=a}getPoint(e,a=new Vector3){const d=a;return e===1?d.copy(this.v2):(d.copy(this.v2).sub(this.v1),d.multiplyScalar(e).add(this.v1)),d}getPointAt(e,a){return this.getPoint(e,a)}getTangent(e,a=new Vector3){return a.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,a){return this.getTangent(e,a)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QuadraticBezierCurve extends Curve{constructor(e=new Vector2,a=new Vector2,d=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=a,this.v2=d}getPoint(e,a=new Vector2){const d=a,nt=this.v0,o=this.v1,ht=this.v2;return d.set(QuadraticBezier(e,nt.x,o.x,ht.x),QuadraticBezier(e,nt.y,o.y,ht.y)),d}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor(e=new Vector3,a=new Vector3,d=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=a,this.v2=d}getPoint(e,a=new Vector3){const d=a,nt=this.v0,o=this.v1,ht=this.v2;return d.set(QuadraticBezier(e,nt.x,o.x,ht.x),QuadraticBezier(e,nt.y,o.y,ht.y),QuadraticBezier(e,nt.z,o.z,ht.z)),d}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class SplineCurve extends Curve{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,a=new Vector2){const d=a,nt=this.points,o=(nt.length-1)*e,ht=Math.floor(o),vt=o-ht,xt=nt[ht===0?ht:ht-1],St=nt[ht],Tt=nt[ht>nt.length-2?nt.length-1:ht+1],At=nt[ht>nt.length-3?nt.length-1:ht+2];return d.set(CatmullRom(vt,xt.x,St.x,Tt.x,At.x),CatmullRom(vt,xt.y,St.y,Tt.y,At.y)),d}copy(e){super.copy(e),this.points=[];for(let a=0,d=e.points.length;a<d;a++){const nt=e.points[a];this.points.push(nt.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let a=0,d=this.points.length;a<d;a++){const nt=this.points[a];e.points.push(nt.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let a=0,d=e.points.length;a<d;a++){const nt=e.points[a];this.points.push(new Vector2().fromArray(nt))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),a=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(a)){const d=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Curves[d](a,e))}return this}getPoint(e,a){const d=e*this.getLength(),nt=this.getCurveLengths();let o=0;for(;o<nt.length;){if(nt[o]>=d){const ht=nt[o]-d,vt=this.curves[o],xt=vt.getLength(),St=xt===0?0:1-ht/xt;return vt.getPointAt(St,a)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let a=0;for(let d=0,nt=this.curves.length;d<nt;d++)a+=this.curves[d].getLength(),e.push(a);return this.cacheLengths=e,e}getSpacedPoints(e=40){const a=[];for(let d=0;d<=e;d++)a.push(this.getPoint(d/e));return this.autoClose&&a.push(a[0]),a}getPoints(e=12){const a=[];let d;for(let nt=0,o=this.curves;nt<o.length;nt++){const ht=o[nt],vt=ht.isEllipseCurve?e*2:ht.isLineCurve||ht.isLineCurve3?1:ht.isSplineCurve?e*ht.points.length:e,xt=ht.getPoints(vt);for(let St=0;St<xt.length;St++){const Tt=xt[St];d&&d.equals(Tt)||(a.push(Tt),d=Tt)}}return this.autoClose&&a.length>1&&!a[a.length-1].equals(a[0])&&a.push(a[0]),a}copy(e){super.copy(e),this.curves=[];for(let a=0,d=e.curves.length;a<d;a++){const nt=e.curves[a];this.curves.push(nt.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let a=0,d=this.curves.length;a<d;a++){const nt=this.curves[a];e.curves.push(nt.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let a=0,d=e.curves.length;a<d;a++){const nt=e.curves[a];this.curves.push(new Curves[nt.type]().fromJSON(nt))}return this}}class Path extends CurvePath{constructor(e){super(),this.type="Path",this.currentPoint=new Vector2,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let a=1,d=e.length;a<d;a++)this.lineTo(e[a].x,e[a].y);return this}moveTo(e,a){return this.currentPoint.set(e,a),this}lineTo(e,a){const d=new LineCurve(this.currentPoint.clone(),new Vector2(e,a));return this.curves.push(d),this.currentPoint.set(e,a),this}quadraticCurveTo(e,a,d,nt){const o=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(e,a),new Vector2(d,nt));return this.curves.push(o),this.currentPoint.set(d,nt),this}bezierCurveTo(e,a,d,nt,o,ht){const vt=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(e,a),new Vector2(d,nt),new Vector2(o,ht));return this.curves.push(vt),this.currentPoint.set(o,ht),this}splineThru(e){const a=[this.currentPoint.clone()].concat(e),d=new SplineCurve(a);return this.curves.push(d),this.currentPoint.copy(e[e.length-1]),this}arc(e,a,d,nt,o,ht){const vt=this.currentPoint.x,xt=this.currentPoint.y;return this.absarc(e+vt,a+xt,d,nt,o,ht),this}absarc(e,a,d,nt,o,ht){return this.absellipse(e,a,d,d,nt,o,ht),this}ellipse(e,a,d,nt,o,ht,vt,xt){const St=this.currentPoint.x,Tt=this.currentPoint.y;return this.absellipse(e+St,a+Tt,d,nt,o,ht,vt,xt),this}absellipse(e,a,d,nt,o,ht,vt,xt){const St=new EllipseCurve(e,a,d,nt,o,ht,vt,xt);if(this.curves.length>0){const At=St.getPoint(0);At.equals(this.currentPoint)||this.lineTo(At.x,At.y)}this.curves.push(St);const Tt=St.getPoint(1);return this.currentPoint.copy(Tt),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Shape extends Path{constructor(e){super(e),this.uuid=generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles(e){const a=[];for(let d=0,nt=this.holes.length;d<nt;d++)a[d]=this.holes[d].getPoints(e);return a}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let a=0,d=e.holes.length;a<d;a++){const nt=e.holes[a];this.holes.push(nt.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let a=0,d=this.holes.length;a<d;a++){const nt=this.holes[a];e.holes.push(nt.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let a=0,d=e.holes.length;a<d;a++){const nt=e.holes[a];this.holes.push(new Path().fromJSON(nt))}return this}}function earcut(c,e,a=2){const d=e&&e.length,nt=d?e[0]*a:c.length;let o=linkedList(c,0,nt,a,!0);const ht=[];if(!o||o.next===o.prev)return ht;let vt,xt,St;if(d&&(o=eliminateHoles(c,e,o,a)),c.length>80*a){vt=1/0,xt=1/0;let Tt=-1/0,At=-1/0;for(let Ct=a;Ct<nt;Ct+=a){const Rt=c[Ct],yt=c[Ct+1];Rt<vt&&(vt=Rt),yt<xt&&(xt=yt),Rt>Tt&&(Tt=Rt),yt>At&&(At=yt)}St=Math.max(Tt-vt,At-xt),St=St!==0?32767/St:0}return earcutLinked(o,ht,a,vt,xt,St,0),ht}function linkedList(c,e,a,d,nt){let o;if(nt===signedArea(c,e,a,d)>0)for(let ht=e;ht<a;ht+=d)o=insertNode(ht/d|0,c[ht],c[ht+1],o);else for(let ht=a-d;ht>=e;ht-=d)o=insertNode(ht/d|0,c[ht],c[ht+1],o);return o&&equals(o,o.next)&&(removeNode(o),o=o.next),o}function filterPoints(c,e){if(!c)return c;e||(e=c);let a=c,d;do if(d=!1,!a.steiner&&(equals(a,a.next)||area(a.prev,a,a.next)===0)){if(removeNode(a),a=e=a.prev,a===a.next)break;d=!0}else a=a.next;while(d||a!==e);return e}function earcutLinked(c,e,a,d,nt,o,ht){if(!c)return;!ht&&o&&indexCurve(c,d,nt,o);let vt=c;for(;c.prev!==c.next;){const xt=c.prev,St=c.next;if(o?isEarHashed(c,d,nt,o):isEar(c)){e.push(xt.i,c.i,St.i),removeNode(c),c=St.next,vt=St.next;continue}if(c=St,c===vt){ht?ht===1?(c=cureLocalIntersections(filterPoints(c),e),earcutLinked(c,e,a,d,nt,o,2)):ht===2&&splitEarcut(c,e,a,d,nt,o):earcutLinked(filterPoints(c),e,a,d,nt,o,1);break}}}function isEar(c){const e=c.prev,a=c,d=c.next;if(area(e,a,d)>=0)return!1;const nt=e.x,o=a.x,ht=d.x,vt=e.y,xt=a.y,St=d.y,Tt=Math.min(nt,o,ht),At=Math.min(vt,xt,St),Ct=Math.max(nt,o,ht),Rt=Math.max(vt,xt,St);let yt=d.next;for(;yt!==e;){if(yt.x>=Tt&&yt.x<=Ct&&yt.y>=At&&yt.y<=Rt&&pointInTriangleExceptFirst(nt,vt,o,xt,ht,St,yt.x,yt.y)&&area(yt.prev,yt,yt.next)>=0)return!1;yt=yt.next}return!0}function isEarHashed(c,e,a,d){const nt=c.prev,o=c,ht=c.next;if(area(nt,o,ht)>=0)return!1;const vt=nt.x,xt=o.x,St=ht.x,Tt=nt.y,At=o.y,Ct=ht.y,Rt=Math.min(vt,xt,St),yt=Math.min(Tt,At,Ct),Dt=Math.max(vt,xt,St),Nt=Math.max(Tt,At,Ct),Lt=zOrder(Rt,yt,e,a,d),Ot=zOrder(Dt,Nt,e,a,d);let Ft=c.prevZ,Vt=c.nextZ;for(;Ft&&Ft.z>=Lt&&Vt&&Vt.z<=Ot;){if(Ft.x>=Rt&&Ft.x<=Dt&&Ft.y>=yt&&Ft.y<=Nt&&Ft!==nt&&Ft!==ht&&pointInTriangleExceptFirst(vt,Tt,xt,At,St,Ct,Ft.x,Ft.y)&&area(Ft.prev,Ft,Ft.next)>=0||(Ft=Ft.prevZ,Vt.x>=Rt&&Vt.x<=Dt&&Vt.y>=yt&&Vt.y<=Nt&&Vt!==nt&&Vt!==ht&&pointInTriangleExceptFirst(vt,Tt,xt,At,St,Ct,Vt.x,Vt.y)&&area(Vt.prev,Vt,Vt.next)>=0))return!1;Vt=Vt.nextZ}for(;Ft&&Ft.z>=Lt;){if(Ft.x>=Rt&&Ft.x<=Dt&&Ft.y>=yt&&Ft.y<=Nt&&Ft!==nt&&Ft!==ht&&pointInTriangleExceptFirst(vt,Tt,xt,At,St,Ct,Ft.x,Ft.y)&&area(Ft.prev,Ft,Ft.next)>=0)return!1;Ft=Ft.prevZ}for(;Vt&&Vt.z<=Ot;){if(Vt.x>=Rt&&Vt.x<=Dt&&Vt.y>=yt&&Vt.y<=Nt&&Vt!==nt&&Vt!==ht&&pointInTriangleExceptFirst(vt,Tt,xt,At,St,Ct,Vt.x,Vt.y)&&area(Vt.prev,Vt,Vt.next)>=0)return!1;Vt=Vt.nextZ}return!0}function cureLocalIntersections(c,e){let a=c;do{const d=a.prev,nt=a.next.next;!equals(d,nt)&&intersects(d,a,a.next,nt)&&locallyInside(d,nt)&&locallyInside(nt,d)&&(e.push(d.i,a.i,nt.i),removeNode(a),removeNode(a.next),a=c=nt),a=a.next}while(a!==c);return filterPoints(a)}function splitEarcut(c,e,a,d,nt,o){let ht=c;do{let vt=ht.next.next;for(;vt!==ht.prev;){if(ht.i!==vt.i&&isValidDiagonal(ht,vt)){let xt=splitPolygon(ht,vt);ht=filterPoints(ht,ht.next),xt=filterPoints(xt,xt.next),earcutLinked(ht,e,a,d,nt,o,0),earcutLinked(xt,e,a,d,nt,o,0);return}vt=vt.next}ht=ht.next}while(ht!==c)}function eliminateHoles(c,e,a,d){const nt=[];for(let o=0,ht=e.length;o<ht;o++){const vt=e[o]*d,xt=o<ht-1?e[o+1]*d:c.length,St=linkedList(c,vt,xt,d,!1);St===St.next&&(St.steiner=!0),nt.push(getLeftmost(St))}nt.sort(compareXYSlope);for(let o=0;o<nt.length;o++)a=eliminateHole(nt[o],a);return a}function compareXYSlope(c,e){let a=c.x-e.x;if(a===0&&(a=c.y-e.y,a===0)){const d=(c.next.y-c.y)/(c.next.x-c.x),nt=(e.next.y-e.y)/(e.next.x-e.x);a=d-nt}return a}function eliminateHole(c,e){const a=findHoleBridge(c,e);if(!a)return e;const d=splitPolygon(a,c);return filterPoints(d,d.next),filterPoints(a,a.next)}function findHoleBridge(c,e){let a=e;const d=c.x,nt=c.y;let o=-1/0,ht;if(equals(c,a))return a;do{if(equals(c,a.next))return a.next;if(nt<=a.y&&nt>=a.next.y&&a.next.y!==a.y){const At=a.x+(nt-a.y)*(a.next.x-a.x)/(a.next.y-a.y);if(At<=d&&At>o&&(o=At,ht=a.x<a.next.x?a:a.next,At===d))return ht}a=a.next}while(a!==e);if(!ht)return null;const vt=ht,xt=ht.x,St=ht.y;let Tt=1/0;a=ht;do{if(d>=a.x&&a.x>=xt&&d!==a.x&&pointInTriangle(nt<St?d:o,nt,xt,St,nt<St?o:d,nt,a.x,a.y)){const At=Math.abs(nt-a.y)/(d-a.x);locallyInside(a,c)&&(At<Tt||At===Tt&&(a.x>ht.x||a.x===ht.x&&sectorContainsSector(ht,a)))&&(ht=a,Tt=At)}a=a.next}while(a!==vt);return ht}function sectorContainsSector(c,e){return area(c.prev,c,e.prev)<0&&area(e.next,c,c.next)<0}function indexCurve(c,e,a,d){let nt=c;do nt.z===0&&(nt.z=zOrder(nt.x,nt.y,e,a,d)),nt.prevZ=nt.prev,nt.nextZ=nt.next,nt=nt.next;while(nt!==c);nt.prevZ.nextZ=null,nt.prevZ=null,sortLinked(nt)}function sortLinked(c){let e,a=1;do{let d=c,nt;c=null;let o=null;for(e=0;d;){e++;let ht=d,vt=0;for(let St=0;St<a&&(vt++,ht=ht.nextZ,!!ht);St++);let xt=a;for(;vt>0||xt>0&&ht;)vt!==0&&(xt===0||!ht||d.z<=ht.z)?(nt=d,d=d.nextZ,vt--):(nt=ht,ht=ht.nextZ,xt--),o?o.nextZ=nt:c=nt,nt.prevZ=o,o=nt;d=ht}o.nextZ=null,a*=2}while(e>1);return c}function zOrder(c,e,a,d,nt){return c=(c-a)*nt|0,e=(e-d)*nt|0,c=(c|c<<8)&16711935,c=(c|c<<4)&252645135,c=(c|c<<2)&858993459,c=(c|c<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,c|e<<1}function getLeftmost(c){let e=c,a=c;do(e.x<a.x||e.x===a.x&&e.y<a.y)&&(a=e),e=e.next;while(e!==c);return a}function pointInTriangle(c,e,a,d,nt,o,ht,vt){return(nt-ht)*(e-vt)>=(c-ht)*(o-vt)&&(c-ht)*(d-vt)>=(a-ht)*(e-vt)&&(a-ht)*(o-vt)>=(nt-ht)*(d-vt)}function pointInTriangleExceptFirst(c,e,a,d,nt,o,ht,vt){return!(c===ht&&e===vt)&&pointInTriangle(c,e,a,d,nt,o,ht,vt)}function isValidDiagonal(c,e){return c.next.i!==e.i&&c.prev.i!==e.i&&!intersectsPolygon(c,e)&&(locallyInside(c,e)&&locallyInside(e,c)&&middleInside(c,e)&&(area(c.prev,c,e.prev)||area(c,e.prev,e))||equals(c,e)&&area(c.prev,c,c.next)>0&&area(e.prev,e,e.next)>0)}function area(c,e,a){return(e.y-c.y)*(a.x-e.x)-(e.x-c.x)*(a.y-e.y)}function equals(c,e){return c.x===e.x&&c.y===e.y}function intersects(c,e,a,d){const nt=sign(area(c,e,a)),o=sign(area(c,e,d)),ht=sign(area(a,d,c)),vt=sign(area(a,d,e));return!!(nt!==o&&ht!==vt||nt===0&&onSegment(c,a,e)||o===0&&onSegment(c,d,e)||ht===0&&onSegment(a,c,d)||vt===0&&onSegment(a,e,d))}function onSegment(c,e,a){return e.x<=Math.max(c.x,a.x)&&e.x>=Math.min(c.x,a.x)&&e.y<=Math.max(c.y,a.y)&&e.y>=Math.min(c.y,a.y)}function sign(c){return c>0?1:c<0?-1:0}function intersectsPolygon(c,e){let a=c;do{if(a.i!==c.i&&a.next.i!==c.i&&a.i!==e.i&&a.next.i!==e.i&&intersects(a,a.next,c,e))return!0;a=a.next}while(a!==c);return!1}function locallyInside(c,e){return area(c.prev,c,c.next)<0?area(c,e,c.next)>=0&&area(c,c.prev,e)>=0:area(c,e,c.prev)<0||area(c,c.next,e)<0}function middleInside(c,e){let a=c,d=!1;const nt=(c.x+e.x)/2,o=(c.y+e.y)/2;do a.y>o!=a.next.y>o&&a.next.y!==a.y&&nt<(a.next.x-a.x)*(o-a.y)/(a.next.y-a.y)+a.x&&(d=!d),a=a.next;while(a!==c);return d}function splitPolygon(c,e){const a=createNode(c.i,c.x,c.y),d=createNode(e.i,e.x,e.y),nt=c.next,o=e.prev;return c.next=e,e.prev=c,a.next=nt,nt.prev=a,d.next=a,a.prev=d,o.next=d,d.prev=o,d}function insertNode(c,e,a,d){const nt=createNode(c,e,a);return d?(nt.next=d.next,nt.prev=d,d.next.prev=nt,d.next=nt):(nt.prev=nt,nt.next=nt),nt}function removeNode(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function createNode(c,e,a){return{i:c,x:e,y:a,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function signedArea(c,e,a,d){let nt=0;for(let o=e,ht=a-d;o<a;o+=d)nt+=(c[ht]-c[o])*(c[o+1]+c[ht+1]),ht=o;return nt}class Earcut{static triangulate(e,a,d=2){return earcut(e,a,d)}}class ShapeUtils{static area(e){const a=e.length;let d=0;for(let nt=a-1,o=0;o<a;nt=o++)d+=e[nt].x*e[o].y-e[o].x*e[nt].y;return d*.5}static isClockWise(e){return ShapeUtils.area(e)<0}static triangulateShape(e,a){const d=[],nt=[],o=[];removeDupEndPts(e),addContour(d,e);let ht=e.length;a.forEach(removeDupEndPts);for(let xt=0;xt<a.length;xt++)nt.push(ht),ht+=a[xt].length,addContour(d,a[xt]);const vt=Earcut.triangulate(d,nt);for(let xt=0;xt<vt.length;xt+=3)o.push(vt.slice(xt,xt+3));return o}}function removeDupEndPts(c){const e=c.length;e>2&&c[e-1].equals(c[0])&&c.pop()}function addContour(c,e){for(let a=0;a<e.length;a++)c.push(e[a].x),c.push(e[a].y)}class ExtrudeGeometry extends BufferGeometry{constructor(e=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),a={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:a},e=Array.isArray(e)?e:[e];const d=this,nt=[],o=[];for(let vt=0,xt=e.length;vt<xt;vt++){const St=e[vt];ht(St)}this.setAttribute("position",new Float32BufferAttribute(nt,3)),this.setAttribute("uv",new Float32BufferAttribute(o,2)),this.computeVertexNormals();function ht(vt){const xt=[],St=a.curveSegments!==void 0?a.curveSegments:12,Tt=a.steps!==void 0?a.steps:1,At=a.depth!==void 0?a.depth:1;let Ct=a.bevelEnabled!==void 0?a.bevelEnabled:!0,Rt=a.bevelThickness!==void 0?a.bevelThickness:.2,yt=a.bevelSize!==void 0?a.bevelSize:Rt-.1,Dt=a.bevelOffset!==void 0?a.bevelOffset:0,Nt=a.bevelSegments!==void 0?a.bevelSegments:3;const Lt=a.extrudePath,Ot=a.UVGenerator!==void 0?a.UVGenerator:WorldUVGenerator;let Ft,Vt=!1,jt,$t,Yt,Kt;Lt&&(Ft=Lt.getSpacedPoints(Tt),Vt=!0,Ct=!1,jt=Lt.computeFrenetFrames(Tt,!1),$t=new Vector3,Yt=new Vector3,Kt=new Vector3),Ct||(Nt=0,Rt=0,yt=0,Dt=0);const qt=vt.extractPoints(St);let Wt=qt.shape;const Jt=qt.holes;if(!ShapeUtils.isClockWise(Wt)){Wt=Wt.reverse();for(let nn=0,rr=Jt.length;nn<rr;nn++){const Kn=Jt[nn];ShapeUtils.isClockWise(Kn)&&(Jt[nn]=Kn.reverse())}}function sn(nn){const Kn=10000000000000001e-36;let Qn=nn[0];for(let Fn=1;Fn<=nn.length;Fn++){const vr=Fn%nn.length,Yn=nn[vr],tn=Yn.x-Qn.x,Qt=Yn.y-Qn.y,dn=tn*tn+Qt*Qt,In=Math.max(Math.abs(Yn.x),Math.abs(Yn.y),Math.abs(Qn.x),Math.abs(Qn.y)),Hn=Kn*In*In;if(dn<=Hn){nn.splice(vr,1),Fn--;continue}Qn=Yn}}sn(Wt),Jt.forEach(sn);const Tn=Jt.length,Cn=Wt;for(let nn=0;nn<Tn;nn++){const rr=Jt[nn];Wt=Wt.concat(rr)}function En(nn,rr,Kn){return rr||console.error("THREE.ExtrudeGeometry: vec does not exist"),nn.clone().addScaledVector(rr,Kn)}const Nn=Wt.length;function on(nn,rr,Kn){let Qn,Fn,vr;const Yn=nn.x-rr.x,tn=nn.y-rr.y,Qt=Kn.x-nn.x,dn=Kn.y-nn.y,In=Yn*Yn+tn*tn,Hn=Yn*dn-tn*Qt;if(Math.abs(Hn)>Number.EPSILON){const xn=Math.sqrt(In),er=Math.sqrt(Qt*Qt+dn*dn),Gn=rr.x-tn/xn,dr=rr.y+Yn/xn,Nr=Kn.x-dn/er,Zn=Kn.y+Qt/er,nr=((Nr-Gn)*dn-(Zn-dr)*Qt)/(Yn*dn-tn*Qt);Qn=Gn+Yn*nr-nn.x,Fn=dr+tn*nr-nn.y;const ir=Qn*Qn+Fn*Fn;if(ir<=2)return new Vector2(Qn,Fn);vr=Math.sqrt(ir/2)}else{let xn=!1;Yn>Number.EPSILON?Qt>Number.EPSILON&&(xn=!0):Yn<-Number.EPSILON?Qt<-Number.EPSILON&&(xn=!0):Math.sign(tn)===Math.sign(dn)&&(xn=!0),xn?(Qn=-tn,Fn=Yn,vr=Math.sqrt(In)):(Qn=Yn,Fn=tn,vr=Math.sqrt(In/2))}return new Vector2(Qn/vr,Fn/vr)}const hn=[];for(let nn=0,rr=Cn.length,Kn=rr-1,Qn=nn+1;nn<rr;nn++,Kn++,Qn++)Kn===rr&&(Kn=0),Qn===rr&&(Qn=0),hn[nn]=on(Cn[nn],Cn[Kn],Cn[Qn]);const pn=[];let Pn,jn=hn.concat();for(let nn=0,rr=Tn;nn<rr;nn++){const Kn=Jt[nn];Pn=[];for(let Qn=0,Fn=Kn.length,vr=Fn-1,Yn=Qn+1;Qn<Fn;Qn++,vr++,Yn++)vr===Fn&&(vr=0),Yn===Fn&&(Yn=0),Pn[Qn]=on(Kn[Qn],Kn[vr],Kn[Yn]);pn.push(Pn),jn=jn.concat(Pn)}let ar;if(Nt===0)ar=ShapeUtils.triangulateShape(Cn,Jt);else{const nn=[],rr=[];for(let Kn=0;Kn<Nt;Kn++){const Qn=Kn/Nt,Fn=Rt*Math.cos(Qn*Math.PI/2),vr=yt*Math.sin(Qn*Math.PI/2)+Dt;for(let Yn=0,tn=Cn.length;Yn<tn;Yn++){const Qt=En(Cn[Yn],hn[Yn],vr);kr(Qt.x,Qt.y,-Fn),Qn===0&&nn.push(Qt)}for(let Yn=0,tn=Tn;Yn<tn;Yn++){const Qt=Jt[Yn];Pn=pn[Yn];const dn=[];for(let In=0,Hn=Qt.length;In<Hn;In++){const xn=En(Qt[In],Pn[In],vr);kr(xn.x,xn.y,-Fn),Qn===0&&dn.push(xn)}Qn===0&&rr.push(dn)}}ar=ShapeUtils.triangulateShape(nn,rr)}const An=ar.length,Xn=yt+Dt;for(let nn=0;nn<Nn;nn++){const rr=Ct?En(Wt[nn],jn[nn],Xn):Wt[nn];Vt?(Yt.copy(jt.normals[0]).multiplyScalar(rr.x),$t.copy(jt.binormals[0]).multiplyScalar(rr.y),Kt.copy(Ft[0]).add(Yt).add($t),kr(Kt.x,Kt.y,Kt.z)):kr(rr.x,rr.y,0)}for(let nn=1;nn<=Tt;nn++)for(let rr=0;rr<Nn;rr++){const Kn=Ct?En(Wt[rr],jn[rr],Xn):Wt[rr];Vt?(Yt.copy(jt.normals[nn]).multiplyScalar(Kn.x),$t.copy(jt.binormals[nn]).multiplyScalar(Kn.y),Kt.copy(Ft[nn]).add(Yt).add($t),kr(Kt.x,Kt.y,Kt.z)):kr(Kn.x,Kn.y,At/Tt*nn)}for(let nn=Nt-1;nn>=0;nn--){const rr=nn/Nt,Kn=Rt*Math.cos(rr*Math.PI/2),Qn=yt*Math.sin(rr*Math.PI/2)+Dt;for(let Fn=0,vr=Cn.length;Fn<vr;Fn++){const Yn=En(Cn[Fn],hn[Fn],Qn);kr(Yn.x,Yn.y,At+Kn)}for(let Fn=0,vr=Jt.length;Fn<vr;Fn++){const Yn=Jt[Fn];Pn=pn[Fn];for(let tn=0,Qt=Yn.length;tn<Qt;tn++){const dn=En(Yn[tn],Pn[tn],Qn);Vt?kr(dn.x,dn.y+Ft[Tt-1].y,Ft[Tt-1].x+Kn):kr(dn.x,dn.y,At+Kn)}}}or(),tr();function or(){const nn=nt.length/3;if(Ct){let rr=0,Kn=Nn*rr;for(let Qn=0;Qn<An;Qn++){const Fn=ar[Qn];hr(Fn[2]+Kn,Fn[1]+Kn,Fn[0]+Kn)}rr=Tt+Nt*2,Kn=Nn*rr;for(let Qn=0;Qn<An;Qn++){const Fn=ar[Qn];hr(Fn[0]+Kn,Fn[1]+Kn,Fn[2]+Kn)}}else{for(let rr=0;rr<An;rr++){const Kn=ar[rr];hr(Kn[2],Kn[1],Kn[0])}for(let rr=0;rr<An;rr++){const Kn=ar[rr];hr(Kn[0]+Nn*Tt,Kn[1]+Nn*Tt,Kn[2]+Nn*Tt)}}d.addGroup(nn,nt.length/3-nn,0)}function tr(){const nn=nt.length/3;let rr=0;_r(Cn,rr),rr+=Cn.length;for(let Kn=0,Qn=Jt.length;Kn<Qn;Kn++){const Fn=Jt[Kn];_r(Fn,rr),rr+=Fn.length}d.addGroup(nn,nt.length/3-nn,1)}function _r(nn,rr){let Kn=nn.length;for(;--Kn>=0;){const Qn=Kn;let Fn=Kn-1;Fn<0&&(Fn=nn.length-1);for(let vr=0,Yn=Tt+Nt*2;vr<Yn;vr++){const tn=Nn*vr,Qt=Nn*(vr+1),dn=rr+Qn+tn,In=rr+Fn+tn,Hn=rr+Fn+Qt,xn=rr+Qn+Qt;gr(dn,In,Hn,xn)}}}function kr(nn,rr,Kn){xt.push(nn),xt.push(rr),xt.push(Kn)}function hr(nn,rr,Kn){It(nn),It(rr),It(Kn);const Qn=nt.length/3,Fn=Ot.generateTopUV(d,nt,Qn-3,Qn-2,Qn-1);Jn(Fn[0]),Jn(Fn[1]),Jn(Fn[2])}function gr(nn,rr,Kn,Qn){It(nn),It(rr),It(Qn),It(rr),It(Kn),It(Qn);const Fn=nt.length/3,vr=Ot.generateSideWallUV(d,nt,Fn-6,Fn-3,Fn-2,Fn-1);Jn(vr[0]),Jn(vr[1]),Jn(vr[3]),Jn(vr[1]),Jn(vr[2]),Jn(vr[3])}function It(nn){nt.push(xt[nn*3+0]),nt.push(xt[nn*3+1]),nt.push(xt[nn*3+2])}function Jn(nn){o.push(nn.x),o.push(nn.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),a=this.parameters.shapes,d=this.parameters.options;return toJSON$1(a,d,e)}static fromJSON(e,a){const d=[];for(let o=0,ht=e.shapes.length;o<ht;o++){const vt=a[e.shapes[o]];d.push(vt)}const nt=e.options.extrudePath;return nt!==void 0&&(e.options.extrudePath=new Curves[nt.type]().fromJSON(nt)),new ExtrudeGeometry(d,e.options)}}const WorldUVGenerator={generateTopUV:function(c,e,a,d,nt){const o=e[a*3],ht=e[a*3+1],vt=e[d*3],xt=e[d*3+1],St=e[nt*3],Tt=e[nt*3+1];return[new Vector2(o,ht),new Vector2(vt,xt),new Vector2(St,Tt)]},generateSideWallUV:function(c,e,a,d,nt,o){const ht=e[a*3],vt=e[a*3+1],xt=e[a*3+2],St=e[d*3],Tt=e[d*3+1],At=e[d*3+2],Ct=e[nt*3],Rt=e[nt*3+1],yt=e[nt*3+2],Dt=e[o*3],Nt=e[o*3+1],Lt=e[o*3+2];return Math.abs(vt-Tt)<Math.abs(ht-St)?[new Vector2(ht,1-xt),new Vector2(St,1-At),new Vector2(Ct,1-yt),new Vector2(Dt,1-Lt)]:[new Vector2(vt,1-xt),new Vector2(Tt,1-At),new Vector2(Rt,1-yt),new Vector2(Nt,1-Lt)]}};function toJSON$1(c,e,a){if(a.shapes=[],Array.isArray(c))for(let d=0,nt=c.length;d<nt;d++){const o=c[d];a.shapes.push(o.uuid)}else a.shapes.push(c.uuid);return a.options=Object.assign({},e),e.extrudePath!==void 0&&(a.options.extrudePath=e.extrudePath.toJSON()),a}class IcosahedronGeometry extends PolyhedronGeometry{constructor(e=1,a=0){const d=(1+Math.sqrt(5))/2,nt=[-1,d,0,1,d,0,-1,-d,0,1,-d,0,0,-1,d,0,1,d,0,-1,-d,0,1,-d,d,0,-1,d,0,1,-d,0,-1,-d,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(nt,o,e,a),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:a}}static fromJSON(e){return new IcosahedronGeometry(e.radius,e.detail)}}class LatheGeometry extends BufferGeometry{constructor(e=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],a=12,d=0,nt=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:a,phiStart:d,phiLength:nt},a=Math.floor(a),nt=clamp(nt,0,Math.PI*2);const o=[],ht=[],vt=[],xt=[],St=[],Tt=1/a,At=new Vector3,Ct=new Vector2,Rt=new Vector3,yt=new Vector3,Dt=new Vector3;let Nt=0,Lt=0;for(let Ot=0;Ot<=e.length-1;Ot++)switch(Ot){case 0:Nt=e[Ot+1].x-e[Ot].x,Lt=e[Ot+1].y-e[Ot].y,Rt.x=Lt*1,Rt.y=-Nt,Rt.z=Lt*0,Dt.copy(Rt),Rt.normalize(),xt.push(Rt.x,Rt.y,Rt.z);break;case e.length-1:xt.push(Dt.x,Dt.y,Dt.z);break;default:Nt=e[Ot+1].x-e[Ot].x,Lt=e[Ot+1].y-e[Ot].y,Rt.x=Lt*1,Rt.y=-Nt,Rt.z=Lt*0,yt.copy(Rt),Rt.x+=Dt.x,Rt.y+=Dt.y,Rt.z+=Dt.z,Rt.normalize(),xt.push(Rt.x,Rt.y,Rt.z),Dt.copy(yt)}for(let Ot=0;Ot<=a;Ot++){const Ft=d+Ot*Tt*nt,Vt=Math.sin(Ft),jt=Math.cos(Ft);for(let $t=0;$t<=e.length-1;$t++){At.x=e[$t].x*Vt,At.y=e[$t].y,At.z=e[$t].x*jt,ht.push(At.x,At.y,At.z),Ct.x=Ot/a,Ct.y=$t/(e.length-1),vt.push(Ct.x,Ct.y);const Yt=xt[3*$t+0]*Vt,Kt=xt[3*$t+1],qt=xt[3*$t+0]*jt;St.push(Yt,Kt,qt)}}for(let Ot=0;Ot<a;Ot++)for(let Ft=0;Ft<e.length-1;Ft++){const Vt=Ft+Ot*e.length,jt=Vt,$t=Vt+e.length,Yt=Vt+e.length+1,Kt=Vt+1;o.push(jt,$t,Kt),o.push(Yt,Kt,$t)}this.setIndex(o),this.setAttribute("position",new Float32BufferAttribute(ht,3)),this.setAttribute("uv",new Float32BufferAttribute(vt,2)),this.setAttribute("normal",new Float32BufferAttribute(St,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new LatheGeometry(e.points,e.segments,e.phiStart,e.phiLength)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(e=1,a=0){const d=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],nt=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(d,nt,e,a),this.type="OctahedronGeometry",this.parameters={radius:e,detail:a}}static fromJSON(e){return new OctahedronGeometry(e.radius,e.detail)}}class PlaneGeometry extends BufferGeometry{constructor(e=1,a=1,d=1,nt=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:a,widthSegments:d,heightSegments:nt};const o=e/2,ht=a/2,vt=Math.floor(d),xt=Math.floor(nt),St=vt+1,Tt=xt+1,At=e/vt,Ct=a/xt,Rt=[],yt=[],Dt=[],Nt=[];for(let Lt=0;Lt<Tt;Lt++){const Ot=Lt*Ct-ht;for(let Ft=0;Ft<St;Ft++){const Vt=Ft*At-o;yt.push(Vt,-Ot,0),Dt.push(0,0,1),Nt.push(Ft/vt),Nt.push(1-Lt/xt)}}for(let Lt=0;Lt<xt;Lt++)for(let Ot=0;Ot<vt;Ot++){const Ft=Ot+St*Lt,Vt=Ot+St*(Lt+1),jt=Ot+1+St*(Lt+1),$t=Ot+1+St*Lt;Rt.push(Ft,Vt,$t),Rt.push(Vt,jt,$t)}this.setIndex(Rt),this.setAttribute("position",new Float32BufferAttribute(yt,3)),this.setAttribute("normal",new Float32BufferAttribute(Dt,3)),this.setAttribute("uv",new Float32BufferAttribute(Nt,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new PlaneGeometry(e.width,e.height,e.widthSegments,e.heightSegments)}}class RingGeometry extends BufferGeometry{constructor(e=.5,a=1,d=32,nt=1,o=0,ht=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:a,thetaSegments:d,phiSegments:nt,thetaStart:o,thetaLength:ht},d=Math.max(3,d),nt=Math.max(1,nt);const vt=[],xt=[],St=[],Tt=[];let At=e;const Ct=(a-e)/nt,Rt=new Vector3,yt=new Vector2;for(let Dt=0;Dt<=nt;Dt++){for(let Nt=0;Nt<=d;Nt++){const Lt=o+Nt/d*ht;Rt.x=At*Math.cos(Lt),Rt.y=At*Math.sin(Lt),xt.push(Rt.x,Rt.y,Rt.z),St.push(0,0,1),yt.x=(Rt.x/a+1)/2,yt.y=(Rt.y/a+1)/2,Tt.push(yt.x,yt.y)}At+=Ct}for(let Dt=0;Dt<nt;Dt++){const Nt=Dt*(d+1);for(let Lt=0;Lt<d;Lt++){const Ot=Lt+Nt,Ft=Ot,Vt=Ot+d+1,jt=Ot+d+2,$t=Ot+1;vt.push(Ft,Vt,$t),vt.push(Vt,jt,$t)}}this.setIndex(vt),this.setAttribute("position",new Float32BufferAttribute(xt,3)),this.setAttribute("normal",new Float32BufferAttribute(St,3)),this.setAttribute("uv",new Float32BufferAttribute(Tt,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new RingGeometry(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(e=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),a=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:a};const d=[],nt=[],o=[],ht=[];let vt=0,xt=0;if(Array.isArray(e)===!1)St(e);else for(let Tt=0;Tt<e.length;Tt++)St(e[Tt]),this.addGroup(vt,xt,Tt),vt+=xt,xt=0;this.setIndex(d),this.setAttribute("position",new Float32BufferAttribute(nt,3)),this.setAttribute("normal",new Float32BufferAttribute(o,3)),this.setAttribute("uv",new Float32BufferAttribute(ht,2));function St(Tt){const At=nt.length/3,Ct=Tt.extractPoints(a);let Rt=Ct.shape;const yt=Ct.holes;ShapeUtils.isClockWise(Rt)===!1&&(Rt=Rt.reverse());for(let Nt=0,Lt=yt.length;Nt<Lt;Nt++){const Ot=yt[Nt];ShapeUtils.isClockWise(Ot)===!0&&(yt[Nt]=Ot.reverse())}const Dt=ShapeUtils.triangulateShape(Rt,yt);for(let Nt=0,Lt=yt.length;Nt<Lt;Nt++){const Ot=yt[Nt];Rt=Rt.concat(Ot)}for(let Nt=0,Lt=Rt.length;Nt<Lt;Nt++){const Ot=Rt[Nt];nt.push(Ot.x,Ot.y,0),o.push(0,0,1),ht.push(Ot.x,Ot.y)}for(let Nt=0,Lt=Dt.length;Nt<Lt;Nt++){const Ot=Dt[Nt],Ft=Ot[0]+At,Vt=Ot[1]+At,jt=Ot[2]+At;d.push(Ft,Vt,jt),xt+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),a=this.parameters.shapes;return toJSON(a,e)}static fromJSON(e,a){const d=[];for(let nt=0,o=e.shapes.length;nt<o;nt++){const ht=a[e.shapes[nt]];d.push(ht)}return new ShapeGeometry(d,e.curveSegments)}}function toJSON(c,e){if(e.shapes=[],Array.isArray(c))for(let a=0,d=c.length;a<d;a++){const nt=c[a];e.shapes.push(nt.uuid)}else e.shapes.push(c.uuid);return e}class SphereGeometry extends BufferGeometry{constructor(e=1,a=32,d=16,nt=0,o=Math.PI*2,ht=0,vt=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:a,heightSegments:d,phiStart:nt,phiLength:o,thetaStart:ht,thetaLength:vt},a=Math.max(3,Math.floor(a)),d=Math.max(2,Math.floor(d));const xt=Math.min(ht+vt,Math.PI);let St=0;const Tt=[],At=new Vector3,Ct=new Vector3,Rt=[],yt=[],Dt=[],Nt=[];for(let Lt=0;Lt<=d;Lt++){const Ot=[],Ft=Lt/d;let Vt=0;Lt===0&&ht===0?Vt=.5/a:Lt===d&&xt===Math.PI&&(Vt=-.5/a);for(let jt=0;jt<=a;jt++){const $t=jt/a;At.x=-e*Math.cos(nt+$t*o)*Math.sin(ht+Ft*vt),At.y=e*Math.cos(ht+Ft*vt),At.z=e*Math.sin(nt+$t*o)*Math.sin(ht+Ft*vt),yt.push(At.x,At.y,At.z),Ct.copy(At).normalize(),Dt.push(Ct.x,Ct.y,Ct.z),Nt.push($t+Vt,1-Ft),Ot.push(St++)}Tt.push(Ot)}for(let Lt=0;Lt<d;Lt++)for(let Ot=0;Ot<a;Ot++){const Ft=Tt[Lt][Ot+1],Vt=Tt[Lt][Ot],jt=Tt[Lt+1][Ot],$t=Tt[Lt+1][Ot+1];(Lt!==0||ht>0)&&Rt.push(Ft,Vt,$t),(Lt!==d-1||xt<Math.PI)&&Rt.push(Vt,jt,$t)}this.setIndex(Rt),this.setAttribute("position",new Float32BufferAttribute(yt,3)),this.setAttribute("normal",new Float32BufferAttribute(Dt,3)),this.setAttribute("uv",new Float32BufferAttribute(Nt,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new SphereGeometry(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(e=1,a=0){const d=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],nt=[2,1,0,0,3,2,1,3,0,2,3,1];super(d,nt,e,a),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:a}}static fromJSON(e){return new TetrahedronGeometry(e.radius,e.detail)}}class TorusGeometry extends BufferGeometry{constructor(e=1,a=.4,d=12,nt=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:a,radialSegments:d,tubularSegments:nt,arc:o},d=Math.floor(d),nt=Math.floor(nt);const ht=[],vt=[],xt=[],St=[],Tt=new Vector3,At=new Vector3,Ct=new Vector3;for(let Rt=0;Rt<=d;Rt++)for(let yt=0;yt<=nt;yt++){const Dt=yt/nt*o,Nt=Rt/d*Math.PI*2;At.x=(e+a*Math.cos(Nt))*Math.cos(Dt),At.y=(e+a*Math.cos(Nt))*Math.sin(Dt),At.z=a*Math.sin(Nt),vt.push(At.x,At.y,At.z),Tt.x=e*Math.cos(Dt),Tt.y=e*Math.sin(Dt),Ct.subVectors(At,Tt).normalize(),xt.push(Ct.x,Ct.y,Ct.z),St.push(yt/nt),St.push(Rt/d)}for(let Rt=1;Rt<=d;Rt++)for(let yt=1;yt<=nt;yt++){const Dt=(nt+1)*Rt+yt-1,Nt=(nt+1)*(Rt-1)+yt-1,Lt=(nt+1)*(Rt-1)+yt,Ot=(nt+1)*Rt+yt;ht.push(Dt,Nt,Ot),ht.push(Nt,Lt,Ot)}this.setIndex(ht),this.setAttribute("position",new Float32BufferAttribute(vt,3)),this.setAttribute("normal",new Float32BufferAttribute(xt,3)),this.setAttribute("uv",new Float32BufferAttribute(St,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new TorusGeometry(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(e=1,a=.4,d=64,nt=8,o=2,ht=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:a,tubularSegments:d,radialSegments:nt,p:o,q:ht},d=Math.floor(d),nt=Math.floor(nt);const vt=[],xt=[],St=[],Tt=[],At=new Vector3,Ct=new Vector3,Rt=new Vector3,yt=new Vector3,Dt=new Vector3,Nt=new Vector3,Lt=new Vector3;for(let Ft=0;Ft<=d;++Ft){const Vt=Ft/d*o*Math.PI*2;Ot(Vt,o,ht,e,Rt),Ot(Vt+.01,o,ht,e,yt),Nt.subVectors(yt,Rt),Lt.addVectors(yt,Rt),Dt.crossVectors(Nt,Lt),Lt.crossVectors(Dt,Nt),Dt.normalize(),Lt.normalize();for(let jt=0;jt<=nt;++jt){const $t=jt/nt*Math.PI*2,Yt=-a*Math.cos($t),Kt=a*Math.sin($t);At.x=Rt.x+(Yt*Lt.x+Kt*Dt.x),At.y=Rt.y+(Yt*Lt.y+Kt*Dt.y),At.z=Rt.z+(Yt*Lt.z+Kt*Dt.z),xt.push(At.x,At.y,At.z),Ct.subVectors(At,Rt).normalize(),St.push(Ct.x,Ct.y,Ct.z),Tt.push(Ft/d),Tt.push(jt/nt)}}for(let Ft=1;Ft<=d;Ft++)for(let Vt=1;Vt<=nt;Vt++){const jt=(nt+1)*(Ft-1)+(Vt-1),$t=(nt+1)*Ft+(Vt-1),Yt=(nt+1)*Ft+Vt,Kt=(nt+1)*(Ft-1)+Vt;vt.push(jt,$t,Kt),vt.push($t,Yt,Kt)}this.setIndex(vt),this.setAttribute("position",new Float32BufferAttribute(xt,3)),this.setAttribute("normal",new Float32BufferAttribute(St,3)),this.setAttribute("uv",new Float32BufferAttribute(Tt,2));function Ot(Ft,Vt,jt,$t,Yt){const Kt=Math.cos(Ft),qt=Math.sin(Ft),Wt=jt/Vt*Ft,Jt=Math.cos(Wt);Yt.x=$t*(2+Jt)*.5*Kt,Yt.y=$t*(2+Jt)*qt*.5,Yt.z=$t*Math.sin(Wt)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new TorusKnotGeometry(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class TubeGeometry extends BufferGeometry{constructor(e=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),a=64,d=1,nt=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:a,radius:d,radialSegments:nt,closed:o};const ht=e.computeFrenetFrames(a,o);this.tangents=ht.tangents,this.normals=ht.normals,this.binormals=ht.binormals;const vt=new Vector3,xt=new Vector3,St=new Vector2;let Tt=new Vector3;const At=[],Ct=[],Rt=[],yt=[];Dt(),this.setIndex(yt),this.setAttribute("position",new Float32BufferAttribute(At,3)),this.setAttribute("normal",new Float32BufferAttribute(Ct,3)),this.setAttribute("uv",new Float32BufferAttribute(Rt,2));function Dt(){for(let Ft=0;Ft<a;Ft++)Nt(Ft);Nt(o===!1?a:0),Ot(),Lt()}function Nt(Ft){Tt=e.getPointAt(Ft/a,Tt);const Vt=ht.normals[Ft],jt=ht.binormals[Ft];for(let $t=0;$t<=nt;$t++){const Yt=$t/nt*Math.PI*2,Kt=Math.sin(Yt),qt=-Math.cos(Yt);xt.x=qt*Vt.x+Kt*jt.x,xt.y=qt*Vt.y+Kt*jt.y,xt.z=qt*Vt.z+Kt*jt.z,xt.normalize(),Ct.push(xt.x,xt.y,xt.z),vt.x=Tt.x+d*xt.x,vt.y=Tt.y+d*xt.y,vt.z=Tt.z+d*xt.z,At.push(vt.x,vt.y,vt.z)}}function Lt(){for(let Ft=1;Ft<=a;Ft++)for(let Vt=1;Vt<=nt;Vt++){const jt=(nt+1)*(Ft-1)+(Vt-1),$t=(nt+1)*Ft+(Vt-1),Yt=(nt+1)*Ft+Vt,Kt=(nt+1)*(Ft-1)+Vt;yt.push(jt,$t,Kt),yt.push($t,Yt,Kt)}}function Ot(){for(let Ft=0;Ft<=a;Ft++)for(let Vt=0;Vt<=nt;Vt++)St.x=Ft/a,St.y=Vt/nt,Rt.push(St.x,St.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new TubeGeometry(new Curves[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class WireframeGeometry extends BufferGeometry{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const a=[],d=new Set,nt=new Vector3,o=new Vector3;if(e.index!==null){const ht=e.attributes.position,vt=e.index;let xt=e.groups;xt.length===0&&(xt=[{start:0,count:vt.count,materialIndex:0}]);for(let St=0,Tt=xt.length;St<Tt;++St){const At=xt[St],Ct=At.start,Rt=At.count;for(let yt=Ct,Dt=Ct+Rt;yt<Dt;yt+=3)for(let Nt=0;Nt<3;Nt++){const Lt=vt.getX(yt+Nt),Ot=vt.getX(yt+(Nt+1)%3);nt.fromBufferAttribute(ht,Lt),o.fromBufferAttribute(ht,Ot),isUniqueEdge(nt,o,d)===!0&&(a.push(nt.x,nt.y,nt.z),a.push(o.x,o.y,o.z))}}}else{const ht=e.attributes.position;for(let vt=0,xt=ht.count/3;vt<xt;vt++)for(let St=0;St<3;St++){const Tt=3*vt+St,At=3*vt+(St+1)%3;nt.fromBufferAttribute(ht,Tt),o.fromBufferAttribute(ht,At),isUniqueEdge(nt,o,d)===!0&&(a.push(nt.x,nt.y,nt.z),a.push(o.x,o.y,o.z))}}this.setAttribute("position",new Float32BufferAttribute(a,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function isUniqueEdge(c,e,a){const d=`${c.x},${c.y},${c.z}-${e.x},${e.y},${e.z}`,nt=`${e.x},${e.y},${e.z}-${c.x},${c.y},${c.z}`;return a.has(d)===!0||a.has(nt)===!0?!1:(a.add(d),a.add(nt),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(a){this.ior=(1+.4*a)/(1-.4*a)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MeshToonMaterial extends Material{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class MeshNormalMaterial extends Material{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class MeshLambertMaterial extends Material{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MeshDepthMaterial extends Material{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class MeshMatcapMaterial extends Material{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function convertArray(c,e){return!c||c.constructor===e?c:typeof e.BYTES_PER_ELEMENT=="number"?new e(c):Array.prototype.slice.call(c)}function isTypedArray$1(c){return ArrayBuffer.isView(c)&&!(c instanceof DataView)}function getKeyframeOrder(c){function e(nt,o){return c[nt]-c[o]}const a=c.length,d=new Array(a);for(let nt=0;nt!==a;++nt)d[nt]=nt;return d.sort(e),d}function sortedArray(c,e,a){const d=c.length,nt=new c.constructor(d);for(let o=0,ht=0;ht!==d;++o){const vt=a[o]*e;for(let xt=0;xt!==e;++xt)nt[ht++]=c[vt+xt]}return nt}function flattenJSON(c,e,a,d){let nt=1,o=c[0];for(;o!==void 0&&o[d]===void 0;)o=c[nt++];if(o===void 0)return;let ht=o[d];if(ht!==void 0)if(Array.isArray(ht))do ht=o[d],ht!==void 0&&(e.push(o.time),a.push(...ht)),o=c[nt++];while(o!==void 0);else if(ht.toArray!==void 0)do ht=o[d],ht!==void 0&&(e.push(o.time),ht.toArray(a,a.length)),o=c[nt++];while(o!==void 0);else do ht=o[d],ht!==void 0&&(e.push(o.time),a.push(ht)),o=c[nt++];while(o!==void 0)}function subclip(c,e,a,d,nt=30){const o=c.clone();o.name=e;const ht=[];for(let xt=0;xt<o.tracks.length;++xt){const St=o.tracks[xt],Tt=St.getValueSize(),At=[],Ct=[];for(let Rt=0;Rt<St.times.length;++Rt){const yt=St.times[Rt]*nt;if(!(yt<a||yt>=d)){At.push(St.times[Rt]);for(let Dt=0;Dt<Tt;++Dt)Ct.push(St.values[Rt*Tt+Dt])}}At.length!==0&&(St.times=convertArray(At,St.times.constructor),St.values=convertArray(Ct,St.values.constructor),ht.push(St))}o.tracks=ht;let vt=1/0;for(let xt=0;xt<o.tracks.length;++xt)vt>o.tracks[xt].times[0]&&(vt=o.tracks[xt].times[0]);for(let xt=0;xt<o.tracks.length;++xt)o.tracks[xt].shift(-1*vt);return o.resetDuration(),o}function makeClipAdditive(c,e=0,a=c,d=30){d<=0&&(d=30);const nt=a.tracks.length,o=e/d;for(let ht=0;ht<nt;++ht){const vt=a.tracks[ht],xt=vt.ValueTypeName;if(xt==="bool"||xt==="string")continue;const St=c.tracks.find(function(Lt){return Lt.name===vt.name&&Lt.ValueTypeName===xt});if(St===void 0)continue;let Tt=0;const At=vt.getValueSize();vt.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(Tt=At/3);let Ct=0;const Rt=St.getValueSize();St.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(Ct=Rt/3);const yt=vt.times.length-1;let Dt;if(o<=vt.times[0]){const Lt=Tt,Ot=At-Tt;Dt=vt.values.slice(Lt,Ot)}else if(o>=vt.times[yt]){const Lt=yt*At+Tt,Ot=Lt+At-Tt;Dt=vt.values.slice(Lt,Ot)}else{const Lt=vt.createInterpolant(),Ot=Tt,Ft=At-Tt;Lt.evaluate(o),Dt=Lt.resultBuffer.slice(Ot,Ft)}xt==="quaternion"&&new Quaternion().fromArray(Dt).normalize().conjugate().toArray(Dt);const Nt=St.times.length;for(let Lt=0;Lt<Nt;++Lt){const Ot=Lt*Rt+Ct;if(xt==="quaternion")Quaternion.multiplyQuaternionsFlat(St.values,Ot,Dt,0,St.values,Ot);else{const Ft=Rt-Ct*2;for(let Vt=0;Vt<Ft;++Vt)St.values[Ot+Vt]-=Dt[Vt]}}}return c.blendMode=AdditiveAnimationBlendMode,c}class AnimationUtils{static convertArray(e,a){return convertArray(e,a)}static isTypedArray(e){return isTypedArray$1(e)}static getKeyframeOrder(e){return getKeyframeOrder(e)}static sortedArray(e,a,d){return sortedArray(e,a,d)}static flattenJSON(e,a,d,nt){flattenJSON(e,a,d,nt)}static subclip(e,a,d,nt,o=30){return subclip(e,a,d,nt,o)}static makeClipAdditive(e,a=0,d=e,nt=30){return makeClipAdditive(e,a,d,nt)}}class Interpolant{constructor(e,a,d,nt){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=nt!==void 0?nt:new a.constructor(d),this.sampleValues=a,this.valueSize=d,this.settings=null,this.DefaultSettings_={}}evaluate(e){const a=this.parameterPositions;let d=this._cachedIndex,nt=a[d],o=a[d-1];e:{t:{let ht;n:{r:if(!(e<nt)){for(let vt=d+2;;){if(nt===void 0){if(e<o)break r;return d=a.length,this._cachedIndex=d,this.copySampleValue_(d-1)}if(d===vt)break;if(o=nt,nt=a[++d],e<nt)break t}ht=a.length;break n}if(!(e>=o)){const vt=a[1];e<vt&&(d=2,o=vt);for(let xt=d-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(d===xt)break;if(nt=o,o=a[--d-1],e>=o)break t}ht=d,d=0;break n}break e}for(;d<ht;){const vt=d+ht>>>1;e<a[vt]?ht=vt:d=vt+1}if(nt=a[d],o=a[d-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(nt===void 0)return d=a.length,this._cachedIndex=d,this.copySampleValue_(d-1)}this._cachedIndex=d,this.intervalChanged_(d,o,nt)}return this.interpolate_(d,o,e,nt)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const a=this.resultBuffer,d=this.sampleValues,nt=this.valueSize,o=e*nt;for(let ht=0;ht!==nt;++ht)a[ht]=d[o+ht];return a}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(e,a,d,nt){super(e,a,d,nt),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(e,a,d){const nt=this.parameterPositions;let o=e-2,ht=e+1,vt=nt[o],xt=nt[ht];if(vt===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:o=e,vt=2*a-d;break;case WrapAroundEnding:o=nt.length-2,vt=a+nt[o]-nt[o+1];break;default:o=e,vt=d}if(xt===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:ht=e,xt=2*d-a;break;case WrapAroundEnding:ht=1,xt=d+nt[1]-nt[0];break;default:ht=e-1,xt=a}const St=(d-a)*.5,Tt=this.valueSize;this._weightPrev=St/(a-vt),this._weightNext=St/(xt-d),this._offsetPrev=o*Tt,this._offsetNext=ht*Tt}interpolate_(e,a,d,nt){const o=this.resultBuffer,ht=this.sampleValues,vt=this.valueSize,xt=e*vt,St=xt-vt,Tt=this._offsetPrev,At=this._offsetNext,Ct=this._weightPrev,Rt=this._weightNext,yt=(d-a)/(nt-a),Dt=yt*yt,Nt=Dt*yt,Lt=-Ct*Nt+2*Ct*Dt-Ct*yt,Ot=(1+Ct)*Nt+(-1.5-2*Ct)*Dt+(-.5+Ct)*yt+1,Ft=(-1-Rt)*Nt+(1.5+Rt)*Dt+.5*yt,Vt=Rt*Nt-Rt*Dt;for(let jt=0;jt!==vt;++jt)o[jt]=Lt*ht[Tt+jt]+Ot*ht[St+jt]+Ft*ht[xt+jt]+Vt*ht[At+jt];return o}}class LinearInterpolant extends Interpolant{constructor(e,a,d,nt){super(e,a,d,nt)}interpolate_(e,a,d,nt){const o=this.resultBuffer,ht=this.sampleValues,vt=this.valueSize,xt=e*vt,St=xt-vt,Tt=(d-a)/(nt-a),At=1-Tt;for(let Ct=0;Ct!==vt;++Ct)o[Ct]=ht[St+Ct]*At+ht[xt+Ct]*Tt;return o}}class DiscreteInterpolant extends Interpolant{constructor(e,a,d,nt){super(e,a,d,nt)}interpolate_(e){return this.copySampleValue_(e-1)}}class KeyframeTrack{constructor(e,a,d,nt){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(a===void 0||a.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=convertArray(a,this.TimeBufferType),this.values=convertArray(d,this.ValueBufferType),this.setInterpolation(nt||this.DefaultInterpolation)}static toJSON(e){const a=e.constructor;let d;if(a.toJSON!==this.toJSON)d=a.toJSON(e);else{d={name:e.name,times:convertArray(e.times,Array),values:convertArray(e.values,Array)};const nt=e.getInterpolation();nt!==e.DefaultInterpolation&&(d.interpolation=nt)}return d.type=e.ValueTypeName,d}InterpolantFactoryMethodDiscrete(e){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new LinearInterpolant(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new CubicInterpolant(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let a;switch(e){case InterpolateDiscrete:a=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:a=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:a=this.InterpolantFactoryMethodSmooth;break}if(a===void 0){const d="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(d);return console.warn("THREE.KeyframeTrack:",d),this}return this.createInterpolant=a,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const a=this.times;for(let d=0,nt=a.length;d!==nt;++d)a[d]+=e}return this}scale(e){if(e!==1){const a=this.times;for(let d=0,nt=a.length;d!==nt;++d)a[d]*=e}return this}trim(e,a){const d=this.times,nt=d.length;let o=0,ht=nt-1;for(;o!==nt&&d[o]<e;)++o;for(;ht!==-1&&d[ht]>a;)--ht;if(++ht,o!==0||ht!==nt){o>=ht&&(ht=Math.max(ht,1),o=ht-1);const vt=this.getValueSize();this.times=d.slice(o,ht),this.values=this.values.slice(o*vt,ht*vt)}return this}validate(){let e=!0;const a=this.getValueSize();a-Math.floor(a)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const d=this.times,nt=this.values,o=d.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let ht=null;for(let vt=0;vt!==o;vt++){const xt=d[vt];if(typeof xt=="number"&&isNaN(xt)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,vt,xt),e=!1;break}if(ht!==null&&ht>xt){console.error("THREE.KeyframeTrack: Out of order keys.",this,vt,xt,ht),e=!1;break}ht=xt}if(nt!==void 0&&isTypedArray$1(nt))for(let vt=0,xt=nt.length;vt!==xt;++vt){const St=nt[vt];if(isNaN(St)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,vt,St),e=!1;break}}return e}optimize(){const e=this.times.slice(),a=this.values.slice(),d=this.getValueSize(),nt=this.getInterpolation()===InterpolateSmooth,o=e.length-1;let ht=1;for(let vt=1;vt<o;++vt){let xt=!1;const St=e[vt],Tt=e[vt+1];if(St!==Tt&&(vt!==1||St!==e[0]))if(nt)xt=!0;else{const At=vt*d,Ct=At-d,Rt=At+d;for(let yt=0;yt!==d;++yt){const Dt=a[At+yt];if(Dt!==a[Ct+yt]||Dt!==a[Rt+yt]){xt=!0;break}}}if(xt){if(vt!==ht){e[ht]=e[vt];const At=vt*d,Ct=ht*d;for(let Rt=0;Rt!==d;++Rt)a[Ct+Rt]=a[At+Rt]}++ht}}if(o>0){e[ht]=e[o];for(let vt=o*d,xt=ht*d,St=0;St!==d;++St)a[xt+St]=a[vt+St];++ht}return ht!==e.length?(this.times=e.slice(0,ht),this.values=a.slice(0,ht*d)):(this.times=e,this.values=a),this}clone(){const e=this.times.slice(),a=this.values.slice(),d=this.constructor,nt=new d(this.name,e,a);return nt.createInterpolant=this.createInterpolant,nt}}KeyframeTrack.prototype.ValueTypeName="";KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{constructor(e,a,d){super(e,a,d)}}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{constructor(e,a,d,nt){super(e,a,d,nt)}}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{constructor(e,a,d,nt){super(e,a,d,nt)}}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(e,a,d,nt){super(e,a,d,nt)}interpolate_(e,a,d,nt){const o=this.resultBuffer,ht=this.sampleValues,vt=this.valueSize,xt=(d-a)/(nt-a);let St=e*vt;for(let Tt=St+vt;St!==Tt;St+=4)Quaternion.slerpFlat(o,0,ht,St-vt,ht,St,xt);return o}}class QuaternionKeyframeTrack extends KeyframeTrack{constructor(e,a,d,nt){super(e,a,d,nt)}InterpolantFactoryMethodLinear(e){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),e)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{constructor(e,a,d){super(e,a,d)}}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{constructor(e,a,d,nt){super(e,a,d,nt)}}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(e="",a=-1,d=[],nt=NormalAnimationBlendMode){this.name=e,this.tracks=d,this.duration=a,this.blendMode=nt,this.uuid=generateUUID(),this.duration<0&&this.resetDuration()}static parse(e){const a=[],d=e.tracks,nt=1/(e.fps||1);for(let ht=0,vt=d.length;ht!==vt;++ht)a.push(parseKeyframeTrack(d[ht]).scale(nt));const o=new this(e.name,e.duration,a,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const a=[],d=e.tracks,nt={name:e.name,duration:e.duration,tracks:a,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,ht=d.length;o!==ht;++o)a.push(KeyframeTrack.toJSON(d[o]));return nt}static CreateFromMorphTargetSequence(e,a,d,nt){const o=a.length,ht=[];for(let vt=0;vt<o;vt++){let xt=[],St=[];xt.push((vt+o-1)%o,vt,(vt+1)%o),St.push(0,1,0);const Tt=getKeyframeOrder(xt);xt=sortedArray(xt,1,Tt),St=sortedArray(St,1,Tt),!nt&&xt[0]===0&&(xt.push(o),St.push(St[0])),ht.push(new NumberKeyframeTrack(".morphTargetInfluences["+a[vt].name+"]",xt,St).scale(1/d))}return new this(e,-1,ht)}static findByName(e,a){let d=e;if(!Array.isArray(e)){const nt=e;d=nt.geometry&&nt.geometry.animations||nt.animations}for(let nt=0;nt<d.length;nt++)if(d[nt].name===a)return d[nt];return null}static CreateClipsFromMorphTargetSequences(e,a,d){const nt={},o=/^([\w-]*?)([\d]+)$/;for(let vt=0,xt=e.length;vt<xt;vt++){const St=e[vt],Tt=St.name.match(o);if(Tt&&Tt.length>1){const At=Tt[1];let Ct=nt[At];Ct||(nt[At]=Ct=[]),Ct.push(St)}}const ht=[];for(const vt in nt)ht.push(this.CreateFromMorphTargetSequence(vt,nt[vt],a,d));return ht}static parseAnimation(e,a){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const d=function(At,Ct,Rt,yt,Dt){if(Rt.length!==0){const Nt=[],Lt=[];flattenJSON(Rt,Nt,Lt,yt),Nt.length!==0&&Dt.push(new At(Ct,Nt,Lt))}},nt=[],o=e.name||"default",ht=e.fps||30,vt=e.blendMode;let xt=e.length||-1;const St=e.hierarchy||[];for(let At=0;At<St.length;At++){const Ct=St[At].keys;if(!(!Ct||Ct.length===0))if(Ct[0].morphTargets){const Rt={};let yt;for(yt=0;yt<Ct.length;yt++)if(Ct[yt].morphTargets)for(let Dt=0;Dt<Ct[yt].morphTargets.length;Dt++)Rt[Ct[yt].morphTargets[Dt]]=-1;for(const Dt in Rt){const Nt=[],Lt=[];for(let Ot=0;Ot!==Ct[yt].morphTargets.length;++Ot){const Ft=Ct[yt];Nt.push(Ft.time),Lt.push(Ft.morphTarget===Dt?1:0)}nt.push(new NumberKeyframeTrack(".morphTargetInfluence["+Dt+"]",Nt,Lt))}xt=Rt.length*ht}else{const Rt=".bones["+a[At].name+"]";d(VectorKeyframeTrack,Rt+".position",Ct,"pos",nt),d(QuaternionKeyframeTrack,Rt+".quaternion",Ct,"rot",nt),d(VectorKeyframeTrack,Rt+".scale",Ct,"scl",nt)}}return nt.length===0?null:new this(o,xt,nt,vt)}resetDuration(){const e=this.tracks;let a=0;for(let d=0,nt=e.length;d!==nt;++d){const o=this.tracks[d];a=Math.max(a,o.times[o.times.length-1])}return this.duration=a,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let a=0;a<this.tracks.length;a++)e=e&&this.tracks[a].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let a=0;a<this.tracks.length;a++)e.push(this.tracks[a].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(c){switch(c.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+c)}function parseKeyframeTrack(c){if(c.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=getTrackTypeForValueTypeName(c.type);if(c.times===void 0){const a=[],d=[];flattenJSON(c.keys,a,d,"value"),c.times=a,c.values=d}return e.parse!==void 0?e.parse(c):new e(c.name,c.times,c.values,c.interpolation)}const Cache={enabled:!1,files:{},add:function(c,e){this.enabled!==!1&&(this.files[c]=e)},get:function(c){if(this.enabled!==!1)return this.files[c]},remove:function(c){delete this.files[c]},clear:function(){this.files={}}};class LoadingManager{constructor(e,a,d){const nt=this;let o=!1,ht=0,vt=0,xt;const St=[];this.onStart=void 0,this.onLoad=e,this.onProgress=a,this.onError=d,this.itemStart=function(Tt){vt++,o===!1&&nt.onStart!==void 0&&nt.onStart(Tt,ht,vt),o=!0},this.itemEnd=function(Tt){ht++,nt.onProgress!==void 0&&nt.onProgress(Tt,ht,vt),ht===vt&&(o=!1,nt.onLoad!==void 0&&nt.onLoad())},this.itemError=function(Tt){nt.onError!==void 0&&nt.onError(Tt)},this.resolveURL=function(Tt){return xt?xt(Tt):Tt},this.setURLModifier=function(Tt){return xt=Tt,this},this.addHandler=function(Tt,At){return St.push(Tt,At),this},this.removeHandler=function(Tt){const At=St.indexOf(Tt);return At!==-1&&St.splice(At,2),this},this.getHandler=function(Tt){for(let At=0,Ct=St.length;At<Ct;At+=2){const Rt=St[At],yt=St[At+1];if(Rt.global&&(Rt.lastIndex=0),Rt.test(Tt))return yt}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(e){this.manager=e!==void 0?e:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,a){const d=this;return new Promise(function(nt,o){d.load(e,nt,a,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Loader.DEFAULT_MATERIAL_NAME="__DEFAULT";const loading={};class HttpError extends Error{constructor(e,a){super(e),this.response=a}}class FileLoader extends Loader{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,a,d,nt){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Cache.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{a&&a(o),this.manager.itemEnd(e)},0),o;if(loading[e]!==void 0){loading[e].push({onLoad:a,onProgress:d,onError:nt});return}loading[e]=[],loading[e].push({onLoad:a,onProgress:d,onError:nt});const ht=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),vt=this.mimeType,xt=this.responseType;fetch(ht).then(St=>{if(St.status===200||St.status===0){if(St.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||St.body===void 0||St.body.getReader===void 0)return St;const Tt=loading[e],At=St.body.getReader(),Ct=St.headers.get("X-File-Size")||St.headers.get("Content-Length"),Rt=Ct?parseInt(Ct):0,yt=Rt!==0;let Dt=0;const Nt=new ReadableStream({start(Lt){Ot();function Ot(){At.read().then(({done:Ft,value:Vt})=>{if(Ft)Lt.close();else{Dt+=Vt.byteLength;const jt=new ProgressEvent("progress",{lengthComputable:yt,loaded:Dt,total:Rt});for(let $t=0,Yt=Tt.length;$t<Yt;$t++){const Kt=Tt[$t];Kt.onProgress&&Kt.onProgress(jt)}Lt.enqueue(Vt),Ot()}},Ft=>{Lt.error(Ft)})}}});return new Response(Nt)}else throw new HttpError(`fetch for "${St.url}" responded with ${St.status}: ${St.statusText}`,St)}).then(St=>{switch(xt){case"arraybuffer":return St.arrayBuffer();case"blob":return St.blob();case"document":return St.text().then(Tt=>new DOMParser().parseFromString(Tt,vt));case"json":return St.json();default:if(vt==="")return St.text();{const At=/charset="?([^;"\s]*)"?/i.exec(vt),Ct=At&&At[1]?At[1].toLowerCase():void 0,Rt=new TextDecoder(Ct);return St.arrayBuffer().then(yt=>Rt.decode(yt))}}}).then(St=>{Cache.add(e,St);const Tt=loading[e];delete loading[e];for(let At=0,Ct=Tt.length;At<Ct;At++){const Rt=Tt[At];Rt.onLoad&&Rt.onLoad(St)}}).catch(St=>{const Tt=loading[e];if(Tt===void 0)throw this.manager.itemError(e),St;delete loading[e];for(let At=0,Ct=Tt.length;At<Ct;At++){const Rt=Tt[At];Rt.onError&&Rt.onError(St)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class AnimationLoader extends Loader{constructor(e){super(e)}load(e,a,d,nt){const o=this,ht=new FileLoader(this.manager);ht.setPath(this.path),ht.setRequestHeader(this.requestHeader),ht.setWithCredentials(this.withCredentials),ht.load(e,function(vt){try{a(o.parse(JSON.parse(vt)))}catch(xt){nt?nt(xt):console.error(xt),o.manager.itemError(e)}},d,nt)}parse(e){const a=[];for(let d=0;d<e.length;d++){const nt=AnimationClip.parse(e[d]);a.push(nt)}return a}}class CompressedTextureLoader extends Loader{constructor(e){super(e)}load(e,a,d,nt){const o=this,ht=[],vt=new CompressedTexture,xt=new FileLoader(this.manager);xt.setPath(this.path),xt.setResponseType("arraybuffer"),xt.setRequestHeader(this.requestHeader),xt.setWithCredentials(o.withCredentials);let St=0;function Tt(At){xt.load(e[At],function(Ct){const Rt=o.parse(Ct,!0);ht[At]={width:Rt.width,height:Rt.height,format:Rt.format,mipmaps:Rt.mipmaps},St+=1,St===6&&(Rt.mipmapCount===1&&(vt.minFilter=LinearFilter),vt.image=ht,vt.format=Rt.format,vt.needsUpdate=!0,a&&a(vt))},d,nt)}if(Array.isArray(e))for(let At=0,Ct=e.length;At<Ct;++At)Tt(At);else xt.load(e,function(At){const Ct=o.parse(At,!0);if(Ct.isCubemap){const Rt=Ct.mipmaps.length/Ct.mipmapCount;for(let yt=0;yt<Rt;yt++){ht[yt]={mipmaps:[]};for(let Dt=0;Dt<Ct.mipmapCount;Dt++)ht[yt].mipmaps.push(Ct.mipmaps[yt*Ct.mipmapCount+Dt]),ht[yt].format=Ct.format,ht[yt].width=Ct.width,ht[yt].height=Ct.height}vt.image=ht}else vt.image.width=Ct.width,vt.image.height=Ct.height,vt.mipmaps=Ct.mipmaps;Ct.mipmapCount===1&&(vt.minFilter=LinearFilter),vt.format=Ct.format,vt.needsUpdate=!0,a&&a(vt)},d,nt);return vt}}class ImageLoader extends Loader{constructor(e){super(e)}load(e,a,d,nt){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,ht=Cache.get(e);if(ht!==void 0)return o.manager.itemStart(e),setTimeout(function(){a&&a(ht),o.manager.itemEnd(e)},0),ht;const vt=createElementNS("img");function xt(){Tt(),Cache.add(e,this),a&&a(this),o.manager.itemEnd(e)}function St(At){Tt(),nt&&nt(At),o.manager.itemError(e),o.manager.itemEnd(e)}function Tt(){vt.removeEventListener("load",xt,!1),vt.removeEventListener("error",St,!1)}return vt.addEventListener("load",xt,!1),vt.addEventListener("error",St,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(vt.crossOrigin=this.crossOrigin),o.manager.itemStart(e),vt.src=e,vt}}class CubeTextureLoader extends Loader{constructor(e){super(e)}load(e,a,d,nt){const o=new CubeTexture;o.colorSpace=SRGBColorSpace;const ht=new ImageLoader(this.manager);ht.setCrossOrigin(this.crossOrigin),ht.setPath(this.path);let vt=0;function xt(St){ht.load(e[St],function(Tt){o.images[St]=Tt,vt++,vt===6&&(o.needsUpdate=!0,a&&a(o))},void 0,nt)}for(let St=0;St<e.length;++St)xt(St);return o}}class DataTextureLoader extends Loader{constructor(e){super(e)}load(e,a,d,nt){const o=this,ht=new DataTexture,vt=new FileLoader(this.manager);return vt.setResponseType("arraybuffer"),vt.setRequestHeader(this.requestHeader),vt.setPath(this.path),vt.setWithCredentials(o.withCredentials),vt.load(e,function(xt){let St;try{St=o.parse(xt)}catch(Tt){if(nt!==void 0)nt(Tt);else{console.error(Tt);return}}St.image!==void 0?ht.image=St.image:St.data!==void 0&&(ht.image.width=St.width,ht.image.height=St.height,ht.image.data=St.data),ht.wrapS=St.wrapS!==void 0?St.wrapS:ClampToEdgeWrapping,ht.wrapT=St.wrapT!==void 0?St.wrapT:ClampToEdgeWrapping,ht.magFilter=St.magFilter!==void 0?St.magFilter:LinearFilter,ht.minFilter=St.minFilter!==void 0?St.minFilter:LinearFilter,ht.anisotropy=St.anisotropy!==void 0?St.anisotropy:1,St.colorSpace!==void 0&&(ht.colorSpace=St.colorSpace),St.flipY!==void 0&&(ht.flipY=St.flipY),St.format!==void 0&&(ht.format=St.format),St.type!==void 0&&(ht.type=St.type),St.mipmaps!==void 0&&(ht.mipmaps=St.mipmaps,ht.minFilter=LinearMipmapLinearFilter),St.mipmapCount===1&&(ht.minFilter=LinearFilter),St.generateMipmaps!==void 0&&(ht.generateMipmaps=St.generateMipmaps),ht.needsUpdate=!0,a&&a(ht,St)},d,nt),ht}}class TextureLoader extends Loader{constructor(e){super(e)}load(e,a,d,nt){const o=new Texture,ht=new ImageLoader(this.manager);return ht.setCrossOrigin(this.crossOrigin),ht.setPath(this.path),ht.load(e,function(vt){o.image=vt,o.needsUpdate=!0,a!==void 0&&a(o)},d,nt),o}}class Light extends Object3D{constructor(e,a=1){super(),this.isLight=!0,this.type="Light",this.color=new Color(e),this.intensity=a}dispose(){}copy(e,a){return super.copy(e,a),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const a=super.toJSON(e);return a.object.color=this.color.getHex(),a.object.intensity=this.intensity,this.groundColor!==void 0&&(a.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(a.object.distance=this.distance),this.angle!==void 0&&(a.object.angle=this.angle),this.decay!==void 0&&(a.object.decay=this.decay),this.penumbra!==void 0&&(a.object.penumbra=this.penumbra),this.shadow!==void 0&&(a.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(a.object.target=this.target.uuid),a}}class HemisphereLight extends Light{constructor(e,a,d){super(e,d),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color(a)}copy(e,a){return super.copy(e,a),this.groundColor.copy(e.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.mapType=UnsignedByteType,this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const a=this.camera,d=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(e.matrixWorld),a.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(e.target.matrixWorld),a.lookAt(_lookTarget$1),a.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),d.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d.multiply(_projScreenMatrix$1)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const a=this.camera,d=RAD2DEG*2*e.angle*this.focus,nt=this.mapSize.width/this.mapSize.height,o=e.distance||a.far;(d!==a.fov||nt!==a.aspect||o!==a.far)&&(a.fov=d,a.aspect=nt,a.far=o,a.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class SpotLight extends Light{constructor(e,a,d=0,nt=Math.PI/3,o=0,ht=2){super(e,a),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=d,this.angle=nt,this.penumbra=o,this.decay=ht,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,a){return super.copy(e,a),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(e,a=0){const d=this.camera,nt=this.matrix,o=e.distance||d.far;o!==d.far&&(d.far=o,d.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(e.matrixWorld),d.position.copy(_lightPositionWorld),_lookTarget.copy(d.position),_lookTarget.add(this._cubeDirections[a]),d.up.copy(this._cubeUps[a]),d.lookAt(_lookTarget),d.updateMatrixWorld(),nt.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(d.projectionMatrix,d.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(e,a,d=0,nt=2){super(e,a),this.isPointLight=!0,this.type="PointLight",this.distance=d,this.decay=nt,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,a){return super.copy(e,a),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class OrthographicCamera extends Camera{constructor(e=-1,a=1,d=1,nt=-1,o=.1,ht=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=a,this.top=d,this.bottom=nt,this.near=o,this.far=ht,this.updateProjectionMatrix()}copy(e,a){return super.copy(e,a),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,a,d,nt,o,ht){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=a,this.view.offsetX=d,this.view.offsetY=nt,this.view.width=o,this.view.height=ht,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),a=(this.top-this.bottom)/(2*this.zoom),d=(this.right+this.left)/2,nt=(this.top+this.bottom)/2;let o=d-e,ht=d+e,vt=nt+a,xt=nt-a;if(this.view!==null&&this.view.enabled){const St=(this.right-this.left)/this.view.fullWidth/this.zoom,Tt=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=St*this.view.offsetX,ht=o+St*this.view.width,vt-=Tt*this.view.offsetY,xt=vt-Tt*this.view.height}this.projectionMatrix.makeOrthographic(o,ht,vt,xt,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const a=super.toJSON(e);return a.object.zoom=this.zoom,a.object.left=this.left,a.object.right=this.right,a.object.top=this.top,a.object.bottom=this.bottom,a.object.near=this.near,a.object.far=this.far,this.view!==null&&(a.object.view=Object.assign({},this.view)),a}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(e,a){super(e,a),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class AmbientLight extends Light{constructor(e,a){super(e,a),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(e,a,d=10,nt=10){super(e,a),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=d,this.height=nt}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const a=super.toJSON(e);return a.object.width=this.width,a.object.height=this.height,a}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Vector3)}set(e){for(let a=0;a<9;a++)this.coefficients[a].copy(e[a]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,a){const d=e.x,nt=e.y,o=e.z,ht=this.coefficients;return a.copy(ht[0]).multiplyScalar(.282095),a.addScaledVector(ht[1],.488603*nt),a.addScaledVector(ht[2],.488603*o),a.addScaledVector(ht[3],.488603*d),a.addScaledVector(ht[4],1.092548*(d*nt)),a.addScaledVector(ht[5],1.092548*(nt*o)),a.addScaledVector(ht[6],.315392*(3*o*o-1)),a.addScaledVector(ht[7],1.092548*(d*o)),a.addScaledVector(ht[8],.546274*(d*d-nt*nt)),a}getIrradianceAt(e,a){const d=e.x,nt=e.y,o=e.z,ht=this.coefficients;return a.copy(ht[0]).multiplyScalar(.886227),a.addScaledVector(ht[1],2*.511664*nt),a.addScaledVector(ht[2],2*.511664*o),a.addScaledVector(ht[3],2*.511664*d),a.addScaledVector(ht[4],2*.429043*d*nt),a.addScaledVector(ht[5],2*.429043*nt*o),a.addScaledVector(ht[6],.743125*o*o-.247708),a.addScaledVector(ht[7],2*.429043*d*o),a.addScaledVector(ht[8],.429043*(d*d-nt*nt)),a}add(e){for(let a=0;a<9;a++)this.coefficients[a].add(e.coefficients[a]);return this}addScaledSH(e,a){for(let d=0;d<9;d++)this.coefficients[d].addScaledVector(e.coefficients[d],a);return this}scale(e){for(let a=0;a<9;a++)this.coefficients[a].multiplyScalar(e);return this}lerp(e,a){for(let d=0;d<9;d++)this.coefficients[d].lerp(e.coefficients[d],a);return this}equals(e){for(let a=0;a<9;a++)if(!this.coefficients[a].equals(e.coefficients[a]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,a=0){const d=this.coefficients;for(let nt=0;nt<9;nt++)d[nt].fromArray(e,a+nt*3);return this}toArray(e=[],a=0){const d=this.coefficients;for(let nt=0;nt<9;nt++)d[nt].toArray(e,a+nt*3);return e}static getBasisAt(e,a){const d=e.x,nt=e.y,o=e.z;a[0]=.282095,a[1]=.488603*nt,a[2]=.488603*o,a[3]=.488603*d,a[4]=1.092548*d*nt,a[5]=1.092548*nt*o,a[6]=.315392*(3*o*o-1),a[7]=1.092548*d*o,a[8]=.546274*(d*d-nt*nt)}}class LightProbe extends Light{constructor(e=new SphericalHarmonics3,a=1){super(void 0,a),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const a=super.toJSON(e);return a.object.sh=this.sh.toArray(),a}}class MaterialLoader extends Loader{constructor(e){super(e),this.textures={}}load(e,a,d,nt){const o=this,ht=new FileLoader(o.manager);ht.setPath(o.path),ht.setRequestHeader(o.requestHeader),ht.setWithCredentials(o.withCredentials),ht.load(e,function(vt){try{a(o.parse(JSON.parse(vt)))}catch(xt){nt?nt(xt):console.error(xt),o.manager.itemError(e)}},d,nt)}parse(e){const a=this.textures;function d(o){return a[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),a[o]}const nt=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(nt.uuid=e.uuid),e.name!==void 0&&(nt.name=e.name),e.color!==void 0&&nt.color!==void 0&&nt.color.setHex(e.color),e.roughness!==void 0&&(nt.roughness=e.roughness),e.metalness!==void 0&&(nt.metalness=e.metalness),e.sheen!==void 0&&(nt.sheen=e.sheen),e.sheenColor!==void 0&&(nt.sheenColor=new Color().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(nt.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&nt.emissive!==void 0&&nt.emissive.setHex(e.emissive),e.specular!==void 0&&nt.specular!==void 0&&nt.specular.setHex(e.specular),e.specularIntensity!==void 0&&(nt.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&nt.specularColor!==void 0&&nt.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(nt.shininess=e.shininess),e.clearcoat!==void 0&&(nt.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(nt.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(nt.dispersion=e.dispersion),e.iridescence!==void 0&&(nt.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(nt.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(nt.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(nt.transmission=e.transmission),e.thickness!==void 0&&(nt.thickness=e.thickness),e.attenuationDistance!==void 0&&(nt.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&nt.attenuationColor!==void 0&&nt.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(nt.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(nt.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(nt.fog=e.fog),e.flatShading!==void 0&&(nt.flatShading=e.flatShading),e.blending!==void 0&&(nt.blending=e.blending),e.combine!==void 0&&(nt.combine=e.combine),e.side!==void 0&&(nt.side=e.side),e.shadowSide!==void 0&&(nt.shadowSide=e.shadowSide),e.opacity!==void 0&&(nt.opacity=e.opacity),e.transparent!==void 0&&(nt.transparent=e.transparent),e.alphaTest!==void 0&&(nt.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(nt.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(nt.depthFunc=e.depthFunc),e.depthTest!==void 0&&(nt.depthTest=e.depthTest),e.depthWrite!==void 0&&(nt.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(nt.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(nt.blendSrc=e.blendSrc),e.blendDst!==void 0&&(nt.blendDst=e.blendDst),e.blendEquation!==void 0&&(nt.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(nt.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(nt.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(nt.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&nt.blendColor!==void 0&&nt.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(nt.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(nt.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(nt.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(nt.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(nt.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(nt.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(nt.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(nt.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(nt.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(nt.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(nt.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(nt.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(nt.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(nt.rotation=e.rotation),e.linewidth!==void 0&&(nt.linewidth=e.linewidth),e.dashSize!==void 0&&(nt.dashSize=e.dashSize),e.gapSize!==void 0&&(nt.gapSize=e.gapSize),e.scale!==void 0&&(nt.scale=e.scale),e.polygonOffset!==void 0&&(nt.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(nt.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(nt.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(nt.dithering=e.dithering),e.alphaToCoverage!==void 0&&(nt.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(nt.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(nt.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(nt.visible=e.visible),e.toneMapped!==void 0&&(nt.toneMapped=e.toneMapped),e.userData!==void 0&&(nt.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?nt.vertexColors=e.vertexColors>0:nt.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const ht=e.uniforms[o];switch(nt.uniforms[o]={},ht.type){case"t":nt.uniforms[o].value=d(ht.value);break;case"c":nt.uniforms[o].value=new Color().setHex(ht.value);break;case"v2":nt.uniforms[o].value=new Vector2().fromArray(ht.value);break;case"v3":nt.uniforms[o].value=new Vector3().fromArray(ht.value);break;case"v4":nt.uniforms[o].value=new Vector4().fromArray(ht.value);break;case"m3":nt.uniforms[o].value=new Matrix3().fromArray(ht.value);break;case"m4":nt.uniforms[o].value=new Matrix4().fromArray(ht.value);break;default:nt.uniforms[o].value=ht.value}}if(e.defines!==void 0&&(nt.defines=e.defines),e.vertexShader!==void 0&&(nt.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(nt.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(nt.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)nt.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(nt.lights=e.lights),e.clipping!==void 0&&(nt.clipping=e.clipping),e.size!==void 0&&(nt.size=e.size),e.sizeAttenuation!==void 0&&(nt.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(nt.map=d(e.map)),e.matcap!==void 0&&(nt.matcap=d(e.matcap)),e.alphaMap!==void 0&&(nt.alphaMap=d(e.alphaMap)),e.bumpMap!==void 0&&(nt.bumpMap=d(e.bumpMap)),e.bumpScale!==void 0&&(nt.bumpScale=e.bumpScale),e.normalMap!==void 0&&(nt.normalMap=d(e.normalMap)),e.normalMapType!==void 0&&(nt.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),nt.normalScale=new Vector2().fromArray(o)}return e.displacementMap!==void 0&&(nt.displacementMap=d(e.displacementMap)),e.displacementScale!==void 0&&(nt.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(nt.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(nt.roughnessMap=d(e.roughnessMap)),e.metalnessMap!==void 0&&(nt.metalnessMap=d(e.metalnessMap)),e.emissiveMap!==void 0&&(nt.emissiveMap=d(e.emissiveMap)),e.emissiveIntensity!==void 0&&(nt.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(nt.specularMap=d(e.specularMap)),e.specularIntensityMap!==void 0&&(nt.specularIntensityMap=d(e.specularIntensityMap)),e.specularColorMap!==void 0&&(nt.specularColorMap=d(e.specularColorMap)),e.envMap!==void 0&&(nt.envMap=d(e.envMap)),e.envMapRotation!==void 0&&nt.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(nt.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(nt.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(nt.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(nt.lightMap=d(e.lightMap)),e.lightMapIntensity!==void 0&&(nt.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(nt.aoMap=d(e.aoMap)),e.aoMapIntensity!==void 0&&(nt.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(nt.gradientMap=d(e.gradientMap)),e.clearcoatMap!==void 0&&(nt.clearcoatMap=d(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(nt.clearcoatRoughnessMap=d(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(nt.clearcoatNormalMap=d(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(nt.clearcoatNormalScale=new Vector2().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(nt.iridescenceMap=d(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(nt.iridescenceThicknessMap=d(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(nt.transmissionMap=d(e.transmissionMap)),e.thicknessMap!==void 0&&(nt.thicknessMap=d(e.thicknessMap)),e.anisotropyMap!==void 0&&(nt.anisotropyMap=d(e.anisotropyMap)),e.sheenColorMap!==void 0&&(nt.sheenColorMap=d(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(nt.sheenRoughnessMap=d(e.sheenRoughnessMap)),nt}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return MaterialLoader.createMaterialFromType(e)}static createMaterialFromType(e){const a={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new a[e]}}class LoaderUtils{static extractUrlBase(e){const a=e.lastIndexOf("/");return a===-1?"./":e.slice(0,a+1)}static resolveURL(e,a){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(a)&&/^\//.test(e)&&(a=a.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:a+e)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class BufferGeometryLoader extends Loader{constructor(e){super(e)}load(e,a,d,nt){const o=this,ht=new FileLoader(o.manager);ht.setPath(o.path),ht.setRequestHeader(o.requestHeader),ht.setWithCredentials(o.withCredentials),ht.load(e,function(vt){try{a(o.parse(JSON.parse(vt)))}catch(xt){nt?nt(xt):console.error(xt),o.manager.itemError(e)}},d,nt)}parse(e){const a={},d={};function nt(Rt,yt){if(a[yt]!==void 0)return a[yt];const Nt=Rt.interleavedBuffers[yt],Lt=o(Rt,Nt.buffer),Ot=getTypedArray(Nt.type,Lt),Ft=new InterleavedBuffer(Ot,Nt.stride);return Ft.uuid=Nt.uuid,a[yt]=Ft,Ft}function o(Rt,yt){if(d[yt]!==void 0)return d[yt];const Nt=Rt.arrayBuffers[yt],Lt=new Uint32Array(Nt).buffer;return d[yt]=Lt,Lt}const ht=e.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,vt=e.data.index;if(vt!==void 0){const Rt=getTypedArray(vt.type,vt.array);ht.setIndex(new BufferAttribute(Rt,1))}const xt=e.data.attributes;for(const Rt in xt){const yt=xt[Rt];let Dt;if(yt.isInterleavedBufferAttribute){const Nt=nt(e.data,yt.data);Dt=new InterleavedBufferAttribute(Nt,yt.itemSize,yt.offset,yt.normalized)}else{const Nt=getTypedArray(yt.type,yt.array),Lt=yt.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;Dt=new Lt(Nt,yt.itemSize,yt.normalized)}yt.name!==void 0&&(Dt.name=yt.name),yt.usage!==void 0&&Dt.setUsage(yt.usage),ht.setAttribute(Rt,Dt)}const St=e.data.morphAttributes;if(St)for(const Rt in St){const yt=St[Rt],Dt=[];for(let Nt=0,Lt=yt.length;Nt<Lt;Nt++){const Ot=yt[Nt];let Ft;if(Ot.isInterleavedBufferAttribute){const Vt=nt(e.data,Ot.data);Ft=new InterleavedBufferAttribute(Vt,Ot.itemSize,Ot.offset,Ot.normalized)}else{const Vt=getTypedArray(Ot.type,Ot.array);Ft=new BufferAttribute(Vt,Ot.itemSize,Ot.normalized)}Ot.name!==void 0&&(Ft.name=Ot.name),Dt.push(Ft)}ht.morphAttributes[Rt]=Dt}e.data.morphTargetsRelative&&(ht.morphTargetsRelative=!0);const At=e.data.groups||e.data.drawcalls||e.data.offsets;if(At!==void 0)for(let Rt=0,yt=At.length;Rt!==yt;++Rt){const Dt=At[Rt];ht.addGroup(Dt.start,Dt.count,Dt.materialIndex)}const Ct=e.data.boundingSphere;if(Ct!==void 0){const Rt=new Vector3;Ct.center!==void 0&&Rt.fromArray(Ct.center),ht.boundingSphere=new Sphere(Rt,Ct.radius)}return e.name&&(ht.name=e.name),e.userData&&(ht.userData=e.userData),ht}}class ObjectLoader extends Loader{constructor(e){super(e)}load(e,a,d,nt){const o=this,ht=this.path===""?LoaderUtils.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||ht;const vt=new FileLoader(this.manager);vt.setPath(this.path),vt.setRequestHeader(this.requestHeader),vt.setWithCredentials(this.withCredentials),vt.load(e,function(xt){let St=null;try{St=JSON.parse(xt)}catch(At){nt!==void 0&&nt(At),console.error("THREE:ObjectLoader: Can't parse "+e+".",At.message);return}const Tt=St.metadata;if(Tt===void 0||Tt.type===void 0||Tt.type.toLowerCase()==="geometry"){nt!==void 0&&nt(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(St,a)},d,nt)}async loadAsync(e,a){const d=this,nt=this.path===""?LoaderUtils.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||nt;const o=new FileLoader(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const ht=await o.loadAsync(e,a),vt=JSON.parse(ht),xt=vt.metadata;if(xt===void 0||xt.type===void 0||xt.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await d.parseAsync(vt)}parse(e,a){const d=this.parseAnimations(e.animations),nt=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,nt),ht=this.parseImages(e.images,function(){a!==void 0&&a(St)}),vt=this.parseTextures(e.textures,ht),xt=this.parseMaterials(e.materials,vt),St=this.parseObject(e.object,o,xt,vt,d),Tt=this.parseSkeletons(e.skeletons,St);if(this.bindSkeletons(St,Tt),this.bindLightTargets(St),a!==void 0){let At=!1;for(const Ct in ht)if(ht[Ct].data instanceof HTMLImageElement){At=!0;break}At===!1&&a(St)}return St}async parseAsync(e){const a=this.parseAnimations(e.animations),d=this.parseShapes(e.shapes),nt=this.parseGeometries(e.geometries,d),o=await this.parseImagesAsync(e.images),ht=this.parseTextures(e.textures,o),vt=this.parseMaterials(e.materials,ht),xt=this.parseObject(e.object,nt,vt,ht,a),St=this.parseSkeletons(e.skeletons,xt);return this.bindSkeletons(xt,St),this.bindLightTargets(xt),xt}parseShapes(e){const a={};if(e!==void 0)for(let d=0,nt=e.length;d<nt;d++){const o=new Shape().fromJSON(e[d]);a[o.uuid]=o}return a}parseSkeletons(e,a){const d={},nt={};if(a.traverse(function(o){o.isBone&&(nt[o.uuid]=o)}),e!==void 0)for(let o=0,ht=e.length;o<ht;o++){const vt=new Skeleton().fromJSON(e[o],nt);d[vt.uuid]=vt}return d}parseGeometries(e,a){const d={};if(e!==void 0){const nt=new BufferGeometryLoader;for(let o=0,ht=e.length;o<ht;o++){let vt;const xt=e[o];switch(xt.type){case"BufferGeometry":case"InstancedBufferGeometry":vt=nt.parse(xt);break;default:xt.type in Geometries?vt=Geometries[xt.type].fromJSON(xt,a):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${xt.type}"`)}vt.uuid=xt.uuid,xt.name!==void 0&&(vt.name=xt.name),xt.userData!==void 0&&(vt.userData=xt.userData),d[xt.uuid]=vt}}return d}parseMaterials(e,a){const d={},nt={};if(e!==void 0){const o=new MaterialLoader;o.setTextures(a);for(let ht=0,vt=e.length;ht<vt;ht++){const xt=e[ht];d[xt.uuid]===void 0&&(d[xt.uuid]=o.parse(xt)),nt[xt.uuid]=d[xt.uuid]}}return nt}parseAnimations(e){const a={};if(e!==void 0)for(let d=0;d<e.length;d++){const nt=e[d],o=AnimationClip.parse(nt);a[o.uuid]=o}return a}parseImages(e,a){const d=this,nt={};let o;function ht(xt){return d.manager.itemStart(xt),o.load(xt,function(){d.manager.itemEnd(xt)},void 0,function(){d.manager.itemError(xt),d.manager.itemEnd(xt)})}function vt(xt){if(typeof xt=="string"){const St=xt,Tt=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(St)?St:d.resourcePath+St;return ht(Tt)}else return xt.data?{data:getTypedArray(xt.type,xt.data),width:xt.width,height:xt.height}:null}if(e!==void 0&&e.length>0){const xt=new LoadingManager(a);o=new ImageLoader(xt),o.setCrossOrigin(this.crossOrigin);for(let St=0,Tt=e.length;St<Tt;St++){const At=e[St],Ct=At.url;if(Array.isArray(Ct)){const Rt=[];for(let yt=0,Dt=Ct.length;yt<Dt;yt++){const Nt=Ct[yt],Lt=vt(Nt);Lt!==null&&(Lt instanceof HTMLImageElement?Rt.push(Lt):Rt.push(new DataTexture(Lt.data,Lt.width,Lt.height)))}nt[At.uuid]=new Source(Rt)}else{const Rt=vt(At.url);nt[At.uuid]=new Source(Rt)}}}return nt}async parseImagesAsync(e){const a=this,d={};let nt;async function o(ht){if(typeof ht=="string"){const vt=ht,xt=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(vt)?vt:a.resourcePath+vt;return await nt.loadAsync(xt)}else return ht.data?{data:getTypedArray(ht.type,ht.data),width:ht.width,height:ht.height}:null}if(e!==void 0&&e.length>0){nt=new ImageLoader(this.manager),nt.setCrossOrigin(this.crossOrigin);for(let ht=0,vt=e.length;ht<vt;ht++){const xt=e[ht],St=xt.url;if(Array.isArray(St)){const Tt=[];for(let At=0,Ct=St.length;At<Ct;At++){const Rt=St[At],yt=await o(Rt);yt!==null&&(yt instanceof HTMLImageElement?Tt.push(yt):Tt.push(new DataTexture(yt.data,yt.width,yt.height)))}d[xt.uuid]=new Source(Tt)}else{const Tt=await o(xt.url);d[xt.uuid]=new Source(Tt)}}}return d}parseTextures(e,a){function d(o,ht){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),ht[o])}const nt={};if(e!==void 0)for(let o=0,ht=e.length;o<ht;o++){const vt=e[o];vt.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',vt.uuid),a[vt.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",vt.image);const xt=a[vt.image],St=xt.data;let Tt;Array.isArray(St)?(Tt=new CubeTexture,St.length===6&&(Tt.needsUpdate=!0)):(St&&St.data?Tt=new DataTexture:Tt=new Texture,St&&(Tt.needsUpdate=!0)),Tt.source=xt,Tt.uuid=vt.uuid,vt.name!==void 0&&(Tt.name=vt.name),vt.mapping!==void 0&&(Tt.mapping=d(vt.mapping,TEXTURE_MAPPING)),vt.channel!==void 0&&(Tt.channel=vt.channel),vt.offset!==void 0&&Tt.offset.fromArray(vt.offset),vt.repeat!==void 0&&Tt.repeat.fromArray(vt.repeat),vt.center!==void 0&&Tt.center.fromArray(vt.center),vt.rotation!==void 0&&(Tt.rotation=vt.rotation),vt.wrap!==void 0&&(Tt.wrapS=d(vt.wrap[0],TEXTURE_WRAPPING),Tt.wrapT=d(vt.wrap[1],TEXTURE_WRAPPING)),vt.format!==void 0&&(Tt.format=vt.format),vt.internalFormat!==void 0&&(Tt.internalFormat=vt.internalFormat),vt.type!==void 0&&(Tt.type=vt.type),vt.colorSpace!==void 0&&(Tt.colorSpace=vt.colorSpace),vt.minFilter!==void 0&&(Tt.minFilter=d(vt.minFilter,TEXTURE_FILTER)),vt.magFilter!==void 0&&(Tt.magFilter=d(vt.magFilter,TEXTURE_FILTER)),vt.anisotropy!==void 0&&(Tt.anisotropy=vt.anisotropy),vt.flipY!==void 0&&(Tt.flipY=vt.flipY),vt.generateMipmaps!==void 0&&(Tt.generateMipmaps=vt.generateMipmaps),vt.premultiplyAlpha!==void 0&&(Tt.premultiplyAlpha=vt.premultiplyAlpha),vt.unpackAlignment!==void 0&&(Tt.unpackAlignment=vt.unpackAlignment),vt.compareFunction!==void 0&&(Tt.compareFunction=vt.compareFunction),vt.userData!==void 0&&(Tt.userData=vt.userData),nt[vt.uuid]=Tt}return nt}parseObject(e,a,d,nt,o){let ht;function vt(Ct){return a[Ct]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",Ct),a[Ct]}function xt(Ct){if(Ct!==void 0){if(Array.isArray(Ct)){const Rt=[];for(let yt=0,Dt=Ct.length;yt<Dt;yt++){const Nt=Ct[yt];d[Nt]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Nt),Rt.push(d[Nt])}return Rt}return d[Ct]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Ct),d[Ct]}}function St(Ct){return nt[Ct]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",Ct),nt[Ct]}let Tt,At;switch(e.type){case"Scene":ht=new Scene,e.background!==void 0&&(Number.isInteger(e.background)?ht.background=new Color(e.background):ht.background=St(e.background)),e.environment!==void 0&&(ht.environment=St(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?ht.fog=new Fog(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(ht.fog=new FogExp2(e.fog.color,e.fog.density)),e.fog.name!==""&&(ht.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(ht.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(ht.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&ht.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(ht.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&ht.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":ht=new PerspectiveCamera(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(ht.focus=e.focus),e.zoom!==void 0&&(ht.zoom=e.zoom),e.filmGauge!==void 0&&(ht.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(ht.filmOffset=e.filmOffset),e.view!==void 0&&(ht.view=Object.assign({},e.view));break;case"OrthographicCamera":ht=new OrthographicCamera(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(ht.zoom=e.zoom),e.view!==void 0&&(ht.view=Object.assign({},e.view));break;case"AmbientLight":ht=new AmbientLight(e.color,e.intensity);break;case"DirectionalLight":ht=new DirectionalLight(e.color,e.intensity),ht.target=e.target||"";break;case"PointLight":ht=new PointLight(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":ht=new RectAreaLight(e.color,e.intensity,e.width,e.height);break;case"SpotLight":ht=new SpotLight(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),ht.target=e.target||"";break;case"HemisphereLight":ht=new HemisphereLight(e.color,e.groundColor,e.intensity);break;case"LightProbe":ht=new LightProbe().fromJSON(e);break;case"SkinnedMesh":Tt=vt(e.geometry),At=xt(e.material),ht=new SkinnedMesh(Tt,At),e.bindMode!==void 0&&(ht.bindMode=e.bindMode),e.bindMatrix!==void 0&&ht.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(ht.skeleton=e.skeleton);break;case"Mesh":Tt=vt(e.geometry),At=xt(e.material),ht=new Mesh(Tt,At);break;case"InstancedMesh":Tt=vt(e.geometry),At=xt(e.material);const Ct=e.count,Rt=e.instanceMatrix,yt=e.instanceColor;ht=new InstancedMesh(Tt,At,Ct),ht.instanceMatrix=new InstancedBufferAttribute(new Float32Array(Rt.array),16),yt!==void 0&&(ht.instanceColor=new InstancedBufferAttribute(new Float32Array(yt.array),yt.itemSize));break;case"BatchedMesh":Tt=vt(e.geometry),At=xt(e.material),ht=new BatchedMesh(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,At),ht.geometry=Tt,ht.perObjectFrustumCulled=e.perObjectFrustumCulled,ht.sortObjects=e.sortObjects,ht._drawRanges=e.drawRanges,ht._reservedRanges=e.reservedRanges,ht._geometryInfo=e.geometryInfo.map(Dt=>{let Nt=null,Lt=null;return Dt.boundingBox!==void 0&&(Nt=new Box3,Nt.min.fromArray(Dt.boundingBox.min),Nt.max.fromArray(Dt.boundingBox.max)),Dt.boundingSphere!==void 0&&(Lt=new Sphere,Lt.radius=Dt.boundingSphere.radius,Lt.center.fromArray(Dt.boundingSphere.center)),{...Dt,boundingBox:Nt,boundingSphere:Lt}}),ht._instanceInfo=e.instanceInfo,ht._availableInstanceIds=e._availableInstanceIds,ht._availableGeometryIds=e._availableGeometryIds,ht._nextIndexStart=e.nextIndexStart,ht._nextVertexStart=e.nextVertexStart,ht._geometryCount=e.geometryCount,ht._maxInstanceCount=e.maxInstanceCount,ht._maxVertexCount=e.maxVertexCount,ht._maxIndexCount=e.maxIndexCount,ht._geometryInitialized=e.geometryInitialized,ht._matricesTexture=St(e.matricesTexture.uuid),ht._indirectTexture=St(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(ht._colorsTexture=St(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(ht.boundingSphere=new Sphere,ht.boundingSphere.center.fromArray(e.boundingSphere.center),ht.boundingSphere.radius=e.boundingSphere.radius),e.boundingBox!==void 0&&(ht.boundingBox=new Box3,ht.boundingBox.min.fromArray(e.boundingBox.min),ht.boundingBox.max.fromArray(e.boundingBox.max));break;case"LOD":ht=new LOD;break;case"Line":ht=new Line(vt(e.geometry),xt(e.material));break;case"LineLoop":ht=new LineLoop(vt(e.geometry),xt(e.material));break;case"LineSegments":ht=new LineSegments(vt(e.geometry),xt(e.material));break;case"PointCloud":case"Points":ht=new Points(vt(e.geometry),xt(e.material));break;case"Sprite":ht=new Sprite(xt(e.material));break;case"Group":ht=new Group;break;case"Bone":ht=new Bone;break;default:ht=new Object3D}if(ht.uuid=e.uuid,e.name!==void 0&&(ht.name=e.name),e.matrix!==void 0?(ht.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(ht.matrixAutoUpdate=e.matrixAutoUpdate),ht.matrixAutoUpdate&&ht.matrix.decompose(ht.position,ht.quaternion,ht.scale)):(e.position!==void 0&&ht.position.fromArray(e.position),e.rotation!==void 0&&ht.rotation.fromArray(e.rotation),e.quaternion!==void 0&&ht.quaternion.fromArray(e.quaternion),e.scale!==void 0&&ht.scale.fromArray(e.scale)),e.up!==void 0&&ht.up.fromArray(e.up),e.castShadow!==void 0&&(ht.castShadow=e.castShadow),e.receiveShadow!==void 0&&(ht.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(ht.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(ht.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(ht.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(ht.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&ht.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(ht.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(ht.visible=e.visible),e.frustumCulled!==void 0&&(ht.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(ht.renderOrder=e.renderOrder),e.userData!==void 0&&(ht.userData=e.userData),e.layers!==void 0&&(ht.layers.mask=e.layers),e.children!==void 0){const Ct=e.children;for(let Rt=0;Rt<Ct.length;Rt++)ht.add(this.parseObject(Ct[Rt],a,d,nt,o))}if(e.animations!==void 0){const Ct=e.animations;for(let Rt=0;Rt<Ct.length;Rt++){const yt=Ct[Rt];ht.animations.push(o[yt])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(ht.autoUpdate=e.autoUpdate);const Ct=e.levels;for(let Rt=0;Rt<Ct.length;Rt++){const yt=Ct[Rt],Dt=ht.getObjectByProperty("uuid",yt.object);Dt!==void 0&&ht.addLevel(Dt,yt.distance,yt.hysteresis)}}return ht}bindSkeletons(e,a){Object.keys(a).length!==0&&e.traverse(function(d){if(d.isSkinnedMesh===!0&&d.skeleton!==void 0){const nt=a[d.skeleton];nt===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",d.skeleton):d.bind(nt,d.bindMatrix)}})}bindLightTargets(e){e.traverse(function(a){if(a.isDirectionalLight||a.isSpotLight){const d=a.target,nt=e.getObjectByProperty("uuid",d);nt!==void 0?a.target=nt:a.target=new Object3D}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,a,d,nt){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,ht=Cache.get(e);if(ht!==void 0){if(o.manager.itemStart(e),ht.then){ht.then(St=>{a&&a(St),o.manager.itemEnd(e)}).catch(St=>{nt&&nt(St)});return}return setTimeout(function(){a&&a(ht),o.manager.itemEnd(e)},0),ht}const vt={};vt.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",vt.headers=this.requestHeader;const xt=fetch(e,vt).then(function(St){return St.blob()}).then(function(St){return createImageBitmap(St,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(St){return Cache.add(e,St),a&&a(St),o.manager.itemEnd(e),St}).catch(function(St){nt&&nt(St),Cache.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});Cache.add(e,xt),o.manager.itemStart(e)}}let _context;class AudioContext{static getContext(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context}static setContext(e){_context=e}}class AudioLoader extends Loader{constructor(e){super(e)}load(e,a,d,nt){const o=this,ht=new FileLoader(this.manager);ht.setResponseType("arraybuffer"),ht.setPath(this.path),ht.setRequestHeader(this.requestHeader),ht.setWithCredentials(this.withCredentials),ht.load(e,function(xt){try{const St=xt.slice(0);AudioContext.getContext().decodeAudioData(St,function(At){a(At)}).catch(vt)}catch(St){vt(St)}},d,nt);function vt(xt){nt?nt(xt):console.error(xt),o.manager.itemError(e)}}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const a=this._cache;if(a.focus!==e.focus||a.fov!==e.fov||a.aspect!==e.aspect*this.aspect||a.near!==e.near||a.far!==e.far||a.zoom!==e.zoom||a.eyeSep!==this.eyeSep){a.focus=e.focus,a.fov=e.fov,a.aspect=e.aspect*this.aspect,a.near=e.near,a.far=e.far,a.zoom=e.zoom,a.eyeSep=this.eyeSep,_projectionMatrix.copy(e.projectionMatrix);const nt=a.eyeSep/2,o=nt*a.near/a.focus,ht=a.near*Math.tan(DEG2RAD*a.fov*.5)/a.zoom;let vt,xt;_eyeLeft.elements[12]=-nt,_eyeRight.elements[12]=nt,vt=-ht*a.aspect+o,xt=ht*a.aspect+o,_projectionMatrix.elements[0]=2*a.near/(xt-vt),_projectionMatrix.elements[8]=(xt+vt)/(xt-vt),this.cameraL.projectionMatrix.copy(_projectionMatrix),vt=-ht*a.aspect-o,xt=ht*a.aspect-o,_projectionMatrix.elements[0]=2*a.near/(xt-vt),_projectionMatrix.elements[8]=(xt+vt)/(xt-vt),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(_eyeRight)}}class ArrayCamera extends PerspectiveCamera{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class Clock{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const a=now();e=(a-this.oldTime)/1e3,this.oldTime=a,this.elapsedTime+=e}return e}}function now(){return performance.now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const a=this.context.listener,d=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),a.positionX){const nt=this.context.currentTime+this.timeDelta;a.positionX.linearRampToValueAtTime(_position$1.x,nt),a.positionY.linearRampToValueAtTime(_position$1.y,nt),a.positionZ.linearRampToValueAtTime(_position$1.z,nt),a.forwardX.linearRampToValueAtTime(_orientation$1.x,nt),a.forwardY.linearRampToValueAtTime(_orientation$1.y,nt),a.forwardZ.linearRampToValueAtTime(_orientation$1.z,nt),a.upX.linearRampToValueAtTime(d.x,nt),a.upY.linearRampToValueAtTime(d.y,nt),a.upZ.linearRampToValueAtTime(d.z,nt)}else a.setPosition(_position$1.x,_position$1.y,_position$1.z),a.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,d.x,d.y,d.z)}}let Audio$1=class extends Object3D{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const a=this.context.createBufferSource();return a.buffer=this.buffer,a.loop=this.loop,a.loopStart=this.loopStart,a.loopEnd=this.loopEnd,a.onended=this.onEnded.bind(this),a.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=a,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,a=this.filters.length;e<a;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,a=this.filters.length;e<a;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,a){return super.copy(e,a),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}};const _position=new Vector3,_quaternion$5=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio$1{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,a,d){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=a,this.panner.coneOuterGain=d,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion$5,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion$5);const a=this.panner;if(a.positionX){const d=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(_position.x,d),a.positionY.linearRampToValueAtTime(_position.y,d),a.positionZ.linearRampToValueAtTime(_position.z,d),a.orientationX.linearRampToValueAtTime(_orientation.x,d),a.orientationY.linearRampToValueAtTime(_orientation.y,d),a.orientationZ.linearRampToValueAtTime(_orientation.z,d)}else a.setPosition(_position.x,_position.y,_position.z),a.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(e,a=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=a,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const a=this.getFrequencyData();for(let d=0;d<a.length;d++)e+=a[d];return e/a.length}}class PropertyMixer{constructor(e,a,d){this.binding=e,this.valueSize=d;let nt,o,ht;switch(a){case"quaternion":nt=this._slerp,o=this._slerpAdditive,ht=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(d*6),this._workIndex=5;break;case"string":case"bool":nt=this._select,o=this._select,ht=this._setAdditiveIdentityOther,this.buffer=new Array(d*5);break;default:nt=this._lerp,o=this._lerpAdditive,ht=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(d*5)}this._mixBufferRegion=nt,this._mixBufferRegionAdditive=o,this._setIdentity=ht,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,a){const d=this.buffer,nt=this.valueSize,o=e*nt+nt;let ht=this.cumulativeWeight;if(ht===0){for(let vt=0;vt!==nt;++vt)d[o+vt]=d[vt];ht=a}else{ht+=a;const vt=a/ht;this._mixBufferRegion(d,o,0,vt,nt)}this.cumulativeWeight=ht}accumulateAdditive(e){const a=this.buffer,d=this.valueSize,nt=d*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(a,nt,0,e,d),this.cumulativeWeightAdditive+=e}apply(e){const a=this.valueSize,d=this.buffer,nt=e*a+a,o=this.cumulativeWeight,ht=this.cumulativeWeightAdditive,vt=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const xt=a*this._origIndex;this._mixBufferRegion(d,nt,xt,1-o,a)}ht>0&&this._mixBufferRegionAdditive(d,nt,this._addIndex*a,1,a);for(let xt=a,St=a+a;xt!==St;++xt)if(d[xt]!==d[xt+a]){vt.setValue(d,nt);break}}saveOriginalState(){const e=this.binding,a=this.buffer,d=this.valueSize,nt=d*this._origIndex;e.getValue(a,nt);for(let o=d,ht=nt;o!==ht;++o)a[o]=a[nt+o%d];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,a=e+this.valueSize;for(let d=e;d<a;d++)this.buffer[d]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,a=this._addIndex*this.valueSize;for(let d=0;d<this.valueSize;d++)this.buffer[a+d]=this.buffer[e+d]}_select(e,a,d,nt,o){if(nt>=.5)for(let ht=0;ht!==o;++ht)e[a+ht]=e[d+ht]}_slerp(e,a,d,nt){Quaternion.slerpFlat(e,a,e,a,e,d,nt)}_slerpAdditive(e,a,d,nt,o){const ht=this._workIndex*o;Quaternion.multiplyQuaternionsFlat(e,ht,e,a,e,d),Quaternion.slerpFlat(e,a,e,a,e,ht,nt)}_lerp(e,a,d,nt,o){const ht=1-nt;for(let vt=0;vt!==o;++vt){const xt=a+vt;e[xt]=e[xt]*ht+e[d+vt]*nt}}_lerpAdditive(e,a,d,nt,o){for(let ht=0;ht!==o;++ht){const vt=a+ht;e[vt]=e[vt]+e[d+ht]*nt}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(e,a,d){const nt=d||PropertyBinding.parseTrackName(a);this._targetGroup=e,this._bindings=e.subscribe_(a,nt)}getValue(e,a){this.bind();const d=this._targetGroup.nCachedObjects_,nt=this._bindings[d];nt!==void 0&&nt.getValue(e,a)}setValue(e,a){const d=this._bindings;for(let nt=this._targetGroup.nCachedObjects_,o=d.length;nt!==o;++nt)d[nt].setValue(e,a)}bind(){const e=this._bindings;for(let a=this._targetGroup.nCachedObjects_,d=e.length;a!==d;++a)e[a].bind()}unbind(){const e=this._bindings;for(let a=this._targetGroup.nCachedObjects_,d=e.length;a!==d;++a)e[a].unbind()}}class PropertyBinding{constructor(e,a,d){this.path=a,this.parsedPath=d||PropertyBinding.parseTrackName(a),this.node=PropertyBinding.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,a,d){return e&&e.isAnimationObjectGroup?new PropertyBinding.Composite(e,a,d):new PropertyBinding(e,a,d)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(e){const a=_trackRe.exec(e);if(a===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const d={nodeName:a[2],objectName:a[3],objectIndex:a[4],propertyName:a[5],propertyIndex:a[6]},nt=d.nodeName&&d.nodeName.lastIndexOf(".");if(nt!==void 0&&nt!==-1){const o=d.nodeName.substring(nt+1);_supportedObjectNames.indexOf(o)!==-1&&(d.nodeName=d.nodeName.substring(0,nt),d.objectName=o)}if(d.propertyName===null||d.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return d}static findNode(e,a){if(a===void 0||a===""||a==="."||a===-1||a===e.name||a===e.uuid)return e;if(e.skeleton){const d=e.skeleton.getBoneByName(a);if(d!==void 0)return d}if(e.children){const d=function(o){for(let ht=0;ht<o.length;ht++){const vt=o[ht];if(vt.name===a||vt.uuid===a)return vt;const xt=d(vt.children);if(xt)return xt}return null},nt=d(e.children);if(nt)return nt}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,a){e[a]=this.targetObject[this.propertyName]}_getValue_array(e,a){const d=this.resolvedProperty;for(let nt=0,o=d.length;nt!==o;++nt)e[a++]=d[nt]}_getValue_arrayElement(e,a){e[a]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,a){this.resolvedProperty.toArray(e,a)}_setValue_direct(e,a){this.targetObject[this.propertyName]=e[a]}_setValue_direct_setNeedsUpdate(e,a){this.targetObject[this.propertyName]=e[a],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,a){this.targetObject[this.propertyName]=e[a],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,a){const d=this.resolvedProperty;for(let nt=0,o=d.length;nt!==o;++nt)d[nt]=e[a++]}_setValue_array_setNeedsUpdate(e,a){const d=this.resolvedProperty;for(let nt=0,o=d.length;nt!==o;++nt)d[nt]=e[a++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,a){const d=this.resolvedProperty;for(let nt=0,o=d.length;nt!==o;++nt)d[nt]=e[a++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,a){this.resolvedProperty[this.propertyIndex]=e[a]}_setValue_arrayElement_setNeedsUpdate(e,a){this.resolvedProperty[this.propertyIndex]=e[a],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,a){this.resolvedProperty[this.propertyIndex]=e[a],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,a){this.resolvedProperty.fromArray(e,a)}_setValue_fromArray_setNeedsUpdate(e,a){this.resolvedProperty.fromArray(e,a),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,a){this.resolvedProperty.fromArray(e,a),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,a){this.bind(),this.getValue(e,a)}_setValue_unbound(e,a){this.bind(),this.setValue(e,a)}bind(){let e=this.node;const a=this.parsedPath,d=a.objectName,nt=a.propertyName;let o=a.propertyIndex;if(e||(e=PropertyBinding.findNode(this.rootNode,a.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(d){let St=a.objectIndex;switch(d){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let Tt=0;Tt<e.length;Tt++)if(e[Tt].name===St){St=Tt;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[d]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[d]}if(St!==void 0){if(e[St]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[St]}}const ht=e[nt];if(ht===void 0){const St=a.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+St+"."+nt+" but it wasn't found.",e);return}let vt=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?vt=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(vt=this.Versioning.MatrixWorldNeedsUpdate);let xt=this.BindingType.Direct;if(o!==void 0){if(nt==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}xt=this.BindingType.ArrayElement,this.resolvedProperty=ht,this.propertyIndex=o}else ht.fromArray!==void 0&&ht.toArray!==void 0?(xt=this.BindingType.HasFromToArray,this.resolvedProperty=ht):Array.isArray(ht)?(xt=this.BindingType.EntireArray,this.resolvedProperty=ht):this.propertyName=nt;this.getValue=this.GetterByBindingType[xt],this.setValue=this.SetterByBindingTypeAndVersioning[xt][vt]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let d=0,nt=arguments.length;d!==nt;++d)e[arguments[d].uuid]=d;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const a=this;this.stats={objects:{get total(){return a._objects.length},get inUse(){return this.total-a.nCachedObjects_}},get bindingsPerObject(){return a._bindings.length}}}add(){const e=this._objects,a=this._indicesByUUID,d=this._paths,nt=this._parsedPaths,o=this._bindings,ht=o.length;let vt,xt=e.length,St=this.nCachedObjects_;for(let Tt=0,At=arguments.length;Tt!==At;++Tt){const Ct=arguments[Tt],Rt=Ct.uuid;let yt=a[Rt];if(yt===void 0){yt=xt++,a[Rt]=yt,e.push(Ct);for(let Dt=0,Nt=ht;Dt!==Nt;++Dt)o[Dt].push(new PropertyBinding(Ct,d[Dt],nt[Dt]))}else if(yt<St){vt=e[yt];const Dt=--St,Nt=e[Dt];a[Nt.uuid]=yt,e[yt]=Nt,a[Rt]=Dt,e[Dt]=Ct;for(let Lt=0,Ot=ht;Lt!==Ot;++Lt){const Ft=o[Lt],Vt=Ft[Dt];let jt=Ft[yt];Ft[yt]=Vt,jt===void 0&&(jt=new PropertyBinding(Ct,d[Lt],nt[Lt])),Ft[Dt]=jt}}else e[yt]!==vt&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=St}remove(){const e=this._objects,a=this._indicesByUUID,d=this._bindings,nt=d.length;let o=this.nCachedObjects_;for(let ht=0,vt=arguments.length;ht!==vt;++ht){const xt=arguments[ht],St=xt.uuid,Tt=a[St];if(Tt!==void 0&&Tt>=o){const At=o++,Ct=e[At];a[Ct.uuid]=Tt,e[Tt]=Ct,a[St]=At,e[At]=xt;for(let Rt=0,yt=nt;Rt!==yt;++Rt){const Dt=d[Rt],Nt=Dt[At],Lt=Dt[Tt];Dt[Tt]=Nt,Dt[At]=Lt}}}this.nCachedObjects_=o}uncache(){const e=this._objects,a=this._indicesByUUID,d=this._bindings,nt=d.length;let o=this.nCachedObjects_,ht=e.length;for(let vt=0,xt=arguments.length;vt!==xt;++vt){const St=arguments[vt],Tt=St.uuid,At=a[Tt];if(At!==void 0)if(delete a[Tt],At<o){const Ct=--o,Rt=e[Ct],yt=--ht,Dt=e[yt];a[Rt.uuid]=At,e[At]=Rt,a[Dt.uuid]=Ct,e[Ct]=Dt,e.pop();for(let Nt=0,Lt=nt;Nt!==Lt;++Nt){const Ot=d[Nt],Ft=Ot[Ct],Vt=Ot[yt];Ot[At]=Ft,Ot[Ct]=Vt,Ot.pop()}}else{const Ct=--ht,Rt=e[Ct];Ct>0&&(a[Rt.uuid]=At),e[At]=Rt,e.pop();for(let yt=0,Dt=nt;yt!==Dt;++yt){const Nt=d[yt];Nt[At]=Nt[Ct],Nt.pop()}}}this.nCachedObjects_=o}subscribe_(e,a){const d=this._bindingsIndicesByPath;let nt=d[e];const o=this._bindings;if(nt!==void 0)return o[nt];const ht=this._paths,vt=this._parsedPaths,xt=this._objects,St=xt.length,Tt=this.nCachedObjects_,At=new Array(St);nt=o.length,d[e]=nt,ht.push(e),vt.push(a),o.push(At);for(let Ct=Tt,Rt=xt.length;Ct!==Rt;++Ct){const yt=xt[Ct];At[Ct]=new PropertyBinding(yt,e,a)}return At}unsubscribe_(e){const a=this._bindingsIndicesByPath,d=a[e];if(d!==void 0){const nt=this._paths,o=this._parsedPaths,ht=this._bindings,vt=ht.length-1,xt=ht[vt],St=e[vt];a[St]=d,ht[d]=xt,ht.pop(),o[d]=o[vt],o.pop(),nt[d]=nt[vt],nt.pop()}}}class AnimationAction{constructor(e,a,d=null,nt=a.blendMode){this._mixer=e,this._clip=a,this._localRoot=d,this.blendMode=nt;const o=a.tracks,ht=o.length,vt=new Array(ht),xt={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let St=0;St!==ht;++St){const Tt=o[St].createInterpolant(null);vt[St]=Tt,Tt.settings=xt}this._interpolantSettings=xt,this._interpolants=vt,this._propertyBindings=new Array(ht),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,a){return this.loop=e,this.repetitions=a,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,a,d=!1){if(e.fadeOut(a),this.fadeIn(a),d===!0){const nt=this._clip.duration,o=e._clip.duration,ht=o/nt,vt=nt/o;e.warp(1,ht,a),this.warp(vt,1,a)}return this}crossFadeTo(e,a,d=!1){return e.crossFadeFrom(this,a,d)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,a,d){const nt=this._mixer,o=nt.time,ht=this.timeScale;let vt=this._timeScaleInterpolant;vt===null&&(vt=nt._lendControlInterpolant(),this._timeScaleInterpolant=vt);const xt=vt.parameterPositions,St=vt.sampleValues;return xt[0]=o,xt[1]=o+d,St[0]=e/ht,St[1]=a/ht,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,a,d,nt){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const xt=(e-o)*d;xt<0||d===0?a=0:(this._startTime=null,a=d*xt)}a*=this._updateTimeScale(e);const ht=this._updateTime(a),vt=this._updateWeight(e);if(vt>0){const xt=this._interpolants,St=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let Tt=0,At=xt.length;Tt!==At;++Tt)xt[Tt].evaluate(ht),St[Tt].accumulateAdditive(vt);break;case NormalAnimationBlendMode:default:for(let Tt=0,At=xt.length;Tt!==At;++Tt)xt[Tt].evaluate(ht),St[Tt].accumulate(nt,vt)}}}_updateWeight(e){let a=0;if(this.enabled){a=this.weight;const d=this._weightInterpolant;if(d!==null){const nt=d.evaluate(e)[0];a*=nt,e>d.parameterPositions[1]&&(this.stopFading(),nt===0&&(this.enabled=!1))}}return this._effectiveWeight=a,a}_updateTimeScale(e){let a=0;if(!this.paused){a=this.timeScale;const d=this._timeScaleInterpolant;if(d!==null){const nt=d.evaluate(e)[0];a*=nt,e>d.parameterPositions[1]&&(this.stopWarping(),a===0?this.paused=!0:this.timeScale=a)}}return this._effectiveTimeScale=a,a}_updateTime(e){const a=this._clip.duration,d=this.loop;let nt=this.time+e,o=this._loopCount;const ht=d===LoopPingPong;if(e===0)return o===-1?nt:ht&&(o&1)===1?a-nt:nt;if(d===LoopOnce){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(nt>=a)nt=a;else if(nt<0)nt=0;else{this.time=nt;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=nt,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,ht)):this._setEndings(this.repetitions===0,!0,ht)),nt>=a||nt<0){const vt=Math.floor(nt/a);nt-=a*vt,o+=Math.abs(vt);const xt=this.repetitions-o;if(xt<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,nt=e>0?a:0,this.time=nt,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(xt===1){const St=e<0;this._setEndings(St,!St,ht)}else this._setEndings(!1,!1,ht);this._loopCount=o,this.time=nt,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:vt})}}else this.time=nt;if(ht&&(o&1)===1)return a-nt}return nt}_setEndings(e,a,d){const nt=this._interpolantSettings;d?(nt.endingStart=ZeroSlopeEnding,nt.endingEnd=ZeroSlopeEnding):(e?nt.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:nt.endingStart=WrapAroundEnding,a?nt.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:nt.endingEnd=WrapAroundEnding)}_scheduleFading(e,a,d){const nt=this._mixer,o=nt.time;let ht=this._weightInterpolant;ht===null&&(ht=nt._lendControlInterpolant(),this._weightInterpolant=ht);const vt=ht.parameterPositions,xt=ht.sampleValues;return vt[0]=o,xt[0]=a,vt[1]=o+e,xt[1]=d,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher$1{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,a){const d=e._localRoot||this._root,nt=e._clip.tracks,o=nt.length,ht=e._propertyBindings,vt=e._interpolants,xt=d.uuid,St=this._bindingsByRootAndName;let Tt=St[xt];Tt===void 0&&(Tt={},St[xt]=Tt);for(let At=0;At!==o;++At){const Ct=nt[At],Rt=Ct.name;let yt=Tt[Rt];if(yt!==void 0)++yt.referenceCount,ht[At]=yt;else{if(yt=ht[At],yt!==void 0){yt._cacheIndex===null&&(++yt.referenceCount,this._addInactiveBinding(yt,xt,Rt));continue}const Dt=a&&a._propertyBindings[At].binding.parsedPath;yt=new PropertyMixer(PropertyBinding.create(d,Rt,Dt),Ct.ValueTypeName,Ct.getValueSize()),++yt.referenceCount,this._addInactiveBinding(yt,xt,Rt),ht[At]=yt}vt[At].resultBuffer=yt.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const d=(e._localRoot||this._root).uuid,nt=e._clip.uuid,o=this._actionsByClip[nt];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,nt,d)}const a=e._propertyBindings;for(let d=0,nt=a.length;d!==nt;++d){const o=a[d];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const a=e._propertyBindings;for(let d=0,nt=a.length;d!==nt;++d){const o=a[d];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const a=e._cacheIndex;return a!==null&&a<this._nActiveActions}_addInactiveAction(e,a,d){const nt=this._actions,o=this._actionsByClip;let ht=o[a];if(ht===void 0)ht={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[a]=ht;else{const vt=ht.knownActions;e._byClipCacheIndex=vt.length,vt.push(e)}e._cacheIndex=nt.length,nt.push(e),ht.actionByRoot[d]=e}_removeInactiveAction(e){const a=this._actions,d=a[a.length-1],nt=e._cacheIndex;d._cacheIndex=nt,a[nt]=d,a.pop(),e._cacheIndex=null;const o=e._clip.uuid,ht=this._actionsByClip,vt=ht[o],xt=vt.knownActions,St=xt[xt.length-1],Tt=e._byClipCacheIndex;St._byClipCacheIndex=Tt,xt[Tt]=St,xt.pop(),e._byClipCacheIndex=null;const At=vt.actionByRoot,Ct=(e._localRoot||this._root).uuid;delete At[Ct],xt.length===0&&delete ht[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const a=e._propertyBindings;for(let d=0,nt=a.length;d!==nt;++d){const o=a[d];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const a=this._actions,d=e._cacheIndex,nt=this._nActiveActions++,o=a[nt];e._cacheIndex=nt,a[nt]=e,o._cacheIndex=d,a[d]=o}_takeBackAction(e){const a=this._actions,d=e._cacheIndex,nt=--this._nActiveActions,o=a[nt];e._cacheIndex=nt,a[nt]=e,o._cacheIndex=d,a[d]=o}_addInactiveBinding(e,a,d){const nt=this._bindingsByRootAndName,o=this._bindings;let ht=nt[a];ht===void 0&&(ht={},nt[a]=ht),ht[d]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const a=this._bindings,d=e.binding,nt=d.rootNode.uuid,o=d.path,ht=this._bindingsByRootAndName,vt=ht[nt],xt=a[a.length-1],St=e._cacheIndex;xt._cacheIndex=St,a[St]=xt,a.pop(),delete vt[o],Object.keys(vt).length===0&&delete ht[nt]}_lendBinding(e){const a=this._bindings,d=e._cacheIndex,nt=this._nActiveBindings++,o=a[nt];e._cacheIndex=nt,a[nt]=e,o._cacheIndex=d,a[d]=o}_takeBackBinding(e){const a=this._bindings,d=e._cacheIndex,nt=--this._nActiveBindings,o=a[nt];e._cacheIndex=nt,a[nt]=e,o._cacheIndex=d,a[d]=o}_lendControlInterpolant(){const e=this._controlInterpolants,a=this._nActiveControlInterpolants++;let d=e[a];return d===void 0&&(d=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),d.__cacheIndex=a,e[a]=d),d}_takeBackControlInterpolant(e){const a=this._controlInterpolants,d=e.__cacheIndex,nt=--this._nActiveControlInterpolants,o=a[nt];e.__cacheIndex=nt,a[nt]=e,o.__cacheIndex=d,a[d]=o}clipAction(e,a,d){const nt=a||this._root,o=nt.uuid;let ht=typeof e=="string"?AnimationClip.findByName(nt,e):e;const vt=ht!==null?ht.uuid:e,xt=this._actionsByClip[vt];let St=null;if(d===void 0&&(ht!==null?d=ht.blendMode:d=NormalAnimationBlendMode),xt!==void 0){const At=xt.actionByRoot[o];if(At!==void 0&&At.blendMode===d)return At;St=xt.knownActions[0],ht===null&&(ht=St._clip)}if(ht===null)return null;const Tt=new AnimationAction(this,ht,a,d);return this._bindAction(Tt,St),this._addInactiveAction(Tt,vt,o),Tt}existingAction(e,a){const d=a||this._root,nt=d.uuid,o=typeof e=="string"?AnimationClip.findByName(d,e):e,ht=o?o.uuid:e,vt=this._actionsByClip[ht];return vt!==void 0&&vt.actionByRoot[nt]||null}stopAllAction(){const e=this._actions,a=this._nActiveActions;for(let d=a-1;d>=0;--d)e[d].stop();return this}update(e){e*=this.timeScale;const a=this._actions,d=this._nActiveActions,nt=this.time+=e,o=Math.sign(e),ht=this._accuIndex^=1;for(let St=0;St!==d;++St)a[St]._update(nt,e,o,ht);const vt=this._bindings,xt=this._nActiveBindings;for(let St=0;St!==xt;++St)vt[St].apply(ht);return this}setTime(e){this.time=0;for(let a=0;a<this._actions.length;a++)this._actions[a].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const a=this._actions,d=e.uuid,nt=this._actionsByClip,o=nt[d];if(o!==void 0){const ht=o.knownActions;for(let vt=0,xt=ht.length;vt!==xt;++vt){const St=ht[vt];this._deactivateAction(St);const Tt=St._cacheIndex,At=a[a.length-1];St._cacheIndex=null,St._byClipCacheIndex=null,At._cacheIndex=Tt,a[Tt]=At,a.pop(),this._removeInactiveBindingsForAction(St)}delete nt[d]}}uncacheRoot(e){const a=e.uuid,d=this._actionsByClip;for(const ht in d){const vt=d[ht].actionByRoot,xt=vt[a];xt!==void 0&&(this._deactivateAction(xt),this._removeInactiveAction(xt))}const nt=this._bindingsByRootAndName,o=nt[a];if(o!==void 0)for(const ht in o){const vt=o[ht];vt.restoreOriginalState(),this._removeInactiveBinding(vt)}}uncacheAction(e,a){const d=this.existingAction(e,a);d!==null&&(this._deactivateAction(d),this._removeInactiveAction(d))}}class RenderTarget3D extends RenderTarget{constructor(e=1,a=1,d=1,nt={}){super(e,a,nt),this.isRenderTarget3D=!0,this.depth=d,this.texture=new Data3DTexture(null,e,a,d),this.texture.isRenderTargetTexture=!0}}class RenderTargetArray extends RenderTarget{constructor(e=1,a=1,d=1,nt={}){super(e,a,nt),this.isRenderTargetArray=!0,this.depth=d,this.texture=new DataArrayTexture(null,e,a,d),this.texture.isRenderTargetTexture=!0}}class Uniform{constructor(e){this.value=e}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let _id$3=0;class UniformsGroup extends EventDispatcher$1{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_id$3++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const a=this.uniforms.indexOf(e);return a!==-1&&this.uniforms.splice(a,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const a=e.uniforms;this.uniforms.length=0;for(let d=0,nt=a.length;d<nt;d++){const o=Array.isArray(a[d])?a[d]:[a[d]];for(let ht=0;ht<o.length;ht++)this.uniforms.push(o[ht].clone())}return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(e,a,d=1){super(e,a),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=d}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const a=super.clone(e);return a.meshPerAttribute=this.meshPerAttribute,a}toJSON(e){const a=super.toJSON(e);return a.isInstancedInterleavedBuffer=!0,a.meshPerAttribute=this.meshPerAttribute,a}}class GLBufferAttribute{constructor(e,a,d,nt,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=a,this.itemSize=d,this.elementSize=nt,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,a){return this.type=e,this.elementSize=a,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const _matrix=new Matrix4;class Raycaster{constructor(e,a,d=0,nt=1/0){this.ray=new Ray(e,a),this.near=d,this.far=nt,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,a){this.ray.set(e,a)}setFromCamera(e,a){a.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(a.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(a).sub(this.ray.origin).normalize(),this.camera=a):a.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(a.near+a.far)/(a.near-a.far)).unproject(a),this.ray.direction.set(0,0,-1).transformDirection(a.matrixWorld),this.camera=a):console.error("THREE.Raycaster: Unsupported camera type: "+a.type)}setFromXRController(e){return _matrix.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(_matrix),this}intersectObject(e,a=!0,d=[]){return intersect(e,this,d,a),d.sort(ascSort),d}intersectObjects(e,a=!0,d=[]){for(let nt=0,o=e.length;nt<o;nt++)intersect(e[nt],this,d,a);return d.sort(ascSort),d}}function ascSort(c,e){return c.distance-e.distance}function intersect(c,e,a,d){let nt=!0;if(c.layers.test(e.layers)&&c.raycast(e,a)===!1&&(nt=!1),nt===!0&&d===!0){const o=c.children;for(let ht=0,vt=o.length;ht<vt;ht++)intersect(o[ht],e,a,!0)}}class Spherical{constructor(e=1,a=0,d=0){this.radius=e,this.phi=a,this.theta=d}set(e,a,d){return this.radius=e,this.phi=a,this.theta=d,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=clamp(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,a,d){return this.radius=Math.sqrt(e*e+a*a+d*d),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,d),this.phi=Math.acos(clamp(a/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(e=1,a=0,d=0){this.radius=e,this.theta=a,this.y=d}set(e,a,d){return this.radius=e,this.theta=a,this.y=d,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,a,d){return this.radius=Math.sqrt(e*e+d*d),this.theta=Math.atan2(e,d),this.y=a,this}clone(){return new this.constructor().copy(this)}}class Matrix2{constructor(e,a,d,nt){Matrix2.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,a,d,nt)}identity(){return this.set(1,0,0,1),this}fromArray(e,a=0){for(let d=0;d<4;d++)this.elements[d]=e[d+a];return this}set(e,a,d,nt){const o=this.elements;return o[0]=e,o[2]=a,o[1]=d,o[3]=nt,this}}const _vector$4=new Vector2;class Box2{constructor(e=new Vector2(1/0,1/0),a=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=a}set(e,a){return this.min.copy(e),this.max.copy(a),this}setFromPoints(e){this.makeEmpty();for(let a=0,d=e.length;a<d;a++)this.expandByPoint(e[a]);return this}setFromCenterAndSize(e,a){const d=_vector$4.copy(a).multiplyScalar(.5);return this.min.copy(e).sub(d),this.max.copy(e).add(d),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,a){return a.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,a){return a.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_vector$4).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(e=new Vector3,a=new Vector3){this.start=e,this.end=a}set(e,a){return this.start.copy(e),this.end.copy(a),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,a){return this.delta(a).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,a){_startP.subVectors(e,this.start),_startEnd.subVectors(this.end,this.start);const d=_startEnd.dot(_startEnd);let o=_startEnd.dot(_startP)/d;return a&&(o=clamp(o,0,1)),o}closestPointToPoint(e,a,d){const nt=this.closestPointToPointParameter(e,a);return this.delta(d).multiplyScalar(nt).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(e,a){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=a,this.type="SpotLightHelper";const d=new BufferGeometry,nt=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let ht=0,vt=1,xt=32;ht<xt;ht++,vt++){const St=ht/xt*Math.PI*2,Tt=vt/xt*Math.PI*2;nt.push(Math.cos(St),Math.sin(St),1,Math.cos(Tt),Math.sin(Tt),1)}d.setAttribute("position",new Float32BufferAttribute(nt,3));const o=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(d,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,a=e*Math.tan(this.light.angle);this.cone.scale.set(a,a,e),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(e){const a=getBoneList(e),d=new BufferGeometry,nt=[],o=[],ht=new Color(0,0,1),vt=new Color(0,1,0);for(let St=0;St<a.length;St++){const Tt=a[St];Tt.parent&&Tt.parent.isBone&&(nt.push(0,0,0),nt.push(0,0,0),o.push(ht.r,ht.g,ht.b),o.push(vt.r,vt.g,vt.b))}d.setAttribute("position",new Float32BufferAttribute(nt,3)),d.setAttribute("color",new Float32BufferAttribute(o,3));const xt=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(d,xt),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=a,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const a=this.bones,d=this.geometry,nt=d.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let o=0,ht=0;o<a.length;o++){const vt=a[o];vt.parent&&vt.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,vt.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),nt.setXYZ(ht,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,vt.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),nt.setXYZ(ht+1,_vector$2.x,_vector$2.y,_vector$2.z),ht+=2)}d.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList(c){const e=[];c.isBone===!0&&e.push(c);for(let a=0;a<c.children.length;a++)e.push(...getBoneList(c.children[a]));return e}class PointLightHelper extends Mesh{constructor(e,a,d){const nt=new SphereGeometry(a,4,2),o=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(nt,o),this.light=e,this.color=d,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color,_color2=new Color;class HemisphereLightHelper extends Object3D{constructor(e,a,d){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=d,this.type="HemisphereLightHelper";const nt=new OctahedronGeometry(a);nt.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=nt.getAttribute("position"),ht=new Float32Array(o.count*3);nt.setAttribute("color",new BufferAttribute(ht,3)),this.add(new Mesh(nt,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const a=e.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let d=0,nt=a.count;d<nt;d++){const o=d<nt/2?_color1:_color2;a.setXYZ(d,o.r,o.g,o.b)}a.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(e=10,a=10,d=4473924,nt=8947848){d=new Color(d),nt=new Color(nt);const o=a/2,ht=e/a,vt=e/2,xt=[],St=[];for(let Ct=0,Rt=0,yt=-vt;Ct<=a;Ct++,yt+=ht){xt.push(-vt,0,yt,vt,0,yt),xt.push(yt,0,-vt,yt,0,vt);const Dt=Ct===o?d:nt;Dt.toArray(St,Rt),Rt+=3,Dt.toArray(St,Rt),Rt+=3,Dt.toArray(St,Rt),Rt+=3,Dt.toArray(St,Rt),Rt+=3}const Tt=new BufferGeometry;Tt.setAttribute("position",new Float32BufferAttribute(xt,3)),Tt.setAttribute("color",new Float32BufferAttribute(St,3));const At=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(Tt,At),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor(e=10,a=16,d=8,nt=64,o=4473924,ht=8947848){o=new Color(o),ht=new Color(ht);const vt=[],xt=[];if(a>1)for(let At=0;At<a;At++){const Ct=At/a*(Math.PI*2),Rt=Math.sin(Ct)*e,yt=Math.cos(Ct)*e;vt.push(0,0,0),vt.push(Rt,0,yt);const Dt=At&1?o:ht;xt.push(Dt.r,Dt.g,Dt.b),xt.push(Dt.r,Dt.g,Dt.b)}for(let At=0;At<d;At++){const Ct=At&1?o:ht,Rt=e-e/d*At;for(let yt=0;yt<nt;yt++){let Dt=yt/nt*(Math.PI*2),Nt=Math.sin(Dt)*Rt,Lt=Math.cos(Dt)*Rt;vt.push(Nt,0,Lt),xt.push(Ct.r,Ct.g,Ct.b),Dt=(yt+1)/nt*(Math.PI*2),Nt=Math.sin(Dt)*Rt,Lt=Math.cos(Dt)*Rt,vt.push(Nt,0,Lt),xt.push(Ct.r,Ct.g,Ct.b)}}const St=new BufferGeometry;St.setAttribute("position",new Float32BufferAttribute(vt,3)),St.setAttribute("color",new Float32BufferAttribute(xt,3));const Tt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(St,Tt),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(e,a,d){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=d,this.type="DirectionalLightHelper",a===void 0&&(a=1);let nt=new BufferGeometry;nt.setAttribute("position",new Float32BufferAttribute([-a,a,0,a,a,0,a,-a,0,-a,-a,0,-a,a,0],3));const o=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(nt,o),this.add(this.lightPlane),nt=new BufferGeometry,nt.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(nt,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(e){const a=new BufferGeometry,d=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),nt=[],o=[],ht={};vt("n1","n2"),vt("n2","n4"),vt("n4","n3"),vt("n3","n1"),vt("f1","f2"),vt("f2","f4"),vt("f4","f3"),vt("f3","f1"),vt("n1","f1"),vt("n2","f2"),vt("n3","f3"),vt("n4","f4"),vt("p","n1"),vt("p","n2"),vt("p","n3"),vt("p","n4"),vt("u1","u2"),vt("u2","u3"),vt("u3","u1"),vt("c","t"),vt("p","c"),vt("cn1","cn2"),vt("cn3","cn4"),vt("cf1","cf2"),vt("cf3","cf4");function vt(yt,Dt){xt(yt),xt(Dt)}function xt(yt){nt.push(0,0,0),o.push(0,0,0),ht[yt]===void 0&&(ht[yt]=[]),ht[yt].push(nt.length/3-1)}a.setAttribute("position",new Float32BufferAttribute(nt,3)),a.setAttribute("color",new Float32BufferAttribute(o,3)),super(a,d),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=ht,this.update();const St=new Color(16755200),Tt=new Color(16711680),At=new Color(43775),Ct=new Color(16777215),Rt=new Color(3355443);this.setColors(St,Tt,At,Ct,Rt)}setColors(e,a,d,nt,o){const vt=this.geometry.getAttribute("color");vt.setXYZ(0,e.r,e.g,e.b),vt.setXYZ(1,e.r,e.g,e.b),vt.setXYZ(2,e.r,e.g,e.b),vt.setXYZ(3,e.r,e.g,e.b),vt.setXYZ(4,e.r,e.g,e.b),vt.setXYZ(5,e.r,e.g,e.b),vt.setXYZ(6,e.r,e.g,e.b),vt.setXYZ(7,e.r,e.g,e.b),vt.setXYZ(8,e.r,e.g,e.b),vt.setXYZ(9,e.r,e.g,e.b),vt.setXYZ(10,e.r,e.g,e.b),vt.setXYZ(11,e.r,e.g,e.b),vt.setXYZ(12,e.r,e.g,e.b),vt.setXYZ(13,e.r,e.g,e.b),vt.setXYZ(14,e.r,e.g,e.b),vt.setXYZ(15,e.r,e.g,e.b),vt.setXYZ(16,e.r,e.g,e.b),vt.setXYZ(17,e.r,e.g,e.b),vt.setXYZ(18,e.r,e.g,e.b),vt.setXYZ(19,e.r,e.g,e.b),vt.setXYZ(20,e.r,e.g,e.b),vt.setXYZ(21,e.r,e.g,e.b),vt.setXYZ(22,e.r,e.g,e.b),vt.setXYZ(23,e.r,e.g,e.b),vt.setXYZ(24,a.r,a.g,a.b),vt.setXYZ(25,a.r,a.g,a.b),vt.setXYZ(26,a.r,a.g,a.b),vt.setXYZ(27,a.r,a.g,a.b),vt.setXYZ(28,a.r,a.g,a.b),vt.setXYZ(29,a.r,a.g,a.b),vt.setXYZ(30,a.r,a.g,a.b),vt.setXYZ(31,a.r,a.g,a.b),vt.setXYZ(32,d.r,d.g,d.b),vt.setXYZ(33,d.r,d.g,d.b),vt.setXYZ(34,d.r,d.g,d.b),vt.setXYZ(35,d.r,d.g,d.b),vt.setXYZ(36,d.r,d.g,d.b),vt.setXYZ(37,d.r,d.g,d.b),vt.setXYZ(38,nt.r,nt.g,nt.b),vt.setXYZ(39,nt.r,nt.g,nt.b),vt.setXYZ(40,o.r,o.g,o.b),vt.setXYZ(41,o.r,o.g,o.b),vt.setXYZ(42,o.r,o.g,o.b),vt.setXYZ(43,o.r,o.g,o.b),vt.setXYZ(44,o.r,o.g,o.b),vt.setXYZ(45,o.r,o.g,o.b),vt.setXYZ(46,o.r,o.g,o.b),vt.setXYZ(47,o.r,o.g,o.b),vt.setXYZ(48,o.r,o.g,o.b),vt.setXYZ(49,o.r,o.g,o.b),vt.needsUpdate=!0}update(){const e=this.geometry,a=this.pointMap,d=1,nt=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const o=this.camera.coordinateSystem===WebGLCoordinateSystem?-1:0;setPoint("c",a,e,_camera,0,0,o),setPoint("t",a,e,_camera,0,0,1),setPoint("n1",a,e,_camera,-1,-1,o),setPoint("n2",a,e,_camera,d,-1,o),setPoint("n3",a,e,_camera,-1,nt,o),setPoint("n4",a,e,_camera,d,nt,o),setPoint("f1",a,e,_camera,-1,-1,1),setPoint("f2",a,e,_camera,d,-1,1),setPoint("f3",a,e,_camera,-1,nt,1),setPoint("f4",a,e,_camera,d,nt,1),setPoint("u1",a,e,_camera,d*.7,nt*1.1,o),setPoint("u2",a,e,_camera,-1*.7,nt*1.1,o),setPoint("u3",a,e,_camera,0,nt*2,o),setPoint("cf1",a,e,_camera,-1,0,1),setPoint("cf2",a,e,_camera,d,0,1),setPoint("cf3",a,e,_camera,0,-1,1),setPoint("cf4",a,e,_camera,0,nt,1),setPoint("cn1",a,e,_camera,-1,0,o),setPoint("cn2",a,e,_camera,d,0,o),setPoint("cn3",a,e,_camera,0,-1,o),setPoint("cn4",a,e,_camera,0,nt,o),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(c,e,a,d,nt,o,ht){_vector.set(nt,o,ht).unproject(d);const vt=e[c];if(vt!==void 0){const xt=a.getAttribute("position");for(let St=0,Tt=vt.length;St<Tt;St++)xt.setXYZ(vt[St],_vector.x,_vector.y,_vector.z)}}const _box=new Box3;class BoxHelper extends LineSegments{constructor(e,a=16776960){const d=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),nt=new Float32Array(8*3),o=new BufferGeometry;o.setIndex(new BufferAttribute(d,1)),o.setAttribute("position",new BufferAttribute(nt,3)),super(o,new LineBasicMaterial({color:a,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&_box.setFromObject(this.object),_box.isEmpty())return;const e=_box.min,a=_box.max,d=this.geometry.attributes.position,nt=d.array;nt[0]=a.x,nt[1]=a.y,nt[2]=a.z,nt[3]=e.x,nt[4]=a.y,nt[5]=a.z,nt[6]=e.x,nt[7]=e.y,nt[8]=a.z,nt[9]=a.x,nt[10]=e.y,nt[11]=a.z,nt[12]=a.x,nt[13]=a.y,nt[14]=e.z,nt[15]=e.x,nt[16]=a.y,nt[17]=e.z,nt[18]=e.x,nt[19]=e.y,nt[20]=e.z,nt[21]=a.x,nt[22]=e.y,nt[23]=e.z,d.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,a){return super.copy(e,a),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor(e,a=16776960){const d=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),nt=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new BufferGeometry;o.setIndex(new BufferAttribute(d,1)),o.setAttribute("position",new Float32BufferAttribute(nt,3)),super(o,new LineBasicMaterial({color:a,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const a=this.box;a.isEmpty()||(a.getCenter(this.position),a.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line{constructor(e,a=1,d=16776960){const nt=d,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],ht=new BufferGeometry;ht.setAttribute("position",new Float32BufferAttribute(o,3)),ht.computeBoundingSphere(),super(ht,new LineBasicMaterial({color:nt,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=a;const vt=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],xt=new BufferGeometry;xt.setAttribute("position",new Float32BufferAttribute(vt,3)),xt.computeBoundingSphere(),this.add(new Mesh(xt,new MeshBasicMaterial({color:nt,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(e=new Vector3(0,0,1),a=new Vector3(0,0,0),d=1,nt=16776960,o=d*.2,ht=o*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new ConeGeometry(.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(a),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:nt,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:nt,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(d,o,ht)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(e.z,0,-e.x).normalize();const a=Math.acos(e.y);this.quaternion.setFromAxisAngle(_axis,a)}}setLength(e,a=e*.2,d=a*.2){this.line.scale.set(1,Math.max(1e-4,e-a),1),this.line.updateMatrix(),this.cone.scale.set(d,a,d),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor(e=1){const a=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],d=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],nt=new BufferGeometry;nt.setAttribute("position",new Float32BufferAttribute(a,3)),nt.setAttribute("color",new Float32BufferAttribute(d,3));const o=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(nt,o),this.type="AxesHelper"}setColors(e,a,d){const nt=new Color,o=this.geometry.attributes.color.array;return nt.set(e),nt.toArray(o,0),nt.toArray(o,3),nt.set(a),nt.toArray(o,6),nt.toArray(o,9),nt.set(d),nt.toArray(o,12),nt.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color,this.subPaths=[],this.currentPath=null}moveTo(e,a){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,a),this}lineTo(e,a){return this.currentPath.lineTo(e,a),this}quadraticCurveTo(e,a,d,nt){return this.currentPath.quadraticCurveTo(e,a,d,nt),this}bezierCurveTo(e,a,d,nt,o,ht){return this.currentPath.bezierCurveTo(e,a,d,nt,o,ht),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function a(Lt){const Ot=[];for(let Ft=0,Vt=Lt.length;Ft<Vt;Ft++){const jt=Lt[Ft],$t=new Shape;$t.curves=jt.curves,Ot.push($t)}return Ot}function d(Lt,Ot){const Ft=Ot.length;let Vt=!1;for(let jt=Ft-1,$t=0;$t<Ft;jt=$t++){let Yt=Ot[jt],Kt=Ot[$t],qt=Kt.x-Yt.x,Wt=Kt.y-Yt.y;if(Math.abs(Wt)>Number.EPSILON){if(Wt<0&&(Yt=Ot[$t],qt=-qt,Kt=Ot[jt],Wt=-Wt),Lt.y<Yt.y||Lt.y>Kt.y)continue;if(Lt.y===Yt.y){if(Lt.x===Yt.x)return!0}else{const Jt=Wt*(Lt.x-Yt.x)-qt*(Lt.y-Yt.y);if(Jt===0)return!0;if(Jt<0)continue;Vt=!Vt}}else{if(Lt.y!==Yt.y)continue;if(Kt.x<=Lt.x&&Lt.x<=Yt.x||Yt.x<=Lt.x&&Lt.x<=Kt.x)return!0}}return Vt}const nt=ShapeUtils.isClockWise,o=this.subPaths;if(o.length===0)return[];let ht,vt,xt;const St=[];if(o.length===1)return vt=o[0],xt=new Shape,xt.curves=vt.curves,St.push(xt),St;let Tt=!nt(o[0].getPoints());Tt=e?!Tt:Tt;const At=[],Ct=[];let Rt=[],yt=0,Dt;Ct[yt]=void 0,Rt[yt]=[];for(let Lt=0,Ot=o.length;Lt<Ot;Lt++)vt=o[Lt],Dt=vt.getPoints(),ht=nt(Dt),ht=e?!ht:ht,ht?(!Tt&&Ct[yt]&&yt++,Ct[yt]={s:new Shape,p:Dt},Ct[yt].s.curves=vt.curves,Tt&&yt++,Rt[yt]=[]):Rt[yt].push({h:vt,p:Dt[0]});if(!Ct[0])return a(o);if(Ct.length>1){let Lt=!1,Ot=0;for(let Ft=0,Vt=Ct.length;Ft<Vt;Ft++)At[Ft]=[];for(let Ft=0,Vt=Ct.length;Ft<Vt;Ft++){const jt=Rt[Ft];for(let $t=0;$t<jt.length;$t++){const Yt=jt[$t];let Kt=!0;for(let qt=0;qt<Ct.length;qt++)d(Yt.p,Ct[qt].p)&&(Ft!==qt&&Ot++,Kt?(Kt=!1,At[qt].push(Yt)):Lt=!0);Kt&&At[Ft].push(Yt)}}Ot>0&&Lt===!1&&(Rt=At)}let Nt;for(let Lt=0,Ot=Ct.length;Lt<Ot;Lt++){xt=Ct[Lt].s,St.push(xt),Nt=Rt[Lt];for(let Ft=0,Vt=Nt.length;Ft<Vt;Ft++)xt.holes.push(Nt[Ft].h)}return St}}class Controls extends EventDispatcher$1{constructor(e,a=null){super(),this.object=e,this.domElement=a,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function contain(c,e){const a=c.image&&c.image.width?c.image.width/c.image.height:1;return a>e?(c.repeat.x=1,c.repeat.y=a/e,c.offset.x=0,c.offset.y=(1-c.repeat.y)/2):(c.repeat.x=e/a,c.repeat.y=1,c.offset.x=(1-c.repeat.x)/2,c.offset.y=0),c}function cover(c,e){const a=c.image&&c.image.width?c.image.width/c.image.height:1;return a>e?(c.repeat.x=e/a,c.repeat.y=1,c.offset.x=(1-c.repeat.x)/2,c.offset.y=0):(c.repeat.x=1,c.repeat.y=a/e,c.offset.x=0,c.offset.y=(1-c.repeat.y)/2),c}function fill(c){return c.repeat.x=1,c.repeat.y=1,c.offset.x=0,c.offset.y=0,c}function getByteLength(c,e,a,d){const nt=getTextureTypeByteLength(d);switch(a){case AlphaFormat:return c*e;case RedFormat:return c*e/nt.components*nt.byteLength;case RedIntegerFormat:return c*e/nt.components*nt.byteLength;case RGFormat:return c*e*2/nt.components*nt.byteLength;case RGIntegerFormat:return c*e*2/nt.components*nt.byteLength;case RGBFormat:return c*e*3/nt.components*nt.byteLength;case RGBAFormat:return c*e*4/nt.components*nt.byteLength;case RGBAIntegerFormat:return c*e*4/nt.components*nt.byteLength;case RGB_S3TC_DXT1_Format:case RGBA_S3TC_DXT1_Format:return Math.floor((c+3)/4)*Math.floor((e+3)/4)*8;case RGBA_S3TC_DXT3_Format:case RGBA_S3TC_DXT5_Format:return Math.floor((c+3)/4)*Math.floor((e+3)/4)*16;case RGB_PVRTC_2BPPV1_Format:case RGBA_PVRTC_2BPPV1_Format:return Math.max(c,16)*Math.max(e,8)/4;case RGB_PVRTC_4BPPV1_Format:case RGBA_PVRTC_4BPPV1_Format:return Math.max(c,8)*Math.max(e,8)/2;case RGB_ETC1_Format:case RGB_ETC2_Format:return Math.floor((c+3)/4)*Math.floor((e+3)/4)*8;case RGBA_ETC2_EAC_Format:return Math.floor((c+3)/4)*Math.floor((e+3)/4)*16;case RGBA_ASTC_4x4_Format:return Math.floor((c+3)/4)*Math.floor((e+3)/4)*16;case RGBA_ASTC_5x4_Format:return Math.floor((c+4)/5)*Math.floor((e+3)/4)*16;case RGBA_ASTC_5x5_Format:return Math.floor((c+4)/5)*Math.floor((e+4)/5)*16;case RGBA_ASTC_6x5_Format:return Math.floor((c+5)/6)*Math.floor((e+4)/5)*16;case RGBA_ASTC_6x6_Format:return Math.floor((c+5)/6)*Math.floor((e+5)/6)*16;case RGBA_ASTC_8x5_Format:return Math.floor((c+7)/8)*Math.floor((e+4)/5)*16;case RGBA_ASTC_8x6_Format:return Math.floor((c+7)/8)*Math.floor((e+5)/6)*16;case RGBA_ASTC_8x8_Format:return Math.floor((c+7)/8)*Math.floor((e+7)/8)*16;case RGBA_ASTC_10x5_Format:return Math.floor((c+9)/10)*Math.floor((e+4)/5)*16;case RGBA_ASTC_10x6_Format:return Math.floor((c+9)/10)*Math.floor((e+5)/6)*16;case RGBA_ASTC_10x8_Format:return Math.floor((c+9)/10)*Math.floor((e+7)/8)*16;case RGBA_ASTC_10x10_Format:return Math.floor((c+9)/10)*Math.floor((e+9)/10)*16;case RGBA_ASTC_12x10_Format:return Math.floor((c+11)/12)*Math.floor((e+9)/10)*16;case RGBA_ASTC_12x12_Format:return Math.floor((c+11)/12)*Math.floor((e+11)/12)*16;case RGBA_BPTC_Format:case RGB_BPTC_SIGNED_Format:case RGB_BPTC_UNSIGNED_Format:return Math.ceil(c/4)*Math.ceil(e/4)*16;case RED_RGTC1_Format:case SIGNED_RED_RGTC1_Format:return Math.ceil(c/4)*Math.ceil(e/4)*8;case RED_GREEN_RGTC2_Format:case SIGNED_RED_GREEN_RGTC2_Format:return Math.ceil(c/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${a} format.`)}function getTextureTypeByteLength(c){switch(c){case UnsignedByteType:case ByteType:return{byteLength:1,components:1};case UnsignedShortType:case ShortType:case HalfFloatType:return{byteLength:2,components:1};case UnsignedShort4444Type:case UnsignedShort5551Type:return{byteLength:2,components:4};case UnsignedIntType:case IntType:case FloatType:return{byteLength:4,components:1};case UnsignedInt5999Type:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${c}.`)}class TextureUtils{static contain(e,a){return contain(e,a)}static cover(e,a){return cover(e,a)}static fill(e){return fill(e)}static getByteLength(e,a,d,nt){return getByteLength(e,a,d,nt)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function WebGLAnimation(){let c=null,e=!1,a=null,d=null;function nt(o,ht){a(o,ht),d=c.requestAnimationFrame(nt)}return{start:function(){e!==!0&&a!==null&&(d=c.requestAnimationFrame(nt),e=!0)},stop:function(){c.cancelAnimationFrame(d),e=!1},setAnimationLoop:function(o){a=o},setContext:function(o){c=o}}}function WebGLAttributes(c){const e=new WeakMap;function a(vt,xt){const St=vt.array,Tt=vt.usage,At=St.byteLength,Ct=c.createBuffer();c.bindBuffer(xt,Ct),c.bufferData(xt,St,Tt),vt.onUploadCallback();let Rt;if(St instanceof Float32Array)Rt=c.FLOAT;else if(St instanceof Uint16Array)vt.isFloat16BufferAttribute?Rt=c.HALF_FLOAT:Rt=c.UNSIGNED_SHORT;else if(St instanceof Int16Array)Rt=c.SHORT;else if(St instanceof Uint32Array)Rt=c.UNSIGNED_INT;else if(St instanceof Int32Array)Rt=c.INT;else if(St instanceof Int8Array)Rt=c.BYTE;else if(St instanceof Uint8Array)Rt=c.UNSIGNED_BYTE;else if(St instanceof Uint8ClampedArray)Rt=c.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+St);return{buffer:Ct,type:Rt,bytesPerElement:St.BYTES_PER_ELEMENT,version:vt.version,size:At}}function d(vt,xt,St){const Tt=xt.array,At=xt.updateRanges;if(c.bindBuffer(St,vt),At.length===0)c.bufferSubData(St,0,Tt);else{At.sort((Rt,yt)=>Rt.start-yt.start);let Ct=0;for(let Rt=1;Rt<At.length;Rt++){const yt=At[Ct],Dt=At[Rt];Dt.start<=yt.start+yt.count+1?yt.count=Math.max(yt.count,Dt.start+Dt.count-yt.start):(++Ct,At[Ct]=Dt)}At.length=Ct+1;for(let Rt=0,yt=At.length;Rt<yt;Rt++){const Dt=At[Rt];c.bufferSubData(St,Dt.start*Tt.BYTES_PER_ELEMENT,Tt,Dt.start,Dt.count)}xt.clearUpdateRanges()}xt.onUploadCallback()}function nt(vt){return vt.isInterleavedBufferAttribute&&(vt=vt.data),e.get(vt)}function o(vt){vt.isInterleavedBufferAttribute&&(vt=vt.data);const xt=e.get(vt);xt&&(c.deleteBuffer(xt.buffer),e.delete(vt))}function ht(vt,xt){if(vt.isInterleavedBufferAttribute&&(vt=vt.data),vt.isGLBufferAttribute){const Tt=e.get(vt);(!Tt||Tt.version<vt.version)&&e.set(vt,{buffer:vt.buffer,type:vt.type,bytesPerElement:vt.elementSize,version:vt.version});return}const St=e.get(vt);if(St===void 0)e.set(vt,a(vt,xt));else if(St.version<vt.version){if(St.size!==vt.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");d(St.buffer,vt,xt),St.version=vt.version}}return{get:nt,remove:o,update:ht}}var alphahash_fragment=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,alphahash_pars_fragment=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,batching_pars_vertex=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,batching_vertex=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,begin_vertex=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,colorspace_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphinstance_vertex=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,normal_fragment_maps=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,opaque_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uv_pars_fragment=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_pars_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphahash_fragment,alphahash_pars_fragment,alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,batching_pars_vertex,batching_vertex,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,colorspace_fragment,colorspace_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphinstance_vertex,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,opaque_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Matrix3}},envmap:{envMap:{value:null},envMapRotation:{value:new Matrix3},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Matrix3},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Matrix3}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Matrix3},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Matrix3},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Matrix3},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Matrix3},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Matrix3},anisotropyVector:{value:new Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Matrix3}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0},_e1$1=new Euler,_m1$1=new Matrix4;function WebGLBackground(c,e,a,d,nt,o,ht){const vt=new Color(0);let xt=o===!0?0:1,St,Tt,At=null,Ct=0,Rt=null;function yt(Ft){let Vt=Ft.isScene===!0?Ft.background:null;return Vt&&Vt.isTexture&&(Vt=(Ft.backgroundBlurriness>0?a:e).get(Vt)),Vt}function Dt(Ft){let Vt=!1;const jt=yt(Ft);jt===null?Lt(vt,xt):jt&&jt.isColor&&(Lt(jt,1),Vt=!0);const $t=c.xr.getEnvironmentBlendMode();$t==="additive"?d.buffers.color.setClear(0,0,0,1,ht):$t==="alpha-blend"&&d.buffers.color.setClear(0,0,0,0,ht),(c.autoClear||Vt)&&(d.buffers.depth.setTest(!0),d.buffers.depth.setMask(!0),d.buffers.color.setMask(!0),c.clear(c.autoClearColor,c.autoClearDepth,c.autoClearStencil))}function Nt(Ft,Vt){const jt=yt(Vt);jt&&(jt.isCubeTexture||jt.mapping===CubeUVReflectionMapping)?(Tt===void 0&&(Tt=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),Tt.geometry.deleteAttribute("normal"),Tt.geometry.deleteAttribute("uv"),Tt.onBeforeRender=function($t,Yt,Kt){this.matrixWorld.copyPosition(Kt.matrixWorld)},Object.defineProperty(Tt.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),nt.update(Tt)),_e1$1.copy(Vt.backgroundRotation),_e1$1.x*=-1,_e1$1.y*=-1,_e1$1.z*=-1,jt.isCubeTexture&&jt.isRenderTargetTexture===!1&&(_e1$1.y*=-1,_e1$1.z*=-1),Tt.material.uniforms.envMap.value=jt,Tt.material.uniforms.flipEnvMap.value=jt.isCubeTexture&&jt.isRenderTargetTexture===!1?-1:1,Tt.material.uniforms.backgroundBlurriness.value=Vt.backgroundBlurriness,Tt.material.uniforms.backgroundIntensity.value=Vt.backgroundIntensity,Tt.material.uniforms.backgroundRotation.value.setFromMatrix4(_m1$1.makeRotationFromEuler(_e1$1)),Tt.material.toneMapped=ColorManagement.getTransfer(jt.colorSpace)!==SRGBTransfer,(At!==jt||Ct!==jt.version||Rt!==c.toneMapping)&&(Tt.material.needsUpdate=!0,At=jt,Ct=jt.version,Rt=c.toneMapping),Tt.layers.enableAll(),Ft.unshift(Tt,Tt.geometry,Tt.material,0,0,null)):jt&&jt.isTexture&&(St===void 0&&(St=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),St.geometry.deleteAttribute("normal"),Object.defineProperty(St.material,"map",{get:function(){return this.uniforms.t2D.value}}),nt.update(St)),St.material.uniforms.t2D.value=jt,St.material.uniforms.backgroundIntensity.value=Vt.backgroundIntensity,St.material.toneMapped=ColorManagement.getTransfer(jt.colorSpace)!==SRGBTransfer,jt.matrixAutoUpdate===!0&&jt.updateMatrix(),St.material.uniforms.uvTransform.value.copy(jt.matrix),(At!==jt||Ct!==jt.version||Rt!==c.toneMapping)&&(St.material.needsUpdate=!0,At=jt,Ct=jt.version,Rt=c.toneMapping),St.layers.enableAll(),Ft.unshift(St,St.geometry,St.material,0,0,null))}function Lt(Ft,Vt){Ft.getRGB(_rgb,getUnlitUniformColorSpace(c)),d.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,Vt,ht)}function Ot(){Tt!==void 0&&(Tt.geometry.dispose(),Tt.material.dispose(),Tt=void 0),St!==void 0&&(St.geometry.dispose(),St.material.dispose(),St=void 0)}return{getClearColor:function(){return vt},setClearColor:function(Ft,Vt=1){vt.set(Ft),xt=Vt,Lt(vt,xt)},getClearAlpha:function(){return xt},setClearAlpha:function(Ft){xt=Ft,Lt(vt,xt)},render:Dt,addToRenderList:Nt,dispose:Ot}}function WebGLBindingStates(c,e){const a=c.getParameter(c.MAX_VERTEX_ATTRIBS),d={},nt=Ct(null);let o=nt,ht=!1;function vt(Wt,Jt,cn,sn,Tn){let Cn=!1;const En=At(sn,cn,Jt);o!==En&&(o=En,St(o.object)),Cn=Rt(Wt,sn,cn,Tn),Cn&&yt(Wt,sn,cn,Tn),Tn!==null&&e.update(Tn,c.ELEMENT_ARRAY_BUFFER),(Cn||ht)&&(ht=!1,Vt(Wt,Jt,cn,sn),Tn!==null&&c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,e.get(Tn).buffer))}function xt(){return c.createVertexArray()}function St(Wt){return c.bindVertexArray(Wt)}function Tt(Wt){return c.deleteVertexArray(Wt)}function At(Wt,Jt,cn){const sn=cn.wireframe===!0;let Tn=d[Wt.id];Tn===void 0&&(Tn={},d[Wt.id]=Tn);let Cn=Tn[Jt.id];Cn===void 0&&(Cn={},Tn[Jt.id]=Cn);let En=Cn[sn];return En===void 0&&(En=Ct(xt()),Cn[sn]=En),En}function Ct(Wt){const Jt=[],cn=[],sn=[];for(let Tn=0;Tn<a;Tn++)Jt[Tn]=0,cn[Tn]=0,sn[Tn]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Jt,enabledAttributes:cn,attributeDivisors:sn,object:Wt,attributes:{},index:null}}function Rt(Wt,Jt,cn,sn){const Tn=o.attributes,Cn=Jt.attributes;let En=0;const Nn=cn.getAttributes();for(const on in Nn)if(Nn[on].location>=0){const pn=Tn[on];let Pn=Cn[on];if(Pn===void 0&&(on==="instanceMatrix"&&Wt.instanceMatrix&&(Pn=Wt.instanceMatrix),on==="instanceColor"&&Wt.instanceColor&&(Pn=Wt.instanceColor)),pn===void 0||pn.attribute!==Pn||Pn&&pn.data!==Pn.data)return!0;En++}return o.attributesNum!==En||o.index!==sn}function yt(Wt,Jt,cn,sn){const Tn={},Cn=Jt.attributes;let En=0;const Nn=cn.getAttributes();for(const on in Nn)if(Nn[on].location>=0){let pn=Cn[on];pn===void 0&&(on==="instanceMatrix"&&Wt.instanceMatrix&&(pn=Wt.instanceMatrix),on==="instanceColor"&&Wt.instanceColor&&(pn=Wt.instanceColor));const Pn={};Pn.attribute=pn,pn&&pn.data&&(Pn.data=pn.data),Tn[on]=Pn,En++}o.attributes=Tn,o.attributesNum=En,o.index=sn}function Dt(){const Wt=o.newAttributes;for(let Jt=0,cn=Wt.length;Jt<cn;Jt++)Wt[Jt]=0}function Nt(Wt){Lt(Wt,0)}function Lt(Wt,Jt){const cn=o.newAttributes,sn=o.enabledAttributes,Tn=o.attributeDivisors;cn[Wt]=1,sn[Wt]===0&&(c.enableVertexAttribArray(Wt),sn[Wt]=1),Tn[Wt]!==Jt&&(c.vertexAttribDivisor(Wt,Jt),Tn[Wt]=Jt)}function Ot(){const Wt=o.newAttributes,Jt=o.enabledAttributes;for(let cn=0,sn=Jt.length;cn<sn;cn++)Jt[cn]!==Wt[cn]&&(c.disableVertexAttribArray(cn),Jt[cn]=0)}function Ft(Wt,Jt,cn,sn,Tn,Cn,En){En===!0?c.vertexAttribIPointer(Wt,Jt,cn,Tn,Cn):c.vertexAttribPointer(Wt,Jt,cn,sn,Tn,Cn)}function Vt(Wt,Jt,cn,sn){Dt();const Tn=sn.attributes,Cn=cn.getAttributes(),En=Jt.defaultAttributeValues;for(const Nn in Cn){const on=Cn[Nn];if(on.location>=0){let hn=Tn[Nn];if(hn===void 0&&(Nn==="instanceMatrix"&&Wt.instanceMatrix&&(hn=Wt.instanceMatrix),Nn==="instanceColor"&&Wt.instanceColor&&(hn=Wt.instanceColor)),hn!==void 0){const pn=hn.normalized,Pn=hn.itemSize,jn=e.get(hn);if(jn===void 0)continue;const ar=jn.buffer,An=jn.type,Xn=jn.bytesPerElement,or=An===c.INT||An===c.UNSIGNED_INT||hn.gpuType===IntType;if(hn.isInterleavedBufferAttribute){const tr=hn.data,_r=tr.stride,kr=hn.offset;if(tr.isInstancedInterleavedBuffer){for(let hr=0;hr<on.locationSize;hr++)Lt(on.location+hr,tr.meshPerAttribute);Wt.isInstancedMesh!==!0&&sn._maxInstanceCount===void 0&&(sn._maxInstanceCount=tr.meshPerAttribute*tr.count)}else for(let hr=0;hr<on.locationSize;hr++)Nt(on.location+hr);c.bindBuffer(c.ARRAY_BUFFER,ar);for(let hr=0;hr<on.locationSize;hr++)Ft(on.location+hr,Pn/on.locationSize,An,pn,_r*Xn,(kr+Pn/on.locationSize*hr)*Xn,or)}else{if(hn.isInstancedBufferAttribute){for(let tr=0;tr<on.locationSize;tr++)Lt(on.location+tr,hn.meshPerAttribute);Wt.isInstancedMesh!==!0&&sn._maxInstanceCount===void 0&&(sn._maxInstanceCount=hn.meshPerAttribute*hn.count)}else for(let tr=0;tr<on.locationSize;tr++)Nt(on.location+tr);c.bindBuffer(c.ARRAY_BUFFER,ar);for(let tr=0;tr<on.locationSize;tr++)Ft(on.location+tr,Pn/on.locationSize,An,pn,Pn*Xn,Pn/on.locationSize*tr*Xn,or)}}else if(En!==void 0){const pn=En[Nn];if(pn!==void 0)switch(pn.length){case 2:c.vertexAttrib2fv(on.location,pn);break;case 3:c.vertexAttrib3fv(on.location,pn);break;case 4:c.vertexAttrib4fv(on.location,pn);break;default:c.vertexAttrib1fv(on.location,pn)}}}}Ot()}function jt(){Kt();for(const Wt in d){const Jt=d[Wt];for(const cn in Jt){const sn=Jt[cn];for(const Tn in sn)Tt(sn[Tn].object),delete sn[Tn];delete Jt[cn]}delete d[Wt]}}function $t(Wt){if(d[Wt.id]===void 0)return;const Jt=d[Wt.id];for(const cn in Jt){const sn=Jt[cn];for(const Tn in sn)Tt(sn[Tn].object),delete sn[Tn];delete Jt[cn]}delete d[Wt.id]}function Yt(Wt){for(const Jt in d){const cn=d[Jt];if(cn[Wt.id]===void 0)continue;const sn=cn[Wt.id];for(const Tn in sn)Tt(sn[Tn].object),delete sn[Tn];delete cn[Wt.id]}}function Kt(){qt(),ht=!0,o!==nt&&(o=nt,St(o.object))}function qt(){nt.geometry=null,nt.program=null,nt.wireframe=!1}return{setup:vt,reset:Kt,resetDefaultState:qt,dispose:jt,releaseStatesOfGeometry:$t,releaseStatesOfProgram:Yt,initAttributes:Dt,enableAttribute:Nt,disableUnusedAttributes:Ot}}function WebGLBufferRenderer(c,e,a){let d;function nt(St){d=St}function o(St,Tt){c.drawArrays(d,St,Tt),a.update(Tt,d,1)}function ht(St,Tt,At){At!==0&&(c.drawArraysInstanced(d,St,Tt,At),a.update(Tt,d,At))}function vt(St,Tt,At){if(At===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(d,St,0,Tt,0,At);let Rt=0;for(let yt=0;yt<At;yt++)Rt+=Tt[yt];a.update(Rt,d,1)}function xt(St,Tt,At,Ct){if(At===0)return;const Rt=e.get("WEBGL_multi_draw");if(Rt===null)for(let yt=0;yt<St.length;yt++)ht(St[yt],Tt[yt],Ct[yt]);else{Rt.multiDrawArraysInstancedWEBGL(d,St,0,Tt,0,Ct,0,At);let yt=0;for(let Dt=0;Dt<At;Dt++)yt+=Tt[Dt]*Ct[Dt];a.update(yt,d,1)}}this.setMode=nt,this.render=o,this.renderInstances=ht,this.renderMultiDraw=vt,this.renderMultiDrawInstances=xt}function WebGLCapabilities(c,e,a,d){let nt;function o(){if(nt!==void 0)return nt;if(e.has("EXT_texture_filter_anisotropic")===!0){const Yt=e.get("EXT_texture_filter_anisotropic");nt=c.getParameter(Yt.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else nt=0;return nt}function ht(Yt){return!(Yt!==RGBAFormat&&d.convert(Yt)!==c.getParameter(c.IMPLEMENTATION_COLOR_READ_FORMAT))}function vt(Yt){const Kt=Yt===HalfFloatType&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(Yt!==UnsignedByteType&&d.convert(Yt)!==c.getParameter(c.IMPLEMENTATION_COLOR_READ_TYPE)&&Yt!==FloatType&&!Kt)}function xt(Yt){if(Yt==="highp"){if(c.getShaderPrecisionFormat(c.VERTEX_SHADER,c.HIGH_FLOAT).precision>0&&c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.HIGH_FLOAT).precision>0)return"highp";Yt="mediump"}return Yt==="mediump"&&c.getShaderPrecisionFormat(c.VERTEX_SHADER,c.MEDIUM_FLOAT).precision>0&&c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let St=a.precision!==void 0?a.precision:"highp";const Tt=xt(St);Tt!==St&&(console.warn("THREE.WebGLRenderer:",St,"not supported, using",Tt,"instead."),St=Tt);const At=a.logarithmicDepthBuffer===!0,Ct=a.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),Rt=c.getParameter(c.MAX_TEXTURE_IMAGE_UNITS),yt=c.getParameter(c.MAX_VERTEX_TEXTURE_IMAGE_UNITS),Dt=c.getParameter(c.MAX_TEXTURE_SIZE),Nt=c.getParameter(c.MAX_CUBE_MAP_TEXTURE_SIZE),Lt=c.getParameter(c.MAX_VERTEX_ATTRIBS),Ot=c.getParameter(c.MAX_VERTEX_UNIFORM_VECTORS),Ft=c.getParameter(c.MAX_VARYING_VECTORS),Vt=c.getParameter(c.MAX_FRAGMENT_UNIFORM_VECTORS),jt=yt>0,$t=c.getParameter(c.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:xt,textureFormatReadable:ht,textureTypeReadable:vt,precision:St,logarithmicDepthBuffer:At,reverseDepthBuffer:Ct,maxTextures:Rt,maxVertexTextures:yt,maxTextureSize:Dt,maxCubemapSize:Nt,maxAttributes:Lt,maxVertexUniforms:Ot,maxVaryings:Ft,maxFragmentUniforms:Vt,vertexTextures:jt,maxSamples:$t}}function WebGLClipping(c){const e=this;let a=null,d=0,nt=!1,o=!1;const ht=new Plane,vt=new Matrix3,xt={value:null,needsUpdate:!1};this.uniform=xt,this.numPlanes=0,this.numIntersection=0,this.init=function(At,Ct){const Rt=At.length!==0||Ct||d!==0||nt;return nt=Ct,d=At.length,Rt},this.beginShadows=function(){o=!0,Tt(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(At,Ct){a=Tt(At,Ct,0)},this.setState=function(At,Ct,Rt){const yt=At.clippingPlanes,Dt=At.clipIntersection,Nt=At.clipShadows,Lt=c.get(At);if(!nt||yt===null||yt.length===0||o&&!Nt)o?Tt(null):St();else{const Ot=o?0:d,Ft=Ot*4;let Vt=Lt.clippingState||null;xt.value=Vt,Vt=Tt(yt,Ct,Ft,Rt);for(let jt=0;jt!==Ft;++jt)Vt[jt]=a[jt];Lt.clippingState=Vt,this.numIntersection=Dt?this.numPlanes:0,this.numPlanes+=Ot}};function St(){xt.value!==a&&(xt.value=a,xt.needsUpdate=d>0),e.numPlanes=d,e.numIntersection=0}function Tt(At,Ct,Rt,yt){const Dt=At!==null?At.length:0;let Nt=null;if(Dt!==0){if(Nt=xt.value,yt!==!0||Nt===null){const Lt=Rt+Dt*4,Ot=Ct.matrixWorldInverse;vt.getNormalMatrix(Ot),(Nt===null||Nt.length<Lt)&&(Nt=new Float32Array(Lt));for(let Ft=0,Vt=Rt;Ft!==Dt;++Ft,Vt+=4)ht.copy(At[Ft]).applyMatrix4(Ot,vt),ht.normal.toArray(Nt,Vt),Nt[Vt+3]=ht.constant}xt.value=Nt,xt.needsUpdate=!0}return e.numPlanes=Dt,e.numIntersection=0,Nt}}function WebGLCubeMaps(c){let e=new WeakMap;function a(ht,vt){return vt===EquirectangularReflectionMapping?ht.mapping=CubeReflectionMapping:vt===EquirectangularRefractionMapping&&(ht.mapping=CubeRefractionMapping),ht}function d(ht){if(ht&&ht.isTexture){const vt=ht.mapping;if(vt===EquirectangularReflectionMapping||vt===EquirectangularRefractionMapping)if(e.has(ht)){const xt=e.get(ht).texture;return a(xt,ht.mapping)}else{const xt=ht.image;if(xt&&xt.height>0){const St=new WebGLCubeRenderTarget(xt.height);return St.fromEquirectangularTexture(c,ht),e.set(ht,St),ht.addEventListener("dispose",nt),a(St.texture,ht.mapping)}else return null}}return ht}function nt(ht){const vt=ht.target;vt.removeEventListener("dispose",nt);const xt=e.get(vt);xt!==void 0&&(e.delete(vt),xt.dispose())}function o(){e=new WeakMap}return{get:d,dispose:o}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color;let _oldTarget=null,_oldActiveCubeFace=0,_oldActiveMipmapLevel=0,_oldXrEnabled=!1;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(-PHI,INV_PHI,0),new Vector3(PHI,INV_PHI,0),new Vector3(-INV_PHI,0,PHI),new Vector3(INV_PHI,0,PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(0,PHI,INV_PHI),new Vector3(-1,1,-1),new Vector3(1,1,-1),new Vector3(-1,1,1),new Vector3(1,1,1)],_origin=new Vector3;class PMREMGenerator{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,a=0,d=.1,nt=100,o={}){const{size:ht=256,position:vt=_origin}=o;_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(ht);const xt=this._allocateTargets();return xt.depthBuffer=!0,this._sceneToCubeUV(e,d,nt,xt,vt),a>0&&this._blur(xt,0,0,a),this._applyPMREM(xt),this._cleanup(xt),xt}fromEquirectangular(e,a=null){return this._fromTexture(e,a)}fromCubemap(e,a=null){return this._fromTexture(e,a)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(_oldTarget,_oldActiveCubeFace,_oldActiveMipmapLevel),this._renderer.xr.enabled=_oldXrEnabled,e.scissorTest=!1,_setViewport(e,0,0,e.width,e.height)}_fromTexture(e,a){e.mapping===CubeReflectionMapping||e.mapping===CubeRefractionMapping?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const d=a||this._allocateTargets();return this._textureToCubeUV(e,d),this._applyPMREM(d),this._cleanup(d),d}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),a=4*this._cubeSize,d={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace,depthBuffer:!1},nt=_createRenderTarget(e,a,d);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==a){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(e,a,d);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(o)),this._blurMaterial=_getBlurShader(o,e,a)}return nt}_compileMaterial(e){const a=new Mesh(this._lodPlanes[0],e);this._renderer.compile(a,_flatCamera)}_sceneToCubeUV(e,a,d,nt,o){const xt=new PerspectiveCamera(90,1,a,d),St=[1,-1,1,1,1,1],Tt=[1,1,1,-1,-1,-1],At=this._renderer,Ct=At.autoClear,Rt=At.toneMapping;At.getClearColor(_clearColor),At.toneMapping=NoToneMapping,At.autoClear=!1;const yt=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),Dt=new Mesh(new BoxGeometry,yt);let Nt=!1;const Lt=e.background;Lt?Lt.isColor&&(yt.color.copy(Lt),e.background=null,Nt=!0):(yt.color.copy(_clearColor),Nt=!0);for(let Ot=0;Ot<6;Ot++){const Ft=Ot%3;Ft===0?(xt.up.set(0,St[Ot],0),xt.position.set(o.x,o.y,o.z),xt.lookAt(o.x+Tt[Ot],o.y,o.z)):Ft===1?(xt.up.set(0,0,St[Ot]),xt.position.set(o.x,o.y,o.z),xt.lookAt(o.x,o.y+Tt[Ot],o.z)):(xt.up.set(0,St[Ot],0),xt.position.set(o.x,o.y,o.z),xt.lookAt(o.x,o.y,o.z+Tt[Ot]));const Vt=this._cubeSize;_setViewport(nt,Ft*Vt,Ot>2?Vt:0,Vt,Vt),At.setRenderTarget(nt),Nt&&At.render(Dt,xt),At.render(e,xt)}Dt.geometry.dispose(),Dt.material.dispose(),At.toneMapping=Rt,At.autoClear=Ct,e.background=Lt}_textureToCubeUV(e,a){const d=this._renderer,nt=e.mapping===CubeReflectionMapping||e.mapping===CubeRefractionMapping;nt?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const o=nt?this._cubemapMaterial:this._equirectMaterial,ht=new Mesh(this._lodPlanes[0],o),vt=o.uniforms;vt.envMap.value=e;const xt=this._cubeSize;_setViewport(a,0,0,3*xt,2*xt),d.setRenderTarget(a),d.render(ht,_flatCamera)}_applyPMREM(e){const a=this._renderer,d=a.autoClear;a.autoClear=!1;const nt=this._lodPlanes.length;for(let o=1;o<nt;o++){const ht=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),vt=_axisDirections[(nt-o-1)%_axisDirections.length];this._blur(e,o-1,o,ht,vt)}a.autoClear=d}_blur(e,a,d,nt,o){const ht=this._pingPongRenderTarget;this._halfBlur(e,ht,a,d,nt,"latitudinal",o),this._halfBlur(ht,e,d,d,nt,"longitudinal",o)}_halfBlur(e,a,d,nt,o,ht,vt){const xt=this._renderer,St=this._blurMaterial;ht!=="latitudinal"&&ht!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const Tt=3,At=new Mesh(this._lodPlanes[nt],St),Ct=St.uniforms,Rt=this._sizeLods[d]-1,yt=isFinite(o)?Math.PI/(2*Rt):2*Math.PI/(2*MAX_SAMPLES-1),Dt=o/yt,Nt=isFinite(o)?1+Math.floor(Tt*Dt):MAX_SAMPLES;Nt>MAX_SAMPLES&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${Nt} samples when the maximum is set to ${MAX_SAMPLES}`);const Lt=[];let Ot=0;for(let Yt=0;Yt<MAX_SAMPLES;++Yt){const Kt=Yt/Dt,qt=Math.exp(-Kt*Kt/2);Lt.push(qt),Yt===0?Ot+=qt:Yt<Nt&&(Ot+=2*qt)}for(let Yt=0;Yt<Lt.length;Yt++)Lt[Yt]=Lt[Yt]/Ot;Ct.envMap.value=e.texture,Ct.samples.value=Nt,Ct.weights.value=Lt,Ct.latitudinal.value=ht==="latitudinal",vt&&(Ct.poleAxis.value=vt);const{_lodMax:Ft}=this;Ct.dTheta.value=yt,Ct.mipInt.value=Ft-d;const Vt=this._sizeLods[nt],jt=3*Vt*(nt>Ft-LOD_MIN?nt-Ft+LOD_MIN:0),$t=4*(this._cubeSize-Vt);_setViewport(a,jt,$t,3*Vt,2*Vt),xt.setRenderTarget(a),xt.render(At,_flatCamera)}}function _createPlanes(c){const e=[],a=[],d=[];let nt=c;const o=c-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let ht=0;ht<o;ht++){const vt=Math.pow(2,nt);a.push(vt);let xt=1/vt;ht>c-LOD_MIN?xt=EXTRA_LOD_SIGMA[ht-c+LOD_MIN-1]:ht===0&&(xt=0),d.push(xt);const St=1/(vt-2),Tt=-St,At=1+St,Ct=[Tt,Tt,At,Tt,At,At,Tt,Tt,At,At,Tt,At],Rt=6,yt=6,Dt=3,Nt=2,Lt=1,Ot=new Float32Array(Dt*yt*Rt),Ft=new Float32Array(Nt*yt*Rt),Vt=new Float32Array(Lt*yt*Rt);for(let $t=0;$t<Rt;$t++){const Yt=$t%3*2/3-1,Kt=$t>2?0:-1,qt=[Yt,Kt,0,Yt+2/3,Kt,0,Yt+2/3,Kt+1,0,Yt,Kt,0,Yt+2/3,Kt+1,0,Yt,Kt+1,0];Ot.set(qt,Dt*yt*$t),Ft.set(Ct,Nt*yt*$t);const Wt=[$t,$t,$t,$t,$t,$t];Vt.set(Wt,Lt*yt*$t)}const jt=new BufferGeometry;jt.setAttribute("position",new BufferAttribute(Ot,Dt)),jt.setAttribute("uv",new BufferAttribute(Ft,Nt)),jt.setAttribute("faceIndex",new BufferAttribute(Vt,Lt)),e.push(jt),nt>LOD_MIN&&nt--}return{lodPlanes:e,sizeLods:a,sigmas:d}}function _createRenderTarget(c,e,a){const d=new WebGLRenderTarget(c,e,a);return d.texture.mapping=CubeUVReflectionMapping,d.texture.name="PMREM.cubeUv",d.scissorTest=!0,d}function _setViewport(c,e,a,d,nt){c.viewport.set(e,a,d,nt),c.scissor.set(e,a,d,nt)}function _getBlurShader(c,e,a){const d=new Float32Array(MAX_SAMPLES),nt=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/a,CUBEUV_MAX_MIP:`${c}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:d},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:nt}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(c){let e=new WeakMap,a=null;function d(vt){if(vt&&vt.isTexture){const xt=vt.mapping,St=xt===EquirectangularReflectionMapping||xt===EquirectangularRefractionMapping,Tt=xt===CubeReflectionMapping||xt===CubeRefractionMapping;if(St||Tt){let At=e.get(vt);const Ct=At!==void 0?At.texture.pmremVersion:0;if(vt.isRenderTargetTexture&&vt.pmremVersion!==Ct)return a===null&&(a=new PMREMGenerator(c)),At=St?a.fromEquirectangular(vt,At):a.fromCubemap(vt,At),At.texture.pmremVersion=vt.pmremVersion,e.set(vt,At),At.texture;if(At!==void 0)return At.texture;{const Rt=vt.image;return St&&Rt&&Rt.height>0||Tt&&Rt&&nt(Rt)?(a===null&&(a=new PMREMGenerator(c)),At=St?a.fromEquirectangular(vt):a.fromCubemap(vt),At.texture.pmremVersion=vt.pmremVersion,e.set(vt,At),vt.addEventListener("dispose",o),At.texture):null}}}return vt}function nt(vt){let xt=0;const St=6;for(let Tt=0;Tt<St;Tt++)vt[Tt]!==void 0&&xt++;return xt===St}function o(vt){const xt=vt.target;xt.removeEventListener("dispose",o);const St=e.get(xt);St!==void 0&&(e.delete(xt),St.dispose())}function ht(){e=new WeakMap,a!==null&&(a.dispose(),a=null)}return{get:d,dispose:ht}}function WebGLExtensions(c){const e={};function a(d){if(e[d]!==void 0)return e[d];let nt;switch(d){case"WEBGL_depth_texture":nt=c.getExtension("WEBGL_depth_texture")||c.getExtension("MOZ_WEBGL_depth_texture")||c.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":nt=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":nt=c.getExtension("WEBGL_compressed_texture_s3tc")||c.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||c.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":nt=c.getExtension("WEBGL_compressed_texture_pvrtc")||c.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:nt=c.getExtension(d)}return e[d]=nt,nt}return{has:function(d){return a(d)!==null},init:function(){a("EXT_color_buffer_float"),a("WEBGL_clip_cull_distance"),a("OES_texture_float_linear"),a("EXT_color_buffer_half_float"),a("WEBGL_multisampled_render_to_texture"),a("WEBGL_render_shared_exponent")},get:function(d){const nt=a(d);return nt===null&&warnOnce("THREE.WebGLRenderer: "+d+" extension not supported."),nt}}}function WebGLGeometries(c,e,a,d){const nt={},o=new WeakMap;function ht(At){const Ct=At.target;Ct.index!==null&&e.remove(Ct.index);for(const yt in Ct.attributes)e.remove(Ct.attributes[yt]);Ct.removeEventListener("dispose",ht),delete nt[Ct.id];const Rt=o.get(Ct);Rt&&(e.remove(Rt),o.delete(Ct)),d.releaseStatesOfGeometry(Ct),Ct.isInstancedBufferGeometry===!0&&delete Ct._maxInstanceCount,a.memory.geometries--}function vt(At,Ct){return nt[Ct.id]===!0||(Ct.addEventListener("dispose",ht),nt[Ct.id]=!0,a.memory.geometries++),Ct}function xt(At){const Ct=At.attributes;for(const Rt in Ct)e.update(Ct[Rt],c.ARRAY_BUFFER)}function St(At){const Ct=[],Rt=At.index,yt=At.attributes.position;let Dt=0;if(Rt!==null){const Ot=Rt.array;Dt=Rt.version;for(let Ft=0,Vt=Ot.length;Ft<Vt;Ft+=3){const jt=Ot[Ft+0],$t=Ot[Ft+1],Yt=Ot[Ft+2];Ct.push(jt,$t,$t,Yt,Yt,jt)}}else if(yt!==void 0){const Ot=yt.array;Dt=yt.version;for(let Ft=0,Vt=Ot.length/3-1;Ft<Vt;Ft+=3){const jt=Ft+0,$t=Ft+1,Yt=Ft+2;Ct.push(jt,$t,$t,Yt,Yt,jt)}}else return;const Nt=new(arrayNeedsUint32(Ct)?Uint32BufferAttribute:Uint16BufferAttribute)(Ct,1);Nt.version=Dt;const Lt=o.get(At);Lt&&e.remove(Lt),o.set(At,Nt)}function Tt(At){const Ct=o.get(At);if(Ct){const Rt=At.index;Rt!==null&&Ct.version<Rt.version&&St(At)}else St(At);return o.get(At)}return{get:vt,update:xt,getWireframeAttribute:Tt}}function WebGLIndexedBufferRenderer(c,e,a){let d;function nt(Ct){d=Ct}let o,ht;function vt(Ct){o=Ct.type,ht=Ct.bytesPerElement}function xt(Ct,Rt){c.drawElements(d,Rt,o,Ct*ht),a.update(Rt,d,1)}function St(Ct,Rt,yt){yt!==0&&(c.drawElementsInstanced(d,Rt,o,Ct*ht,yt),a.update(Rt,d,yt))}function Tt(Ct,Rt,yt){if(yt===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(d,Rt,0,o,Ct,0,yt);let Nt=0;for(let Lt=0;Lt<yt;Lt++)Nt+=Rt[Lt];a.update(Nt,d,1)}function At(Ct,Rt,yt,Dt){if(yt===0)return;const Nt=e.get("WEBGL_multi_draw");if(Nt===null)for(let Lt=0;Lt<Ct.length;Lt++)St(Ct[Lt]/ht,Rt[Lt],Dt[Lt]);else{Nt.multiDrawElementsInstancedWEBGL(d,Rt,0,o,Ct,0,Dt,0,yt);let Lt=0;for(let Ot=0;Ot<yt;Ot++)Lt+=Rt[Ot]*Dt[Ot];a.update(Lt,d,1)}}this.setMode=nt,this.setIndex=vt,this.render=xt,this.renderInstances=St,this.renderMultiDraw=Tt,this.renderMultiDrawInstances=At}function WebGLInfo(c){const e={geometries:0,textures:0},a={frame:0,calls:0,triangles:0,points:0,lines:0};function d(o,ht,vt){switch(a.calls++,ht){case c.TRIANGLES:a.triangles+=vt*(o/3);break;case c.LINES:a.lines+=vt*(o/2);break;case c.LINE_STRIP:a.lines+=vt*(o-1);break;case c.LINE_LOOP:a.lines+=vt*o;break;case c.POINTS:a.points+=vt*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",ht);break}}function nt(){a.calls=0,a.triangles=0,a.points=0,a.lines=0}return{memory:e,render:a,programs:null,autoReset:!0,reset:nt,update:d}}function WebGLMorphtargets(c,e,a){const d=new WeakMap,nt=new Vector4;function o(ht,vt,xt){const St=ht.morphTargetInfluences,Tt=vt.morphAttributes.position||vt.morphAttributes.normal||vt.morphAttributes.color,At=Tt!==void 0?Tt.length:0;let Ct=d.get(vt);if(Ct===void 0||Ct.count!==At){let qt=function(){Yt.dispose(),d.delete(vt),vt.removeEventListener("dispose",qt)};Ct!==void 0&&Ct.texture.dispose();const Rt=vt.morphAttributes.position!==void 0,yt=vt.morphAttributes.normal!==void 0,Dt=vt.morphAttributes.color!==void 0,Nt=vt.morphAttributes.position||[],Lt=vt.morphAttributes.normal||[],Ot=vt.morphAttributes.color||[];let Ft=0;Rt===!0&&(Ft=1),yt===!0&&(Ft=2),Dt===!0&&(Ft=3);let Vt=vt.attributes.position.count*Ft,jt=1;Vt>e.maxTextureSize&&(jt=Math.ceil(Vt/e.maxTextureSize),Vt=e.maxTextureSize);const $t=new Float32Array(Vt*jt*4*At),Yt=new DataArrayTexture($t,Vt,jt,At);Yt.type=FloatType,Yt.needsUpdate=!0;const Kt=Ft*4;for(let Wt=0;Wt<At;Wt++){const Jt=Nt[Wt],cn=Lt[Wt],sn=Ot[Wt],Tn=Vt*jt*4*Wt;for(let Cn=0;Cn<Jt.count;Cn++){const En=Cn*Kt;Rt===!0&&(nt.fromBufferAttribute(Jt,Cn),$t[Tn+En+0]=nt.x,$t[Tn+En+1]=nt.y,$t[Tn+En+2]=nt.z,$t[Tn+En+3]=0),yt===!0&&(nt.fromBufferAttribute(cn,Cn),$t[Tn+En+4]=nt.x,$t[Tn+En+5]=nt.y,$t[Tn+En+6]=nt.z,$t[Tn+En+7]=0),Dt===!0&&(nt.fromBufferAttribute(sn,Cn),$t[Tn+En+8]=nt.x,$t[Tn+En+9]=nt.y,$t[Tn+En+10]=nt.z,$t[Tn+En+11]=sn.itemSize===4?nt.w:1)}}Ct={count:At,texture:Yt,size:new Vector2(Vt,jt)},d.set(vt,Ct),vt.addEventListener("dispose",qt)}if(ht.isInstancedMesh===!0&&ht.morphTexture!==null)xt.getUniforms().setValue(c,"morphTexture",ht.morphTexture,a);else{let Rt=0;for(let Dt=0;Dt<St.length;Dt++)Rt+=St[Dt];const yt=vt.morphTargetsRelative?1:1-Rt;xt.getUniforms().setValue(c,"morphTargetBaseInfluence",yt),xt.getUniforms().setValue(c,"morphTargetInfluences",St)}xt.getUniforms().setValue(c,"morphTargetsTexture",Ct.texture,a),xt.getUniforms().setValue(c,"morphTargetsTextureSize",Ct.size)}return{update:o}}function WebGLObjects(c,e,a,d){let nt=new WeakMap;function o(xt){const St=d.render.frame,Tt=xt.geometry,At=e.get(xt,Tt);if(nt.get(At)!==St&&(e.update(At),nt.set(At,St)),xt.isInstancedMesh&&(xt.hasEventListener("dispose",vt)===!1&&xt.addEventListener("dispose",vt),nt.get(xt)!==St&&(a.update(xt.instanceMatrix,c.ARRAY_BUFFER),xt.instanceColor!==null&&a.update(xt.instanceColor,c.ARRAY_BUFFER),nt.set(xt,St))),xt.isSkinnedMesh){const Ct=xt.skeleton;nt.get(Ct)!==St&&(Ct.update(),nt.set(Ct,St))}return At}function ht(){nt=new WeakMap}function vt(xt){const St=xt.target;St.removeEventListener("dispose",vt),a.remove(St.instanceMatrix),St.instanceColor!==null&&a.remove(St.instanceColor)}return{update:o,dispose:ht}}const emptyTexture=new Texture,emptyShadowTexture=new DepthTexture(1,1),emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(c,e,a){const d=c[0];if(d<=0||d>0)return c;const nt=e*a;let o=arrayCacheF32[nt];if(o===void 0&&(o=new Float32Array(nt),arrayCacheF32[nt]=o),e!==0){d.toArray(o,0);for(let ht=1,vt=0;ht!==e;++ht)vt+=a,c[ht].toArray(o,vt)}return o}function arraysEqual(c,e){if(c.length!==e.length)return!1;for(let a=0,d=c.length;a<d;a++)if(c[a]!==e[a])return!1;return!0}function copyArray(c,e){for(let a=0,d=e.length;a<d;a++)c[a]=e[a]}function allocTexUnits(c,e){let a=arrayCacheI32[e];a===void 0&&(a=new Int32Array(e),arrayCacheI32[e]=a);for(let d=0;d!==e;++d)a[d]=c.allocateTextureUnit();return a}function setValueV1f(c,e){const a=this.cache;a[0]!==e&&(c.uniform1f(this.addr,e),a[0]=e)}function setValueV2f(c,e){const a=this.cache;if(e.x!==void 0)(a[0]!==e.x||a[1]!==e.y)&&(c.uniform2f(this.addr,e.x,e.y),a[0]=e.x,a[1]=e.y);else{if(arraysEqual(a,e))return;c.uniform2fv(this.addr,e),copyArray(a,e)}}function setValueV3f(c,e){const a=this.cache;if(e.x!==void 0)(a[0]!==e.x||a[1]!==e.y||a[2]!==e.z)&&(c.uniform3f(this.addr,e.x,e.y,e.z),a[0]=e.x,a[1]=e.y,a[2]=e.z);else if(e.r!==void 0)(a[0]!==e.r||a[1]!==e.g||a[2]!==e.b)&&(c.uniform3f(this.addr,e.r,e.g,e.b),a[0]=e.r,a[1]=e.g,a[2]=e.b);else{if(arraysEqual(a,e))return;c.uniform3fv(this.addr,e),copyArray(a,e)}}function setValueV4f(c,e){const a=this.cache;if(e.x!==void 0)(a[0]!==e.x||a[1]!==e.y||a[2]!==e.z||a[3]!==e.w)&&(c.uniform4f(this.addr,e.x,e.y,e.z,e.w),a[0]=e.x,a[1]=e.y,a[2]=e.z,a[3]=e.w);else{if(arraysEqual(a,e))return;c.uniform4fv(this.addr,e),copyArray(a,e)}}function setValueM2(c,e){const a=this.cache,d=e.elements;if(d===void 0){if(arraysEqual(a,e))return;c.uniformMatrix2fv(this.addr,!1,e),copyArray(a,e)}else{if(arraysEqual(a,d))return;mat2array.set(d),c.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(a,d)}}function setValueM3(c,e){const a=this.cache,d=e.elements;if(d===void 0){if(arraysEqual(a,e))return;c.uniformMatrix3fv(this.addr,!1,e),copyArray(a,e)}else{if(arraysEqual(a,d))return;mat3array.set(d),c.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(a,d)}}function setValueM4(c,e){const a=this.cache,d=e.elements;if(d===void 0){if(arraysEqual(a,e))return;c.uniformMatrix4fv(this.addr,!1,e),copyArray(a,e)}else{if(arraysEqual(a,d))return;mat4array.set(d),c.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(a,d)}}function setValueV1i(c,e){const a=this.cache;a[0]!==e&&(c.uniform1i(this.addr,e),a[0]=e)}function setValueV2i(c,e){const a=this.cache;if(e.x!==void 0)(a[0]!==e.x||a[1]!==e.y)&&(c.uniform2i(this.addr,e.x,e.y),a[0]=e.x,a[1]=e.y);else{if(arraysEqual(a,e))return;c.uniform2iv(this.addr,e),copyArray(a,e)}}function setValueV3i(c,e){const a=this.cache;if(e.x!==void 0)(a[0]!==e.x||a[1]!==e.y||a[2]!==e.z)&&(c.uniform3i(this.addr,e.x,e.y,e.z),a[0]=e.x,a[1]=e.y,a[2]=e.z);else{if(arraysEqual(a,e))return;c.uniform3iv(this.addr,e),copyArray(a,e)}}function setValueV4i(c,e){const a=this.cache;if(e.x!==void 0)(a[0]!==e.x||a[1]!==e.y||a[2]!==e.z||a[3]!==e.w)&&(c.uniform4i(this.addr,e.x,e.y,e.z,e.w),a[0]=e.x,a[1]=e.y,a[2]=e.z,a[3]=e.w);else{if(arraysEqual(a,e))return;c.uniform4iv(this.addr,e),copyArray(a,e)}}function setValueV1ui(c,e){const a=this.cache;a[0]!==e&&(c.uniform1ui(this.addr,e),a[0]=e)}function setValueV2ui(c,e){const a=this.cache;if(e.x!==void 0)(a[0]!==e.x||a[1]!==e.y)&&(c.uniform2ui(this.addr,e.x,e.y),a[0]=e.x,a[1]=e.y);else{if(arraysEqual(a,e))return;c.uniform2uiv(this.addr,e),copyArray(a,e)}}function setValueV3ui(c,e){const a=this.cache;if(e.x!==void 0)(a[0]!==e.x||a[1]!==e.y||a[2]!==e.z)&&(c.uniform3ui(this.addr,e.x,e.y,e.z),a[0]=e.x,a[1]=e.y,a[2]=e.z);else{if(arraysEqual(a,e))return;c.uniform3uiv(this.addr,e),copyArray(a,e)}}function setValueV4ui(c,e){const a=this.cache;if(e.x!==void 0)(a[0]!==e.x||a[1]!==e.y||a[2]!==e.z||a[3]!==e.w)&&(c.uniform4ui(this.addr,e.x,e.y,e.z,e.w),a[0]=e.x,a[1]=e.y,a[2]=e.z,a[3]=e.w);else{if(arraysEqual(a,e))return;c.uniform4uiv(this.addr,e),copyArray(a,e)}}function setValueT1(c,e,a){const d=this.cache,nt=a.allocateTextureUnit();d[0]!==nt&&(c.uniform1i(this.addr,nt),d[0]=nt);let o;this.type===c.SAMPLER_2D_SHADOW?(emptyShadowTexture.compareFunction=LessEqualCompare,o=emptyShadowTexture):o=emptyTexture,a.setTexture2D(e||o,nt)}function setValueT3D1(c,e,a){const d=this.cache,nt=a.allocateTextureUnit();d[0]!==nt&&(c.uniform1i(this.addr,nt),d[0]=nt),a.setTexture3D(e||empty3dTexture,nt)}function setValueT6(c,e,a){const d=this.cache,nt=a.allocateTextureUnit();d[0]!==nt&&(c.uniform1i(this.addr,nt),d[0]=nt),a.setTextureCube(e||emptyCubeTexture,nt)}function setValueT2DArray1(c,e,a){const d=this.cache,nt=a.allocateTextureUnit();d[0]!==nt&&(c.uniform1i(this.addr,nt),d[0]=nt),a.setTexture2DArray(e||emptyArrayTexture,nt)}function getSingularSetter(c){switch(c){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(c,e){c.uniform1fv(this.addr,e)}function setValueV2fArray(c,e){const a=flatten(e,this.size,2);c.uniform2fv(this.addr,a)}function setValueV3fArray(c,e){const a=flatten(e,this.size,3);c.uniform3fv(this.addr,a)}function setValueV4fArray(c,e){const a=flatten(e,this.size,4);c.uniform4fv(this.addr,a)}function setValueM2Array(c,e){const a=flatten(e,this.size,4);c.uniformMatrix2fv(this.addr,!1,a)}function setValueM3Array(c,e){const a=flatten(e,this.size,9);c.uniformMatrix3fv(this.addr,!1,a)}function setValueM4Array(c,e){const a=flatten(e,this.size,16);c.uniformMatrix4fv(this.addr,!1,a)}function setValueV1iArray(c,e){c.uniform1iv(this.addr,e)}function setValueV2iArray(c,e){c.uniform2iv(this.addr,e)}function setValueV3iArray(c,e){c.uniform3iv(this.addr,e)}function setValueV4iArray(c,e){c.uniform4iv(this.addr,e)}function setValueV1uiArray(c,e){c.uniform1uiv(this.addr,e)}function setValueV2uiArray(c,e){c.uniform2uiv(this.addr,e)}function setValueV3uiArray(c,e){c.uniform3uiv(this.addr,e)}function setValueV4uiArray(c,e){c.uniform4uiv(this.addr,e)}function setValueT1Array(c,e,a){const d=this.cache,nt=e.length,o=allocTexUnits(a,nt);arraysEqual(d,o)||(c.uniform1iv(this.addr,o),copyArray(d,o));for(let ht=0;ht!==nt;++ht)a.setTexture2D(e[ht]||emptyTexture,o[ht])}function setValueT3DArray(c,e,a){const d=this.cache,nt=e.length,o=allocTexUnits(a,nt);arraysEqual(d,o)||(c.uniform1iv(this.addr,o),copyArray(d,o));for(let ht=0;ht!==nt;++ht)a.setTexture3D(e[ht]||empty3dTexture,o[ht])}function setValueT6Array(c,e,a){const d=this.cache,nt=e.length,o=allocTexUnits(a,nt);arraysEqual(d,o)||(c.uniform1iv(this.addr,o),copyArray(d,o));for(let ht=0;ht!==nt;++ht)a.setTextureCube(e[ht]||emptyCubeTexture,o[ht])}function setValueT2DArrayArray(c,e,a){const d=this.cache,nt=e.length,o=allocTexUnits(a,nt);arraysEqual(d,o)||(c.uniform1iv(this.addr,o),copyArray(d,o));for(let ht=0;ht!==nt;++ht)a.setTexture2DArray(e[ht]||emptyArrayTexture,o[ht])}function getPureArraySetter(c){switch(c){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(e,a,d){this.id=e,this.addr=d,this.cache=[],this.type=a.type,this.setValue=getSingularSetter(a.type)}}class PureArrayUniform{constructor(e,a,d){this.id=e,this.addr=d,this.cache=[],this.type=a.type,this.size=a.size,this.setValue=getPureArraySetter(a.type)}}class StructuredUniform{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,a,d){const nt=this.seq;for(let o=0,ht=nt.length;o!==ht;++o){const vt=nt[o];vt.setValue(e,a[vt.id],d)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(c,e){c.seq.push(e),c.map[e.id]=e}function parseUniform(c,e,a){const d=c.name,nt=d.length;for(RePathPart.lastIndex=0;;){const o=RePathPart.exec(d),ht=RePathPart.lastIndex;let vt=o[1];const xt=o[2]==="]",St=o[3];if(xt&&(vt=vt|0),St===void 0||St==="["&&ht+2===nt){addUniform(a,St===void 0?new SingleUniform(vt,c,e):new PureArrayUniform(vt,c,e));break}else{let At=a.map[vt];At===void 0&&(At=new StructuredUniform(vt),addUniform(a,At)),a=At}}}class WebGLUniforms{constructor(e,a){this.seq=[],this.map={};const d=e.getProgramParameter(a,e.ACTIVE_UNIFORMS);for(let nt=0;nt<d;++nt){const o=e.getActiveUniform(a,nt),ht=e.getUniformLocation(a,o.name);parseUniform(o,ht,this)}}setValue(e,a,d,nt){const o=this.map[a];o!==void 0&&o.setValue(e,d,nt)}setOptional(e,a,d){const nt=a[d];nt!==void 0&&this.setValue(e,d,nt)}static upload(e,a,d,nt){for(let o=0,ht=a.length;o!==ht;++o){const vt=a[o],xt=d[vt.id];xt.needsUpdate!==!1&&vt.setValue(e,xt.value,nt)}}static seqWithValue(e,a){const d=[];for(let nt=0,o=e.length;nt!==o;++nt){const ht=e[nt];ht.id in a&&d.push(ht)}return d}}function WebGLShader(c,e,a){const d=c.createShader(e);return c.shaderSource(d,a),c.compileShader(d),d}const COMPLETION_STATUS_KHR=37297;let programIdCount=0;function handleSource(c,e){const a=c.split(`
`),d=[],nt=Math.max(e-6,0),o=Math.min(e+6,a.length);for(let ht=nt;ht<o;ht++){const vt=ht+1;d.push(`${vt===e?">":" "} ${vt}: ${a[ht]}`)}return d.join(`
`)}const _m0=new Matrix3;function getEncodingComponents(c){ColorManagement._getMatrix(_m0,ColorManagement.workingColorSpace,c);const e=`mat3( ${_m0.elements.map(a=>a.toFixed(4))} )`;switch(ColorManagement.getTransfer(c)){case LinearTransfer:return[e,"LinearTransferOETF"];case SRGBTransfer:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",c),[e,"LinearTransferOETF"]}}function getShaderErrors(c,e,a){const d=c.getShaderParameter(e,c.COMPILE_STATUS),nt=c.getShaderInfoLog(e).trim();if(d&&nt==="")return"";const o=/ERROR: 0:(\d+)/.exec(nt);if(o){const ht=parseInt(o[1]);return a.toUpperCase()+`

`+nt+`

`+handleSource(c.getShaderSource(e),ht)}else return nt}function getTexelEncodingFunction(c,e){const a=getEncodingComponents(e);return[`vec4 ${c}( vec4 value ) {`,`	return ${a[1]}( vec4( value.rgb * ${a[0]}, value.a ) );`,"}"].join(`
`)}function getToneMappingFunction(c,e){let a;switch(e){case LinearToneMapping:a="Linear";break;case ReinhardToneMapping:a="Reinhard";break;case CineonToneMapping:a="Cineon";break;case ACESFilmicToneMapping:a="ACESFilmic";break;case AgXToneMapping:a="AgX";break;case NeutralToneMapping:a="Neutral";break;case CustomToneMapping:a="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),a="Linear"}return"vec3 "+c+"( vec3 color ) { return "+a+"ToneMapping( color ); }"}const _v0=new Vector3;function getLuminanceFunction(){ColorManagement.getLuminanceCoefficients(_v0);const c=_v0.x.toFixed(4),e=_v0.y.toFixed(4),a=_v0.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${c}, ${e}, ${a} );`,"	return dot( weights, rgb );","}"].join(`
`)}function generateVertexExtensions(c){return[c.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",c.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(filterEmptyLine).join(`
`)}function generateDefines(c){const e=[];for(const a in c){const d=c[a];d!==!1&&e.push("#define "+a+" "+d)}return e.join(`
`)}function fetchAttributeLocations(c,e){const a={},d=c.getProgramParameter(e,c.ACTIVE_ATTRIBUTES);for(let nt=0;nt<d;nt++){const o=c.getActiveAttrib(e,nt),ht=o.name;let vt=1;o.type===c.FLOAT_MAT2&&(vt=2),o.type===c.FLOAT_MAT3&&(vt=3),o.type===c.FLOAT_MAT4&&(vt=4),a[ht]={type:o.type,location:c.getAttribLocation(e,ht),locationSize:vt}}return a}function filterEmptyLine(c){return c!==""}function replaceLightNums(c,e){const a=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return c.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,a).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function replaceClippingPlaneNums(c,e){return c.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(c){return c.replace(includePattern,includeReplacer)}const shaderChunkMap=new Map;function includeReplacer(c,e){let a=ShaderChunk[e];if(a===void 0){const d=shaderChunkMap.get(e);if(d!==void 0)a=ShaderChunk[d],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,d);else throw new Error("Can not resolve #include <"+e+">")}return resolveIncludes(a)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(c){return c.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(c,e,a,d){let nt="";for(let o=parseInt(e);o<parseInt(a);o++)nt+=d.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return nt}function generatePrecision(c){let e=`precision ${c.precision} float;
	precision ${c.precision} int;
	precision ${c.precision} sampler2D;
	precision ${c.precision} samplerCube;
	precision ${c.precision} sampler3D;
	precision ${c.precision} sampler2DArray;
	precision ${c.precision} sampler2DShadow;
	precision ${c.precision} samplerCubeShadow;
	precision ${c.precision} sampler2DArrayShadow;
	precision ${c.precision} isampler2D;
	precision ${c.precision} isampler3D;
	precision ${c.precision} isamplerCube;
	precision ${c.precision} isampler2DArray;
	precision ${c.precision} usampler2D;
	precision ${c.precision} usampler3D;
	precision ${c.precision} usamplerCube;
	precision ${c.precision} usampler2DArray;
	`;return c.precision==="highp"?e+=`
#define HIGH_PRECISION`:c.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:c.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function generateShadowMapTypeDefine(c){let e="SHADOWMAP_TYPE_BASIC";return c.shadowMapType===PCFShadowMap?e="SHADOWMAP_TYPE_PCF":c.shadowMapType===PCFSoftShadowMap?e="SHADOWMAP_TYPE_PCF_SOFT":c.shadowMapType===VSMShadowMap&&(e="SHADOWMAP_TYPE_VSM"),e}function generateEnvMapTypeDefine(c){let e="ENVMAP_TYPE_CUBE";if(c.envMap)switch(c.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:e="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:e="ENVMAP_TYPE_CUBE_UV";break}return e}function generateEnvMapModeDefine(c){let e="ENVMAP_MODE_REFLECTION";if(c.envMap)switch(c.envMapMode){case CubeRefractionMapping:e="ENVMAP_MODE_REFRACTION";break}return e}function generateEnvMapBlendingDefine(c){let e="ENVMAP_BLENDING_NONE";if(c.envMap)switch(c.combine){case MultiplyOperation:e="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:e="ENVMAP_BLENDING_MIX";break;case AddOperation:e="ENVMAP_BLENDING_ADD";break}return e}function generateCubeUVSize(c){const e=c.envMapCubeUVHeight;if(e===null)return null;const a=Math.log2(e)-2,d=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,a),7*16)),texelHeight:d,maxMip:a}}function WebGLProgram(c,e,a,d){const nt=c.getContext(),o=a.defines;let ht=a.vertexShader,vt=a.fragmentShader;const xt=generateShadowMapTypeDefine(a),St=generateEnvMapTypeDefine(a),Tt=generateEnvMapModeDefine(a),At=generateEnvMapBlendingDefine(a),Ct=generateCubeUVSize(a),Rt=generateVertexExtensions(a),yt=generateDefines(o),Dt=nt.createProgram();let Nt,Lt,Ot=a.glslVersion?"#version "+a.glslVersion+`
`:"";a.isRawShaderMaterial?(Nt=["#define SHADER_TYPE "+a.shaderType,"#define SHADER_NAME "+a.shaderName,yt].filter(filterEmptyLine).join(`
`),Nt.length>0&&(Nt+=`
`),Lt=["#define SHADER_TYPE "+a.shaderType,"#define SHADER_NAME "+a.shaderName,yt].filter(filterEmptyLine).join(`
`),Lt.length>0&&(Lt+=`
`)):(Nt=[generatePrecision(a),"#define SHADER_TYPE "+a.shaderType,"#define SHADER_NAME "+a.shaderName,yt,a.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",a.batching?"#define USE_BATCHING":"",a.batchingColor?"#define USE_BATCHING_COLOR":"",a.instancing?"#define USE_INSTANCING":"",a.instancingColor?"#define USE_INSTANCING_COLOR":"",a.instancingMorph?"#define USE_INSTANCING_MORPH":"",a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp2?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+Tt:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",a.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",a.displacementMap?"#define USE_DISPLACEMENTMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.anisotropy?"#define USE_ANISOTROPY":"",a.anisotropyMap?"#define USE_ANISOTROPYMAP":"",a.clearcoatMap?"#define USE_CLEARCOATMAP":"",a.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",a.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",a.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",a.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",a.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.alphaHash?"#define USE_ALPHAHASH":"",a.transmission?"#define USE_TRANSMISSION":"",a.transmissionMap?"#define USE_TRANSMISSIONMAP":"",a.thicknessMap?"#define USE_THICKNESSMAP":"",a.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",a.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",a.mapUv?"#define MAP_UV "+a.mapUv:"",a.alphaMapUv?"#define ALPHAMAP_UV "+a.alphaMapUv:"",a.lightMapUv?"#define LIGHTMAP_UV "+a.lightMapUv:"",a.aoMapUv?"#define AOMAP_UV "+a.aoMapUv:"",a.emissiveMapUv?"#define EMISSIVEMAP_UV "+a.emissiveMapUv:"",a.bumpMapUv?"#define BUMPMAP_UV "+a.bumpMapUv:"",a.normalMapUv?"#define NORMALMAP_UV "+a.normalMapUv:"",a.displacementMapUv?"#define DISPLACEMENTMAP_UV "+a.displacementMapUv:"",a.metalnessMapUv?"#define METALNESSMAP_UV "+a.metalnessMapUv:"",a.roughnessMapUv?"#define ROUGHNESSMAP_UV "+a.roughnessMapUv:"",a.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+a.anisotropyMapUv:"",a.clearcoatMapUv?"#define CLEARCOATMAP_UV "+a.clearcoatMapUv:"",a.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+a.clearcoatNormalMapUv:"",a.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+a.clearcoatRoughnessMapUv:"",a.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+a.iridescenceMapUv:"",a.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+a.iridescenceThicknessMapUv:"",a.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+a.sheenColorMapUv:"",a.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+a.sheenRoughnessMapUv:"",a.specularMapUv?"#define SPECULARMAP_UV "+a.specularMapUv:"",a.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+a.specularColorMapUv:"",a.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+a.specularIntensityMapUv:"",a.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+a.transmissionMapUv:"",a.thicknessMapUv?"#define THICKNESSMAP_UV "+a.thicknessMapUv:"",a.vertexTangents&&a.flatShading===!1?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.vertexAlphas?"#define USE_COLOR_ALPHA":"",a.vertexUv1s?"#define USE_UV1":"",a.vertexUv2s?"#define USE_UV2":"",a.vertexUv3s?"#define USE_UV3":"",a.pointsUvs?"#define USE_POINTS_UV":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&a.flatShading===!1?"#define USE_MORPHNORMALS":"",a.morphColors?"#define USE_MORPHCOLORS":"",a.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+a.morphTextureStride:"",a.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+a.morphTargetsCount:"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+xt:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.numLightProbes>0?"#define USE_LIGHT_PROBES":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),Lt=[generatePrecision(a),"#define SHADER_TYPE "+a.shaderType,"#define SHADER_NAME "+a.shaderName,yt,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp2?"#define FOG_EXP2":"",a.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+St:"",a.envMap?"#define "+Tt:"",a.envMap?"#define "+At:"",Ct?"#define CUBEUV_TEXEL_WIDTH "+Ct.texelWidth:"",Ct?"#define CUBEUV_TEXEL_HEIGHT "+Ct.texelHeight:"",Ct?"#define CUBEUV_MAX_MIP "+Ct.maxMip+".0":"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",a.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.anisotropy?"#define USE_ANISOTROPY":"",a.anisotropyMap?"#define USE_ANISOTROPYMAP":"",a.clearcoat?"#define USE_CLEARCOAT":"",a.clearcoatMap?"#define USE_CLEARCOATMAP":"",a.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",a.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",a.dispersion?"#define USE_DISPERSION":"",a.iridescence?"#define USE_IRIDESCENCE":"",a.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",a.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",a.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.alphaTest?"#define USE_ALPHATEST":"",a.alphaHash?"#define USE_ALPHAHASH":"",a.sheen?"#define USE_SHEEN":"",a.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",a.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",a.transmission?"#define USE_TRANSMISSION":"",a.transmissionMap?"#define USE_TRANSMISSIONMAP":"",a.thicknessMap?"#define USE_THICKNESSMAP":"",a.vertexTangents&&a.flatShading===!1?"#define USE_TANGENT":"",a.vertexColors||a.instancingColor||a.batchingColor?"#define USE_COLOR":"",a.vertexAlphas?"#define USE_COLOR_ALPHA":"",a.vertexUv1s?"#define USE_UV1":"",a.vertexUv2s?"#define USE_UV2":"",a.vertexUv3s?"#define USE_UV3":"",a.pointsUvs?"#define USE_POINTS_UV":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+xt:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.numLightProbes>0?"#define USE_LIGHT_PROBES":"",a.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",a.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",a.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",a.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",a.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.opaque?"#define OPAQUE":"",ShaderChunk.colorspace_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",a.outputColorSpace),getLuminanceFunction(),a.useDepthPacking?"#define DEPTH_PACKING "+a.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),ht=resolveIncludes(ht),ht=replaceLightNums(ht,a),ht=replaceClippingPlaneNums(ht,a),vt=resolveIncludes(vt),vt=replaceLightNums(vt,a),vt=replaceClippingPlaneNums(vt,a),ht=unrollLoops(ht),vt=unrollLoops(vt),a.isRawShaderMaterial!==!0&&(Ot=`#version 300 es
`,Nt=[Rt,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+Nt,Lt=["#define varying in",a.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",a.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+Lt);const Ft=Ot+Nt+ht,Vt=Ot+Lt+vt,jt=WebGLShader(nt,nt.VERTEX_SHADER,Ft),$t=WebGLShader(nt,nt.FRAGMENT_SHADER,Vt);nt.attachShader(Dt,jt),nt.attachShader(Dt,$t),a.index0AttributeName!==void 0?nt.bindAttribLocation(Dt,0,a.index0AttributeName):a.morphTargets===!0&&nt.bindAttribLocation(Dt,0,"position"),nt.linkProgram(Dt);function Yt(Jt){if(c.debug.checkShaderErrors){const cn=nt.getProgramInfoLog(Dt).trim(),sn=nt.getShaderInfoLog(jt).trim(),Tn=nt.getShaderInfoLog($t).trim();let Cn=!0,En=!0;if(nt.getProgramParameter(Dt,nt.LINK_STATUS)===!1)if(Cn=!1,typeof c.debug.onShaderError=="function")c.debug.onShaderError(nt,Dt,jt,$t);else{const Nn=getShaderErrors(nt,jt,"vertex"),on=getShaderErrors(nt,$t,"fragment");console.error("THREE.WebGLProgram: Shader Error "+nt.getError()+" - VALIDATE_STATUS "+nt.getProgramParameter(Dt,nt.VALIDATE_STATUS)+`

Material Name: `+Jt.name+`
Material Type: `+Jt.type+`

Program Info Log: `+cn+`
`+Nn+`
`+on)}else cn!==""?console.warn("THREE.WebGLProgram: Program Info Log:",cn):(sn===""||Tn==="")&&(En=!1);En&&(Jt.diagnostics={runnable:Cn,programLog:cn,vertexShader:{log:sn,prefix:Nt},fragmentShader:{log:Tn,prefix:Lt}})}nt.deleteShader(jt),nt.deleteShader($t),Kt=new WebGLUniforms(nt,Dt),qt=fetchAttributeLocations(nt,Dt)}let Kt;this.getUniforms=function(){return Kt===void 0&&Yt(this),Kt};let qt;this.getAttributes=function(){return qt===void 0&&Yt(this),qt};let Wt=a.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return Wt===!1&&(Wt=nt.getProgramParameter(Dt,COMPLETION_STATUS_KHR)),Wt},this.destroy=function(){d.releaseStatesOfProgram(this),nt.deleteProgram(Dt),this.program=void 0},this.type=a.shaderType,this.name=a.shaderName,this.id=programIdCount++,this.cacheKey=e,this.usedTimes=1,this.program=Dt,this.vertexShader=jt,this.fragmentShader=$t,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const a=e.vertexShader,d=e.fragmentShader,nt=this._getShaderStage(a),o=this._getShaderStage(d),ht=this._getShaderCacheForMaterial(e);return ht.has(nt)===!1&&(ht.add(nt),nt.usedTimes++),ht.has(o)===!1&&(ht.add(o),o.usedTimes++),this}remove(e){const a=this.materialCache.get(e);for(const d of a)d.usedTimes--,d.usedTimes===0&&this.shaderCache.delete(d.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const a=this.materialCache;let d=a.get(e);return d===void 0&&(d=new Set,a.set(e,d)),d}_getShaderStage(e){const a=this.shaderCache;let d=a.get(e);return d===void 0&&(d=new WebGLShaderStage(e),a.set(e,d)),d}}class WebGLShaderStage{constructor(e){this.id=_id++,this.code=e,this.usedTimes=0}}function WebGLPrograms(c,e,a,d,nt,o,ht){const vt=new Layers,xt=new WebGLShaderCache,St=new Set,Tt=[],At=nt.logarithmicDepthBuffer,Ct=nt.vertexTextures;let Rt=nt.precision;const yt={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function Dt(qt){return St.add(qt),qt===0?"uv":`uv${qt}`}function Nt(qt,Wt,Jt,cn,sn){const Tn=cn.fog,Cn=sn.geometry,En=qt.isMeshStandardMaterial?cn.environment:null,Nn=(qt.isMeshStandardMaterial?a:e).get(qt.envMap||En),on=Nn&&Nn.mapping===CubeUVReflectionMapping?Nn.image.height:null,hn=yt[qt.type];qt.precision!==null&&(Rt=nt.getMaxPrecision(qt.precision),Rt!==qt.precision&&console.warn("THREE.WebGLProgram.getParameters:",qt.precision,"not supported, using",Rt,"instead."));const pn=Cn.morphAttributes.position||Cn.morphAttributes.normal||Cn.morphAttributes.color,Pn=pn!==void 0?pn.length:0;let jn=0;Cn.morphAttributes.position!==void 0&&(jn=1),Cn.morphAttributes.normal!==void 0&&(jn=2),Cn.morphAttributes.color!==void 0&&(jn=3);let ar,An,Xn,or;if(hn){const to=ShaderLib[hn];ar=to.vertexShader,An=to.fragmentShader}else ar=qt.vertexShader,An=qt.fragmentShader,xt.update(qt),Xn=xt.getVertexShaderID(qt),or=xt.getFragmentShaderID(qt);const tr=c.getRenderTarget(),_r=c.state.buffers.depth.getReversed(),kr=sn.isInstancedMesh===!0,hr=sn.isBatchedMesh===!0,gr=!!qt.map,It=!!qt.matcap,Jn=!!Nn,nn=!!qt.aoMap,rr=!!qt.lightMap,Kn=!!qt.bumpMap,Qn=!!qt.normalMap,Fn=!!qt.displacementMap,vr=!!qt.emissiveMap,Yn=!!qt.metalnessMap,tn=!!qt.roughnessMap,Qt=qt.anisotropy>0,dn=qt.clearcoat>0,In=qt.dispersion>0,Hn=qt.iridescence>0,xn=qt.sheen>0,er=qt.transmission>0,Gn=Qt&&!!qt.anisotropyMap,dr=dn&&!!qt.clearcoatMap,Nr=dn&&!!qt.clearcoatNormalMap,Zn=dn&&!!qt.clearcoatRoughnessMap,nr=Hn&&!!qt.iridescenceMap,ir=Hn&&!!qt.iridescenceThicknessMap,Or=xn&&!!qt.sheenColorMap,Er=xn&&!!qt.sheenRoughnessMap,un=!!qt.specularMap,$n=!!qt.specularColorMap,ur=!!qt.specularIntensityMap,an=er&&!!qt.transmissionMap,sr=er&&!!qt.thicknessMap,kn=!!qt.gradientMap,Wn=!!qt.alphaMap,xr=qt.alphaTest>0,pr=!!qt.alphaHash,Hr=!!qt.extensions;let ao=NoToneMapping;qt.toneMapped&&(tr===null||tr.isXRRenderTarget===!0)&&(ao=c.toneMapping);const So={shaderID:hn,shaderType:qt.type,shaderName:qt.name,vertexShader:ar,fragmentShader:An,defines:qt.defines,customVertexShaderID:Xn,customFragmentShaderID:or,isRawShaderMaterial:qt.isRawShaderMaterial===!0,glslVersion:qt.glslVersion,precision:Rt,batching:hr,batchingColor:hr&&sn._colorsTexture!==null,instancing:kr,instancingColor:kr&&sn.instanceColor!==null,instancingMorph:kr&&sn.morphTexture!==null,supportsVertexTextures:Ct,outputColorSpace:tr===null?c.outputColorSpace:tr.isXRRenderTarget===!0?tr.texture.colorSpace:LinearSRGBColorSpace,alphaToCoverage:!!qt.alphaToCoverage,map:gr,matcap:It,envMap:Jn,envMapMode:Jn&&Nn.mapping,envMapCubeUVHeight:on,aoMap:nn,lightMap:rr,bumpMap:Kn,normalMap:Qn,displacementMap:Ct&&Fn,emissiveMap:vr,normalMapObjectSpace:Qn&&qt.normalMapType===ObjectSpaceNormalMap,normalMapTangentSpace:Qn&&qt.normalMapType===TangentSpaceNormalMap,metalnessMap:Yn,roughnessMap:tn,anisotropy:Qt,anisotropyMap:Gn,clearcoat:dn,clearcoatMap:dr,clearcoatNormalMap:Nr,clearcoatRoughnessMap:Zn,dispersion:In,iridescence:Hn,iridescenceMap:nr,iridescenceThicknessMap:ir,sheen:xn,sheenColorMap:Or,sheenRoughnessMap:Er,specularMap:un,specularColorMap:$n,specularIntensityMap:ur,transmission:er,transmissionMap:an,thicknessMap:sr,gradientMap:kn,opaque:qt.transparent===!1&&qt.blending===NormalBlending&&qt.alphaToCoverage===!1,alphaMap:Wn,alphaTest:xr,alphaHash:pr,combine:qt.combine,mapUv:gr&&Dt(qt.map.channel),aoMapUv:nn&&Dt(qt.aoMap.channel),lightMapUv:rr&&Dt(qt.lightMap.channel),bumpMapUv:Kn&&Dt(qt.bumpMap.channel),normalMapUv:Qn&&Dt(qt.normalMap.channel),displacementMapUv:Fn&&Dt(qt.displacementMap.channel),emissiveMapUv:vr&&Dt(qt.emissiveMap.channel),metalnessMapUv:Yn&&Dt(qt.metalnessMap.channel),roughnessMapUv:tn&&Dt(qt.roughnessMap.channel),anisotropyMapUv:Gn&&Dt(qt.anisotropyMap.channel),clearcoatMapUv:dr&&Dt(qt.clearcoatMap.channel),clearcoatNormalMapUv:Nr&&Dt(qt.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Zn&&Dt(qt.clearcoatRoughnessMap.channel),iridescenceMapUv:nr&&Dt(qt.iridescenceMap.channel),iridescenceThicknessMapUv:ir&&Dt(qt.iridescenceThicknessMap.channel),sheenColorMapUv:Or&&Dt(qt.sheenColorMap.channel),sheenRoughnessMapUv:Er&&Dt(qt.sheenRoughnessMap.channel),specularMapUv:un&&Dt(qt.specularMap.channel),specularColorMapUv:$n&&Dt(qt.specularColorMap.channel),specularIntensityMapUv:ur&&Dt(qt.specularIntensityMap.channel),transmissionMapUv:an&&Dt(qt.transmissionMap.channel),thicknessMapUv:sr&&Dt(qt.thicknessMap.channel),alphaMapUv:Wn&&Dt(qt.alphaMap.channel),vertexTangents:!!Cn.attributes.tangent&&(Qn||Qt),vertexColors:qt.vertexColors,vertexAlphas:qt.vertexColors===!0&&!!Cn.attributes.color&&Cn.attributes.color.itemSize===4,pointsUvs:sn.isPoints===!0&&!!Cn.attributes.uv&&(gr||Wn),fog:!!Tn,useFog:qt.fog===!0,fogExp2:!!Tn&&Tn.isFogExp2,flatShading:qt.flatShading===!0,sizeAttenuation:qt.sizeAttenuation===!0,logarithmicDepthBuffer:At,reverseDepthBuffer:_r,skinning:sn.isSkinnedMesh===!0,morphTargets:Cn.morphAttributes.position!==void 0,morphNormals:Cn.morphAttributes.normal!==void 0,morphColors:Cn.morphAttributes.color!==void 0,morphTargetsCount:Pn,morphTextureStride:jn,numDirLights:Wt.directional.length,numPointLights:Wt.point.length,numSpotLights:Wt.spot.length,numSpotLightMaps:Wt.spotLightMap.length,numRectAreaLights:Wt.rectArea.length,numHemiLights:Wt.hemi.length,numDirLightShadows:Wt.directionalShadowMap.length,numPointLightShadows:Wt.pointShadowMap.length,numSpotLightShadows:Wt.spotShadowMap.length,numSpotLightShadowsWithMaps:Wt.numSpotLightShadowsWithMaps,numLightProbes:Wt.numLightProbes,numClippingPlanes:ht.numPlanes,numClipIntersection:ht.numIntersection,dithering:qt.dithering,shadowMapEnabled:c.shadowMap.enabled&&Jt.length>0,shadowMapType:c.shadowMap.type,toneMapping:ao,decodeVideoTexture:gr&&qt.map.isVideoTexture===!0&&ColorManagement.getTransfer(qt.map.colorSpace)===SRGBTransfer,decodeVideoTextureEmissive:vr&&qt.emissiveMap.isVideoTexture===!0&&ColorManagement.getTransfer(qt.emissiveMap.colorSpace)===SRGBTransfer,premultipliedAlpha:qt.premultipliedAlpha,doubleSided:qt.side===DoubleSide,flipSided:qt.side===BackSide,useDepthPacking:qt.depthPacking>=0,depthPacking:qt.depthPacking||0,index0AttributeName:qt.index0AttributeName,extensionClipCullDistance:Hr&&qt.extensions.clipCullDistance===!0&&d.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Hr&&qt.extensions.multiDraw===!0||hr)&&d.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:d.has("KHR_parallel_shader_compile"),customProgramCacheKey:qt.customProgramCacheKey()};return So.vertexUv1s=St.has(1),So.vertexUv2s=St.has(2),So.vertexUv3s=St.has(3),St.clear(),So}function Lt(qt){const Wt=[];if(qt.shaderID?Wt.push(qt.shaderID):(Wt.push(qt.customVertexShaderID),Wt.push(qt.customFragmentShaderID)),qt.defines!==void 0)for(const Jt in qt.defines)Wt.push(Jt),Wt.push(qt.defines[Jt]);return qt.isRawShaderMaterial===!1&&(Ot(Wt,qt),Ft(Wt,qt),Wt.push(c.outputColorSpace)),Wt.push(qt.customProgramCacheKey),Wt.join()}function Ot(qt,Wt){qt.push(Wt.precision),qt.push(Wt.outputColorSpace),qt.push(Wt.envMapMode),qt.push(Wt.envMapCubeUVHeight),qt.push(Wt.mapUv),qt.push(Wt.alphaMapUv),qt.push(Wt.lightMapUv),qt.push(Wt.aoMapUv),qt.push(Wt.bumpMapUv),qt.push(Wt.normalMapUv),qt.push(Wt.displacementMapUv),qt.push(Wt.emissiveMapUv),qt.push(Wt.metalnessMapUv),qt.push(Wt.roughnessMapUv),qt.push(Wt.anisotropyMapUv),qt.push(Wt.clearcoatMapUv),qt.push(Wt.clearcoatNormalMapUv),qt.push(Wt.clearcoatRoughnessMapUv),qt.push(Wt.iridescenceMapUv),qt.push(Wt.iridescenceThicknessMapUv),qt.push(Wt.sheenColorMapUv),qt.push(Wt.sheenRoughnessMapUv),qt.push(Wt.specularMapUv),qt.push(Wt.specularColorMapUv),qt.push(Wt.specularIntensityMapUv),qt.push(Wt.transmissionMapUv),qt.push(Wt.thicknessMapUv),qt.push(Wt.combine),qt.push(Wt.fogExp2),qt.push(Wt.sizeAttenuation),qt.push(Wt.morphTargetsCount),qt.push(Wt.morphAttributeCount),qt.push(Wt.numDirLights),qt.push(Wt.numPointLights),qt.push(Wt.numSpotLights),qt.push(Wt.numSpotLightMaps),qt.push(Wt.numHemiLights),qt.push(Wt.numRectAreaLights),qt.push(Wt.numDirLightShadows),qt.push(Wt.numPointLightShadows),qt.push(Wt.numSpotLightShadows),qt.push(Wt.numSpotLightShadowsWithMaps),qt.push(Wt.numLightProbes),qt.push(Wt.shadowMapType),qt.push(Wt.toneMapping),qt.push(Wt.numClippingPlanes),qt.push(Wt.numClipIntersection),qt.push(Wt.depthPacking)}function Ft(qt,Wt){vt.disableAll(),Wt.supportsVertexTextures&&vt.enable(0),Wt.instancing&&vt.enable(1),Wt.instancingColor&&vt.enable(2),Wt.instancingMorph&&vt.enable(3),Wt.matcap&&vt.enable(4),Wt.envMap&&vt.enable(5),Wt.normalMapObjectSpace&&vt.enable(6),Wt.normalMapTangentSpace&&vt.enable(7),Wt.clearcoat&&vt.enable(8),Wt.iridescence&&vt.enable(9),Wt.alphaTest&&vt.enable(10),Wt.vertexColors&&vt.enable(11),Wt.vertexAlphas&&vt.enable(12),Wt.vertexUv1s&&vt.enable(13),Wt.vertexUv2s&&vt.enable(14),Wt.vertexUv3s&&vt.enable(15),Wt.vertexTangents&&vt.enable(16),Wt.anisotropy&&vt.enable(17),Wt.alphaHash&&vt.enable(18),Wt.batching&&vt.enable(19),Wt.dispersion&&vt.enable(20),Wt.batchingColor&&vt.enable(21),qt.push(vt.mask),vt.disableAll(),Wt.fog&&vt.enable(0),Wt.useFog&&vt.enable(1),Wt.flatShading&&vt.enable(2),Wt.logarithmicDepthBuffer&&vt.enable(3),Wt.reverseDepthBuffer&&vt.enable(4),Wt.skinning&&vt.enable(5),Wt.morphTargets&&vt.enable(6),Wt.morphNormals&&vt.enable(7),Wt.morphColors&&vt.enable(8),Wt.premultipliedAlpha&&vt.enable(9),Wt.shadowMapEnabled&&vt.enable(10),Wt.doubleSided&&vt.enable(11),Wt.flipSided&&vt.enable(12),Wt.useDepthPacking&&vt.enable(13),Wt.dithering&&vt.enable(14),Wt.transmission&&vt.enable(15),Wt.sheen&&vt.enable(16),Wt.opaque&&vt.enable(17),Wt.pointsUvs&&vt.enable(18),Wt.decodeVideoTexture&&vt.enable(19),Wt.decodeVideoTextureEmissive&&vt.enable(20),Wt.alphaToCoverage&&vt.enable(21),qt.push(vt.mask)}function Vt(qt){const Wt=yt[qt.type];let Jt;if(Wt){const cn=ShaderLib[Wt];Jt=UniformsUtils.clone(cn.uniforms)}else Jt=qt.uniforms;return Jt}function jt(qt,Wt){let Jt;for(let cn=0,sn=Tt.length;cn<sn;cn++){const Tn=Tt[cn];if(Tn.cacheKey===Wt){Jt=Tn,++Jt.usedTimes;break}}return Jt===void 0&&(Jt=new WebGLProgram(c,Wt,qt,o),Tt.push(Jt)),Jt}function $t(qt){if(--qt.usedTimes===0){const Wt=Tt.indexOf(qt);Tt[Wt]=Tt[Tt.length-1],Tt.pop(),qt.destroy()}}function Yt(qt){xt.remove(qt)}function Kt(){xt.dispose()}return{getParameters:Nt,getProgramCacheKey:Lt,getUniforms:Vt,acquireProgram:jt,releaseProgram:$t,releaseShaderCache:Yt,programs:Tt,dispose:Kt}}function WebGLProperties(){let c=new WeakMap;function e(ht){return c.has(ht)}function a(ht){let vt=c.get(ht);return vt===void 0&&(vt={},c.set(ht,vt)),vt}function d(ht){c.delete(ht)}function nt(ht,vt,xt){c.get(ht)[vt]=xt}function o(){c=new WeakMap}return{has:e,get:a,remove:d,update:nt,dispose:o}}function painterSortStable(c,e){return c.groupOrder!==e.groupOrder?c.groupOrder-e.groupOrder:c.renderOrder!==e.renderOrder?c.renderOrder-e.renderOrder:c.material.id!==e.material.id?c.material.id-e.material.id:c.z!==e.z?c.z-e.z:c.id-e.id}function reversePainterSortStable(c,e){return c.groupOrder!==e.groupOrder?c.groupOrder-e.groupOrder:c.renderOrder!==e.renderOrder?c.renderOrder-e.renderOrder:c.z!==e.z?e.z-c.z:c.id-e.id}function WebGLRenderList(){const c=[];let e=0;const a=[],d=[],nt=[];function o(){e=0,a.length=0,d.length=0,nt.length=0}function ht(At,Ct,Rt,yt,Dt,Nt){let Lt=c[e];return Lt===void 0?(Lt={id:At.id,object:At,geometry:Ct,material:Rt,groupOrder:yt,renderOrder:At.renderOrder,z:Dt,group:Nt},c[e]=Lt):(Lt.id=At.id,Lt.object=At,Lt.geometry=Ct,Lt.material=Rt,Lt.groupOrder=yt,Lt.renderOrder=At.renderOrder,Lt.z=Dt,Lt.group=Nt),e++,Lt}function vt(At,Ct,Rt,yt,Dt,Nt){const Lt=ht(At,Ct,Rt,yt,Dt,Nt);Rt.transmission>0?d.push(Lt):Rt.transparent===!0?nt.push(Lt):a.push(Lt)}function xt(At,Ct,Rt,yt,Dt,Nt){const Lt=ht(At,Ct,Rt,yt,Dt,Nt);Rt.transmission>0?d.unshift(Lt):Rt.transparent===!0?nt.unshift(Lt):a.unshift(Lt)}function St(At,Ct){a.length>1&&a.sort(At||painterSortStable),d.length>1&&d.sort(Ct||reversePainterSortStable),nt.length>1&&nt.sort(Ct||reversePainterSortStable)}function Tt(){for(let At=e,Ct=c.length;At<Ct;At++){const Rt=c[At];if(Rt.id===null)break;Rt.id=null,Rt.object=null,Rt.geometry=null,Rt.material=null,Rt.group=null}}return{opaque:a,transmissive:d,transparent:nt,init:o,push:vt,unshift:xt,finish:Tt,sort:St}}function WebGLRenderLists(){let c=new WeakMap;function e(d,nt){const o=c.get(d);let ht;return o===void 0?(ht=new WebGLRenderList,c.set(d,[ht])):nt>=o.length?(ht=new WebGLRenderList,o.push(ht)):ht=o[nt],ht}function a(){c=new WeakMap}return{get:e,dispose:a}}function UniformsCache(){const c={};return{get:function(e){if(c[e.id]!==void 0)return c[e.id];let a;switch(e.type){case"DirectionalLight":a={direction:new Vector3,color:new Color};break;case"SpotLight":a={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":a={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":a={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":a={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return c[e.id]=a,a}}}function ShadowUniformsCache(){const c={};return{get:function(e){if(c[e.id]!==void 0)return c[e.id];let a;switch(e.type){case"DirectionalLight":a={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":a={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":a={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return c[e.id]=a,a}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(c,e){return(e.castShadow?2:0)-(c.castShadow?2:0)+(e.map?1:0)-(c.map?1:0)}function WebGLLights(c){const e=new UniformsCache,a=ShadowUniformsCache(),d={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let St=0;St<9;St++)d.probe.push(new Vector3);const nt=new Vector3,o=new Matrix4,ht=new Matrix4;function vt(St){let Tt=0,At=0,Ct=0;for(let qt=0;qt<9;qt++)d.probe[qt].set(0,0,0);let Rt=0,yt=0,Dt=0,Nt=0,Lt=0,Ot=0,Ft=0,Vt=0,jt=0,$t=0,Yt=0;St.sort(shadowCastingAndTexturingLightsFirst);for(let qt=0,Wt=St.length;qt<Wt;qt++){const Jt=St[qt],cn=Jt.color,sn=Jt.intensity,Tn=Jt.distance,Cn=Jt.shadow&&Jt.shadow.map?Jt.shadow.map.texture:null;if(Jt.isAmbientLight)Tt+=cn.r*sn,At+=cn.g*sn,Ct+=cn.b*sn;else if(Jt.isLightProbe){for(let En=0;En<9;En++)d.probe[En].addScaledVector(Jt.sh.coefficients[En],sn);Yt++}else if(Jt.isDirectionalLight){const En=e.get(Jt);if(En.color.copy(Jt.color).multiplyScalar(Jt.intensity),Jt.castShadow){const Nn=Jt.shadow,on=a.get(Jt);on.shadowIntensity=Nn.intensity,on.shadowBias=Nn.bias,on.shadowNormalBias=Nn.normalBias,on.shadowRadius=Nn.radius,on.shadowMapSize=Nn.mapSize,d.directionalShadow[Rt]=on,d.directionalShadowMap[Rt]=Cn,d.directionalShadowMatrix[Rt]=Jt.shadow.matrix,Ot++}d.directional[Rt]=En,Rt++}else if(Jt.isSpotLight){const En=e.get(Jt);En.position.setFromMatrixPosition(Jt.matrixWorld),En.color.copy(cn).multiplyScalar(sn),En.distance=Tn,En.coneCos=Math.cos(Jt.angle),En.penumbraCos=Math.cos(Jt.angle*(1-Jt.penumbra)),En.decay=Jt.decay,d.spot[Dt]=En;const Nn=Jt.shadow;if(Jt.map&&(d.spotLightMap[jt]=Jt.map,jt++,Nn.updateMatrices(Jt),Jt.castShadow&&$t++),d.spotLightMatrix[Dt]=Nn.matrix,Jt.castShadow){const on=a.get(Jt);on.shadowIntensity=Nn.intensity,on.shadowBias=Nn.bias,on.shadowNormalBias=Nn.normalBias,on.shadowRadius=Nn.radius,on.shadowMapSize=Nn.mapSize,d.spotShadow[Dt]=on,d.spotShadowMap[Dt]=Cn,Vt++}Dt++}else if(Jt.isRectAreaLight){const En=e.get(Jt);En.color.copy(cn).multiplyScalar(sn),En.halfWidth.set(Jt.width*.5,0,0),En.halfHeight.set(0,Jt.height*.5,0),d.rectArea[Nt]=En,Nt++}else if(Jt.isPointLight){const En=e.get(Jt);if(En.color.copy(Jt.color).multiplyScalar(Jt.intensity),En.distance=Jt.distance,En.decay=Jt.decay,Jt.castShadow){const Nn=Jt.shadow,on=a.get(Jt);on.shadowIntensity=Nn.intensity,on.shadowBias=Nn.bias,on.shadowNormalBias=Nn.normalBias,on.shadowRadius=Nn.radius,on.shadowMapSize=Nn.mapSize,on.shadowCameraNear=Nn.camera.near,on.shadowCameraFar=Nn.camera.far,d.pointShadow[yt]=on,d.pointShadowMap[yt]=Cn,d.pointShadowMatrix[yt]=Jt.shadow.matrix,Ft++}d.point[yt]=En,yt++}else if(Jt.isHemisphereLight){const En=e.get(Jt);En.skyColor.copy(Jt.color).multiplyScalar(sn),En.groundColor.copy(Jt.groundColor).multiplyScalar(sn),d.hemi[Lt]=En,Lt++}}Nt>0&&(c.has("OES_texture_float_linear")===!0?(d.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,d.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):(d.rectAreaLTC1=UniformsLib.LTC_HALF_1,d.rectAreaLTC2=UniformsLib.LTC_HALF_2)),d.ambient[0]=Tt,d.ambient[1]=At,d.ambient[2]=Ct;const Kt=d.hash;(Kt.directionalLength!==Rt||Kt.pointLength!==yt||Kt.spotLength!==Dt||Kt.rectAreaLength!==Nt||Kt.hemiLength!==Lt||Kt.numDirectionalShadows!==Ot||Kt.numPointShadows!==Ft||Kt.numSpotShadows!==Vt||Kt.numSpotMaps!==jt||Kt.numLightProbes!==Yt)&&(d.directional.length=Rt,d.spot.length=Dt,d.rectArea.length=Nt,d.point.length=yt,d.hemi.length=Lt,d.directionalShadow.length=Ot,d.directionalShadowMap.length=Ot,d.pointShadow.length=Ft,d.pointShadowMap.length=Ft,d.spotShadow.length=Vt,d.spotShadowMap.length=Vt,d.directionalShadowMatrix.length=Ot,d.pointShadowMatrix.length=Ft,d.spotLightMatrix.length=Vt+jt-$t,d.spotLightMap.length=jt,d.numSpotLightShadowsWithMaps=$t,d.numLightProbes=Yt,Kt.directionalLength=Rt,Kt.pointLength=yt,Kt.spotLength=Dt,Kt.rectAreaLength=Nt,Kt.hemiLength=Lt,Kt.numDirectionalShadows=Ot,Kt.numPointShadows=Ft,Kt.numSpotShadows=Vt,Kt.numSpotMaps=jt,Kt.numLightProbes=Yt,d.version=nextVersion++)}function xt(St,Tt){let At=0,Ct=0,Rt=0,yt=0,Dt=0;const Nt=Tt.matrixWorldInverse;for(let Lt=0,Ot=St.length;Lt<Ot;Lt++){const Ft=St[Lt];if(Ft.isDirectionalLight){const Vt=d.directional[At];Vt.direction.setFromMatrixPosition(Ft.matrixWorld),nt.setFromMatrixPosition(Ft.target.matrixWorld),Vt.direction.sub(nt),Vt.direction.transformDirection(Nt),At++}else if(Ft.isSpotLight){const Vt=d.spot[Rt];Vt.position.setFromMatrixPosition(Ft.matrixWorld),Vt.position.applyMatrix4(Nt),Vt.direction.setFromMatrixPosition(Ft.matrixWorld),nt.setFromMatrixPosition(Ft.target.matrixWorld),Vt.direction.sub(nt),Vt.direction.transformDirection(Nt),Rt++}else if(Ft.isRectAreaLight){const Vt=d.rectArea[yt];Vt.position.setFromMatrixPosition(Ft.matrixWorld),Vt.position.applyMatrix4(Nt),ht.identity(),o.copy(Ft.matrixWorld),o.premultiply(Nt),ht.extractRotation(o),Vt.halfWidth.set(Ft.width*.5,0,0),Vt.halfHeight.set(0,Ft.height*.5,0),Vt.halfWidth.applyMatrix4(ht),Vt.halfHeight.applyMatrix4(ht),yt++}else if(Ft.isPointLight){const Vt=d.point[Ct];Vt.position.setFromMatrixPosition(Ft.matrixWorld),Vt.position.applyMatrix4(Nt),Ct++}else if(Ft.isHemisphereLight){const Vt=d.hemi[Dt];Vt.direction.setFromMatrixPosition(Ft.matrixWorld),Vt.direction.transformDirection(Nt),Dt++}}}return{setup:vt,setupView:xt,state:d}}function WebGLRenderState(c){const e=new WebGLLights(c),a=[],d=[];function nt(Tt){St.camera=Tt,a.length=0,d.length=0}function o(Tt){a.push(Tt)}function ht(Tt){d.push(Tt)}function vt(){e.setup(a)}function xt(Tt){e.setupView(a,Tt)}const St={lightsArray:a,shadowsArray:d,camera:null,lights:e,transmissionRenderTarget:{}};return{init:nt,state:St,setupLights:vt,setupLightsView:xt,pushLight:o,pushShadow:ht}}function WebGLRenderStates(c){let e=new WeakMap;function a(nt,o=0){const ht=e.get(nt);let vt;return ht===void 0?(vt=new WebGLRenderState(c),e.set(nt,[vt])):o>=ht.length?(vt=new WebGLRenderState(c),ht.push(vt)):vt=ht[o],vt}function d(){e=new WeakMap}return{get:a,dispose:d}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(c,e,a){let d=new Frustum;const nt=new Vector2,o=new Vector2,ht=new Vector4,vt=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),xt=new MeshDistanceMaterial,St={},Tt=a.maxTextureSize,At={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},Ct=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),Rt=Ct.clone();Rt.defines.HORIZONTAL_PASS=1;const yt=new BufferGeometry;yt.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const Dt=new Mesh(yt,Ct),Nt=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap;let Lt=this.type;this.render=function($t,Yt,Kt){if(Nt.enabled===!1||Nt.autoUpdate===!1&&Nt.needsUpdate===!1||$t.length===0)return;const qt=c.getRenderTarget(),Wt=c.getActiveCubeFace(),Jt=c.getActiveMipmapLevel(),cn=c.state;cn.setBlending(NoBlending),cn.buffers.color.setClear(1,1,1,1),cn.buffers.depth.setTest(!0),cn.setScissorTest(!1);const sn=Lt!==VSMShadowMap&&this.type===VSMShadowMap,Tn=Lt===VSMShadowMap&&this.type!==VSMShadowMap;for(let Cn=0,En=$t.length;Cn<En;Cn++){const Nn=$t[Cn],on=Nn.shadow;if(on===void 0){console.warn("THREE.WebGLShadowMap:",Nn,"has no shadow.");continue}if(on.autoUpdate===!1&&on.needsUpdate===!1)continue;nt.copy(on.mapSize);const hn=on.getFrameExtents();if(nt.multiply(hn),o.copy(on.mapSize),(nt.x>Tt||nt.y>Tt)&&(nt.x>Tt&&(o.x=Math.floor(Tt/hn.x),nt.x=o.x*hn.x,on.mapSize.x=o.x),nt.y>Tt&&(o.y=Math.floor(Tt/hn.y),nt.y=o.y*hn.y,on.mapSize.y=o.y)),on.map===null||sn===!0||Tn===!0){const Pn=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};on.map!==null&&on.map.dispose(),on.map=new WebGLRenderTarget(nt.x,nt.y,Pn),on.map.texture.name=Nn.name+".shadowMap",on.camera.updateProjectionMatrix()}c.setRenderTarget(on.map),c.clear();const pn=on.getViewportCount();for(let Pn=0;Pn<pn;Pn++){const jn=on.getViewport(Pn);ht.set(o.x*jn.x,o.y*jn.y,o.x*jn.z,o.y*jn.w),cn.viewport(ht),on.updateMatrices(Nn,Pn),d=on.getFrustum(),Vt(Yt,Kt,on.camera,Nn,this.type)}on.isPointLightShadow!==!0&&this.type===VSMShadowMap&&Ot(on,Kt),on.needsUpdate=!1}Lt=this.type,Nt.needsUpdate=!1,c.setRenderTarget(qt,Wt,Jt)};function Ot($t,Yt){const Kt=e.update(Dt);Ct.defines.VSM_SAMPLES!==$t.blurSamples&&(Ct.defines.VSM_SAMPLES=$t.blurSamples,Rt.defines.VSM_SAMPLES=$t.blurSamples,Ct.needsUpdate=!0,Rt.needsUpdate=!0),$t.mapPass===null&&($t.mapPass=new WebGLRenderTarget(nt.x,nt.y)),Ct.uniforms.shadow_pass.value=$t.map.texture,Ct.uniforms.resolution.value=$t.mapSize,Ct.uniforms.radius.value=$t.radius,c.setRenderTarget($t.mapPass),c.clear(),c.renderBufferDirect(Yt,null,Kt,Ct,Dt,null),Rt.uniforms.shadow_pass.value=$t.mapPass.texture,Rt.uniforms.resolution.value=$t.mapSize,Rt.uniforms.radius.value=$t.radius,c.setRenderTarget($t.map),c.clear(),c.renderBufferDirect(Yt,null,Kt,Rt,Dt,null)}function Ft($t,Yt,Kt,qt){let Wt=null;const Jt=Kt.isPointLight===!0?$t.customDistanceMaterial:$t.customDepthMaterial;if(Jt!==void 0)Wt=Jt;else if(Wt=Kt.isPointLight===!0?xt:vt,c.localClippingEnabled&&Yt.clipShadows===!0&&Array.isArray(Yt.clippingPlanes)&&Yt.clippingPlanes.length!==0||Yt.displacementMap&&Yt.displacementScale!==0||Yt.alphaMap&&Yt.alphaTest>0||Yt.map&&Yt.alphaTest>0||Yt.alphaToCoverage===!0){const cn=Wt.uuid,sn=Yt.uuid;let Tn=St[cn];Tn===void 0&&(Tn={},St[cn]=Tn);let Cn=Tn[sn];Cn===void 0&&(Cn=Wt.clone(),Tn[sn]=Cn,Yt.addEventListener("dispose",jt)),Wt=Cn}if(Wt.visible=Yt.visible,Wt.wireframe=Yt.wireframe,qt===VSMShadowMap?Wt.side=Yt.shadowSide!==null?Yt.shadowSide:Yt.side:Wt.side=Yt.shadowSide!==null?Yt.shadowSide:At[Yt.side],Wt.alphaMap=Yt.alphaMap,Wt.alphaTest=Yt.alphaToCoverage===!0?.5:Yt.alphaTest,Wt.map=Yt.map,Wt.clipShadows=Yt.clipShadows,Wt.clippingPlanes=Yt.clippingPlanes,Wt.clipIntersection=Yt.clipIntersection,Wt.displacementMap=Yt.displacementMap,Wt.displacementScale=Yt.displacementScale,Wt.displacementBias=Yt.displacementBias,Wt.wireframeLinewidth=Yt.wireframeLinewidth,Wt.linewidth=Yt.linewidth,Kt.isPointLight===!0&&Wt.isMeshDistanceMaterial===!0){const cn=c.properties.get(Wt);cn.light=Kt}return Wt}function Vt($t,Yt,Kt,qt,Wt){if($t.visible===!1)return;if($t.layers.test(Yt.layers)&&($t.isMesh||$t.isLine||$t.isPoints)&&($t.castShadow||$t.receiveShadow&&Wt===VSMShadowMap)&&(!$t.frustumCulled||d.intersectsObject($t))){$t.modelViewMatrix.multiplyMatrices(Kt.matrixWorldInverse,$t.matrixWorld);const sn=e.update($t),Tn=$t.material;if(Array.isArray(Tn)){const Cn=sn.groups;for(let En=0,Nn=Cn.length;En<Nn;En++){const on=Cn[En],hn=Tn[on.materialIndex];if(hn&&hn.visible){const pn=Ft($t,hn,qt,Wt);$t.onBeforeShadow(c,$t,Yt,Kt,sn,pn,on),c.renderBufferDirect(Kt,null,sn,pn,$t,on),$t.onAfterShadow(c,$t,Yt,Kt,sn,pn,on)}}}else if(Tn.visible){const Cn=Ft($t,Tn,qt,Wt);$t.onBeforeShadow(c,$t,Yt,Kt,sn,Cn,null),c.renderBufferDirect(Kt,null,sn,Cn,$t,null),$t.onAfterShadow(c,$t,Yt,Kt,sn,Cn,null)}}const cn=$t.children;for(let sn=0,Tn=cn.length;sn<Tn;sn++)Vt(cn[sn],Yt,Kt,qt,Wt)}function jt($t){$t.target.removeEventListener("dispose",jt);for(const Kt in St){const qt=St[Kt],Wt=$t.target.uuid;Wt in qt&&(qt[Wt].dispose(),delete qt[Wt])}}}const reversedFuncs={[NeverDepth]:AlwaysDepth,[LessDepth]:GreaterDepth,[EqualDepth]:NotEqualDepth,[LessEqualDepth]:GreaterEqualDepth,[AlwaysDepth]:NeverDepth,[GreaterDepth]:LessDepth,[NotEqualDepth]:EqualDepth,[GreaterEqualDepth]:LessEqualDepth};function WebGLState(c,e){function a(){let an=!1;const sr=new Vector4;let kn=null;const Wn=new Vector4(0,0,0,0);return{setMask:function(xr){kn!==xr&&!an&&(c.colorMask(xr,xr,xr,xr),kn=xr)},setLocked:function(xr){an=xr},setClear:function(xr,pr,Hr,ao,So){So===!0&&(xr*=ao,pr*=ao,Hr*=ao),sr.set(xr,pr,Hr,ao),Wn.equals(sr)===!1&&(c.clearColor(xr,pr,Hr,ao),Wn.copy(sr))},reset:function(){an=!1,kn=null,Wn.set(-1,0,0,0)}}}function d(){let an=!1,sr=!1,kn=null,Wn=null,xr=null;return{setReversed:function(pr){if(sr!==pr){const Hr=e.get("EXT_clip_control");pr?Hr.clipControlEXT(Hr.LOWER_LEFT_EXT,Hr.ZERO_TO_ONE_EXT):Hr.clipControlEXT(Hr.LOWER_LEFT_EXT,Hr.NEGATIVE_ONE_TO_ONE_EXT),sr=pr;const ao=xr;xr=null,this.setClear(ao)}},getReversed:function(){return sr},setTest:function(pr){pr?tr(c.DEPTH_TEST):_r(c.DEPTH_TEST)},setMask:function(pr){kn!==pr&&!an&&(c.depthMask(pr),kn=pr)},setFunc:function(pr){if(sr&&(pr=reversedFuncs[pr]),Wn!==pr){switch(pr){case NeverDepth:c.depthFunc(c.NEVER);break;case AlwaysDepth:c.depthFunc(c.ALWAYS);break;case LessDepth:c.depthFunc(c.LESS);break;case LessEqualDepth:c.depthFunc(c.LEQUAL);break;case EqualDepth:c.depthFunc(c.EQUAL);break;case GreaterEqualDepth:c.depthFunc(c.GEQUAL);break;case GreaterDepth:c.depthFunc(c.GREATER);break;case NotEqualDepth:c.depthFunc(c.NOTEQUAL);break;default:c.depthFunc(c.LEQUAL)}Wn=pr}},setLocked:function(pr){an=pr},setClear:function(pr){xr!==pr&&(sr&&(pr=1-pr),c.clearDepth(pr),xr=pr)},reset:function(){an=!1,kn=null,Wn=null,xr=null,sr=!1}}}function nt(){let an=!1,sr=null,kn=null,Wn=null,xr=null,pr=null,Hr=null,ao=null,So=null;return{setTest:function(to){an||(to?tr(c.STENCIL_TEST):_r(c.STENCIL_TEST))},setMask:function(to){sr!==to&&!an&&(c.stencilMask(to),sr=to)},setFunc:function(to,Lo,Io){(kn!==to||Wn!==Lo||xr!==Io)&&(c.stencilFunc(to,Lo,Io),kn=to,Wn=Lo,xr=Io)},setOp:function(to,Lo,Io){(pr!==to||Hr!==Lo||ao!==Io)&&(c.stencilOp(to,Lo,Io),pr=to,Hr=Lo,ao=Io)},setLocked:function(to){an=to},setClear:function(to){So!==to&&(c.clearStencil(to),So=to)},reset:function(){an=!1,sr=null,kn=null,Wn=null,xr=null,pr=null,Hr=null,ao=null,So=null}}}const o=new a,ht=new d,vt=new nt,xt=new WeakMap,St=new WeakMap;let Tt={},At={},Ct=new WeakMap,Rt=[],yt=null,Dt=!1,Nt=null,Lt=null,Ot=null,Ft=null,Vt=null,jt=null,$t=null,Yt=new Color(0,0,0),Kt=0,qt=!1,Wt=null,Jt=null,cn=null,sn=null,Tn=null;const Cn=c.getParameter(c.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let En=!1,Nn=0;const on=c.getParameter(c.VERSION);on.indexOf("WebGL")!==-1?(Nn=parseFloat(/^WebGL (\d)/.exec(on)[1]),En=Nn>=1):on.indexOf("OpenGL ES")!==-1&&(Nn=parseFloat(/^OpenGL ES (\d)/.exec(on)[1]),En=Nn>=2);let hn=null,pn={};const Pn=c.getParameter(c.SCISSOR_BOX),jn=c.getParameter(c.VIEWPORT),ar=new Vector4().fromArray(Pn),An=new Vector4().fromArray(jn);function Xn(an,sr,kn,Wn){const xr=new Uint8Array(4),pr=c.createTexture();c.bindTexture(an,pr),c.texParameteri(an,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(an,c.TEXTURE_MAG_FILTER,c.NEAREST);for(let Hr=0;Hr<kn;Hr++)an===c.TEXTURE_3D||an===c.TEXTURE_2D_ARRAY?c.texImage3D(sr,0,c.RGBA,1,1,Wn,0,c.RGBA,c.UNSIGNED_BYTE,xr):c.texImage2D(sr+Hr,0,c.RGBA,1,1,0,c.RGBA,c.UNSIGNED_BYTE,xr);return pr}const or={};or[c.TEXTURE_2D]=Xn(c.TEXTURE_2D,c.TEXTURE_2D,1),or[c.TEXTURE_CUBE_MAP]=Xn(c.TEXTURE_CUBE_MAP,c.TEXTURE_CUBE_MAP_POSITIVE_X,6),or[c.TEXTURE_2D_ARRAY]=Xn(c.TEXTURE_2D_ARRAY,c.TEXTURE_2D_ARRAY,1,1),or[c.TEXTURE_3D]=Xn(c.TEXTURE_3D,c.TEXTURE_3D,1,1),o.setClear(0,0,0,1),ht.setClear(1),vt.setClear(0),tr(c.DEPTH_TEST),ht.setFunc(LessEqualDepth),Kn(!1),Qn(CullFaceBack),tr(c.CULL_FACE),nn(NoBlending);function tr(an){Tt[an]!==!0&&(c.enable(an),Tt[an]=!0)}function _r(an){Tt[an]!==!1&&(c.disable(an),Tt[an]=!1)}function kr(an,sr){return At[an]!==sr?(c.bindFramebuffer(an,sr),At[an]=sr,an===c.DRAW_FRAMEBUFFER&&(At[c.FRAMEBUFFER]=sr),an===c.FRAMEBUFFER&&(At[c.DRAW_FRAMEBUFFER]=sr),!0):!1}function hr(an,sr){let kn=Rt,Wn=!1;if(an){kn=Ct.get(sr),kn===void 0&&(kn=[],Ct.set(sr,kn));const xr=an.textures;if(kn.length!==xr.length||kn[0]!==c.COLOR_ATTACHMENT0){for(let pr=0,Hr=xr.length;pr<Hr;pr++)kn[pr]=c.COLOR_ATTACHMENT0+pr;kn.length=xr.length,Wn=!0}}else kn[0]!==c.BACK&&(kn[0]=c.BACK,Wn=!0);Wn&&c.drawBuffers(kn)}function gr(an){return yt!==an?(c.useProgram(an),yt=an,!0):!1}const It={[AddEquation]:c.FUNC_ADD,[SubtractEquation]:c.FUNC_SUBTRACT,[ReverseSubtractEquation]:c.FUNC_REVERSE_SUBTRACT};It[MinEquation]=c.MIN,It[MaxEquation]=c.MAX;const Jn={[ZeroFactor]:c.ZERO,[OneFactor]:c.ONE,[SrcColorFactor]:c.SRC_COLOR,[SrcAlphaFactor]:c.SRC_ALPHA,[SrcAlphaSaturateFactor]:c.SRC_ALPHA_SATURATE,[DstColorFactor]:c.DST_COLOR,[DstAlphaFactor]:c.DST_ALPHA,[OneMinusSrcColorFactor]:c.ONE_MINUS_SRC_COLOR,[OneMinusSrcAlphaFactor]:c.ONE_MINUS_SRC_ALPHA,[OneMinusDstColorFactor]:c.ONE_MINUS_DST_COLOR,[OneMinusDstAlphaFactor]:c.ONE_MINUS_DST_ALPHA,[ConstantColorFactor]:c.CONSTANT_COLOR,[OneMinusConstantColorFactor]:c.ONE_MINUS_CONSTANT_COLOR,[ConstantAlphaFactor]:c.CONSTANT_ALPHA,[OneMinusConstantAlphaFactor]:c.ONE_MINUS_CONSTANT_ALPHA};function nn(an,sr,kn,Wn,xr,pr,Hr,ao,So,to){if(an===NoBlending){Dt===!0&&(_r(c.BLEND),Dt=!1);return}if(Dt===!1&&(tr(c.BLEND),Dt=!0),an!==CustomBlending){if(an!==Nt||to!==qt){if((Lt!==AddEquation||Vt!==AddEquation)&&(c.blendEquation(c.FUNC_ADD),Lt=AddEquation,Vt=AddEquation),to)switch(an){case NormalBlending:c.blendFuncSeparate(c.ONE,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:c.blendFunc(c.ONE,c.ONE);break;case SubtractiveBlending:c.blendFuncSeparate(c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ZERO,c.ONE);break;case MultiplyBlending:c.blendFuncSeparate(c.ZERO,c.SRC_COLOR,c.ZERO,c.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",an);break}else switch(an){case NormalBlending:c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:c.blendFunc(c.SRC_ALPHA,c.ONE);break;case SubtractiveBlending:c.blendFuncSeparate(c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ZERO,c.ONE);break;case MultiplyBlending:c.blendFunc(c.ZERO,c.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",an);break}Ot=null,Ft=null,jt=null,$t=null,Yt.set(0,0,0),Kt=0,Nt=an,qt=to}return}xr=xr||sr,pr=pr||kn,Hr=Hr||Wn,(sr!==Lt||xr!==Vt)&&(c.blendEquationSeparate(It[sr],It[xr]),Lt=sr,Vt=xr),(kn!==Ot||Wn!==Ft||pr!==jt||Hr!==$t)&&(c.blendFuncSeparate(Jn[kn],Jn[Wn],Jn[pr],Jn[Hr]),Ot=kn,Ft=Wn,jt=pr,$t=Hr),(ao.equals(Yt)===!1||So!==Kt)&&(c.blendColor(ao.r,ao.g,ao.b,So),Yt.copy(ao),Kt=So),Nt=an,qt=!1}function rr(an,sr){an.side===DoubleSide?_r(c.CULL_FACE):tr(c.CULL_FACE);let kn=an.side===BackSide;sr&&(kn=!kn),Kn(kn),an.blending===NormalBlending&&an.transparent===!1?nn(NoBlending):nn(an.blending,an.blendEquation,an.blendSrc,an.blendDst,an.blendEquationAlpha,an.blendSrcAlpha,an.blendDstAlpha,an.blendColor,an.blendAlpha,an.premultipliedAlpha),ht.setFunc(an.depthFunc),ht.setTest(an.depthTest),ht.setMask(an.depthWrite),o.setMask(an.colorWrite);const Wn=an.stencilWrite;vt.setTest(Wn),Wn&&(vt.setMask(an.stencilWriteMask),vt.setFunc(an.stencilFunc,an.stencilRef,an.stencilFuncMask),vt.setOp(an.stencilFail,an.stencilZFail,an.stencilZPass)),vr(an.polygonOffset,an.polygonOffsetFactor,an.polygonOffsetUnits),an.alphaToCoverage===!0?tr(c.SAMPLE_ALPHA_TO_COVERAGE):_r(c.SAMPLE_ALPHA_TO_COVERAGE)}function Kn(an){Wt!==an&&(an?c.frontFace(c.CW):c.frontFace(c.CCW),Wt=an)}function Qn(an){an!==CullFaceNone?(tr(c.CULL_FACE),an!==Jt&&(an===CullFaceBack?c.cullFace(c.BACK):an===CullFaceFront?c.cullFace(c.FRONT):c.cullFace(c.FRONT_AND_BACK))):_r(c.CULL_FACE),Jt=an}function Fn(an){an!==cn&&(En&&c.lineWidth(an),cn=an)}function vr(an,sr,kn){an?(tr(c.POLYGON_OFFSET_FILL),(sn!==sr||Tn!==kn)&&(c.polygonOffset(sr,kn),sn=sr,Tn=kn)):_r(c.POLYGON_OFFSET_FILL)}function Yn(an){an?tr(c.SCISSOR_TEST):_r(c.SCISSOR_TEST)}function tn(an){an===void 0&&(an=c.TEXTURE0+Cn-1),hn!==an&&(c.activeTexture(an),hn=an)}function Qt(an,sr,kn){kn===void 0&&(hn===null?kn=c.TEXTURE0+Cn-1:kn=hn);let Wn=pn[kn];Wn===void 0&&(Wn={type:void 0,texture:void 0},pn[kn]=Wn),(Wn.type!==an||Wn.texture!==sr)&&(hn!==kn&&(c.activeTexture(kn),hn=kn),c.bindTexture(an,sr||or[an]),Wn.type=an,Wn.texture=sr)}function dn(){const an=pn[hn];an!==void 0&&an.type!==void 0&&(c.bindTexture(an.type,null),an.type=void 0,an.texture=void 0)}function In(){try{c.compressedTexImage2D(...arguments)}catch(an){console.error("THREE.WebGLState:",an)}}function Hn(){try{c.compressedTexImage3D(...arguments)}catch(an){console.error("THREE.WebGLState:",an)}}function xn(){try{c.texSubImage2D(...arguments)}catch(an){console.error("THREE.WebGLState:",an)}}function er(){try{c.texSubImage3D(...arguments)}catch(an){console.error("THREE.WebGLState:",an)}}function Gn(){try{c.compressedTexSubImage2D(...arguments)}catch(an){console.error("THREE.WebGLState:",an)}}function dr(){try{c.compressedTexSubImage3D(...arguments)}catch(an){console.error("THREE.WebGLState:",an)}}function Nr(){try{c.texStorage2D(...arguments)}catch(an){console.error("THREE.WebGLState:",an)}}function Zn(){try{c.texStorage3D(...arguments)}catch(an){console.error("THREE.WebGLState:",an)}}function nr(){try{c.texImage2D(...arguments)}catch(an){console.error("THREE.WebGLState:",an)}}function ir(){try{c.texImage3D(...arguments)}catch(an){console.error("THREE.WebGLState:",an)}}function Or(an){ar.equals(an)===!1&&(c.scissor(an.x,an.y,an.z,an.w),ar.copy(an))}function Er(an){An.equals(an)===!1&&(c.viewport(an.x,an.y,an.z,an.w),An.copy(an))}function un(an,sr){let kn=St.get(sr);kn===void 0&&(kn=new WeakMap,St.set(sr,kn));let Wn=kn.get(an);Wn===void 0&&(Wn=c.getUniformBlockIndex(sr,an.name),kn.set(an,Wn))}function $n(an,sr){const Wn=St.get(sr).get(an);xt.get(sr)!==Wn&&(c.uniformBlockBinding(sr,Wn,an.__bindingPointIndex),xt.set(sr,Wn))}function ur(){c.disable(c.BLEND),c.disable(c.CULL_FACE),c.disable(c.DEPTH_TEST),c.disable(c.POLYGON_OFFSET_FILL),c.disable(c.SCISSOR_TEST),c.disable(c.STENCIL_TEST),c.disable(c.SAMPLE_ALPHA_TO_COVERAGE),c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ZERO),c.blendFuncSeparate(c.ONE,c.ZERO,c.ONE,c.ZERO),c.blendColor(0,0,0,0),c.colorMask(!0,!0,!0,!0),c.clearColor(0,0,0,0),c.depthMask(!0),c.depthFunc(c.LESS),ht.setReversed(!1),c.clearDepth(1),c.stencilMask(4294967295),c.stencilFunc(c.ALWAYS,0,4294967295),c.stencilOp(c.KEEP,c.KEEP,c.KEEP),c.clearStencil(0),c.cullFace(c.BACK),c.frontFace(c.CCW),c.polygonOffset(0,0),c.activeTexture(c.TEXTURE0),c.bindFramebuffer(c.FRAMEBUFFER,null),c.bindFramebuffer(c.DRAW_FRAMEBUFFER,null),c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.useProgram(null),c.lineWidth(1),c.scissor(0,0,c.canvas.width,c.canvas.height),c.viewport(0,0,c.canvas.width,c.canvas.height),Tt={},hn=null,pn={},At={},Ct=new WeakMap,Rt=[],yt=null,Dt=!1,Nt=null,Lt=null,Ot=null,Ft=null,Vt=null,jt=null,$t=null,Yt=new Color(0,0,0),Kt=0,qt=!1,Wt=null,Jt=null,cn=null,sn=null,Tn=null,ar.set(0,0,c.canvas.width,c.canvas.height),An.set(0,0,c.canvas.width,c.canvas.height),o.reset(),ht.reset(),vt.reset()}return{buffers:{color:o,depth:ht,stencil:vt},enable:tr,disable:_r,bindFramebuffer:kr,drawBuffers:hr,useProgram:gr,setBlending:nn,setMaterial:rr,setFlipSided:Kn,setCullFace:Qn,setLineWidth:Fn,setPolygonOffset:vr,setScissorTest:Yn,activeTexture:tn,bindTexture:Qt,unbindTexture:dn,compressedTexImage2D:In,compressedTexImage3D:Hn,texImage2D:nr,texImage3D:ir,updateUBOMapping:un,uniformBlockBinding:$n,texStorage2D:Nr,texStorage3D:Zn,texSubImage2D:xn,texSubImage3D:er,compressedTexSubImage2D:Gn,compressedTexSubImage3D:dr,scissor:Or,viewport:Er,reset:ur}}function WebGLTextures(c,e,a,d,nt,o,ht){const vt=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,xt=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),St=new Vector2,Tt=new WeakMap;let At;const Ct=new WeakMap;let Rt=!1;try{Rt=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function yt(tn,Qt){return Rt?new OffscreenCanvas(tn,Qt):createElementNS("canvas")}function Dt(tn,Qt,dn){let In=1;const Hn=Yn(tn);if((Hn.width>dn||Hn.height>dn)&&(In=dn/Math.max(Hn.width,Hn.height)),In<1)if(typeof HTMLImageElement<"u"&&tn instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&tn instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&tn instanceof ImageBitmap||typeof VideoFrame<"u"&&tn instanceof VideoFrame){const xn=Math.floor(In*Hn.width),er=Math.floor(In*Hn.height);At===void 0&&(At=yt(xn,er));const Gn=Qt?yt(xn,er):At;return Gn.width=xn,Gn.height=er,Gn.getContext("2d").drawImage(tn,0,0,xn,er),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Hn.width+"x"+Hn.height+") to ("+xn+"x"+er+")."),Gn}else return"data"in tn&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Hn.width+"x"+Hn.height+")."),tn;return tn}function Nt(tn){return tn.generateMipmaps}function Lt(tn){c.generateMipmap(tn)}function Ot(tn){return tn.isWebGLCubeRenderTarget?c.TEXTURE_CUBE_MAP:tn.isWebGL3DRenderTarget?c.TEXTURE_3D:tn.isWebGLArrayRenderTarget||tn.isCompressedArrayTexture?c.TEXTURE_2D_ARRAY:c.TEXTURE_2D}function Ft(tn,Qt,dn,In,Hn=!1){if(tn!==null){if(c[tn]!==void 0)return c[tn];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+tn+"'")}let xn=Qt;if(Qt===c.RED&&(dn===c.FLOAT&&(xn=c.R32F),dn===c.HALF_FLOAT&&(xn=c.R16F),dn===c.UNSIGNED_BYTE&&(xn=c.R8)),Qt===c.RED_INTEGER&&(dn===c.UNSIGNED_BYTE&&(xn=c.R8UI),dn===c.UNSIGNED_SHORT&&(xn=c.R16UI),dn===c.UNSIGNED_INT&&(xn=c.R32UI),dn===c.BYTE&&(xn=c.R8I),dn===c.SHORT&&(xn=c.R16I),dn===c.INT&&(xn=c.R32I)),Qt===c.RG&&(dn===c.FLOAT&&(xn=c.RG32F),dn===c.HALF_FLOAT&&(xn=c.RG16F),dn===c.UNSIGNED_BYTE&&(xn=c.RG8)),Qt===c.RG_INTEGER&&(dn===c.UNSIGNED_BYTE&&(xn=c.RG8UI),dn===c.UNSIGNED_SHORT&&(xn=c.RG16UI),dn===c.UNSIGNED_INT&&(xn=c.RG32UI),dn===c.BYTE&&(xn=c.RG8I),dn===c.SHORT&&(xn=c.RG16I),dn===c.INT&&(xn=c.RG32I)),Qt===c.RGB_INTEGER&&(dn===c.UNSIGNED_BYTE&&(xn=c.RGB8UI),dn===c.UNSIGNED_SHORT&&(xn=c.RGB16UI),dn===c.UNSIGNED_INT&&(xn=c.RGB32UI),dn===c.BYTE&&(xn=c.RGB8I),dn===c.SHORT&&(xn=c.RGB16I),dn===c.INT&&(xn=c.RGB32I)),Qt===c.RGBA_INTEGER&&(dn===c.UNSIGNED_BYTE&&(xn=c.RGBA8UI),dn===c.UNSIGNED_SHORT&&(xn=c.RGBA16UI),dn===c.UNSIGNED_INT&&(xn=c.RGBA32UI),dn===c.BYTE&&(xn=c.RGBA8I),dn===c.SHORT&&(xn=c.RGBA16I),dn===c.INT&&(xn=c.RGBA32I)),Qt===c.RGB&&dn===c.UNSIGNED_INT_5_9_9_9_REV&&(xn=c.RGB9_E5),Qt===c.RGBA){const er=Hn?LinearTransfer:ColorManagement.getTransfer(In);dn===c.FLOAT&&(xn=c.RGBA32F),dn===c.HALF_FLOAT&&(xn=c.RGBA16F),dn===c.UNSIGNED_BYTE&&(xn=er===SRGBTransfer?c.SRGB8_ALPHA8:c.RGBA8),dn===c.UNSIGNED_SHORT_4_4_4_4&&(xn=c.RGBA4),dn===c.UNSIGNED_SHORT_5_5_5_1&&(xn=c.RGB5_A1)}return(xn===c.R16F||xn===c.R32F||xn===c.RG16F||xn===c.RG32F||xn===c.RGBA16F||xn===c.RGBA32F)&&e.get("EXT_color_buffer_float"),xn}function Vt(tn,Qt){let dn;return tn?Qt===null||Qt===UnsignedIntType||Qt===UnsignedInt248Type?dn=c.DEPTH24_STENCIL8:Qt===FloatType?dn=c.DEPTH32F_STENCIL8:Qt===UnsignedShortType&&(dn=c.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Qt===null||Qt===UnsignedIntType||Qt===UnsignedInt248Type?dn=c.DEPTH_COMPONENT24:Qt===FloatType?dn=c.DEPTH_COMPONENT32F:Qt===UnsignedShortType&&(dn=c.DEPTH_COMPONENT16),dn}function jt(tn,Qt){return Nt(tn)===!0||tn.isFramebufferTexture&&tn.minFilter!==NearestFilter&&tn.minFilter!==LinearFilter?Math.log2(Math.max(Qt.width,Qt.height))+1:tn.mipmaps!==void 0&&tn.mipmaps.length>0?tn.mipmaps.length:tn.isCompressedTexture&&Array.isArray(tn.image)?Qt.mipmaps.length:1}function $t(tn){const Qt=tn.target;Qt.removeEventListener("dispose",$t),Kt(Qt),Qt.isVideoTexture&&Tt.delete(Qt)}function Yt(tn){const Qt=tn.target;Qt.removeEventListener("dispose",Yt),Wt(Qt)}function Kt(tn){const Qt=d.get(tn);if(Qt.__webglInit===void 0)return;const dn=tn.source,In=Ct.get(dn);if(In){const Hn=In[Qt.__cacheKey];Hn.usedTimes--,Hn.usedTimes===0&&qt(tn),Object.keys(In).length===0&&Ct.delete(dn)}d.remove(tn)}function qt(tn){const Qt=d.get(tn);c.deleteTexture(Qt.__webglTexture);const dn=tn.source,In=Ct.get(dn);delete In[Qt.__cacheKey],ht.memory.textures--}function Wt(tn){const Qt=d.get(tn);if(tn.depthTexture&&(tn.depthTexture.dispose(),d.remove(tn.depthTexture)),tn.isWebGLCubeRenderTarget)for(let In=0;In<6;In++){if(Array.isArray(Qt.__webglFramebuffer[In]))for(let Hn=0;Hn<Qt.__webglFramebuffer[In].length;Hn++)c.deleteFramebuffer(Qt.__webglFramebuffer[In][Hn]);else c.deleteFramebuffer(Qt.__webglFramebuffer[In]);Qt.__webglDepthbuffer&&c.deleteRenderbuffer(Qt.__webglDepthbuffer[In])}else{if(Array.isArray(Qt.__webglFramebuffer))for(let In=0;In<Qt.__webglFramebuffer.length;In++)c.deleteFramebuffer(Qt.__webglFramebuffer[In]);else c.deleteFramebuffer(Qt.__webglFramebuffer);if(Qt.__webglDepthbuffer&&c.deleteRenderbuffer(Qt.__webglDepthbuffer),Qt.__webglMultisampledFramebuffer&&c.deleteFramebuffer(Qt.__webglMultisampledFramebuffer),Qt.__webglColorRenderbuffer)for(let In=0;In<Qt.__webglColorRenderbuffer.length;In++)Qt.__webglColorRenderbuffer[In]&&c.deleteRenderbuffer(Qt.__webglColorRenderbuffer[In]);Qt.__webglDepthRenderbuffer&&c.deleteRenderbuffer(Qt.__webglDepthRenderbuffer)}const dn=tn.textures;for(let In=0,Hn=dn.length;In<Hn;In++){const xn=d.get(dn[In]);xn.__webglTexture&&(c.deleteTexture(xn.__webglTexture),ht.memory.textures--),d.remove(dn[In])}d.remove(tn)}let Jt=0;function cn(){Jt=0}function sn(){const tn=Jt;return tn>=nt.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+tn+" texture units while this GPU supports only "+nt.maxTextures),Jt+=1,tn}function Tn(tn){const Qt=[];return Qt.push(tn.wrapS),Qt.push(tn.wrapT),Qt.push(tn.wrapR||0),Qt.push(tn.magFilter),Qt.push(tn.minFilter),Qt.push(tn.anisotropy),Qt.push(tn.internalFormat),Qt.push(tn.format),Qt.push(tn.type),Qt.push(tn.generateMipmaps),Qt.push(tn.premultiplyAlpha),Qt.push(tn.flipY),Qt.push(tn.unpackAlignment),Qt.push(tn.colorSpace),Qt.join()}function Cn(tn,Qt){const dn=d.get(tn);if(tn.isVideoTexture&&Fn(tn),tn.isRenderTargetTexture===!1&&tn.version>0&&dn.__version!==tn.version){const In=tn.image;if(In===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(In.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{An(dn,tn,Qt);return}}a.bindTexture(c.TEXTURE_2D,dn.__webglTexture,c.TEXTURE0+Qt)}function En(tn,Qt){const dn=d.get(tn);if(tn.version>0&&dn.__version!==tn.version){An(dn,tn,Qt);return}a.bindTexture(c.TEXTURE_2D_ARRAY,dn.__webglTexture,c.TEXTURE0+Qt)}function Nn(tn,Qt){const dn=d.get(tn);if(tn.version>0&&dn.__version!==tn.version){An(dn,tn,Qt);return}a.bindTexture(c.TEXTURE_3D,dn.__webglTexture,c.TEXTURE0+Qt)}function on(tn,Qt){const dn=d.get(tn);if(tn.version>0&&dn.__version!==tn.version){Xn(dn,tn,Qt);return}a.bindTexture(c.TEXTURE_CUBE_MAP,dn.__webglTexture,c.TEXTURE0+Qt)}const hn={[RepeatWrapping]:c.REPEAT,[ClampToEdgeWrapping]:c.CLAMP_TO_EDGE,[MirroredRepeatWrapping]:c.MIRRORED_REPEAT},pn={[NearestFilter]:c.NEAREST,[NearestMipmapNearestFilter]:c.NEAREST_MIPMAP_NEAREST,[NearestMipmapLinearFilter]:c.NEAREST_MIPMAP_LINEAR,[LinearFilter]:c.LINEAR,[LinearMipmapNearestFilter]:c.LINEAR_MIPMAP_NEAREST,[LinearMipmapLinearFilter]:c.LINEAR_MIPMAP_LINEAR},Pn={[NeverCompare]:c.NEVER,[AlwaysCompare]:c.ALWAYS,[LessCompare]:c.LESS,[LessEqualCompare]:c.LEQUAL,[EqualCompare]:c.EQUAL,[GreaterEqualCompare]:c.GEQUAL,[GreaterCompare]:c.GREATER,[NotEqualCompare]:c.NOTEQUAL};function jn(tn,Qt){if(Qt.type===FloatType&&e.has("OES_texture_float_linear")===!1&&(Qt.magFilter===LinearFilter||Qt.magFilter===LinearMipmapNearestFilter||Qt.magFilter===NearestMipmapLinearFilter||Qt.magFilter===LinearMipmapLinearFilter||Qt.minFilter===LinearFilter||Qt.minFilter===LinearMipmapNearestFilter||Qt.minFilter===NearestMipmapLinearFilter||Qt.minFilter===LinearMipmapLinearFilter)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),c.texParameteri(tn,c.TEXTURE_WRAP_S,hn[Qt.wrapS]),c.texParameteri(tn,c.TEXTURE_WRAP_T,hn[Qt.wrapT]),(tn===c.TEXTURE_3D||tn===c.TEXTURE_2D_ARRAY)&&c.texParameteri(tn,c.TEXTURE_WRAP_R,hn[Qt.wrapR]),c.texParameteri(tn,c.TEXTURE_MAG_FILTER,pn[Qt.magFilter]),c.texParameteri(tn,c.TEXTURE_MIN_FILTER,pn[Qt.minFilter]),Qt.compareFunction&&(c.texParameteri(tn,c.TEXTURE_COMPARE_MODE,c.COMPARE_REF_TO_TEXTURE),c.texParameteri(tn,c.TEXTURE_COMPARE_FUNC,Pn[Qt.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(Qt.magFilter===NearestFilter||Qt.minFilter!==NearestMipmapLinearFilter&&Qt.minFilter!==LinearMipmapLinearFilter||Qt.type===FloatType&&e.has("OES_texture_float_linear")===!1)return;if(Qt.anisotropy>1||d.get(Qt).__currentAnisotropy){const dn=e.get("EXT_texture_filter_anisotropic");c.texParameterf(tn,dn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Qt.anisotropy,nt.getMaxAnisotropy())),d.get(Qt).__currentAnisotropy=Qt.anisotropy}}}function ar(tn,Qt){let dn=!1;tn.__webglInit===void 0&&(tn.__webglInit=!0,Qt.addEventListener("dispose",$t));const In=Qt.source;let Hn=Ct.get(In);Hn===void 0&&(Hn={},Ct.set(In,Hn));const xn=Tn(Qt);if(xn!==tn.__cacheKey){Hn[xn]===void 0&&(Hn[xn]={texture:c.createTexture(),usedTimes:0},ht.memory.textures++,dn=!0),Hn[xn].usedTimes++;const er=Hn[tn.__cacheKey];er!==void 0&&(Hn[tn.__cacheKey].usedTimes--,er.usedTimes===0&&qt(Qt)),tn.__cacheKey=xn,tn.__webglTexture=Hn[xn].texture}return dn}function An(tn,Qt,dn){let In=c.TEXTURE_2D;(Qt.isDataArrayTexture||Qt.isCompressedArrayTexture)&&(In=c.TEXTURE_2D_ARRAY),Qt.isData3DTexture&&(In=c.TEXTURE_3D);const Hn=ar(tn,Qt),xn=Qt.source;a.bindTexture(In,tn.__webglTexture,c.TEXTURE0+dn);const er=d.get(xn);if(xn.version!==er.__version||Hn===!0){a.activeTexture(c.TEXTURE0+dn);const Gn=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),dr=Qt.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(Qt.colorSpace),Nr=Qt.colorSpace===NoColorSpace||Gn===dr?c.NONE:c.BROWSER_DEFAULT_WEBGL;c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,Qt.flipY),c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Qt.premultiplyAlpha),c.pixelStorei(c.UNPACK_ALIGNMENT,Qt.unpackAlignment),c.pixelStorei(c.UNPACK_COLORSPACE_CONVERSION_WEBGL,Nr);let Zn=Dt(Qt.image,!1,nt.maxTextureSize);Zn=vr(Qt,Zn);const nr=o.convert(Qt.format,Qt.colorSpace),ir=o.convert(Qt.type);let Or=Ft(Qt.internalFormat,nr,ir,Qt.colorSpace,Qt.isVideoTexture);jn(In,Qt);let Er;const un=Qt.mipmaps,$n=Qt.isVideoTexture!==!0,ur=er.__version===void 0||Hn===!0,an=xn.dataReady,sr=jt(Qt,Zn);if(Qt.isDepthTexture)Or=Vt(Qt.format===DepthStencilFormat,Qt.type),ur&&($n?a.texStorage2D(c.TEXTURE_2D,1,Or,Zn.width,Zn.height):a.texImage2D(c.TEXTURE_2D,0,Or,Zn.width,Zn.height,0,nr,ir,null));else if(Qt.isDataTexture)if(un.length>0){$n&&ur&&a.texStorage2D(c.TEXTURE_2D,sr,Or,un[0].width,un[0].height);for(let kn=0,Wn=un.length;kn<Wn;kn++)Er=un[kn],$n?an&&a.texSubImage2D(c.TEXTURE_2D,kn,0,0,Er.width,Er.height,nr,ir,Er.data):a.texImage2D(c.TEXTURE_2D,kn,Or,Er.width,Er.height,0,nr,ir,Er.data);Qt.generateMipmaps=!1}else $n?(ur&&a.texStorage2D(c.TEXTURE_2D,sr,Or,Zn.width,Zn.height),an&&a.texSubImage2D(c.TEXTURE_2D,0,0,0,Zn.width,Zn.height,nr,ir,Zn.data)):a.texImage2D(c.TEXTURE_2D,0,Or,Zn.width,Zn.height,0,nr,ir,Zn.data);else if(Qt.isCompressedTexture)if(Qt.isCompressedArrayTexture){$n&&ur&&a.texStorage3D(c.TEXTURE_2D_ARRAY,sr,Or,un[0].width,un[0].height,Zn.depth);for(let kn=0,Wn=un.length;kn<Wn;kn++)if(Er=un[kn],Qt.format!==RGBAFormat)if(nr!==null)if($n){if(an)if(Qt.layerUpdates.size>0){const xr=getByteLength(Er.width,Er.height,Qt.format,Qt.type);for(const pr of Qt.layerUpdates){const Hr=Er.data.subarray(pr*xr/Er.data.BYTES_PER_ELEMENT,(pr+1)*xr/Er.data.BYTES_PER_ELEMENT);a.compressedTexSubImage3D(c.TEXTURE_2D_ARRAY,kn,0,0,pr,Er.width,Er.height,1,nr,Hr)}Qt.clearLayerUpdates()}else a.compressedTexSubImage3D(c.TEXTURE_2D_ARRAY,kn,0,0,0,Er.width,Er.height,Zn.depth,nr,Er.data)}else a.compressedTexImage3D(c.TEXTURE_2D_ARRAY,kn,Or,Er.width,Er.height,Zn.depth,0,Er.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else $n?an&&a.texSubImage3D(c.TEXTURE_2D_ARRAY,kn,0,0,0,Er.width,Er.height,Zn.depth,nr,ir,Er.data):a.texImage3D(c.TEXTURE_2D_ARRAY,kn,Or,Er.width,Er.height,Zn.depth,0,nr,ir,Er.data)}else{$n&&ur&&a.texStorage2D(c.TEXTURE_2D,sr,Or,un[0].width,un[0].height);for(let kn=0,Wn=un.length;kn<Wn;kn++)Er=un[kn],Qt.format!==RGBAFormat?nr!==null?$n?an&&a.compressedTexSubImage2D(c.TEXTURE_2D,kn,0,0,Er.width,Er.height,nr,Er.data):a.compressedTexImage2D(c.TEXTURE_2D,kn,Or,Er.width,Er.height,0,Er.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):$n?an&&a.texSubImage2D(c.TEXTURE_2D,kn,0,0,Er.width,Er.height,nr,ir,Er.data):a.texImage2D(c.TEXTURE_2D,kn,Or,Er.width,Er.height,0,nr,ir,Er.data)}else if(Qt.isDataArrayTexture)if($n){if(ur&&a.texStorage3D(c.TEXTURE_2D_ARRAY,sr,Or,Zn.width,Zn.height,Zn.depth),an)if(Qt.layerUpdates.size>0){const kn=getByteLength(Zn.width,Zn.height,Qt.format,Qt.type);for(const Wn of Qt.layerUpdates){const xr=Zn.data.subarray(Wn*kn/Zn.data.BYTES_PER_ELEMENT,(Wn+1)*kn/Zn.data.BYTES_PER_ELEMENT);a.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,Wn,Zn.width,Zn.height,1,nr,ir,xr)}Qt.clearLayerUpdates()}else a.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,0,Zn.width,Zn.height,Zn.depth,nr,ir,Zn.data)}else a.texImage3D(c.TEXTURE_2D_ARRAY,0,Or,Zn.width,Zn.height,Zn.depth,0,nr,ir,Zn.data);else if(Qt.isData3DTexture)$n?(ur&&a.texStorage3D(c.TEXTURE_3D,sr,Or,Zn.width,Zn.height,Zn.depth),an&&a.texSubImage3D(c.TEXTURE_3D,0,0,0,0,Zn.width,Zn.height,Zn.depth,nr,ir,Zn.data)):a.texImage3D(c.TEXTURE_3D,0,Or,Zn.width,Zn.height,Zn.depth,0,nr,ir,Zn.data);else if(Qt.isFramebufferTexture){if(ur)if($n)a.texStorage2D(c.TEXTURE_2D,sr,Or,Zn.width,Zn.height);else{let kn=Zn.width,Wn=Zn.height;for(let xr=0;xr<sr;xr++)a.texImage2D(c.TEXTURE_2D,xr,Or,kn,Wn,0,nr,ir,null),kn>>=1,Wn>>=1}}else if(un.length>0){if($n&&ur){const kn=Yn(un[0]);a.texStorage2D(c.TEXTURE_2D,sr,Or,kn.width,kn.height)}for(let kn=0,Wn=un.length;kn<Wn;kn++)Er=un[kn],$n?an&&a.texSubImage2D(c.TEXTURE_2D,kn,0,0,nr,ir,Er):a.texImage2D(c.TEXTURE_2D,kn,Or,nr,ir,Er);Qt.generateMipmaps=!1}else if($n){if(ur){const kn=Yn(Zn);a.texStorage2D(c.TEXTURE_2D,sr,Or,kn.width,kn.height)}an&&a.texSubImage2D(c.TEXTURE_2D,0,0,0,nr,ir,Zn)}else a.texImage2D(c.TEXTURE_2D,0,Or,nr,ir,Zn);Nt(Qt)&&Lt(In),er.__version=xn.version,Qt.onUpdate&&Qt.onUpdate(Qt)}tn.__version=Qt.version}function Xn(tn,Qt,dn){if(Qt.image.length!==6)return;const In=ar(tn,Qt),Hn=Qt.source;a.bindTexture(c.TEXTURE_CUBE_MAP,tn.__webglTexture,c.TEXTURE0+dn);const xn=d.get(Hn);if(Hn.version!==xn.__version||In===!0){a.activeTexture(c.TEXTURE0+dn);const er=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),Gn=Qt.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(Qt.colorSpace),dr=Qt.colorSpace===NoColorSpace||er===Gn?c.NONE:c.BROWSER_DEFAULT_WEBGL;c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,Qt.flipY),c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Qt.premultiplyAlpha),c.pixelStorei(c.UNPACK_ALIGNMENT,Qt.unpackAlignment),c.pixelStorei(c.UNPACK_COLORSPACE_CONVERSION_WEBGL,dr);const Nr=Qt.isCompressedTexture||Qt.image[0].isCompressedTexture,Zn=Qt.image[0]&&Qt.image[0].isDataTexture,nr=[];for(let Wn=0;Wn<6;Wn++)!Nr&&!Zn?nr[Wn]=Dt(Qt.image[Wn],!0,nt.maxCubemapSize):nr[Wn]=Zn?Qt.image[Wn].image:Qt.image[Wn],nr[Wn]=vr(Qt,nr[Wn]);const ir=nr[0],Or=o.convert(Qt.format,Qt.colorSpace),Er=o.convert(Qt.type),un=Ft(Qt.internalFormat,Or,Er,Qt.colorSpace),$n=Qt.isVideoTexture!==!0,ur=xn.__version===void 0||In===!0,an=Hn.dataReady;let sr=jt(Qt,ir);jn(c.TEXTURE_CUBE_MAP,Qt);let kn;if(Nr){$n&&ur&&a.texStorage2D(c.TEXTURE_CUBE_MAP,sr,un,ir.width,ir.height);for(let Wn=0;Wn<6;Wn++){kn=nr[Wn].mipmaps;for(let xr=0;xr<kn.length;xr++){const pr=kn[xr];Qt.format!==RGBAFormat?Or!==null?$n?an&&a.compressedTexSubImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Wn,xr,0,0,pr.width,pr.height,Or,pr.data):a.compressedTexImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Wn,xr,un,pr.width,pr.height,0,pr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):$n?an&&a.texSubImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Wn,xr,0,0,pr.width,pr.height,Or,Er,pr.data):a.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Wn,xr,un,pr.width,pr.height,0,Or,Er,pr.data)}}}else{if(kn=Qt.mipmaps,$n&&ur){kn.length>0&&sr++;const Wn=Yn(nr[0]);a.texStorage2D(c.TEXTURE_CUBE_MAP,sr,un,Wn.width,Wn.height)}for(let Wn=0;Wn<6;Wn++)if(Zn){$n?an&&a.texSubImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Wn,0,0,0,nr[Wn].width,nr[Wn].height,Or,Er,nr[Wn].data):a.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Wn,0,un,nr[Wn].width,nr[Wn].height,0,Or,Er,nr[Wn].data);for(let xr=0;xr<kn.length;xr++){const Hr=kn[xr].image[Wn].image;$n?an&&a.texSubImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Wn,xr+1,0,0,Hr.width,Hr.height,Or,Er,Hr.data):a.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Wn,xr+1,un,Hr.width,Hr.height,0,Or,Er,Hr.data)}}else{$n?an&&a.texSubImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Wn,0,0,0,Or,Er,nr[Wn]):a.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Wn,0,un,Or,Er,nr[Wn]);for(let xr=0;xr<kn.length;xr++){const pr=kn[xr];$n?an&&a.texSubImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Wn,xr+1,0,0,Or,Er,pr.image[Wn]):a.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Wn,xr+1,un,Or,Er,pr.image[Wn])}}}Nt(Qt)&&Lt(c.TEXTURE_CUBE_MAP),xn.__version=Hn.version,Qt.onUpdate&&Qt.onUpdate(Qt)}tn.__version=Qt.version}function or(tn,Qt,dn,In,Hn,xn){const er=o.convert(dn.format,dn.colorSpace),Gn=o.convert(dn.type),dr=Ft(dn.internalFormat,er,Gn,dn.colorSpace),Nr=d.get(Qt),Zn=d.get(dn);if(Zn.__renderTarget=Qt,!Nr.__hasExternalTextures){const nr=Math.max(1,Qt.width>>xn),ir=Math.max(1,Qt.height>>xn);Hn===c.TEXTURE_3D||Hn===c.TEXTURE_2D_ARRAY?a.texImage3D(Hn,xn,dr,nr,ir,Qt.depth,0,er,Gn,null):a.texImage2D(Hn,xn,dr,nr,ir,0,er,Gn,null)}a.bindFramebuffer(c.FRAMEBUFFER,tn),Qn(Qt)?vt.framebufferTexture2DMultisampleEXT(c.FRAMEBUFFER,In,Hn,Zn.__webglTexture,0,Kn(Qt)):(Hn===c.TEXTURE_2D||Hn>=c.TEXTURE_CUBE_MAP_POSITIVE_X&&Hn<=c.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&c.framebufferTexture2D(c.FRAMEBUFFER,In,Hn,Zn.__webglTexture,xn),a.bindFramebuffer(c.FRAMEBUFFER,null)}function tr(tn,Qt,dn){if(c.bindRenderbuffer(c.RENDERBUFFER,tn),Qt.depthBuffer){const In=Qt.depthTexture,Hn=In&&In.isDepthTexture?In.type:null,xn=Vt(Qt.stencilBuffer,Hn),er=Qt.stencilBuffer?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT,Gn=Kn(Qt);Qn(Qt)?vt.renderbufferStorageMultisampleEXT(c.RENDERBUFFER,Gn,xn,Qt.width,Qt.height):dn?c.renderbufferStorageMultisample(c.RENDERBUFFER,Gn,xn,Qt.width,Qt.height):c.renderbufferStorage(c.RENDERBUFFER,xn,Qt.width,Qt.height),c.framebufferRenderbuffer(c.FRAMEBUFFER,er,c.RENDERBUFFER,tn)}else{const In=Qt.textures;for(let Hn=0;Hn<In.length;Hn++){const xn=In[Hn],er=o.convert(xn.format,xn.colorSpace),Gn=o.convert(xn.type),dr=Ft(xn.internalFormat,er,Gn,xn.colorSpace),Nr=Kn(Qt);dn&&Qn(Qt)===!1?c.renderbufferStorageMultisample(c.RENDERBUFFER,Nr,dr,Qt.width,Qt.height):Qn(Qt)?vt.renderbufferStorageMultisampleEXT(c.RENDERBUFFER,Nr,dr,Qt.width,Qt.height):c.renderbufferStorage(c.RENDERBUFFER,dr,Qt.width,Qt.height)}}c.bindRenderbuffer(c.RENDERBUFFER,null)}function _r(tn,Qt){if(Qt&&Qt.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(a.bindFramebuffer(c.FRAMEBUFFER,tn),!(Qt.depthTexture&&Qt.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const In=d.get(Qt.depthTexture);In.__renderTarget=Qt,(!In.__webglTexture||Qt.depthTexture.image.width!==Qt.width||Qt.depthTexture.image.height!==Qt.height)&&(Qt.depthTexture.image.width=Qt.width,Qt.depthTexture.image.height=Qt.height,Qt.depthTexture.needsUpdate=!0),Cn(Qt.depthTexture,0);const Hn=In.__webglTexture,xn=Kn(Qt);if(Qt.depthTexture.format===DepthFormat)Qn(Qt)?vt.framebufferTexture2DMultisampleEXT(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.TEXTURE_2D,Hn,0,xn):c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.TEXTURE_2D,Hn,0);else if(Qt.depthTexture.format===DepthStencilFormat)Qn(Qt)?vt.framebufferTexture2DMultisampleEXT(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,Hn,0,xn):c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,Hn,0);else throw new Error("Unknown depthTexture format")}function kr(tn){const Qt=d.get(tn),dn=tn.isWebGLCubeRenderTarget===!0;if(Qt.__boundDepthTexture!==tn.depthTexture){const In=tn.depthTexture;if(Qt.__depthDisposeCallback&&Qt.__depthDisposeCallback(),In){const Hn=()=>{delete Qt.__boundDepthTexture,delete Qt.__depthDisposeCallback,In.removeEventListener("dispose",Hn)};In.addEventListener("dispose",Hn),Qt.__depthDisposeCallback=Hn}Qt.__boundDepthTexture=In}if(tn.depthTexture&&!Qt.__autoAllocateDepthBuffer){if(dn)throw new Error("target.depthTexture not supported in Cube render targets");const In=tn.texture.mipmaps;In&&In.length>0?_r(Qt.__webglFramebuffer[0],tn):_r(Qt.__webglFramebuffer,tn)}else if(dn){Qt.__webglDepthbuffer=[];for(let In=0;In<6;In++)if(a.bindFramebuffer(c.FRAMEBUFFER,Qt.__webglFramebuffer[In]),Qt.__webglDepthbuffer[In]===void 0)Qt.__webglDepthbuffer[In]=c.createRenderbuffer(),tr(Qt.__webglDepthbuffer[In],tn,!1);else{const Hn=tn.stencilBuffer?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT,xn=Qt.__webglDepthbuffer[In];c.bindRenderbuffer(c.RENDERBUFFER,xn),c.framebufferRenderbuffer(c.FRAMEBUFFER,Hn,c.RENDERBUFFER,xn)}}else{const In=tn.texture.mipmaps;if(In&&In.length>0?a.bindFramebuffer(c.FRAMEBUFFER,Qt.__webglFramebuffer[0]):a.bindFramebuffer(c.FRAMEBUFFER,Qt.__webglFramebuffer),Qt.__webglDepthbuffer===void 0)Qt.__webglDepthbuffer=c.createRenderbuffer(),tr(Qt.__webglDepthbuffer,tn,!1);else{const Hn=tn.stencilBuffer?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT,xn=Qt.__webglDepthbuffer;c.bindRenderbuffer(c.RENDERBUFFER,xn),c.framebufferRenderbuffer(c.FRAMEBUFFER,Hn,c.RENDERBUFFER,xn)}}a.bindFramebuffer(c.FRAMEBUFFER,null)}function hr(tn,Qt,dn){const In=d.get(tn);Qt!==void 0&&or(In.__webglFramebuffer,tn,tn.texture,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,0),dn!==void 0&&kr(tn)}function gr(tn){const Qt=tn.texture,dn=d.get(tn),In=d.get(Qt);tn.addEventListener("dispose",Yt);const Hn=tn.textures,xn=tn.isWebGLCubeRenderTarget===!0,er=Hn.length>1;if(er||(In.__webglTexture===void 0&&(In.__webglTexture=c.createTexture()),In.__version=Qt.version,ht.memory.textures++),xn){dn.__webglFramebuffer=[];for(let Gn=0;Gn<6;Gn++)if(Qt.mipmaps&&Qt.mipmaps.length>0){dn.__webglFramebuffer[Gn]=[];for(let dr=0;dr<Qt.mipmaps.length;dr++)dn.__webglFramebuffer[Gn][dr]=c.createFramebuffer()}else dn.__webglFramebuffer[Gn]=c.createFramebuffer()}else{if(Qt.mipmaps&&Qt.mipmaps.length>0){dn.__webglFramebuffer=[];for(let Gn=0;Gn<Qt.mipmaps.length;Gn++)dn.__webglFramebuffer[Gn]=c.createFramebuffer()}else dn.__webglFramebuffer=c.createFramebuffer();if(er)for(let Gn=0,dr=Hn.length;Gn<dr;Gn++){const Nr=d.get(Hn[Gn]);Nr.__webglTexture===void 0&&(Nr.__webglTexture=c.createTexture(),ht.memory.textures++)}if(tn.samples>0&&Qn(tn)===!1){dn.__webglMultisampledFramebuffer=c.createFramebuffer(),dn.__webglColorRenderbuffer=[],a.bindFramebuffer(c.FRAMEBUFFER,dn.__webglMultisampledFramebuffer);for(let Gn=0;Gn<Hn.length;Gn++){const dr=Hn[Gn];dn.__webglColorRenderbuffer[Gn]=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,dn.__webglColorRenderbuffer[Gn]);const Nr=o.convert(dr.format,dr.colorSpace),Zn=o.convert(dr.type),nr=Ft(dr.internalFormat,Nr,Zn,dr.colorSpace,tn.isXRRenderTarget===!0),ir=Kn(tn);c.renderbufferStorageMultisample(c.RENDERBUFFER,ir,nr,tn.width,tn.height),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0+Gn,c.RENDERBUFFER,dn.__webglColorRenderbuffer[Gn])}c.bindRenderbuffer(c.RENDERBUFFER,null),tn.depthBuffer&&(dn.__webglDepthRenderbuffer=c.createRenderbuffer(),tr(dn.__webglDepthRenderbuffer,tn,!0)),a.bindFramebuffer(c.FRAMEBUFFER,null)}}if(xn){a.bindTexture(c.TEXTURE_CUBE_MAP,In.__webglTexture),jn(c.TEXTURE_CUBE_MAP,Qt);for(let Gn=0;Gn<6;Gn++)if(Qt.mipmaps&&Qt.mipmaps.length>0)for(let dr=0;dr<Qt.mipmaps.length;dr++)or(dn.__webglFramebuffer[Gn][dr],tn,Qt,c.COLOR_ATTACHMENT0,c.TEXTURE_CUBE_MAP_POSITIVE_X+Gn,dr);else or(dn.__webglFramebuffer[Gn],tn,Qt,c.COLOR_ATTACHMENT0,c.TEXTURE_CUBE_MAP_POSITIVE_X+Gn,0);Nt(Qt)&&Lt(c.TEXTURE_CUBE_MAP),a.unbindTexture()}else if(er){for(let Gn=0,dr=Hn.length;Gn<dr;Gn++){const Nr=Hn[Gn],Zn=d.get(Nr);a.bindTexture(c.TEXTURE_2D,Zn.__webglTexture),jn(c.TEXTURE_2D,Nr),or(dn.__webglFramebuffer,tn,Nr,c.COLOR_ATTACHMENT0+Gn,c.TEXTURE_2D,0),Nt(Nr)&&Lt(c.TEXTURE_2D)}a.unbindTexture()}else{let Gn=c.TEXTURE_2D;if((tn.isWebGL3DRenderTarget||tn.isWebGLArrayRenderTarget)&&(Gn=tn.isWebGL3DRenderTarget?c.TEXTURE_3D:c.TEXTURE_2D_ARRAY),a.bindTexture(Gn,In.__webglTexture),jn(Gn,Qt),Qt.mipmaps&&Qt.mipmaps.length>0)for(let dr=0;dr<Qt.mipmaps.length;dr++)or(dn.__webglFramebuffer[dr],tn,Qt,c.COLOR_ATTACHMENT0,Gn,dr);else or(dn.__webglFramebuffer,tn,Qt,c.COLOR_ATTACHMENT0,Gn,0);Nt(Qt)&&Lt(Gn),a.unbindTexture()}tn.depthBuffer&&kr(tn)}function It(tn){const Qt=tn.textures;for(let dn=0,In=Qt.length;dn<In;dn++){const Hn=Qt[dn];if(Nt(Hn)){const xn=Ot(tn),er=d.get(Hn).__webglTexture;a.bindTexture(xn,er),Lt(xn),a.unbindTexture()}}}const Jn=[],nn=[];function rr(tn){if(tn.samples>0){if(Qn(tn)===!1){const Qt=tn.textures,dn=tn.width,In=tn.height;let Hn=c.COLOR_BUFFER_BIT;const xn=tn.stencilBuffer?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT,er=d.get(tn),Gn=Qt.length>1;if(Gn)for(let Nr=0;Nr<Qt.length;Nr++)a.bindFramebuffer(c.FRAMEBUFFER,er.__webglMultisampledFramebuffer),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0+Nr,c.RENDERBUFFER,null),a.bindFramebuffer(c.FRAMEBUFFER,er.__webglFramebuffer),c.framebufferTexture2D(c.DRAW_FRAMEBUFFER,c.COLOR_ATTACHMENT0+Nr,c.TEXTURE_2D,null,0);a.bindFramebuffer(c.READ_FRAMEBUFFER,er.__webglMultisampledFramebuffer);const dr=tn.texture.mipmaps;dr&&dr.length>0?a.bindFramebuffer(c.DRAW_FRAMEBUFFER,er.__webglFramebuffer[0]):a.bindFramebuffer(c.DRAW_FRAMEBUFFER,er.__webglFramebuffer);for(let Nr=0;Nr<Qt.length;Nr++){if(tn.resolveDepthBuffer&&(tn.depthBuffer&&(Hn|=c.DEPTH_BUFFER_BIT),tn.stencilBuffer&&tn.resolveStencilBuffer&&(Hn|=c.STENCIL_BUFFER_BIT)),Gn){c.framebufferRenderbuffer(c.READ_FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,er.__webglColorRenderbuffer[Nr]);const Zn=d.get(Qt[Nr]).__webglTexture;c.framebufferTexture2D(c.DRAW_FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,Zn,0)}c.blitFramebuffer(0,0,dn,In,0,0,dn,In,Hn,c.NEAREST),xt===!0&&(Jn.length=0,nn.length=0,Jn.push(c.COLOR_ATTACHMENT0+Nr),tn.depthBuffer&&tn.resolveDepthBuffer===!1&&(Jn.push(xn),nn.push(xn),c.invalidateFramebuffer(c.DRAW_FRAMEBUFFER,nn)),c.invalidateFramebuffer(c.READ_FRAMEBUFFER,Jn))}if(a.bindFramebuffer(c.READ_FRAMEBUFFER,null),a.bindFramebuffer(c.DRAW_FRAMEBUFFER,null),Gn)for(let Nr=0;Nr<Qt.length;Nr++){a.bindFramebuffer(c.FRAMEBUFFER,er.__webglMultisampledFramebuffer),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0+Nr,c.RENDERBUFFER,er.__webglColorRenderbuffer[Nr]);const Zn=d.get(Qt[Nr]).__webglTexture;a.bindFramebuffer(c.FRAMEBUFFER,er.__webglFramebuffer),c.framebufferTexture2D(c.DRAW_FRAMEBUFFER,c.COLOR_ATTACHMENT0+Nr,c.TEXTURE_2D,Zn,0)}a.bindFramebuffer(c.DRAW_FRAMEBUFFER,er.__webglMultisampledFramebuffer)}else if(tn.depthBuffer&&tn.resolveDepthBuffer===!1&&xt){const Qt=tn.stencilBuffer?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT;c.invalidateFramebuffer(c.DRAW_FRAMEBUFFER,[Qt])}}}function Kn(tn){return Math.min(nt.maxSamples,tn.samples)}function Qn(tn){const Qt=d.get(tn);return tn.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Qt.__useRenderToTexture!==!1}function Fn(tn){const Qt=ht.render.frame;Tt.get(tn)!==Qt&&(Tt.set(tn,Qt),tn.update())}function vr(tn,Qt){const dn=tn.colorSpace,In=tn.format,Hn=tn.type;return tn.isCompressedTexture===!0||tn.isVideoTexture===!0||dn!==LinearSRGBColorSpace&&dn!==NoColorSpace&&(ColorManagement.getTransfer(dn)===SRGBTransfer?(In!==RGBAFormat||Hn!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",dn)),Qt}function Yn(tn){return typeof HTMLImageElement<"u"&&tn instanceof HTMLImageElement?(St.width=tn.naturalWidth||tn.width,St.height=tn.naturalHeight||tn.height):typeof VideoFrame<"u"&&tn instanceof VideoFrame?(St.width=tn.displayWidth,St.height=tn.displayHeight):(St.width=tn.width,St.height=tn.height),St}this.allocateTextureUnit=sn,this.resetTextureUnits=cn,this.setTexture2D=Cn,this.setTexture2DArray=En,this.setTexture3D=Nn,this.setTextureCube=on,this.rebindTextures=hr,this.setupRenderTarget=gr,this.updateRenderTargetMipmap=It,this.updateMultisampleRenderTarget=rr,this.setupDepthRenderbuffer=kr,this.setupFrameBufferTexture=or,this.useMultisampledRTT=Qn}function WebGLUtils(c,e){function a(d,nt=NoColorSpace){let o;const ht=ColorManagement.getTransfer(nt);if(d===UnsignedByteType)return c.UNSIGNED_BYTE;if(d===UnsignedShort4444Type)return c.UNSIGNED_SHORT_4_4_4_4;if(d===UnsignedShort5551Type)return c.UNSIGNED_SHORT_5_5_5_1;if(d===UnsignedInt5999Type)return c.UNSIGNED_INT_5_9_9_9_REV;if(d===ByteType)return c.BYTE;if(d===ShortType)return c.SHORT;if(d===UnsignedShortType)return c.UNSIGNED_SHORT;if(d===IntType)return c.INT;if(d===UnsignedIntType)return c.UNSIGNED_INT;if(d===FloatType)return c.FLOAT;if(d===HalfFloatType)return c.HALF_FLOAT;if(d===AlphaFormat)return c.ALPHA;if(d===RGBFormat)return c.RGB;if(d===RGBAFormat)return c.RGBA;if(d===DepthFormat)return c.DEPTH_COMPONENT;if(d===DepthStencilFormat)return c.DEPTH_STENCIL;if(d===RedFormat)return c.RED;if(d===RedIntegerFormat)return c.RED_INTEGER;if(d===RGFormat)return c.RG;if(d===RGIntegerFormat)return c.RG_INTEGER;if(d===RGBAIntegerFormat)return c.RGBA_INTEGER;if(d===RGB_S3TC_DXT1_Format||d===RGBA_S3TC_DXT1_Format||d===RGBA_S3TC_DXT3_Format||d===RGBA_S3TC_DXT5_Format)if(ht===SRGBTransfer)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(d===RGB_S3TC_DXT1_Format)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(d===RGBA_S3TC_DXT1_Format)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(d===RGBA_S3TC_DXT3_Format)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(d===RGBA_S3TC_DXT5_Format)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(d===RGB_S3TC_DXT1_Format)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(d===RGBA_S3TC_DXT1_Format)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(d===RGBA_S3TC_DXT3_Format)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(d===RGBA_S3TC_DXT5_Format)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(d===RGB_PVRTC_4BPPV1_Format||d===RGB_PVRTC_2BPPV1_Format||d===RGBA_PVRTC_4BPPV1_Format||d===RGBA_PVRTC_2BPPV1_Format)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(d===RGB_PVRTC_4BPPV1_Format)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(d===RGB_PVRTC_2BPPV1_Format)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(d===RGBA_PVRTC_4BPPV1_Format)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(d===RGBA_PVRTC_2BPPV1_Format)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(d===RGB_ETC1_Format||d===RGB_ETC2_Format||d===RGBA_ETC2_EAC_Format)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(d===RGB_ETC1_Format||d===RGB_ETC2_Format)return ht===SRGBTransfer?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(d===RGBA_ETC2_EAC_Format)return ht===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(d===RGBA_ASTC_4x4_Format||d===RGBA_ASTC_5x4_Format||d===RGBA_ASTC_5x5_Format||d===RGBA_ASTC_6x5_Format||d===RGBA_ASTC_6x6_Format||d===RGBA_ASTC_8x5_Format||d===RGBA_ASTC_8x6_Format||d===RGBA_ASTC_8x8_Format||d===RGBA_ASTC_10x5_Format||d===RGBA_ASTC_10x6_Format||d===RGBA_ASTC_10x8_Format||d===RGBA_ASTC_10x10_Format||d===RGBA_ASTC_12x10_Format||d===RGBA_ASTC_12x12_Format)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(d===RGBA_ASTC_4x4_Format)return ht===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(d===RGBA_ASTC_5x4_Format)return ht===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(d===RGBA_ASTC_5x5_Format)return ht===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(d===RGBA_ASTC_6x5_Format)return ht===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(d===RGBA_ASTC_6x6_Format)return ht===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(d===RGBA_ASTC_8x5_Format)return ht===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(d===RGBA_ASTC_8x6_Format)return ht===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(d===RGBA_ASTC_8x8_Format)return ht===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(d===RGBA_ASTC_10x5_Format)return ht===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(d===RGBA_ASTC_10x6_Format)return ht===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(d===RGBA_ASTC_10x8_Format)return ht===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(d===RGBA_ASTC_10x10_Format)return ht===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(d===RGBA_ASTC_12x10_Format)return ht===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(d===RGBA_ASTC_12x12_Format)return ht===SRGBTransfer?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(d===RGBA_BPTC_Format||d===RGB_BPTC_SIGNED_Format||d===RGB_BPTC_UNSIGNED_Format)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(d===RGBA_BPTC_Format)return ht===SRGBTransfer?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(d===RGB_BPTC_SIGNED_Format)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(d===RGB_BPTC_UNSIGNED_Format)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(d===RED_RGTC1_Format||d===SIGNED_RED_RGTC1_Format||d===RED_GREEN_RGTC2_Format||d===SIGNED_RED_GREEN_RGTC2_Format)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(d===RGBA_BPTC_Format)return o.COMPRESSED_RED_RGTC1_EXT;if(d===SIGNED_RED_RGTC1_Format)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(d===RED_GREEN_RGTC2_Format)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(d===SIGNED_RED_GREEN_RGTC2_Format)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return d===UnsignedInt248Type?c.UNSIGNED_INT_24_8:c[d]!==void 0?c[d]:null}return{convert:a}}const _occlusion_vertex=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_occlusion_fragment=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class WebXRDepthSensing{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,a,d){if(this.texture===null){const nt=new Texture,o=e.properties.get(nt);o.__webglTexture=a.texture,(a.depthNear!==d.depthNear||a.depthFar!==d.depthFar)&&(this.depthNear=a.depthNear,this.depthFar=a.depthFar),this.texture=nt}}getMesh(e){if(this.texture!==null&&this.mesh===null){const a=e.cameras[0].viewport,d=new ShaderMaterial({vertexShader:_occlusion_vertex,fragmentShader:_occlusion_fragment,uniforms:{depthColor:{value:this.texture},depthWidth:{value:a.z},depthHeight:{value:a.w}}});this.mesh=new Mesh(new PlaneGeometry(20,20),d)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class WebXRManager extends EventDispatcher$1{constructor(e,a){super();const d=this;let nt=null,o=1,ht=null,vt="local-floor",xt=1,St=null,Tt=null,At=null,Ct=null,Rt=null,yt=null;const Dt=new WebXRDepthSensing,Nt=a.getContextAttributes();let Lt=null,Ot=null;const Ft=[],Vt=[],jt=new Vector2;let $t=null;const Yt=new PerspectiveCamera;Yt.viewport=new Vector4;const Kt=new PerspectiveCamera;Kt.viewport=new Vector4;const qt=[Yt,Kt],Wt=new ArrayCamera;let Jt=null,cn=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(An){let Xn=Ft[An];return Xn===void 0&&(Xn=new WebXRController,Ft[An]=Xn),Xn.getTargetRaySpace()},this.getControllerGrip=function(An){let Xn=Ft[An];return Xn===void 0&&(Xn=new WebXRController,Ft[An]=Xn),Xn.getGripSpace()},this.getHand=function(An){let Xn=Ft[An];return Xn===void 0&&(Xn=new WebXRController,Ft[An]=Xn),Xn.getHandSpace()};function sn(An){const Xn=Vt.indexOf(An.inputSource);if(Xn===-1)return;const or=Ft[Xn];or!==void 0&&(or.update(An.inputSource,An.frame,St||ht),or.dispatchEvent({type:An.type,data:An.inputSource}))}function Tn(){nt.removeEventListener("select",sn),nt.removeEventListener("selectstart",sn),nt.removeEventListener("selectend",sn),nt.removeEventListener("squeeze",sn),nt.removeEventListener("squeezestart",sn),nt.removeEventListener("squeezeend",sn),nt.removeEventListener("end",Tn),nt.removeEventListener("inputsourceschange",Cn);for(let An=0;An<Ft.length;An++){const Xn=Vt[An];Xn!==null&&(Vt[An]=null,Ft[An].disconnect(Xn))}Jt=null,cn=null,Dt.reset(),e.setRenderTarget(Lt),Rt=null,Ct=null,At=null,nt=null,Ot=null,ar.stop(),d.isPresenting=!1,e.setPixelRatio($t),e.setSize(jt.width,jt.height,!1),d.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(An){o=An,d.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(An){vt=An,d.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return St||ht},this.setReferenceSpace=function(An){St=An},this.getBaseLayer=function(){return Ct!==null?Ct:Rt},this.getBinding=function(){return At},this.getFrame=function(){return yt},this.getSession=function(){return nt},this.setSession=async function(An){if(nt=An,nt!==null){if(Lt=e.getRenderTarget(),nt.addEventListener("select",sn),nt.addEventListener("selectstart",sn),nt.addEventListener("selectend",sn),nt.addEventListener("squeeze",sn),nt.addEventListener("squeezestart",sn),nt.addEventListener("squeezeend",sn),nt.addEventListener("end",Tn),nt.addEventListener("inputsourceschange",Cn),Nt.xrCompatible!==!0&&await a.makeXRCompatible(),$t=e.getPixelRatio(),e.getSize(jt),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let or=null,tr=null,_r=null;Nt.depth&&(_r=Nt.stencil?a.DEPTH24_STENCIL8:a.DEPTH_COMPONENT24,or=Nt.stencil?DepthStencilFormat:DepthFormat,tr=Nt.stencil?UnsignedInt248Type:UnsignedIntType);const kr={colorFormat:a.RGBA8,depthFormat:_r,scaleFactor:o};At=new XRWebGLBinding(nt,a),Ct=At.createProjectionLayer(kr),nt.updateRenderState({layers:[Ct]}),e.setPixelRatio(1),e.setSize(Ct.textureWidth,Ct.textureHeight,!1),Ot=new WebGLRenderTarget(Ct.textureWidth,Ct.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(Ct.textureWidth,Ct.textureHeight,tr,void 0,void 0,void 0,void 0,void 0,void 0,or),stencilBuffer:Nt.stencil,colorSpace:e.outputColorSpace,samples:Nt.antialias?4:0,resolveDepthBuffer:Ct.ignoreDepthValues===!1,resolveStencilBuffer:Ct.ignoreDepthValues===!1})}else{const or={antialias:Nt.antialias,alpha:!0,depth:Nt.depth,stencil:Nt.stencil,framebufferScaleFactor:o};Rt=new XRWebGLLayer(nt,a,or),nt.updateRenderState({baseLayer:Rt}),e.setPixelRatio(1),e.setSize(Rt.framebufferWidth,Rt.framebufferHeight,!1),Ot=new WebGLRenderTarget(Rt.framebufferWidth,Rt.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,colorSpace:e.outputColorSpace,stencilBuffer:Nt.stencil,resolveDepthBuffer:Rt.ignoreDepthValues===!1,resolveStencilBuffer:Rt.ignoreDepthValues===!1})}Ot.isXRRenderTarget=!0,this.setFoveation(xt),St=null,ht=await nt.requestReferenceSpace(vt),ar.setContext(nt),ar.start(),d.isPresenting=!0,d.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(nt!==null)return nt.environmentBlendMode},this.getDepthTexture=function(){return Dt.getDepthTexture()};function Cn(An){for(let Xn=0;Xn<An.removed.length;Xn++){const or=An.removed[Xn],tr=Vt.indexOf(or);tr>=0&&(Vt[tr]=null,Ft[tr].disconnect(or))}for(let Xn=0;Xn<An.added.length;Xn++){const or=An.added[Xn];let tr=Vt.indexOf(or);if(tr===-1){for(let kr=0;kr<Ft.length;kr++)if(kr>=Vt.length){Vt.push(or),tr=kr;break}else if(Vt[kr]===null){Vt[kr]=or,tr=kr;break}if(tr===-1)break}const _r=Ft[tr];_r&&_r.connect(or)}}const En=new Vector3,Nn=new Vector3;function on(An,Xn,or){En.setFromMatrixPosition(Xn.matrixWorld),Nn.setFromMatrixPosition(or.matrixWorld);const tr=En.distanceTo(Nn),_r=Xn.projectionMatrix.elements,kr=or.projectionMatrix.elements,hr=_r[14]/(_r[10]-1),gr=_r[14]/(_r[10]+1),It=(_r[9]+1)/_r[5],Jn=(_r[9]-1)/_r[5],nn=(_r[8]-1)/_r[0],rr=(kr[8]+1)/kr[0],Kn=hr*nn,Qn=hr*rr,Fn=tr/(-nn+rr),vr=Fn*-nn;if(Xn.matrixWorld.decompose(An.position,An.quaternion,An.scale),An.translateX(vr),An.translateZ(Fn),An.matrixWorld.compose(An.position,An.quaternion,An.scale),An.matrixWorldInverse.copy(An.matrixWorld).invert(),_r[10]===-1)An.projectionMatrix.copy(Xn.projectionMatrix),An.projectionMatrixInverse.copy(Xn.projectionMatrixInverse);else{const Yn=hr+Fn,tn=gr+Fn,Qt=Kn-vr,dn=Qn+(tr-vr),In=It*gr/tn*Yn,Hn=Jn*gr/tn*Yn;An.projectionMatrix.makePerspective(Qt,dn,In,Hn,Yn,tn),An.projectionMatrixInverse.copy(An.projectionMatrix).invert()}}function hn(An,Xn){Xn===null?An.matrixWorld.copy(An.matrix):An.matrixWorld.multiplyMatrices(Xn.matrixWorld,An.matrix),An.matrixWorldInverse.copy(An.matrixWorld).invert()}this.updateCamera=function(An){if(nt===null)return;let Xn=An.near,or=An.far;Dt.texture!==null&&(Dt.depthNear>0&&(Xn=Dt.depthNear),Dt.depthFar>0&&(or=Dt.depthFar)),Wt.near=Kt.near=Yt.near=Xn,Wt.far=Kt.far=Yt.far=or,(Jt!==Wt.near||cn!==Wt.far)&&(nt.updateRenderState({depthNear:Wt.near,depthFar:Wt.far}),Jt=Wt.near,cn=Wt.far),Yt.layers.mask=An.layers.mask|2,Kt.layers.mask=An.layers.mask|4,Wt.layers.mask=Yt.layers.mask|Kt.layers.mask;const tr=An.parent,_r=Wt.cameras;hn(Wt,tr);for(let kr=0;kr<_r.length;kr++)hn(_r[kr],tr);_r.length===2?on(Wt,Yt,Kt):Wt.projectionMatrix.copy(Yt.projectionMatrix),pn(An,Wt,tr)};function pn(An,Xn,or){or===null?An.matrix.copy(Xn.matrixWorld):(An.matrix.copy(or.matrixWorld),An.matrix.invert(),An.matrix.multiply(Xn.matrixWorld)),An.matrix.decompose(An.position,An.quaternion,An.scale),An.updateMatrixWorld(!0),An.projectionMatrix.copy(Xn.projectionMatrix),An.projectionMatrixInverse.copy(Xn.projectionMatrixInverse),An.isPerspectiveCamera&&(An.fov=RAD2DEG*2*Math.atan(1/An.projectionMatrix.elements[5]),An.zoom=1)}this.getCamera=function(){return Wt},this.getFoveation=function(){if(!(Ct===null&&Rt===null))return xt},this.setFoveation=function(An){xt=An,Ct!==null&&(Ct.fixedFoveation=An),Rt!==null&&Rt.fixedFoveation!==void 0&&(Rt.fixedFoveation=An)},this.hasDepthSensing=function(){return Dt.texture!==null},this.getDepthSensingMesh=function(){return Dt.getMesh(Wt)};let Pn=null;function jn(An,Xn){if(Tt=Xn.getViewerPose(St||ht),yt=Xn,Tt!==null){const or=Tt.views;Rt!==null&&(e.setRenderTargetFramebuffer(Ot,Rt.framebuffer),e.setRenderTarget(Ot));let tr=!1;or.length!==Wt.cameras.length&&(Wt.cameras.length=0,tr=!0);for(let hr=0;hr<or.length;hr++){const gr=or[hr];let It=null;if(Rt!==null)It=Rt.getViewport(gr);else{const nn=At.getViewSubImage(Ct,gr);It=nn.viewport,hr===0&&(e.setRenderTargetTextures(Ot,nn.colorTexture,nn.depthStencilTexture),e.setRenderTarget(Ot))}let Jn=qt[hr];Jn===void 0&&(Jn=new PerspectiveCamera,Jn.layers.enable(hr),Jn.viewport=new Vector4,qt[hr]=Jn),Jn.matrix.fromArray(gr.transform.matrix),Jn.matrix.decompose(Jn.position,Jn.quaternion,Jn.scale),Jn.projectionMatrix.fromArray(gr.projectionMatrix),Jn.projectionMatrixInverse.copy(Jn.projectionMatrix).invert(),Jn.viewport.set(It.x,It.y,It.width,It.height),hr===0&&(Wt.matrix.copy(Jn.matrix),Wt.matrix.decompose(Wt.position,Wt.quaternion,Wt.scale)),tr===!0&&Wt.cameras.push(Jn)}const _r=nt.enabledFeatures;if(_r&&_r.includes("depth-sensing")&&nt.depthUsage=="gpu-optimized"&&At){const hr=At.getDepthInformation(or[0]);hr&&hr.isValid&&hr.texture&&Dt.init(e,hr,nt.renderState)}}for(let or=0;or<Ft.length;or++){const tr=Vt[or],_r=Ft[or];tr!==null&&_r!==void 0&&_r.update(tr,Xn,St||ht)}Pn&&Pn(An,Xn),Xn.detectedPlanes&&d.dispatchEvent({type:"planesdetected",data:Xn}),yt=null}const ar=new WebGLAnimation;ar.setAnimationLoop(jn),this.setAnimationLoop=function(An){Pn=An},this.dispose=function(){}}}const _e1=new Euler,_m1=new Matrix4;function WebGLMaterials(c,e){function a(Nt,Lt){Nt.matrixAutoUpdate===!0&&Nt.updateMatrix(),Lt.value.copy(Nt.matrix)}function d(Nt,Lt){Lt.color.getRGB(Nt.fogColor.value,getUnlitUniformColorSpace(c)),Lt.isFog?(Nt.fogNear.value=Lt.near,Nt.fogFar.value=Lt.far):Lt.isFogExp2&&(Nt.fogDensity.value=Lt.density)}function nt(Nt,Lt,Ot,Ft,Vt){Lt.isMeshBasicMaterial||Lt.isMeshLambertMaterial?o(Nt,Lt):Lt.isMeshToonMaterial?(o(Nt,Lt),At(Nt,Lt)):Lt.isMeshPhongMaterial?(o(Nt,Lt),Tt(Nt,Lt)):Lt.isMeshStandardMaterial?(o(Nt,Lt),Ct(Nt,Lt),Lt.isMeshPhysicalMaterial&&Rt(Nt,Lt,Vt)):Lt.isMeshMatcapMaterial?(o(Nt,Lt),yt(Nt,Lt)):Lt.isMeshDepthMaterial?o(Nt,Lt):Lt.isMeshDistanceMaterial?(o(Nt,Lt),Dt(Nt,Lt)):Lt.isMeshNormalMaterial?o(Nt,Lt):Lt.isLineBasicMaterial?(ht(Nt,Lt),Lt.isLineDashedMaterial&&vt(Nt,Lt)):Lt.isPointsMaterial?xt(Nt,Lt,Ot,Ft):Lt.isSpriteMaterial?St(Nt,Lt):Lt.isShadowMaterial?(Nt.color.value.copy(Lt.color),Nt.opacity.value=Lt.opacity):Lt.isShaderMaterial&&(Lt.uniformsNeedUpdate=!1)}function o(Nt,Lt){Nt.opacity.value=Lt.opacity,Lt.color&&Nt.diffuse.value.copy(Lt.color),Lt.emissive&&Nt.emissive.value.copy(Lt.emissive).multiplyScalar(Lt.emissiveIntensity),Lt.map&&(Nt.map.value=Lt.map,a(Lt.map,Nt.mapTransform)),Lt.alphaMap&&(Nt.alphaMap.value=Lt.alphaMap,a(Lt.alphaMap,Nt.alphaMapTransform)),Lt.bumpMap&&(Nt.bumpMap.value=Lt.bumpMap,a(Lt.bumpMap,Nt.bumpMapTransform),Nt.bumpScale.value=Lt.bumpScale,Lt.side===BackSide&&(Nt.bumpScale.value*=-1)),Lt.normalMap&&(Nt.normalMap.value=Lt.normalMap,a(Lt.normalMap,Nt.normalMapTransform),Nt.normalScale.value.copy(Lt.normalScale),Lt.side===BackSide&&Nt.normalScale.value.negate()),Lt.displacementMap&&(Nt.displacementMap.value=Lt.displacementMap,a(Lt.displacementMap,Nt.displacementMapTransform),Nt.displacementScale.value=Lt.displacementScale,Nt.displacementBias.value=Lt.displacementBias),Lt.emissiveMap&&(Nt.emissiveMap.value=Lt.emissiveMap,a(Lt.emissiveMap,Nt.emissiveMapTransform)),Lt.specularMap&&(Nt.specularMap.value=Lt.specularMap,a(Lt.specularMap,Nt.specularMapTransform)),Lt.alphaTest>0&&(Nt.alphaTest.value=Lt.alphaTest);const Ot=e.get(Lt),Ft=Ot.envMap,Vt=Ot.envMapRotation;Ft&&(Nt.envMap.value=Ft,_e1.copy(Vt),_e1.x*=-1,_e1.y*=-1,_e1.z*=-1,Ft.isCubeTexture&&Ft.isRenderTargetTexture===!1&&(_e1.y*=-1,_e1.z*=-1),Nt.envMapRotation.value.setFromMatrix4(_m1.makeRotationFromEuler(_e1)),Nt.flipEnvMap.value=Ft.isCubeTexture&&Ft.isRenderTargetTexture===!1?-1:1,Nt.reflectivity.value=Lt.reflectivity,Nt.ior.value=Lt.ior,Nt.refractionRatio.value=Lt.refractionRatio),Lt.lightMap&&(Nt.lightMap.value=Lt.lightMap,Nt.lightMapIntensity.value=Lt.lightMapIntensity,a(Lt.lightMap,Nt.lightMapTransform)),Lt.aoMap&&(Nt.aoMap.value=Lt.aoMap,Nt.aoMapIntensity.value=Lt.aoMapIntensity,a(Lt.aoMap,Nt.aoMapTransform))}function ht(Nt,Lt){Nt.diffuse.value.copy(Lt.color),Nt.opacity.value=Lt.opacity,Lt.map&&(Nt.map.value=Lt.map,a(Lt.map,Nt.mapTransform))}function vt(Nt,Lt){Nt.dashSize.value=Lt.dashSize,Nt.totalSize.value=Lt.dashSize+Lt.gapSize,Nt.scale.value=Lt.scale}function xt(Nt,Lt,Ot,Ft){Nt.diffuse.value.copy(Lt.color),Nt.opacity.value=Lt.opacity,Nt.size.value=Lt.size*Ot,Nt.scale.value=Ft*.5,Lt.map&&(Nt.map.value=Lt.map,a(Lt.map,Nt.uvTransform)),Lt.alphaMap&&(Nt.alphaMap.value=Lt.alphaMap,a(Lt.alphaMap,Nt.alphaMapTransform)),Lt.alphaTest>0&&(Nt.alphaTest.value=Lt.alphaTest)}function St(Nt,Lt){Nt.diffuse.value.copy(Lt.color),Nt.opacity.value=Lt.opacity,Nt.rotation.value=Lt.rotation,Lt.map&&(Nt.map.value=Lt.map,a(Lt.map,Nt.mapTransform)),Lt.alphaMap&&(Nt.alphaMap.value=Lt.alphaMap,a(Lt.alphaMap,Nt.alphaMapTransform)),Lt.alphaTest>0&&(Nt.alphaTest.value=Lt.alphaTest)}function Tt(Nt,Lt){Nt.specular.value.copy(Lt.specular),Nt.shininess.value=Math.max(Lt.shininess,1e-4)}function At(Nt,Lt){Lt.gradientMap&&(Nt.gradientMap.value=Lt.gradientMap)}function Ct(Nt,Lt){Nt.metalness.value=Lt.metalness,Lt.metalnessMap&&(Nt.metalnessMap.value=Lt.metalnessMap,a(Lt.metalnessMap,Nt.metalnessMapTransform)),Nt.roughness.value=Lt.roughness,Lt.roughnessMap&&(Nt.roughnessMap.value=Lt.roughnessMap,a(Lt.roughnessMap,Nt.roughnessMapTransform)),Lt.envMap&&(Nt.envMapIntensity.value=Lt.envMapIntensity)}function Rt(Nt,Lt,Ot){Nt.ior.value=Lt.ior,Lt.sheen>0&&(Nt.sheenColor.value.copy(Lt.sheenColor).multiplyScalar(Lt.sheen),Nt.sheenRoughness.value=Lt.sheenRoughness,Lt.sheenColorMap&&(Nt.sheenColorMap.value=Lt.sheenColorMap,a(Lt.sheenColorMap,Nt.sheenColorMapTransform)),Lt.sheenRoughnessMap&&(Nt.sheenRoughnessMap.value=Lt.sheenRoughnessMap,a(Lt.sheenRoughnessMap,Nt.sheenRoughnessMapTransform))),Lt.clearcoat>0&&(Nt.clearcoat.value=Lt.clearcoat,Nt.clearcoatRoughness.value=Lt.clearcoatRoughness,Lt.clearcoatMap&&(Nt.clearcoatMap.value=Lt.clearcoatMap,a(Lt.clearcoatMap,Nt.clearcoatMapTransform)),Lt.clearcoatRoughnessMap&&(Nt.clearcoatRoughnessMap.value=Lt.clearcoatRoughnessMap,a(Lt.clearcoatRoughnessMap,Nt.clearcoatRoughnessMapTransform)),Lt.clearcoatNormalMap&&(Nt.clearcoatNormalMap.value=Lt.clearcoatNormalMap,a(Lt.clearcoatNormalMap,Nt.clearcoatNormalMapTransform),Nt.clearcoatNormalScale.value.copy(Lt.clearcoatNormalScale),Lt.side===BackSide&&Nt.clearcoatNormalScale.value.negate())),Lt.dispersion>0&&(Nt.dispersion.value=Lt.dispersion),Lt.iridescence>0&&(Nt.iridescence.value=Lt.iridescence,Nt.iridescenceIOR.value=Lt.iridescenceIOR,Nt.iridescenceThicknessMinimum.value=Lt.iridescenceThicknessRange[0],Nt.iridescenceThicknessMaximum.value=Lt.iridescenceThicknessRange[1],Lt.iridescenceMap&&(Nt.iridescenceMap.value=Lt.iridescenceMap,a(Lt.iridescenceMap,Nt.iridescenceMapTransform)),Lt.iridescenceThicknessMap&&(Nt.iridescenceThicknessMap.value=Lt.iridescenceThicknessMap,a(Lt.iridescenceThicknessMap,Nt.iridescenceThicknessMapTransform))),Lt.transmission>0&&(Nt.transmission.value=Lt.transmission,Nt.transmissionSamplerMap.value=Ot.texture,Nt.transmissionSamplerSize.value.set(Ot.width,Ot.height),Lt.transmissionMap&&(Nt.transmissionMap.value=Lt.transmissionMap,a(Lt.transmissionMap,Nt.transmissionMapTransform)),Nt.thickness.value=Lt.thickness,Lt.thicknessMap&&(Nt.thicknessMap.value=Lt.thicknessMap,a(Lt.thicknessMap,Nt.thicknessMapTransform)),Nt.attenuationDistance.value=Lt.attenuationDistance,Nt.attenuationColor.value.copy(Lt.attenuationColor)),Lt.anisotropy>0&&(Nt.anisotropyVector.value.set(Lt.anisotropy*Math.cos(Lt.anisotropyRotation),Lt.anisotropy*Math.sin(Lt.anisotropyRotation)),Lt.anisotropyMap&&(Nt.anisotropyMap.value=Lt.anisotropyMap,a(Lt.anisotropyMap,Nt.anisotropyMapTransform))),Nt.specularIntensity.value=Lt.specularIntensity,Nt.specularColor.value.copy(Lt.specularColor),Lt.specularColorMap&&(Nt.specularColorMap.value=Lt.specularColorMap,a(Lt.specularColorMap,Nt.specularColorMapTransform)),Lt.specularIntensityMap&&(Nt.specularIntensityMap.value=Lt.specularIntensityMap,a(Lt.specularIntensityMap,Nt.specularIntensityMapTransform))}function yt(Nt,Lt){Lt.matcap&&(Nt.matcap.value=Lt.matcap)}function Dt(Nt,Lt){const Ot=e.get(Lt).light;Nt.referencePosition.value.setFromMatrixPosition(Ot.matrixWorld),Nt.nearDistance.value=Ot.shadow.camera.near,Nt.farDistance.value=Ot.shadow.camera.far}return{refreshFogUniforms:d,refreshMaterialUniforms:nt}}function WebGLUniformsGroups(c,e,a,d){let nt={},o={},ht=[];const vt=c.getParameter(c.MAX_UNIFORM_BUFFER_BINDINGS);function xt(Ot,Ft){const Vt=Ft.program;d.uniformBlockBinding(Ot,Vt)}function St(Ot,Ft){let Vt=nt[Ot.id];Vt===void 0&&(yt(Ot),Vt=Tt(Ot),nt[Ot.id]=Vt,Ot.addEventListener("dispose",Nt));const jt=Ft.program;d.updateUBOMapping(Ot,jt);const $t=e.render.frame;o[Ot.id]!==$t&&(Ct(Ot),o[Ot.id]=$t)}function Tt(Ot){const Ft=At();Ot.__bindingPointIndex=Ft;const Vt=c.createBuffer(),jt=Ot.__size,$t=Ot.usage;return c.bindBuffer(c.UNIFORM_BUFFER,Vt),c.bufferData(c.UNIFORM_BUFFER,jt,$t),c.bindBuffer(c.UNIFORM_BUFFER,null),c.bindBufferBase(c.UNIFORM_BUFFER,Ft,Vt),Vt}function At(){for(let Ot=0;Ot<vt;Ot++)if(ht.indexOf(Ot)===-1)return ht.push(Ot),Ot;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function Ct(Ot){const Ft=nt[Ot.id],Vt=Ot.uniforms,jt=Ot.__cache;c.bindBuffer(c.UNIFORM_BUFFER,Ft);for(let $t=0,Yt=Vt.length;$t<Yt;$t++){const Kt=Array.isArray(Vt[$t])?Vt[$t]:[Vt[$t]];for(let qt=0,Wt=Kt.length;qt<Wt;qt++){const Jt=Kt[qt];if(Rt(Jt,$t,qt,jt)===!0){const cn=Jt.__offset,sn=Array.isArray(Jt.value)?Jt.value:[Jt.value];let Tn=0;for(let Cn=0;Cn<sn.length;Cn++){const En=sn[Cn],Nn=Dt(En);typeof En=="number"||typeof En=="boolean"?(Jt.__data[0]=En,c.bufferSubData(c.UNIFORM_BUFFER,cn+Tn,Jt.__data)):En.isMatrix3?(Jt.__data[0]=En.elements[0],Jt.__data[1]=En.elements[1],Jt.__data[2]=En.elements[2],Jt.__data[3]=0,Jt.__data[4]=En.elements[3],Jt.__data[5]=En.elements[4],Jt.__data[6]=En.elements[5],Jt.__data[7]=0,Jt.__data[8]=En.elements[6],Jt.__data[9]=En.elements[7],Jt.__data[10]=En.elements[8],Jt.__data[11]=0):(En.toArray(Jt.__data,Tn),Tn+=Nn.storage/Float32Array.BYTES_PER_ELEMENT)}c.bufferSubData(c.UNIFORM_BUFFER,cn,Jt.__data)}}}c.bindBuffer(c.UNIFORM_BUFFER,null)}function Rt(Ot,Ft,Vt,jt){const $t=Ot.value,Yt=Ft+"_"+Vt;if(jt[Yt]===void 0)return typeof $t=="number"||typeof $t=="boolean"?jt[Yt]=$t:jt[Yt]=$t.clone(),!0;{const Kt=jt[Yt];if(typeof $t=="number"||typeof $t=="boolean"){if(Kt!==$t)return jt[Yt]=$t,!0}else if(Kt.equals($t)===!1)return Kt.copy($t),!0}return!1}function yt(Ot){const Ft=Ot.uniforms;let Vt=0;const jt=16;for(let Yt=0,Kt=Ft.length;Yt<Kt;Yt++){const qt=Array.isArray(Ft[Yt])?Ft[Yt]:[Ft[Yt]];for(let Wt=0,Jt=qt.length;Wt<Jt;Wt++){const cn=qt[Wt],sn=Array.isArray(cn.value)?cn.value:[cn.value];for(let Tn=0,Cn=sn.length;Tn<Cn;Tn++){const En=sn[Tn],Nn=Dt(En),on=Vt%jt,hn=on%Nn.boundary,pn=on+hn;Vt+=hn,pn!==0&&jt-pn<Nn.storage&&(Vt+=jt-pn),cn.__data=new Float32Array(Nn.storage/Float32Array.BYTES_PER_ELEMENT),cn.__offset=Vt,Vt+=Nn.storage}}}const $t=Vt%jt;return $t>0&&(Vt+=jt-$t),Ot.__size=Vt,Ot.__cache={},this}function Dt(Ot){const Ft={boundary:0,storage:0};return typeof Ot=="number"||typeof Ot=="boolean"?(Ft.boundary=4,Ft.storage=4):Ot.isVector2?(Ft.boundary=8,Ft.storage=8):Ot.isVector3||Ot.isColor?(Ft.boundary=16,Ft.storage=12):Ot.isVector4?(Ft.boundary=16,Ft.storage=16):Ot.isMatrix3?(Ft.boundary=48,Ft.storage=48):Ot.isMatrix4?(Ft.boundary=64,Ft.storage=64):Ot.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",Ot),Ft}function Nt(Ot){const Ft=Ot.target;Ft.removeEventListener("dispose",Nt);const Vt=ht.indexOf(Ft.__bindingPointIndex);ht.splice(Vt,1),c.deleteBuffer(nt[Ft.id]),delete nt[Ft.id],delete o[Ft.id]}function Lt(){for(const Ot in nt)c.deleteBuffer(nt[Ot]);ht=[],nt={},o={}}return{bind:xt,update:St,dispose:Lt}}class WebGLRenderer{constructor(e={}){const{canvas:a=createCanvasElement(),context:d=null,depth:nt=!0,stencil:o=!1,alpha:ht=!1,antialias:vt=!1,premultipliedAlpha:xt=!0,preserveDrawingBuffer:St=!1,powerPreference:Tt="default",failIfMajorPerformanceCaveat:At=!1,reverseDepthBuffer:Ct=!1}=e;this.isWebGLRenderer=!0;let Rt;if(d!==null){if(typeof WebGLRenderingContext<"u"&&d instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");Rt=d.getContextAttributes().alpha}else Rt=ht;const yt=new Uint32Array(4),Dt=new Int32Array(4);let Nt=null,Lt=null;const Ot=[],Ft=[];this.domElement=a,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const Vt=this;let jt=!1;this._outputColorSpace=SRGBColorSpace;let $t=0,Yt=0,Kt=null,qt=-1,Wt=null;const Jt=new Vector4,cn=new Vector4;let sn=null;const Tn=new Color(0);let Cn=0,En=a.width,Nn=a.height,on=1,hn=null,pn=null;const Pn=new Vector4(0,0,En,Nn),jn=new Vector4(0,0,En,Nn);let ar=!1;const An=new Frustum;let Xn=!1,or=!1;const tr=new Matrix4,_r=new Matrix4,kr=new Vector3,hr=new Vector4,gr={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let It=!1;function Jn(){return Kt===null?on:1}let nn=d;function rr(en,wn){return a.getContext(en,wn)}try{const en={alpha:!0,depth:nt,stencil:o,antialias:vt,premultipliedAlpha:xt,preserveDrawingBuffer:St,powerPreference:Tt,failIfMajorPerformanceCaveat:At};if("setAttribute"in a&&a.setAttribute("data-engine",`three.js r${REVISION}`),a.addEventListener("webglcontextlost",Wn,!1),a.addEventListener("webglcontextrestored",xr,!1),a.addEventListener("webglcontextcreationerror",pr,!1),nn===null){const wn="webgl2";if(nn=rr(wn,en),nn===null)throw rr(wn)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(en){throw console.error("THREE.WebGLRenderer: "+en.message),en}let Kn,Qn,Fn,vr,Yn,tn,Qt,dn,In,Hn,xn,er,Gn,dr,Nr,Zn,nr,ir,Or,Er,un,$n,ur,an;function sr(){Kn=new WebGLExtensions(nn),Kn.init(),$n=new WebGLUtils(nn,Kn),Qn=new WebGLCapabilities(nn,Kn,e,$n),Fn=new WebGLState(nn,Kn),Qn.reverseDepthBuffer&&Ct&&Fn.buffers.depth.setReversed(!0),vr=new WebGLInfo(nn),Yn=new WebGLProperties,tn=new WebGLTextures(nn,Kn,Fn,Yn,Qn,$n,vr),Qt=new WebGLCubeMaps(Vt),dn=new WebGLCubeUVMaps(Vt),In=new WebGLAttributes(nn),ur=new WebGLBindingStates(nn,In),Hn=new WebGLGeometries(nn,In,vr,ur),xn=new WebGLObjects(nn,Hn,In,vr),Or=new WebGLMorphtargets(nn,Qn,tn),Zn=new WebGLClipping(Yn),er=new WebGLPrograms(Vt,Qt,dn,Kn,Qn,ur,Zn),Gn=new WebGLMaterials(Vt,Yn),dr=new WebGLRenderLists,Nr=new WebGLRenderStates(Kn),ir=new WebGLBackground(Vt,Qt,dn,Fn,xn,Rt,xt),nr=new WebGLShadowMap(Vt,xn,Qn),an=new WebGLUniformsGroups(nn,vr,Qn,Fn),Er=new WebGLBufferRenderer(nn,Kn,vr),un=new WebGLIndexedBufferRenderer(nn,Kn,vr),vr.programs=er.programs,Vt.capabilities=Qn,Vt.extensions=Kn,Vt.properties=Yn,Vt.renderLists=dr,Vt.shadowMap=nr,Vt.state=Fn,Vt.info=vr}sr();const kn=new WebXRManager(Vt,nn);this.xr=kn,this.getContext=function(){return nn},this.getContextAttributes=function(){return nn.getContextAttributes()},this.forceContextLoss=function(){const en=Kn.get("WEBGL_lose_context");en&&en.loseContext()},this.forceContextRestore=function(){const en=Kn.get("WEBGL_lose_context");en&&en.restoreContext()},this.getPixelRatio=function(){return on},this.setPixelRatio=function(en){en!==void 0&&(on=en,this.setSize(En,Nn,!1))},this.getSize=function(en){return en.set(En,Nn)},this.setSize=function(en,wn,Dn=!0){if(kn.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}En=en,Nn=wn,a.width=Math.floor(en*on),a.height=Math.floor(wn*on),Dn===!0&&(a.style.width=en+"px",a.style.height=wn+"px"),this.setViewport(0,0,en,wn)},this.getDrawingBufferSize=function(en){return en.set(En*on,Nn*on).floor()},this.setDrawingBufferSize=function(en,wn,Dn){En=en,Nn=wn,on=Dn,a.width=Math.floor(en*Dn),a.height=Math.floor(wn*Dn),this.setViewport(0,0,en,wn)},this.getCurrentViewport=function(en){return en.copy(Jt)},this.getViewport=function(en){return en.copy(Pn)},this.setViewport=function(en,wn,Dn,On){en.isVector4?Pn.set(en.x,en.y,en.z,en.w):Pn.set(en,wn,Dn,On),Fn.viewport(Jt.copy(Pn).multiplyScalar(on).round())},this.getScissor=function(en){return en.copy(jn)},this.setScissor=function(en,wn,Dn,On){en.isVector4?jn.set(en.x,en.y,en.z,en.w):jn.set(en,wn,Dn,On),Fn.scissor(cn.copy(jn).multiplyScalar(on).round())},this.getScissorTest=function(){return ar},this.setScissorTest=function(en){Fn.setScissorTest(ar=en)},this.setOpaqueSort=function(en){hn=en},this.setTransparentSort=function(en){pn=en},this.getClearColor=function(en){return en.copy(ir.getClearColor())},this.setClearColor=function(){ir.setClearColor(...arguments)},this.getClearAlpha=function(){return ir.getClearAlpha()},this.setClearAlpha=function(){ir.setClearAlpha(...arguments)},this.clear=function(en=!0,wn=!0,Dn=!0){let On=0;if(en){let Mn=!1;if(Kt!==null){const lr=Kt.texture.format;Mn=lr===RGBAIntegerFormat||lr===RGIntegerFormat||lr===RedIntegerFormat}if(Mn){const lr=Kt.texture.type,yr=lr===UnsignedByteType||lr===UnsignedIntType||lr===UnsignedShortType||lr===UnsignedInt248Type||lr===UnsignedShort4444Type||lr===UnsignedShort5551Type,Ir=ir.getClearColor(),br=ir.getClearAlpha(),Kr=Ir.r,Xr=Ir.g,Sr=Ir.b;yr?(yt[0]=Kr,yt[1]=Xr,yt[2]=Sr,yt[3]=br,nn.clearBufferuiv(nn.COLOR,0,yt)):(Dt[0]=Kr,Dt[1]=Xr,Dt[2]=Sr,Dt[3]=br,nn.clearBufferiv(nn.COLOR,0,Dt))}else On|=nn.COLOR_BUFFER_BIT}wn&&(On|=nn.DEPTH_BUFFER_BIT),Dn&&(On|=nn.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),nn.clear(On)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){a.removeEventListener("webglcontextlost",Wn,!1),a.removeEventListener("webglcontextrestored",xr,!1),a.removeEventListener("webglcontextcreationerror",pr,!1),ir.dispose(),dr.dispose(),Nr.dispose(),Yn.dispose(),Qt.dispose(),dn.dispose(),xn.dispose(),ur.dispose(),an.dispose(),er.dispose(),kn.dispose(),kn.removeEventListener("sessionstart",js),kn.removeEventListener("sessionend",$u),Es.stop()};function Wn(en){en.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),jt=!0}function xr(){console.log("THREE.WebGLRenderer: Context Restored."),jt=!1;const en=vr.autoReset,wn=nr.enabled,Dn=nr.autoUpdate,On=nr.needsUpdate,Mn=nr.type;sr(),vr.autoReset=en,nr.enabled=wn,nr.autoUpdate=Dn,nr.needsUpdate=On,nr.type=Mn}function pr(en){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",en.statusMessage)}function Hr(en){const wn=en.target;wn.removeEventListener("dispose",Hr),ao(wn)}function ao(en){So(en),Yn.remove(en)}function So(en){const wn=Yn.get(en).programs;wn!==void 0&&(wn.forEach(function(Dn){er.releaseProgram(Dn)}),en.isShaderMaterial&&er.releaseShaderCache(en))}this.renderBufferDirect=function(en,wn,Dn,On,Mn,lr){wn===null&&(wn=gr);const yr=Mn.isMesh&&Mn.matrixWorld.determinant()<0,Ir=R0(en,wn,Dn,On,Mn);Fn.setMaterial(On,yr);let br=Dn.index,Kr=1;if(On.wireframe===!0){if(br=Hn.getWireframeAttribute(Dn),br===void 0)return;Kr=2}const Xr=Dn.drawRange,Sr=Dn.attributes.position;let Vr=Xr.start*Kr,fo=(Xr.start+Xr.count)*Kr;lr!==null&&(Vr=Math.max(Vr,lr.start*Kr),fo=Math.min(fo,(lr.start+lr.count)*Kr)),br!==null?(Vr=Math.max(Vr,0),fo=Math.min(fo,br.count)):Sr!=null&&(Vr=Math.max(Vr,0),fo=Math.min(fo,Sr.count));const yo=fo-Vr;if(yo<0||yo===1/0)return;ur.setup(Mn,On,Ir,Dn,br);let Un,ho=Er;if(br!==null&&(Un=In.get(br),ho=un,ho.setIndex(Un)),Mn.isMesh)On.wireframe===!0?(Fn.setLineWidth(On.wireframeLinewidth*Jn()),ho.setMode(nn.LINES)):ho.setMode(nn.TRIANGLES);else if(Mn.isLine){let $r=On.linewidth;$r===void 0&&($r=1),Fn.setLineWidth($r*Jn()),Mn.isLineSegments?ho.setMode(nn.LINES):Mn.isLineLoop?ho.setMode(nn.LINE_LOOP):ho.setMode(nn.LINE_STRIP)}else Mn.isPoints?ho.setMode(nn.POINTS):Mn.isSprite&&ho.setMode(nn.TRIANGLES);if(Mn.isBatchedMesh)if(Mn._multiDrawInstances!==null)warnOnce("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),ho.renderMultiDrawInstances(Mn._multiDrawStarts,Mn._multiDrawCounts,Mn._multiDrawCount,Mn._multiDrawInstances);else if(Kn.get("WEBGL_multi_draw"))ho.renderMultiDraw(Mn._multiDrawStarts,Mn._multiDrawCounts,Mn._multiDrawCount);else{const $r=Mn._multiDrawStarts,To=Mn._multiDrawCounts,wo=Mn._multiDrawCount,Ts=br?In.get(br).bytesPerElement:1,ru=Yn.get(On).currentProgram.getUniforms();for(let Ko=0;Ko<wo;Ko++)ru.setValue(nn,"_gl_DrawID",Ko),ho.render($r[Ko]/Ts,To[Ko])}else if(Mn.isInstancedMesh)ho.renderInstances(Vr,yo,Mn.count);else if(Dn.isInstancedBufferGeometry){const $r=Dn._maxInstanceCount!==void 0?Dn._maxInstanceCount:1/0,To=Math.min(Dn.instanceCount,$r);ho.renderInstances(Vr,yo,To)}else ho.render(Vr,yo)};function to(en,wn,Dn){en.transparent===!0&&en.side===DoubleSide&&en.forceSinglePass===!1?(en.side=BackSide,en.needsUpdate=!0,xu(en,wn,Dn),en.side=FrontSide,en.needsUpdate=!0,xu(en,wn,Dn),en.side=DoubleSide):xu(en,wn,Dn)}this.compile=function(en,wn,Dn=null){Dn===null&&(Dn=en),Lt=Nr.get(Dn),Lt.init(wn),Ft.push(Lt),Dn.traverseVisible(function(Mn){Mn.isLight&&Mn.layers.test(wn.layers)&&(Lt.pushLight(Mn),Mn.castShadow&&Lt.pushShadow(Mn))}),en!==Dn&&en.traverseVisible(function(Mn){Mn.isLight&&Mn.layers.test(wn.layers)&&(Lt.pushLight(Mn),Mn.castShadow&&Lt.pushShadow(Mn))}),Lt.setupLights();const On=new Set;return en.traverse(function(Mn){if(!(Mn.isMesh||Mn.isPoints||Mn.isLine||Mn.isSprite))return;const lr=Mn.material;if(lr)if(Array.isArray(lr))for(let yr=0;yr<lr.length;yr++){const Ir=lr[yr];to(Ir,Dn,Mn),On.add(Ir)}else to(lr,Dn,Mn),On.add(lr)}),Lt=Ft.pop(),On},this.compileAsync=function(en,wn,Dn=null){const On=this.compile(en,wn,Dn);return new Promise(Mn=>{function lr(){if(On.forEach(function(yr){Yn.get(yr).currentProgram.isReady()&&On.delete(yr)}),On.size===0){Mn(en);return}setTimeout(lr,10)}Kn.get("KHR_parallel_shader_compile")!==null?lr():setTimeout(lr,10)})};let Lo=null;function Io(en){Lo&&Lo(en)}function js(){Es.stop()}function $u(){Es.start()}const Es=new WebGLAnimation;Es.setAnimationLoop(Io),typeof self<"u"&&Es.setContext(self),this.setAnimationLoop=function(en){Lo=en,kn.setAnimationLoop(en),en===null?Es.stop():Es.start()},kn.addEventListener("sessionstart",js),kn.addEventListener("sessionend",$u),this.render=function(en,wn){if(wn!==void 0&&wn.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(jt===!0)return;if(en.matrixWorldAutoUpdate===!0&&en.updateMatrixWorld(),wn.parent===null&&wn.matrixWorldAutoUpdate===!0&&wn.updateMatrixWorld(),kn.enabled===!0&&kn.isPresenting===!0&&(kn.cameraAutoUpdate===!0&&kn.updateCamera(wn),wn=kn.getCamera()),en.isScene===!0&&en.onBeforeRender(Vt,en,wn,Kt),Lt=Nr.get(en,Ft.length),Lt.init(wn),Ft.push(Lt),_r.multiplyMatrices(wn.projectionMatrix,wn.matrixWorldInverse),An.setFromProjectionMatrix(_r),or=this.localClippingEnabled,Xn=Zn.init(this.clippingPlanes,or),Nt=dr.get(en,Ot.length),Nt.init(),Ot.push(Nt),kn.enabled===!0&&kn.isPresenting===!0){const lr=Vt.xr.getDepthSensingMesh();lr!==null&&Ur(lr,wn,-1/0,Vt.sortObjects)}Ur(en,wn,0,Vt.sortObjects),Nt.finish(),Vt.sortObjects===!0&&Nt.sort(hn,pn),It=kn.enabled===!1||kn.isPresenting===!1||kn.hasDepthSensing()===!1,It&&ir.addToRenderList(Nt,en),this.info.render.frame++,Xn===!0&&Zn.beginShadows();const Dn=Lt.state.shadowsArray;nr.render(Dn,en,wn),Xn===!0&&Zn.endShadows(),this.info.autoReset===!0&&this.info.reset();const On=Nt.opaque,Mn=Nt.transmissive;if(Lt.setupLights(),wn.isArrayCamera){const lr=wn.cameras;if(Mn.length>0)for(let yr=0,Ir=lr.length;yr<Ir;yr++){const br=lr[yr];gs(On,Mn,en,br)}It&&ir.render(en);for(let yr=0,Ir=lr.length;yr<Ir;yr++){const br=lr[yr];nu(Nt,en,br,br.viewport)}}else Mn.length>0&&gs(On,Mn,en,wn),It&&ir.render(en),nu(Nt,en,wn);Kt!==null&&Yt===0&&(tn.updateMultisampleRenderTarget(Kt),tn.updateRenderTargetMipmap(Kt)),en.isScene===!0&&en.onAfterRender(Vt,en,wn),ur.resetDefaultState(),qt=-1,Wt=null,Ft.pop(),Ft.length>0?(Lt=Ft[Ft.length-1],Xn===!0&&Zn.setGlobalState(Vt.clippingPlanes,Lt.state.camera)):Lt=null,Ot.pop(),Ot.length>0?Nt=Ot[Ot.length-1]:Nt=null};function Ur(en,wn,Dn,On){if(en.visible===!1)return;if(en.layers.test(wn.layers)){if(en.isGroup)Dn=en.renderOrder;else if(en.isLOD)en.autoUpdate===!0&&en.update(wn);else if(en.isLight)Lt.pushLight(en),en.castShadow&&Lt.pushShadow(en);else if(en.isSprite){if(!en.frustumCulled||An.intersectsSprite(en)){On&&hr.setFromMatrixPosition(en.matrixWorld).applyMatrix4(_r);const yr=xn.update(en),Ir=en.material;Ir.visible&&Nt.push(en,yr,Ir,Dn,hr.z,null)}}else if((en.isMesh||en.isLine||en.isPoints)&&(!en.frustumCulled||An.intersectsObject(en))){const yr=xn.update(en),Ir=en.material;if(On&&(en.boundingSphere!==void 0?(en.boundingSphere===null&&en.computeBoundingSphere(),hr.copy(en.boundingSphere.center)):(yr.boundingSphere===null&&yr.computeBoundingSphere(),hr.copy(yr.boundingSphere.center)),hr.applyMatrix4(en.matrixWorld).applyMatrix4(_r)),Array.isArray(Ir)){const br=yr.groups;for(let Kr=0,Xr=br.length;Kr<Xr;Kr++){const Sr=br[Kr],Vr=Ir[Sr.materialIndex];Vr&&Vr.visible&&Nt.push(en,yr,Vr,Dn,hr.z,Sr)}}else Ir.visible&&Nt.push(en,yr,Ir,Dn,hr.z,null)}}const lr=en.children;for(let yr=0,Ir=lr.length;yr<Ir;yr++)Ur(lr[yr],wn,Dn,On)}function nu(en,wn,Dn,On){const Mn=en.opaque,lr=en.transmissive,yr=en.transparent;Lt.setupLightsView(Dn),Xn===!0&&Zn.setGlobalState(Vt.clippingPlanes,Dn),On&&Fn.viewport(Jt.copy(On)),Mn.length>0&&Dl(Mn,wn,Dn),lr.length>0&&Dl(lr,wn,Dn),yr.length>0&&Dl(yr,wn,Dn),Fn.buffers.depth.setTest(!0),Fn.buffers.depth.setMask(!0),Fn.buffers.color.setMask(!0),Fn.setPolygonOffset(!1)}function gs(en,wn,Dn,On){if((Dn.isScene===!0?Dn.overrideMaterial:null)!==null)return;Lt.state.transmissionRenderTarget[On.id]===void 0&&(Lt.state.transmissionRenderTarget[On.id]=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:Kn.has("EXT_color_buffer_half_float")||Kn.has("EXT_color_buffer_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ColorManagement.workingColorSpace}));const lr=Lt.state.transmissionRenderTarget[On.id],yr=On.viewport||Jt;lr.setSize(yr.z*Vt.transmissionResolutionScale,yr.w*Vt.transmissionResolutionScale);const Ir=Vt.getRenderTarget();Vt.setRenderTarget(lr),Vt.getClearColor(Tn),Cn=Vt.getClearAlpha(),Cn<1&&Vt.setClearColor(16777215,.5),Vt.clear(),It&&ir.render(Dn);const br=Vt.toneMapping;Vt.toneMapping=NoToneMapping;const Kr=On.viewport;if(On.viewport!==void 0&&(On.viewport=void 0),Lt.setupLightsView(On),Xn===!0&&Zn.setGlobalState(Vt.clippingPlanes,On),Dl(en,Dn,On),tn.updateMultisampleRenderTarget(lr),tn.updateRenderTargetMipmap(lr),Kn.has("WEBGL_multisampled_render_to_texture")===!1){let Xr=!1;for(let Sr=0,Vr=wn.length;Sr<Vr;Sr++){const fo=wn[Sr],yo=fo.object,Un=fo.geometry,ho=fo.material,$r=fo.group;if(ho.side===DoubleSide&&yo.layers.test(On.layers)){const To=ho.side;ho.side=BackSide,ho.needsUpdate=!0,Wu(yo,Dn,On,Un,ho,$r),ho.side=To,ho.needsUpdate=!0,Xr=!0}}Xr===!0&&(tn.updateMultisampleRenderTarget(lr),tn.updateRenderTargetMipmap(lr))}Vt.setRenderTarget(Ir),Vt.setClearColor(Tn,Cn),Kr!==void 0&&(On.viewport=Kr),Vt.toneMapping=br}function Dl(en,wn,Dn){const On=wn.isScene===!0?wn.overrideMaterial:null;for(let Mn=0,lr=en.length;Mn<lr;Mn++){const yr=en[Mn],Ir=yr.object,br=yr.geometry,Kr=yr.group;let Xr=yr.material;Xr.allowOverride===!0&&On!==null&&(Xr=On),Ir.layers.test(Dn.layers)&&Wu(Ir,wn,Dn,br,Xr,Kr)}}function Wu(en,wn,Dn,On,Mn,lr){en.onBeforeRender(Vt,wn,Dn,On,Mn,lr),en.modelViewMatrix.multiplyMatrices(Dn.matrixWorldInverse,en.matrixWorld),en.normalMatrix.getNormalMatrix(en.modelViewMatrix),Mn.onBeforeRender(Vt,wn,Dn,On,en,lr),Mn.transparent===!0&&Mn.side===DoubleSide&&Mn.forceSinglePass===!1?(Mn.side=BackSide,Mn.needsUpdate=!0,Vt.renderBufferDirect(Dn,wn,On,Mn,en,lr),Mn.side=FrontSide,Mn.needsUpdate=!0,Vt.renderBufferDirect(Dn,wn,On,Mn,en,lr),Mn.side=DoubleSide):Vt.renderBufferDirect(Dn,wn,On,Mn,en,lr),en.onAfterRender(Vt,wn,Dn,On,Mn,lr)}function xu(en,wn,Dn){wn.isScene!==!0&&(wn=gr);const On=Yn.get(en),Mn=Lt.state.lights,lr=Lt.state.shadowsArray,yr=Mn.state.version,Ir=er.getParameters(en,Mn.state,lr,wn,Dn),br=er.getProgramCacheKey(Ir);let Kr=On.programs;On.environment=en.isMeshStandardMaterial?wn.environment:null,On.fog=wn.fog,On.envMap=(en.isMeshStandardMaterial?dn:Qt).get(en.envMap||On.environment),On.envMapRotation=On.environment!==null&&en.envMap===null?wn.environmentRotation:en.envMapRotation,Kr===void 0&&(en.addEventListener("dispose",Hr),Kr=new Map,On.programs=Kr);let Xr=Kr.get(br);if(Xr!==void 0){if(On.currentProgram===Xr&&On.lightsStateVersion===yr)return Jp(en,Ir),Xr}else Ir.uniforms=er.getUniforms(en),en.onBeforeCompile(Ir,Vt),Xr=er.acquireProgram(Ir,br),Kr.set(br,Xr),On.uniforms=Ir.uniforms;const Sr=On.uniforms;return(!en.isShaderMaterial&&!en.isRawShaderMaterial||en.clipping===!0)&&(Sr.clippingPlanes=Zn.uniform),Jp(en,Ir),On.needsLights=tm(en),On.lightsStateVersion=yr,On.needsLights&&(Sr.ambientLightColor.value=Mn.state.ambient,Sr.lightProbe.value=Mn.state.probe,Sr.directionalLights.value=Mn.state.directional,Sr.directionalLightShadows.value=Mn.state.directionalShadow,Sr.spotLights.value=Mn.state.spot,Sr.spotLightShadows.value=Mn.state.spotShadow,Sr.rectAreaLights.value=Mn.state.rectArea,Sr.ltc_1.value=Mn.state.rectAreaLTC1,Sr.ltc_2.value=Mn.state.rectAreaLTC2,Sr.pointLights.value=Mn.state.point,Sr.pointLightShadows.value=Mn.state.pointShadow,Sr.hemisphereLights.value=Mn.state.hemi,Sr.directionalShadowMap.value=Mn.state.directionalShadowMap,Sr.directionalShadowMatrix.value=Mn.state.directionalShadowMatrix,Sr.spotShadowMap.value=Mn.state.spotShadowMap,Sr.spotLightMatrix.value=Mn.state.spotLightMatrix,Sr.spotLightMap.value=Mn.state.spotLightMap,Sr.pointShadowMap.value=Mn.state.pointShadowMap,Sr.pointShadowMatrix.value=Mn.state.pointShadowMatrix),On.currentProgram=Xr,On.uniformsList=null,Xr}function Su(en){if(en.uniformsList===null){const wn=en.currentProgram.getUniforms();en.uniformsList=WebGLUniforms.seqWithValue(wn.seq,en.uniforms)}return en.uniformsList}function Jp(en,wn){const Dn=Yn.get(en);Dn.outputColorSpace=wn.outputColorSpace,Dn.batching=wn.batching,Dn.batchingColor=wn.batchingColor,Dn.instancing=wn.instancing,Dn.instancingColor=wn.instancingColor,Dn.instancingMorph=wn.instancingMorph,Dn.skinning=wn.skinning,Dn.morphTargets=wn.morphTargets,Dn.morphNormals=wn.morphNormals,Dn.morphColors=wn.morphColors,Dn.morphTargetsCount=wn.morphTargetsCount,Dn.numClippingPlanes=wn.numClippingPlanes,Dn.numIntersection=wn.numClipIntersection,Dn.vertexAlphas=wn.vertexAlphas,Dn.vertexTangents=wn.vertexTangents,Dn.toneMapping=wn.toneMapping}function R0(en,wn,Dn,On,Mn){wn.isScene!==!0&&(wn=gr),tn.resetTextureUnits();const lr=wn.fog,yr=On.isMeshStandardMaterial?wn.environment:null,Ir=Kt===null?Vt.outputColorSpace:Kt.isXRRenderTarget===!0?Kt.texture.colorSpace:LinearSRGBColorSpace,br=(On.isMeshStandardMaterial?dn:Qt).get(On.envMap||yr),Kr=On.vertexColors===!0&&!!Dn.attributes.color&&Dn.attributes.color.itemSize===4,Xr=!!Dn.attributes.tangent&&(!!On.normalMap||On.anisotropy>0),Sr=!!Dn.morphAttributes.position,Vr=!!Dn.morphAttributes.normal,fo=!!Dn.morphAttributes.color;let yo=NoToneMapping;On.toneMapped&&(Kt===null||Kt.isXRRenderTarget===!0)&&(yo=Vt.toneMapping);const Un=Dn.morphAttributes.position||Dn.morphAttributes.normal||Dn.morphAttributes.color,ho=Un!==void 0?Un.length:0,$r=Yn.get(On),To=Lt.state.lights;if(Xn===!0&&(or===!0||en!==Wt)){const Qo=en===Wt&&On.id===qt;Zn.setState(On,en,Qo)}let wo=!1;On.version===$r.__version?($r.needsLights&&$r.lightsStateVersion!==To.state.version||$r.outputColorSpace!==Ir||Mn.isBatchedMesh&&$r.batching===!1||!Mn.isBatchedMesh&&$r.batching===!0||Mn.isBatchedMesh&&$r.batchingColor===!0&&Mn.colorTexture===null||Mn.isBatchedMesh&&$r.batchingColor===!1&&Mn.colorTexture!==null||Mn.isInstancedMesh&&$r.instancing===!1||!Mn.isInstancedMesh&&$r.instancing===!0||Mn.isSkinnedMesh&&$r.skinning===!1||!Mn.isSkinnedMesh&&$r.skinning===!0||Mn.isInstancedMesh&&$r.instancingColor===!0&&Mn.instanceColor===null||Mn.isInstancedMesh&&$r.instancingColor===!1&&Mn.instanceColor!==null||Mn.isInstancedMesh&&$r.instancingMorph===!0&&Mn.morphTexture===null||Mn.isInstancedMesh&&$r.instancingMorph===!1&&Mn.morphTexture!==null||$r.envMap!==br||On.fog===!0&&$r.fog!==lr||$r.numClippingPlanes!==void 0&&($r.numClippingPlanes!==Zn.numPlanes||$r.numIntersection!==Zn.numIntersection)||$r.vertexAlphas!==Kr||$r.vertexTangents!==Xr||$r.morphTargets!==Sr||$r.morphNormals!==Vr||$r.morphColors!==fo||$r.toneMapping!==yo||$r.morphTargetsCount!==ho)&&(wo=!0):(wo=!0,$r.__version=On.version);let Ts=$r.currentProgram;wo===!0&&(Ts=xu(On,wn,Mn));let ru=!1,Ko=!1,wu=!1;const xo=Ts.getUniforms(),fr=$r.uniforms;if(Fn.useProgram(Ts.program)&&(ru=!0,Ko=!0,wu=!0),On.id!==qt&&(qt=On.id,Ko=!0),ru||Wt!==en){Fn.buffers.depth.getReversed()?(tr.copy(en.projectionMatrix),toNormalizedProjectionMatrix(tr),toReversedProjectionMatrix(tr),xo.setValue(nn,"projectionMatrix",tr)):xo.setValue(nn,"projectionMatrix",en.projectionMatrix),xo.setValue(nn,"viewMatrix",en.matrixWorldInverse);const Vo=xo.map.cameraPosition;Vo!==void 0&&Vo.setValue(nn,kr.setFromMatrixPosition(en.matrixWorld)),Qn.logarithmicDepthBuffer&&xo.setValue(nn,"logDepthBufFC",2/(Math.log(en.far+1)/Math.LN2)),(On.isMeshPhongMaterial||On.isMeshToonMaterial||On.isMeshLambertMaterial||On.isMeshBasicMaterial||On.isMeshStandardMaterial||On.isShaderMaterial)&&xo.setValue(nn,"isOrthographic",en.isOrthographicCamera===!0),Wt!==en&&(Wt=en,Ko=!0,wu=!0)}if(Mn.isSkinnedMesh){xo.setOptional(nn,Mn,"bindMatrix"),xo.setOptional(nn,Mn,"bindMatrixInverse");const Qo=Mn.skeleton;Qo&&(Qo.boneTexture===null&&Qo.computeBoneTexture(),xo.setValue(nn,"boneTexture",Qo.boneTexture,tn))}Mn.isBatchedMesh&&(xo.setOptional(nn,Mn,"batchingTexture"),xo.setValue(nn,"batchingTexture",Mn._matricesTexture,tn),xo.setOptional(nn,Mn,"batchingIdTexture"),xo.setValue(nn,"batchingIdTexture",Mn._indirectTexture,tn),xo.setOptional(nn,Mn,"batchingColorTexture"),Mn._colorsTexture!==null&&xo.setValue(nn,"batchingColorTexture",Mn._colorsTexture,tn));const bo=Dn.morphAttributes;if((bo.position!==void 0||bo.normal!==void 0||bo.color!==void 0)&&Or.update(Mn,Dn,Ts),(Ko||$r.receiveShadow!==Mn.receiveShadow)&&($r.receiveShadow=Mn.receiveShadow,xo.setValue(nn,"receiveShadow",Mn.receiveShadow)),On.isMeshGouraudMaterial&&On.envMap!==null&&(fr.envMap.value=br,fr.flipEnvMap.value=br.isCubeTexture&&br.isRenderTargetTexture===!1?-1:1),On.isMeshStandardMaterial&&On.envMap===null&&wn.environment!==null&&(fr.envMapIntensity.value=wn.environmentIntensity),Ko&&(xo.setValue(nn,"toneMappingExposure",Vt.toneMappingExposure),$r.needsLights&&em(fr,wu),lr&&On.fog===!0&&Gn.refreshFogUniforms(fr,lr),Gn.refreshMaterialUniforms(fr,On,on,Nn,Lt.state.transmissionRenderTarget[en.id]),WebGLUniforms.upload(nn,Su($r),fr,tn)),On.isShaderMaterial&&On.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(nn,Su($r),fr,tn),On.uniformsNeedUpdate=!1),On.isSpriteMaterial&&xo.setValue(nn,"center",Mn.center),xo.setValue(nn,"modelViewMatrix",Mn.modelViewMatrix),xo.setValue(nn,"normalMatrix",Mn.normalMatrix),xo.setValue(nn,"modelMatrix",Mn.matrixWorld),On.isShaderMaterial||On.isRawShaderMaterial){const Qo=On.uniformsGroups;for(let Vo=0,Mu=Qo.length;Vo<Mu;Vo++){const As=Qo[Vo];an.update(As,Ts),an.bind(As,Ts)}}return Ts}function em(en,wn){en.ambientLightColor.needsUpdate=wn,en.lightProbe.needsUpdate=wn,en.directionalLights.needsUpdate=wn,en.directionalLightShadows.needsUpdate=wn,en.pointLights.needsUpdate=wn,en.pointLightShadows.needsUpdate=wn,en.spotLights.needsUpdate=wn,en.spotLightShadows.needsUpdate=wn,en.rectAreaLights.needsUpdate=wn,en.hemisphereLights.needsUpdate=wn}function tm(en){return en.isMeshLambertMaterial||en.isMeshToonMaterial||en.isMeshPhongMaterial||en.isMeshStandardMaterial||en.isShadowMaterial||en.isShaderMaterial&&en.lights===!0}this.getActiveCubeFace=function(){return $t},this.getActiveMipmapLevel=function(){return Yt},this.getRenderTarget=function(){return Kt},this.setRenderTargetTextures=function(en,wn,Dn){const On=Yn.get(en);On.__autoAllocateDepthBuffer=en.resolveDepthBuffer===!1,On.__autoAllocateDepthBuffer===!1&&(On.__useRenderToTexture=!1),Yn.get(en.texture).__webglTexture=wn,Yn.get(en.depthTexture).__webglTexture=On.__autoAllocateDepthBuffer?void 0:Dn,On.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(en,wn){const Dn=Yn.get(en);Dn.__webglFramebuffer=wn,Dn.__useDefaultFramebuffer=wn===void 0};const a1=nn.createFramebuffer();this.setRenderTarget=function(en,wn=0,Dn=0){Kt=en,$t=wn,Yt=Dn;let On=!0,Mn=null,lr=!1,yr=!1;if(en){const br=Yn.get(en);if(br.__useDefaultFramebuffer!==void 0)Fn.bindFramebuffer(nn.FRAMEBUFFER,null),On=!1;else if(br.__webglFramebuffer===void 0)tn.setupRenderTarget(en);else if(br.__hasExternalTextures)tn.rebindTextures(en,Yn.get(en.texture).__webglTexture,Yn.get(en.depthTexture).__webglTexture);else if(en.depthBuffer){const Sr=en.depthTexture;if(br.__boundDepthTexture!==Sr){if(Sr!==null&&Yn.has(Sr)&&(en.width!==Sr.image.width||en.height!==Sr.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");tn.setupDepthRenderbuffer(en)}}const Kr=en.texture;(Kr.isData3DTexture||Kr.isDataArrayTexture||Kr.isCompressedArrayTexture)&&(yr=!0);const Xr=Yn.get(en).__webglFramebuffer;en.isWebGLCubeRenderTarget?(Array.isArray(Xr[wn])?Mn=Xr[wn][Dn]:Mn=Xr[wn],lr=!0):en.samples>0&&tn.useMultisampledRTT(en)===!1?Mn=Yn.get(en).__webglMultisampledFramebuffer:Array.isArray(Xr)?Mn=Xr[Dn]:Mn=Xr,Jt.copy(en.viewport),cn.copy(en.scissor),sn=en.scissorTest}else Jt.copy(Pn).multiplyScalar(on).floor(),cn.copy(jn).multiplyScalar(on).floor(),sn=ar;if(Dn!==0&&(Mn=a1),Fn.bindFramebuffer(nn.FRAMEBUFFER,Mn)&&On&&Fn.drawBuffers(en,Mn),Fn.viewport(Jt),Fn.scissor(cn),Fn.setScissorTest(sn),lr){const br=Yn.get(en.texture);nn.framebufferTexture2D(nn.FRAMEBUFFER,nn.COLOR_ATTACHMENT0,nn.TEXTURE_CUBE_MAP_POSITIVE_X+wn,br.__webglTexture,Dn)}else if(yr){const br=Yn.get(en.texture),Kr=wn;nn.framebufferTextureLayer(nn.FRAMEBUFFER,nn.COLOR_ATTACHMENT0,br.__webglTexture,Dn,Kr)}else if(en!==null&&Dn!==0){const br=Yn.get(en.texture);nn.framebufferTexture2D(nn.FRAMEBUFFER,nn.COLOR_ATTACHMENT0,nn.TEXTURE_2D,br.__webglTexture,Dn)}qt=-1},this.readRenderTargetPixels=function(en,wn,Dn,On,Mn,lr,yr){if(!(en&&en.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ir=Yn.get(en).__webglFramebuffer;if(en.isWebGLCubeRenderTarget&&yr!==void 0&&(Ir=Ir[yr]),Ir){Fn.bindFramebuffer(nn.FRAMEBUFFER,Ir);try{const br=en.texture,Kr=br.format,Xr=br.type;if(!Qn.textureFormatReadable(Kr)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Qn.textureTypeReadable(Xr)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}wn>=0&&wn<=en.width-On&&Dn>=0&&Dn<=en.height-Mn&&nn.readPixels(wn,Dn,On,Mn,$n.convert(Kr),$n.convert(Xr),lr)}finally{const br=Kt!==null?Yn.get(Kt).__webglFramebuffer:null;Fn.bindFramebuffer(nn.FRAMEBUFFER,br)}}},this.readRenderTargetPixelsAsync=async function(en,wn,Dn,On,Mn,lr,yr){if(!(en&&en.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ir=Yn.get(en).__webglFramebuffer;if(en.isWebGLCubeRenderTarget&&yr!==void 0&&(Ir=Ir[yr]),Ir)if(wn>=0&&wn<=en.width-On&&Dn>=0&&Dn<=en.height-Mn){Fn.bindFramebuffer(nn.FRAMEBUFFER,Ir);const br=en.texture,Kr=br.format,Xr=br.type;if(!Qn.textureFormatReadable(Kr))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Qn.textureTypeReadable(Xr))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Sr=nn.createBuffer();nn.bindBuffer(nn.PIXEL_PACK_BUFFER,Sr),nn.bufferData(nn.PIXEL_PACK_BUFFER,lr.byteLength,nn.STREAM_READ),nn.readPixels(wn,Dn,On,Mn,$n.convert(Kr),$n.convert(Xr),0);const Vr=Kt!==null?Yn.get(Kt).__webglFramebuffer:null;Fn.bindFramebuffer(nn.FRAMEBUFFER,Vr);const fo=nn.fenceSync(nn.SYNC_GPU_COMMANDS_COMPLETE,0);return nn.flush(),await probeAsync(nn,fo,4),nn.bindBuffer(nn.PIXEL_PACK_BUFFER,Sr),nn.getBufferSubData(nn.PIXEL_PACK_BUFFER,0,lr),nn.deleteBuffer(Sr),nn.deleteSync(fo),lr}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(en,wn=null,Dn=0){const On=Math.pow(2,-Dn),Mn=Math.floor(en.image.width*On),lr=Math.floor(en.image.height*On),yr=wn!==null?wn.x:0,Ir=wn!==null?wn.y:0;tn.setTexture2D(en,0),nn.copyTexSubImage2D(nn.TEXTURE_2D,Dn,0,0,yr,Ir,Mn,lr),Fn.unbindTexture()};const ro=nn.createFramebuffer(),C2=nn.createFramebuffer();this.copyTextureToTexture=function(en,wn,Dn=null,On=null,Mn=0,lr=null){lr===null&&(Mn!==0?(warnOnce("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),lr=Mn,Mn=0):lr=0);let yr,Ir,br,Kr,Xr,Sr,Vr,fo,yo;const Un=en.isCompressedTexture?en.mipmaps[lr]:en.image;if(Dn!==null)yr=Dn.max.x-Dn.min.x,Ir=Dn.max.y-Dn.min.y,br=Dn.isBox3?Dn.max.z-Dn.min.z:1,Kr=Dn.min.x,Xr=Dn.min.y,Sr=Dn.isBox3?Dn.min.z:0;else{const bo=Math.pow(2,-Mn);yr=Math.floor(Un.width*bo),Ir=Math.floor(Un.height*bo),en.isDataArrayTexture?br=Un.depth:en.isData3DTexture?br=Math.floor(Un.depth*bo):br=1,Kr=0,Xr=0,Sr=0}On!==null?(Vr=On.x,fo=On.y,yo=On.z):(Vr=0,fo=0,yo=0);const ho=$n.convert(wn.format),$r=$n.convert(wn.type);let To;wn.isData3DTexture?(tn.setTexture3D(wn,0),To=nn.TEXTURE_3D):wn.isDataArrayTexture||wn.isCompressedArrayTexture?(tn.setTexture2DArray(wn,0),To=nn.TEXTURE_2D_ARRAY):(tn.setTexture2D(wn,0),To=nn.TEXTURE_2D),nn.pixelStorei(nn.UNPACK_FLIP_Y_WEBGL,wn.flipY),nn.pixelStorei(nn.UNPACK_PREMULTIPLY_ALPHA_WEBGL,wn.premultiplyAlpha),nn.pixelStorei(nn.UNPACK_ALIGNMENT,wn.unpackAlignment);const wo=nn.getParameter(nn.UNPACK_ROW_LENGTH),Ts=nn.getParameter(nn.UNPACK_IMAGE_HEIGHT),ru=nn.getParameter(nn.UNPACK_SKIP_PIXELS),Ko=nn.getParameter(nn.UNPACK_SKIP_ROWS),wu=nn.getParameter(nn.UNPACK_SKIP_IMAGES);nn.pixelStorei(nn.UNPACK_ROW_LENGTH,Un.width),nn.pixelStorei(nn.UNPACK_IMAGE_HEIGHT,Un.height),nn.pixelStorei(nn.UNPACK_SKIP_PIXELS,Kr),nn.pixelStorei(nn.UNPACK_SKIP_ROWS,Xr),nn.pixelStorei(nn.UNPACK_SKIP_IMAGES,Sr);const xo=en.isDataArrayTexture||en.isData3DTexture,fr=wn.isDataArrayTexture||wn.isData3DTexture;if(en.isDepthTexture){const bo=Yn.get(en),Qo=Yn.get(wn),Vo=Yn.get(bo.__renderTarget),Mu=Yn.get(Qo.__renderTarget);Fn.bindFramebuffer(nn.READ_FRAMEBUFFER,Vo.__webglFramebuffer),Fn.bindFramebuffer(nn.DRAW_FRAMEBUFFER,Mu.__webglFramebuffer);for(let As=0;As<br;As++)xo&&(nn.framebufferTextureLayer(nn.READ_FRAMEBUFFER,nn.COLOR_ATTACHMENT0,Yn.get(en).__webglTexture,Mn,Sr+As),nn.framebufferTextureLayer(nn.DRAW_FRAMEBUFFER,nn.COLOR_ATTACHMENT0,Yn.get(wn).__webglTexture,lr,yo+As)),nn.blitFramebuffer(Kr,Xr,yr,Ir,Vr,fo,yr,Ir,nn.DEPTH_BUFFER_BIT,nn.NEAREST);Fn.bindFramebuffer(nn.READ_FRAMEBUFFER,null),Fn.bindFramebuffer(nn.DRAW_FRAMEBUFFER,null)}else if(Mn!==0||en.isRenderTargetTexture||Yn.has(en)){const bo=Yn.get(en),Qo=Yn.get(wn);Fn.bindFramebuffer(nn.READ_FRAMEBUFFER,ro),Fn.bindFramebuffer(nn.DRAW_FRAMEBUFFER,C2);for(let Vo=0;Vo<br;Vo++)xo?nn.framebufferTextureLayer(nn.READ_FRAMEBUFFER,nn.COLOR_ATTACHMENT0,bo.__webglTexture,Mn,Sr+Vo):nn.framebufferTexture2D(nn.READ_FRAMEBUFFER,nn.COLOR_ATTACHMENT0,nn.TEXTURE_2D,bo.__webglTexture,Mn),fr?nn.framebufferTextureLayer(nn.DRAW_FRAMEBUFFER,nn.COLOR_ATTACHMENT0,Qo.__webglTexture,lr,yo+Vo):nn.framebufferTexture2D(nn.DRAW_FRAMEBUFFER,nn.COLOR_ATTACHMENT0,nn.TEXTURE_2D,Qo.__webglTexture,lr),Mn!==0?nn.blitFramebuffer(Kr,Xr,yr,Ir,Vr,fo,yr,Ir,nn.COLOR_BUFFER_BIT,nn.NEAREST):fr?nn.copyTexSubImage3D(To,lr,Vr,fo,yo+Vo,Kr,Xr,yr,Ir):nn.copyTexSubImage2D(To,lr,Vr,fo,Kr,Xr,yr,Ir);Fn.bindFramebuffer(nn.READ_FRAMEBUFFER,null),Fn.bindFramebuffer(nn.DRAW_FRAMEBUFFER,null)}else fr?en.isDataTexture||en.isData3DTexture?nn.texSubImage3D(To,lr,Vr,fo,yo,yr,Ir,br,ho,$r,Un.data):wn.isCompressedArrayTexture?nn.compressedTexSubImage3D(To,lr,Vr,fo,yo,yr,Ir,br,ho,Un.data):nn.texSubImage3D(To,lr,Vr,fo,yo,yr,Ir,br,ho,$r,Un):en.isDataTexture?nn.texSubImage2D(nn.TEXTURE_2D,lr,Vr,fo,yr,Ir,ho,$r,Un.data):en.isCompressedTexture?nn.compressedTexSubImage2D(nn.TEXTURE_2D,lr,Vr,fo,Un.width,Un.height,ho,Un.data):nn.texSubImage2D(nn.TEXTURE_2D,lr,Vr,fo,yr,Ir,ho,$r,Un);nn.pixelStorei(nn.UNPACK_ROW_LENGTH,wo),nn.pixelStorei(nn.UNPACK_IMAGE_HEIGHT,Ts),nn.pixelStorei(nn.UNPACK_SKIP_PIXELS,ru),nn.pixelStorei(nn.UNPACK_SKIP_ROWS,Ko),nn.pixelStorei(nn.UNPACK_SKIP_IMAGES,wu),lr===0&&wn.generateMipmaps&&nn.generateMipmap(To),Fn.unbindTexture()},this.copyTextureToTexture3D=function(en,wn,Dn=null,On=null,Mn=0){return warnOnce('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(en,wn,Dn,On,Mn)},this.initRenderTarget=function(en){Yn.get(en).__webglFramebuffer===void 0&&tn.setupRenderTarget(en)},this.initTexture=function(en){en.isCubeTexture?tn.setTextureCube(en,0):en.isData3DTexture?tn.setTexture3D(en,0):en.isDataArrayTexture||en.isCompressedArrayTexture?tn.setTexture2DArray(en,0):tn.setTexture2D(en,0),Fn.unbindTexture()},this.resetState=function(){$t=0,Yt=0,Kt=null,Fn.reset(),ur.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return WebGLCoordinateSystem}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const a=this.getContext();a.drawingBufferColorSpace=ColorManagement._getDrawingBufferColorSpace(e),a.unpackColorSpace=ColorManagement._getUnpackColorSpace()}}const THREE=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AgXToneMapping,AlphaFormat,AlwaysCompare,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AnimationAction,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,AttachedBindMode,Audio:Audio$1,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,BatchedMesh,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleGeometry,ClampToEdgeWrapping,Clock,Color,ColorKeyframeTrack,ColorManagement,CompressedArrayTexture,CompressedCubeTexture,CompressedTexture,CompressedTextureLoader,ConeGeometry,ConstantAlphaFactor,ConstantColorFactor,Controls,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CustomToneMapping,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthArrayTexture,DepthFormat,DepthStencilFormat,DepthTexture,DetachedBindMode,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualCompare,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher:EventDispatcher$1,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,FrustumArray,GLBufferAttribute,GLSL1,GLSL3,GreaterCompare,GreaterDepth,GreaterEqualCompare,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InterpolationSamplingMode,InterpolationSamplingType,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheGeometry,Layers,LessCompare,LessDepth,LessEqualCompare,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace,LinearToneMapping,LinearTransfer,Loader,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,MOUSE,Material,MaterialLoader,MathUtils,Matrix2,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeutralToneMapping,NeverCompare,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualCompare,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronGeometry,OneFactor,OneMinusConstantAlphaFactor,OneMinusConstantColorFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path,PerspectiveCamera,Plane,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,RED_GREEN_RGTC2_Format,RED_RGTC1_Format,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGBDepthPacking,RGBFormat,RGBIntegerFormat,RGB_BPTC_SIGNED_Format,RGB_BPTC_UNSIGNED_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGDepthPacking,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RenderTarget,RenderTarget3D,RenderTargetArray,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingGeometry,SIGNED_RED_GREEN_RGTC2_Format,SIGNED_RED_RGTC1_Format,SRGBColorSpace,SRGBTransfer,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronGeometry,Texture,TextureLoader,TextureUtils,TimestampQuery,TorusGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeGeometry,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedInt5999Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoFrameTexture,VideoTexture,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCoordinateSystem,WebGLCubeRenderTarget,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WebGPUCoordinateSystem,WebXRController,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,createCanvasElement},Symbol.toStringTag,{value:"Module"}));var constants={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */reactReconcilerConstants_production_min.ConcurrentRoot=1;reactReconcilerConstants_production_min.ContinuousEventPriority=4;reactReconcilerConstants_production_min.DefaultEventPriority=16;reactReconcilerConstants_production_min.DiscreteEventPriority=1;reactReconcilerConstants_production_min.IdleEventPriority=536870912;reactReconcilerConstants_production_min.LegacyRoot=0;constants.exports=reactReconcilerConstants_production_min;var constantsExports=constants.exports;function createStore$2(c){let e;const a=new Set,d=(St,Tt)=>{const At=typeof St=="function"?St(e):St;if(At!==e){const Ct=e;e=Tt?At:Object.assign({},e,At),a.forEach(Rt=>Rt(e,Ct))}},nt=()=>e,o=(St,Tt=nt,At=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let Ct=Tt(e);function Rt(){const yt=Tt(e);if(!At(Ct,yt)){const Dt=Ct;St(Ct=yt,Dt)}}return a.add(Rt),()=>a.delete(Rt)},xt={setState:d,getState:nt,subscribe:(St,Tt,At)=>Tt||At?o(St,Tt,At):(a.add(St),()=>a.delete(St)),destroy:()=>a.clear()};return e=c(d,nt,xt),xt}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$1=isSSR?reactExports.useEffect:reactExports.useLayoutEffect;function create$1(c){const e=typeof c=="function"?createStore$2(c):c,a=(d=e.getState,nt=Object.is)=>{const[,o]=reactExports.useReducer(Nt=>Nt+1,0),ht=e.getState(),vt=reactExports.useRef(ht),xt=reactExports.useRef(d),St=reactExports.useRef(nt),Tt=reactExports.useRef(!1),At=reactExports.useRef();At.current===void 0&&(At.current=d(ht));let Ct,Rt=!1;(vt.current!==ht||xt.current!==d||St.current!==nt||Tt.current)&&(Ct=d(ht),Rt=!nt(At.current,Ct)),useIsomorphicLayoutEffect$1(()=>{Rt&&(At.current=Ct),vt.current=ht,xt.current=d,St.current=nt,Tt.current=!1});const yt=reactExports.useRef(ht);useIsomorphicLayoutEffect$1(()=>{const Nt=()=>{try{const Ot=e.getState(),Ft=xt.current(Ot);St.current(At.current,Ft)||(vt.current=Ot,At.current=Ft,o())}catch{Tt.current=!0,o()}},Lt=e.subscribe(Nt);return e.getState()!==yt.current&&Nt(),Lt},[]);const Dt=Rt?Ct:At.current;return reactExports.useDebugValue(Dt),Dt};return Object.assign(a,e),a[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const d=[a,e];return{next(){const nt=d.length<=0;return{value:d.shift(),done:nt}}}},a}const isPromise=c=>typeof c=="object"&&typeof c.then=="function",globalCache=[];function shallowEqualArrays(c,e,a=(d,nt)=>d===nt){if(c===e)return!0;if(!c||!e)return!1;const d=c.length;if(e.length!==d)return!1;for(let nt=0;nt<d;nt++)if(!a(c[nt],e[nt]))return!1;return!0}function query$2(c,e=null,a=!1,d={}){e===null&&(e=[c]);for(const o of globalCache)if(shallowEqualArrays(e,o.keys,o.equal)){if(a)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return d.lifespan&&d.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,d.lifespan)),o.response;if(!a)throw o.promise}const nt={keys:e,equal:d.equal,remove:()=>{const o=globalCache.indexOf(nt);o!==-1&&globalCache.splice(o,1)},promise:(isPromise(c)?c:c(...e)).then(o=>{nt.response=o,d.lifespan&&d.lifespan>0&&(nt.timeout=setTimeout(nt.remove,d.lifespan))}).catch(o=>nt.error=o)};if(globalCache.push(nt),!a)throw nt.promise}const suspend=(c,e,a)=>query$2(c,e,!1,a),preload=(c,e,a)=>void query$2(c,e,!0,a),clear=c=>{if(c===void 0||c.length===0)globalCache.splice(0,globalCache.length);else{const e=globalCache.find(a=>shallowEqualArrays(c,a.keys,a.equal));e&&e.remove()}};var reactReconciler={exports:{}},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(c){function e(on,hn){var pn=on.length;on.push(hn);e:for(;0<pn;){var Pn=pn-1>>>1,jn=on[Pn];if(0<nt(jn,hn))on[Pn]=hn,on[pn]=jn,pn=Pn;else break e}}function a(on){return on.length===0?null:on[0]}function d(on){if(on.length===0)return null;var hn=on[0],pn=on.pop();if(pn!==hn){on[0]=pn;e:for(var Pn=0,jn=on.length,ar=jn>>>1;Pn<ar;){var An=2*(Pn+1)-1,Xn=on[An],or=An+1,tr=on[or];if(0>nt(Xn,pn))or<jn&&0>nt(tr,Xn)?(on[Pn]=tr,on[or]=pn,Pn=or):(on[Pn]=Xn,on[An]=pn,Pn=An);else if(or<jn&&0>nt(tr,pn))on[Pn]=tr,on[or]=pn,Pn=or;else break e}}return hn}function nt(on,hn){var pn=on.sortIndex-hn.sortIndex;return pn!==0?pn:on.id-hn.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;c.unstable_now=function(){return o.now()}}else{var ht=Date,vt=ht.now();c.unstable_now=function(){return ht.now()-vt}}var xt=[],St=[],Tt=1,At=null,Ct=3,Rt=!1,yt=!1,Dt=!1,Nt=typeof setTimeout=="function"?setTimeout:null,Lt=typeof clearTimeout=="function"?clearTimeout:null,Ot=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ft(on){for(var hn=a(St);hn!==null;){if(hn.callback===null)d(St);else if(hn.startTime<=on)d(St),hn.sortIndex=hn.expirationTime,e(xt,hn);else break;hn=a(St)}}function Vt(on){if(Dt=!1,Ft(on),!yt)if(a(xt)!==null)yt=!0,En(jt);else{var hn=a(St);hn!==null&&Nn(Vt,hn.startTime-on)}}function jt(on,hn){yt=!1,Dt&&(Dt=!1,Lt(Kt),Kt=-1),Rt=!0;var pn=Ct;try{for(Ft(hn),At=a(xt);At!==null&&(!(At.expirationTime>hn)||on&&!Jt());){var Pn=At.callback;if(typeof Pn=="function"){At.callback=null,Ct=At.priorityLevel;var jn=Pn(At.expirationTime<=hn);hn=c.unstable_now(),typeof jn=="function"?At.callback=jn:At===a(xt)&&d(xt),Ft(hn)}else d(xt);At=a(xt)}if(At!==null)var ar=!0;else{var An=a(St);An!==null&&Nn(Vt,An.startTime-hn),ar=!1}return ar}finally{At=null,Ct=pn,Rt=!1}}var $t=!1,Yt=null,Kt=-1,qt=5,Wt=-1;function Jt(){return!(c.unstable_now()-Wt<qt)}function cn(){if(Yt!==null){var on=c.unstable_now();Wt=on;var hn=!0;try{hn=Yt(!0,on)}finally{hn?sn():($t=!1,Yt=null)}}else $t=!1}var sn;if(typeof Ot=="function")sn=function(){Ot(cn)};else if(typeof MessageChannel<"u"){var Tn=new MessageChannel,Cn=Tn.port2;Tn.port1.onmessage=cn,sn=function(){Cn.postMessage(null)}}else sn=function(){Nt(cn,0)};function En(on){Yt=on,$t||($t=!0,sn())}function Nn(on,hn){Kt=Nt(function(){on(c.unstable_now())},hn)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(on){on.callback=null},c.unstable_continueExecution=function(){yt||Rt||(yt=!0,En(jt))},c.unstable_forceFrameRate=function(on){0>on||125<on?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):qt=0<on?Math.floor(1e3/on):5},c.unstable_getCurrentPriorityLevel=function(){return Ct},c.unstable_getFirstCallbackNode=function(){return a(xt)},c.unstable_next=function(on){switch(Ct){case 1:case 2:case 3:var hn=3;break;default:hn=Ct}var pn=Ct;Ct=hn;try{return on()}finally{Ct=pn}},c.unstable_pauseExecution=function(){},c.unstable_requestPaint=function(){},c.unstable_runWithPriority=function(on,hn){switch(on){case 1:case 2:case 3:case 4:case 5:break;default:on=3}var pn=Ct;Ct=on;try{return hn()}finally{Ct=pn}},c.unstable_scheduleCallback=function(on,hn,pn){var Pn=c.unstable_now();switch(typeof pn=="object"&&pn!==null?(pn=pn.delay,pn=typeof pn=="number"&&0<pn?Pn+pn:Pn):pn=Pn,on){case 1:var jn=-1;break;case 2:jn=250;break;case 5:jn=1073741823;break;case 4:jn=1e4;break;default:jn=5e3}return jn=pn+jn,on={id:Tt++,callback:hn,priorityLevel:on,startTime:pn,expirationTime:jn,sortIndex:-1},pn>Pn?(on.sortIndex=pn,e(St,on),a(xt)===null&&on===a(St)&&(Dt?(Lt(Kt),Kt=-1):Dt=!0,Nn(Vt,pn-Pn))):(on.sortIndex=jn,e(xt,on),yt||Rt||(yt=!0,En(jt))),on},c.unstable_shouldYield=Jt,c.unstable_wrapCallback=function(on){var hn=Ct;return function(){var pn=Ct;Ct=hn;try{return on.apply(this,arguments)}finally{Ct=pn}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min=function(e){var a={},d=reactExports,nt=schedulerExports,o=Object.assign;function ht(wt){for(var Et="https://reactjs.org/docs/error-decoder.html?invariant="+wt,bt=1;bt<arguments.length;bt++)Et+="&args[]="+encodeURIComponent(arguments[bt]);return"Minified React error #"+wt+"; visit "+Et+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vt=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xt=Symbol.for("react.element"),St=Symbol.for("react.portal"),Tt=Symbol.for("react.fragment"),At=Symbol.for("react.strict_mode"),Ct=Symbol.for("react.profiler"),Rt=Symbol.for("react.provider"),yt=Symbol.for("react.context"),Dt=Symbol.for("react.forward_ref"),Nt=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),Ot=Symbol.for("react.memo"),Ft=Symbol.for("react.lazy"),Vt=Symbol.for("react.offscreen"),jt=Symbol.iterator;function $t(wt){return wt===null||typeof wt!="object"?null:(wt=jt&&wt[jt]||wt["@@iterator"],typeof wt=="function"?wt:null)}function Yt(wt){if(wt==null)return null;if(typeof wt=="function")return wt.displayName||wt.name||null;if(typeof wt=="string")return wt;switch(wt){case Tt:return"Fragment";case St:return"Portal";case Ct:return"Profiler";case At:return"StrictMode";case Nt:return"Suspense";case Lt:return"SuspenseList"}if(typeof wt=="object")switch(wt.$$typeof){case yt:return(wt.displayName||"Context")+".Consumer";case Rt:return(wt._context.displayName||"Context")+".Provider";case Dt:var Et=wt.render;return wt=wt.displayName,wt||(wt=Et.displayName||Et.name||"",wt=wt!==""?"ForwardRef("+wt+")":"ForwardRef"),wt;case Ot:return Et=wt.displayName||null,Et!==null?Et:Yt(wt.type)||"Memo";case Ft:Et=wt._payload,wt=wt._init;try{return Yt(wt(Et))}catch{}}return null}function Kt(wt){var Et=wt.type;switch(wt.tag){case 24:return"Cache";case 9:return(Et.displayName||"Context")+".Consumer";case 10:return(Et._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return wt=Et.render,wt=wt.displayName||wt.name||"",Et.displayName||(wt!==""?"ForwardRef("+wt+")":"ForwardRef");case 7:return"Fragment";case 5:return Et;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yt(Et);case 8:return Et===At?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof Et=="function")return Et.displayName||Et.name||null;if(typeof Et=="string")return Et}return null}function qt(wt){var Et=wt,bt=wt;if(wt.alternate)for(;Et.return;)Et=Et.return;else{wt=Et;do Et=wt,Et.flags&4098&&(bt=Et.return),wt=Et.return;while(wt)}return Et.tag===3?bt:null}function Wt(wt){if(qt(wt)!==wt)throw Error(ht(188))}function Jt(wt){var Et=wt.alternate;if(!Et){if(Et=qt(wt),Et===null)throw Error(ht(188));return Et!==wt?null:wt}for(var bt=wt,Bt=Et;;){var Gt=bt.return;if(Gt===null)break;var Xt=Gt.alternate;if(Xt===null){if(Bt=Gt.return,Bt!==null){bt=Bt;continue}break}if(Gt.child===Xt.child){for(Xt=Gt.child;Xt;){if(Xt===bt)return Wt(Gt),wt;if(Xt===Bt)return Wt(Gt),Et;Xt=Xt.sibling}throw Error(ht(188))}if(bt.return!==Bt.return)bt=Gt,Bt=Xt;else{for(var rn=!1,_n=Gt.child;_n;){if(_n===bt){rn=!0,bt=Gt,Bt=Xt;break}if(_n===Bt){rn=!0,Bt=Gt,bt=Xt;break}_n=_n.sibling}if(!rn){for(_n=Xt.child;_n;){if(_n===bt){rn=!0,bt=Xt,Bt=Gt;break}if(_n===Bt){rn=!0,Bt=Xt,bt=Gt;break}_n=_n.sibling}if(!rn)throw Error(ht(189))}}if(bt.alternate!==Bt)throw Error(ht(190))}if(bt.tag!==3)throw Error(ht(188));return bt.stateNode.current===bt?wt:Et}function cn(wt){return wt=Jt(wt),wt!==null?sn(wt):null}function sn(wt){if(wt.tag===5||wt.tag===6)return wt;for(wt=wt.child;wt!==null;){var Et=sn(wt);if(Et!==null)return Et;wt=wt.sibling}return null}function Tn(wt){if(wt.tag===5||wt.tag===6)return wt;for(wt=wt.child;wt!==null;){if(wt.tag!==4){var Et=Tn(wt);if(Et!==null)return Et}wt=wt.sibling}return null}var Cn=Array.isArray,En=e.getPublicInstance,Nn=e.getRootHostContext,on=e.getChildHostContext,hn=e.prepareForCommit,pn=e.resetAfterCommit,Pn=e.createInstance,jn=e.appendInitialChild,ar=e.finalizeInitialChildren,An=e.prepareUpdate,Xn=e.shouldSetTextContent,or=e.createTextInstance,tr=e.scheduleTimeout,_r=e.cancelTimeout,kr=e.noTimeout,hr=e.isPrimaryRenderer,gr=e.supportsMutation,It=e.supportsPersistence,Jn=e.supportsHydration,nn=e.getInstanceFromNode,rr=e.preparePortalMount,Kn=e.getCurrentEventPriority,Qn=e.detachDeletedInstance,Fn=e.supportsMicrotasks,vr=e.scheduleMicrotask,Yn=e.supportsTestSelectors,tn=e.findFiberRoot,Qt=e.getBoundingRect,dn=e.getTextContent,In=e.isHiddenSubtree,Hn=e.matchAccessibilityRole,xn=e.setFocusIfFocusable,er=e.setupIntersectionObserver,Gn=e.appendChild,dr=e.appendChildToContainer,Nr=e.commitTextUpdate,Zn=e.commitMount,nr=e.commitUpdate,ir=e.insertBefore,Or=e.insertInContainerBefore,Er=e.removeChild,un=e.removeChildFromContainer,$n=e.resetTextContent,ur=e.hideInstance,an=e.hideTextInstance,sr=e.unhideInstance,kn=e.unhideTextInstance,Wn=e.clearContainer,xr=e.cloneInstance,pr=e.createContainerChildSet,Hr=e.appendChildToContainerChildSet,ao=e.finalizeContainerChildren,So=e.replaceContainerChildren,to=e.cloneHiddenInstance,Lo=e.cloneHiddenTextInstance,Io=e.canHydrateInstance,js=e.canHydrateTextInstance,$u=e.canHydrateSuspenseInstance,Es=e.isSuspenseInstancePending,Ur=e.isSuspenseInstanceFallback,nu=e.registerSuspenseInstanceRetry,gs=e.getNextHydratableSibling,Dl=e.getFirstHydratableChild,Wu=e.getFirstHydratableChildWithinContainer,xu=e.getFirstHydratableChildWithinSuspenseInstance,Su=e.hydrateInstance,Jp=e.hydrateTextInstance,R0=e.hydrateSuspenseInstance,em=e.getNextHydratableInstanceAfterSuspenseInstance,tm=e.commitHydratedContainer,a1=e.commitHydratedSuspenseInstance,ro=e.clearSuspenseBoundary,C2=e.clearSuspenseBoundaryFromContainer,en=e.shouldDeleteUnhydratedTailInstances,wn=e.didNotMatchHydratedContainerTextInstance,Dn=e.didNotMatchHydratedTextInstance,On;function Mn(wt){if(On===void 0)try{throw Error()}catch(bt){var Et=bt.stack.trim().match(/\n( *(at )?)/);On=Et&&Et[1]||""}return`
`+On+wt}var lr=!1;function yr(wt,Et){if(!wt||lr)return"";lr=!0;var bt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(Et)if(Et=function(){throw Error()},Object.defineProperty(Et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Et,[])}catch(cr){var Bt=cr}Reflect.construct(wt,[],Et)}else{try{Et.call()}catch(cr){Bt=cr}wt.call(Et.prototype)}else{try{throw Error()}catch(cr){Bt=cr}wt()}}catch(cr){if(cr&&Bt&&typeof cr.stack=="string"){for(var Gt=cr.stack.split(`
`),Xt=Bt.stack.split(`
`),rn=Gt.length-1,_n=Xt.length-1;1<=rn&&0<=_n&&Gt[rn]!==Xt[_n];)_n--;for(;1<=rn&&0<=_n;rn--,_n--)if(Gt[rn]!==Xt[_n]){if(rn!==1||_n!==1)do if(rn--,_n--,0>_n||Gt[rn]!==Xt[_n]){var Vn=`
`+Gt[rn].replace(" at new "," at ");return wt.displayName&&Vn.includes("<anonymous>")&&(Vn=Vn.replace("<anonymous>",wt.displayName)),Vn}while(1<=rn&&0<=_n);break}}}finally{lr=!1,Error.prepareStackTrace=bt}return(wt=wt?wt.displayName||wt.name:"")?Mn(wt):""}var Ir=Object.prototype.hasOwnProperty,br=[],Kr=-1;function Xr(wt){return{current:wt}}function Sr(wt){0>Kr||(wt.current=br[Kr],br[Kr]=null,Kr--)}function Vr(wt,Et){Kr++,br[Kr]=wt.current,wt.current=Et}var fo={},yo=Xr(fo),Un=Xr(!1),ho=fo;function $r(wt,Et){var bt=wt.type.contextTypes;if(!bt)return fo;var Bt=wt.stateNode;if(Bt&&Bt.__reactInternalMemoizedUnmaskedChildContext===Et)return Bt.__reactInternalMemoizedMaskedChildContext;var Gt={},Xt;for(Xt in bt)Gt[Xt]=Et[Xt];return Bt&&(wt=wt.stateNode,wt.__reactInternalMemoizedUnmaskedChildContext=Et,wt.__reactInternalMemoizedMaskedChildContext=Gt),Gt}function To(wt){return wt=wt.childContextTypes,wt!=null}function wo(){Sr(Un),Sr(yo)}function Ts(wt,Et,bt){if(yo.current!==fo)throw Error(ht(168));Vr(yo,Et),Vr(Un,bt)}function ru(wt,Et,bt){var Bt=wt.stateNode;if(Et=Et.childContextTypes,typeof Bt.getChildContext!="function")return bt;Bt=Bt.getChildContext();for(var Gt in Bt)if(!(Gt in Et))throw Error(ht(108,Kt(wt)||"Unknown",Gt));return o({},bt,Bt)}function Ko(wt){return wt=(wt=wt.stateNode)&&wt.__reactInternalMemoizedMergedChildContext||fo,ho=yo.current,Vr(yo,wt),Vr(Un,Un.current),!0}function wu(wt,Et,bt){var Bt=wt.stateNode;if(!Bt)throw Error(ht(169));bt?(wt=ru(wt,Et,ho),Bt.__reactInternalMemoizedMergedChildContext=wt,Sr(Un),Sr(yo),Vr(yo,wt)):Sr(Un),Vr(Un,bt)}var xo=Math.clz32?Math.clz32:Qo,fr=Math.log,bo=Math.LN2;function Qo(wt){return wt>>>=0,wt===0?32:31-(fr(wt)/bo|0)|0}var Vo=64,Mu=4194304;function As(wt){switch(wt&-wt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return wt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return wt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return wt}}function nm(wt,Et){var bt=wt.pendingLanes;if(bt===0)return 0;var Bt=0,Gt=wt.suspendedLanes,Xt=wt.pingedLanes,rn=bt&268435455;if(rn!==0){var _n=rn&~Gt;_n!==0?Bt=As(_n):(Xt&=rn,Xt!==0&&(Bt=As(Xt)))}else rn=bt&~Gt,rn!==0?Bt=As(rn):Xt!==0&&(Bt=As(Xt));if(Bt===0)return 0;if(Et!==0&&Et!==Bt&&!(Et&Gt)&&(Gt=Bt&-Bt,Xt=Et&-Et,Gt>=Xt||Gt===16&&(Xt&4194240)!==0))return Et;if(Bt&4&&(Bt|=bt&16),Et=wt.entangledLanes,Et!==0)for(wt=wt.entanglements,Et&=Bt;0<Et;)bt=31-xo(Et),Gt=1<<bt,Bt|=wt[bt],Et&=~Gt;return Bt}function q_(wt,Et){switch(wt){case 1:case 2:case 4:return Et+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Et+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R2(wt,Et){for(var bt=wt.suspendedLanes,Bt=wt.pingedLanes,Gt=wt.expirationTimes,Xt=wt.pendingLanes;0<Xt;){var rn=31-xo(Xt),_n=1<<rn,Vn=Gt[rn];Vn===-1?(!(_n&bt)||_n&Bt)&&(Gt[rn]=q_(_n,Et)):Vn<=Et&&(wt.expiredLanes|=_n),Xt&=~_n}}function xl(wt){return wt=wt.pendingLanes&-1073741825,wt!==0?wt:wt&1073741824?1073741824:0}function Sl(wt){for(var Et=[],bt=0;31>bt;bt++)Et.push(wt);return Et}function P0(wt,Et,bt){wt.pendingLanes|=Et,Et!==536870912&&(wt.suspendedLanes=0,wt.pingedLanes=0),wt=wt.eventTimes,Et=31-xo(Et),wt[Et]=bt}function Y_(wt,Et){var bt=wt.pendingLanes&~Et;wt.pendingLanes=Et,wt.suspendedLanes=0,wt.pingedLanes=0,wt.expiredLanes&=Et,wt.mutableReadLanes&=Et,wt.entangledLanes&=Et,Et=wt.entanglements;var Bt=wt.eventTimes;for(wt=wt.expirationTimes;0<bt;){var Gt=31-xo(bt),Xt=1<<Gt;Et[Gt]=0,Bt[Gt]=-1,wt[Gt]=-1,bt&=~Xt}}function l1(wt,Et){var bt=wt.entangledLanes|=Et;for(wt=wt.entanglements;bt;){var Bt=31-xo(bt),Gt=1<<Bt;Gt&Et|wt[Bt]&Et&&(wt[Bt]|=Et),bt&=~Gt}}var io=0;function P2(wt){return wt&=-wt,1<wt?4<wt?wt&268435455?16:536870912:4:1}var u1=nt.unstable_scheduleCallback,L2=nt.unstable_cancelCallback,K_=nt.unstable_shouldYield,I2=nt.unstable_requestPaint,Zo=nt.unstable_now,_p=nt.unstable_ImmediatePriority,Q_=nt.unstable_UserBlockingPriority,oo=nt.unstable_NormalPriority,Z_=nt.unstable_IdlePriority,rm=null,Ol=null;function J_(wt){if(Ol&&typeof Ol.onCommitFiberRoot=="function")try{Ol.onCommitFiberRoot(rm,wt,void 0,(wt.current.flags&128)===128)}catch{}}function ev(wt,Et){return wt===Et&&(wt!==0||1/wt===1/Et)||wt!==wt&&Et!==Et}var Fl=typeof Object.is=="function"?Object.is:ev,iu=null,im=!1,om=!1;function b2(wt){iu===null?iu=[wt]:iu.push(wt)}function tv(wt){im=!0,b2(wt)}function Bl(){if(!om&&iu!==null){om=!0;var wt=0,Et=io;try{var bt=iu;for(io=1;wt<bt.length;wt++){var Bt=bt[wt];do Bt=Bt(!0);while(Bt!==null)}iu=null,im=!1}catch(Gt){throw iu!==null&&(iu=iu.slice(wt+1)),u1(_p,Bl),Gt}finally{io=Et,om=!1}}return null}var nv=vt.ReactCurrentBatchConfig;function sm(wt,Et){if(Fl(wt,Et))return!0;if(typeof wt!="object"||wt===null||typeof Et!="object"||Et===null)return!1;var bt=Object.keys(wt),Bt=Object.keys(Et);if(bt.length!==Bt.length)return!1;for(Bt=0;Bt<bt.length;Bt++){var Gt=bt[Bt];if(!Ir.call(Et,Gt)||!Fl(wt[Gt],Et[Gt]))return!1}return!0}function rv(wt){switch(wt.tag){case 5:return Mn(wt.type);case 16:return Mn("Lazy");case 13:return Mn("Suspense");case 19:return Mn("SuspenseList");case 0:case 2:case 15:return wt=yr(wt.type,!1),wt;case 11:return wt=yr(wt.type.render,!1),wt;case 1:return wt=yr(wt.type,!0),wt;default:return""}}function wl(wt,Et){if(wt&&wt.defaultProps){Et=o({},Et),wt=wt.defaultProps;for(var bt in wt)Et[bt]===void 0&&(Et[bt]=wt[bt]);return Et}return Et}var am=Xr(null),lm=null,L0=null,c1=null;function f1(){c1=L0=lm=null}function k2(wt,Et,bt){hr?(Vr(am,Et._currentValue),Et._currentValue=bt):(Vr(am,Et._currentValue2),Et._currentValue2=bt)}function d1(wt){var Et=am.current;Sr(am),hr?wt._currentValue=Et:wt._currentValue2=Et}function h1(wt,Et,bt){for(;wt!==null;){var Bt=wt.alternate;if((wt.childLanes&Et)!==Et?(wt.childLanes|=Et,Bt!==null&&(Bt.childLanes|=Et)):Bt!==null&&(Bt.childLanes&Et)!==Et&&(Bt.childLanes|=Et),wt===bt)break;wt=wt.return}}function I0(wt,Et){lm=wt,c1=L0=null,wt=wt.dependencies,wt!==null&&wt.firstContext!==null&&(wt.lanes&Et&&(Us=!0),wt.firstContext=null)}function Xs(wt){var Et=hr?wt._currentValue:wt._currentValue2;if(c1!==wt)if(wt={context:wt,memoizedValue:Et,next:null},L0===null){if(lm===null)throw Error(ht(308));L0=wt,lm.dependencies={lanes:0,firstContext:wt}}else L0=L0.next=wt;return Et}var Ul=null,Eu=!1;function p1(wt){wt.updateQueue={baseState:wt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N2(wt,Et){wt=wt.updateQueue,Et.updateQueue===wt&&(Et.updateQueue={baseState:wt.baseState,firstBaseUpdate:wt.firstBaseUpdate,lastBaseUpdate:wt.lastBaseUpdate,shared:wt.shared,effects:wt.effects})}function ou(wt,Et){return{eventTime:wt,lane:Et,tag:0,payload:null,callback:null,next:null}}function Tu(wt,Et){var bt=wt.updateQueue;bt!==null&&(bt=bt.shared,$o!==null&&wt.mode&1&&!(po&2)?(wt=bt.interleaved,wt===null?(Et.next=Et,Ul===null?Ul=[bt]:Ul.push(bt)):(Et.next=wt.next,wt.next=Et),bt.interleaved=Et):(wt=bt.pending,wt===null?Et.next=Et:(Et.next=wt.next,wt.next=Et),bt.pending=Et))}function um(wt,Et,bt){if(Et=Et.updateQueue,Et!==null&&(Et=Et.shared,(bt&4194240)!==0)){var Bt=Et.lanes;Bt&=wt.pendingLanes,bt|=Bt,Et.lanes=bt,l1(wt,bt)}}function D2(wt,Et){var bt=wt.updateQueue,Bt=wt.alternate;if(Bt!==null&&(Bt=Bt.updateQueue,bt===Bt)){var Gt=null,Xt=null;if(bt=bt.firstBaseUpdate,bt!==null){do{var rn={eventTime:bt.eventTime,lane:bt.lane,tag:bt.tag,payload:bt.payload,callback:bt.callback,next:null};Xt===null?Gt=Xt=rn:Xt=Xt.next=rn,bt=bt.next}while(bt!==null);Xt===null?Gt=Xt=Et:Xt=Xt.next=Et}else Gt=Xt=Et;bt={baseState:Bt.baseState,firstBaseUpdate:Gt,lastBaseUpdate:Xt,shared:Bt.shared,effects:Bt.effects},wt.updateQueue=bt;return}wt=bt.lastBaseUpdate,wt===null?bt.firstBaseUpdate=Et:wt.next=Et,bt.lastBaseUpdate=Et}function cm(wt,Et,bt,Bt){var Gt=wt.updateQueue;Eu=!1;var Xt=Gt.firstBaseUpdate,rn=Gt.lastBaseUpdate,_n=Gt.shared.pending;if(_n!==null){Gt.shared.pending=null;var Vn=_n,cr=Vn.next;Vn.next=null,rn===null?Xt=cr:rn.next=cr,rn=Vn;var Dr=wt.alternate;Dr!==null&&(Dr=Dr.updateQueue,_n=Dr.lastBaseUpdate,_n!==rn&&(_n===null?Dr.firstBaseUpdate=cr:_n.next=cr,Dr.lastBaseUpdate=Vn))}if(Xt!==null){var Mr=Gt.baseState;rn=0,Dr=cr=Vn=null,_n=Xt;do{var Qr=_n.lane,ko=_n.eventTime;if((Bt&Qr)===Qr){Dr!==null&&(Dr=Dr.next={eventTime:ko,lane:0,tag:_n.tag,payload:_n.payload,callback:_n.callback,next:null});e:{var Wr=wt,Ar=_n;switch(Qr=Et,ko=bt,Ar.tag){case 1:if(Wr=Ar.payload,typeof Wr=="function"){Mr=Wr.call(ko,Mr,Qr);break e}Mr=Wr;break e;case 3:Wr.flags=Wr.flags&-65537|128;case 0:if(Wr=Ar.payload,Qr=typeof Wr=="function"?Wr.call(ko,Mr,Qr):Wr,Qr==null)break e;Mr=o({},Mr,Qr);break e;case 2:Eu=!0}}_n.callback!==null&&_n.lane!==0&&(wt.flags|=64,Qr=Gt.effects,Qr===null?Gt.effects=[_n]:Qr.push(_n))}else ko={eventTime:ko,lane:Qr,tag:_n.tag,payload:_n.payload,callback:_n.callback,next:null},Dr===null?(cr=Dr=ko,Vn=Mr):Dr=Dr.next=ko,rn|=Qr;if(_n=_n.next,_n===null){if(_n=Gt.shared.pending,_n===null)break;Qr=_n,_n=Qr.next,Qr.next=null,Gt.lastBaseUpdate=Qr,Gt.shared.pending=null}}while(1);if(Dr===null&&(Vn=Mr),Gt.baseState=Vn,Gt.firstBaseUpdate=cr,Gt.lastBaseUpdate=Dr,Et=Gt.shared.interleaved,Et!==null){Gt=Et;do rn|=Gt.lane,Gt=Gt.next;while(Gt!==Et)}else Xt===null&&(Gt.shared.lanes=0);j0|=rn,wt.lanes=rn,wt.memoizedState=Mr}}function O2(wt,Et,bt){if(wt=Et.effects,Et.effects=null,wt!==null)for(Et=0;Et<wt.length;Et++){var Bt=wt[Et],Gt=Bt.callback;if(Gt!==null){if(Bt.callback=null,Bt=bt,typeof Gt!="function")throw Error(ht(191,Gt));Gt.call(Bt)}}}var F2=new d.Component().refs;function m1(wt,Et,bt,Bt){Et=wt.memoizedState,bt=bt(Bt,Et),bt=bt==null?Et:o({},Et,bt),wt.memoizedState=bt,wt.lanes===0&&(wt.updateQueue.baseState=bt)}var fm={isMounted:function(wt){return(wt=wt._reactInternals)?qt(wt)===wt:!1},enqueueSetState:function(wt,Et,bt){wt=wt._reactInternals;var Bt=vs(),Gt=Iu(wt),Xt=ou(Bt,Gt);Xt.payload=Et,bt!=null&&(Xt.callback=bt),Tu(wt,Xt),Et=na(wt,Gt,Bt),Et!==null&&um(Et,wt,Gt)},enqueueReplaceState:function(wt,Et,bt){wt=wt._reactInternals;var Bt=vs(),Gt=Iu(wt),Xt=ou(Bt,Gt);Xt.tag=1,Xt.payload=Et,bt!=null&&(Xt.callback=bt),Tu(wt,Xt),Et=na(wt,Gt,Bt),Et!==null&&um(Et,wt,Gt)},enqueueForceUpdate:function(wt,Et){wt=wt._reactInternals;var bt=vs(),Bt=Iu(wt),Gt=ou(bt,Bt);Gt.tag=2,Et!=null&&(Gt.callback=Et),Tu(wt,Gt),Et=na(wt,Bt,bt),Et!==null&&um(Et,wt,Bt)}};function B2(wt,Et,bt,Bt,Gt,Xt,rn){return wt=wt.stateNode,typeof wt.shouldComponentUpdate=="function"?wt.shouldComponentUpdate(Bt,Xt,rn):Et.prototype&&Et.prototype.isPureReactComponent?!sm(bt,Bt)||!sm(Gt,Xt):!0}function U2(wt,Et,bt){var Bt=!1,Gt=fo,Xt=Et.contextType;return typeof Xt=="object"&&Xt!==null?Xt=Xs(Xt):(Gt=To(Et)?ho:yo.current,Bt=Et.contextTypes,Xt=(Bt=Bt!=null)?$r(wt,Gt):fo),Et=new Et(bt,Xt),wt.memoizedState=Et.state!==null&&Et.state!==void 0?Et.state:null,Et.updater=fm,wt.stateNode=Et,Et._reactInternals=wt,Bt&&(wt=wt.stateNode,wt.__reactInternalMemoizedUnmaskedChildContext=Gt,wt.__reactInternalMemoizedMaskedChildContext=Xt),Et}function z2(wt,Et,bt,Bt){wt=Et.state,typeof Et.componentWillReceiveProps=="function"&&Et.componentWillReceiveProps(bt,Bt),typeof Et.UNSAFE_componentWillReceiveProps=="function"&&Et.UNSAFE_componentWillReceiveProps(bt,Bt),Et.state!==wt&&fm.enqueueReplaceState(Et,Et.state,null)}function g1(wt,Et,bt,Bt){var Gt=wt.stateNode;Gt.props=bt,Gt.state=wt.memoizedState,Gt.refs=F2,p1(wt);var Xt=Et.contextType;typeof Xt=="object"&&Xt!==null?Gt.context=Xs(Xt):(Xt=To(Et)?ho:yo.current,Gt.context=$r(wt,Xt)),Gt.state=wt.memoizedState,Xt=Et.getDerivedStateFromProps,typeof Xt=="function"&&(m1(wt,Et,Xt,bt),Gt.state=wt.memoizedState),typeof Et.getDerivedStateFromProps=="function"||typeof Gt.getSnapshotBeforeUpdate=="function"||typeof Gt.UNSAFE_componentWillMount!="function"&&typeof Gt.componentWillMount!="function"||(Et=Gt.state,typeof Gt.componentWillMount=="function"&&Gt.componentWillMount(),typeof Gt.UNSAFE_componentWillMount=="function"&&Gt.UNSAFE_componentWillMount(),Et!==Gt.state&&fm.enqueueReplaceState(Gt,Gt.state,null),cm(wt,bt,Gt,Bt),Gt.state=wt.memoizedState),typeof Gt.componentDidMount=="function"&&(wt.flags|=4194308)}var b0=[],k0=0,dm=null,hm=0,qs=[],Ys=0,ju=null,su=1,au="";function Xu(wt,Et){b0[k0++]=hm,b0[k0++]=dm,dm=wt,hm=Et}function V2(wt,Et,bt){qs[Ys++]=su,qs[Ys++]=au,qs[Ys++]=ju,ju=wt;var Bt=su;wt=au;var Gt=32-xo(Bt)-1;Bt&=~(1<<Gt),bt+=1;var Xt=32-xo(Et)+Gt;if(30<Xt){var rn=Gt-Gt%5;Xt=(Bt&(1<<rn)-1).toString(32),Bt>>=rn,Gt-=rn,su=1<<32-xo(Et)+Gt|bt<<Gt|Bt,au=Xt+wt}else su=1<<Xt|bt<<Gt|Bt,au=wt}function _1(wt){wt.return!==null&&(Xu(wt,1),V2(wt,1,0))}function y1(wt){for(;wt===dm;)dm=b0[--k0],b0[k0]=null,hm=b0[--k0],b0[k0]=null;for(;wt===ju;)ju=qs[--Ys],qs[Ys]=null,au=qs[--Ys],qs[Ys]=null,su=qs[--Ys],qs[Ys]=null}var Fs=null,Bs=null,Oo=!1,vp=!1,Ml=null;function G2(wt,Et){var bt=xa(5,null,null,0);bt.elementType="DELETED",bt.stateNode=Et,bt.return=wt,Et=wt.deletions,Et===null?(wt.deletions=[bt],wt.flags|=16):Et.push(bt)}function H2(wt,Et){switch(wt.tag){case 5:return Et=Io(Et,wt.type,wt.pendingProps),Et!==null?(wt.stateNode=Et,Fs=wt,Bs=Dl(Et),!0):!1;case 6:return Et=js(Et,wt.pendingProps),Et!==null?(wt.stateNode=Et,Fs=wt,Bs=null,!0):!1;case 13:if(Et=$u(Et),Et!==null){var bt=ju!==null?{id:su,overflow:au}:null;return wt.memoizedState={dehydrated:Et,treeContext:bt,retryLane:1073741824},bt=xa(18,null,null,0),bt.stateNode=Et,bt.return=wt,wt.child=bt,Fs=wt,Bs=null,!0}return!1;default:return!1}}function x1(wt){return(wt.mode&1)!==0&&(wt.flags&128)===0}function S1(wt){if(Oo){var Et=Bs;if(Et){var bt=Et;if(!H2(wt,Et)){if(x1(wt))throw Error(ht(418));Et=gs(bt);var Bt=Fs;Et&&H2(wt,Et)?G2(Bt,bt):(wt.flags=wt.flags&-4097|2,Oo=!1,Fs=wt)}}else{if(x1(wt))throw Error(ht(418));wt.flags=wt.flags&-4097|2,Oo=!1,Fs=wt}}}function $2(wt){for(wt=wt.return;wt!==null&&wt.tag!==5&&wt.tag!==3&&wt.tag!==13;)wt=wt.return;Fs=wt}function yp(wt){if(!Jn||wt!==Fs)return!1;if(!Oo)return $2(wt),Oo=!0,!1;if(wt.tag!==3&&(wt.tag!==5||en(wt.type)&&!Xn(wt.type,wt.memoizedProps))){var Et=Bs;if(Et){if(x1(wt)){for(wt=Bs;wt;)wt=gs(wt);throw Error(ht(418))}for(;Et;)G2(wt,Et),Et=gs(Et)}}if($2(wt),wt.tag===13){if(!Jn)throw Error(ht(316));if(wt=wt.memoizedState,wt=wt!==null?wt.dehydrated:null,!wt)throw Error(ht(317));Bs=em(wt)}else Bs=Fs?gs(wt.stateNode):null;return!0}function qu(){Jn&&(Bs=Fs=null,vp=Oo=!1)}function pm(wt){Ml===null?Ml=[wt]:Ml.push(wt)}function N0(wt,Et,bt){if(wt=bt.ref,wt!==null&&typeof wt!="function"&&typeof wt!="object"){if(bt._owner){if(bt=bt._owner,bt){if(bt.tag!==1)throw Error(ht(309));var Bt=bt.stateNode}if(!Bt)throw Error(ht(147,wt));var Gt=Bt,Xt=""+wt;return Et!==null&&Et.ref!==null&&typeof Et.ref=="function"&&Et.ref._stringRef===Xt?Et.ref:(Et=function(rn){var _n=Gt.refs;_n===F2&&(_n=Gt.refs={}),rn===null?delete _n[Xt]:_n[Xt]=rn},Et._stringRef=Xt,Et)}if(typeof wt!="string")throw Error(ht(284));if(!bt._owner)throw Error(ht(290,wt))}return wt}function xp(wt,Et){throw wt=Object.prototype.toString.call(Et),Error(ht(31,wt==="[object Object]"?"object with keys {"+Object.keys(Et).join(", ")+"}":wt))}function w1(wt){var Et=wt._init;return Et(wt._payload)}function M1(wt){function Et(Ln,Sn){if(wt){var Bn=Ln.deletions;Bn===null?(Ln.deletions=[Sn],Ln.flags|=16):Bn.push(Sn)}}function bt(Ln,Sn){if(!wt)return null;for(;Sn!==null;)Et(Ln,Sn),Sn=Sn.sibling;return null}function Bt(Ln,Sn){for(Ln=new Map;Sn!==null;)Sn.key!==null?Ln.set(Sn.key,Sn):Ln.set(Sn.index,Sn),Sn=Sn.sibling;return Ln}function Gt(Ln,Sn){return Ln=ba(Ln,Sn),Ln.index=0,Ln.sibling=null,Ln}function Xt(Ln,Sn,Bn){return Ln.index=Bn,wt?(Bn=Ln.alternate,Bn!==null?(Bn=Bn.index,Bn<Sn?(Ln.flags|=2,Sn):Bn):(Ln.flags|=2,Sn)):(Ln.flags|=1048576,Sn)}function rn(Ln){return wt&&Ln.alternate===null&&(Ln.flags|=2),Ln}function _n(Ln,Sn,Bn,Pr){return Sn===null||Sn.tag!==6?(Sn=jo(Bn,Ln.mode,Pr),Sn.return=Ln,Sn):(Sn=Gt(Sn,Bn),Sn.return=Ln,Sn)}function Vn(Ln,Sn,Bn,Pr){var jr=Bn.type;return jr===Tt?Dr(Ln,Sn,Bn.props.children,Pr,Bn.key):Sn!==null&&(Sn.elementType===jr||typeof jr=="object"&&jr!==null&&jr.$$typeof===Ft&&w1(jr)===Sn.type)?(Pr=Gt(Sn,Bn.props),Pr.ref=N0(Ln,Sn,Bn),Pr.return=Ln,Pr):(Pr=Bm(Bn.type,Bn.key,Bn.props,null,Ln.mode,Pr),Pr.ref=N0(Ln,Sn,Bn),Pr.return=Ln,Pr)}function cr(Ln,Sn,Bn,Pr){return Sn===null||Sn.tag!==4||Sn.stateNode.containerInfo!==Bn.containerInfo||Sn.stateNode.implementation!==Bn.implementation?(Sn=Cl(Bn,Ln.mode,Pr),Sn.return=Ln,Sn):(Sn=Gt(Sn,Bn.children||[]),Sn.return=Ln,Sn)}function Dr(Ln,Sn,Bn,Pr,jr){return Sn===null||Sn.tag!==7?(Sn=ds(Bn,Ln.mode,Pr,jr),Sn.return=Ln,Sn):(Sn=Gt(Sn,Bn),Sn.return=Ln,Sn)}function Mr(Ln,Sn,Bn){if(typeof Sn=="string"&&Sn!==""||typeof Sn=="number")return Sn=jo(""+Sn,Ln.mode,Bn),Sn.return=Ln,Sn;if(typeof Sn=="object"&&Sn!==null){switch(Sn.$$typeof){case xt:return Bn=Bm(Sn.type,Sn.key,Sn.props,null,Ln.mode,Bn),Bn.ref=N0(Ln,null,Sn),Bn.return=Ln,Bn;case St:return Sn=Cl(Sn,Ln.mode,Bn),Sn.return=Ln,Sn;case Ft:var Pr=Sn._init;return Mr(Ln,Pr(Sn._payload),Bn)}if(Cn(Sn)||$t(Sn))return Sn=ds(Sn,Ln.mode,Bn,null),Sn.return=Ln,Sn;xp(Ln,Sn)}return null}function Qr(Ln,Sn,Bn,Pr){var jr=Sn!==null?Sn.key:null;if(typeof Bn=="string"&&Bn!==""||typeof Bn=="number")return jr!==null?null:_n(Ln,Sn,""+Bn,Pr);if(typeof Bn=="object"&&Bn!==null){switch(Bn.$$typeof){case xt:return Bn.key===jr?Vn(Ln,Sn,Bn,Pr):null;case St:return Bn.key===jr?cr(Ln,Sn,Bn,Pr):null;case Ft:return jr=Bn._init,Qr(Ln,Sn,jr(Bn._payload),Pr)}if(Cn(Bn)||$t(Bn))return jr!==null?null:Dr(Ln,Sn,Bn,Pr,null);xp(Ln,Bn)}return null}function ko(Ln,Sn,Bn,Pr,jr){if(typeof Pr=="string"&&Pr!==""||typeof Pr=="number")return Ln=Ln.get(Bn)||null,_n(Sn,Ln,""+Pr,jr);if(typeof Pr=="object"&&Pr!==null){switch(Pr.$$typeof){case xt:return Ln=Ln.get(Pr.key===null?Bn:Pr.key)||null,Vn(Sn,Ln,Pr,jr);case St:return Ln=Ln.get(Pr.key===null?Bn:Pr.key)||null,cr(Sn,Ln,Pr,jr);case Ft:var co=Pr._init;return ko(Ln,Sn,Bn,co(Pr._payload),jr)}if(Cn(Pr)||$t(Pr))return Ln=Ln.get(Bn)||null,Dr(Sn,Ln,Pr,jr,null);xp(Sn,Pr)}return null}function Wr(Ln,Sn,Bn,Pr){for(var jr=null,co=null,lo=Sn,wr=Sn=0,Jo=null;lo!==null&&wr<Bn.length;wr++){lo.index>wr?(Jo=lo,lo=null):Jo=lo.sibling;var Co=Qr(Ln,lo,Bn[wr],Pr);if(Co===null){lo===null&&(lo=Jo);break}wt&&lo&&Co.alternate===null&&Et(Ln,lo),Sn=Xt(Co,Sn,wr),co===null?jr=Co:co.sibling=Co,co=Co,lo=Jo}if(wr===Bn.length)return bt(Ln,lo),Oo&&Xu(Ln,wr),jr;if(lo===null){for(;wr<Bn.length;wr++)lo=Mr(Ln,Bn[wr],Pr),lo!==null&&(Sn=Xt(lo,Sn,wr),co===null?jr=lo:co.sibling=lo,co=lo);return Oo&&Xu(Ln,wr),jr}for(lo=Bt(Ln,lo);wr<Bn.length;wr++)Jo=ko(lo,Ln,wr,Bn[wr],Pr),Jo!==null&&(wt&&Jo.alternate!==null&&lo.delete(Jo.key===null?wr:Jo.key),Sn=Xt(Jo,Sn,wr),co===null?jr=Jo:co.sibling=Jo,co=Jo);return wt&&lo.forEach(function(eo){return Et(Ln,eo)}),Oo&&Xu(Ln,wr),jr}function Ar(Ln,Sn,Bn,Pr){var jr=$t(Bn);if(typeof jr!="function")throw Error(ht(150));if(Bn=jr.call(Bn),Bn==null)throw Error(ht(151));for(var co=jr=null,lo=Sn,wr=Sn=0,Jo=null,Co=Bn.next();lo!==null&&!Co.done;wr++,Co=Bn.next()){lo.index>wr?(Jo=lo,lo=null):Jo=lo.sibling;var eo=Qr(Ln,lo,Co.value,Pr);if(eo===null){lo===null&&(lo=Jo);break}wt&&lo&&eo.alternate===null&&Et(Ln,lo),Sn=Xt(eo,Sn,wr),co===null?jr=eo:co.sibling=eo,co=eo,lo=Jo}if(Co.done)return bt(Ln,lo),Oo&&Xu(Ln,wr),jr;if(lo===null){for(;!Co.done;wr++,Co=Bn.next())Co=Mr(Ln,Co.value,Pr),Co!==null&&(Sn=Xt(Co,Sn,wr),co===null?jr=Co:co.sibling=Co,co=Co);return Oo&&Xu(Ln,wr),jr}for(lo=Bt(Ln,lo);!Co.done;wr++,Co=Bn.next())Co=ko(lo,Ln,wr,Co.value,Pr),Co!==null&&(wt&&Co.alternate!==null&&lo.delete(Co.key===null?wr:Co.key),Sn=Xt(Co,Sn,wr),co===null?jr=Co:co.sibling=Co,co=Co);return wt&&lo.forEach(function(Av){return Et(Ln,Av)}),Oo&&Xu(Ln,wr),jr}function Gs(Ln,Sn,Bn,Pr){if(typeof Bn=="object"&&Bn!==null&&Bn.type===Tt&&Bn.key===null&&(Bn=Bn.props.children),typeof Bn=="object"&&Bn!==null){switch(Bn.$$typeof){case xt:e:{for(var jr=Bn.key,co=Sn;co!==null;){if(co.key===jr){if(jr=Bn.type,jr===Tt){if(co.tag===7){bt(Ln,co.sibling),Sn=Gt(co,Bn.props.children),Sn.return=Ln,Ln=Sn;break e}}else if(co.elementType===jr||typeof jr=="object"&&jr!==null&&jr.$$typeof===Ft&&w1(jr)===co.type){bt(Ln,co.sibling),Sn=Gt(co,Bn.props),Sn.ref=N0(Ln,co,Bn),Sn.return=Ln,Ln=Sn;break e}bt(Ln,co);break}else Et(Ln,co);co=co.sibling}Bn.type===Tt?(Sn=ds(Bn.props.children,Ln.mode,Pr,Bn.key),Sn.return=Ln,Ln=Sn):(Pr=Bm(Bn.type,Bn.key,Bn.props,null,Ln.mode,Pr),Pr.ref=N0(Ln,Sn,Bn),Pr.return=Ln,Ln=Pr)}return rn(Ln);case St:e:{for(co=Bn.key;Sn!==null;){if(Sn.key===co)if(Sn.tag===4&&Sn.stateNode.containerInfo===Bn.containerInfo&&Sn.stateNode.implementation===Bn.implementation){bt(Ln,Sn.sibling),Sn=Gt(Sn,Bn.children||[]),Sn.return=Ln,Ln=Sn;break e}else{bt(Ln,Sn);break}else Et(Ln,Sn);Sn=Sn.sibling}Sn=Cl(Bn,Ln.mode,Pr),Sn.return=Ln,Ln=Sn}return rn(Ln);case Ft:return co=Bn._init,Gs(Ln,Sn,co(Bn._payload),Pr)}if(Cn(Bn))return Wr(Ln,Sn,Bn,Pr);if($t(Bn))return Ar(Ln,Sn,Bn,Pr);xp(Ln,Bn)}return typeof Bn=="string"&&Bn!==""||typeof Bn=="number"?(Bn=""+Bn,Sn!==null&&Sn.tag===6?(bt(Ln,Sn.sibling),Sn=Gt(Sn,Bn),Sn.return=Ln,Ln=Sn):(bt(Ln,Sn),Sn=jo(Bn,Ln.mode,Pr),Sn.return=Ln,Ln=Sn),rn(Ln)):bt(Ln,Sn)}return Gs}var D0=M1(!0),W2=M1(!1),Sp={},Ks=Xr(Sp),Uo=Xr(Sp),O0=Xr(Sp);function zl(wt){if(wt===Sp)throw Error(ht(174));return wt}function Qs(wt,Et){Vr(O0,Et),Vr(Uo,wt),Vr(Ks,Sp),wt=Nn(Et),Sr(Ks),Vr(Ks,wt)}function Yu(){Sr(Ks),Sr(Uo),Sr(O0)}function E1(wt){var Et=zl(O0.current),bt=zl(Ks.current);Et=on(bt,wt.type,Et),bt!==Et&&(Vr(Uo,wt),Vr(Ks,Et))}function mm(wt){Uo.current===wt&&(Sr(Ks),Sr(Uo))}var Fo=Xr(0);function Vl(wt){for(var Et=wt;Et!==null;){if(Et.tag===13){var bt=Et.memoizedState;if(bt!==null&&(bt=bt.dehydrated,bt===null||Es(bt)||Ur(bt)))return Et}else if(Et.tag===19&&Et.memoizedProps.revealOrder!==void 0){if(Et.flags&128)return Et}else if(Et.child!==null){Et.child.return=Et,Et=Et.child;continue}if(Et===wt)break;for(;Et.sibling===null;){if(Et.return===null||Et.return===wt)return null;Et=Et.return}Et.sibling.return=Et.return,Et=Et.sibling}return null}var Ao=[];function Zs(){for(var wt=0;wt<Ao.length;wt++){var Et=Ao[wt];hr?Et._workInProgressVersionPrimary=null:Et._workInProgressVersionSecondary=null}Ao.length=0}var F0=vt.ReactCurrentDispatcher,es=vt.ReactCurrentBatchConfig,B0=0,zo=null,as=null,qo=null,Cs=!1,go=!1,U0=0,j2=0;function ls(){throw Error(ht(321))}function T1(wt,Et){if(Et===null)return!1;for(var bt=0;bt<Et.length&&bt<wt.length;bt++)if(!Fl(wt[bt],Et[bt]))return!1;return!0}function gm(wt,Et,bt,Bt,Gt,Xt){if(B0=Xt,zo=Et,Et.memoizedState=null,Et.updateQueue=null,Et.lanes=0,F0.current=wt===null||wt.memoizedState===null?ov:sv,wt=bt(Bt,Gt),go){Xt=0;do{if(go=!1,U0=0,25<=Xt)throw Error(ht(301));Xt+=1,qo=as=null,Et.updateQueue=null,F0.current=k1,wt=bt(Bt,Gt)}while(go)}if(F0.current=V0,Et=as!==null&&as.next!==null,B0=0,qo=as=zo=null,Cs=!1,Et)throw Error(ht(300));return wt}function A1(){var wt=U0!==0;return U0=0,wt}function lu(){var wt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qo===null?zo.memoizedState=qo=wt:qo=qo.next=wt,qo}function Gl(){if(as===null){var wt=zo.alternate;wt=wt!==null?wt.memoizedState:null}else wt=as.next;var Et=qo===null?zo.memoizedState:qo.next;if(Et!==null)qo=Et,as=wt;else{if(wt===null)throw Error(ht(310));as=wt,wt={memoizedState:as.memoizedState,baseState:as.baseState,baseQueue:as.baseQueue,queue:as.queue,next:null},qo===null?zo.memoizedState=qo=wt:qo=qo.next=wt}return qo}function Ku(wt,Et){return typeof Et=="function"?Et(wt):Et}function wp(wt){var Et=Gl(),bt=Et.queue;if(bt===null)throw Error(ht(311));bt.lastRenderedReducer=wt;var Bt=as,Gt=Bt.baseQueue,Xt=bt.pending;if(Xt!==null){if(Gt!==null){var rn=Gt.next;Gt.next=Xt.next,Xt.next=rn}Bt.baseQueue=Gt=Xt,bt.pending=null}if(Gt!==null){Xt=Gt.next,Bt=Bt.baseState;var _n=rn=null,Vn=null,cr=Xt;do{var Dr=cr.lane;if((B0&Dr)===Dr)Vn!==null&&(Vn=Vn.next={lane:0,action:cr.action,hasEagerState:cr.hasEagerState,eagerState:cr.eagerState,next:null}),Bt=cr.hasEagerState?cr.eagerState:wt(Bt,cr.action);else{var Mr={lane:Dr,action:cr.action,hasEagerState:cr.hasEagerState,eagerState:cr.eagerState,next:null};Vn===null?(_n=Vn=Mr,rn=Bt):Vn=Vn.next=Mr,zo.lanes|=Dr,j0|=Dr}cr=cr.next}while(cr!==null&&cr!==Xt);Vn===null?rn=Bt:Vn.next=_n,Fl(Bt,Et.memoizedState)||(Us=!0),Et.memoizedState=Bt,Et.baseState=rn,Et.baseQueue=Vn,bt.lastRenderedState=Bt}if(wt=bt.interleaved,wt!==null){Gt=wt;do Xt=Gt.lane,zo.lanes|=Xt,j0|=Xt,Gt=Gt.next;while(Gt!==wt)}else Gt===null&&(bt.lanes=0);return[Et.memoizedState,bt.dispatch]}function _s(wt){var Et=Gl(),bt=Et.queue;if(bt===null)throw Error(ht(311));bt.lastRenderedReducer=wt;var Bt=bt.dispatch,Gt=bt.pending,Xt=Et.memoizedState;if(Gt!==null){bt.pending=null;var rn=Gt=Gt.next;do Xt=wt(Xt,rn.action),rn=rn.next;while(rn!==Gt);Fl(Xt,Et.memoizedState)||(Us=!0),Et.memoizedState=Xt,Et.baseQueue===null&&(Et.baseState=Xt),bt.lastRenderedState=Xt}return[Xt,Bt]}function Hl(){}function ts(wt,Et){var bt=zo,Bt=Gl(),Gt=Et(),Xt=!Fl(Bt.memoizedState,Gt);if(Xt&&(Bt.memoizedState=Gt,Us=!0),Bt=Bt.queue,Zu(Au.bind(null,bt,Bt,wt),[wt]),Bt.getSnapshot!==Et||Xt||qo!==null&&qo.memoizedState.tag&1){if(bt.flags|=2048,Qu(9,R1.bind(null,bt,Bt,Gt,Et),void 0,null),$o===null)throw Error(ht(349));B0&30||C1(bt,Et,Gt)}return Gt}function C1(wt,Et,bt){wt.flags|=16384,wt={getSnapshot:Et,value:bt},Et=zo.updateQueue,Et===null?(Et={lastEffect:null,stores:null},zo.updateQueue=Et,Et.stores=[wt]):(bt=Et.stores,bt===null?Et.stores=[wt]:bt.push(wt))}function R1(wt,Et,bt,Bt){Et.value=bt,Et.getSnapshot=Bt,$l(Et)&&na(wt,1,-1)}function Au(wt,Et,bt){return bt(function(){$l(Et)&&na(wt,1,-1)})}function $l(wt){var Et=wt.getSnapshot;wt=wt.value;try{var bt=Et();return!Fl(wt,bt)}catch{return!0}}function uu(wt){var Et=lu();return typeof wt=="function"&&(wt=wt()),Et.memoizedState=Et.baseState=wt,wt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ku,lastRenderedState:wt},Et.queue=wt,wt=wt.dispatch=Ju.bind(null,zo,wt),[Et.memoizedState,wt]}function Qu(wt,Et,bt,Bt){return wt={tag:wt,create:Et,destroy:bt,deps:Bt,next:null},Et=zo.updateQueue,Et===null?(Et={lastEffect:null,stores:null},zo.updateQueue=Et,Et.lastEffect=wt.next=wt):(bt=Et.lastEffect,bt===null?Et.lastEffect=wt.next=wt:(Bt=bt.next,bt.next=wt,wt.next=Bt,Et.lastEffect=wt)),wt}function _m(){return Gl().memoizedState}function vm(wt,Et,bt,Bt){var Gt=lu();zo.flags|=wt,Gt.memoizedState=Qu(1|Et,bt,void 0,Bt===void 0?null:Bt)}function ym(wt,Et,bt,Bt){var Gt=Gl();Bt=Bt===void 0?null:Bt;var Xt=void 0;if(as!==null){var rn=as.memoizedState;if(Xt=rn.destroy,Bt!==null&&T1(Bt,rn.deps)){Gt.memoizedState=Qu(Et,bt,Xt,Bt);return}}zo.flags|=wt,Gt.memoizedState=Qu(1|Et,bt,Xt,Bt)}function P1(wt,Et){return vm(8390656,8,wt,Et)}function Zu(wt,Et){return ym(2048,8,wt,Et)}function xm(wt,Et){return ym(4,2,wt,Et)}function L1(wt,Et){return ym(4,4,wt,Et)}function Js(wt,Et){if(typeof Et=="function")return wt=wt(),Et(wt),function(){Et(null)};if(Et!=null)return wt=wt(),Et.current=wt,function(){Et.current=null}}function I1(wt,Et,bt){return bt=bt!=null?bt.concat([wt]):null,ym(4,4,Js.bind(null,Et,wt),bt)}function Cu(){}function z0(wt,Et){var bt=Gl();Et=Et===void 0?null:Et;var Bt=bt.memoizedState;return Bt!==null&&Et!==null&&T1(Et,Bt[1])?Bt[0]:(bt.memoizedState=[wt,Et],wt)}function b1(wt,Et){var bt=Gl();Et=Et===void 0?null:Et;var Bt=bt.memoizedState;return Bt!==null&&Et!==null&&T1(Et,Bt[1])?Bt[0]:(wt=wt(),bt.memoizedState=[wt,Et],wt)}function iv(wt,Et){var bt=io;io=bt!==0&&4>bt?bt:4,wt(!0);var Bt=es.transition;es.transition={};try{wt(!1),Et()}finally{io=bt,es.transition=Bt}}function Go(){return Gl().memoizedState}function cu(wt,Et,bt){var Bt=Iu(wt);bt={lane:Bt,action:bt,hasEagerState:!1,eagerState:null,next:null},Ru(wt)?_c(Et,bt):(El(wt,Et,bt),bt=vs(),wt=na(wt,Bt,bt),wt!==null&&e0(wt,Et,Bt))}function Ju(wt,Et,bt){var Bt=Iu(wt),Gt={lane:Bt,action:bt,hasEagerState:!1,eagerState:null,next:null};if(Ru(wt))_c(Et,Gt);else{El(wt,Et,Gt);var Xt=wt.alternate;if(wt.lanes===0&&(Xt===null||Xt.lanes===0)&&(Xt=Et.lastRenderedReducer,Xt!==null))try{var rn=Et.lastRenderedState,_n=Xt(rn,bt);if(Gt.hasEagerState=!0,Gt.eagerState=_n,Fl(_n,rn))return}catch{}finally{}bt=vs(),wt=na(wt,Bt,bt),wt!==null&&e0(wt,Et,Bt)}}function Ru(wt){var Et=wt.alternate;return wt===zo||Et!==null&&Et===zo}function _c(wt,Et){go=Cs=!0;var bt=wt.pending;bt===null?Et.next=Et:(Et.next=bt.next,bt.next=Et),wt.pending=Et}function El(wt,Et,bt){$o!==null&&wt.mode&1&&!(po&2)?(wt=Et.interleaved,wt===null?(bt.next=bt,Ul===null?Ul=[Et]:Ul.push(Et)):(bt.next=wt.next,wt.next=bt),Et.interleaved=bt):(wt=Et.pending,wt===null?bt.next=bt:(bt.next=wt.next,wt.next=bt),Et.pending=bt)}function e0(wt,Et,bt){if(bt&4194240){var Bt=Et.lanes;Bt&=wt.pendingLanes,bt|=Bt,Et.lanes=bt,l1(wt,bt)}}var V0={readContext:Xs,useCallback:ls,useContext:ls,useEffect:ls,useImperativeHandle:ls,useInsertionEffect:ls,useLayoutEffect:ls,useMemo:ls,useReducer:ls,useRef:ls,useState:ls,useDebugValue:ls,useDeferredValue:ls,useTransition:ls,useMutableSource:ls,useSyncExternalStore:ls,useId:ls,unstable_isNewReconciler:!1},ov={readContext:Xs,useCallback:function(wt,Et){return lu().memoizedState=[wt,Et===void 0?null:Et],wt},useContext:Xs,useEffect:P1,useImperativeHandle:function(wt,Et,bt){return bt=bt!=null?bt.concat([wt]):null,vm(4194308,4,Js.bind(null,Et,wt),bt)},useLayoutEffect:function(wt,Et){return vm(4194308,4,wt,Et)},useInsertionEffect:function(wt,Et){return vm(4,2,wt,Et)},useMemo:function(wt,Et){var bt=lu();return Et=Et===void 0?null:Et,wt=wt(),bt.memoizedState=[wt,Et],wt},useReducer:function(wt,Et,bt){var Bt=lu();return Et=bt!==void 0?bt(Et):Et,Bt.memoizedState=Bt.baseState=Et,wt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wt,lastRenderedState:Et},Bt.queue=wt,wt=wt.dispatch=cu.bind(null,zo,wt),[Bt.memoizedState,wt]},useRef:function(wt){var Et=lu();return wt={current:wt},Et.memoizedState=wt},useState:uu,useDebugValue:Cu,useDeferredValue:function(wt){var Et=uu(wt),bt=Et[0],Bt=Et[1];return P1(function(){var Gt=es.transition;es.transition={};try{Bt(wt)}finally{es.transition=Gt}},[wt]),bt},useTransition:function(){var wt=uu(!1),Et=wt[0];return wt=iv.bind(null,wt[1]),lu().memoizedState=wt,[Et,wt]},useMutableSource:function(){},useSyncExternalStore:function(wt,Et,bt){var Bt=zo,Gt=lu();if(Oo){if(bt===void 0)throw Error(ht(407));bt=bt()}else{if(bt=Et(),$o===null)throw Error(ht(349));B0&30||C1(Bt,Et,bt)}Gt.memoizedState=bt;var Xt={value:bt,getSnapshot:Et};return Gt.queue=Xt,P1(Au.bind(null,Bt,Xt,wt),[wt]),Bt.flags|=2048,Qu(9,R1.bind(null,Bt,Xt,bt,Et),void 0,null),bt},useId:function(){var wt=lu(),Et=$o.identifierPrefix;if(Oo){var bt=au,Bt=su;bt=(Bt&~(1<<32-xo(Bt)-1)).toString(32)+bt,Et=":"+Et+"R"+bt,bt=U0++,0<bt&&(Et+="H"+bt.toString(32)),Et+=":"}else bt=j2++,Et=":"+Et+"r"+bt.toString(32)+":";return wt.memoizedState=Et},unstable_isNewReconciler:!1},sv={readContext:Xs,useCallback:z0,useContext:Xs,useEffect:Zu,useImperativeHandle:I1,useInsertionEffect:xm,useLayoutEffect:L1,useMemo:b1,useReducer:wp,useRef:_m,useState:function(){return wp(Ku)},useDebugValue:Cu,useDeferredValue:function(wt){var Et=wp(Ku),bt=Et[0],Bt=Et[1];return Zu(function(){var Gt=es.transition;es.transition={};try{Bt(wt)}finally{es.transition=Gt}},[wt]),bt},useTransition:function(){var wt=wp(Ku)[0],Et=Gl().memoizedState;return[wt,Et]},useMutableSource:Hl,useSyncExternalStore:ts,useId:Go,unstable_isNewReconciler:!1},k1={readContext:Xs,useCallback:z0,useContext:Xs,useEffect:Zu,useImperativeHandle:I1,useInsertionEffect:xm,useLayoutEffect:L1,useMemo:b1,useReducer:_s,useRef:_m,useState:function(){return _s(Ku)},useDebugValue:Cu,useDeferredValue:function(wt){var Et=_s(Ku),bt=Et[0],Bt=Et[1];return Zu(function(){var Gt=es.transition;es.transition={};try{Bt(wt)}finally{es.transition=Gt}},[wt]),bt},useTransition:function(){var wt=_s(Ku)[0],Et=Gl().memoizedState;return[wt,Et]},useMutableSource:Hl,useSyncExternalStore:ts,useId:Go,unstable_isNewReconciler:!1};function Mp(wt,Et){try{var bt="",Bt=Et;do bt+=rv(Bt),Bt=Bt.return;while(Bt);var Gt=bt}catch(Xt){Gt=`
Error generating stack: `+Xt.message+`
`+Xt.stack}return{value:wt,source:Et,stack:Gt}}function N1(wt,Et){try{console.error(Et.value)}catch(bt){setTimeout(function(){throw bt})}}var X2=typeof WeakMap=="function"?WeakMap:Map;function Ep(wt,Et,bt){bt=ou(-1,bt),bt.tag=3,bt.payload={element:null};var Bt=Et.value;return bt.callback=function(){km||(km=!0,J1=Bt),N1(wt,Et)},bt}function q2(wt,Et,bt){bt=ou(-1,bt),bt.tag=3;var Bt=wt.type.getDerivedStateFromError;if(typeof Bt=="function"){var Gt=Et.value;bt.payload=function(){return Bt(Gt)},bt.callback=function(){N1(wt,Et)}}var Xt=wt.stateNode;return Xt!==null&&typeof Xt.componentDidCatch=="function"&&(bt.callback=function(){N1(wt,Et),typeof Bt!="function"&&(Pu===null?Pu=new Set([this]):Pu.add(this));var rn=Et.stack;this.componentDidCatch(Et.value,{componentStack:rn!==null?rn:""})}),bt}function D1(wt,Et,bt){var Bt=wt.pingCache;if(Bt===null){Bt=wt.pingCache=new X2;var Gt=new Set;Bt.set(Et,Gt)}else Gt=Bt.get(Et),Gt===void 0&&(Gt=new Set,Bt.set(Et,Gt));Gt.has(bt)||(Gt.add(bt),wt=yv.bind(null,wt,Et,bt),Et.then(wt,wt))}function Tp(wt){do{var Et;if((Et=wt.tag===13)&&(Et=wt.memoizedState,Et=Et!==null?Et.dehydrated!==null:!0),Et)return wt;wt=wt.return}while(wt!==null);return null}function G0(wt,Et,bt,Bt,Gt){return wt.mode&1?(wt.flags|=65536,wt.lanes=Gt,wt):(wt===Et?wt.flags|=65536:(wt.flags|=128,bt.flags|=131072,bt.flags&=-52805,bt.tag===1&&(bt.alternate===null?bt.tag=17:(Et=ou(-1,1),Et.tag=2,Tu(bt,Et))),bt.lanes|=1),wt)}function Tl(wt){wt.flags|=4}function Y2(wt,Et){if(wt!==null&&wt.child===Et.child)return!0;if(Et.flags&16)return!1;for(wt=Et.child;wt!==null;){if(wt.flags&12854||wt.subtreeFlags&12854)return!1;wt=wt.sibling}return!0}var t0,Ap,H0,Sm;if(gr)t0=function(wt,Et){for(var bt=Et.child;bt!==null;){if(bt.tag===5||bt.tag===6)jn(wt,bt.stateNode);else if(bt.tag!==4&&bt.child!==null){bt.child.return=bt,bt=bt.child;continue}if(bt===Et)break;for(;bt.sibling===null;){if(bt.return===null||bt.return===Et)return;bt=bt.return}bt.sibling.return=bt.return,bt=bt.sibling}},Ap=function(){},H0=function(wt,Et,bt,Bt,Gt){if(wt=wt.memoizedProps,wt!==Bt){var Xt=Et.stateNode,rn=zl(Ks.current);bt=An(Xt,bt,wt,Bt,Gt,rn),(Et.updateQueue=bt)&&Tl(Et)}},Sm=function(wt,Et,bt,Bt){bt!==Bt&&Tl(Et)};else if(It){t0=function(wt,Et,bt,Bt){for(var Gt=Et.child;Gt!==null;){if(Gt.tag===5){var Xt=Gt.stateNode;bt&&Bt&&(Xt=to(Xt,Gt.type,Gt.memoizedProps,Gt)),jn(wt,Xt)}else if(Gt.tag===6)Xt=Gt.stateNode,bt&&Bt&&(Xt=Lo(Xt,Gt.memoizedProps,Gt)),jn(wt,Xt);else if(Gt.tag!==4){if(Gt.tag===22&&Gt.memoizedState!==null)Xt=Gt.child,Xt!==null&&(Xt.return=Gt),t0(wt,Gt,!0,!0);else if(Gt.child!==null){Gt.child.return=Gt,Gt=Gt.child;continue}}if(Gt===Et)break;for(;Gt.sibling===null;){if(Gt.return===null||Gt.return===Et)return;Gt=Gt.return}Gt.sibling.return=Gt.return,Gt=Gt.sibling}};var K2=function(wt,Et,bt,Bt){for(var Gt=Et.child;Gt!==null;){if(Gt.tag===5){var Xt=Gt.stateNode;bt&&Bt&&(Xt=to(Xt,Gt.type,Gt.memoizedProps,Gt)),Hr(wt,Xt)}else if(Gt.tag===6)Xt=Gt.stateNode,bt&&Bt&&(Xt=Lo(Xt,Gt.memoizedProps,Gt)),Hr(wt,Xt);else if(Gt.tag!==4){if(Gt.tag===22&&Gt.memoizedState!==null)Xt=Gt.child,Xt!==null&&(Xt.return=Gt),K2(wt,Gt,!0,!0);else if(Gt.child!==null){Gt.child.return=Gt,Gt=Gt.child;continue}}if(Gt===Et)break;for(;Gt.sibling===null;){if(Gt.return===null||Gt.return===Et)return;Gt=Gt.return}Gt.sibling.return=Gt.return,Gt=Gt.sibling}};Ap=function(wt,Et){var bt=Et.stateNode;if(!Y2(wt,Et)){wt=bt.containerInfo;var Bt=pr(wt);K2(Bt,Et,!1,!1),bt.pendingChildren=Bt,Tl(Et),ao(wt,Bt)}},H0=function(wt,Et,bt,Bt,Gt){var Xt=wt.stateNode,rn=wt.memoizedProps;if((wt=Y2(wt,Et))&&rn===Bt)Et.stateNode=Xt;else{var _n=Et.stateNode,Vn=zl(Ks.current),cr=null;rn!==Bt&&(cr=An(_n,bt,rn,Bt,Gt,Vn)),wt&&cr===null?Et.stateNode=Xt:(Xt=xr(Xt,cr,bt,rn,Bt,Et,wt,_n),ar(Xt,bt,Bt,Gt,Vn)&&Tl(Et),Et.stateNode=Xt,wt?Tl(Et):t0(Xt,Et,!1,!1))}},Sm=function(wt,Et,bt,Bt){bt!==Bt?(wt=zl(O0.current),bt=zl(Ks.current),Et.stateNode=or(Bt,wt,bt,Et),Tl(Et)):Et.stateNode=wt.stateNode}}else Ap=function(){},H0=function(){},Sm=function(){};function Cp(wt,Et){if(!Oo)switch(wt.tailMode){case"hidden":Et=wt.tail;for(var bt=null;Et!==null;)Et.alternate!==null&&(bt=Et),Et=Et.sibling;bt===null?wt.tail=null:bt.sibling=null;break;case"collapsed":bt=wt.tail;for(var Bt=null;bt!==null;)bt.alternate!==null&&(Bt=bt),bt=bt.sibling;Bt===null?Et||wt.tail===null?wt.tail=null:wt.tail.sibling=null:Bt.sibling=null}}function us(wt){var Et=wt.alternate!==null&&wt.alternate.child===wt.child,bt=0,Bt=0;if(Et)for(var Gt=wt.child;Gt!==null;)bt|=Gt.lanes|Gt.childLanes,Bt|=Gt.subtreeFlags&14680064,Bt|=Gt.flags&14680064,Gt.return=wt,Gt=Gt.sibling;else for(Gt=wt.child;Gt!==null;)bt|=Gt.lanes|Gt.childLanes,Bt|=Gt.subtreeFlags,Bt|=Gt.flags,Gt.return=wt,Gt=Gt.sibling;return wt.subtreeFlags|=Bt,wt.childLanes=bt,Et}function av(wt,Et,bt){var Bt=Et.pendingProps;switch(y1(Et),Et.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return us(Et),null;case 1:return To(Et.type)&&wo(),us(Et),null;case 3:return Bt=Et.stateNode,Yu(),Sr(Un),Sr(yo),Zs(),Bt.pendingContext&&(Bt.context=Bt.pendingContext,Bt.pendingContext=null),(wt===null||wt.child===null)&&(yp(Et)?Tl(Et):wt===null||wt.memoizedState.isDehydrated&&!(Et.flags&256)||(Et.flags|=1024,Ml!==null&&(t2(Ml),Ml=null))),Ap(wt,Et),us(Et),null;case 5:mm(Et),bt=zl(O0.current);var Gt=Et.type;if(wt!==null&&Et.stateNode!=null)H0(wt,Et,Gt,Bt,bt),wt.ref!==Et.ref&&(Et.flags|=512,Et.flags|=2097152);else{if(!Bt){if(Et.stateNode===null)throw Error(ht(166));return us(Et),null}if(wt=zl(Ks.current),yp(Et)){if(!Jn)throw Error(ht(175));wt=Su(Et.stateNode,Et.type,Et.memoizedProps,bt,wt,Et,!vp),Et.updateQueue=wt,wt!==null&&Tl(Et)}else{var Xt=Pn(Gt,Bt,bt,wt,Et);t0(Xt,Et,!1,!1),Et.stateNode=Xt,ar(Xt,Gt,Bt,bt,wt)&&Tl(Et)}Et.ref!==null&&(Et.flags|=512,Et.flags|=2097152)}return us(Et),null;case 6:if(wt&&Et.stateNode!=null)Sm(wt,Et,wt.memoizedProps,Bt);else{if(typeof Bt!="string"&&Et.stateNode===null)throw Error(ht(166));if(wt=zl(O0.current),bt=zl(Ks.current),yp(Et)){if(!Jn)throw Error(ht(176));if(wt=Et.stateNode,Bt=Et.memoizedProps,(bt=Jp(wt,Bt,Et,!vp))&&(Gt=Fs,Gt!==null))switch(Xt=(Gt.mode&1)!==0,Gt.tag){case 3:wn(Gt.stateNode.containerInfo,wt,Bt,Xt);break;case 5:Dn(Gt.type,Gt.memoizedProps,Gt.stateNode,wt,Bt,Xt)}bt&&Tl(Et)}else Et.stateNode=or(Bt,wt,bt,Et)}return us(Et),null;case 13:if(Sr(Fo),Bt=Et.memoizedState,Oo&&Bs!==null&&Et.mode&1&&!(Et.flags&128)){for(wt=Bs;wt;)wt=gs(wt);return qu(),Et.flags|=98560,Et}if(Bt!==null&&Bt.dehydrated!==null){if(Bt=yp(Et),wt===null){if(!Bt)throw Error(ht(318));if(!Jn)throw Error(ht(344));if(wt=Et.memoizedState,wt=wt!==null?wt.dehydrated:null,!wt)throw Error(ht(317));R0(wt,Et)}else qu(),!(Et.flags&128)&&(Et.memoizedState=null),Et.flags|=4;return us(Et),null}return Ml!==null&&(t2(Ml),Ml=null),Et.flags&128?(Et.lanes=bt,Et):(Bt=Bt!==null,bt=!1,wt===null?yp(Et):bt=wt.memoizedState!==null,Bt&&!bt&&(Et.child.flags|=8192,Et.mode&1&&(wt===null||Fo.current&1?Yo===0&&(Yo=3):r2())),Et.updateQueue!==null&&(Et.flags|=4),us(Et),null);case 4:return Yu(),Ap(wt,Et),wt===null&&rr(Et.stateNode.containerInfo),us(Et),null;case 10:return d1(Et.type._context),us(Et),null;case 17:return To(Et.type)&&wo(),us(Et),null;case 19:if(Sr(Fo),Gt=Et.memoizedState,Gt===null)return us(Et),null;if(Bt=(Et.flags&128)!==0,Xt=Gt.rendering,Xt===null)if(Bt)Cp(Gt,!1);else{if(Yo!==0||wt!==null&&wt.flags&128)for(wt=Et.child;wt!==null;){if(Xt=Vl(wt),Xt!==null){for(Et.flags|=128,Cp(Gt,!1),wt=Xt.updateQueue,wt!==null&&(Et.updateQueue=wt,Et.flags|=4),Et.subtreeFlags=0,wt=bt,Bt=Et.child;Bt!==null;)bt=Bt,Gt=wt,bt.flags&=14680066,Xt=bt.alternate,Xt===null?(bt.childLanes=0,bt.lanes=Gt,bt.child=null,bt.subtreeFlags=0,bt.memoizedProps=null,bt.memoizedState=null,bt.updateQueue=null,bt.dependencies=null,bt.stateNode=null):(bt.childLanes=Xt.childLanes,bt.lanes=Xt.lanes,bt.child=Xt.child,bt.subtreeFlags=0,bt.deletions=null,bt.memoizedProps=Xt.memoizedProps,bt.memoizedState=Xt.memoizedState,bt.updateQueue=Xt.updateQueue,bt.type=Xt.type,Gt=Xt.dependencies,bt.dependencies=Gt===null?null:{lanes:Gt.lanes,firstContext:Gt.firstContext}),Bt=Bt.sibling;return Vr(Fo,Fo.current&1|2),Et.child}wt=wt.sibling}Gt.tail!==null&&Zo()>Z1&&(Et.flags|=128,Bt=!0,Cp(Gt,!1),Et.lanes=4194304)}else{if(!Bt)if(wt=Vl(Xt),wt!==null){if(Et.flags|=128,Bt=!0,wt=wt.updateQueue,wt!==null&&(Et.updateQueue=wt,Et.flags|=4),Cp(Gt,!0),Gt.tail===null&&Gt.tailMode==="hidden"&&!Xt.alternate&&!Oo)return us(Et),null}else 2*Zo()-Gt.renderingStartTime>Z1&&bt!==1073741824&&(Et.flags|=128,Bt=!0,Cp(Gt,!1),Et.lanes=4194304);Gt.isBackwards?(Xt.sibling=Et.child,Et.child=Xt):(wt=Gt.last,wt!==null?wt.sibling=Xt:Et.child=Xt,Gt.last=Xt)}return Gt.tail!==null?(Et=Gt.tail,Gt.rendering=Et,Gt.tail=Et.sibling,Gt.renderingStartTime=Zo(),Et.sibling=null,wt=Fo.current,Vr(Fo,Bt?wt&1|2:wt&1),Et):(us(Et),null);case 22:case 23:return n2(),Bt=Et.memoizedState!==null,wt!==null&&wt.memoizedState!==null!==Bt&&(Et.flags|=8192),Bt&&Et.mode&1?Vs&1073741824&&(us(Et),gr&&Et.subtreeFlags&6&&(Et.flags|=8192)):us(Et),null;case 24:return null;case 25:return null}throw Error(ht(156,Et.tag))}var lv=vt.ReactCurrentOwner,Us=!1;function cs(wt,Et,bt,Bt){Et.child=wt===null?W2(Et,null,bt,Bt):D0(Et,wt.child,bt,Bt)}function Q2(wt,Et,bt,Bt,Gt){bt=bt.render;var Xt=Et.ref;return I0(Et,Gt),Bt=gm(wt,Et,bt,Bt,Xt,Gt),bt=A1(),wt!==null&&!Us?(Et.updateQueue=wt.updateQueue,Et.flags&=-2053,wt.lanes&=~Gt,fu(wt,Et,Gt)):(Oo&&bt&&_1(Et),Et.flags|=1,cs(wt,Et,Bt,Gt),Et.child)}function Z2(wt,Et,bt,Bt,Gt){if(wt===null){var Xt=bt.type;return typeof Xt=="function"&&!i2(Xt)&&Xt.defaultProps===void 0&&bt.compare===null&&bt.defaultProps===void 0?(Et.tag=15,Et.type=Xt,J2(wt,Et,Xt,Bt,Gt)):(wt=Bm(bt.type,null,Bt,Et,Et.mode,Gt),wt.ref=Et.ref,wt.return=Et,Et.child=wt)}if(Xt=wt.child,!(wt.lanes&Gt)){var rn=Xt.memoizedProps;if(bt=bt.compare,bt=bt!==null?bt:sm,bt(rn,Bt)&&wt.ref===Et.ref)return fu(wt,Et,Gt)}return Et.flags|=1,wt=ba(Xt,Bt),wt.ref=Et.ref,wt.return=Et,Et.child=wt}function J2(wt,Et,bt,Bt,Gt){if(wt!==null&&sm(wt.memoizedProps,Bt)&&wt.ref===Et.ref)if(Us=!1,(wt.lanes&Gt)!==0)wt.flags&131072&&(Us=!0);else return Et.lanes=wt.lanes,fu(wt,Et,Gt);return F1(wt,Et,bt,Bt,Gt)}function _g(wt,Et,bt){var Bt=Et.pendingProps,Gt=Bt.children,Xt=wt!==null?wt.memoizedState:null;if(Bt.mode==="hidden")if(!(Et.mode&1))Et.memoizedState={baseLanes:0,cachePool:null},Vr(W0,Vs),Vs|=bt;else if(bt&1073741824)Et.memoizedState={baseLanes:0,cachePool:null},Bt=Xt!==null?Xt.baseLanes:bt,Vr(W0,Vs),Vs|=Bt;else return wt=Xt!==null?Xt.baseLanes|bt:bt,Et.lanes=Et.childLanes=1073741824,Et.memoizedState={baseLanes:wt,cachePool:null},Et.updateQueue=null,Vr(W0,Vs),Vs|=wt,null;else Xt!==null?(Bt=Xt.baseLanes|bt,Et.memoizedState=null):Bt=bt,Vr(W0,Vs),Vs|=Bt;return cs(wt,Et,Gt,bt),Et.child}function O1(wt,Et){var bt=Et.ref;(wt===null&&bt!==null||wt!==null&&wt.ref!==bt)&&(Et.flags|=512,Et.flags|=2097152)}function F1(wt,Et,bt,Bt,Gt){var Xt=To(bt)?ho:yo.current;return Xt=$r(Et,Xt),I0(Et,Gt),bt=gm(wt,Et,bt,Bt,Xt,Gt),Bt=A1(),wt!==null&&!Us?(Et.updateQueue=wt.updateQueue,Et.flags&=-2053,wt.lanes&=~Gt,fu(wt,Et,Gt)):(Oo&&Bt&&_1(Et),Et.flags|=1,cs(wt,Et,bt,Gt),Et.child)}function e_(wt,Et,bt,Bt,Gt){if(To(bt)){var Xt=!0;Ko(Et)}else Xt=!1;if(I0(Et,Gt),Et.stateNode===null)wt!==null&&(wt.alternate=null,Et.alternate=null,Et.flags|=2),U2(Et,bt,Bt),g1(Et,bt,Bt,Gt),Bt=!0;else if(wt===null){var rn=Et.stateNode,_n=Et.memoizedProps;rn.props=_n;var Vn=rn.context,cr=bt.contextType;typeof cr=="object"&&cr!==null?cr=Xs(cr):(cr=To(bt)?ho:yo.current,cr=$r(Et,cr));var Dr=bt.getDerivedStateFromProps,Mr=typeof Dr=="function"||typeof rn.getSnapshotBeforeUpdate=="function";Mr||typeof rn.UNSAFE_componentWillReceiveProps!="function"&&typeof rn.componentWillReceiveProps!="function"||(_n!==Bt||Vn!==cr)&&z2(Et,rn,Bt,cr),Eu=!1;var Qr=Et.memoizedState;rn.state=Qr,cm(Et,Bt,rn,Gt),Vn=Et.memoizedState,_n!==Bt||Qr!==Vn||Un.current||Eu?(typeof Dr=="function"&&(m1(Et,bt,Dr,Bt),Vn=Et.memoizedState),(_n=Eu||B2(Et,bt,_n,Bt,Qr,Vn,cr))?(Mr||typeof rn.UNSAFE_componentWillMount!="function"&&typeof rn.componentWillMount!="function"||(typeof rn.componentWillMount=="function"&&rn.componentWillMount(),typeof rn.UNSAFE_componentWillMount=="function"&&rn.UNSAFE_componentWillMount()),typeof rn.componentDidMount=="function"&&(Et.flags|=4194308)):(typeof rn.componentDidMount=="function"&&(Et.flags|=4194308),Et.memoizedProps=Bt,Et.memoizedState=Vn),rn.props=Bt,rn.state=Vn,rn.context=cr,Bt=_n):(typeof rn.componentDidMount=="function"&&(Et.flags|=4194308),Bt=!1)}else{rn=Et.stateNode,N2(wt,Et),_n=Et.memoizedProps,cr=Et.type===Et.elementType?_n:wl(Et.type,_n),rn.props=cr,Mr=Et.pendingProps,Qr=rn.context,Vn=bt.contextType,typeof Vn=="object"&&Vn!==null?Vn=Xs(Vn):(Vn=To(bt)?ho:yo.current,Vn=$r(Et,Vn));var ko=bt.getDerivedStateFromProps;(Dr=typeof ko=="function"||typeof rn.getSnapshotBeforeUpdate=="function")||typeof rn.UNSAFE_componentWillReceiveProps!="function"&&typeof rn.componentWillReceiveProps!="function"||(_n!==Mr||Qr!==Vn)&&z2(Et,rn,Bt,Vn),Eu=!1,Qr=Et.memoizedState,rn.state=Qr,cm(Et,Bt,rn,Gt);var Wr=Et.memoizedState;_n!==Mr||Qr!==Wr||Un.current||Eu?(typeof ko=="function"&&(m1(Et,bt,ko,Bt),Wr=Et.memoizedState),(cr=Eu||B2(Et,bt,cr,Bt,Qr,Wr,Vn)||!1)?(Dr||typeof rn.UNSAFE_componentWillUpdate!="function"&&typeof rn.componentWillUpdate!="function"||(typeof rn.componentWillUpdate=="function"&&rn.componentWillUpdate(Bt,Wr,Vn),typeof rn.UNSAFE_componentWillUpdate=="function"&&rn.UNSAFE_componentWillUpdate(Bt,Wr,Vn)),typeof rn.componentDidUpdate=="function"&&(Et.flags|=4),typeof rn.getSnapshotBeforeUpdate=="function"&&(Et.flags|=1024)):(typeof rn.componentDidUpdate!="function"||_n===wt.memoizedProps&&Qr===wt.memoizedState||(Et.flags|=4),typeof rn.getSnapshotBeforeUpdate!="function"||_n===wt.memoizedProps&&Qr===wt.memoizedState||(Et.flags|=1024),Et.memoizedProps=Bt,Et.memoizedState=Wr),rn.props=Bt,rn.state=Wr,rn.context=Vn,Bt=cr):(typeof rn.componentDidUpdate!="function"||_n===wt.memoizedProps&&Qr===wt.memoizedState||(Et.flags|=4),typeof rn.getSnapshotBeforeUpdate!="function"||_n===wt.memoizedProps&&Qr===wt.memoizedState||(Et.flags|=1024),Bt=!1)}return wm(wt,Et,bt,Bt,Xt,Gt)}function wm(wt,Et,bt,Bt,Gt,Xt){O1(wt,Et);var rn=(Et.flags&128)!==0;if(!Bt&&!rn)return Gt&&wu(Et,bt,!1),fu(wt,Et,Xt);Bt=Et.stateNode,lv.current=Et;var _n=rn&&typeof bt.getDerivedStateFromError!="function"?null:Bt.render();return Et.flags|=1,wt!==null&&rn?(Et.child=D0(Et,wt.child,null,Xt),Et.child=D0(Et,null,_n,Xt)):cs(wt,Et,_n,Xt),Et.memoizedState=Bt.state,Gt&&wu(Et,bt,!0),Et.child}function n0(wt){var Et=wt.stateNode;Et.pendingContext?Ts(wt,Et.pendingContext,Et.pendingContext!==Et.context):Et.context&&Ts(wt,Et.context,!1),Qs(wt,Et.containerInfo)}function r0(wt,Et,bt,Bt,Gt){return qu(),pm(Gt),Et.flags|=256,cs(wt,Et,bt,Bt),Et.child}var Rp={dehydrated:null,treeContext:null,retryLane:0};function Mm(wt){return{baseLanes:wt,cachePool:null}}function t_(wt,Et,bt){var Bt=Et.pendingProps,Gt=Fo.current,Xt=!1,rn=(Et.flags&128)!==0,_n;if((_n=rn)||(_n=wt!==null&&wt.memoizedState===null?!1:(Gt&2)!==0),_n?(Xt=!0,Et.flags&=-129):(wt===null||wt.memoizedState!==null)&&(Gt|=1),Vr(Fo,Gt&1),wt===null)return S1(Et),wt=Et.memoizedState,wt!==null&&(wt=wt.dehydrated,wt!==null)?(Et.mode&1?Ur(wt)?Et.lanes=8:Et.lanes=1073741824:Et.lanes=1,null):(Gt=Bt.children,wt=Bt.fallback,Xt?(Bt=Et.mode,Xt=Et.child,Gt={mode:"hidden",children:Gt},!(Bt&1)&&Xt!==null?(Xt.childLanes=0,Xt.pendingProps=Gt):Xt=Wl(Gt,Bt,0,null),wt=ds(wt,Bt,bt,null),Xt.return=Et,wt.return=Et,Xt.sibling=wt,Et.child=Xt,Et.child.memoizedState=Mm(bt),Et.memoizedState=Rp,wt):B1(Et,Gt));if(Gt=wt.memoizedState,Gt!==null){if(_n=Gt.dehydrated,_n!==null){if(rn)return Et.flags&256?(Et.flags&=-257,Em(wt,Et,bt,Error(ht(422)))):Et.memoizedState!==null?(Et.child=wt.child,Et.flags|=128,null):(Xt=Bt.fallback,Gt=Et.mode,Bt=Wl({mode:"visible",children:Bt.children},Gt,0,null),Xt=ds(Xt,Gt,bt,null),Xt.flags|=2,Bt.return=Et,Xt.return=Et,Bt.sibling=Xt,Et.child=Bt,Et.mode&1&&D0(Et,wt.child,null,bt),Et.child.memoizedState=Mm(bt),Et.memoizedState=Rp,Xt);if(!(Et.mode&1))Et=Em(wt,Et,bt,null);else if(Ur(_n))Et=Em(wt,Et,bt,Error(ht(419)));else if(Bt=(bt&wt.childLanes)!==0,Us||Bt){if(Bt=$o,Bt!==null){switch(bt&-bt){case 4:Xt=2;break;case 16:Xt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Xt=32;break;case 536870912:Xt=268435456;break;default:Xt=0}Bt=Xt&(Bt.suspendedLanes|bt)?0:Xt,Bt!==0&&Bt!==Gt.retryLane&&(Gt.retryLane=Bt,na(wt,Bt,-1))}r2(),Et=Em(wt,Et,bt,Error(ht(421)))}else Es(_n)?(Et.flags|=128,Et.child=wt.child,Et=xv.bind(null,wt),nu(_n,Et),Et=null):(bt=Gt.treeContext,Jn&&(Bs=xu(_n),Fs=Et,Oo=!0,Ml=null,vp=!1,bt!==null&&(qs[Ys++]=su,qs[Ys++]=au,qs[Ys++]=ju,su=bt.id,au=bt.overflow,ju=Et)),Et=B1(Et,Et.pendingProps.children),Et.flags|=4096);return Et}return Xt?(Bt=r_(wt,Et,Bt.children,Bt.fallback,bt),Xt=Et.child,Gt=wt.child.memoizedState,Xt.memoizedState=Gt===null?Mm(bt):{baseLanes:Gt.baseLanes|bt,cachePool:null},Xt.childLanes=wt.childLanes&~bt,Et.memoizedState=Rp,Bt):(bt=n_(wt,Et,Bt.children,bt),Et.memoizedState=null,bt)}return Xt?(Bt=r_(wt,Et,Bt.children,Bt.fallback,bt),Xt=Et.child,Gt=wt.child.memoizedState,Xt.memoizedState=Gt===null?Mm(bt):{baseLanes:Gt.baseLanes|bt,cachePool:null},Xt.childLanes=wt.childLanes&~bt,Et.memoizedState=Rp,Bt):(bt=n_(wt,Et,Bt.children,bt),Et.memoizedState=null,bt)}function B1(wt,Et){return Et=Wl({mode:"visible",children:Et},wt.mode,0,null),Et.return=wt,wt.child=Et}function n_(wt,Et,bt,Bt){var Gt=wt.child;return wt=Gt.sibling,bt=ba(Gt,{mode:"visible",children:bt}),!(Et.mode&1)&&(bt.lanes=Bt),bt.return=Et,bt.sibling=null,wt!==null&&(Bt=Et.deletions,Bt===null?(Et.deletions=[wt],Et.flags|=16):Bt.push(wt)),Et.child=bt}function r_(wt,Et,bt,Bt,Gt){var Xt=Et.mode;wt=wt.child;var rn=wt.sibling,_n={mode:"hidden",children:bt};return!(Xt&1)&&Et.child!==wt?(bt=Et.child,bt.childLanes=0,bt.pendingProps=_n,Et.deletions=null):(bt=ba(wt,_n),bt.subtreeFlags=wt.subtreeFlags&14680064),rn!==null?Bt=ba(rn,Bt):(Bt=ds(Bt,Xt,Gt,null),Bt.flags|=2),Bt.return=Et,bt.return=Et,bt.sibling=Bt,Et.child=bt,Bt}function Em(wt,Et,bt,Bt){return Bt!==null&&pm(Bt),D0(Et,wt.child,null,bt),wt=B1(Et,Et.pendingProps.children),wt.flags|=2,Et.memoizedState=null,wt}function i_(wt,Et,bt){wt.lanes|=Et;var Bt=wt.alternate;Bt!==null&&(Bt.lanes|=Et),h1(wt.return,Et,bt)}function U1(wt,Et,bt,Bt,Gt){var Xt=wt.memoizedState;Xt===null?wt.memoizedState={isBackwards:Et,rendering:null,renderingStartTime:0,last:Bt,tail:bt,tailMode:Gt}:(Xt.isBackwards=Et,Xt.rendering=null,Xt.renderingStartTime=0,Xt.last=Bt,Xt.tail=bt,Xt.tailMode=Gt)}function o_(wt,Et,bt){var Bt=Et.pendingProps,Gt=Bt.revealOrder,Xt=Bt.tail;if(cs(wt,Et,Bt.children,bt),Bt=Fo.current,Bt&2)Bt=Bt&1|2,Et.flags|=128;else{if(wt!==null&&wt.flags&128)e:for(wt=Et.child;wt!==null;){if(wt.tag===13)wt.memoizedState!==null&&i_(wt,bt,Et);else if(wt.tag===19)i_(wt,bt,Et);else if(wt.child!==null){wt.child.return=wt,wt=wt.child;continue}if(wt===Et)break e;for(;wt.sibling===null;){if(wt.return===null||wt.return===Et)break e;wt=wt.return}wt.sibling.return=wt.return,wt=wt.sibling}Bt&=1}if(Vr(Fo,Bt),!(Et.mode&1))Et.memoizedState=null;else switch(Gt){case"forwards":for(bt=Et.child,Gt=null;bt!==null;)wt=bt.alternate,wt!==null&&Vl(wt)===null&&(Gt=bt),bt=bt.sibling;bt=Gt,bt===null?(Gt=Et.child,Et.child=null):(Gt=bt.sibling,bt.sibling=null),U1(Et,!1,Gt,bt,Xt);break;case"backwards":for(bt=null,Gt=Et.child,Et.child=null;Gt!==null;){if(wt=Gt.alternate,wt!==null&&Vl(wt)===null){Et.child=Gt;break}wt=Gt.sibling,Gt.sibling=bt,bt=Gt,Gt=wt}U1(Et,!0,bt,null,Xt);break;case"together":U1(Et,!1,null,null,void 0);break;default:Et.memoizedState=null}return Et.child}function fu(wt,Et,bt){if(wt!==null&&(Et.dependencies=wt.dependencies),j0|=Et.lanes,!(bt&Et.childLanes))return null;if(wt!==null&&Et.child!==wt.child)throw Error(ht(153));if(Et.child!==null){for(wt=Et.child,bt=ba(wt,wt.pendingProps),Et.child=bt,bt.return=Et;wt.sibling!==null;)wt=wt.sibling,bt=bt.sibling=ba(wt,wt.pendingProps),bt.return=Et;bt.sibling=null}return Et.child}function uv(wt,Et,bt){switch(Et.tag){case 3:n0(Et),qu();break;case 5:E1(Et);break;case 1:To(Et.type)&&Ko(Et);break;case 4:Qs(Et,Et.stateNode.containerInfo);break;case 10:k2(Et,Et.type._context,Et.memoizedProps.value);break;case 13:var Bt=Et.memoizedState;if(Bt!==null)return Bt.dehydrated!==null?(Vr(Fo,Fo.current&1),Et.flags|=128,null):bt&Et.child.childLanes?t_(wt,Et,bt):(Vr(Fo,Fo.current&1),wt=fu(wt,Et,bt),wt!==null?wt.sibling:null);Vr(Fo,Fo.current&1);break;case 19:if(Bt=(bt&Et.childLanes)!==0,wt.flags&128){if(Bt)return o_(wt,Et,bt);Et.flags|=128}var Gt=Et.memoizedState;if(Gt!==null&&(Gt.rendering=null,Gt.tail=null,Gt.lastEffect=null),Vr(Fo,Fo.current),Bt)break;return null;case 22:case 23:return Et.lanes=0,_g(wt,Et,bt)}return fu(wt,Et,bt)}function cv(wt,Et){switch(y1(Et),Et.tag){case 1:return To(Et.type)&&wo(),wt=Et.flags,wt&65536?(Et.flags=wt&-65537|128,Et):null;case 3:return Yu(),Sr(Un),Sr(yo),Zs(),wt=Et.flags,wt&65536&&!(wt&128)?(Et.flags=wt&-65537|128,Et):null;case 5:return mm(Et),null;case 13:if(Sr(Fo),wt=Et.memoizedState,wt!==null&&wt.dehydrated!==null){if(Et.alternate===null)throw Error(ht(340));qu()}return wt=Et.flags,wt&65536?(Et.flags=wt&-65537|128,Et):null;case 19:return Sr(Fo),null;case 4:return Yu(),null;case 10:return d1(Et.type._context),null;case 22:case 23:return n2(),null;case 24:return null;default:return null}}var Tm=!1,i0=!1,fv=typeof WeakSet=="function"?WeakSet:Set,Tr=null;function Am(wt,Et){var bt=wt.ref;if(bt!==null)if(typeof bt=="function")try{bt(null)}catch(Bt){Ps(wt,Et,Bt)}else bt.current=null}function z1(wt,Et,bt){try{bt()}catch(Bt){Ps(wt,Et,Bt)}}var s_=!1;function dv(wt,Et){for(hn(wt.containerInfo),Tr=Et;Tr!==null;)if(wt=Tr,Et=wt.child,(wt.subtreeFlags&1028)!==0&&Et!==null)Et.return=wt,Tr=Et;else for(;Tr!==null;){wt=Tr;try{var bt=wt.alternate;if(wt.flags&1024)switch(wt.tag){case 0:case 11:case 15:break;case 1:if(bt!==null){var Bt=bt.memoizedProps,Gt=bt.memoizedState,Xt=wt.stateNode,rn=Xt.getSnapshotBeforeUpdate(wt.elementType===wt.type?Bt:wl(wt.type,Bt),Gt);Xt.__reactInternalSnapshotBeforeUpdate=rn}break;case 3:gr&&Wn(wt.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(ht(163))}}catch(_n){Ps(wt,wt.return,_n)}if(Et=wt.sibling,Et!==null){Et.return=wt.return,Tr=Et;break}Tr=wt.return}return bt=s_,s_=!1,bt}function o0(wt,Et,bt){var Bt=Et.updateQueue;if(Bt=Bt!==null?Bt.lastEffect:null,Bt!==null){var Gt=Bt=Bt.next;do{if((Gt.tag&wt)===wt){var Xt=Gt.destroy;Gt.destroy=void 0,Xt!==void 0&&z1(Et,bt,Xt)}Gt=Gt.next}while(Gt!==Bt)}}function Pp(wt,Et){if(Et=Et.updateQueue,Et=Et!==null?Et.lastEffect:null,Et!==null){var bt=Et=Et.next;do{if((bt.tag&wt)===wt){var Bt=bt.create;bt.destroy=Bt()}bt=bt.next}while(bt!==Et)}}function V1(wt){var Et=wt.ref;if(Et!==null){var bt=wt.stateNode;switch(wt.tag){case 5:wt=En(bt);break;default:wt=bt}typeof Et=="function"?Et(wt):Et.current=wt}}function a_(wt,Et,bt){if(Ol&&typeof Ol.onCommitFiberUnmount=="function")try{Ol.onCommitFiberUnmount(rm,Et)}catch{}switch(Et.tag){case 0:case 11:case 14:case 15:if(wt=Et.updateQueue,wt!==null&&(wt=wt.lastEffect,wt!==null)){var Bt=wt=wt.next;do{var Gt=Bt,Xt=Gt.destroy;Gt=Gt.tag,Xt!==void 0&&(Gt&2||Gt&4)&&z1(Et,bt,Xt),Bt=Bt.next}while(Bt!==wt)}break;case 1:if(Am(Et,bt),wt=Et.stateNode,typeof wt.componentWillUnmount=="function")try{wt.props=Et.memoizedProps,wt.state=Et.memoizedState,wt.componentWillUnmount()}catch(rn){Ps(Et,bt,rn)}break;case 5:Am(Et,bt);break;case 4:gr?h_(wt,Et,bt):It&&It&&(Et=Et.stateNode.containerInfo,bt=pr(Et),So(Et,bt))}}function l_(wt,Et,bt){for(var Bt=Et;;)if(a_(wt,Bt,bt),Bt.child===null||gr&&Bt.tag===4){if(Bt===Et)break;for(;Bt.sibling===null;){if(Bt.return===null||Bt.return===Et)return;Bt=Bt.return}Bt.sibling.return=Bt.return,Bt=Bt.sibling}else Bt.child.return=Bt,Bt=Bt.child}function u_(wt){var Et=wt.alternate;Et!==null&&(wt.alternate=null,u_(Et)),wt.child=null,wt.deletions=null,wt.sibling=null,wt.tag===5&&(Et=wt.stateNode,Et!==null&&Qn(Et)),wt.stateNode=null,wt.return=null,wt.dependencies=null,wt.memoizedProps=null,wt.memoizedState=null,wt.pendingProps=null,wt.stateNode=null,wt.updateQueue=null}function c_(wt){return wt.tag===5||wt.tag===3||wt.tag===4}function f_(wt){e:for(;;){for(;wt.sibling===null;){if(wt.return===null||c_(wt.return))return null;wt=wt.return}for(wt.sibling.return=wt.return,wt=wt.sibling;wt.tag!==5&&wt.tag!==6&&wt.tag!==18;){if(wt.flags&2||wt.child===null||wt.tag===4)continue e;wt.child.return=wt,wt=wt.child}if(!(wt.flags&2))return wt.stateNode}}function d_(wt){if(gr){e:{for(var Et=wt.return;Et!==null;){if(c_(Et))break e;Et=Et.return}throw Error(ht(160))}var bt=Et;switch(bt.tag){case 5:Et=bt.stateNode,bt.flags&32&&($n(Et),bt.flags&=-33),bt=f_(wt),H1(wt,bt,Et);break;case 3:case 4:Et=bt.stateNode.containerInfo,bt=f_(wt),G1(wt,bt,Et);break;default:throw Error(ht(161))}}}function G1(wt,Et,bt){var Bt=wt.tag;if(Bt===5||Bt===6)wt=wt.stateNode,Et?Or(bt,wt,Et):dr(bt,wt);else if(Bt!==4&&(wt=wt.child,wt!==null))for(G1(wt,Et,bt),wt=wt.sibling;wt!==null;)G1(wt,Et,bt),wt=wt.sibling}function H1(wt,Et,bt){var Bt=wt.tag;if(Bt===5||Bt===6)wt=wt.stateNode,Et?ir(bt,wt,Et):Gn(bt,wt);else if(Bt!==4&&(wt=wt.child,wt!==null))for(H1(wt,Et,bt),wt=wt.sibling;wt!==null;)H1(wt,Et,bt),wt=wt.sibling}function h_(wt,Et,bt){for(var Bt=Et,Gt=!1,Xt,rn;;){if(!Gt){Gt=Bt.return;e:for(;;){if(Gt===null)throw Error(ht(160));switch(Xt=Gt.stateNode,Gt.tag){case 5:rn=!1;break e;case 3:Xt=Xt.containerInfo,rn=!0;break e;case 4:Xt=Xt.containerInfo,rn=!0;break e}Gt=Gt.return}Gt=!0}if(Bt.tag===5||Bt.tag===6)l_(wt,Bt,bt),rn?un(Xt,Bt.stateNode):Er(Xt,Bt.stateNode);else if(Bt.tag===18)rn?C2(Xt,Bt.stateNode):ro(Xt,Bt.stateNode);else if(Bt.tag===4){if(Bt.child!==null){Xt=Bt.stateNode.containerInfo,rn=!0,Bt.child.return=Bt,Bt=Bt.child;continue}}else if(a_(wt,Bt,bt),Bt.child!==null){Bt.child.return=Bt,Bt=Bt.child;continue}if(Bt===Et)break;for(;Bt.sibling===null;){if(Bt.return===null||Bt.return===Et)return;Bt=Bt.return,Bt.tag===4&&(Gt=!1)}Bt.sibling.return=Bt.return,Bt=Bt.sibling}}function $1(wt,Et){if(gr){switch(Et.tag){case 0:case 11:case 14:case 15:o0(3,Et,Et.return),Pp(3,Et),o0(5,Et,Et.return);return;case 1:return;case 5:var bt=Et.stateNode;if(bt!=null){var Bt=Et.memoizedProps;wt=wt!==null?wt.memoizedProps:Bt;var Gt=Et.type,Xt=Et.updateQueue;Et.updateQueue=null,Xt!==null&&nr(bt,Xt,Gt,wt,Bt,Et)}return;case 6:if(Et.stateNode===null)throw Error(ht(162));bt=Et.memoizedProps,Nr(Et.stateNode,wt!==null?wt.memoizedProps:bt,bt);return;case 3:Jn&&wt!==null&&wt.memoizedState.isDehydrated&&tm(Et.stateNode.containerInfo);return;case 12:return;case 13:Cm(Et);return;case 19:Cm(Et);return;case 17:return}throw Error(ht(163))}switch(Et.tag){case 0:case 11:case 14:case 15:o0(3,Et,Et.return),Pp(3,Et),o0(5,Et,Et.return);return;case 12:return;case 13:Cm(Et);return;case 19:Cm(Et);return;case 3:Jn&&wt!==null&&wt.memoizedState.isDehydrated&&tm(Et.stateNode.containerInfo);break;case 22:case 23:return}e:if(It){switch(Et.tag){case 1:case 5:case 6:break e;case 3:case 4:Et=Et.stateNode,So(Et.containerInfo,Et.pendingChildren);break e}throw Error(ht(163))}}function Cm(wt){var Et=wt.updateQueue;if(Et!==null){wt.updateQueue=null;var bt=wt.stateNode;bt===null&&(bt=wt.stateNode=new fv),Et.forEach(function(Bt){var Gt=Sv.bind(null,wt,Bt);bt.has(Bt)||(bt.add(Bt),Bt.then(Gt,Gt))})}}function hv(wt,Et){for(Tr=Et;Tr!==null;){Et=Tr;var bt=Et.deletions;if(bt!==null)for(var Bt=0;Bt<bt.length;Bt++){var Gt=bt[Bt];try{var Xt=wt;gr?h_(Xt,Gt,Et):l_(Xt,Gt,Et);var rn=Gt.alternate;rn!==null&&(rn.return=null),Gt.return=null}catch(jr){Ps(Gt,Et,jr)}}if(bt=Et.child,Et.subtreeFlags&12854&&bt!==null)bt.return=Et,Tr=bt;else for(;Tr!==null;){Et=Tr;try{var _n=Et.flags;if(_n&32&&gr&&$n(Et.stateNode),_n&512){var Vn=Et.alternate;if(Vn!==null){var cr=Vn.ref;cr!==null&&(typeof cr=="function"?cr(null):cr.current=null)}}if(_n&8192)switch(Et.tag){case 13:if(Et.memoizedState!==null){var Dr=Et.alternate;(Dr===null||Dr.memoizedState===null)&&(Q1=Zo())}break;case 22:var Mr=Et.memoizedState!==null,Qr=Et.alternate,ko=Qr!==null&&Qr.memoizedState!==null;if(bt=Et,gr){e:if(Bt=bt,Gt=Mr,Xt=null,gr)for(var Wr=Bt;;){if(Wr.tag===5){if(Xt===null){Xt=Wr;var Ar=Wr.stateNode;Gt?ur(Ar):sr(Wr.stateNode,Wr.memoizedProps)}}else if(Wr.tag===6){if(Xt===null){var Gs=Wr.stateNode;Gt?an(Gs):kn(Gs,Wr.memoizedProps)}}else if((Wr.tag!==22&&Wr.tag!==23||Wr.memoizedState===null||Wr===Bt)&&Wr.child!==null){Wr.child.return=Wr,Wr=Wr.child;continue}if(Wr===Bt)break;for(;Wr.sibling===null;){if(Wr.return===null||Wr.return===Bt)break e;Xt===Wr&&(Xt=null),Wr=Wr.return}Xt===Wr&&(Xt=null),Wr.sibling.return=Wr.return,Wr=Wr.sibling}}if(Mr&&!ko&&bt.mode&1){Tr=bt;for(var Ln=bt.child;Ln!==null;){for(bt=Tr=Ln;Tr!==null;){Bt=Tr;var Sn=Bt.child;switch(Bt.tag){case 0:case 11:case 14:case 15:o0(4,Bt,Bt.return);break;case 1:Am(Bt,Bt.return);var Bn=Bt.stateNode;if(typeof Bn.componentWillUnmount=="function"){var Pr=Bt.return;try{Bn.props=Bt.memoizedProps,Bn.state=Bt.memoizedState,Bn.componentWillUnmount()}catch(jr){Ps(Bt,Pr,jr)}}break;case 5:Am(Bt,Bt.return);break;case 22:if(Bt.memoizedState!==null){g_(bt);continue}}Sn!==null?(Sn.return=Bt,Tr=Sn):g_(bt)}Ln=Ln.sibling}}}switch(_n&4102){case 2:d_(Et),Et.flags&=-3;break;case 6:d_(Et),Et.flags&=-3,$1(Et.alternate,Et);break;case 4096:Et.flags&=-4097;break;case 4100:Et.flags&=-4097,$1(Et.alternate,Et);break;case 4:$1(Et.alternate,Et)}}catch(jr){Ps(Et,Et.return,jr)}if(bt=Et.sibling,bt!==null){bt.return=Et.return,Tr=bt;break}Tr=Et.return}}}function pv(wt,Et,bt){Tr=wt,p_(wt)}function p_(wt,Et,bt){for(var Bt=(wt.mode&1)!==0;Tr!==null;){var Gt=Tr,Xt=Gt.child;if(Gt.tag===22&&Bt){var rn=Gt.memoizedState!==null||Tm;if(!rn){var _n=Gt.alternate,Vn=_n!==null&&_n.memoizedState!==null||i0;_n=Tm;var cr=i0;if(Tm=rn,(i0=Vn)&&!cr)for(Tr=Gt;Tr!==null;)rn=Tr,Vn=rn.child,rn.tag===22&&rn.memoizedState!==null?__(Gt):Vn!==null?(Vn.return=rn,Tr=Vn):__(Gt);for(;Xt!==null;)Tr=Xt,p_(Xt),Xt=Xt.sibling;Tr=Gt,Tm=_n,i0=cr}m_(wt)}else Gt.subtreeFlags&8772&&Xt!==null?(Xt.return=Gt,Tr=Xt):m_(wt)}}function m_(wt){for(;Tr!==null;){var Et=Tr;if(Et.flags&8772){var bt=Et.alternate;try{if(Et.flags&8772)switch(Et.tag){case 0:case 11:case 15:i0||Pp(5,Et);break;case 1:var Bt=Et.stateNode;if(Et.flags&4&&!i0)if(bt===null)Bt.componentDidMount();else{var Gt=Et.elementType===Et.type?bt.memoizedProps:wl(Et.type,bt.memoizedProps);Bt.componentDidUpdate(Gt,bt.memoizedState,Bt.__reactInternalSnapshotBeforeUpdate)}var Xt=Et.updateQueue;Xt!==null&&O2(Et,Xt,Bt);break;case 3:var rn=Et.updateQueue;if(rn!==null){if(bt=null,Et.child!==null)switch(Et.child.tag){case 5:bt=En(Et.child.stateNode);break;case 1:bt=Et.child.stateNode}O2(Et,rn,bt)}break;case 5:var _n=Et.stateNode;bt===null&&Et.flags&4&&Zn(_n,Et.type,Et.memoizedProps,Et);break;case 6:break;case 4:break;case 12:break;case 13:if(Jn&&Et.memoizedState===null){var Vn=Et.alternate;if(Vn!==null){var cr=Vn.memoizedState;if(cr!==null){var Dr=cr.dehydrated;Dr!==null&&a1(Dr)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(ht(163))}i0||Et.flags&512&&V1(Et)}catch(Mr){Ps(Et,Et.return,Mr)}}if(Et===wt){Tr=null;break}if(bt=Et.sibling,bt!==null){bt.return=Et.return,Tr=bt;break}Tr=Et.return}}function g_(wt){for(;Tr!==null;){var Et=Tr;if(Et===wt){Tr=null;break}var bt=Et.sibling;if(bt!==null){bt.return=Et.return,Tr=bt;break}Tr=Et.return}}function __(wt){for(;Tr!==null;){var Et=Tr;try{switch(Et.tag){case 0:case 11:case 15:var bt=Et.return;try{Pp(4,Et)}catch(Vn){Ps(Et,bt,Vn)}break;case 1:var Bt=Et.stateNode;if(typeof Bt.componentDidMount=="function"){var Gt=Et.return;try{Bt.componentDidMount()}catch(Vn){Ps(Et,Gt,Vn)}}var Xt=Et.return;try{V1(Et)}catch(Vn){Ps(Et,Xt,Vn)}break;case 5:var rn=Et.return;try{V1(Et)}catch(Vn){Ps(Et,rn,Vn)}}}catch(Vn){Ps(Et,Et.return,Vn)}if(Et===wt){Tr=null;break}var _n=Et.sibling;if(_n!==null){_n.return=Et.return,Tr=_n;break}Tr=Et.return}}var Rm=0,zs=1,$0=2,Pm=3,Lm=4;if(typeof Symbol=="function"&&Symbol.for){var Lp=Symbol.for;Rm=Lp("selector.component"),zs=Lp("selector.has_pseudo_class"),$0=Lp("selector.role"),Pm=Lp("selector.test_id"),Lm=Lp("selector.text")}function W1(wt){var Et=nn(wt);if(Et!=null){if(typeof Et.memoizedProps["data-testname"]!="string")throw Error(ht(364));return Et}if(wt=tn(wt),wt===null)throw Error(ht(362));return wt.stateNode.current}function j1(wt,Et){switch(Et.$$typeof){case Rm:if(wt.type===Et.value)return!0;break;case zs:e:{Et=Et.value,wt=[wt,0];for(var bt=0;bt<wt.length;){var Bt=wt[bt++],Gt=wt[bt++],Xt=Et[Gt];if(Bt.tag!==5||!In(Bt)){for(;Xt!=null&&j1(Bt,Xt);)Gt++,Xt=Et[Gt];if(Gt===Et.length){Et=!0;break e}else for(Bt=Bt.child;Bt!==null;)wt.push(Bt,Gt),Bt=Bt.sibling}}Et=!1}return Et;case $0:if(wt.tag===5&&Hn(wt.stateNode,Et.value))return!0;break;case Lm:if((wt.tag===5||wt.tag===6)&&(wt=dn(wt),wt!==null&&0<=wt.indexOf(Et.value)))return!0;break;case Pm:if(wt.tag===5&&(wt=wt.memoizedProps["data-testname"],typeof wt=="string"&&wt.toLowerCase()===Et.value.toLowerCase()))return!0;break;default:throw Error(ht(365))}return!1}function X1(wt){switch(wt.$$typeof){case Rm:return"<"+(Yt(wt.value)||"Unknown")+">";case zs:return":has("+(X1(wt)||"")+")";case $0:return'[role="'+wt.value+'"]';case Lm:return'"'+wt.value+'"';case Pm:return'[data-testname="'+wt.value+'"]';default:throw Error(ht(365))}}function v_(wt,Et){var bt=[];wt=[wt,0];for(var Bt=0;Bt<wt.length;){var Gt=wt[Bt++],Xt=wt[Bt++],rn=Et[Xt];if(Gt.tag!==5||!In(Gt)){for(;rn!=null&&j1(Gt,rn);)Xt++,rn=Et[Xt];if(Xt===Et.length)bt.push(Gt);else for(Gt=Gt.child;Gt!==null;)wt.push(Gt,Xt),Gt=Gt.sibling}}return bt}function q1(wt,Et){if(!Yn)throw Error(ht(363));wt=W1(wt),wt=v_(wt,Et),Et=[],wt=Array.from(wt);for(var bt=0;bt<wt.length;){var Bt=wt[bt++];if(Bt.tag===5)In(Bt)||Et.push(Bt.stateNode);else for(Bt=Bt.child;Bt!==null;)wt.push(Bt),Bt=Bt.sibling}return Et}var mv=Math.ceil,Im=vt.ReactCurrentDispatcher,Y1=vt.ReactCurrentOwner,Ho=vt.ReactCurrentBatchConfig,po=0,$o=null,Wo=null,ns=0,Vs=0,W0=Xr(0),Yo=0,Ip=null,j0=0,bm=0,K1=0,bp=null,Rs=null,Q1=0,Z1=1/0;function s0(){Z1=Zo()+500}var km=!1,J1=null,Pu=null,rs=!1,Lu=null,Nm=0,fs=0,Al=null,X0=-1,Dm=0;function vs(){return po&6?Zo():X0!==-1?X0:X0=Zo()}function Iu(wt){return wt.mode&1?po&2&&ns!==0?ns&-ns:nv.transition!==null?(Dm===0&&(wt=Vo,Vo<<=1,!(Vo&4194240)&&(Vo=64),Dm=wt),Dm):(wt=io,wt!==0?wt:Kn()):1}function na(wt,Et,bt){if(50<fs)throw fs=0,Al=null,Error(ht(185));var Bt=kp(wt,Et);return Bt===null?null:(P0(Bt,Et,bt),(!(po&2)||Bt!==$o)&&(Bt===$o&&(!(po&2)&&(bm|=Et),Yo===4&&bu(Bt,ns)),ys(Bt,bt),Et===1&&po===0&&!(wt.mode&1)&&(s0(),im&&Bl())),Bt)}function kp(wt,Et){wt.lanes|=Et;var bt=wt.alternate;for(bt!==null&&(bt.lanes|=Et),bt=wt,wt=wt.return;wt!==null;)wt.childLanes|=Et,bt=wt.alternate,bt!==null&&(bt.childLanes|=Et),bt=wt,wt=wt.return;return bt.tag===3?bt.stateNode:null}function ys(wt,Et){var bt=wt.callbackNode;R2(wt,Et);var Bt=nm(wt,wt===$o?ns:0);if(Bt===0)bt!==null&&L2(bt),wt.callbackNode=null,wt.callbackPriority=0;else if(Et=Bt&-Bt,wt.callbackPriority!==Et){if(bt!=null&&L2(bt),Et===1)wt.tag===0?tv(y_.bind(null,wt)):b2(y_.bind(null,wt)),Fn?vr(function(){po===0&&Bl()}):u1(_p,Bl),bt=null;else{switch(P2(Bt)){case 1:bt=_p;break;case 4:bt=Q_;break;case 16:bt=oo;break;case 536870912:bt=Z_;break;default:bt=oo}bt=R_(bt,Om.bind(null,wt))}wt.callbackPriority=Et,wt.callbackNode=bt}}function Om(wt,Et){if(X0=-1,Dm=0,po&6)throw Error(ht(327));var bt=wt.callbackNode;if(u0()&&wt.callbackNode!==bt)return null;var Bt=nm(wt,wt===$o?ns:0);if(Bt===0)return null;if(Bt&30||Bt&wt.expiredLanes||Et)Et=Fm(wt,Bt);else{Et=Bt;var Gt=po;po|=2;var Xt=w_();($o!==wt||ns!==Et)&&(s0(),a0(wt,Et));do try{_v();break}catch(_n){S_(wt,_n)}while(1);f1(),Im.current=Xt,po=Gt,Wo!==null?Et=0:($o=null,ns=0,Et=Yo)}if(Et!==0){if(Et===2&&(Gt=xl(wt),Gt!==0&&(Bt=Gt,Et=e2(wt,Gt))),Et===1)throw bt=Ip,a0(wt,0),bu(wt,Bt),ys(wt,Zo()),bt;if(Et===6)bu(wt,Bt);else{if(Gt=wt.current.alternate,!(Bt&30)&&!ga(Gt)&&(Et=Fm(wt,Bt),Et===2&&(Xt=xl(wt),Xt!==0&&(Bt=Xt,Et=e2(wt,Xt))),Et===1))throw bt=Ip,a0(wt,0),bu(wt,Bt),ys(wt,Zo()),bt;switch(wt.finishedWork=Gt,wt.finishedLanes=Bt,Et){case 0:case 1:throw Error(ht(345));case 2:l0(wt,Rs);break;case 3:if(bu(wt,Bt),(Bt&130023424)===Bt&&(Et=Q1+500-Zo(),10<Et)){if(nm(wt,0)!==0)break;if(Gt=wt.suspendedLanes,(Gt&Bt)!==Bt){vs(),wt.pingedLanes|=wt.suspendedLanes&Gt;break}wt.timeoutHandle=tr(l0.bind(null,wt,Rs),Et);break}l0(wt,Rs);break;case 4:if(bu(wt,Bt),(Bt&4194240)===Bt)break;for(Et=wt.eventTimes,Gt=-1;0<Bt;){var rn=31-xo(Bt);Xt=1<<rn,rn=Et[rn],rn>Gt&&(Gt=rn),Bt&=~Xt}if(Bt=Gt,Bt=Zo()-Bt,Bt=(120>Bt?120:480>Bt?480:1080>Bt?1080:1920>Bt?1920:3e3>Bt?3e3:4320>Bt?4320:1960*mv(Bt/1960))-Bt,10<Bt){wt.timeoutHandle=tr(l0.bind(null,wt,Rs),Bt);break}l0(wt,Rs);break;case 5:l0(wt,Rs);break;default:throw Error(ht(329))}}}return ys(wt,Zo()),wt.callbackNode===bt?Om.bind(null,wt):null}function e2(wt,Et){var bt=bp;return wt.current.memoizedState.isDehydrated&&(a0(wt,Et).flags|=256),wt=Fm(wt,Et),wt!==2&&(Et=Rs,Rs=bt,Et!==null&&t2(Et)),wt}function t2(wt){Rs===null?Rs=wt:Rs.push.apply(Rs,wt)}function ga(wt){for(var Et=wt;;){if(Et.flags&16384){var bt=Et.updateQueue;if(bt!==null&&(bt=bt.stores,bt!==null))for(var Bt=0;Bt<bt.length;Bt++){var Gt=bt[Bt],Xt=Gt.getSnapshot;Gt=Gt.value;try{if(!Fl(Xt(),Gt))return!1}catch{return!1}}}if(bt=Et.child,Et.subtreeFlags&16384&&bt!==null)bt.return=Et,Et=bt;else{if(Et===wt)break;for(;Et.sibling===null;){if(Et.return===null||Et.return===wt)return!0;Et=Et.return}Et.sibling.return=Et.return,Et=Et.sibling}}return!0}function bu(wt,Et){for(Et&=~K1,Et&=~bm,wt.suspendedLanes|=Et,wt.pingedLanes&=~Et,wt=wt.expirationTimes;0<Et;){var bt=31-xo(Et),Bt=1<<bt;wt[bt]=-1,Et&=~Bt}}function y_(wt){if(po&6)throw Error(ht(327));u0();var Et=nm(wt,0);if(!(Et&1))return ys(wt,Zo()),null;var bt=Fm(wt,Et);if(wt.tag!==0&&bt===2){var Bt=xl(wt);Bt!==0&&(Et=Bt,bt=e2(wt,Bt))}if(bt===1)throw bt=Ip,a0(wt,0),bu(wt,Et),ys(wt,Zo()),bt;if(bt===6)throw Error(ht(345));return wt.finishedWork=wt.current.alternate,wt.finishedLanes=Et,l0(wt,Rs),ys(wt,Zo()),null}function x_(wt){Lu!==null&&Lu.tag===0&&!(po&6)&&u0();var Et=po;po|=1;var bt=Ho.transition,Bt=io;try{if(Ho.transition=null,io=1,wt)return wt()}finally{io=Bt,Ho.transition=bt,po=Et,!(po&6)&&Bl()}}function n2(){Vs=W0.current,Sr(W0)}function a0(wt,Et){wt.finishedWork=null,wt.finishedLanes=0;var bt=wt.timeoutHandle;if(bt!==kr&&(wt.timeoutHandle=kr,_r(bt)),Wo!==null)for(bt=Wo.return;bt!==null;){var Bt=bt;switch(y1(Bt),Bt.tag){case 1:Bt=Bt.type.childContextTypes,Bt!=null&&wo();break;case 3:Yu(),Sr(Un),Sr(yo),Zs();break;case 5:mm(Bt);break;case 4:Yu();break;case 13:Sr(Fo);break;case 19:Sr(Fo);break;case 10:d1(Bt.type._context);break;case 22:case 23:n2()}bt=bt.return}if($o=wt,Wo=wt=ba(wt.current,null),ns=Vs=Et,Yo=0,Ip=null,K1=bm=j0=0,Rs=bp=null,Ul!==null){for(Et=0;Et<Ul.length;Et++)if(bt=Ul[Et],Bt=bt.interleaved,Bt!==null){bt.interleaved=null;var Gt=Bt.next,Xt=bt.pending;if(Xt!==null){var rn=Xt.next;Xt.next=Gt,Bt.next=rn}bt.pending=Bt}Ul=null}return wt}function S_(wt,Et){do{var bt=Wo;try{if(f1(),F0.current=V0,Cs){for(var Bt=zo.memoizedState;Bt!==null;){var Gt=Bt.queue;Gt!==null&&(Gt.pending=null),Bt=Bt.next}Cs=!1}if(B0=0,qo=as=zo=null,go=!1,U0=0,Y1.current=null,bt===null||bt.return===null){Yo=1,Ip=Et,Wo=null;break}e:{var Xt=wt,rn=bt.return,_n=bt,Vn=Et;if(Et=ns,_n.flags|=32768,Vn!==null&&typeof Vn=="object"&&typeof Vn.then=="function"){var cr=Vn,Dr=_n,Mr=Dr.tag;if(!(Dr.mode&1)&&(Mr===0||Mr===11||Mr===15)){var Qr=Dr.alternate;Qr?(Dr.updateQueue=Qr.updateQueue,Dr.memoizedState=Qr.memoizedState,Dr.lanes=Qr.lanes):(Dr.updateQueue=null,Dr.memoizedState=null)}var ko=Tp(rn);if(ko!==null){ko.flags&=-257,G0(ko,rn,_n,Xt,Et),ko.mode&1&&D1(Xt,cr,Et),Et=ko,Vn=cr;var Wr=Et.updateQueue;if(Wr===null){var Ar=new Set;Ar.add(Vn),Et.updateQueue=Ar}else Wr.add(Vn);break e}else{if(!(Et&1)){D1(Xt,cr,Et),r2();break e}Vn=Error(ht(426))}}else if(Oo&&_n.mode&1){var Gs=Tp(rn);if(Gs!==null){!(Gs.flags&65536)&&(Gs.flags|=256),G0(Gs,rn,_n,Xt,Et),pm(Vn);break e}}Xt=Vn,Yo!==4&&(Yo=2),bp===null?bp=[Xt]:bp.push(Xt),Vn=Mp(Vn,_n),_n=rn;do{switch(_n.tag){case 3:_n.flags|=65536,Et&=-Et,_n.lanes|=Et;var Ln=Ep(_n,Vn,Et);D2(_n,Ln);break e;case 1:Xt=Vn;var Sn=_n.type,Bn=_n.stateNode;if(!(_n.flags&128)&&(typeof Sn.getDerivedStateFromError=="function"||Bn!==null&&typeof Bn.componentDidCatch=="function"&&(Pu===null||!Pu.has(Bn)))){_n.flags|=65536,Et&=-Et,_n.lanes|=Et;var Pr=q2(_n,Xt,Et);D2(_n,Pr);break e}}_n=_n.return}while(_n!==null)}E_(bt)}catch(jr){Et=jr,Wo===bt&&bt!==null&&(Wo=bt=bt.return);continue}break}while(1)}function w_(){var wt=Im.current;return Im.current=V0,wt===null?V0:wt}function r2(){(Yo===0||Yo===3||Yo===2)&&(Yo=4),$o===null||!(j0&268435455)&&!(bm&268435455)||bu($o,ns)}function Fm(wt,Et){var bt=po;po|=2;var Bt=w_();$o===wt&&ns===Et||a0(wt,Et);do try{gv();break}catch(Gt){S_(wt,Gt)}while(1);if(f1(),po=bt,Im.current=Bt,Wo!==null)throw Error(ht(261));return $o=null,ns=0,Yo}function gv(){for(;Wo!==null;)M_(Wo)}function _v(){for(;Wo!==null&&!K_();)M_(Wo)}function M_(wt){var Et=C_(wt.alternate,wt,Vs);wt.memoizedProps=wt.pendingProps,Et===null?E_(wt):Wo=Et,Y1.current=null}function E_(wt){var Et=wt;do{var bt=Et.alternate;if(wt=Et.return,Et.flags&32768){if(bt=cv(bt,Et),bt!==null){bt.flags&=32767,Wo=bt;return}if(wt!==null)wt.flags|=32768,wt.subtreeFlags=0,wt.deletions=null;else{Yo=6,Wo=null;return}}else if(bt=av(bt,Et,Vs),bt!==null){Wo=bt;return}if(Et=Et.sibling,Et!==null){Wo=Et;return}Wo=Et=wt}while(Et!==null);Yo===0&&(Yo=5)}function l0(wt,Et){var bt=io,Bt=Ho.transition;try{Ho.transition=null,io=1,vv(wt,Et,bt)}finally{Ho.transition=Bt,io=bt}return null}function vv(wt,Et,bt){do u0();while(Lu!==null);if(po&6)throw Error(ht(327));var Bt=wt.finishedWork,Gt=wt.finishedLanes;if(Bt===null)return null;if(wt.finishedWork=null,wt.finishedLanes=0,Bt===wt.current)throw Error(ht(177));wt.callbackNode=null,wt.callbackPriority=0;var Xt=Bt.lanes|Bt.childLanes;if(Y_(wt,Xt),wt===$o&&(Wo=$o=null,ns=0),!(Bt.subtreeFlags&2064)&&!(Bt.flags&2064)||rs||(rs=!0,R_(oo,function(){return u0(),null})),Xt=(Bt.flags&15990)!==0,Bt.subtreeFlags&15990||Xt){Xt=Ho.transition,Ho.transition=null;var rn=io;io=1;var _n=po;po|=4,Y1.current=null,dv(wt,Bt),hv(wt,Bt),pn(wt.containerInfo),wt.current=Bt,pv(Bt),I2(),po=_n,io=rn,Ho.transition=Xt}else wt.current=Bt;if(rs&&(rs=!1,Lu=wt,Nm=Gt),Xt=wt.pendingLanes,Xt===0&&(Pu=null),J_(Bt.stateNode),ys(wt,Zo()),Et!==null)for(bt=wt.onRecoverableError,Bt=0;Bt<Et.length;Bt++)bt(Et[Bt]);if(km)throw km=!1,wt=J1,J1=null,wt;return Nm&1&&wt.tag!==0&&u0(),Xt=wt.pendingLanes,Xt&1?wt===Al?fs++:(fs=0,Al=wt):fs=0,Bl(),null}function u0(){if(Lu!==null){var wt=P2(Nm),Et=Ho.transition,bt=io;try{if(Ho.transition=null,io=16>wt?16:wt,Lu===null)var Bt=!1;else{if(wt=Lu,Lu=null,Nm=0,po&6)throw Error(ht(331));var Gt=po;for(po|=4,Tr=wt.current;Tr!==null;){var Xt=Tr,rn=Xt.child;if(Tr.flags&16){var _n=Xt.deletions;if(_n!==null){for(var Vn=0;Vn<_n.length;Vn++){var cr=_n[Vn];for(Tr=cr;Tr!==null;){var Dr=Tr;switch(Dr.tag){case 0:case 11:case 15:o0(8,Dr,Xt)}var Mr=Dr.child;if(Mr!==null)Mr.return=Dr,Tr=Mr;else for(;Tr!==null;){Dr=Tr;var Qr=Dr.sibling,ko=Dr.return;if(u_(Dr),Dr===cr){Tr=null;break}if(Qr!==null){Qr.return=ko,Tr=Qr;break}Tr=ko}}}var Wr=Xt.alternate;if(Wr!==null){var Ar=Wr.child;if(Ar!==null){Wr.child=null;do{var Gs=Ar.sibling;Ar.sibling=null,Ar=Gs}while(Ar!==null)}}Tr=Xt}}if(Xt.subtreeFlags&2064&&rn!==null)rn.return=Xt,Tr=rn;else e:for(;Tr!==null;){if(Xt=Tr,Xt.flags&2048)switch(Xt.tag){case 0:case 11:case 15:o0(9,Xt,Xt.return)}var Ln=Xt.sibling;if(Ln!==null){Ln.return=Xt.return,Tr=Ln;break e}Tr=Xt.return}}var Sn=wt.current;for(Tr=Sn;Tr!==null;){rn=Tr;var Bn=rn.child;if(rn.subtreeFlags&2064&&Bn!==null)Bn.return=rn,Tr=Bn;else e:for(rn=Sn;Tr!==null;){if(_n=Tr,_n.flags&2048)try{switch(_n.tag){case 0:case 11:case 15:Pp(9,_n)}}catch(jr){Ps(_n,_n.return,jr)}if(_n===rn){Tr=null;break e}var Pr=_n.sibling;if(Pr!==null){Pr.return=_n.return,Tr=Pr;break e}Tr=_n.return}}if(po=Gt,Bl(),Ol&&typeof Ol.onPostCommitFiberRoot=="function")try{Ol.onPostCommitFiberRoot(rm,wt)}catch{}Bt=!0}return Bt}finally{io=bt,Ho.transition=Et}}return!1}function T_(wt,Et,bt){Et=Mp(bt,Et),Et=Ep(wt,Et,1),Tu(wt,Et),Et=vs(),wt=kp(wt,1),wt!==null&&(P0(wt,1,Et),ys(wt,Et))}function Ps(wt,Et,bt){if(wt.tag===3)T_(wt,wt,bt);else for(;Et!==null;){if(Et.tag===3){T_(Et,wt,bt);break}else if(Et.tag===1){var Bt=Et.stateNode;if(typeof Et.type.getDerivedStateFromError=="function"||typeof Bt.componentDidCatch=="function"&&(Pu===null||!Pu.has(Bt))){wt=Mp(bt,wt),wt=q2(Et,wt,1),Tu(Et,wt),wt=vs(),Et=kp(Et,1),Et!==null&&(P0(Et,1,wt),ys(Et,wt));break}}Et=Et.return}}function yv(wt,Et,bt){var Bt=wt.pingCache;Bt!==null&&Bt.delete(Et),Et=vs(),wt.pingedLanes|=wt.suspendedLanes&bt,$o===wt&&(ns&bt)===bt&&(Yo===4||Yo===3&&(ns&130023424)===ns&&500>Zo()-Q1?a0(wt,0):K1|=bt),ys(wt,Et)}function A_(wt,Et){Et===0&&(wt.mode&1?(Et=Mu,Mu<<=1,!(Mu&130023424)&&(Mu=4194304)):Et=1);var bt=vs();wt=kp(wt,Et),wt!==null&&(P0(wt,Et,bt),ys(wt,bt))}function xv(wt){var Et=wt.memoizedState,bt=0;Et!==null&&(bt=Et.retryLane),A_(wt,bt)}function Sv(wt,Et){var bt=0;switch(wt.tag){case 13:var Bt=wt.stateNode,Gt=wt.memoizedState;Gt!==null&&(bt=Gt.retryLane);break;case 19:Bt=wt.stateNode;break;default:throw Error(ht(314))}Bt!==null&&Bt.delete(Et),A_(wt,bt)}var C_;C_=function(wt,Et,bt){if(wt!==null)if(wt.memoizedProps!==Et.pendingProps||Un.current)Us=!0;else{if(!(wt.lanes&bt)&&!(Et.flags&128))return Us=!1,uv(wt,Et,bt);Us=!!(wt.flags&131072)}else Us=!1,Oo&&Et.flags&1048576&&V2(Et,hm,Et.index);switch(Et.lanes=0,Et.tag){case 2:var Bt=Et.type;wt!==null&&(wt.alternate=null,Et.alternate=null,Et.flags|=2),wt=Et.pendingProps;var Gt=$r(Et,yo.current);I0(Et,bt),Gt=gm(null,Et,Bt,wt,Gt,bt);var Xt=A1();return Et.flags|=1,typeof Gt=="object"&&Gt!==null&&typeof Gt.render=="function"&&Gt.$$typeof===void 0?(Et.tag=1,Et.memoizedState=null,Et.updateQueue=null,To(Bt)?(Xt=!0,Ko(Et)):Xt=!1,Et.memoizedState=Gt.state!==null&&Gt.state!==void 0?Gt.state:null,p1(Et),Gt.updater=fm,Et.stateNode=Gt,Gt._reactInternals=Et,g1(Et,Bt,wt,bt),Et=wm(null,Et,Bt,!0,Xt,bt)):(Et.tag=0,Oo&&Xt&&_1(Et),cs(null,Et,Gt,bt),Et=Et.child),Et;case 16:Bt=Et.elementType;e:{switch(wt!==null&&(wt.alternate=null,Et.alternate=null,Et.flags|=2),wt=Et.pendingProps,Gt=Bt._init,Bt=Gt(Bt._payload),Et.type=Bt,Gt=Et.tag=Mv(Bt),wt=wl(Bt,wt),Gt){case 0:Et=F1(null,Et,Bt,wt,bt);break e;case 1:Et=e_(null,Et,Bt,wt,bt);break e;case 11:Et=Q2(null,Et,Bt,wt,bt);break e;case 14:Et=Z2(null,Et,Bt,wl(Bt.type,wt),bt);break e}throw Error(ht(306,Bt,""))}return Et;case 0:return Bt=Et.type,Gt=Et.pendingProps,Gt=Et.elementType===Bt?Gt:wl(Bt,Gt),F1(wt,Et,Bt,Gt,bt);case 1:return Bt=Et.type,Gt=Et.pendingProps,Gt=Et.elementType===Bt?Gt:wl(Bt,Gt),e_(wt,Et,Bt,Gt,bt);case 3:e:{if(n0(Et),wt===null)throw Error(ht(387));Bt=Et.pendingProps,Xt=Et.memoizedState,Gt=Xt.element,N2(wt,Et),cm(Et,Bt,null,bt);var rn=Et.memoizedState;if(Bt=rn.element,Jn&&Xt.isDehydrated)if(Xt={element:Bt,isDehydrated:!1,cache:rn.cache,transitions:rn.transitions},Et.updateQueue.baseState=Xt,Et.memoizedState=Xt,Et.flags&256){Gt=Error(ht(423)),Et=r0(wt,Et,Bt,bt,Gt);break e}else if(Bt!==Gt){Gt=Error(ht(424)),Et=r0(wt,Et,Bt,bt,Gt);break e}else for(Jn&&(Bs=Wu(Et.stateNode.containerInfo),Fs=Et,Oo=!0,Ml=null,vp=!1),bt=W2(Et,null,Bt,bt),Et.child=bt;bt;)bt.flags=bt.flags&-3|4096,bt=bt.sibling;else{if(qu(),Bt===Gt){Et=fu(wt,Et,bt);break e}cs(wt,Et,Bt,bt)}Et=Et.child}return Et;case 5:return E1(Et),wt===null&&S1(Et),Bt=Et.type,Gt=Et.pendingProps,Xt=wt!==null?wt.memoizedProps:null,rn=Gt.children,Xn(Bt,Gt)?rn=null:Xt!==null&&Xn(Bt,Xt)&&(Et.flags|=32),O1(wt,Et),cs(wt,Et,rn,bt),Et.child;case 6:return wt===null&&S1(Et),null;case 13:return t_(wt,Et,bt);case 4:return Qs(Et,Et.stateNode.containerInfo),Bt=Et.pendingProps,wt===null?Et.child=D0(Et,null,Bt,bt):cs(wt,Et,Bt,bt),Et.child;case 11:return Bt=Et.type,Gt=Et.pendingProps,Gt=Et.elementType===Bt?Gt:wl(Bt,Gt),Q2(wt,Et,Bt,Gt,bt);case 7:return cs(wt,Et,Et.pendingProps,bt),Et.child;case 8:return cs(wt,Et,Et.pendingProps.children,bt),Et.child;case 12:return cs(wt,Et,Et.pendingProps.children,bt),Et.child;case 10:e:{if(Bt=Et.type._context,Gt=Et.pendingProps,Xt=Et.memoizedProps,rn=Gt.value,k2(Et,Bt,rn),Xt!==null)if(Fl(Xt.value,rn)){if(Xt.children===Gt.children&&!Un.current){Et=fu(wt,Et,bt);break e}}else for(Xt=Et.child,Xt!==null&&(Xt.return=Et);Xt!==null;){var _n=Xt.dependencies;if(_n!==null){rn=Xt.child;for(var Vn=_n.firstContext;Vn!==null;){if(Vn.context===Bt){if(Xt.tag===1){Vn=ou(-1,bt&-bt),Vn.tag=2;var cr=Xt.updateQueue;if(cr!==null){cr=cr.shared;var Dr=cr.pending;Dr===null?Vn.next=Vn:(Vn.next=Dr.next,Dr.next=Vn),cr.pending=Vn}}Xt.lanes|=bt,Vn=Xt.alternate,Vn!==null&&(Vn.lanes|=bt),h1(Xt.return,bt,Et),_n.lanes|=bt;break}Vn=Vn.next}}else if(Xt.tag===10)rn=Xt.type===Et.type?null:Xt.child;else if(Xt.tag===18){if(rn=Xt.return,rn===null)throw Error(ht(341));rn.lanes|=bt,_n=rn.alternate,_n!==null&&(_n.lanes|=bt),h1(rn,bt,Et),rn=Xt.sibling}else rn=Xt.child;if(rn!==null)rn.return=Xt;else for(rn=Xt;rn!==null;){if(rn===Et){rn=null;break}if(Xt=rn.sibling,Xt!==null){Xt.return=rn.return,rn=Xt;break}rn=rn.return}Xt=rn}cs(wt,Et,Gt.children,bt),Et=Et.child}return Et;case 9:return Gt=Et.type,Bt=Et.pendingProps.children,I0(Et,bt),Gt=Xs(Gt),Bt=Bt(Gt),Et.flags|=1,cs(wt,Et,Bt,bt),Et.child;case 14:return Bt=Et.type,Gt=wl(Bt,Et.pendingProps),Gt=wl(Bt.type,Gt),Z2(wt,Et,Bt,Gt,bt);case 15:return J2(wt,Et,Et.type,Et.pendingProps,bt);case 17:return Bt=Et.type,Gt=Et.pendingProps,Gt=Et.elementType===Bt?Gt:wl(Bt,Gt),wt!==null&&(wt.alternate=null,Et.alternate=null,Et.flags|=2),Et.tag=1,To(Bt)?(wt=!0,Ko(Et)):wt=!1,I0(Et,bt),U2(Et,Bt,Gt),g1(Et,Bt,Gt,bt),wm(null,Et,Bt,!0,wt,bt);case 19:return o_(wt,Et,bt);case 22:return _g(wt,Et,bt)}throw Error(ht(156,Et.tag))};function R_(wt,Et){return u1(wt,Et)}function wv(wt,Et,bt,Bt){this.tag=wt,this.key=bt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=Et,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Bt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xa(wt,Et,bt,Bt){return new wv(wt,Et,bt,Bt)}function i2(wt){return wt=wt.prototype,!(!wt||!wt.isReactComponent)}function Mv(wt){if(typeof wt=="function")return i2(wt)?1:0;if(wt!=null){if(wt=wt.$$typeof,wt===Dt)return 11;if(wt===Ot)return 14}return 2}function ba(wt,Et){var bt=wt.alternate;return bt===null?(bt=xa(wt.tag,Et,wt.key,wt.mode),bt.elementType=wt.elementType,bt.type=wt.type,bt.stateNode=wt.stateNode,bt.alternate=wt,wt.alternate=bt):(bt.pendingProps=Et,bt.type=wt.type,bt.flags=0,bt.subtreeFlags=0,bt.deletions=null),bt.flags=wt.flags&14680064,bt.childLanes=wt.childLanes,bt.lanes=wt.lanes,bt.child=wt.child,bt.memoizedProps=wt.memoizedProps,bt.memoizedState=wt.memoizedState,bt.updateQueue=wt.updateQueue,Et=wt.dependencies,bt.dependencies=Et===null?null:{lanes:Et.lanes,firstContext:Et.firstContext},bt.sibling=wt.sibling,bt.index=wt.index,bt.ref=wt.ref,bt}function Bm(wt,Et,bt,Bt,Gt,Xt){var rn=2;if(Bt=wt,typeof wt=="function")i2(wt)&&(rn=1);else if(typeof wt=="string")rn=5;else e:switch(wt){case Tt:return ds(bt.children,Gt,Xt,Et);case At:rn=8,Gt|=8;break;case Ct:return wt=xa(12,bt,Et,Gt|2),wt.elementType=Ct,wt.lanes=Xt,wt;case Nt:return wt=xa(13,bt,Et,Gt),wt.elementType=Nt,wt.lanes=Xt,wt;case Lt:return wt=xa(19,bt,Et,Gt),wt.elementType=Lt,wt.lanes=Xt,wt;case Vt:return Wl(bt,Gt,Xt,Et);default:if(typeof wt=="object"&&wt!==null)switch(wt.$$typeof){case Rt:rn=10;break e;case yt:rn=9;break e;case Dt:rn=11;break e;case Ot:rn=14;break e;case Ft:rn=16,Bt=null;break e}throw Error(ht(130,wt==null?wt:typeof wt,""))}return Et=xa(rn,bt,Et,Gt),Et.elementType=wt,Et.type=Bt,Et.lanes=Xt,Et}function ds(wt,Et,bt,Bt){return wt=xa(7,wt,Bt,Et),wt.lanes=bt,wt}function Wl(wt,Et,bt,Bt){return wt=xa(22,wt,Bt,Et),wt.elementType=Vt,wt.lanes=bt,wt.stateNode={},wt}function jo(wt,Et,bt){return wt=xa(6,wt,null,Et),wt.lanes=bt,wt}function Cl(wt,Et,bt){return Et=xa(4,wt.children!==null?wt.children:[],wt.key,Et),Et.lanes=bt,Et.stateNode={containerInfo:wt.containerInfo,pendingChildren:null,implementation:wt.implementation},Et}function o2(wt,Et,bt,Bt,Gt){this.tag=Et,this.containerInfo=wt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=kr,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sl(0),this.expirationTimes=Sl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sl(0),this.identifierPrefix=Bt,this.onRecoverableError=Gt,Jn&&(this.mutableSourceEagerHydrationData=null)}function ku(wt,Et,bt,Bt,Gt,Xt,rn,_n,Vn){return wt=new o2(wt,Et,bt,_n,Vn),Et===1?(Et=1,Xt===!0&&(Et|=8)):Et=0,Xt=xa(3,null,null,Et),wt.current=Xt,Xt.stateNode=wt,Xt.memoizedState={element:Bt,isDehydrated:bt,cache:null,transitions:null},p1(Xt),wt}function Xl(wt){if(!wt)return fo;wt=wt._reactInternals;e:{if(qt(wt)!==wt||wt.tag!==1)throw Error(ht(170));var Et=wt;do{switch(Et.tag){case 3:Et=Et.stateNode.context;break e;case 1:if(To(Et.type)){Et=Et.stateNode.__reactInternalMemoizedMergedChildContext;break e}}Et=Et.return}while(Et!==null);throw Error(ht(171))}if(wt.tag===1){var bt=wt.type;if(To(bt))return ru(wt,bt,Et)}return Et}function Np(wt){var Et=wt._reactInternals;if(Et===void 0)throw typeof wt.render=="function"?Error(ht(188)):(wt=Object.keys(wt).join(","),Error(ht(268,wt)));return wt=cn(Et),wt===null?null:wt.stateNode}function P_(wt,Et){if(wt=wt.memoizedState,wt!==null&&wt.dehydrated!==null){var bt=wt.retryLane;wt.retryLane=bt!==0&&bt<Et?bt:Et}}function s2(wt,Et){P_(wt,Et),(wt=wt.alternate)&&P_(wt,Et)}function Ev(wt){return wt=cn(wt),wt===null?null:wt.stateNode}function Tv(){return null}return a.attemptContinuousHydration=function(wt){if(wt.tag===13){var Et=vs();na(wt,134217728,Et),s2(wt,134217728)}},a.attemptHydrationAtCurrentPriority=function(wt){if(wt.tag===13){var Et=vs(),bt=Iu(wt);na(wt,bt,Et),s2(wt,bt)}},a.attemptSynchronousHydration=function(wt){switch(wt.tag){case 3:var Et=wt.stateNode;if(Et.current.memoizedState.isDehydrated){var bt=As(Et.pendingLanes);bt!==0&&(l1(Et,bt|1),ys(Et,Zo()),!(po&6)&&(s0(),Bl()))}break;case 13:var Bt=vs();x_(function(){return na(wt,1,Bt)}),s2(wt,1)}},a.batchedUpdates=function(wt,Et){var bt=po;po|=1;try{return wt(Et)}finally{po=bt,po===0&&(s0(),im&&Bl())}},a.createComponentSelector=function(wt){return{$$typeof:Rm,value:wt}},a.createContainer=function(wt,Et,bt,Bt,Gt,Xt,rn){return ku(wt,Et,!1,null,bt,Bt,Gt,Xt,rn)},a.createHasPseudoClassSelector=function(wt){return{$$typeof:zs,value:wt}},a.createHydrationContainer=function(wt,Et,bt,Bt,Gt,Xt,rn,_n,Vn){return wt=ku(bt,Bt,!0,wt,Gt,Xt,rn,_n,Vn),wt.context=Xl(null),bt=wt.current,Bt=vs(),Gt=Iu(bt),Xt=ou(Bt,Gt),Xt.callback=Et??null,Tu(bt,Xt),wt.current.lanes=Gt,P0(wt,Gt,Bt),ys(wt,Bt),wt},a.createPortal=function(wt,Et,bt){var Bt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:St,key:Bt==null?null:""+Bt,children:wt,containerInfo:Et,implementation:bt}},a.createRoleSelector=function(wt){return{$$typeof:$0,value:wt}},a.createTestNameSelector=function(wt){return{$$typeof:Pm,value:wt}},a.createTextSelector=function(wt){return{$$typeof:Lm,value:wt}},a.deferredUpdates=function(wt){var Et=io,bt=Ho.transition;try{return Ho.transition=null,io=16,wt()}finally{io=Et,Ho.transition=bt}},a.discreteUpdates=function(wt,Et,bt,Bt,Gt){var Xt=io,rn=Ho.transition;try{return Ho.transition=null,io=1,wt(Et,bt,Bt,Gt)}finally{io=Xt,Ho.transition=rn,po===0&&s0()}},a.findAllNodes=q1,a.findBoundingRects=function(wt,Et){if(!Yn)throw Error(ht(363));Et=q1(wt,Et),wt=[];for(var bt=0;bt<Et.length;bt++)wt.push(Qt(Et[bt]));for(Et=wt.length-1;0<Et;Et--){bt=wt[Et];for(var Bt=bt.x,Gt=Bt+bt.width,Xt=bt.y,rn=Xt+bt.height,_n=Et-1;0<=_n;_n--)if(Et!==_n){var Vn=wt[_n],cr=Vn.x,Dr=cr+Vn.width,Mr=Vn.y,Qr=Mr+Vn.height;if(Bt>=cr&&Xt>=Mr&&Gt<=Dr&&rn<=Qr){wt.splice(Et,1);break}else if(Bt!==cr||bt.width!==Vn.width||Qr<Xt||Mr>rn){if(!(Xt!==Mr||bt.height!==Vn.height||Dr<Bt||cr>Gt)){cr>Bt&&(Vn.width+=cr-Bt,Vn.x=Bt),Dr<Gt&&(Vn.width=Gt-cr),wt.splice(Et,1);break}}else{Mr>Xt&&(Vn.height+=Mr-Xt,Vn.y=Xt),Qr<rn&&(Vn.height=rn-Mr),wt.splice(Et,1);break}}}return wt},a.findHostInstance=Np,a.findHostInstanceWithNoPortals=function(wt){return wt=Jt(wt),wt=wt!==null?Tn(wt):null,wt===null?null:wt.stateNode},a.findHostInstanceWithWarning=function(wt){return Np(wt)},a.flushControlled=function(wt){var Et=po;po|=1;var bt=Ho.transition,Bt=io;try{Ho.transition=null,io=1,wt()}finally{io=Bt,Ho.transition=bt,po=Et,po===0&&(s0(),Bl())}},a.flushPassiveEffects=u0,a.flushSync=x_,a.focusWithin=function(wt,Et){if(!Yn)throw Error(ht(363));for(wt=W1(wt),Et=v_(wt,Et),Et=Array.from(Et),wt=0;wt<Et.length;){var bt=Et[wt++];if(!In(bt)){if(bt.tag===5&&xn(bt.stateNode))return!0;for(bt=bt.child;bt!==null;)Et.push(bt),bt=bt.sibling}}return!1},a.getCurrentUpdatePriority=function(){return io},a.getFindAllNodesFailureDescription=function(wt,Et){if(!Yn)throw Error(ht(363));var bt=0,Bt=[];wt=[W1(wt),0];for(var Gt=0;Gt<wt.length;){var Xt=wt[Gt++],rn=wt[Gt++],_n=Et[rn];if((Xt.tag!==5||!In(Xt))&&(j1(Xt,_n)&&(Bt.push(X1(_n)),rn++,rn>bt&&(bt=rn)),rn<Et.length))for(Xt=Xt.child;Xt!==null;)wt.push(Xt,rn),Xt=Xt.sibling}if(bt<Et.length){for(wt=[];bt<Et.length;bt++)wt.push(X1(Et[bt]));return`findAllNodes was able to match part of the selector:
  `+(Bt.join(" > ")+`

No matching component was found for:
  `)+wt.join(" > ")}return null},a.getPublicRootInstance=function(wt){if(wt=wt.current,!wt.child)return null;switch(wt.child.tag){case 5:return En(wt.child.stateNode);default:return wt.child.stateNode}},a.injectIntoDevTools=function(wt){if(wt={bundleType:wt.bundleType,version:wt.version,rendererPackageName:wt.rendererPackageName,rendererConfig:wt.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vt.ReactCurrentDispatcher,findHostInstanceByFiber:Ev,findFiberByHostInstance:wt.findFiberByHostInstance||Tv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")wt=!1;else{var Et=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(Et.isDisabled||!Et.supportsFiber)wt=!0;else{try{rm=Et.inject(wt),Ol=Et}catch{}wt=!!Et.checkDCE}}return wt},a.isAlreadyRendering=function(){return!1},a.observeVisibleRects=function(wt,Et,bt,Bt){if(!Yn)throw Error(ht(363));wt=q1(wt,Et);var Gt=er(wt,bt,Bt).disconnect;return{disconnect:function(){Gt()}}},a.registerMutableSourceForHydration=function(wt,Et){var bt=Et._getVersion;bt=bt(Et._source),wt.mutableSourceEagerHydrationData==null?wt.mutableSourceEagerHydrationData=[Et,bt]:wt.mutableSourceEagerHydrationData.push(Et,bt)},a.runWithPriority=function(wt,Et){var bt=io;try{return io=wt,Et()}finally{io=bt}},a.shouldError=function(){return null},a.shouldSuspend=function(){return!1},a.updateContainer=function(wt,Et,bt,Bt){var Gt=Et.current,Xt=vs(),rn=Iu(Gt);return bt=Xl(bt),Et.context===null?Et.context=bt:Et.pendingContext=bt,Et=ou(Xt,rn),Et.payload={element:wt},Bt=Bt===void 0?null:Bt,Bt!==null&&(Et.callback=Bt),Tu(Gt,Et),wt=na(Gt,rn,Xt),wt!==null&&um(wt,Gt,rn),rn},a};reactReconciler.exports=reactReconciler_production_min;var reactReconcilerExports=reactReconciler.exports;const Reconciler=getDefaultExportFromCjs(reactReconcilerExports),catalogue={},extend$1=c=>void Object.assign(catalogue,c);function createRenderer(c,e){function a(Tt,{args:At=[],attach:Ct,...Rt},yt){let Dt=`${Tt[0].toUpperCase()}${Tt.slice(1)}`,Nt;if(Tt==="primitive"){if(Rt.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const Lt=Rt.object;Nt=prepare(Lt,{type:Tt,root:yt,attach:Ct,primitive:!0})}else{const Lt=catalogue[Dt];if(!Lt)throw new Error(`R3F: ${Dt} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(At))throw new Error("R3F: The args prop must be an array!");Nt=prepare(new Lt(...At),{type:Tt,root:yt,attach:Ct,memoizedProps:{args:At}})}return Nt.__r3f.attach===void 0&&(Nt.isBufferGeometry?Nt.__r3f.attach="geometry":Nt.isMaterial&&(Nt.__r3f.attach="material")),Dt!=="inject"&&applyProps$1(Nt,Rt),Nt}function d(Tt,At){let Ct=!1;if(At){var Rt,yt;(Rt=At.__r3f)!=null&&Rt.attach?attach(Tt,At,At.__r3f.attach):At.isObject3D&&Tt.isObject3D&&(Tt.add(At),Ct=!0),Ct||(yt=Tt.__r3f)==null||yt.objects.push(At),At.__r3f||prepare(At,{}),At.__r3f.parent=Tt,updateInstance(At),invalidateInstance(At)}}function nt(Tt,At,Ct){let Rt=!1;if(At){var yt,Dt;if((yt=At.__r3f)!=null&&yt.attach)attach(Tt,At,At.__r3f.attach);else if(At.isObject3D&&Tt.isObject3D){At.parent=Tt,At.dispatchEvent({type:"added"}),Tt.dispatchEvent({type:"childadded",child:At});const Nt=Tt.children.filter(Ot=>Ot!==At),Lt=Nt.indexOf(Ct);Tt.children=[...Nt.slice(0,Lt),At,...Nt.slice(Lt)],Rt=!0}Rt||(Dt=Tt.__r3f)==null||Dt.objects.push(At),At.__r3f||prepare(At,{}),At.__r3f.parent=Tt,updateInstance(At),invalidateInstance(At)}}function o(Tt,At,Ct=!1){Tt&&[...Tt].forEach(Rt=>ht(At,Rt,Ct))}function ht(Tt,At,Ct){if(At){var Rt,yt,Dt;if(At.__r3f&&(At.__r3f.parent=null),(Rt=Tt.__r3f)!=null&&Rt.objects&&(Tt.__r3f.objects=Tt.__r3f.objects.filter(Vt=>Vt!==At)),(yt=At.__r3f)!=null&&yt.attach)detach(Tt,At,At.__r3f.attach);else if(At.isObject3D&&Tt.isObject3D){var Nt;Tt.remove(At),(Nt=At.__r3f)!=null&&Nt.root&&removeInteractivity(findInitialRoot(At),At)}const Ot=(Dt=At.__r3f)==null?void 0:Dt.primitive,Ft=!Ot&&(Ct===void 0?At.dispose!==null:Ct);if(!Ot){var Lt;o((Lt=At.__r3f)==null?void 0:Lt.objects,At,Ft),o(At.children,At,Ft)}if(delete At.__r3f,Ft&&At.dispose&&At.type!=="Scene"){const Vt=()=>{try{At.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,Vt):Vt()}invalidateInstance(Tt)}}function vt(Tt,At,Ct,Rt){var yt;const Dt=(yt=Tt.__r3f)==null?void 0:yt.parent;if(!Dt)return;const Nt=a(At,Ct,Tt.__r3f.root);if(Tt.children){for(const Lt of Tt.children)Lt.__r3f&&d(Nt,Lt);Tt.children=Tt.children.filter(Lt=>!Lt.__r3f)}Tt.__r3f.objects.forEach(Lt=>d(Nt,Lt)),Tt.__r3f.objects=[],Tt.__r3f.autoRemovedBeforeAppend||ht(Dt,Tt),Nt.parent&&(Nt.__r3f.autoRemovedBeforeAppend=!0),d(Dt,Nt),Nt.raycast&&Nt.__r3f.eventCount&&findInitialRoot(Nt).getState().internal.interaction.push(Nt),[Rt,Rt.alternate].forEach(Lt=>{Lt!==null&&(Lt.stateNode=Nt,Lt.ref&&(typeof Lt.ref=="function"?Lt.ref(Nt):Lt.ref.current=Nt))})}const xt=()=>{};return{reconciler:Reconciler({createInstance:a,removeChild:ht,appendChild:d,appendInitialChild:d,insertBefore:nt,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(Tt,At)=>{if(!At)return;const Ct=Tt.getState().scene;Ct.__r3f&&(Ct.__r3f.root=Tt,d(Ct,At))},removeChildFromContainer:(Tt,At)=>{At&&ht(Tt.getState().scene,At)},insertInContainerBefore:(Tt,At,Ct)=>{if(!At||!Ct)return;const Rt=Tt.getState().scene;Rt.__r3f&&nt(Rt,At,Ct)},getRootHostContext:()=>null,getChildHostContext:Tt=>Tt,finalizeInitialChildren(Tt){var At;return!!((At=Tt==null?void 0:Tt.__r3f)!=null?At:{}).handlers},prepareUpdate(Tt,At,Ct,Rt){var yt;if(((yt=Tt==null?void 0:Tt.__r3f)!=null?yt:{}).primitive&&Rt.object&&Rt.object!==Tt)return[!0];{const{args:Nt=[],children:Lt,...Ot}=Rt,{args:Ft=[],children:Vt,...jt}=Ct;if(!Array.isArray(Nt))throw new Error("R3F: the args prop must be an array!");if(Nt.some((Yt,Kt)=>Yt!==Ft[Kt]))return[!0];const $t=diffProps(Tt,Ot,jt,!0);return $t.changes.length?[!1,$t]:null}},commitUpdate(Tt,[At,Ct],Rt,yt,Dt,Nt){At?vt(Tt,Rt,Dt,Nt):applyProps$1(Tt,Ct)},commitMount(Tt,At,Ct,Rt){var yt;const Dt=(yt=Tt.__r3f)!=null?yt:{};Tt.raycast&&Dt.handlers&&Dt.eventCount&&findInitialRoot(Tt).getState().internal.interaction.push(Tt)},getPublicInstance:Tt=>Tt,prepareForCommit:()=>null,preparePortalMount:Tt=>prepare(Tt.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(Tt){var At;const{attach:Ct,parent:Rt}=(At=Tt.__r3f)!=null?At:{};Ct&&Rt&&detach(Rt,Tt,Ct),Tt.isObject3D&&(Tt.visible=!1),invalidateInstance(Tt)},unhideInstance(Tt,At){var Ct;const{attach:Rt,parent:yt}=(Ct=Tt.__r3f)!=null?Ct:{};Rt&&yt&&attach(yt,Tt,Rt),(Tt.isObject3D&&At.visible==null||At.visible)&&(Tt.visible=!0),invalidateInstance(Tt)},createTextInstance:xt,hideTextInstance:xt,unhideTextInstance:xt,getCurrentEventPriority:()=>e?e():constantsExports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is.fun(performance.now)?performance.now:is.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}var _window$document,_window$navigator;const hasColorSpace=c=>"colorSpace"in c||"outputColorSpace"in c,getColorManagement=()=>{var c;return(c=catalogue.ColorManagement)!=null?c:null},isOrthographicCamera=c=>c&&c.isOrthographicCamera,isRef=c=>c&&c.hasOwnProperty("current"),useIsomorphicLayoutEffect=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback(c){const e=reactExports.useRef(c);return useIsomorphicLayoutEffect(()=>void(e.current=c),[c]),e}function Block({set:c}){return useIsomorphicLayoutEffect(()=>(c(new Promise(()=>null)),()=>c(!1)),[c]),null}class ErrorBoundary extends reactExports.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}ErrorBoundary.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",DEFAULTS=new Map,isDiffSet=c=>c&&!!c.memoized&&!!c.changes;function calculateDpr(c){var e;const a=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(c)?Math.min(Math.max(c[0],a),c[1]):c}const getRootState=c=>{var e;return(e=c.__r3f)==null?void 0:e.root.getState()};function findInitialRoot(c){let e=c.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const is={obj:c=>c===Object(c)&&!is.arr(c)&&typeof c!="function",fun:c=>typeof c=="function",str:c=>typeof c=="string",num:c=>typeof c=="number",boo:c=>typeof c=="boolean",und:c=>c===void 0,arr:c=>Array.isArray(c),equ(c,e,{arrays:a="shallow",objects:d="reference",strict:nt=!0}={}){if(typeof c!=typeof e||!!c!=!!e)return!1;if(is.str(c)||is.num(c)||is.boo(c))return c===e;const o=is.obj(c);if(o&&d==="reference")return c===e;const ht=is.arr(c);if(ht&&a==="reference")return c===e;if((ht||o)&&c===e)return!0;let vt;for(vt in c)if(!(vt in e))return!1;if(o&&a==="shallow"&&d==="shallow"){for(vt in nt?e:c)if(!is.equ(c[vt],e[vt],{strict:nt,objects:"reference"}))return!1}else for(vt in nt?e:c)if(c[vt]!==e[vt])return!1;if(is.und(vt)){if(ht&&c.length===0&&e.length===0||o&&Object.keys(c).length===0&&Object.keys(e).length===0)return!0;if(c!==e)return!1}return!0}};function buildGraph(c){const e={nodes:{},materials:{}};return c&&c.traverse(a=>{a.name&&(e.nodes[a.name]=a),a.material&&!e.materials[a.material.name]&&(e.materials[a.material.name]=a.material)}),e}function dispose(c){c.dispose&&c.type!=="Scene"&&c.dispose();for(const e in c)e.dispose==null||e.dispose(),delete c[e]}function prepare(c,e){const a=c;return a.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},c}function resolve(c,e){let a=c;if(e.includes("-")){const d=e.split("-"),nt=d.pop();return a=d.reduce((o,ht)=>o[ht],c),{target:a,key:nt}}else return{target:a,key:e}}const INDEX_REGEX=/-\d+$/;function attach(c,e,a){if(is.str(a)){if(INDEX_REGEX.test(a)){const o=a.replace(INDEX_REGEX,""),{target:ht,key:vt}=resolve(c,o);Array.isArray(ht[vt])||(ht[vt]=[])}const{target:d,key:nt}=resolve(c,a);e.__r3f.previousAttach=d[nt],d[nt]=e}else e.__r3f.previousAttach=a(c,e)}function detach(c,e,a){var d,nt;if(is.str(a)){const{target:o,key:ht}=resolve(c,a),vt=e.__r3f.previousAttach;vt===void 0?delete o[ht]:o[ht]=vt}else(d=e.__r3f)==null||d.previousAttach==null||d.previousAttach(c,e);(nt=e.__r3f)==null||delete nt.previousAttach}function diffProps(c,{children:e,key:a,ref:d,...nt},{children:o,key:ht,ref:vt,...xt}={},St=!1){const Tt=c.__r3f,At=Object.entries(nt),Ct=[];if(St){const yt=Object.keys(xt);for(let Dt=0;Dt<yt.length;Dt++)nt.hasOwnProperty(yt[Dt])||At.unshift([yt[Dt],DEFAULT+"remove"])}At.forEach(([yt,Dt])=>{var Nt;if((Nt=c.__r3f)!=null&&Nt.primitive&&yt==="object"||is.equ(Dt,xt[yt]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(yt))return Ct.push([yt,Dt,!0,[]]);let Lt=[];yt.includes("-")&&(Lt=yt.split("-")),Ct.push([yt,Dt,!1,Lt]);for(const Ot in nt){const Ft=nt[Ot];Ot.startsWith(`${yt}-`)&&Ct.push([Ot,Ft,!1,Ot.split("-")])}});const Rt={...nt};return Tt!=null&&Tt.memoizedProps&&Tt!=null&&Tt.memoizedProps.args&&(Rt.args=Tt.memoizedProps.args),Tt!=null&&Tt.memoizedProps&&Tt!=null&&Tt.memoizedProps.attach&&(Rt.attach=Tt.memoizedProps.attach),{memoized:Rt,changes:Ct}}const __DEV__=typeof process<"u"&&!1;function applyProps$1(c,e){var a;const d=c.__r3f,nt=d==null?void 0:d.root,o=nt==null||nt.getState==null?void 0:nt.getState(),{memoized:ht,changes:vt}=isDiffSet(e)?e:diffProps(c,e),xt=d==null?void 0:d.eventCount;c.__r3f&&(c.__r3f.memoizedProps=ht);for(let Ct=0;Ct<vt.length;Ct++){let[Rt,yt,Dt,Nt]=vt[Ct];if(hasColorSpace(c)){const Vt="srgb",jt="srgb-linear";Rt==="encoding"?(Rt="colorSpace",yt=yt===3001?Vt:jt):Rt==="outputEncoding"&&(Rt="outputColorSpace",yt=yt===3001?Vt:jt)}let Lt=c,Ot=Lt[Rt];if(Nt.length&&(Ot=Nt.reduce((Ft,Vt)=>Ft[Vt],c),!(Ot&&Ot.set))){const[Ft,...Vt]=Nt.reverse();Lt=Vt.reverse().reduce((jt,$t)=>jt[$t],c),Rt=Ft}if(yt===DEFAULT+"remove")if(Lt.constructor){let Ft=DEFAULTS.get(Lt.constructor);Ft||(Ft=new Lt.constructor,DEFAULTS.set(Lt.constructor,Ft)),yt=Ft[Rt]}else yt=0;if(Dt&&d)yt?d.handlers[Rt]=yt:delete d.handlers[Rt],d.eventCount=Object.keys(d.handlers).length;else if(Ot&&Ot.set&&(Ot.copy||Ot instanceof Layers)){if(Array.isArray(yt))Ot.fromArray?Ot.fromArray(yt):Ot.set(...yt);else if(Ot.copy&&yt&&yt.constructor&&(__DEV__?Ot.constructor.name===yt.constructor.name:Ot.constructor===yt.constructor))Ot.copy(yt);else if(yt!==void 0){var St;const Ft=(St=Ot)==null?void 0:St.isColor;!Ft&&Ot.setScalar?Ot.setScalar(yt):Ot instanceof Layers&&yt instanceof Layers?Ot.mask=yt.mask:Ot.set(yt),!getColorManagement()&&o&&!o.linear&&Ft&&Ot.convertSRGBToLinear()}}else{var Tt;if(Lt[Rt]=yt,(Tt=Lt[Rt])!=null&&Tt.isTexture&&Lt[Rt].format===RGBAFormat&&Lt[Rt].type===UnsignedByteType&&o){const Ft=Lt[Rt];hasColorSpace(Ft)&&hasColorSpace(o.gl)?Ft.colorSpace=o.gl.outputColorSpace:Ft.encoding=o.gl.outputEncoding}}invalidateInstance(c)}if(d&&d.parent&&c.raycast&&xt!==d.eventCount){const Ct=findInitialRoot(c).getState().internal,Rt=Ct.interaction.indexOf(c);Rt>-1&&Ct.interaction.splice(Rt,1),d.eventCount&&Ct.interaction.push(c)}return!(vt.length===1&&vt[0][0]==="onUpdate")&&vt.length&&(a=c.__r3f)!=null&&a.parent&&updateInstance(c),c}function invalidateInstance(c){var e,a;const d=(e=c.__r3f)==null||(a=e.root)==null||a.getState==null?void 0:a.getState();d&&d.internal.frames===0&&d.invalidate()}function updateInstance(c){c.onUpdate==null||c.onUpdate(c)}function updateCamera(c,e){c.manual||(isOrthographicCamera(c)?(c.left=e.width/-2,c.right=e.width/2,c.top=e.height/2,c.bottom=e.height/-2):c.aspect=e.width/e.height,c.updateProjectionMatrix(),c.updateMatrixWorld())}function makeId(c){return(c.eventObject||c.object).uuid+"/"+c.index+c.instanceId}function getEventPriority(){var c;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return constantsExports.DefaultEventPriority;switch((c=e.event)==null?void 0:c.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}}function releaseInternalPointerCapture(c,e,a,d){const nt=a.get(e);nt&&(a.delete(e),a.size===0&&(c.delete(d),nt.target.releasePointerCapture(d)))}function removeInteractivity(c,e){const{internal:a}=c.getState();a.interaction=a.interaction.filter(d=>d!==e),a.initialHits=a.initialHits.filter(d=>d!==e),a.hovered.forEach((d,nt)=>{(d.eventObject===e||d.object===e)&&a.hovered.delete(nt)}),a.capturedMap.forEach((d,nt)=>{releaseInternalPointerCapture(a.capturedMap,e,d,nt)})}function createEvents(c){function e(xt){const{internal:St}=c.getState(),Tt=xt.offsetX-St.initialClick[0],At=xt.offsetY-St.initialClick[1];return Math.round(Math.sqrt(Tt*Tt+At*At))}function a(xt){return xt.filter(St=>["Move","Over","Enter","Out","Leave"].some(Tt=>{var At;return(At=St.__r3f)==null?void 0:At.handlers["onPointer"+Tt]}))}function d(xt,St){const Tt=c.getState(),At=new Set,Ct=[],Rt=St?St(Tt.internal.interaction):Tt.internal.interaction;for(let Lt=0;Lt<Rt.length;Lt++){const Ot=getRootState(Rt[Lt]);Ot&&(Ot.raycaster.camera=void 0)}Tt.previousRoot||Tt.events.compute==null||Tt.events.compute(xt,Tt);function yt(Lt){const Ot=getRootState(Lt);if(!Ot||!Ot.events.enabled||Ot.raycaster.camera===null)return[];if(Ot.raycaster.camera===void 0){var Ft;Ot.events.compute==null||Ot.events.compute(xt,Ot,(Ft=Ot.previousRoot)==null?void 0:Ft.getState()),Ot.raycaster.camera===void 0&&(Ot.raycaster.camera=null)}return Ot.raycaster.camera?Ot.raycaster.intersectObject(Lt,!0):[]}let Dt=Rt.flatMap(yt).sort((Lt,Ot)=>{const Ft=getRootState(Lt.object),Vt=getRootState(Ot.object);return!Ft||!Vt?Lt.distance-Ot.distance:Vt.events.priority-Ft.events.priority||Lt.distance-Ot.distance}).filter(Lt=>{const Ot=makeId(Lt);return At.has(Ot)?!1:(At.add(Ot),!0)});Tt.events.filter&&(Dt=Tt.events.filter(Dt,Tt));for(const Lt of Dt){let Ot=Lt.object;for(;Ot;){var Nt;(Nt=Ot.__r3f)!=null&&Nt.eventCount&&Ct.push({...Lt,eventObject:Ot}),Ot=Ot.parent}}if("pointerId"in xt&&Tt.internal.capturedMap.has(xt.pointerId))for(let Lt of Tt.internal.capturedMap.get(xt.pointerId).values())At.has(makeId(Lt.intersection))||Ct.push(Lt.intersection);return Ct}function nt(xt,St,Tt,At){const Ct=c.getState();if(xt.length){const Rt={stopped:!1};for(const yt of xt){const Dt=getRootState(yt.object)||Ct,{raycaster:Nt,pointer:Lt,camera:Ot,internal:Ft}=Dt,Vt=new Vector3(Lt.x,Lt.y,0).unproject(Ot),jt=Wt=>{var Jt,cn;return(Jt=(cn=Ft.capturedMap.get(Wt))==null?void 0:cn.has(yt.eventObject))!=null?Jt:!1},$t=Wt=>{const Jt={intersection:yt,target:St.target};Ft.capturedMap.has(Wt)?Ft.capturedMap.get(Wt).set(yt.eventObject,Jt):Ft.capturedMap.set(Wt,new Map([[yt.eventObject,Jt]])),St.target.setPointerCapture(Wt)},Yt=Wt=>{const Jt=Ft.capturedMap.get(Wt);Jt&&releaseInternalPointerCapture(Ft.capturedMap,yt.eventObject,Jt,Wt)};let Kt={};for(let Wt in St){let Jt=St[Wt];typeof Jt!="function"&&(Kt[Wt]=Jt)}let qt={...yt,...Kt,pointer:Lt,intersections:xt,stopped:Rt.stopped,delta:Tt,unprojectedPoint:Vt,ray:Nt.ray,camera:Ot,stopPropagation(){const Wt="pointerId"in St&&Ft.capturedMap.get(St.pointerId);if((!Wt||Wt.has(yt.eventObject))&&(qt.stopped=Rt.stopped=!0,Ft.hovered.size&&Array.from(Ft.hovered.values()).find(Jt=>Jt.eventObject===yt.eventObject))){const Jt=xt.slice(0,xt.indexOf(yt));o([...Jt,yt])}},target:{hasPointerCapture:jt,setPointerCapture:$t,releasePointerCapture:Yt},currentTarget:{hasPointerCapture:jt,setPointerCapture:$t,releasePointerCapture:Yt},nativeEvent:St};if(At(qt),Rt.stopped===!0)break}}return xt}function o(xt){const{internal:St}=c.getState();for(const Tt of St.hovered.values())if(!xt.length||!xt.find(At=>At.object===Tt.object&&At.index===Tt.index&&At.instanceId===Tt.instanceId)){const Ct=Tt.eventObject.__r3f,Rt=Ct==null?void 0:Ct.handlers;if(St.hovered.delete(makeId(Tt)),Ct!=null&&Ct.eventCount){const yt={...Tt,intersections:xt};Rt.onPointerOut==null||Rt.onPointerOut(yt),Rt.onPointerLeave==null||Rt.onPointerLeave(yt)}}}function ht(xt,St){for(let Tt=0;Tt<St.length;Tt++){const At=St[Tt].__r3f;At==null||At.handlers.onPointerMissed==null||At.handlers.onPointerMissed(xt)}}function vt(xt){switch(xt){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return St=>{const{internal:Tt}=c.getState();"pointerId"in St&&Tt.capturedMap.has(St.pointerId)&&requestAnimationFrame(()=>{Tt.capturedMap.has(St.pointerId)&&(Tt.capturedMap.delete(St.pointerId),o([]))})}}return function(Tt){const{onPointerMissed:At,internal:Ct}=c.getState();Ct.lastEvent.current=Tt;const Rt=xt==="onPointerMove",yt=xt==="onClick"||xt==="onContextMenu"||xt==="onDoubleClick",Nt=d(Tt,Rt?a:void 0),Lt=yt?e(Tt):0;xt==="onPointerDown"&&(Ct.initialClick=[Tt.offsetX,Tt.offsetY],Ct.initialHits=Nt.map(Ft=>Ft.eventObject)),yt&&!Nt.length&&Lt<=2&&(ht(Tt,Ct.interaction),At&&At(Tt)),Rt&&o(Nt);function Ot(Ft){const Vt=Ft.eventObject,jt=Vt.__r3f,$t=jt==null?void 0:jt.handlers;if(jt!=null&&jt.eventCount)if(Rt){if($t.onPointerOver||$t.onPointerEnter||$t.onPointerOut||$t.onPointerLeave){const Yt=makeId(Ft),Kt=Ct.hovered.get(Yt);Kt?Kt.stopped&&Ft.stopPropagation():(Ct.hovered.set(Yt,Ft),$t.onPointerOver==null||$t.onPointerOver(Ft),$t.onPointerEnter==null||$t.onPointerEnter(Ft))}$t.onPointerMove==null||$t.onPointerMove(Ft)}else{const Yt=$t[xt];Yt?(!yt||Ct.initialHits.includes(Vt))&&(ht(Tt,Ct.interaction.filter(Kt=>!Ct.initialHits.includes(Kt))),Yt(Ft)):yt&&Ct.initialHits.includes(Vt)&&ht(Tt,Ct.interaction.filter(Kt=>!Ct.initialHits.includes(Kt)))}}nt(Nt,Tt,Lt,Ot)}}return{handlePointer:vt}}const isRenderer=c=>!!(c!=null&&c.render),context=reactExports.createContext(null),createStore$1=(c,e)=>{const a=create$1((vt,xt)=>{const St=new Vector3,Tt=new Vector3,At=new Vector3;function Ct(Lt=xt().camera,Ot=Tt,Ft=xt().size){const{width:Vt,height:jt,top:$t,left:Yt}=Ft,Kt=Vt/jt;Ot.isVector3?At.copy(Ot):At.set(...Ot);const qt=Lt.getWorldPosition(St).distanceTo(At);if(isOrthographicCamera(Lt))return{width:Vt/Lt.zoom,height:jt/Lt.zoom,top:$t,left:Yt,factor:1,distance:qt,aspect:Kt};{const Wt=Lt.fov*Math.PI/180,Jt=2*Math.tan(Wt/2)*qt,cn=Jt*(Vt/jt);return{width:cn,height:Jt,top:$t,left:Yt,factor:Vt/cn,distance:qt,aspect:Kt}}}let Rt;const yt=Lt=>vt(Ot=>({performance:{...Ot.performance,current:Lt}})),Dt=new Vector2;return{set:vt,get:xt,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(Lt=1)=>c(xt(),Lt),advance:(Lt,Ot)=>e(Lt,Ot,xt()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Clock,pointer:Dt,mouse:Dt,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const Lt=xt();Rt&&clearTimeout(Rt),Lt.performance.current!==Lt.performance.min&&yt(Lt.performance.min),Rt=setTimeout(()=>yt(xt().performance.max),Lt.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:Ct},setEvents:Lt=>vt(Ot=>({...Ot,events:{...Ot.events,...Lt}})),setSize:(Lt,Ot,Ft,Vt,jt)=>{const $t=xt().camera,Yt={width:Lt,height:Ot,top:Vt||0,left:jt||0,updateStyle:Ft};vt(Kt=>({size:Yt,viewport:{...Kt.viewport,...Ct($t,Tt,Yt)}}))},setDpr:Lt=>vt(Ot=>{const Ft=calculateDpr(Lt);return{viewport:{...Ot.viewport,dpr:Ft,initialDpr:Ot.viewport.initialDpr||Ft}}}),setFrameloop:(Lt="always")=>{const Ot=xt().clock;Ot.stop(),Ot.elapsedTime=0,Lt!=="never"&&(Ot.start(),Ot.elapsedTime=0),vt(()=>({frameloop:Lt}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:reactExports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(Lt,Ot,Ft)=>{const Vt=xt().internal;return Vt.priority=Vt.priority+(Ot>0?1:0),Vt.subscribers.push({ref:Lt,priority:Ot,store:Ft}),Vt.subscribers=Vt.subscribers.sort((jt,$t)=>jt.priority-$t.priority),()=>{const jt=xt().internal;jt!=null&&jt.subscribers&&(jt.priority=jt.priority-(Ot>0?1:0),jt.subscribers=jt.subscribers.filter($t=>$t.ref!==Lt))}}}}}),d=a.getState();let nt=d.size,o=d.viewport.dpr,ht=d.camera;return a.subscribe(()=>{const{camera:vt,size:xt,viewport:St,gl:Tt,set:At}=a.getState();if(xt.width!==nt.width||xt.height!==nt.height||St.dpr!==o){var Ct;nt=xt,o=St.dpr,updateCamera(vt,xt),Tt.setPixelRatio(St.dpr);const Rt=(Ct=xt.updateStyle)!=null?Ct:typeof HTMLCanvasElement<"u"&&Tt.domElement instanceof HTMLCanvasElement;Tt.setSize(xt.width,xt.height,Rt)}vt!==ht&&(ht=vt,At(Rt=>({viewport:{...Rt.viewport,...Rt.viewport.getCurrentViewport(vt)}})))}),a.subscribe(vt=>c(vt)),a};let i,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;function run(c,e){if(c.size)for(const{callback:a}of c.values())a(e)}function flushGlobalEffects(c,e){switch(c){case"before":return run(globalEffects,e);case"after":return run(globalAfterEffects,e);case"tail":return run(globalTailEffects,e)}}let subscribers,subscription;function render$1(c,e,a){let d=e.clock.getDelta();for(e.frameloop==="never"&&typeof c=="number"&&(d=c-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=c),subscribers=e.internal.subscribers,i=0;i<subscribers.length;i++)subscription=subscribers[i],subscription.ref.current(subscription.store.getState(),d,a);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function createLoop(c){let e=!1,a=!1,d,nt,o;function ht(St){nt=requestAnimationFrame(ht),e=!0,d=0,flushGlobalEffects("before",St),a=!0;for(const At of c.values()){var Tt;o=At.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((Tt=o.gl.xr)!=null&&Tt.isPresenting)&&(d+=render$1(St,o))}if(a=!1,flushGlobalEffects("after",St),d===0)return flushGlobalEffects("tail",St),e=!1,cancelAnimationFrame(nt)}function vt(St,Tt=1){var At;if(!St)return c.forEach(Ct=>vt(Ct.store.getState(),Tt));(At=St.gl.xr)!=null&&At.isPresenting||!St.internal.active||St.frameloop==="never"||(Tt>1?St.internal.frames=Math.min(60,St.internal.frames+Tt):a?St.internal.frames=2:St.internal.frames=1,e||(e=!0,requestAnimationFrame(ht)))}function xt(St,Tt=!0,At,Ct){if(Tt&&flushGlobalEffects("before",St),At)render$1(St,At,Ct);else for(const Rt of c.values())render$1(St,Rt.store.getState());Tt&&flushGlobalEffects("after",St)}return{loop:ht,invalidate:vt,advance:xt}}function useStore$1(){const c=reactExports.useContext(context);if(!c)throw new Error("R3F: Hooks can only be used within the Canvas component!");return c}function useThree(c=a=>a,e){return useStore$1()(c,e)}function useFrame(c,e=0){const a=useStore$1(),d=a.getState().internal.subscribe,nt=useMutableCallback(c);return useIsomorphicLayoutEffect(()=>d(nt,e,a),[e,d,a]),null}const memoizedLoaders=new WeakMap;function loadingFn(c,e){return function(a,...d){let nt=memoizedLoaders.get(a);return nt||(nt=new a,memoizedLoaders.set(a,nt)),c&&c(nt),Promise.all(d.map(o=>new Promise((ht,vt)=>nt.load(o,xt=>{xt.scene&&Object.assign(xt,buildGraph(xt.scene)),ht(xt)},e,xt=>vt(new Error(`Could not load ${o}: ${xt==null?void 0:xt.message}`))))))}}function useLoader(c,e,a,d){const nt=Array.isArray(e)?e:[e],o=suspend(loadingFn(a,d),[c,...nt],{equal:is.equ});return Array.isArray(e)?o:o[0]}useLoader.preload=function(c,e,a){const d=Array.isArray(e)?e:[e];return preload(loadingFn(a),[c,...d])};useLoader.clear=function(c,e){const a=Array.isArray(e)?e:[e];return clear([c,...a])};const roots=new Map,{invalidate,advance}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=(c,e)=>{const a=typeof c=="function"?c(e):c;return isRenderer(a)?a:new WebGLRenderer({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...c})};function computeInitialSize(c,e){const a=typeof HTMLCanvasElement<"u"&&c instanceof HTMLCanvasElement;if(e){const{width:d,height:nt,top:o,left:ht,updateStyle:vt=a}=e;return{width:d,height:nt,top:o,left:ht,updateStyle:vt}}else if(typeof HTMLCanvasElement<"u"&&c instanceof HTMLCanvasElement&&c.parentElement){const{width:d,height:nt,top:o,left:ht}=c.parentElement.getBoundingClientRect();return{width:d,height:nt,top:o,left:ht,updateStyle:a}}else if(typeof OffscreenCanvas<"u"&&c instanceof OffscreenCanvas)return{width:c.width,height:c.height,top:0,left:0,updateStyle:a};return{width:0,height:0,top:0,left:0}}function createRoot(c){const e=roots.get(c),a=e==null?void 0:e.fiber,d=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const nt=typeof reportError=="function"?reportError:console.error,o=d||createStore$1(invalidate,advance),ht=a||reconciler.createContainer(o,constantsExports.ConcurrentRoot,null,!1,null,"",nt,null);e||roots.set(c,{fiber:ht,store:o});let vt,xt=!1,St;return{configure(Tt={}){let{gl:At,size:Ct,scene:Rt,events:yt,onCreated:Dt,shadows:Nt=!1,linear:Lt=!1,flat:Ot=!1,legacy:Ft=!1,orthographic:Vt=!1,frameloop:jt="always",dpr:$t=[1,2],performance:Yt,raycaster:Kt,camera:qt,onPointerMissed:Wt}=Tt,Jt=o.getState(),cn=Jt.gl;Jt.gl||Jt.set({gl:cn=createRendererInstance(At,c)});let sn=Jt.raycaster;sn||Jt.set({raycaster:sn=new Raycaster});const{params:Tn,...Cn}=Kt||{};if(is.equ(Cn,sn,shallowLoose)||applyProps(sn,{...Cn}),is.equ(Tn,sn.params,shallowLoose)||applyProps(sn,{params:{...sn.params,...Tn}}),!Jt.camera||Jt.camera===St&&!is.equ(St,qt,shallowLoose)){St=qt;const pn=qt instanceof Camera,Pn=pn?qt:Vt?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera(75,0,.1,1e3);pn||(Pn.position.z=5,qt&&(applyProps(Pn,qt),("aspect"in qt||"left"in qt||"right"in qt||"bottom"in qt||"top"in qt)&&(Pn.manual=!0,Pn.updateProjectionMatrix())),!Jt.camera&&!(qt!=null&&qt.rotation)&&Pn.lookAt(0,0,0)),Jt.set({camera:Pn}),sn.camera=Pn}if(!Jt.scene){let pn;Rt!=null&&Rt.isScene?pn=Rt:(pn=new Scene,Rt&&applyProps(pn,Rt)),Jt.set({scene:prepare(pn)})}if(!Jt.xr){var En;const pn=(ar,An)=>{const Xn=o.getState();Xn.frameloop!=="never"&&advance(ar,!0,Xn,An)},Pn=()=>{const ar=o.getState();ar.gl.xr.enabled=ar.gl.xr.isPresenting,ar.gl.xr.setAnimationLoop(ar.gl.xr.isPresenting?pn:null),ar.gl.xr.isPresenting||invalidate(ar)},jn={connect(){const ar=o.getState().gl;ar.xr.addEventListener("sessionstart",Pn),ar.xr.addEventListener("sessionend",Pn)},disconnect(){const ar=o.getState().gl;ar.xr.removeEventListener("sessionstart",Pn),ar.xr.removeEventListener("sessionend",Pn)}};typeof((En=cn.xr)==null?void 0:En.addEventListener)=="function"&&jn.connect(),Jt.set({xr:jn})}if(cn.shadowMap){const pn=cn.shadowMap.enabled,Pn=cn.shadowMap.type;if(cn.shadowMap.enabled=!!Nt,is.boo(Nt))cn.shadowMap.type=PCFSoftShadowMap;else if(is.str(Nt)){var Nn;const jn={basic:BasicShadowMap,percentage:PCFShadowMap,soft:PCFSoftShadowMap,variance:VSMShadowMap};cn.shadowMap.type=(Nn=jn[Nt])!=null?Nn:PCFSoftShadowMap}else is.obj(Nt)&&Object.assign(cn.shadowMap,Nt);(pn!==cn.shadowMap.enabled||Pn!==cn.shadowMap.type)&&(cn.shadowMap.needsUpdate=!0)}const on=getColorManagement();on&&("enabled"in on?on.enabled=!Ft:"legacyMode"in on&&(on.legacyMode=Ft)),xt||applyProps(cn,{outputEncoding:Lt?3e3:3001,toneMapping:Ot?NoToneMapping:ACESFilmicToneMapping}),Jt.legacy!==Ft&&Jt.set(()=>({legacy:Ft})),Jt.linear!==Lt&&Jt.set(()=>({linear:Lt})),Jt.flat!==Ot&&Jt.set(()=>({flat:Ot})),At&&!is.fun(At)&&!isRenderer(At)&&!is.equ(At,cn,shallowLoose)&&applyProps(cn,At),yt&&!Jt.events.handlers&&Jt.set({events:yt(o)});const hn=computeInitialSize(c,Ct);return is.equ(hn,Jt.size,shallowLoose)||Jt.setSize(hn.width,hn.height,hn.updateStyle,hn.top,hn.left),$t&&Jt.viewport.dpr!==calculateDpr($t)&&Jt.setDpr($t),Jt.frameloop!==jt&&Jt.setFrameloop(jt),Jt.onPointerMissed||Jt.set({onPointerMissed:Wt}),Yt&&!is.equ(Yt,Jt.performance,shallowLoose)&&Jt.set(pn=>({performance:{...pn.performance,...Yt}})),vt=Dt,xt=!0,this},render(Tt){return xt||this.configure(),reconciler.updateContainer(jsx(Provider,{store:o,children:Tt,onCreated:vt,rootElement:c}),ht,null,()=>{}),o},unmount(){unmountComponentAtNode(c)}}}function Provider({store:c,children:e,onCreated:a,rootElement:d}){return useIsomorphicLayoutEffect(()=>{const nt=c.getState();nt.set(o=>({internal:{...o.internal,active:!0}})),a&&a(nt),c.getState().events.connected||nt.events.connect==null||nt.events.connect(d)},[]),jsx(context.Provider,{value:c,children:e})}function unmountComponentAtNode(c,e){const a=roots.get(c),d=a==null?void 0:a.fiber;if(d){const nt=a==null?void 0:a.store.getState();nt&&(nt.internal.active=!1),reconciler.updateContainer(null,d,null,()=>{nt&&setTimeout(()=>{try{var o,ht,vt,xt;nt.events.disconnect==null||nt.events.disconnect(),(o=nt.gl)==null||(ht=o.renderLists)==null||ht.dispose==null||ht.dispose(),(vt=nt.gl)==null||vt.forceContextLoss==null||vt.forceContextLoss(),(xt=nt.gl)!=null&&xt.xr&&nt.xr.disconnect(),dispose(nt),roots.delete(c),e&&e(c)}catch{}},500)})}}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:reactExports.version});const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(c){const{handlePointer:e}=createEvents(c);return{priority:1,enabled:!0,compute(a,d,nt){d.pointer.set(a.offsetX/d.size.width*2-1,-(a.offsetY/d.size.height)*2+1),d.raycaster.setFromCamera(d.pointer,d.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((a,d)=>({...a,[d]:e(d)}),{}),update:()=>{var a;const{events:d,internal:nt}=c.getState();(a=nt.lastEvent)!=null&&a.current&&d.handlers&&d.handlers.onPointerMove(nt.lastEvent.current)},connect:a=>{var d;const{set:nt,events:o}=c.getState();o.disconnect==null||o.disconnect(),nt(ht=>({events:{...ht.events,connected:a}})),Object.entries((d=o.handlers)!=null?d:[]).forEach(([ht,vt])=>{const[xt,St]=DOM_EVENTS[ht];a.addEventListener(xt,vt,{passive:St})})},disconnect:()=>{const{set:a,events:d}=c.getState();if(d.connected){var nt;Object.entries((nt=d.handlers)!=null?nt:[]).forEach(([o,ht])=>{if(d&&d.connected instanceof HTMLElement){const[vt]=DOM_EVENTS[o];d.connected.removeEventListener(vt,ht)}}),a(o=>({events:{...o.events,connected:void 0}}))}}}}function g$1(c,e){let a;return(...d)=>{window.clearTimeout(a),a=window.setTimeout(()=>c(...d),e)}}function j$1({debounce:c,scroll:e,polyfill:a,offsetSize:d}={debounce:0,scroll:!1,offsetSize:!1}){const nt=a||(typeof window>"u"?class{}:window.ResizeObserver);if(!nt)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,ht]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),vt=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),xt=c?typeof c=="number"?c:c.scroll:null,St=c?typeof c=="number"?c:c.resize:null,Tt=reactExports.useRef(!1);reactExports.useEffect(()=>(Tt.current=!0,()=>void(Tt.current=!1)));const[At,Ct,Rt]=reactExports.useMemo(()=>{const Lt=()=>{if(!vt.current.element)return;const{left:Ot,top:Ft,width:Vt,height:jt,bottom:$t,right:Yt,x:Kt,y:qt}=vt.current.element.getBoundingClientRect(),Wt={left:Ot,top:Ft,width:Vt,height:jt,bottom:$t,right:Yt,x:Kt,y:qt};vt.current.element instanceof HTMLElement&&d&&(Wt.height=vt.current.element.offsetHeight,Wt.width=vt.current.element.offsetWidth),Object.freeze(Wt),Tt.current&&!D$1(vt.current.lastBounds,Wt)&&ht(vt.current.lastBounds=Wt)};return[Lt,St?g$1(Lt,St):Lt,xt?g$1(Lt,xt):Lt]},[ht,d,xt,St]);function yt(){vt.current.scrollContainers&&(vt.current.scrollContainers.forEach(Lt=>Lt.removeEventListener("scroll",Rt,!0)),vt.current.scrollContainers=null),vt.current.resizeObserver&&(vt.current.resizeObserver.disconnect(),vt.current.resizeObserver=null),vt.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",vt.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",vt.current.orientationHandler))}function Dt(){vt.current.element&&(vt.current.resizeObserver=new nt(Rt),vt.current.resizeObserver.observe(vt.current.element),e&&vt.current.scrollContainers&&vt.current.scrollContainers.forEach(Lt=>Lt.addEventListener("scroll",Rt,{capture:!0,passive:!0})),vt.current.orientationHandler=()=>{Rt()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",vt.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",vt.current.orientationHandler))}const Nt=Lt=>{!Lt||Lt===vt.current.element||(yt(),vt.current.element=Lt,vt.current.scrollContainers=E$1(Lt),Dt())};return X$1(Rt,!!e),W$1(Ct),reactExports.useEffect(()=>{yt(),Dt()},[e,Rt,Ct]),reactExports.useEffect(()=>yt,[]),[Nt,o,At]}function W$1(c){reactExports.useEffect(()=>{const e=c;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[c])}function X$1(c,e){reactExports.useEffect(()=>{if(e){const a=c;return window.addEventListener("scroll",a,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",a,!0)}},[c,e])}function E$1(c){const e=[];if(!c||c===document.body)return e;const{overflow:a,overflowX:d,overflowY:nt}=window.getComputedStyle(c);return[a,d,nt].some(o=>o==="auto"||o==="scroll")&&e.push(c),[...e,...E$1(c.parentElement)]}const k$1=["x","y","top","bottom","left","right","width","height"],D$1=(c,e)=>k$1.every(a=>c[a]===e[a]);var __defProp$2=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp$2=(c,e,a)=>e in c?__defProp$2(c,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[e]=a,__spreadValues=(c,e)=>{for(var a in e||(e={}))__hasOwnProp.call(e,a)&&__defNormalProp$2(c,a,e[a]);if(__getOwnPropSymbols)for(var a of __getOwnPropSymbols(e))__propIsEnum.call(e,a)&&__defNormalProp$2(c,a,e[a]);return c},__spreadProps=(c,e)=>__defProps(c,__getOwnPropDescs(e)),_a,_b;typeof window<"u"&&((_a=window.document)!=null&&_a.createElement||((_b=window.navigator)==null?void 0:_b.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function traverseFiber(c,e,a){if(!c)return;if(a(c)===!0)return c;let d=e?c.return:c.child;for(;d;){const nt=traverseFiber(d,e,a);if(nt)return nt;d=e?null:d.sibling}}function wrapContext(c){try{return Object.defineProperties(c,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return c}}const error=console.error;console.error=function(){const c=[...arguments].join("");if(c!=null&&c.startsWith("Warning:")&&c.includes("useContext")){console.error=error;return}return error.apply(this,arguments)};const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}function useFiber(){const c=reactExports.useContext(FiberContext);if(c===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=reactExports.useId();return reactExports.useMemo(()=>{for(const d of[c,c==null?void 0:c.alternate]){if(!d)continue;const nt=traverseFiber(d,!1,o=>{let ht=o.memoizedState;for(;ht;){if(ht.memoizedState===e)return!0;ht=ht.next}});if(nt)return nt}},[c,e])}function useContextMap(){const c=useFiber(),[e]=reactExports.useState(()=>new Map);e.clear();let a=c;for(;a;){if(a.type&&typeof a.type=="object"){const nt=a.type._context===void 0&&a.type.Provider===a.type?a.type:a.type._context;nt&&nt!==FiberContext&&!e.has(nt)&&e.set(nt,reactExports.useContext(wrapContext(nt)))}a=a.return}return e}function useContextBridge(){const c=useContextMap();return reactExports.useMemo(()=>Array.from(c.keys()).reduce((e,a)=>d=>reactExports.createElement(e,null,reactExports.createElement(a.Provider,__spreadProps(__spreadValues({},d),{value:c.get(a)}))),e=>reactExports.createElement(FiberProvider,__spreadValues({},e))),[c])}const CanvasImpl=reactExports.forwardRef(function({children:e,fallback:a,resize:d,style:nt,gl:o,events:ht=createPointerEvents,eventSource:vt,eventPrefix:xt,shadows:St,linear:Tt,flat:At,legacy:Ct,orthographic:Rt,frameloop:yt,dpr:Dt,performance:Nt,raycaster:Lt,camera:Ot,scene:Ft,onPointerMissed:Vt,onCreated:jt,...$t},Yt){reactExports.useMemo(()=>extend$1(THREE),[]);const Kt=useContextBridge(),[qt,Wt]=j$1({scroll:!0,debounce:{scroll:50,resize:0},...d}),Jt=reactExports.useRef(null),cn=reactExports.useRef(null);reactExports.useImperativeHandle(Yt,()=>Jt.current);const sn=useMutableCallback(Vt),[Tn,Cn]=reactExports.useState(!1),[En,Nn]=reactExports.useState(!1);if(Tn)throw Tn;if(En)throw En;const on=reactExports.useRef(null);return useIsomorphicLayoutEffect(()=>{const pn=Jt.current;Wt.width>0&&Wt.height>0&&pn&&(on.current||(on.current=createRoot(pn)),on.current.configure({gl:o,events:ht,shadows:St,linear:Tt,flat:At,legacy:Ct,orthographic:Rt,frameloop:yt,dpr:Dt,performance:Nt,raycaster:Lt,camera:Ot,scene:Ft,size:Wt,onPointerMissed:(...Pn)=>sn.current==null?void 0:sn.current(...Pn),onCreated:Pn=>{Pn.events.connect==null||Pn.events.connect(vt?isRef(vt)?vt.current:vt:cn.current),xt&&Pn.setEvents({compute:(jn,ar)=>{const An=jn[xt+"X"],Xn=jn[xt+"Y"];ar.pointer.set(An/ar.size.width*2-1,-(Xn/ar.size.height)*2+1),ar.raycaster.setFromCamera(ar.pointer,ar.camera)}}),jt==null||jt(Pn)}}),on.current.render(jsx(Kt,{children:jsx(ErrorBoundary,{set:Nn,children:jsx(reactExports.Suspense,{fallback:jsx(Block,{set:Cn}),children:e??null})})})))}),reactExports.useEffect(()=>{const pn=Jt.current;if(pn)return()=>unmountComponentAtNode(pn)},[]),jsx("div",{ref:cn,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:vt?"none":"auto",...nt},...$t,children:jsx("div",{ref:qt,style:{width:"100%",height:"100%"},children:jsx("canvas",{ref:Jt,style:{display:"block"},children:a})})})}),Canvas=reactExports.forwardRef(function(e,a){return jsx(FiberProvider,{children:jsx(CanvasImpl,{...e,ref:a})})}),v1=new Vector3,v2=new Vector3,v3=new Vector3,v4=new Vector2;function defaultCalculatePosition(c,e,a){const d=v1.setFromMatrixPosition(c.matrixWorld);d.project(e);const nt=a.width/2,o=a.height/2;return[d.x*nt+nt,-(d.y*o)+o]}function isObjectBehindCamera(c,e){const a=v1.setFromMatrixPosition(c.matrixWorld),d=v2.setFromMatrixPosition(e.matrixWorld),nt=a.sub(d),o=e.getWorldDirection(v3);return nt.angleTo(o)>Math.PI/2}function isObjectVisible(c,e,a,d){const nt=v1.setFromMatrixPosition(c.matrixWorld),o=nt.clone();o.project(e),v4.set(o.x,o.y),a.setFromCamera(v4,e);const ht=a.intersectObjects(d,!0);if(ht.length){const vt=ht[0].distance;return nt.distanceTo(a.ray.origin)<vt}return!0}function objectScale(c,e){if(e instanceof OrthographicCamera)return e.zoom;if(e instanceof PerspectiveCamera){const a=v1.setFromMatrixPosition(c.matrixWorld),d=v2.setFromMatrixPosition(e.matrixWorld),nt=e.fov*Math.PI/180,o=a.distanceTo(d);return 1/(2*Math.tan(nt/2)*o)}else return 1}function objectZIndex(c,e,a){if(e instanceof PerspectiveCamera||e instanceof OrthographicCamera){const d=v1.setFromMatrixPosition(c.matrixWorld),nt=v2.setFromMatrixPosition(e.matrixWorld),o=d.distanceTo(nt),ht=(a[1]-a[0])/(e.far-e.near),vt=a[1]-ht*e.far;return Math.round(ht*o+vt)}}const epsilon=c=>Math.abs(c)<1e-10?0:c;function getCSSMatrix(c,e,a=""){let d="matrix3d(";for(let nt=0;nt!==16;nt++)d+=epsilon(e[nt]*c.elements[nt])+(nt!==15?",":")");return a+d}const getCameraCSSMatrix=(c=>e=>getCSSMatrix(e,c))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),getObjectCSSMatrix=(c=>(e,a)=>getCSSMatrix(e,c(a),"translate(-50%,-50%)"))(c=>[1/c,1/c,1/c,1,-1/c,-1/c,-1/c,-1,1/c,1/c,1/c,1,1,1,1,1]);function isRefObject(c){return c&&typeof c=="object"&&"current"in c}const Html=reactExports.forwardRef(({children:c,eps:e=.001,style:a,className:d,prepend:nt,center:o,fullscreen:ht,portal:vt,distanceFactor:xt,sprite:St=!1,transform:Tt=!1,occlude:At,onOcclude:Ct,castShadow:Rt,receiveShadow:yt,material:Dt,geometry:Nt,zIndexRange:Lt=[16777271,0],calculatePosition:Ot=defaultCalculatePosition,as:Ft="div",wrapperClass:Vt,pointerEvents:jt="auto",...$t},Yt)=>{const{gl:Kt,camera:qt,scene:Wt,size:Jt,raycaster:cn,events:sn,viewport:Tn}=useThree(),[Cn]=reactExports.useState(()=>document.createElement(Ft)),En=reactExports.useRef(),Nn=reactExports.useRef(null),on=reactExports.useRef(0),hn=reactExports.useRef([0,0]),pn=reactExports.useRef(null),Pn=reactExports.useRef(null),jn=(vt==null?void 0:vt.current)||sn.connected||Kt.domElement.parentNode,ar=reactExports.useRef(null),An=reactExports.useRef(!1),Xn=reactExports.useMemo(()=>At&&At!=="blending"||Array.isArray(At)&&At.length&&isRefObject(At[0]),[At]);reactExports.useLayoutEffect(()=>{const hr=Kt.domElement;At&&At==="blending"?(hr.style.zIndex=`${Math.floor(Lt[0]/2)}`,hr.style.position="absolute",hr.style.pointerEvents="none"):(hr.style.zIndex=null,hr.style.position=null,hr.style.pointerEvents=null)},[At]),reactExports.useLayoutEffect(()=>{if(Nn.current){const hr=En.current=createRoot$1(Cn);if(Wt.updateMatrixWorld(),Tt)Cn.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const gr=Ot(Nn.current,qt,Jt);Cn.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${gr[0]}px,${gr[1]}px,0);transform-origin:0 0;`}return jn&&(nt?jn.prepend(Cn):jn.appendChild(Cn)),()=>{jn&&jn.removeChild(Cn),hr.unmount()}}},[jn,Tt]),reactExports.useLayoutEffect(()=>{Vt&&(Cn.className=Vt)},[Vt]);const or=reactExports.useMemo(()=>Tt?{position:"absolute",top:0,left:0,width:Jt.width,height:Jt.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:o?"translate3d(-50%,-50%,0)":"none",...ht&&{top:-Jt.height/2,left:-Jt.width/2,width:Jt.width,height:Jt.height},...a},[a,o,ht,Jt,Tt]),tr=reactExports.useMemo(()=>({position:"absolute",pointerEvents:jt}),[jt]);reactExports.useLayoutEffect(()=>{if(An.current=!1,Tt){var hr;(hr=En.current)==null||hr.render(reactExports.createElement("div",{ref:pn,style:or},reactExports.createElement("div",{ref:Pn,style:tr},reactExports.createElement("div",{ref:Yt,className:d,style:a,children:c}))))}else{var gr;(gr=En.current)==null||gr.render(reactExports.createElement("div",{ref:Yt,style:or,className:d,children:c}))}});const _r=reactExports.useRef(!0);useFrame(hr=>{if(Nn.current){qt.updateMatrixWorld(),Nn.current.updateWorldMatrix(!0,!1);const gr=Tt?hn.current:Ot(Nn.current,qt,Jt);if(Tt||Math.abs(on.current-qt.zoom)>e||Math.abs(hn.current[0]-gr[0])>e||Math.abs(hn.current[1]-gr[1])>e){const It=isObjectBehindCamera(Nn.current,qt);let Jn=!1;Xn&&(Array.isArray(At)?Jn=At.map(Qn=>Qn.current):At!=="blending"&&(Jn=[Wt]));const nn=_r.current;if(Jn){const Qn=isObjectVisible(Nn.current,qt,cn,Jn);_r.current=Qn&&!It}else _r.current=!It;nn!==_r.current&&(Ct?Ct(!_r.current):Cn.style.display=_r.current?"block":"none");const rr=Math.floor(Lt[0]/2),Kn=At?Xn?[Lt[0],rr]:[rr-1,0]:Lt;if(Cn.style.zIndex=`${objectZIndex(Nn.current,qt,Kn)}`,Tt){const[Qn,Fn]=[Jt.width/2,Jt.height/2],vr=qt.projectionMatrix.elements[5]*Fn,{isOrthographicCamera:Yn,top:tn,left:Qt,bottom:dn,right:In}=qt,Hn=getCameraCSSMatrix(qt.matrixWorldInverse),xn=Yn?`scale(${vr})translate(${epsilon(-(In+Qt)/2)}px,${epsilon((tn+dn)/2)}px)`:`translateZ(${vr}px)`;let er=Nn.current.matrixWorld;St&&(er=qt.matrixWorldInverse.clone().transpose().copyPosition(er).scale(Nn.current.scale),er.elements[3]=er.elements[7]=er.elements[11]=0,er.elements[15]=1),Cn.style.width=Jt.width+"px",Cn.style.height=Jt.height+"px",Cn.style.perspective=Yn?"":`${vr}px`,pn.current&&Pn.current&&(pn.current.style.transform=`${xn}${Hn}translate(${Qn}px,${Fn}px)`,Pn.current.style.transform=getObjectCSSMatrix(er,1/((xt||10)/400)))}else{const Qn=xt===void 0?1:objectScale(Nn.current,qt)*xt;Cn.style.transform=`translate3d(${gr[0]}px,${gr[1]}px,0) scale(${Qn})`}hn.current=gr,on.current=qt.zoom}}if(!Xn&&ar.current&&!An.current)if(Tt){if(pn.current){const gr=pn.current.children[0];if(gr!=null&&gr.clientWidth&&gr!=null&&gr.clientHeight){const{isOrthographicCamera:It}=qt;if(It||Nt)$t.scale&&(Array.isArray($t.scale)?$t.scale instanceof Vector3?ar.current.scale.copy($t.scale.clone().divideScalar(1)):ar.current.scale.set(1/$t.scale[0],1/$t.scale[1],1/$t.scale[2]):ar.current.scale.setScalar(1/$t.scale));else{const Jn=(xt||10)/400,nn=gr.clientWidth*Jn,rr=gr.clientHeight*Jn;ar.current.scale.set(nn,rr,1)}An.current=!0}}}else{const gr=Cn.children[0];if(gr!=null&&gr.clientWidth&&gr!=null&&gr.clientHeight){const It=1/Tn.factor,Jn=gr.clientWidth*It,nn=gr.clientHeight*It;ar.current.scale.set(Jn,nn,1),An.current=!0}ar.current.lookAt(hr.camera.position)}});const kr=reactExports.useMemo(()=>({vertexShader:Tt?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[Tt]);return reactExports.createElement("group",_extends$2({},$t,{ref:Nn}),At&&!Xn&&reactExports.createElement("mesh",{castShadow:Rt,receiveShadow:yt,ref:ar},Nt||reactExports.createElement("planeGeometry",null),Dt||reactExports.createElement("shaderMaterial",{side:DoubleSide,vertexShader:kr.vertexShader,fragmentShader:kr.fragmentShader})))}),createStoreImpl=c=>{let e;const a=new Set,d=(St,Tt)=>{const At=typeof St=="function"?St(e):St;if(!Object.is(At,e)){const Ct=e;e=Tt??(typeof At!="object"||At===null)?At:Object.assign({},e,At),a.forEach(Rt=>Rt(e,Ct))}},nt=()=>e,vt={setState:d,getState:nt,getInitialState:()=>xt,subscribe:St=>(a.add(St),()=>a.delete(St))},xt=e=c(d,nt,vt);return vt},createStore=c=>c?createStoreImpl(c):createStoreImpl,identity=c=>c;function useStore(c,e=identity){const a=React$1.useSyncExternalStore(c.subscribe,()=>e(c.getState()),()=>e(c.getInitialState()));return React$1.useDebugValue(a),a}const createImpl=c=>{const e=createStore(c),a=d=>useStore(e,d);return Object.assign(a,e),a},create=c=>c?createImpl(c):createImpl;let saveLastTotalLoaded=0;const useProgress=create(c=>(DefaultLoadingManager.onStart=(e,a,d)=>{c({active:!0,item:e,loaded:a,total:d,progress:(a-saveLastTotalLoaded)/(d-saveLastTotalLoaded)*100})},DefaultLoadingManager.onLoad=()=>{c({active:!1})},DefaultLoadingManager.onError=e=>c(a=>({errors:[...a.errors,e]})),DefaultLoadingManager.onProgress=(e,a,d)=>{a===d&&(saveLastTotalLoaded=d),c({active:!0,item:e,loaded:a,total:d,progress:(a-saveLastTotalLoaded)/(d-saveLastTotalLoaded)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));var __defProp$1=Object.defineProperty,__defNormalProp$1=(c,e,a)=>e in c?__defProp$1(c,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[e]=a,__publicField$1=(c,e,a)=>(__defNormalProp$1(c,typeof e!="symbol"?e+"":e,a),a);class EventDispatcher{constructor(){__publicField$1(this,"_listeners")}addEventListener(e,a){this._listeners===void 0&&(this._listeners={});const d=this._listeners;d[e]===void 0&&(d[e]=[]),d[e].indexOf(a)===-1&&d[e].push(a)}hasEventListener(e,a){if(this._listeners===void 0)return!1;const d=this._listeners;return d[e]!==void 0&&d[e].indexOf(a)!==-1}removeEventListener(e,a){if(this._listeners===void 0)return;const nt=this._listeners[e];if(nt!==void 0){const o=nt.indexOf(a);o!==-1&&nt.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const d=this._listeners[e.type];if(d!==void 0){e.target=this;const nt=d.slice(0);for(let o=0,ht=nt.length;o<ht;o++)nt[o].call(this,e);e.target=null}}}var __defProp=Object.defineProperty,__defNormalProp=(c,e,a)=>e in c?__defProp(c,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[e]=a,__publicField=(c,e,a)=>(__defNormalProp(c,typeof e!="symbol"?e+"":e,a),a);const _ray=new Ray,_plane=new Plane,TILT_LIMIT=Math.cos(70*(Math.PI/180)),moduloWrapAround=(c,e)=>(c%e+e)%e;let OrbitControls$1=class extends EventDispatcher{constructor(e,a){super(),__publicField(this,"object"),__publicField(this,"domElement"),__publicField(this,"enabled",!0),__publicField(this,"target",new Vector3),__publicField(this,"minDistance",0),__publicField(this,"maxDistance",1/0),__publicField(this,"minZoom",0),__publicField(this,"maxZoom",1/0),__publicField(this,"minPolarAngle",0),__publicField(this,"maxPolarAngle",Math.PI),__publicField(this,"minAzimuthAngle",-1/0),__publicField(this,"maxAzimuthAngle",1/0),__publicField(this,"enableDamping",!1),__publicField(this,"dampingFactor",.05),__publicField(this,"enableZoom",!0),__publicField(this,"zoomSpeed",1),__publicField(this,"enableRotate",!0),__publicField(this,"rotateSpeed",1),__publicField(this,"enablePan",!0),__publicField(this,"panSpeed",1),__publicField(this,"screenSpacePanning",!0),__publicField(this,"keyPanSpeed",7),__publicField(this,"zoomToCursor",!1),__publicField(this,"autoRotate",!1),__publicField(this,"autoRotateSpeed",2),__publicField(this,"reverseOrbit",!1),__publicField(this,"reverseHorizontalOrbit",!1),__publicField(this,"reverseVerticalOrbit",!1),__publicField(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),__publicField(this,"mouseButtons",{LEFT:MOUSE.ROTATE,MIDDLE:MOUSE.DOLLY,RIGHT:MOUSE.PAN}),__publicField(this,"touches",{ONE:TOUCH.ROTATE,TWO:TOUCH.DOLLY_PAN}),__publicField(this,"target0"),__publicField(this,"position0"),__publicField(this,"zoom0"),__publicField(this,"_domElementKeyEvents",null),__publicField(this,"getPolarAngle"),__publicField(this,"getAzimuthalAngle"),__publicField(this,"setPolarAngle"),__publicField(this,"setAzimuthalAngle"),__publicField(this,"getDistance"),__publicField(this,"getZoomScale"),__publicField(this,"listenToKeyEvents"),__publicField(this,"stopListenToKeyEvents"),__publicField(this,"saveState"),__publicField(this,"reset"),__publicField(this,"update"),__publicField(this,"connect"),__publicField(this,"dispose"),__publicField(this,"dollyIn"),__publicField(this,"dollyOut"),__publicField(this,"getScale"),__publicField(this,"setScale"),this.object=e,this.domElement=a,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>Tt.phi,this.getAzimuthalAngle=()=>Tt.theta,this.setPolarAngle=un=>{let $n=moduloWrapAround(un,2*Math.PI),ur=Tt.phi;ur<0&&(ur+=2*Math.PI),$n<0&&($n+=2*Math.PI);let an=Math.abs($n-ur);2*Math.PI-an<an&&($n<ur?$n+=2*Math.PI:ur+=2*Math.PI),At.phi=$n-ur,d.update()},this.setAzimuthalAngle=un=>{let $n=moduloWrapAround(un,2*Math.PI),ur=Tt.theta;ur<0&&(ur+=2*Math.PI),$n<0&&($n+=2*Math.PI);let an=Math.abs($n-ur);2*Math.PI-an<an&&($n<ur?$n+=2*Math.PI:ur+=2*Math.PI),At.theta=$n-ur,d.update()},this.getDistance=()=>d.object.position.distanceTo(d.target),this.listenToKeyEvents=un=>{un.addEventListener("keydown",Gn),this._domElementKeyEvents=un},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Gn),this._domElementKeyEvents=null},this.saveState=()=>{d.target0.copy(d.target),d.position0.copy(d.object.position),d.zoom0=d.object.zoom},this.reset=()=>{d.target.copy(d.target0),d.object.position.copy(d.position0),d.object.zoom=d.zoom0,d.object.updateProjectionMatrix(),d.dispatchEvent(nt),d.update(),xt=vt.NONE},this.update=(()=>{const un=new Vector3,$n=new Vector3(0,1,0),ur=new Quaternion().setFromUnitVectors(e.up,$n),an=ur.clone().invert(),sr=new Vector3,kn=new Quaternion,Wn=2*Math.PI;return function(){const pr=d.object.position;ur.setFromUnitVectors(e.up,$n),an.copy(ur).invert(),un.copy(pr).sub(d.target),un.applyQuaternion(ur),Tt.setFromVector3(un),d.autoRotate&&xt===vt.NONE&&Tn(cn()),d.enableDamping?(Tt.theta+=At.theta*d.dampingFactor,Tt.phi+=At.phi*d.dampingFactor):(Tt.theta+=At.theta,Tt.phi+=At.phi);let Hr=d.minAzimuthAngle,ao=d.maxAzimuthAngle;isFinite(Hr)&&isFinite(ao)&&(Hr<-Math.PI?Hr+=Wn:Hr>Math.PI&&(Hr-=Wn),ao<-Math.PI?ao+=Wn:ao>Math.PI&&(ao-=Wn),Hr<=ao?Tt.theta=Math.max(Hr,Math.min(ao,Tt.theta)):Tt.theta=Tt.theta>(Hr+ao)/2?Math.max(Hr,Tt.theta):Math.min(ao,Tt.theta)),Tt.phi=Math.max(d.minPolarAngle,Math.min(d.maxPolarAngle,Tt.phi)),Tt.makeSafe(),d.enableDamping===!0?d.target.addScaledVector(Rt,d.dampingFactor):d.target.add(Rt),d.zoomToCursor&&qt||d.object.isOrthographicCamera?Tt.radius=ar(Tt.radius):Tt.radius=ar(Tt.radius*Ct),un.setFromSpherical(Tt),un.applyQuaternion(an),pr.copy(d.target).add(un),d.object.matrixAutoUpdate||d.object.updateMatrix(),d.object.lookAt(d.target),d.enableDamping===!0?(At.theta*=1-d.dampingFactor,At.phi*=1-d.dampingFactor,Rt.multiplyScalar(1-d.dampingFactor)):(At.set(0,0,0),Rt.set(0,0,0));let So=!1;if(d.zoomToCursor&&qt){let to=null;if(d.object instanceof PerspectiveCamera&&d.object.isPerspectiveCamera){const Lo=un.length();to=ar(Lo*Ct);const Io=Lo-to;d.object.position.addScaledVector(Yt,Io),d.object.updateMatrixWorld()}else if(d.object.isOrthographicCamera){const Lo=new Vector3(Kt.x,Kt.y,0);Lo.unproject(d.object),d.object.zoom=Math.max(d.minZoom,Math.min(d.maxZoom,d.object.zoom/Ct)),d.object.updateProjectionMatrix(),So=!0;const Io=new Vector3(Kt.x,Kt.y,0);Io.unproject(d.object),d.object.position.sub(Io).add(Lo),d.object.updateMatrixWorld(),to=un.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),d.zoomToCursor=!1;to!==null&&(d.screenSpacePanning?d.target.set(0,0,-1).transformDirection(d.object.matrix).multiplyScalar(to).add(d.object.position):(_ray.origin.copy(d.object.position),_ray.direction.set(0,0,-1).transformDirection(d.object.matrix),Math.abs(d.object.up.dot(_ray.direction))<TILT_LIMIT?e.lookAt(d.target):(_plane.setFromNormalAndCoplanarPoint(d.object.up,d.target),_ray.intersectPlane(_plane,d.target))))}else d.object instanceof OrthographicCamera&&d.object.isOrthographicCamera&&(So=Ct!==1,So&&(d.object.zoom=Math.max(d.minZoom,Math.min(d.maxZoom,d.object.zoom/Ct)),d.object.updateProjectionMatrix()));return Ct=1,qt=!1,So||sr.distanceToSquared(d.object.position)>St||8*(1-kn.dot(d.object.quaternion))>St?(d.dispatchEvent(nt),sr.copy(d.object.position),kn.copy(d.object.quaternion),So=!1,!0):!1}})(),this.connect=un=>{d.domElement=un,d.domElement.style.touchAction="none",d.domElement.addEventListener("contextmenu",Zn),d.domElement.addEventListener("pointerdown",Qt),d.domElement.addEventListener("pointercancel",In),d.domElement.addEventListener("wheel",er)},this.dispose=()=>{var un,$n,ur,an,sr,kn;d.domElement&&(d.domElement.style.touchAction="auto"),(un=d.domElement)==null||un.removeEventListener("contextmenu",Zn),($n=d.domElement)==null||$n.removeEventListener("pointerdown",Qt),(ur=d.domElement)==null||ur.removeEventListener("pointercancel",In),(an=d.domElement)==null||an.removeEventListener("wheel",er),(sr=d.domElement)==null||sr.ownerDocument.removeEventListener("pointermove",dn),(kn=d.domElement)==null||kn.ownerDocument.removeEventListener("pointerup",In),d._domElementKeyEvents!==null&&d._domElementKeyEvents.removeEventListener("keydown",Gn)};const d=this,nt={type:"change"},o={type:"start"},ht={type:"end"},vt={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let xt=vt.NONE;const St=1e-6,Tt=new Spherical,At=new Spherical;let Ct=1;const Rt=new Vector3,yt=new Vector2,Dt=new Vector2,Nt=new Vector2,Lt=new Vector2,Ot=new Vector2,Ft=new Vector2,Vt=new Vector2,jt=new Vector2,$t=new Vector2,Yt=new Vector3,Kt=new Vector2;let qt=!1;const Wt=[],Jt={};function cn(){return 2*Math.PI/60/60*d.autoRotateSpeed}function sn(){return Math.pow(.95,d.zoomSpeed)}function Tn(un){d.reverseOrbit||d.reverseHorizontalOrbit?At.theta+=un:At.theta-=un}function Cn(un){d.reverseOrbit||d.reverseVerticalOrbit?At.phi+=un:At.phi-=un}const En=(()=>{const un=new Vector3;return function(ur,an){un.setFromMatrixColumn(an,0),un.multiplyScalar(-ur),Rt.add(un)}})(),Nn=(()=>{const un=new Vector3;return function(ur,an){d.screenSpacePanning===!0?un.setFromMatrixColumn(an,1):(un.setFromMatrixColumn(an,0),un.crossVectors(d.object.up,un)),un.multiplyScalar(ur),Rt.add(un)}})(),on=(()=>{const un=new Vector3;return function(ur,an){const sr=d.domElement;if(sr&&d.object instanceof PerspectiveCamera&&d.object.isPerspectiveCamera){const kn=d.object.position;un.copy(kn).sub(d.target);let Wn=un.length();Wn*=Math.tan(d.object.fov/2*Math.PI/180),En(2*ur*Wn/sr.clientHeight,d.object.matrix),Nn(2*an*Wn/sr.clientHeight,d.object.matrix)}else sr&&d.object instanceof OrthographicCamera&&d.object.isOrthographicCamera?(En(ur*(d.object.right-d.object.left)/d.object.zoom/sr.clientWidth,d.object.matrix),Nn(an*(d.object.top-d.object.bottom)/d.object.zoom/sr.clientHeight,d.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),d.enablePan=!1)}})();function hn(un){d.object instanceof PerspectiveCamera&&d.object.isPerspectiveCamera||d.object instanceof OrthographicCamera&&d.object.isOrthographicCamera?Ct=un:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),d.enableZoom=!1)}function pn(un){hn(Ct/un)}function Pn(un){hn(Ct*un)}function jn(un){if(!d.zoomToCursor||!d.domElement)return;qt=!0;const $n=d.domElement.getBoundingClientRect(),ur=un.clientX-$n.left,an=un.clientY-$n.top,sr=$n.width,kn=$n.height;Kt.x=ur/sr*2-1,Kt.y=-(an/kn)*2+1,Yt.set(Kt.x,Kt.y,1).unproject(d.object).sub(d.object.position).normalize()}function ar(un){return Math.max(d.minDistance,Math.min(d.maxDistance,un))}function An(un){yt.set(un.clientX,un.clientY)}function Xn(un){jn(un),Vt.set(un.clientX,un.clientY)}function or(un){Lt.set(un.clientX,un.clientY)}function tr(un){Dt.set(un.clientX,un.clientY),Nt.subVectors(Dt,yt).multiplyScalar(d.rotateSpeed);const $n=d.domElement;$n&&(Tn(2*Math.PI*Nt.x/$n.clientHeight),Cn(2*Math.PI*Nt.y/$n.clientHeight)),yt.copy(Dt),d.update()}function _r(un){jt.set(un.clientX,un.clientY),$t.subVectors(jt,Vt),$t.y>0?pn(sn()):$t.y<0&&Pn(sn()),Vt.copy(jt),d.update()}function kr(un){Ot.set(un.clientX,un.clientY),Ft.subVectors(Ot,Lt).multiplyScalar(d.panSpeed),on(Ft.x,Ft.y),Lt.copy(Ot),d.update()}function hr(un){jn(un),un.deltaY<0?Pn(sn()):un.deltaY>0&&pn(sn()),d.update()}function gr(un){let $n=!1;switch(un.code){case d.keys.UP:on(0,d.keyPanSpeed),$n=!0;break;case d.keys.BOTTOM:on(0,-d.keyPanSpeed),$n=!0;break;case d.keys.LEFT:on(d.keyPanSpeed,0),$n=!0;break;case d.keys.RIGHT:on(-d.keyPanSpeed,0),$n=!0;break}$n&&(un.preventDefault(),d.update())}function It(){if(Wt.length==1)yt.set(Wt[0].pageX,Wt[0].pageY);else{const un=.5*(Wt[0].pageX+Wt[1].pageX),$n=.5*(Wt[0].pageY+Wt[1].pageY);yt.set(un,$n)}}function Jn(){if(Wt.length==1)Lt.set(Wt[0].pageX,Wt[0].pageY);else{const un=.5*(Wt[0].pageX+Wt[1].pageX),$n=.5*(Wt[0].pageY+Wt[1].pageY);Lt.set(un,$n)}}function nn(){const un=Wt[0].pageX-Wt[1].pageX,$n=Wt[0].pageY-Wt[1].pageY,ur=Math.sqrt(un*un+$n*$n);Vt.set(0,ur)}function rr(){d.enableZoom&&nn(),d.enablePan&&Jn()}function Kn(){d.enableZoom&&nn(),d.enableRotate&&It()}function Qn(un){if(Wt.length==1)Dt.set(un.pageX,un.pageY);else{const ur=Er(un),an=.5*(un.pageX+ur.x),sr=.5*(un.pageY+ur.y);Dt.set(an,sr)}Nt.subVectors(Dt,yt).multiplyScalar(d.rotateSpeed);const $n=d.domElement;$n&&(Tn(2*Math.PI*Nt.x/$n.clientHeight),Cn(2*Math.PI*Nt.y/$n.clientHeight)),yt.copy(Dt)}function Fn(un){if(Wt.length==1)Ot.set(un.pageX,un.pageY);else{const $n=Er(un),ur=.5*(un.pageX+$n.x),an=.5*(un.pageY+$n.y);Ot.set(ur,an)}Ft.subVectors(Ot,Lt).multiplyScalar(d.panSpeed),on(Ft.x,Ft.y),Lt.copy(Ot)}function vr(un){const $n=Er(un),ur=un.pageX-$n.x,an=un.pageY-$n.y,sr=Math.sqrt(ur*ur+an*an);jt.set(0,sr),$t.set(0,Math.pow(jt.y/Vt.y,d.zoomSpeed)),pn($t.y),Vt.copy(jt)}function Yn(un){d.enableZoom&&vr(un),d.enablePan&&Fn(un)}function tn(un){d.enableZoom&&vr(un),d.enableRotate&&Qn(un)}function Qt(un){var $n,ur;d.enabled!==!1&&(Wt.length===0&&(($n=d.domElement)==null||$n.ownerDocument.addEventListener("pointermove",dn),(ur=d.domElement)==null||ur.ownerDocument.addEventListener("pointerup",In)),nr(un),un.pointerType==="touch"?dr(un):Hn(un))}function dn(un){d.enabled!==!1&&(un.pointerType==="touch"?Nr(un):xn(un))}function In(un){var $n,ur,an;ir(un),Wt.length===0&&(($n=d.domElement)==null||$n.releasePointerCapture(un.pointerId),(ur=d.domElement)==null||ur.ownerDocument.removeEventListener("pointermove",dn),(an=d.domElement)==null||an.ownerDocument.removeEventListener("pointerup",In)),d.dispatchEvent(ht),xt=vt.NONE}function Hn(un){let $n;switch(un.button){case 0:$n=d.mouseButtons.LEFT;break;case 1:$n=d.mouseButtons.MIDDLE;break;case 2:$n=d.mouseButtons.RIGHT;break;default:$n=-1}switch($n){case MOUSE.DOLLY:if(d.enableZoom===!1)return;Xn(un),xt=vt.DOLLY;break;case MOUSE.ROTATE:if(un.ctrlKey||un.metaKey||un.shiftKey){if(d.enablePan===!1)return;or(un),xt=vt.PAN}else{if(d.enableRotate===!1)return;An(un),xt=vt.ROTATE}break;case MOUSE.PAN:if(un.ctrlKey||un.metaKey||un.shiftKey){if(d.enableRotate===!1)return;An(un),xt=vt.ROTATE}else{if(d.enablePan===!1)return;or(un),xt=vt.PAN}break;default:xt=vt.NONE}xt!==vt.NONE&&d.dispatchEvent(o)}function xn(un){if(d.enabled!==!1)switch(xt){case vt.ROTATE:if(d.enableRotate===!1)return;tr(un);break;case vt.DOLLY:if(d.enableZoom===!1)return;_r(un);break;case vt.PAN:if(d.enablePan===!1)return;kr(un);break}}function er(un){d.enabled===!1||d.enableZoom===!1||xt!==vt.NONE&&xt!==vt.ROTATE||(un.preventDefault(),d.dispatchEvent(o),hr(un),d.dispatchEvent(ht))}function Gn(un){d.enabled===!1||d.enablePan===!1||gr(un)}function dr(un){switch(Or(un),Wt.length){case 1:switch(d.touches.ONE){case TOUCH.ROTATE:if(d.enableRotate===!1)return;It(),xt=vt.TOUCH_ROTATE;break;case TOUCH.PAN:if(d.enablePan===!1)return;Jn(),xt=vt.TOUCH_PAN;break;default:xt=vt.NONE}break;case 2:switch(d.touches.TWO){case TOUCH.DOLLY_PAN:if(d.enableZoom===!1&&d.enablePan===!1)return;rr(),xt=vt.TOUCH_DOLLY_PAN;break;case TOUCH.DOLLY_ROTATE:if(d.enableZoom===!1&&d.enableRotate===!1)return;Kn(),xt=vt.TOUCH_DOLLY_ROTATE;break;default:xt=vt.NONE}break;default:xt=vt.NONE}xt!==vt.NONE&&d.dispatchEvent(o)}function Nr(un){switch(Or(un),xt){case vt.TOUCH_ROTATE:if(d.enableRotate===!1)return;Qn(un),d.update();break;case vt.TOUCH_PAN:if(d.enablePan===!1)return;Fn(un),d.update();break;case vt.TOUCH_DOLLY_PAN:if(d.enableZoom===!1&&d.enablePan===!1)return;Yn(un),d.update();break;case vt.TOUCH_DOLLY_ROTATE:if(d.enableZoom===!1&&d.enableRotate===!1)return;tn(un),d.update();break;default:xt=vt.NONE}}function Zn(un){d.enabled!==!1&&un.preventDefault()}function nr(un){Wt.push(un)}function ir(un){delete Jt[un.pointerId];for(let $n=0;$n<Wt.length;$n++)if(Wt[$n].pointerId==un.pointerId){Wt.splice($n,1);return}}function Or(un){let $n=Jt[un.pointerId];$n===void 0&&($n=new Vector2,Jt[un.pointerId]=$n),$n.set(un.pageX,un.pageY)}function Er(un){const $n=un.pointerId===Wt[0].pointerId?Wt[1]:Wt[0];return Jt[$n.pointerId]}this.dollyIn=(un=sn())=>{Pn(un),d.update()},this.dollyOut=(un=sn())=>{pn(un),d.update()},this.getScale=()=>Ct,this.setScale=un=>{hn(un),d.update()},this.getZoomScale=()=>sn(),a!==void 0&&this.connect(a),this.update()}};const OrbitControls=reactExports.forwardRef(({makeDefault:c,camera:e,regress:a,domElement:d,enableDamping:nt=!0,keyEvents:o=!1,onChange:ht,onStart:vt,onEnd:xt,...St},Tt)=>{const At=useThree($t=>$t.invalidate),Ct=useThree($t=>$t.camera),Rt=useThree($t=>$t.gl),yt=useThree($t=>$t.events),Dt=useThree($t=>$t.setEvents),Nt=useThree($t=>$t.set),Lt=useThree($t=>$t.get),Ot=useThree($t=>$t.performance),Ft=e||Ct,Vt=d||yt.connected||Rt.domElement,jt=reactExports.useMemo(()=>new OrbitControls$1(Ft),[Ft]);return useFrame(()=>{jt.enabled&&jt.update()},-1),reactExports.useEffect(()=>(o&&jt.connect(o===!0?Vt:o),jt.connect(Vt),()=>void jt.dispose()),[o,Vt,a,jt,At]),reactExports.useEffect(()=>{const $t=qt=>{At(),a&&Ot.regress(),ht&&ht(qt)},Yt=qt=>{vt&&vt(qt)},Kt=qt=>{xt&&xt(qt)};return jt.addEventListener("change",$t),jt.addEventListener("start",Yt),jt.addEventListener("end",Kt),()=>{jt.removeEventListener("start",Yt),jt.removeEventListener("end",Kt),jt.removeEventListener("change",$t)}},[ht,vt,xt,jt,At,Dt]),reactExports.useEffect(()=>{if(c){const $t=Lt().controls;return Nt({controls:jt}),()=>Nt({controls:$t})}},[c,jt]),reactExports.createElement("primitive",_extends$2({ref:Tt,object:jt,enableDamping:nt},St))});function toTrianglesDrawMode(c,e){if(e===TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),c;if(e===TriangleFanDrawMode||e===TriangleStripDrawMode){let a=c.getIndex();if(a===null){const ht=[],vt=c.getAttribute("position");if(vt!==void 0){for(let xt=0;xt<vt.count;xt++)ht.push(xt);c.setIndex(ht),a=c.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),c}const d=a.count-2,nt=[];if(e===TriangleFanDrawMode)for(let ht=1;ht<=d;ht++)nt.push(a.getX(0)),nt.push(a.getX(ht)),nt.push(a.getX(ht+1));else for(let ht=0;ht<d;ht++)ht%2===0?(nt.push(a.getX(ht)),nt.push(a.getX(ht+1)),nt.push(a.getX(ht+2))):(nt.push(a.getX(ht+2)),nt.push(a.getX(ht+1)),nt.push(a.getX(ht)));nt.length/3!==d&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=c.clone();return o.setIndex(nt),o.clearGroups(),o}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),c}class GLTFLoader extends Loader{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(a){return new GLTFMaterialsClearcoatExtension(a)}),this.register(function(a){return new GLTFMaterialsDispersionExtension(a)}),this.register(function(a){return new GLTFTextureBasisUExtension(a)}),this.register(function(a){return new GLTFTextureWebPExtension(a)}),this.register(function(a){return new GLTFTextureAVIFExtension(a)}),this.register(function(a){return new GLTFMaterialsSheenExtension(a)}),this.register(function(a){return new GLTFMaterialsTransmissionExtension(a)}),this.register(function(a){return new GLTFMaterialsVolumeExtension(a)}),this.register(function(a){return new GLTFMaterialsIorExtension(a)}),this.register(function(a){return new GLTFMaterialsEmissiveStrengthExtension(a)}),this.register(function(a){return new GLTFMaterialsSpecularExtension(a)}),this.register(function(a){return new GLTFMaterialsIridescenceExtension(a)}),this.register(function(a){return new GLTFMaterialsAnisotropyExtension(a)}),this.register(function(a){return new GLTFMaterialsBumpExtension(a)}),this.register(function(a){return new GLTFLightsExtension(a)}),this.register(function(a){return new GLTFMeshoptCompression(a)}),this.register(function(a){return new GLTFMeshGpuInstancing(a)})}load(e,a,d,nt){const o=this;let ht;if(this.resourcePath!=="")ht=this.resourcePath;else if(this.path!==""){const St=LoaderUtils.extractUrlBase(e);ht=LoaderUtils.resolveURL(St,this.path)}else ht=LoaderUtils.extractUrlBase(e);this.manager.itemStart(e);const vt=function(St){nt?nt(St):console.error(St),o.manager.itemError(e),o.manager.itemEnd(e)},xt=new FileLoader(this.manager);xt.setPath(this.path),xt.setResponseType("arraybuffer"),xt.setRequestHeader(this.requestHeader),xt.setWithCredentials(this.withCredentials),xt.load(e,function(St){try{o.parse(St,ht,function(Tt){a(Tt),o.manager.itemEnd(e)},vt)}catch(Tt){vt(Tt)}},d,vt)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,a,d,nt){let o;const ht={},vt={},xt=new TextDecoder;if(typeof e=="string")o=JSON.parse(e);else if(e instanceof ArrayBuffer)if(xt.decode(new Uint8Array(e,0,4))===BINARY_EXTENSION_HEADER_MAGIC){try{ht[EXTENSIONS.KHR_BINARY_GLTF]=new GLTFBinaryExtension(e)}catch(At){nt&&nt(At);return}o=JSON.parse(ht[EXTENSIONS.KHR_BINARY_GLTF].content)}else o=JSON.parse(xt.decode(e));else o=e;if(o.asset===void 0||o.asset.version[0]<2){nt&&nt(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const St=new GLTFParser(o,{path:a||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});St.fileLoader.setRequestHeader(this.requestHeader);for(let Tt=0;Tt<this.pluginCallbacks.length;Tt++){const At=this.pluginCallbacks[Tt](St);At.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),vt[At.name]=At,ht[At.name]=!0}if(o.extensionsUsed)for(let Tt=0;Tt<o.extensionsUsed.length;++Tt){const At=o.extensionsUsed[Tt],Ct=o.extensionsRequired||[];switch(At){case EXTENSIONS.KHR_MATERIALS_UNLIT:ht[At]=new GLTFMaterialsUnlitExtension;break;case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:ht[At]=new GLTFDracoMeshCompressionExtension(o,this.dracoLoader);break;case EXTENSIONS.KHR_TEXTURE_TRANSFORM:ht[At]=new GLTFTextureTransformExtension;break;case EXTENSIONS.KHR_MESH_QUANTIZATION:ht[At]=new GLTFMeshQuantizationExtension;break;default:Ct.indexOf(At)>=0&&vt[At]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+At+'".')}}St.setExtensions(ht),St.setPlugins(vt),St.parse(d,nt)}parseAsync(e,a){const d=this;return new Promise(function(nt,o){d.parse(e,a,nt,o)})}}function GLTFRegistry(){let c={};return{get:function(e){return c[e]},add:function(e,a){c[e]=a},remove:function(e){delete c[e]},removeAll:function(){c={}}}}const EXTENSIONS={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class GLTFLightsExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,a=this.parser.json.nodes||[];for(let d=0,nt=a.length;d<nt;d++){const o=a[d];o.extensions&&o.extensions[this.name]&&o.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,o.extensions[this.name].light)}}_loadLight(e){const a=this.parser,d="light:"+e;let nt=a.cache.get(d);if(nt)return nt;const o=a.json,xt=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let St;const Tt=new Color(16777215);xt.color!==void 0&&Tt.setRGB(xt.color[0],xt.color[1],xt.color[2],LinearSRGBColorSpace);const At=xt.range!==void 0?xt.range:0;switch(xt.type){case"directional":St=new DirectionalLight(Tt),St.target.position.set(0,0,-1),St.add(St.target);break;case"point":St=new PointLight(Tt),St.distance=At;break;case"spot":St=new SpotLight(Tt),St.distance=At,xt.spot=xt.spot||{},xt.spot.innerConeAngle=xt.spot.innerConeAngle!==void 0?xt.spot.innerConeAngle:0,xt.spot.outerConeAngle=xt.spot.outerConeAngle!==void 0?xt.spot.outerConeAngle:Math.PI/4,St.angle=xt.spot.outerConeAngle,St.penumbra=1-xt.spot.innerConeAngle/xt.spot.outerConeAngle,St.target.position.set(0,0,-1),St.add(St.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+xt.type)}return St.position.set(0,0,0),assignExtrasToUserData(St,xt),xt.intensity!==void 0&&(St.intensity=xt.intensity),St.name=a.createUniqueName(xt.name||"light_"+e),nt=Promise.resolve(St),a.cache.add(d,nt),nt}getDependency(e,a){if(e==="light")return this._loadLight(a)}createNodeAttachment(e){const a=this,d=this.parser,o=d.json.nodes[e],vt=(o.extensions&&o.extensions[this.name]||{}).light;return vt===void 0?null:this._loadLight(vt).then(function(xt){return d._getNodeRef(a.cache,vt,xt)})}}class GLTFMaterialsUnlitExtension{constructor(){this.name=EXTENSIONS.KHR_MATERIALS_UNLIT}getMaterialType(){return MeshBasicMaterial}extendParams(e,a,d){const nt=[];e.color=new Color(1,1,1),e.opacity=1;const o=a.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const ht=o.baseColorFactor;e.color.setRGB(ht[0],ht[1],ht[2],LinearSRGBColorSpace),e.opacity=ht[3]}o.baseColorTexture!==void 0&&nt.push(d.assignTexture(e,"map",o.baseColorTexture,SRGBColorSpace))}return Promise.all(nt)}}class GLTFMaterialsEmissiveStrengthExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,a){const nt=this.parser.json.materials[e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const o=nt.extensions[this.name].emissiveStrength;return o!==void 0&&(a.emissiveIntensity=o),Promise.resolve()}}class GLTFMaterialsClearcoatExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const d=this.parser.json.materials[e];return!d.extensions||!d.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,a){const d=this.parser,nt=d.json.materials[e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const o=[],ht=nt.extensions[this.name];if(ht.clearcoatFactor!==void 0&&(a.clearcoat=ht.clearcoatFactor),ht.clearcoatTexture!==void 0&&o.push(d.assignTexture(a,"clearcoatMap",ht.clearcoatTexture)),ht.clearcoatRoughnessFactor!==void 0&&(a.clearcoatRoughness=ht.clearcoatRoughnessFactor),ht.clearcoatRoughnessTexture!==void 0&&o.push(d.assignTexture(a,"clearcoatRoughnessMap",ht.clearcoatRoughnessTexture)),ht.clearcoatNormalTexture!==void 0&&(o.push(d.assignTexture(a,"clearcoatNormalMap",ht.clearcoatNormalTexture)),ht.clearcoatNormalTexture.scale!==void 0)){const vt=ht.clearcoatNormalTexture.scale;a.clearcoatNormalScale=new Vector2(vt,vt)}return Promise.all(o)}}class GLTFMaterialsDispersionExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_DISPERSION}getMaterialType(e){const d=this.parser.json.materials[e];return!d.extensions||!d.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,a){const nt=this.parser.json.materials[e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const o=nt.extensions[this.name];return a.dispersion=o.dispersion!==void 0?o.dispersion:0,Promise.resolve()}}class GLTFMaterialsIridescenceExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const d=this.parser.json.materials[e];return!d.extensions||!d.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,a){const d=this.parser,nt=d.json.materials[e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const o=[],ht=nt.extensions[this.name];return ht.iridescenceFactor!==void 0&&(a.iridescence=ht.iridescenceFactor),ht.iridescenceTexture!==void 0&&o.push(d.assignTexture(a,"iridescenceMap",ht.iridescenceTexture)),ht.iridescenceIor!==void 0&&(a.iridescenceIOR=ht.iridescenceIor),a.iridescenceThicknessRange===void 0&&(a.iridescenceThicknessRange=[100,400]),ht.iridescenceThicknessMinimum!==void 0&&(a.iridescenceThicknessRange[0]=ht.iridescenceThicknessMinimum),ht.iridescenceThicknessMaximum!==void 0&&(a.iridescenceThicknessRange[1]=ht.iridescenceThicknessMaximum),ht.iridescenceThicknessTexture!==void 0&&o.push(d.assignTexture(a,"iridescenceThicknessMap",ht.iridescenceThicknessTexture)),Promise.all(o)}}class GLTFMaterialsSheenExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_SHEEN}getMaterialType(e){const d=this.parser.json.materials[e];return!d.extensions||!d.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,a){const d=this.parser,nt=d.json.materials[e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const o=[];a.sheenColor=new Color(0,0,0),a.sheenRoughness=0,a.sheen=1;const ht=nt.extensions[this.name];if(ht.sheenColorFactor!==void 0){const vt=ht.sheenColorFactor;a.sheenColor.setRGB(vt[0],vt[1],vt[2],LinearSRGBColorSpace)}return ht.sheenRoughnessFactor!==void 0&&(a.sheenRoughness=ht.sheenRoughnessFactor),ht.sheenColorTexture!==void 0&&o.push(d.assignTexture(a,"sheenColorMap",ht.sheenColorTexture,SRGBColorSpace)),ht.sheenRoughnessTexture!==void 0&&o.push(d.assignTexture(a,"sheenRoughnessMap",ht.sheenRoughnessTexture)),Promise.all(o)}}class GLTFMaterialsTransmissionExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const d=this.parser.json.materials[e];return!d.extensions||!d.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,a){const d=this.parser,nt=d.json.materials[e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const o=[],ht=nt.extensions[this.name];return ht.transmissionFactor!==void 0&&(a.transmission=ht.transmissionFactor),ht.transmissionTexture!==void 0&&o.push(d.assignTexture(a,"transmissionMap",ht.transmissionTexture)),Promise.all(o)}}class GLTFMaterialsVolumeExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_VOLUME}getMaterialType(e){const d=this.parser.json.materials[e];return!d.extensions||!d.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,a){const d=this.parser,nt=d.json.materials[e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const o=[],ht=nt.extensions[this.name];a.thickness=ht.thicknessFactor!==void 0?ht.thicknessFactor:0,ht.thicknessTexture!==void 0&&o.push(d.assignTexture(a,"thicknessMap",ht.thicknessTexture)),a.attenuationDistance=ht.attenuationDistance||1/0;const vt=ht.attenuationColor||[1,1,1];return a.attenuationColor=new Color().setRGB(vt[0],vt[1],vt[2],LinearSRGBColorSpace),Promise.all(o)}}class GLTFMaterialsIorExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_IOR}getMaterialType(e){const d=this.parser.json.materials[e];return!d.extensions||!d.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,a){const nt=this.parser.json.materials[e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const o=nt.extensions[this.name];return a.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}}class GLTFMaterialsSpecularExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_SPECULAR}getMaterialType(e){const d=this.parser.json.materials[e];return!d.extensions||!d.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,a){const d=this.parser,nt=d.json.materials[e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const o=[],ht=nt.extensions[this.name];a.specularIntensity=ht.specularFactor!==void 0?ht.specularFactor:1,ht.specularTexture!==void 0&&o.push(d.assignTexture(a,"specularIntensityMap",ht.specularTexture));const vt=ht.specularColorFactor||[1,1,1];return a.specularColor=new Color().setRGB(vt[0],vt[1],vt[2],LinearSRGBColorSpace),ht.specularColorTexture!==void 0&&o.push(d.assignTexture(a,"specularColorMap",ht.specularColorTexture,SRGBColorSpace)),Promise.all(o)}}class GLTFMaterialsBumpExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.EXT_MATERIALS_BUMP}getMaterialType(e){const d=this.parser.json.materials[e];return!d.extensions||!d.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,a){const d=this.parser,nt=d.json.materials[e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const o=[],ht=nt.extensions[this.name];return a.bumpScale=ht.bumpFactor!==void 0?ht.bumpFactor:1,ht.bumpTexture!==void 0&&o.push(d.assignTexture(a,"bumpMap",ht.bumpTexture)),Promise.all(o)}}class GLTFMaterialsAnisotropyExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const d=this.parser.json.materials[e];return!d.extensions||!d.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(e,a){const d=this.parser,nt=d.json.materials[e];if(!nt.extensions||!nt.extensions[this.name])return Promise.resolve();const o=[],ht=nt.extensions[this.name];return ht.anisotropyStrength!==void 0&&(a.anisotropy=ht.anisotropyStrength),ht.anisotropyRotation!==void 0&&(a.anisotropyRotation=ht.anisotropyRotation),ht.anisotropyTexture!==void 0&&o.push(d.assignTexture(a,"anisotropyMap",ht.anisotropyTexture)),Promise.all(o)}}class GLTFTextureBasisUExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.KHR_TEXTURE_BASISU}loadTexture(e){const a=this.parser,d=a.json,nt=d.textures[e];if(!nt.extensions||!nt.extensions[this.name])return null;const o=nt.extensions[this.name],ht=a.options.ktx2Loader;if(!ht){if(d.extensionsRequired&&d.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return a.loadTextureImage(e,o.source,ht)}}class GLTFTextureWebPExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.EXT_TEXTURE_WEBP}loadTexture(e){const a=this.name,d=this.parser,nt=d.json,o=nt.textures[e];if(!o.extensions||!o.extensions[a])return null;const ht=o.extensions[a],vt=nt.images[ht.source];let xt=d.textureLoader;if(vt.uri){const St=d.options.manager.getHandler(vt.uri);St!==null&&(xt=St)}return d.loadTextureImage(e,ht.source,xt)}}class GLTFTextureAVIFExtension{constructor(e){this.parser=e,this.name=EXTENSIONS.EXT_TEXTURE_AVIF}loadTexture(e){const a=this.name,d=this.parser,nt=d.json,o=nt.textures[e];if(!o.extensions||!o.extensions[a])return null;const ht=o.extensions[a],vt=nt.images[ht.source];let xt=d.textureLoader;if(vt.uri){const St=d.options.manager.getHandler(vt.uri);St!==null&&(xt=St)}return d.loadTextureImage(e,ht.source,xt)}}class GLTFMeshoptCompression{constructor(e){this.name=EXTENSIONS.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const a=this.parser.json,d=a.bufferViews[e];if(d.extensions&&d.extensions[this.name]){const nt=d.extensions[this.name],o=this.parser.getDependency("buffer",nt.buffer),ht=this.parser.options.meshoptDecoder;if(!ht||!ht.supported){if(a.extensionsRequired&&a.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return o.then(function(vt){const xt=nt.byteOffset||0,St=nt.byteLength||0,Tt=nt.count,At=nt.byteStride,Ct=new Uint8Array(vt,xt,St);return ht.decodeGltfBufferAsync?ht.decodeGltfBufferAsync(Tt,At,Ct,nt.mode,nt.filter).then(function(Rt){return Rt.buffer}):ht.ready.then(function(){const Rt=new ArrayBuffer(Tt*At);return ht.decodeGltfBuffer(new Uint8Array(Rt),Tt,At,Ct,nt.mode,nt.filter),Rt})})}else return null}}class GLTFMeshGpuInstancing{constructor(e){this.name=EXTENSIONS.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const a=this.parser.json,d=a.nodes[e];if(!d.extensions||!d.extensions[this.name]||d.mesh===void 0)return null;const nt=a.meshes[d.mesh];for(const St of nt.primitives)if(St.mode!==WEBGL_CONSTANTS.TRIANGLES&&St.mode!==WEBGL_CONSTANTS.TRIANGLE_STRIP&&St.mode!==WEBGL_CONSTANTS.TRIANGLE_FAN&&St.mode!==void 0)return null;const ht=d.extensions[this.name].attributes,vt=[],xt={};for(const St in ht)vt.push(this.parser.getDependency("accessor",ht[St]).then(Tt=>(xt[St]=Tt,xt[St])));return vt.length<1?null:(vt.push(this.parser.createNodeMesh(e)),Promise.all(vt).then(St=>{const Tt=St.pop(),At=Tt.isGroup?Tt.children:[Tt],Ct=St[0].count,Rt=[];for(const yt of At){const Dt=new Matrix4,Nt=new Vector3,Lt=new Quaternion,Ot=new Vector3(1,1,1),Ft=new InstancedMesh(yt.geometry,yt.material,Ct);for(let Vt=0;Vt<Ct;Vt++)xt.TRANSLATION&&Nt.fromBufferAttribute(xt.TRANSLATION,Vt),xt.ROTATION&&Lt.fromBufferAttribute(xt.ROTATION,Vt),xt.SCALE&&Ot.fromBufferAttribute(xt.SCALE,Vt),Ft.setMatrixAt(Vt,Dt.compose(Nt,Lt,Ot));for(const Vt in xt)if(Vt==="_COLOR_0"){const jt=xt[Vt];Ft.instanceColor=new InstancedBufferAttribute(jt.array,jt.itemSize,jt.normalized)}else Vt!=="TRANSLATION"&&Vt!=="ROTATION"&&Vt!=="SCALE"&&yt.geometry.setAttribute(Vt,xt[Vt]);Object3D.prototype.copy.call(Ft,yt),this.parser.assignFinalMaterial(Ft),Rt.push(Ft)}return Tt.isGroup?(Tt.clear(),Tt.add(...Rt),Tt):Rt[0]}))}}const BINARY_EXTENSION_HEADER_MAGIC="glTF",BINARY_EXTENSION_HEADER_LENGTH=12,BINARY_EXTENSION_CHUNK_TYPES={JSON:1313821514,BIN:5130562};class GLTFBinaryExtension{constructor(e){this.name=EXTENSIONS.KHR_BINARY_GLTF,this.content=null,this.body=null;const a=new DataView(e,0,BINARY_EXTENSION_HEADER_LENGTH),d=new TextDecoder;if(this.header={magic:d.decode(new Uint8Array(e.slice(0,4))),version:a.getUint32(4,!0),length:a.getUint32(8,!0)},this.header.magic!==BINARY_EXTENSION_HEADER_MAGIC)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const nt=this.header.length-BINARY_EXTENSION_HEADER_LENGTH,o=new DataView(e,BINARY_EXTENSION_HEADER_LENGTH);let ht=0;for(;ht<nt;){const vt=o.getUint32(ht,!0);ht+=4;const xt=o.getUint32(ht,!0);if(ht+=4,xt===BINARY_EXTENSION_CHUNK_TYPES.JSON){const St=new Uint8Array(e,BINARY_EXTENSION_HEADER_LENGTH+ht,vt);this.content=d.decode(St)}else if(xt===BINARY_EXTENSION_CHUNK_TYPES.BIN){const St=BINARY_EXTENSION_HEADER_LENGTH+ht;this.body=e.slice(St,St+vt)}ht+=vt}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class GLTFDracoMeshCompressionExtension{constructor(e,a){if(!a)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=EXTENSIONS.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=a,this.dracoLoader.preload()}decodePrimitive(e,a){const d=this.json,nt=this.dracoLoader,o=e.extensions[this.name].bufferView,ht=e.extensions[this.name].attributes,vt={},xt={},St={};for(const Tt in ht){const At=ATTRIBUTES[Tt]||Tt.toLowerCase();vt[At]=ht[Tt]}for(const Tt in e.attributes){const At=ATTRIBUTES[Tt]||Tt.toLowerCase();if(ht[Tt]!==void 0){const Ct=d.accessors[e.attributes[Tt]],Rt=WEBGL_COMPONENT_TYPES[Ct.componentType];St[At]=Rt.name,xt[At]=Ct.normalized===!0}}return a.getDependency("bufferView",o).then(function(Tt){return new Promise(function(At,Ct){nt.decodeDracoFile(Tt,function(Rt){for(const yt in Rt.attributes){const Dt=Rt.attributes[yt],Nt=xt[yt];Nt!==void 0&&(Dt.normalized=Nt)}At(Rt)},vt,St,LinearSRGBColorSpace,Ct)})})}}class GLTFTextureTransformExtension{constructor(){this.name=EXTENSIONS.KHR_TEXTURE_TRANSFORM}extendTexture(e,a){return(a.texCoord===void 0||a.texCoord===e.channel)&&a.offset===void 0&&a.rotation===void 0&&a.scale===void 0||(e=e.clone(),a.texCoord!==void 0&&(e.channel=a.texCoord),a.offset!==void 0&&e.offset.fromArray(a.offset),a.rotation!==void 0&&(e.rotation=a.rotation),a.scale!==void 0&&e.repeat.fromArray(a.scale),e.needsUpdate=!0),e}}class GLTFMeshQuantizationExtension{constructor(){this.name=EXTENSIONS.KHR_MESH_QUANTIZATION}}class GLTFCubicSplineInterpolant extends Interpolant{constructor(e,a,d,nt){super(e,a,d,nt)}copySampleValue_(e){const a=this.resultBuffer,d=this.sampleValues,nt=this.valueSize,o=e*nt*3+nt;for(let ht=0;ht!==nt;ht++)a[ht]=d[o+ht];return a}interpolate_(e,a,d,nt){const o=this.resultBuffer,ht=this.sampleValues,vt=this.valueSize,xt=vt*2,St=vt*3,Tt=nt-a,At=(d-a)/Tt,Ct=At*At,Rt=Ct*At,yt=e*St,Dt=yt-St,Nt=-2*Rt+3*Ct,Lt=Rt-Ct,Ot=1-Nt,Ft=Lt-Ct+At;for(let Vt=0;Vt!==vt;Vt++){const jt=ht[Dt+Vt+vt],$t=ht[Dt+Vt+xt]*Tt,Yt=ht[yt+Vt+vt],Kt=ht[yt+Vt]*Tt;o[Vt]=Ot*jt+Ft*$t+Nt*Yt+Lt*Kt}return o}}const _quaternion=new Quaternion;class GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant{interpolate_(e,a,d,nt){const o=super.interpolate_(e,a,d,nt);return _quaternion.fromArray(o).normalize().toArray(o),o}}const WEBGL_CONSTANTS={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},WEBGL_COMPONENT_TYPES={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},WEBGL_FILTERS={9728:NearestFilter,9729:LinearFilter,9984:NearestMipmapNearestFilter,9985:LinearMipmapNearestFilter,9986:NearestMipmapLinearFilter,9987:LinearMipmapLinearFilter},WEBGL_WRAPPINGS={33071:ClampToEdgeWrapping,33648:MirroredRepeatWrapping,10497:RepeatWrapping},WEBGL_TYPE_SIZES={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ATTRIBUTES={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},PATH_PROPERTIES={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},INTERPOLATION={CUBICSPLINE:void 0,LINEAR:InterpolateLinear,STEP:InterpolateDiscrete},ALPHA_MODES={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function createDefaultMaterial(c){return c.DefaultMaterial===void 0&&(c.DefaultMaterial=new MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:FrontSide})),c.DefaultMaterial}function addUnknownExtensionsToUserData(c,e,a){for(const d in a.extensions)c[d]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[d]=a.extensions[d])}function assignExtrasToUserData(c,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(c.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function addMorphTargets(c,e,a){let d=!1,nt=!1,o=!1;for(let St=0,Tt=e.length;St<Tt;St++){const At=e[St];if(At.POSITION!==void 0&&(d=!0),At.NORMAL!==void 0&&(nt=!0),At.COLOR_0!==void 0&&(o=!0),d&&nt&&o)break}if(!d&&!nt&&!o)return Promise.resolve(c);const ht=[],vt=[],xt=[];for(let St=0,Tt=e.length;St<Tt;St++){const At=e[St];if(d){const Ct=At.POSITION!==void 0?a.getDependency("accessor",At.POSITION):c.attributes.position;ht.push(Ct)}if(nt){const Ct=At.NORMAL!==void 0?a.getDependency("accessor",At.NORMAL):c.attributes.normal;vt.push(Ct)}if(o){const Ct=At.COLOR_0!==void 0?a.getDependency("accessor",At.COLOR_0):c.attributes.color;xt.push(Ct)}}return Promise.all([Promise.all(ht),Promise.all(vt),Promise.all(xt)]).then(function(St){const Tt=St[0],At=St[1],Ct=St[2];return d&&(c.morphAttributes.position=Tt),nt&&(c.morphAttributes.normal=At),o&&(c.morphAttributes.color=Ct),c.morphTargetsRelative=!0,c})}function updateMorphTargets(c,e){if(c.updateMorphTargets(),e.weights!==void 0)for(let a=0,d=e.weights.length;a<d;a++)c.morphTargetInfluences[a]=e.weights[a];if(e.extras&&Array.isArray(e.extras.targetNames)){const a=e.extras.targetNames;if(c.morphTargetInfluences.length===a.length){c.morphTargetDictionary={};for(let d=0,nt=a.length;d<nt;d++)c.morphTargetDictionary[a[d]]=d}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function createPrimitiveKey(c){let e;const a=c.extensions&&c.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];if(a?e="draco:"+a.bufferView+":"+a.indices+":"+createAttributesKey(a.attributes):e=c.indices+":"+createAttributesKey(c.attributes)+":"+c.mode,c.targets!==void 0)for(let d=0,nt=c.targets.length;d<nt;d++)e+=":"+createAttributesKey(c.targets[d]);return e}function createAttributesKey(c){let e="";const a=Object.keys(c).sort();for(let d=0,nt=a.length;d<nt;d++)e+=a[d]+":"+c[a[d]]+";";return e}function getNormalizedComponentScale(c){switch(c){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function getImageURIMimeType(c){return c.search(/\.jpe?g($|\?)/i)>0||c.search(/^data\:image\/jpeg/)===0?"image/jpeg":c.search(/\.webp($|\?)/i)>0||c.search(/^data\:image\/webp/)===0?"image/webp":c.search(/\.ktx2($|\?)/i)>0||c.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const _identityMatrix=new Matrix4;class GLTFParser{constructor(e={},a={}){this.json=e,this.extensions={},this.plugins={},this.options=a,this.cache=new GLTFRegistry,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let d=!1,nt=-1,o=!1,ht=-1;if(typeof navigator<"u"){const vt=navigator.userAgent;d=/^((?!chrome|android).)*safari/i.test(vt)===!0;const xt=vt.match(/Version\/(\d+)/);nt=d&&xt?parseInt(xt[1],10):-1,o=vt.indexOf("Firefox")>-1,ht=o?vt.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||d&&nt<17||o&&ht<98?this.textureLoader=new TextureLoader(this.options.manager):this.textureLoader=new ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,a){const d=this,nt=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(ht){return ht._markDefs&&ht._markDefs()}),Promise.all(this._invokeAll(function(ht){return ht.beforeRoot&&ht.beforeRoot()})).then(function(){return Promise.all([d.getDependencies("scene"),d.getDependencies("animation"),d.getDependencies("camera")])}).then(function(ht){const vt={scene:ht[0][nt.scene||0],scenes:ht[0],animations:ht[1],cameras:ht[2],asset:nt.asset,parser:d,userData:{}};return addUnknownExtensionsToUserData(o,vt,nt),assignExtrasToUserData(vt,nt),Promise.all(d._invokeAll(function(xt){return xt.afterRoot&&xt.afterRoot(vt)})).then(function(){for(const xt of vt.scenes)xt.updateMatrixWorld();e(vt)})}).catch(a)}_markDefs(){const e=this.json.nodes||[],a=this.json.skins||[],d=this.json.meshes||[];for(let nt=0,o=a.length;nt<o;nt++){const ht=a[nt].joints;for(let vt=0,xt=ht.length;vt<xt;vt++)e[ht[vt]].isBone=!0}for(let nt=0,o=e.length;nt<o;nt++){const ht=e[nt];ht.mesh!==void 0&&(this._addNodeRef(this.meshCache,ht.mesh),ht.skin!==void 0&&(d[ht.mesh].isSkinnedMesh=!0)),ht.camera!==void 0&&this._addNodeRef(this.cameraCache,ht.camera)}}_addNodeRef(e,a){a!==void 0&&(e.refs[a]===void 0&&(e.refs[a]=e.uses[a]=0),e.refs[a]++)}_getNodeRef(e,a,d){if(e.refs[a]<=1)return d;const nt=d.clone(),o=(ht,vt)=>{const xt=this.associations.get(ht);xt!=null&&this.associations.set(vt,xt);for(const[St,Tt]of ht.children.entries())o(Tt,vt.children[St])};return o(d,nt),nt.name+="_instance_"+e.uses[a]++,nt}_invokeOne(e){const a=Object.values(this.plugins);a.push(this);for(let d=0;d<a.length;d++){const nt=e(a[d]);if(nt)return nt}return null}_invokeAll(e){const a=Object.values(this.plugins);a.unshift(this);const d=[];for(let nt=0;nt<a.length;nt++){const o=e(a[nt]);o&&d.push(o)}return d}getDependency(e,a){const d=e+":"+a;let nt=this.cache.get(d);if(!nt){switch(e){case"scene":nt=this.loadScene(a);break;case"node":nt=this._invokeOne(function(o){return o.loadNode&&o.loadNode(a)});break;case"mesh":nt=this._invokeOne(function(o){return o.loadMesh&&o.loadMesh(a)});break;case"accessor":nt=this.loadAccessor(a);break;case"bufferView":nt=this._invokeOne(function(o){return o.loadBufferView&&o.loadBufferView(a)});break;case"buffer":nt=this.loadBuffer(a);break;case"material":nt=this._invokeOne(function(o){return o.loadMaterial&&o.loadMaterial(a)});break;case"texture":nt=this._invokeOne(function(o){return o.loadTexture&&o.loadTexture(a)});break;case"skin":nt=this.loadSkin(a);break;case"animation":nt=this._invokeOne(function(o){return o.loadAnimation&&o.loadAnimation(a)});break;case"camera":nt=this.loadCamera(a);break;default:if(nt=this._invokeOne(function(o){return o!=this&&o.getDependency&&o.getDependency(e,a)}),!nt)throw new Error("Unknown type: "+e);break}this.cache.add(d,nt)}return nt}getDependencies(e){let a=this.cache.get(e);if(!a){const d=this,nt=this.json[e+(e==="mesh"?"es":"s")]||[];a=Promise.all(nt.map(function(o,ht){return d.getDependency(e,ht)})),this.cache.add(e,a)}return a}loadBuffer(e){const a=this.json.buffers[e],d=this.fileLoader;if(a.type&&a.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+a.type+" buffer type is not supported.");if(a.uri===void 0&&e===0)return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);const nt=this.options;return new Promise(function(o,ht){d.load(LoaderUtils.resolveURL(a.uri,nt.path),o,void 0,function(){ht(new Error('THREE.GLTFLoader: Failed to load buffer "'+a.uri+'".'))})})}loadBufferView(e){const a=this.json.bufferViews[e];return this.getDependency("buffer",a.buffer).then(function(d){const nt=a.byteLength||0,o=a.byteOffset||0;return d.slice(o,o+nt)})}loadAccessor(e){const a=this,d=this.json,nt=this.json.accessors[e];if(nt.bufferView===void 0&&nt.sparse===void 0){const ht=WEBGL_TYPE_SIZES[nt.type],vt=WEBGL_COMPONENT_TYPES[nt.componentType],xt=nt.normalized===!0,St=new vt(nt.count*ht);return Promise.resolve(new BufferAttribute(St,ht,xt))}const o=[];return nt.bufferView!==void 0?o.push(this.getDependency("bufferView",nt.bufferView)):o.push(null),nt.sparse!==void 0&&(o.push(this.getDependency("bufferView",nt.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",nt.sparse.values.bufferView))),Promise.all(o).then(function(ht){const vt=ht[0],xt=WEBGL_TYPE_SIZES[nt.type],St=WEBGL_COMPONENT_TYPES[nt.componentType],Tt=St.BYTES_PER_ELEMENT,At=Tt*xt,Ct=nt.byteOffset||0,Rt=nt.bufferView!==void 0?d.bufferViews[nt.bufferView].byteStride:void 0,yt=nt.normalized===!0;let Dt,Nt;if(Rt&&Rt!==At){const Lt=Math.floor(Ct/Rt),Ot="InterleavedBuffer:"+nt.bufferView+":"+nt.componentType+":"+Lt+":"+nt.count;let Ft=a.cache.get(Ot);Ft||(Dt=new St(vt,Lt*Rt,nt.count*Rt/Tt),Ft=new InterleavedBuffer(Dt,Rt/Tt),a.cache.add(Ot,Ft)),Nt=new InterleavedBufferAttribute(Ft,xt,Ct%Rt/Tt,yt)}else vt===null?Dt=new St(nt.count*xt):Dt=new St(vt,Ct,nt.count*xt),Nt=new BufferAttribute(Dt,xt,yt);if(nt.sparse!==void 0){const Lt=WEBGL_TYPE_SIZES.SCALAR,Ot=WEBGL_COMPONENT_TYPES[nt.sparse.indices.componentType],Ft=nt.sparse.indices.byteOffset||0,Vt=nt.sparse.values.byteOffset||0,jt=new Ot(ht[1],Ft,nt.sparse.count*Lt),$t=new St(ht[2],Vt,nt.sparse.count*xt);vt!==null&&(Nt=new BufferAttribute(Nt.array.slice(),Nt.itemSize,Nt.normalized)),Nt.normalized=!1;for(let Yt=0,Kt=jt.length;Yt<Kt;Yt++){const qt=jt[Yt];if(Nt.setX(qt,$t[Yt*xt]),xt>=2&&Nt.setY(qt,$t[Yt*xt+1]),xt>=3&&Nt.setZ(qt,$t[Yt*xt+2]),xt>=4&&Nt.setW(qt,$t[Yt*xt+3]),xt>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}Nt.normalized=yt}return Nt})}loadTexture(e){const a=this.json,d=this.options,o=a.textures[e].source,ht=a.images[o];let vt=this.textureLoader;if(ht.uri){const xt=d.manager.getHandler(ht.uri);xt!==null&&(vt=xt)}return this.loadTextureImage(e,o,vt)}loadTextureImage(e,a,d){const nt=this,o=this.json,ht=o.textures[e],vt=o.images[a],xt=(vt.uri||vt.bufferView)+":"+ht.sampler;if(this.textureCache[xt])return this.textureCache[xt];const St=this.loadImageSource(a,d).then(function(Tt){Tt.flipY=!1,Tt.name=ht.name||vt.name||"",Tt.name===""&&typeof vt.uri=="string"&&vt.uri.startsWith("data:image/")===!1&&(Tt.name=vt.uri);const Ct=(o.samplers||{})[ht.sampler]||{};return Tt.magFilter=WEBGL_FILTERS[Ct.magFilter]||LinearFilter,Tt.minFilter=WEBGL_FILTERS[Ct.minFilter]||LinearMipmapLinearFilter,Tt.wrapS=WEBGL_WRAPPINGS[Ct.wrapS]||RepeatWrapping,Tt.wrapT=WEBGL_WRAPPINGS[Ct.wrapT]||RepeatWrapping,Tt.generateMipmaps=!Tt.isCompressedTexture&&Tt.minFilter!==NearestFilter&&Tt.minFilter!==LinearFilter,nt.associations.set(Tt,{textures:e}),Tt}).catch(function(){return null});return this.textureCache[xt]=St,St}loadImageSource(e,a){const d=this,nt=this.json,o=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(At=>At.clone());const ht=nt.images[e],vt=self.URL||self.webkitURL;let xt=ht.uri||"",St=!1;if(ht.bufferView!==void 0)xt=d.getDependency("bufferView",ht.bufferView).then(function(At){St=!0;const Ct=new Blob([At],{type:ht.mimeType});return xt=vt.createObjectURL(Ct),xt});else if(ht.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const Tt=Promise.resolve(xt).then(function(At){return new Promise(function(Ct,Rt){let yt=Ct;a.isImageBitmapLoader===!0&&(yt=function(Dt){const Nt=new Texture(Dt);Nt.needsUpdate=!0,Ct(Nt)}),a.load(LoaderUtils.resolveURL(At,o.path),yt,void 0,Rt)})}).then(function(At){return St===!0&&vt.revokeObjectURL(xt),assignExtrasToUserData(At,ht),At.userData.mimeType=ht.mimeType||getImageURIMimeType(ht.uri),At}).catch(function(At){throw console.error("THREE.GLTFLoader: Couldn't load texture",xt),At});return this.sourceCache[e]=Tt,Tt}assignTexture(e,a,d,nt){const o=this;return this.getDependency("texture",d.index).then(function(ht){if(!ht)return null;if(d.texCoord!==void 0&&d.texCoord>0&&(ht=ht.clone(),ht.channel=d.texCoord),o.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]){const vt=d.extensions!==void 0?d.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]:void 0;if(vt){const xt=o.associations.get(ht);ht=o.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(ht,vt),o.associations.set(ht,xt)}}return nt!==void 0&&(ht.colorSpace=nt),e[a]=ht,ht})}assignFinalMaterial(e){const a=e.geometry;let d=e.material;const nt=a.attributes.tangent===void 0,o=a.attributes.color!==void 0,ht=a.attributes.normal===void 0;if(e.isPoints){const vt="PointsMaterial:"+d.uuid;let xt=this.cache.get(vt);xt||(xt=new PointsMaterial,Material.prototype.copy.call(xt,d),xt.color.copy(d.color),xt.map=d.map,xt.sizeAttenuation=!1,this.cache.add(vt,xt)),d=xt}else if(e.isLine){const vt="LineBasicMaterial:"+d.uuid;let xt=this.cache.get(vt);xt||(xt=new LineBasicMaterial,Material.prototype.copy.call(xt,d),xt.color.copy(d.color),xt.map=d.map,this.cache.add(vt,xt)),d=xt}if(nt||o||ht){let vt="ClonedMaterial:"+d.uuid+":";nt&&(vt+="derivative-tangents:"),o&&(vt+="vertex-colors:"),ht&&(vt+="flat-shading:");let xt=this.cache.get(vt);xt||(xt=d.clone(),o&&(xt.vertexColors=!0),ht&&(xt.flatShading=!0),nt&&(xt.normalScale&&(xt.normalScale.y*=-1),xt.clearcoatNormalScale&&(xt.clearcoatNormalScale.y*=-1)),this.cache.add(vt,xt),this.associations.set(xt,this.associations.get(d))),d=xt}e.material=d}getMaterialType(){return MeshStandardMaterial}loadMaterial(e){const a=this,d=this.json,nt=this.extensions,o=d.materials[e];let ht;const vt={},xt=o.extensions||{},St=[];if(xt[EXTENSIONS.KHR_MATERIALS_UNLIT]){const At=nt[EXTENSIONS.KHR_MATERIALS_UNLIT];ht=At.getMaterialType(),St.push(At.extendParams(vt,o,a))}else{const At=o.pbrMetallicRoughness||{};if(vt.color=new Color(1,1,1),vt.opacity=1,Array.isArray(At.baseColorFactor)){const Ct=At.baseColorFactor;vt.color.setRGB(Ct[0],Ct[1],Ct[2],LinearSRGBColorSpace),vt.opacity=Ct[3]}At.baseColorTexture!==void 0&&St.push(a.assignTexture(vt,"map",At.baseColorTexture,SRGBColorSpace)),vt.metalness=At.metallicFactor!==void 0?At.metallicFactor:1,vt.roughness=At.roughnessFactor!==void 0?At.roughnessFactor:1,At.metallicRoughnessTexture!==void 0&&(St.push(a.assignTexture(vt,"metalnessMap",At.metallicRoughnessTexture)),St.push(a.assignTexture(vt,"roughnessMap",At.metallicRoughnessTexture))),ht=this._invokeOne(function(Ct){return Ct.getMaterialType&&Ct.getMaterialType(e)}),St.push(Promise.all(this._invokeAll(function(Ct){return Ct.extendMaterialParams&&Ct.extendMaterialParams(e,vt)})))}o.doubleSided===!0&&(vt.side=DoubleSide);const Tt=o.alphaMode||ALPHA_MODES.OPAQUE;if(Tt===ALPHA_MODES.BLEND?(vt.transparent=!0,vt.depthWrite=!1):(vt.transparent=!1,Tt===ALPHA_MODES.MASK&&(vt.alphaTest=o.alphaCutoff!==void 0?o.alphaCutoff:.5)),o.normalTexture!==void 0&&ht!==MeshBasicMaterial&&(St.push(a.assignTexture(vt,"normalMap",o.normalTexture)),vt.normalScale=new Vector2(1,1),o.normalTexture.scale!==void 0)){const At=o.normalTexture.scale;vt.normalScale.set(At,At)}if(o.occlusionTexture!==void 0&&ht!==MeshBasicMaterial&&(St.push(a.assignTexture(vt,"aoMap",o.occlusionTexture)),o.occlusionTexture.strength!==void 0&&(vt.aoMapIntensity=o.occlusionTexture.strength)),o.emissiveFactor!==void 0&&ht!==MeshBasicMaterial){const At=o.emissiveFactor;vt.emissive=new Color().setRGB(At[0],At[1],At[2],LinearSRGBColorSpace)}return o.emissiveTexture!==void 0&&ht!==MeshBasicMaterial&&St.push(a.assignTexture(vt,"emissiveMap",o.emissiveTexture,SRGBColorSpace)),Promise.all(St).then(function(){const At=new ht(vt);return o.name&&(At.name=o.name),assignExtrasToUserData(At,o),a.associations.set(At,{materials:e}),o.extensions&&addUnknownExtensionsToUserData(nt,At,o),At})}createUniqueName(e){const a=PropertyBinding.sanitizeNodeName(e||"");return a in this.nodeNamesUsed?a+"_"+ ++this.nodeNamesUsed[a]:(this.nodeNamesUsed[a]=0,a)}loadGeometries(e){const a=this,d=this.extensions,nt=this.primitiveCache;function o(vt){return d[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(vt,a).then(function(xt){return addPrimitiveAttributes(xt,vt,a)})}const ht=[];for(let vt=0,xt=e.length;vt<xt;vt++){const St=e[vt],Tt=createPrimitiveKey(St),At=nt[Tt];if(At)ht.push(At.promise);else{let Ct;St.extensions&&St.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]?Ct=o(St):Ct=addPrimitiveAttributes(new BufferGeometry,St,a),nt[Tt]={primitive:St,promise:Ct},ht.push(Ct)}}return Promise.all(ht)}loadMesh(e){const a=this,d=this.json,nt=this.extensions,o=d.meshes[e],ht=o.primitives,vt=[];for(let xt=0,St=ht.length;xt<St;xt++){const Tt=ht[xt].material===void 0?createDefaultMaterial(this.cache):this.getDependency("material",ht[xt].material);vt.push(Tt)}return vt.push(a.loadGeometries(ht)),Promise.all(vt).then(function(xt){const St=xt.slice(0,xt.length-1),Tt=xt[xt.length-1],At=[];for(let Rt=0,yt=Tt.length;Rt<yt;Rt++){const Dt=Tt[Rt],Nt=ht[Rt];let Lt;const Ot=St[Rt];if(Nt.mode===WEBGL_CONSTANTS.TRIANGLES||Nt.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP||Nt.mode===WEBGL_CONSTANTS.TRIANGLE_FAN||Nt.mode===void 0)Lt=o.isSkinnedMesh===!0?new SkinnedMesh(Dt,Ot):new Mesh(Dt,Ot),Lt.isSkinnedMesh===!0&&Lt.normalizeSkinWeights(),Nt.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP?Lt.geometry=toTrianglesDrawMode(Lt.geometry,TriangleStripDrawMode):Nt.mode===WEBGL_CONSTANTS.TRIANGLE_FAN&&(Lt.geometry=toTrianglesDrawMode(Lt.geometry,TriangleFanDrawMode));else if(Nt.mode===WEBGL_CONSTANTS.LINES)Lt=new LineSegments(Dt,Ot);else if(Nt.mode===WEBGL_CONSTANTS.LINE_STRIP)Lt=new Line(Dt,Ot);else if(Nt.mode===WEBGL_CONSTANTS.LINE_LOOP)Lt=new LineLoop(Dt,Ot);else if(Nt.mode===WEBGL_CONSTANTS.POINTS)Lt=new Points(Dt,Ot);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+Nt.mode);Object.keys(Lt.geometry.morphAttributes).length>0&&updateMorphTargets(Lt,o),Lt.name=a.createUniqueName(o.name||"mesh_"+e),assignExtrasToUserData(Lt,o),Nt.extensions&&addUnknownExtensionsToUserData(nt,Lt,Nt),a.assignFinalMaterial(Lt),At.push(Lt)}for(let Rt=0,yt=At.length;Rt<yt;Rt++)a.associations.set(At[Rt],{meshes:e,primitives:Rt});if(At.length===1)return o.extensions&&addUnknownExtensionsToUserData(nt,At[0],o),At[0];const Ct=new Group;o.extensions&&addUnknownExtensionsToUserData(nt,Ct,o),a.associations.set(Ct,{meshes:e});for(let Rt=0,yt=At.length;Rt<yt;Rt++)Ct.add(At[Rt]);return Ct})}loadCamera(e){let a;const d=this.json.cameras[e],nt=d[d.type];if(!nt){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return d.type==="perspective"?a=new PerspectiveCamera(MathUtils.radToDeg(nt.yfov),nt.aspectRatio||1,nt.znear||1,nt.zfar||2e6):d.type==="orthographic"&&(a=new OrthographicCamera(-nt.xmag,nt.xmag,nt.ymag,-nt.ymag,nt.znear,nt.zfar)),d.name&&(a.name=this.createUniqueName(d.name)),assignExtrasToUserData(a,d),Promise.resolve(a)}loadSkin(e){const a=this.json.skins[e],d=[];for(let nt=0,o=a.joints.length;nt<o;nt++)d.push(this._loadNodeShallow(a.joints[nt]));return a.inverseBindMatrices!==void 0?d.push(this.getDependency("accessor",a.inverseBindMatrices)):d.push(null),Promise.all(d).then(function(nt){const o=nt.pop(),ht=nt,vt=[],xt=[];for(let St=0,Tt=ht.length;St<Tt;St++){const At=ht[St];if(At){vt.push(At);const Ct=new Matrix4;o!==null&&Ct.fromArray(o.array,St*16),xt.push(Ct)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',a.joints[St])}return new Skeleton(vt,xt)})}loadAnimation(e){const a=this.json,d=this,nt=a.animations[e],o=nt.name?nt.name:"animation_"+e,ht=[],vt=[],xt=[],St=[],Tt=[];for(let At=0,Ct=nt.channels.length;At<Ct;At++){const Rt=nt.channels[At],yt=nt.samplers[Rt.sampler],Dt=Rt.target,Nt=Dt.node,Lt=nt.parameters!==void 0?nt.parameters[yt.input]:yt.input,Ot=nt.parameters!==void 0?nt.parameters[yt.output]:yt.output;Dt.node!==void 0&&(ht.push(this.getDependency("node",Nt)),vt.push(this.getDependency("accessor",Lt)),xt.push(this.getDependency("accessor",Ot)),St.push(yt),Tt.push(Dt))}return Promise.all([Promise.all(ht),Promise.all(vt),Promise.all(xt),Promise.all(St),Promise.all(Tt)]).then(function(At){const Ct=At[0],Rt=At[1],yt=At[2],Dt=At[3],Nt=At[4],Lt=[];for(let Ot=0,Ft=Ct.length;Ot<Ft;Ot++){const Vt=Ct[Ot],jt=Rt[Ot],$t=yt[Ot],Yt=Dt[Ot],Kt=Nt[Ot];if(Vt===void 0)continue;Vt.updateMatrix&&Vt.updateMatrix();const qt=d._createAnimationTracks(Vt,jt,$t,Yt,Kt);if(qt)for(let Wt=0;Wt<qt.length;Wt++)Lt.push(qt[Wt])}return new AnimationClip(o,void 0,Lt)})}createNodeMesh(e){const a=this.json,d=this,nt=a.nodes[e];return nt.mesh===void 0?null:d.getDependency("mesh",nt.mesh).then(function(o){const ht=d._getNodeRef(d.meshCache,nt.mesh,o);return nt.weights!==void 0&&ht.traverse(function(vt){if(vt.isMesh)for(let xt=0,St=nt.weights.length;xt<St;xt++)vt.morphTargetInfluences[xt]=nt.weights[xt]}),ht})}loadNode(e){const a=this.json,d=this,nt=a.nodes[e],o=d._loadNodeShallow(e),ht=[],vt=nt.children||[];for(let St=0,Tt=vt.length;St<Tt;St++)ht.push(d.getDependency("node",vt[St]));const xt=nt.skin===void 0?Promise.resolve(null):d.getDependency("skin",nt.skin);return Promise.all([o,Promise.all(ht),xt]).then(function(St){const Tt=St[0],At=St[1],Ct=St[2];Ct!==null&&Tt.traverse(function(Rt){Rt.isSkinnedMesh&&Rt.bind(Ct,_identityMatrix)});for(let Rt=0,yt=At.length;Rt<yt;Rt++)Tt.add(At[Rt]);return Tt})}_loadNodeShallow(e){const a=this.json,d=this.extensions,nt=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const o=a.nodes[e],ht=o.name?nt.createUniqueName(o.name):"",vt=[],xt=nt._invokeOne(function(St){return St.createNodeMesh&&St.createNodeMesh(e)});return xt&&vt.push(xt),o.camera!==void 0&&vt.push(nt.getDependency("camera",o.camera).then(function(St){return nt._getNodeRef(nt.cameraCache,o.camera,St)})),nt._invokeAll(function(St){return St.createNodeAttachment&&St.createNodeAttachment(e)}).forEach(function(St){vt.push(St)}),this.nodeCache[e]=Promise.all(vt).then(function(St){let Tt;if(o.isBone===!0?Tt=new Bone:St.length>1?Tt=new Group:St.length===1?Tt=St[0]:Tt=new Object3D,Tt!==St[0])for(let At=0,Ct=St.length;At<Ct;At++)Tt.add(St[At]);if(o.name&&(Tt.userData.name=o.name,Tt.name=ht),assignExtrasToUserData(Tt,o),o.extensions&&addUnknownExtensionsToUserData(d,Tt,o),o.matrix!==void 0){const At=new Matrix4;At.fromArray(o.matrix),Tt.applyMatrix4(At)}else o.translation!==void 0&&Tt.position.fromArray(o.translation),o.rotation!==void 0&&Tt.quaternion.fromArray(o.rotation),o.scale!==void 0&&Tt.scale.fromArray(o.scale);return nt.associations.has(Tt)||nt.associations.set(Tt,{}),nt.associations.get(Tt).nodes=e,Tt}),this.nodeCache[e]}loadScene(e){const a=this.extensions,d=this.json.scenes[e],nt=this,o=new Group;d.name&&(o.name=nt.createUniqueName(d.name)),assignExtrasToUserData(o,d),d.extensions&&addUnknownExtensionsToUserData(a,o,d);const ht=d.nodes||[],vt=[];for(let xt=0,St=ht.length;xt<St;xt++)vt.push(nt.getDependency("node",ht[xt]));return Promise.all(vt).then(function(xt){for(let Tt=0,At=xt.length;Tt<At;Tt++)o.add(xt[Tt]);const St=Tt=>{const At=new Map;for(const[Ct,Rt]of nt.associations)(Ct instanceof Material||Ct instanceof Texture)&&At.set(Ct,Rt);return Tt.traverse(Ct=>{const Rt=nt.associations.get(Ct);Rt!=null&&At.set(Ct,Rt)}),At};return nt.associations=St(o),o})}_createAnimationTracks(e,a,d,nt,o){const ht=[],vt=e.name?e.name:e.uuid,xt=[];PATH_PROPERTIES[o.path]===PATH_PROPERTIES.weights?e.traverse(function(Ct){Ct.morphTargetInfluences&&xt.push(Ct.name?Ct.name:Ct.uuid)}):xt.push(vt);let St;switch(PATH_PROPERTIES[o.path]){case PATH_PROPERTIES.weights:St=NumberKeyframeTrack;break;case PATH_PROPERTIES.rotation:St=QuaternionKeyframeTrack;break;case PATH_PROPERTIES.translation:case PATH_PROPERTIES.scale:St=VectorKeyframeTrack;break;default:switch(d.itemSize){case 1:St=NumberKeyframeTrack;break;case 2:case 3:default:St=VectorKeyframeTrack;break}break}const Tt=nt.interpolation!==void 0?INTERPOLATION[nt.interpolation]:InterpolateLinear,At=this._getArrayFromAccessor(d);for(let Ct=0,Rt=xt.length;Ct<Rt;Ct++){const yt=new St(xt[Ct]+"."+PATH_PROPERTIES[o.path],a.array,At,Tt);nt.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(yt),ht.push(yt)}return ht}_getArrayFromAccessor(e){let a=e.array;if(e.normalized){const d=getNormalizedComponentScale(a.constructor),nt=new Float32Array(a.length);for(let o=0,ht=a.length;o<ht;o++)nt[o]=a[o]*d;a=nt}return a}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(d){const nt=this instanceof QuaternionKeyframeTrack?GLTFCubicSplineQuaternionInterpolant:GLTFCubicSplineInterpolant;return new nt(this.times,this.values,this.getValueSize()/3,d)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function computeBounds(c,e,a){const d=e.attributes,nt=new Box3;if(d.POSITION!==void 0){const vt=a.json.accessors[d.POSITION],xt=vt.min,St=vt.max;if(xt!==void 0&&St!==void 0){if(nt.set(new Vector3(xt[0],xt[1],xt[2]),new Vector3(St[0],St[1],St[2])),vt.normalized){const Tt=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[vt.componentType]);nt.min.multiplyScalar(Tt),nt.max.multiplyScalar(Tt)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const o=e.targets;if(o!==void 0){const vt=new Vector3,xt=new Vector3;for(let St=0,Tt=o.length;St<Tt;St++){const At=o[St];if(At.POSITION!==void 0){const Ct=a.json.accessors[At.POSITION],Rt=Ct.min,yt=Ct.max;if(Rt!==void 0&&yt!==void 0){if(xt.setX(Math.max(Math.abs(Rt[0]),Math.abs(yt[0]))),xt.setY(Math.max(Math.abs(Rt[1]),Math.abs(yt[1]))),xt.setZ(Math.max(Math.abs(Rt[2]),Math.abs(yt[2]))),Ct.normalized){const Dt=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[Ct.componentType]);xt.multiplyScalar(Dt)}vt.max(xt)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}nt.expandByVector(vt)}c.boundingBox=nt;const ht=new Sphere;nt.getCenter(ht.center),ht.radius=nt.min.distanceTo(nt.max)/2,c.boundingSphere=ht}function addPrimitiveAttributes(c,e,a){const d=e.attributes,nt=[];function o(ht,vt){return a.getDependency("accessor",ht).then(function(xt){c.setAttribute(vt,xt)})}for(const ht in d){const vt=ATTRIBUTES[ht]||ht.toLowerCase();vt in c.attributes||nt.push(o(d[ht],vt))}if(e.indices!==void 0&&!c.index){const ht=a.getDependency("accessor",e.indices).then(function(vt){c.setIndex(vt)});nt.push(ht)}return ColorManagement.workingColorSpace!==LinearSRGBColorSpace&&"COLOR_0"in d&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${ColorManagement.workingColorSpace}" not supported.`),assignExtrasToUserData(c,e),computeBounds(c,e,a),Promise.all(nt).then(function(){return e.targets!==void 0?addMorphTargets(c,e.targets,a):c})}var __assign=function(){return __assign=Object.assign||function(e){for(var a,d=1,nt=arguments.length;d<nt;d++){a=arguments[d];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},__assign.apply(this,arguments)};function __spreadArray(c,e,a){if(a||arguments.length===2)for(var d=0,nt=e.length,o;d<nt;d++)(o||!(d in e))&&(o||(o=Array.prototype.slice.call(e,0,d)),o[d]=e[d]);return c.concat(o||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;function memoize(c){var e=Object.create(null);return function(a){return e[a]===void 0&&(e[a]=c(a)),e[a]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize(function(c){return reactPropsRegex.test(c)||c.charCodeAt(0)===111&&c.charCodeAt(1)===110&&c.charCodeAt(2)<91}),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(c,e){return charat(c,0)^45?(((e<<2^charat(c,0))<<2^charat(c,1))<<2^charat(c,2))<<2^charat(c,3):0}function trim$1(c){return c.trim()}function match(c,e){return(c=e.exec(c))?c[0]:c}function replace(c,e,a){return c.replace(e,a)}function indexof(c,e,a){return c.indexOf(e,a)}function charat(c,e){return c.charCodeAt(e)|0}function substr(c,e,a){return c.slice(e,a)}function strlen(c){return c.length}function sizeof(c){return c.length}function append(c,e){return e.push(c),c}function combine(c,e){return c.map(e).join("")}function filter(c,e){return c.filter(function(a){return!match(a,e)})}var line=1,column=1,length=0,position=0,character=0,characters="";function node(c,e,a,d,nt,o,ht,vt){return{value:c,root:e,parent:a,type:d,props:nt,children:o,line,column,length:ht,return:"",siblings:vt}}function copy(c,e){return assign(node("",null,null,"",null,null,0,c.siblings),c,{length:-c.length},e)}function lift(c){for(;c.root;)c=copy(c.root,{children:[c]});append(c,c.siblings)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(c,e){return substr(characters,c,e)}function token(c){switch(c){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(c){return line=column=1,length=strlen(characters=c),position=0,[]}function dealloc(c){return characters="",c}function delimit(c){return trim$1(slice(position-1,delimiter(c===91?c+2:c===40?c+1:c)))}function whitespace(c){for(;(character=peek())&&character<33;)next();return token(c)>2||token(character)>3?"":" "}function escaping(c,e){for(;--e&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(c,caret()+(e<6&&peek()==32&&next()==32))}function delimiter(c){for(;next();)switch(character){case c:return position;case 34:case 39:c!==34&&c!==39&&delimiter(character);break;case 40:c===41&&delimiter(c);break;case 92:next();break}return position}function commenter(c,e){for(;next()&&c+character!==47+10;)if(c+character===42+42&&peek()===47)break;return"/*"+slice(e,position-1)+"*"+from(c===47?c:next())}function identifier(c){for(;!token(peek());)next();return slice(c,position)}function compile(c){return dealloc(parse("",null,null,null,[""],c=alloc(c),0,[0],c))}function parse(c,e,a,d,nt,o,ht,vt,xt){for(var St=0,Tt=0,At=ht,Ct=0,Rt=0,yt=0,Dt=1,Nt=1,Lt=1,Ot=0,Ft="",Vt=nt,jt=o,$t=d,Yt=Ft;Nt;)switch(yt=Ot,Ot=next()){case 40:if(yt!=108&&charat(Yt,At-1)==58){indexof(Yt+=replace(delimit(Ot),"&","&\f"),"&\f",abs(St?vt[St-1]:0))!=-1&&(Lt=-1);break}case 34:case 39:case 91:Yt+=delimit(Ot);break;case 9:case 10:case 13:case 32:Yt+=whitespace(yt);break;case 92:Yt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),e,a,xt),xt);break;default:Yt+="/"}break;case 123*Dt:vt[St++]=strlen(Yt)*Lt;case 125*Dt:case 59:case 0:switch(Ot){case 0:case 125:Nt=0;case 59+Tt:Lt==-1&&(Yt=replace(Yt,/\f/g,"")),Rt>0&&strlen(Yt)-At&&append(Rt>32?declaration(Yt+";",d,a,At-1,xt):declaration(replace(Yt," ","")+";",d,a,At-2,xt),xt);break;case 59:Yt+=";";default:if(append($t=ruleset(Yt,e,a,St,Tt,nt,vt,Ft,Vt=[],jt=[],At,o),o),Ot===123)if(Tt===0)parse(Yt,e,$t,$t,Vt,o,At,vt,jt);else switch(Ct===99&&charat(Yt,3)===110?100:Ct){case 100:case 108:case 109:case 115:parse(c,$t,$t,d&&append(ruleset(c,$t,$t,0,0,nt,vt,Ft,nt,Vt=[],At,jt),jt),nt,jt,At,vt,d?Vt:jt);break;default:parse(Yt,$t,$t,$t,[""],jt,0,vt,jt)}}St=Tt=Rt=0,Dt=Lt=1,Ft=Yt="",At=ht;break;case 58:At=1+strlen(Yt),Rt=yt;default:if(Dt<1){if(Ot==123)--Dt;else if(Ot==125&&Dt++==0&&prev()==125)continue}switch(Yt+=from(Ot),Ot*Dt){case 38:Lt=Tt>0?1:(Yt+="\f",-1);break;case 44:vt[St++]=(strlen(Yt)-1)*Lt,Lt=1;break;case 64:peek()===45&&(Yt+=delimit(next())),Ct=peek(),Tt=At=strlen(Ft=Yt+=identifier(caret())),Ot++;break;case 45:yt===45&&strlen(Yt)==2&&(Dt=0)}}return o}function ruleset(c,e,a,d,nt,o,ht,vt,xt,St,Tt,At){for(var Ct=nt-1,Rt=nt===0?o:[""],yt=sizeof(Rt),Dt=0,Nt=0,Lt=0;Dt<d;++Dt)for(var Ot=0,Ft=substr(c,Ct+1,Ct=abs(Nt=ht[Dt])),Vt=c;Ot<yt;++Ot)(Vt=trim$1(Nt>0?Rt[Ot]+" "+Ft:replace(Ft,/&\f/g,Rt[Ot])))&&(xt[Lt++]=Vt);return node(c,e,a,nt===0?RULESET:vt,xt,St,Tt,At)}function comment(c,e,a,d){return node(c,e,a,COMMENT,from(char()),substr(c,2,-2),0,d)}function declaration(c,e,a,d,nt){return node(c,e,a,DECLARATION,substr(c,0,d),substr(c,d+1,-1),d,nt)}function prefix(c,e,a){switch(hash(c,e)){case 5103:return WEBKIT+"print-"+c+c;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+c+c;case 4789:return MOZ+c+c;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+c+MOZ+c+MS+c+c;case 5936:switch(charat(c,e+11)){case 114:return WEBKIT+c+MS+replace(c,/[svh]\w+-[tblr]{2}/,"tb")+c;case 108:return WEBKIT+c+MS+replace(c,/[svh]\w+-[tblr]{2}/,"tb-rl")+c;case 45:return WEBKIT+c+MS+replace(c,/[svh]\w+-[tblr]{2}/,"lr")+c}case 6828:case 4268:case 2903:return WEBKIT+c+MS+c+c;case 6165:return WEBKIT+c+MS+"flex-"+c+c;case 5187:return WEBKIT+c+replace(c,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+c;case 5443:return WEBKIT+c+MS+"flex-item-"+replace(c,/flex-|-self/g,"")+(match(c,/flex-|baseline/)?"":MS+"grid-row-"+replace(c,/flex-|-self/g,""))+c;case 4675:return WEBKIT+c+MS+"flex-line-pack"+replace(c,/align-content|flex-|-self/g,"")+c;case 5548:return WEBKIT+c+MS+replace(c,"shrink","negative")+c;case 5292:return WEBKIT+c+MS+replace(c,"basis","preferred-size")+c;case 6060:return WEBKIT+"box-"+replace(c,"-grow","")+WEBKIT+c+MS+replace(c,"grow","positive")+c;case 4554:return WEBKIT+replace(c,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+c;case 6187:return replace(replace(replace(c,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),c,"")+c;case 5495:case 3959:return replace(c,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(c,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+c+c;case 4200:if(!match(c,/flex-|baseline/))return MS+"grid-column-align"+substr(c,e)+c;break;case 2592:case 3360:return MS+replace(c,"template-","")+c;case 4384:case 3616:return a&&a.some(function(d,nt){return e=nt,match(d.props,/grid-\w+-end/)})?~indexof(c+(a=a[e].value),"span",0)?c:MS+replace(c,"-start","")+c+MS+"grid-row-span:"+(~indexof(a,"span",0)?match(a,/\d+/):+match(a,/\d+/)-+match(c,/\d+/))+";":MS+replace(c,"-start","")+c;case 4896:case 4128:return a&&a.some(function(d){return match(d.props,/grid-\w+-start/)})?c:MS+replace(replace(c,"-end","-span"),"span ","")+c;case 4095:case 3583:case 4068:case 2532:return replace(c,/(.+)-inline(.+)/,WEBKIT+"$1$2")+c;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(c)-1-e>6)switch(charat(c,e+1)){case 109:if(charat(c,e+4)!==45)break;case 102:return replace(c,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(c,e+3)==108?"$3":"$2-$3"))+c;case 115:return~indexof(c,"stretch",0)?prefix(replace(c,"stretch","fill-available"),e,a)+c:c}break;case 5152:case 5920:return replace(c,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(d,nt,o,ht,vt,xt,St){return MS+nt+":"+o+St+(ht?MS+nt+"-span:"+(vt?xt:+xt-+o)+St:"")+c});case 4949:if(charat(c,e+6)===121)return replace(c,":",":"+WEBKIT)+c;break;case 6444:switch(charat(c,charat(c,14)===45?18:11)){case 120:return replace(c,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+WEBKIT+(charat(c,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+c;case 100:return replace(c,":",":"+MS)+c}break;case 5719:case 2647:case 2135:case 3927:case 2391:return replace(c,"scroll-","scroll-snap-")+c}return c}function serialize(c,e){for(var a="",d=0;d<c.length;d++)a+=e(c[d],d,c,e)||"";return a}function stringify(c,e,a,d){switch(c.type){case LAYER:if(c.children.length)break;case IMPORT:case DECLARATION:return c.return=c.return||c.value;case COMMENT:return"";case KEYFRAMES:return c.return=c.value+"{"+serialize(c.children,d)+"}";case RULESET:if(!strlen(c.value=c.props.join(",")))return""}return strlen(a=serialize(c.children,d))?c.return=c.value+"{"+a+"}":""}function middleware(c){var e=sizeof(c);return function(a,d,nt,o){for(var ht="",vt=0;vt<e;vt++)ht+=c[vt](a,d,nt,o)||"";return ht}}function rulesheet(c){return function(e){e.root||(e=e.return)&&c(e)}}function prefixer(c,e,a,d){if(c.length>-1&&!c.return)switch(c.type){case DECLARATION:c.return=prefix(c.value,c.length,a);return;case KEYFRAMES:return serialize([copy(c,{value:replace(c.value,"@","@"+WEBKIT)})],d);case RULESET:if(c.length)return combine(a=c.props,function(nt){switch(match(nt,d=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":lift(copy(c,{props:[replace(nt,/:(read-\w+)/,":"+MOZ+"$1")]})),lift(copy(c,{props:[nt]})),assign(c,{props:filter(a,d)});break;case"::placeholder":lift(copy(c,{props:[replace(nt,/:(plac\w+)/,":"+WEBKIT+"input-$1")]})),lift(copy(c,{props:[replace(nt,/:(plac\w+)/,":"+MOZ+"$1")]})),lift(copy(c,{props:[replace(nt,/:(plac\w+)/,MS+"input-$1")]})),lift(copy(c,{props:[nt]})),assign(c,{props:filter(a,d)});break}return""})}}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},f=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",m="active",y$1="data-styled-version",v="6.1.18",g=`/*!sc*/
`,S=typeof window<"u"&&typeof document<"u",w$1=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),_=Object.freeze([]),C$1=Object.freeze({});function I(c,e,a){return a===void 0&&(a=C$1),c.theme!==a.theme&&c.theme||e||a.theme}var A$1=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),O=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,D=/(^-|-$)/g;function R(c){return c.replace(O,"-").replace(D,"")}var T$1=/(a)(d)/gi,k=52,j=function(c){return String.fromCharCode(c+(c>25?39:97))};function x$1(c){var e,a="";for(e=Math.abs(c);e>k;e=e/k|0)a=j(e%k)+a;return(j(e%k)+a).replace(T$1,"$1-$2")}var V,F$1=5381,M=function(c,e){for(var a=e.length;a;)c=33*c^e.charCodeAt(--a);return c},z=function(c){return M(F$1,c)};function $(c){return x$1(z(c)>>>0)}function B$1(c){return c.displayName||c.name||"Component"}function L(c){return typeof c=="string"&&!0}var G$1=typeof Symbol=="function"&&Symbol.for,Y=G$1?Symbol.for("react.memo"):60115,W=G$1?Symbol.for("react.forward_ref"):60112,q={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},H={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},U={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},J=((V={})[W]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},V[Y]=U,V);function X(c){return("type"in(e=c)&&e.type.$$typeof)===Y?U:"$$typeof"in c?J[c.$$typeof]:q;var e}var Z=Object.defineProperty,K=Object.getOwnPropertyNames,Q=Object.getOwnPropertySymbols,ee=Object.getOwnPropertyDescriptor,te=Object.getPrototypeOf,ne=Object.prototype;function oe(c,e,a){if(typeof e!="string"){if(ne){var d=te(e);d&&d!==ne&&oe(c,d,a)}var nt=K(e);Q&&(nt=nt.concat(Q(e)));for(var o=X(c),ht=X(e),vt=0;vt<nt.length;++vt){var xt=nt[vt];if(!(xt in H||a&&a[xt]||ht&&xt in ht||o&&xt in o)){var St=ee(e,xt);try{Z(c,xt,St)}catch{}}}}return c}function re(c){return typeof c=="function"}function se(c){return typeof c=="object"&&"styledComponentId"in c}function ie(c,e){return c&&e?"".concat(c," ").concat(e):c||e||""}function ae(c,e){if(c.length===0)return"";for(var a=c[0],d=1;d<c.length;d++)a+=e?e+c[d]:c[d];return a}function ce(c){return c!==null&&typeof c=="object"&&c.constructor.name===Object.name&&!("props"in c&&c.$$typeof)}function le(c,e,a){if(a===void 0&&(a=!1),!a&&!ce(c)&&!Array.isArray(c))return e;if(Array.isArray(e))for(var d=0;d<e.length;d++)c[d]=le(c[d],e[d]);else if(ce(e))for(var d in e)c[d]=le(c[d],e[d]);return c}function ue(c,e){Object.defineProperty(c,"toString",{value:e})}function he(c){for(var e=[],a=1;a<arguments.length;a++)e[a-1]=arguments[a];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(c," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var fe=function(){function c(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return c.prototype.indexOfGroup=function(e){for(var a=0,d=0;d<e;d++)a+=this.groupSizes[d];return a},c.prototype.insertRules=function(e,a){if(e>=this.groupSizes.length){for(var d=this.groupSizes,nt=d.length,o=nt;e>=o;)if((o<<=1)<0)throw he(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(d),this.length=o;for(var ht=nt;ht<o;ht++)this.groupSizes[ht]=0}for(var vt=this.indexOfGroup(e+1),xt=(ht=0,a.length);ht<xt;ht++)this.tag.insertRule(vt,a[ht])&&(this.groupSizes[e]++,vt++)},c.prototype.clearGroup=function(e){if(e<this.length){var a=this.groupSizes[e],d=this.indexOfGroup(e),nt=d+a;this.groupSizes[e]=0;for(var o=d;o<nt;o++)this.tag.deleteRule(d)}},c.prototype.getGroup=function(e){var a="";if(e>=this.length||this.groupSizes[e]===0)return a;for(var d=this.groupSizes[e],nt=this.indexOfGroup(e),o=nt+d,ht=nt;ht<o;ht++)a+="".concat(this.tag.getRule(ht)).concat(g);return a},c}(),ye=new Map,ve=new Map,ge=1,Se=function(c){if(ye.has(c))return ye.get(c);for(;ve.has(ge);)ge++;var e=ge++;return ye.set(c,e),ve.set(e,c),e},we=function(c,e){ge=e+1,ye.set(c,e),ve.set(e,c)},be="style[".concat(f,"][").concat(y$1,'="').concat(v,'"]'),Ee=new RegExp("^".concat(f,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Ne=function(c,e,a){for(var d,nt=a.split(","),o=0,ht=nt.length;o<ht;o++)(d=nt[o])&&c.registerName(e,d)},Pe=function(c,e){for(var a,d=((a=e.textContent)!==null&&a!==void 0?a:"").split(g),nt=[],o=0,ht=d.length;o<ht;o++){var vt=d[o].trim();if(vt){var xt=vt.match(Ee);if(xt){var St=0|parseInt(xt[1],10),Tt=xt[2];St!==0&&(we(Tt,St),Ne(c,Tt,xt[3]),c.getTag().insertRules(St,nt)),nt.length=0}else nt.push(vt)}}},_e=function(c){for(var e=document.querySelectorAll(be),a=0,d=e.length;a<d;a++){var nt=e[a];nt&&nt.getAttribute(f)!==m&&(Pe(c,nt),nt.parentNode&&nt.parentNode.removeChild(nt))}};function Ce(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Ie=function(c){var e=document.head,a=c||e,d=document.createElement("style"),nt=function(vt){var xt=Array.from(vt.querySelectorAll("style[".concat(f,"]")));return xt[xt.length-1]}(a),o=nt!==void 0?nt.nextSibling:null;d.setAttribute(f,m),d.setAttribute(y$1,v);var ht=Ce();return ht&&d.setAttribute("nonce",ht),a.insertBefore(d,o),d},Ae=function(){function c(e){this.element=Ie(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(a){if(a.sheet)return a.sheet;for(var d=document.styleSheets,nt=0,o=d.length;nt<o;nt++){var ht=d[nt];if(ht.ownerNode===a)return ht}throw he(17)}(this.element),this.length=0}return c.prototype.insertRule=function(e,a){try{return this.sheet.insertRule(a,e),this.length++,!0}catch{return!1}},c.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},c.prototype.getRule=function(e){var a=this.sheet.cssRules[e];return a&&a.cssText?a.cssText:""},c}(),Oe=function(){function c(e){this.element=Ie(e),this.nodes=this.element.childNodes,this.length=0}return c.prototype.insertRule=function(e,a){if(e<=this.length&&e>=0){var d=document.createTextNode(a);return this.element.insertBefore(d,this.nodes[e]||null),this.length++,!0}return!1},c.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},c.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},c}(),De=function(){function c(e){this.rules=[],this.length=0}return c.prototype.insertRule=function(e,a){return e<=this.length&&(this.rules.splice(e,0,a),this.length++,!0)},c.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},c.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},c}(),Re=S,Te={isServer:!S,useCSSOMInjection:!w$1},ke=function(){function c(e,a,d){e===void 0&&(e=C$1),a===void 0&&(a={});var nt=this;this.options=__assign(__assign({},Te),e),this.gs=a,this.names=new Map(d),this.server=!!e.isServer,!this.server&&S&&Re&&(Re=!1,_e(this)),ue(this,function(){return function(o){for(var ht=o.getTag(),vt=ht.length,xt="",St=function(At){var Ct=function(Lt){return ve.get(Lt)}(At);if(Ct===void 0)return"continue";var Rt=o.names.get(Ct),yt=ht.getGroup(At);if(Rt===void 0||!Rt.size||yt.length===0)return"continue";var Dt="".concat(f,".g").concat(At,'[id="').concat(Ct,'"]'),Nt="";Rt!==void 0&&Rt.forEach(function(Lt){Lt.length>0&&(Nt+="".concat(Lt,","))}),xt+="".concat(yt).concat(Dt,'{content:"').concat(Nt,'"}').concat(g)},Tt=0;Tt<vt;Tt++)St(Tt);return xt}(nt)})}return c.registerId=function(e){return Se(e)},c.prototype.rehydrate=function(){!this.server&&S&&_e(this)},c.prototype.reconstructWithOptions=function(e,a){return a===void 0&&(a=!0),new c(__assign(__assign({},this.options),e),this.gs,a&&this.names||void 0)},c.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},c.prototype.getTag=function(){return this.tag||(this.tag=(e=function(a){var d=a.useCSSOMInjection,nt=a.target;return a.isServer?new De(nt):d?new Ae(nt):new Oe(nt)}(this.options),new fe(e)));var e},c.prototype.hasNameForId=function(e,a){return this.names.has(e)&&this.names.get(e).has(a)},c.prototype.registerName=function(e,a){if(Se(e),this.names.has(e))this.names.get(e).add(a);else{var d=new Set;d.add(a),this.names.set(e,d)}},c.prototype.insertRules=function(e,a,d){this.registerName(e,a),this.getTag().insertRules(Se(e),d)},c.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},c.prototype.clearRules=function(e){this.getTag().clearGroup(Se(e)),this.clearNames(e)},c.prototype.clearTag=function(){this.tag=void 0},c}(),je=/&/g,xe=/^\s*\/\/.*$/gm;function Ve(c,e){return c.map(function(a){return a.type==="rule"&&(a.value="".concat(e," ").concat(a.value),a.value=a.value.replaceAll(",",",".concat(e," ")),a.props=a.props.map(function(d){return"".concat(e," ").concat(d)})),Array.isArray(a.children)&&a.type!=="@keyframes"&&(a.children=Ve(a.children,e)),a})}function Fe(c){var e,a,d,nt=c===void 0?C$1:c,o=nt.options,ht=o===void 0?C$1:o,vt=nt.plugins,xt=vt===void 0?_:vt,St=function(Ct,Rt,yt){return yt.startsWith(a)&&yt.endsWith(a)&&yt.replaceAll(a,"").length>0?".".concat(e):Ct},Tt=xt.slice();Tt.push(function(Ct){Ct.type===RULESET&&Ct.value.includes("&")&&(Ct.props[0]=Ct.props[0].replace(je,a).replace(d,St))}),ht.prefix&&Tt.push(prefixer),Tt.push(stringify);var At=function(Ct,Rt,yt,Dt){Rt===void 0&&(Rt=""),yt===void 0&&(yt=""),Dt===void 0&&(Dt="&"),e=Dt,a=Rt,d=new RegExp("\\".concat(a,"\\b"),"g");var Nt=Ct.replace(xe,""),Lt=compile(yt||Rt?"".concat(yt," ").concat(Rt," { ").concat(Nt," }"):Nt);ht.namespace&&(Lt=Ve(Lt,ht.namespace));var Ot=[];return serialize(Lt,middleware(Tt.concat(rulesheet(function(Ft){return Ot.push(Ft)})))),Ot};return At.hash=xt.length?xt.reduce(function(Ct,Rt){return Rt.name||he(15),M(Ct,Rt.name)},F$1).toString():"",At}var Me=new ke,ze=Fe(),$e=React$1.createContext({shouldForwardProp:void 0,styleSheet:Me,stylis:ze});$e.Consumer;React$1.createContext(void 0);function Ge(){return reactExports.useContext($e)}var We=function(){function c(e,a){var d=this;this.inject=function(nt,o){o===void 0&&(o=ze);var ht=d.name+o.hash;nt.hasNameForId(d.id,ht)||nt.insertRules(d.id,ht,o(d.rules,ht,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=a,ue(this,function(){throw he(12,String(d.name))})}return c.prototype.getName=function(e){return e===void 0&&(e=ze),this.name+e.hash},c}(),qe=function(c){return c>="A"&&c<="Z"};function He(c){for(var e="",a=0;a<c.length;a++){var d=c[a];if(a===1&&d==="-"&&c[0]==="-")return c;qe(d)?e+="-"+d.toLowerCase():e+=d}return e.startsWith("ms-")?"-"+e:e}var Ue=function(c){return c==null||c===!1||c===""},Je=function(c){var e,a,d=[];for(var nt in c){var o=c[nt];c.hasOwnProperty(nt)&&!Ue(o)&&(Array.isArray(o)&&o.isCss||re(o)?d.push("".concat(He(nt),":"),o,";"):ce(o)?d.push.apply(d,__spreadArray(__spreadArray(["".concat(nt," {")],Je(o),!1),["}"],!1)):d.push("".concat(He(nt),": ").concat((e=nt,(a=o)==null||typeof a=="boolean"||a===""?"":typeof a!="number"||a===0||e in unitlessKeys||e.startsWith("--")?String(a).trim():"".concat(a,"px")),";")))}return d};function Xe(c,e,a,d){if(Ue(c))return[];if(se(c))return[".".concat(c.styledComponentId)];if(re(c)){if(!re(o=c)||o.prototype&&o.prototype.isReactComponent||!e)return[c];var nt=c(e);return Xe(nt,e,a,d)}var o;return c instanceof We?a?(c.inject(a,d),[c.getName(d)]):[c]:ce(c)?Je(c):Array.isArray(c)?Array.prototype.concat.apply(_,c.map(function(ht){return Xe(ht,e,a,d)})):[c.toString()]}function Ze(c){for(var e=0;e<c.length;e+=1){var a=c[e];if(re(a)&&!se(a))return!1}return!0}var Ke=z(v),Qe=function(){function c(e,a,d){this.rules=e,this.staticRulesId="",this.isStatic=(d===void 0||d.isStatic)&&Ze(e),this.componentId=a,this.baseHash=M(Ke,a),this.baseStyle=d,ke.registerId(a)}return c.prototype.generateAndInjectStyles=function(e,a,d){var nt=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,a,d):"";if(this.isStatic&&!d.hash)if(this.staticRulesId&&a.hasNameForId(this.componentId,this.staticRulesId))nt=ie(nt,this.staticRulesId);else{var o=ae(Xe(this.rules,e,a,d)),ht=x$1(M(this.baseHash,o)>>>0);if(!a.hasNameForId(this.componentId,ht)){var vt=d(o,".".concat(ht),void 0,this.componentId);a.insertRules(this.componentId,ht,vt)}nt=ie(nt,ht),this.staticRulesId=ht}else{for(var xt=M(this.baseHash,d.hash),St="",Tt=0;Tt<this.rules.length;Tt++){var At=this.rules[Tt];if(typeof At=="string")St+=At;else if(At){var Ct=ae(Xe(At,e,a,d));xt=M(xt,Ct+Tt),St+=Ct}}if(St){var Rt=x$1(xt>>>0);a.hasNameForId(this.componentId,Rt)||a.insertRules(this.componentId,Rt,d(St,".".concat(Rt),void 0,this.componentId)),nt=ie(nt,Rt)}}return nt},c}(),et=React$1.createContext(void 0);et.Consumer;var rt={},st=new Set;function it(c,e,a){var d=se(c),nt=c,o=!L(c),ht=e.attrs,vt=ht===void 0?_:ht,xt=e.componentId,St=xt===void 0?function(Vt,jt){var $t=typeof Vt!="string"?"sc":R(Vt);rt[$t]=(rt[$t]||0)+1;var Yt="".concat($t,"-").concat($(v+$t+rt[$t]));return jt?"".concat(jt,"-").concat(Yt):Yt}(e.displayName,e.parentComponentId):xt,Tt=e.displayName,At=Tt===void 0?function(Vt){return L(Vt)?"styled.".concat(Vt):"Styled(".concat(B$1(Vt),")")}(c):Tt,Ct=e.displayName&&e.componentId?"".concat(R(e.displayName),"-").concat(e.componentId):e.componentId||St,Rt=d&&nt.attrs?nt.attrs.concat(vt).filter(Boolean):vt,yt=e.shouldForwardProp;if(d&&nt.shouldForwardProp){var Dt=nt.shouldForwardProp;if(e.shouldForwardProp){var Nt=e.shouldForwardProp;yt=function(Vt,jt){return Dt(Vt,jt)&&Nt(Vt,jt)}}else yt=Dt}var Lt=new Qe(a,Ct,d?nt.componentStyle:void 0);function Ot(Vt,jt){return function($t,Yt,Kt){var qt=$t.attrs,Wt=$t.componentStyle,Jt=$t.defaultProps,cn=$t.foldedComponentIds,sn=$t.styledComponentId,Tn=$t.target,Cn=React$1.useContext(et),En=Ge(),Nn=$t.shouldForwardProp||En.shouldForwardProp,on=I(Yt,Cn,Jt)||C$1,hn=function(Xn,or,tr){for(var _r,kr=__assign(__assign({},or),{className:void 0,theme:tr}),hr=0;hr<Xn.length;hr+=1){var gr=re(_r=Xn[hr])?_r(kr):_r;for(var It in gr)kr[It]=It==="className"?ie(kr[It],gr[It]):It==="style"?__assign(__assign({},kr[It]),gr[It]):gr[It]}return or.className&&(kr.className=ie(kr.className,or.className)),kr}(qt,Yt,on),pn=hn.as||Tn,Pn={};for(var jn in hn)hn[jn]===void 0||jn[0]==="$"||jn==="as"||jn==="theme"&&hn.theme===on||(jn==="forwardedAs"?Pn.as=hn.forwardedAs:Nn&&!Nn(jn,pn)||(Pn[jn]=hn[jn]));var ar=function(Xn,or){var tr=Ge(),_r=Xn.generateAndInjectStyles(or,tr.styleSheet,tr.stylis);return _r}(Wt,hn),An=ie(cn,sn);return ar&&(An+=" "+ar),hn.className&&(An+=" "+hn.className),Pn[L(pn)&&!A$1.has(pn)?"class":"className"]=An,Kt&&(Pn.ref=Kt),reactExports.createElement(pn,Pn)}(Ft,Vt,jt)}Ot.displayName=At;var Ft=React$1.forwardRef(Ot);return Ft.attrs=Rt,Ft.componentStyle=Lt,Ft.displayName=At,Ft.shouldForwardProp=yt,Ft.foldedComponentIds=d?ie(nt.foldedComponentIds,nt.styledComponentId):"",Ft.styledComponentId=Ct,Ft.target=d?nt.target:c,Object.defineProperty(Ft,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(Vt){this._foldedDefaultProps=d?function(jt){for(var $t=[],Yt=1;Yt<arguments.length;Yt++)$t[Yt-1]=arguments[Yt];for(var Kt=0,qt=$t;Kt<qt.length;Kt++)le(jt,qt[Kt],!0);return jt}({},nt.defaultProps,Vt):Vt}}),ue(Ft,function(){return".".concat(Ft.styledComponentId)}),o&&oe(Ft,c,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),Ft}function at(c,e){for(var a=[c[0]],d=0,nt=e.length;d<nt;d+=1)a.push(e[d],c[d+1]);return a}var ct=function(c){return Object.assign(c,{isCss:!0})};function lt(c){for(var e=[],a=1;a<arguments.length;a++)e[a-1]=arguments[a];if(re(c)||ce(c))return ct(Xe(at(_,__spreadArray([c],e,!0))));var d=c;return e.length===0&&d.length===1&&typeof d[0]=="string"?Xe(d):ct(Xe(at(d,e)))}function ut(c,e,a){if(a===void 0&&(a=C$1),!e)throw he(1,e);var d=function(nt){for(var o=[],ht=1;ht<arguments.length;ht++)o[ht-1]=arguments[ht];return c(e,a,lt.apply(void 0,__spreadArray([nt],o,!1)))};return d.attrs=function(nt){return ut(c,e,__assign(__assign({},a),{attrs:Array.prototype.concat(a.attrs,nt).filter(Boolean)}))},d.withConfig=function(nt){return ut(c,e,__assign(__assign({},a),nt))},d}var pt=function(c){return ut(it,c)},dt=pt;A$1.forEach(function(c){dt[c]=pt(c)});function mt(c){for(var e=[],a=1;a<arguments.length;a++)e[a-1]=arguments[a];var d=ae(lt.apply(void 0,__spreadArray([c],e,!1))),nt=$(d);return new We(nt,d)}const fadeIn=mt`
  from {
    opacity: 0;
    transform: translateY(-10px);
  }

  to {
    opacity: 1;
    transform: translateY(0px);
  }
`,appear=mt`
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
`,Footer=dt.footer`
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 24px;
  z-index: 9;
`,CloseButton=dt.button`
  cursor: pointer;
  color: black;
  background-color: transparent;
  border: none;
  outline: none;
  font-size: 16px;
  position: fixed;
  right: 0;
  top: 0;
  margin-right: 24px;
  margin-top: 24px;
  z-index: 11;
  text-decoration: underline;
`,BackButton=dt.button`
  cursor: pointer;
  color: black;
  background-color: transparent;
  border: none;
  outline: none;
  font-size: 16px;
  position: fixed;
  top: 0;
  left: 0;
  margin: 24px;
  z-index: 11;
  text-decoration: underline;
`,ArchiveButton=dt.button`
  cursor: pointer;
  color: black;
  background-color: transparent;
  border: none;
  outline: none;
  font-size: 16px;
  position: absolute;
  top: 0;
  left: 50%;
  transform: translate(-50%, 0%);
  margin-top: 24px;
  z-index: 11;
  text-decoration: underline;
`,NavButton=dt.button`
  cursor: pointer;
  color: black;
  background-color: transparent;
  border: none;
  outline: none;
  font-size: 16px;
  text-decoration: underline;
  color: ${({$color:c})=>c};
`,EnterButton=dt.button`
  cursor: pointer;
  color: black;
  background-color: transparent;
  border: none;
  outline: none;
  font-size: 16px;
  position: absolute;
  bottom: 0;
  left: 50%;
  text-align: center;
  transform: translate(-50%, 0%);
  margin-bottom: 24px;
  z-index: 11;
  animation: ${appear} 1s ease-in-out;
  text-decoration: underline;
`,Enter=({handleEnter:c})=>jsx(EnterButton,{onClick:c,children:"Enter"}),SANITY_URL="https://4osu5sin.apicdn.sanity.io/v2025-06-01",getApiUrl=c=>`${SANITY_URL}/data/query/production?query=${encodeURI(c)}`;function bind(c,e){return function(){return c.apply(e,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,{iterator,toStringTag}=Symbol,kindOf=(c=>e=>{const a=toString.call(e);return c[a]||(c[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=c=>(c=c.toLowerCase(),e=>kindOf(e)===c),typeOfTest=c=>e=>typeof e===c,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(c){return c!==null&&!isUndefined(c)&&c.constructor!==null&&!isUndefined(c.constructor)&&isFunction(c.constructor.isBuffer)&&c.constructor.isBuffer(c)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(c){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(c):e=c&&c.buffer&&isArrayBuffer(c.buffer),e}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=c=>c!==null&&typeof c=="object",isBoolean=c=>c===!0||c===!1,isPlainObject=c=>{if(kindOf(c)!=="object")return!1;const e=getPrototypeOf(c);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(toStringTag in c)&&!(iterator in c)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=c=>isObject(c)&&isFunction(c.pipe),isFormData=c=>{let e;return c&&(typeof FormData=="function"&&c instanceof FormData||isFunction(c.append)&&((e=kindOf(c))==="formdata"||e==="object"&&isFunction(c.toString)&&c.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=c=>c.trim?c.trim():c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(c,e,{allOwnKeys:a=!1}={}){if(c===null||typeof c>"u")return;let d,nt;if(typeof c!="object"&&(c=[c]),isArray(c))for(d=0,nt=c.length;d<nt;d++)e.call(null,c[d],d,c);else{const o=a?Object.getOwnPropertyNames(c):Object.keys(c),ht=o.length;let vt;for(d=0;d<ht;d++)vt=o[d],e.call(null,c[vt],vt,c)}}function findKey(c,e){e=e.toLowerCase();const a=Object.keys(c);let d=a.length,nt;for(;d-- >0;)if(nt=a[d],e===nt.toLowerCase())return nt;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=c=>!isUndefined(c)&&c!==_global;function merge(){const{caseless:c}=isContextDefined(this)&&this||{},e={},a=(d,nt)=>{const o=c&&findKey(e,nt)||nt;isPlainObject(e[o])&&isPlainObject(d)?e[o]=merge(e[o],d):isPlainObject(d)?e[o]=merge({},d):isArray(d)?e[o]=d.slice():e[o]=d};for(let d=0,nt=arguments.length;d<nt;d++)arguments[d]&&forEach(arguments[d],a);return e}const extend=(c,e,a,{allOwnKeys:d}={})=>(forEach(e,(nt,o)=>{a&&isFunction(nt)?c[o]=bind(nt,a):c[o]=nt},{allOwnKeys:d}),c),stripBOM=c=>(c.charCodeAt(0)===65279&&(c=c.slice(1)),c),inherits=(c,e,a,d)=>{c.prototype=Object.create(e.prototype,d),c.prototype.constructor=c,Object.defineProperty(c,"super",{value:e.prototype}),a&&Object.assign(c.prototype,a)},toFlatObject=(c,e,a,d)=>{let nt,o,ht;const vt={};if(e=e||{},c==null)return e;do{for(nt=Object.getOwnPropertyNames(c),o=nt.length;o-- >0;)ht=nt[o],(!d||d(ht,c,e))&&!vt[ht]&&(e[ht]=c[ht],vt[ht]=!0);c=a!==!1&&getPrototypeOf(c)}while(c&&(!a||a(c,e))&&c!==Object.prototype);return e},endsWith=(c,e,a)=>{c=String(c),(a===void 0||a>c.length)&&(a=c.length),a-=e.length;const d=c.indexOf(e,a);return d!==-1&&d===a},toArray=c=>{if(!c)return null;if(isArray(c))return c;let e=c.length;if(!isNumber(e))return null;const a=new Array(e);for(;e-- >0;)a[e]=c[e];return a},isTypedArray=(c=>e=>c&&e instanceof c)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(c,e)=>{const d=(c&&c[iterator]).call(c);let nt;for(;(nt=d.next())&&!nt.done;){const o=nt.value;e.call(c,o[0],o[1])}},matchAll=(c,e)=>{let a;const d=[];for(;(a=c.exec(e))!==null;)d.push(a);return d},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=c=>c.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,d,nt){return d.toUpperCase()+nt}),hasOwnProperty=(({hasOwnProperty:c})=>(e,a)=>c.call(e,a))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(c,e)=>{const a=Object.getOwnPropertyDescriptors(c),d={};forEach(a,(nt,o)=>{let ht;(ht=e(nt,o,c))!==!1&&(d[o]=ht||nt)}),Object.defineProperties(c,d)},freezeMethods=c=>{reduceDescriptors(c,(e,a)=>{if(isFunction(c)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const d=c[a];if(isFunction(d)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},toObjectSet=(c,e)=>{const a={},d=nt=>{nt.forEach(o=>{a[o]=!0})};return isArray(c)?d(c):d(String(c).split(e)),a},noop=()=>{},toFiniteNumber=(c,e)=>c!=null&&Number.isFinite(c=+c)?c:e;function isSpecCompliantForm(c){return!!(c&&isFunction(c.append)&&c[toStringTag]==="FormData"&&c[iterator])}const toJSONObject=c=>{const e=new Array(10),a=(d,nt)=>{if(isObject(d)){if(e.indexOf(d)>=0)return;if(!("toJSON"in d)){e[nt]=d;const o=isArray(d)?[]:{};return forEach(d,(ht,vt)=>{const xt=a(ht,nt+1);!isUndefined(xt)&&(o[vt]=xt)}),e[nt]=void 0,o}}return d};return a(c,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=c=>c&&(isObject(c)||isFunction(c))&&isFunction(c.then)&&isFunction(c.catch),_setImmediate=((c,e)=>c?setImmediate:e?((a,d)=>(_global.addEventListener("message",({source:nt,data:o})=>{nt===_global&&o===a&&d.length&&d.shift()()},!1),nt=>{d.push(nt),_global.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",isFunction(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=c=>c!=null&&isFunction(c[iterator]),utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError(c,e,a,d,nt){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=c,this.name="AxiosError",e&&(this.code=e),a&&(this.config=a),d&&(this.request=d),nt&&(this.response=nt,this.status=nt.status?nt.status:null)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(c=>{descriptors[c]={value:c}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(c,e,a,d,nt,o)=>{const ht=Object.create(prototype$1);return utils$1.toFlatObject(c,ht,function(xt){return xt!==Error.prototype},vt=>vt!=="isAxiosError"),AxiosError.call(ht,c.message,e,a,d,nt),ht.cause=c,ht.name=c.name,o&&Object.assign(ht,o),ht};const httpAdapter=null;function isVisitable(c){return utils$1.isPlainObject(c)||utils$1.isArray(c)}function removeBrackets(c){return utils$1.endsWith(c,"[]")?c.slice(0,-2):c}function renderKey(c,e,a){return c?c.concat(e).map(function(nt,o){return nt=removeBrackets(nt),!a&&o?"["+nt+"]":nt}).join(a?".":""):e}function isFlatArray(c){return utils$1.isArray(c)&&!c.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(e){return/^is[A-Z]/.test(e)});function toFormData(c,e,a){if(!utils$1.isObject(c))throw new TypeError("target must be an object");e=e||new FormData,a=utils$1.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Dt,Nt){return!utils$1.isUndefined(Nt[Dt])});const d=a.metaTokens,nt=a.visitor||Tt,o=a.dots,ht=a.indexes,xt=(a.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(e);if(!utils$1.isFunction(nt))throw new TypeError("visitor must be a function");function St(yt){if(yt===null)return"";if(utils$1.isDate(yt))return yt.toISOString();if(!xt&&utils$1.isBlob(yt))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(yt)||utils$1.isTypedArray(yt)?xt&&typeof Blob=="function"?new Blob([yt]):Buffer.from(yt):yt}function Tt(yt,Dt,Nt){let Lt=yt;if(yt&&!Nt&&typeof yt=="object"){if(utils$1.endsWith(Dt,"{}"))Dt=d?Dt:Dt.slice(0,-2),yt=JSON.stringify(yt);else if(utils$1.isArray(yt)&&isFlatArray(yt)||(utils$1.isFileList(yt)||utils$1.endsWith(Dt,"[]"))&&(Lt=utils$1.toArray(yt)))return Dt=removeBrackets(Dt),Lt.forEach(function(Ft,Vt){!(utils$1.isUndefined(Ft)||Ft===null)&&e.append(ht===!0?renderKey([Dt],Vt,o):ht===null?Dt:Dt+"[]",St(Ft))}),!1}return isVisitable(yt)?!0:(e.append(renderKey(Nt,Dt,o),St(yt)),!1)}const At=[],Ct=Object.assign(predicates,{defaultVisitor:Tt,convertValue:St,isVisitable});function Rt(yt,Dt){if(!utils$1.isUndefined(yt)){if(At.indexOf(yt)!==-1)throw Error("Circular reference detected in "+Dt.join("."));At.push(yt),utils$1.forEach(yt,function(Lt,Ot){(!(utils$1.isUndefined(Lt)||Lt===null)&&nt.call(e,Lt,utils$1.isString(Ot)?Ot.trim():Ot,Dt,Ct))===!0&&Rt(Lt,Dt?Dt.concat(Ot):[Ot])}),At.pop()}}if(!utils$1.isObject(c))throw new TypeError("data must be an object");return Rt(c),e}function encode$1(c){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(c).replace(/[!'()~]|%20|%00/g,function(d){return e[d]})}function AxiosURLSearchParams(c,e){this._pairs=[],c&&toFormData(c,this,e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(e,a){this._pairs.push([e,a])};prototype.toString=function(e){const a=e?function(d){return e.call(this,d,encode$1)}:encode$1;return this._pairs.map(function(nt){return a(nt[0])+"="+a(nt[1])},"").join("&")};function encode(c){return encodeURIComponent(c).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(c,e,a){if(!e)return c;const d=a&&a.encode||encode;utils$1.isFunction(a)&&(a={serialize:a});const nt=a&&a.serialize;let o;if(nt?o=nt(e,a):o=utils$1.isURLSearchParams(e)?e.toString():new AxiosURLSearchParams(e,a).toString(d),o){const ht=c.indexOf("#");ht!==-1&&(c=c.slice(0,ht)),c+=(c.indexOf("?")===-1?"?":"&")+o}return c}class InterceptorManager{constructor(){this.handlers=[]}use(e,a,d){return this.handlers.push({fulfilled:e,rejected:a,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils$1.forEach(this.handlers,function(d){d!==null&&e(d)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(c,e){return toFormData(c,new platform.classes.URLSearchParams,Object.assign({visitor:function(a,d,nt,o){return platform.isNode&&utils$1.isBuffer(a)?(this.append(d,a.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function parsePropPath(c){return utils$1.matchAll(/\w+|\[(\w*)]/g,c).map(e=>e[0]==="[]"?"":e[1]||e[0])}function arrayToObject(c){const e={},a=Object.keys(c);let d;const nt=a.length;let o;for(d=0;d<nt;d++)o=a[d],e[o]=c[o];return e}function formDataToJSON(c){function e(a,d,nt,o){let ht=a[o++];if(ht==="__proto__")return!0;const vt=Number.isFinite(+ht),xt=o>=a.length;return ht=!ht&&utils$1.isArray(nt)?nt.length:ht,xt?(utils$1.hasOwnProp(nt,ht)?nt[ht]=[nt[ht],d]:nt[ht]=d,!vt):((!nt[ht]||!utils$1.isObject(nt[ht]))&&(nt[ht]=[]),e(a,d,nt[ht],o)&&utils$1.isArray(nt[ht])&&(nt[ht]=arrayToObject(nt[ht])),!vt)}if(utils$1.isFormData(c)&&utils$1.isFunction(c.entries)){const a={};return utils$1.forEachEntry(c,(d,nt)=>{e(parsePropPath(d),nt,a,0)}),a}return null}function stringifySafely(c,e,a){if(utils$1.isString(c))try{return(e||JSON.parse)(c),utils$1.trim(c)}catch(d){if(d.name!=="SyntaxError")throw d}return(a||JSON.stringify)(c)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(e,a){const d=a.getContentType()||"",nt=d.indexOf("application/json")>-1,o=utils$1.isObject(e);if(o&&utils$1.isHTMLForm(e)&&(e=new FormData(e)),utils$1.isFormData(e))return nt?JSON.stringify(formDataToJSON(e)):e;if(utils$1.isArrayBuffer(e)||utils$1.isBuffer(e)||utils$1.isStream(e)||utils$1.isFile(e)||utils$1.isBlob(e)||utils$1.isReadableStream(e))return e;if(utils$1.isArrayBufferView(e))return e.buffer;if(utils$1.isURLSearchParams(e))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let vt;if(o){if(d.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((vt=utils$1.isFileList(e))||d.indexOf("multipart/form-data")>-1){const xt=this.env&&this.env.FormData;return toFormData(vt?{"files[]":e}:e,xt&&new xt,this.formSerializer)}}return o||nt?(a.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function(e){const a=this.transitional||defaults.transitional,d=a&&a.forcedJSONParsing,nt=this.responseType==="json";if(utils$1.isResponse(e)||utils$1.isReadableStream(e))return e;if(e&&utils$1.isString(e)&&(d&&!this.responseType||nt)){const ht=!(a&&a.silentJSONParsing)&&nt;try{return JSON.parse(e)}catch(vt){if(ht)throw vt.name==="SyntaxError"?AxiosError.from(vt,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):vt}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],c=>{defaults.headers[c]={}});const defaults$1=defaults,ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=c=>{const e={};let a,d,nt;return c&&c.split(`
`).forEach(function(ht){nt=ht.indexOf(":"),a=ht.substring(0,nt).trim().toLowerCase(),d=ht.substring(nt+1).trim(),!(!a||e[a]&&ignoreDuplicateOf[a])&&(a==="set-cookie"?e[a]?e[a].push(d):e[a]=[d]:e[a]=e[a]?e[a]+", "+d:d)}),e},$internals=Symbol("internals");function normalizeHeader(c){return c&&String(c).trim().toLowerCase()}function normalizeValue(c){return c===!1||c==null?c:utils$1.isArray(c)?c.map(normalizeValue):String(c)}function parseTokens(c){const e=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let d;for(;d=a.exec(c);)e[d[1]]=d[2];return e}const isValidHeaderName=c=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(c.trim());function matchHeaderValue(c,e,a,d,nt){if(utils$1.isFunction(d))return d.call(this,e,a);if(nt&&(e=a),!!utils$1.isString(e)){if(utils$1.isString(d))return e.indexOf(d)!==-1;if(utils$1.isRegExp(d))return d.test(e)}}function formatHeader(c){return c.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,a,d)=>a.toUpperCase()+d)}function buildAccessors(c,e){const a=utils$1.toCamelCase(" "+e);["get","set","has"].forEach(d=>{Object.defineProperty(c,d+a,{value:function(nt,o,ht){return this[d].call(this,e,nt,o,ht)},configurable:!0})})}class AxiosHeaders{constructor(e){e&&this.set(e)}set(e,a,d){const nt=this;function o(vt,xt,St){const Tt=normalizeHeader(xt);if(!Tt)throw new Error("header name must be a non-empty string");const At=utils$1.findKey(nt,Tt);(!At||nt[At]===void 0||St===!0||St===void 0&&nt[At]!==!1)&&(nt[At||xt]=normalizeValue(vt))}const ht=(vt,xt)=>utils$1.forEach(vt,(St,Tt)=>o(St,Tt,xt));if(utils$1.isPlainObject(e)||e instanceof this.constructor)ht(e,a);else if(utils$1.isString(e)&&(e=e.trim())&&!isValidHeaderName(e))ht(parseHeaders(e),a);else if(utils$1.isObject(e)&&utils$1.isIterable(e)){let vt={},xt,St;for(const Tt of e){if(!utils$1.isArray(Tt))throw TypeError("Object iterator must return a key-value pair");vt[St=Tt[0]]=(xt=vt[St])?utils$1.isArray(xt)?[...xt,Tt[1]]:[xt,Tt[1]]:Tt[1]}ht(vt,a)}else e!=null&&o(a,e,d);return this}get(e,a){if(e=normalizeHeader(e),e){const d=utils$1.findKey(this,e);if(d){const nt=this[d];if(!a)return nt;if(a===!0)return parseTokens(nt);if(utils$1.isFunction(a))return a.call(this,nt,d);if(utils$1.isRegExp(a))return a.exec(nt);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,a){if(e=normalizeHeader(e),e){const d=utils$1.findKey(this,e);return!!(d&&this[d]!==void 0&&(!a||matchHeaderValue(this,this[d],d,a)))}return!1}delete(e,a){const d=this;let nt=!1;function o(ht){if(ht=normalizeHeader(ht),ht){const vt=utils$1.findKey(d,ht);vt&&(!a||matchHeaderValue(d,d[vt],vt,a))&&(delete d[vt],nt=!0)}}return utils$1.isArray(e)?e.forEach(o):o(e),nt}clear(e){const a=Object.keys(this);let d=a.length,nt=!1;for(;d--;){const o=a[d];(!e||matchHeaderValue(this,this[o],o,e,!0))&&(delete this[o],nt=!0)}return nt}normalize(e){const a=this,d={};return utils$1.forEach(this,(nt,o)=>{const ht=utils$1.findKey(d,o);if(ht){a[ht]=normalizeValue(nt),delete a[o];return}const vt=e?formatHeader(o):String(o).trim();vt!==o&&delete a[o],a[vt]=normalizeValue(nt),d[vt]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const a=Object.create(null);return utils$1.forEach(this,(d,nt)=>{d!=null&&d!==!1&&(a[nt]=e&&utils$1.isArray(d)?d.join(", "):d)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,a])=>e+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...a){const d=new this(e);return a.forEach(nt=>d.set(nt)),d}static accessor(e){const d=(this[$internals]=this[$internals]={accessors:{}}).accessors,nt=this.prototype;function o(ht){const vt=normalizeHeader(ht);d[vt]||(buildAccessors(nt,ht),d[vt]=!0)}return utils$1.isArray(e)?e.forEach(o):o(e),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:c},e)=>{let a=e[0].toUpperCase()+e.slice(1);return{get:()=>c,set(d){this[a]=d}}});utils$1.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(c,e){const a=this||defaults$1,d=e||a,nt=AxiosHeaders$1.from(d.headers);let o=d.data;return utils$1.forEach(c,function(vt){o=vt.call(a,o,nt.normalize(),e?e.status:void 0)}),nt.normalize(),o}function isCancel(c){return!!(c&&c.__CANCEL__)}function CanceledError(c,e,a){AxiosError.call(this,c??"canceled",AxiosError.ERR_CANCELED,e,a),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(c,e,a){const d=a.config.validateStatus;!a.status||!d||d(a.status)?c(a):e(new AxiosError("Request failed with status code "+a.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function parseProtocol(c){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(c);return e&&e[1]||""}function speedometer(c,e){c=c||10;const a=new Array(c),d=new Array(c);let nt=0,o=0,ht;return e=e!==void 0?e:1e3,function(xt){const St=Date.now(),Tt=d[o];ht||(ht=St),a[nt]=xt,d[nt]=St;let At=o,Ct=0;for(;At!==nt;)Ct+=a[At++],At=At%c;if(nt=(nt+1)%c,nt===o&&(o=(o+1)%c),St-ht<e)return;const Rt=Tt&&St-Tt;return Rt?Math.round(Ct*1e3/Rt):void 0}}function throttle(c,e){let a=0,d=1e3/e,nt,o;const ht=(St,Tt=Date.now())=>{a=Tt,nt=null,o&&(clearTimeout(o),o=null),c.apply(null,St)};return[(...St)=>{const Tt=Date.now(),At=Tt-a;At>=d?ht(St,Tt):(nt=St,o||(o=setTimeout(()=>{o=null,ht(nt)},d-At)))},()=>nt&&ht(nt)]}const progressEventReducer=(c,e,a=3)=>{let d=0;const nt=speedometer(50,250);return throttle(o=>{const ht=o.loaded,vt=o.lengthComputable?o.total:void 0,xt=ht-d,St=nt(xt),Tt=ht<=vt;d=ht;const At={loaded:ht,total:vt,progress:vt?ht/vt:void 0,bytes:xt,rate:St||void 0,estimated:St&&vt&&Tt?(vt-ht)/St:void 0,event:o,lengthComputable:vt!=null,[e?"download":"upload"]:!0};c(At)},a)},progressEventDecorator=(c,e)=>{const a=c!=null;return[d=>e[0]({lengthComputable:a,total:c,loaded:d}),e[1]]},asyncDecorator=c=>(...e)=>utils$1.asap(()=>c(...e)),isURLSameOrigin=platform.hasStandardBrowserEnv?((c,e)=>a=>(a=new URL(a,platform.origin),c.protocol===a.protocol&&c.host===a.host&&(e||c.port===a.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(c,e,a,d,nt,o){const ht=[c+"="+encodeURIComponent(e)];utils$1.isNumber(a)&&ht.push("expires="+new Date(a).toGMTString()),utils$1.isString(d)&&ht.push("path="+d),utils$1.isString(nt)&&ht.push("domain="+nt),o===!0&&ht.push("secure"),document.cookie=ht.join("; ")},read(c){const e=document.cookie.match(new RegExp("(^|;\\s*)("+c+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(c){this.write(c,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(c){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(c)}function combineURLs(c,e){return e?c.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):c}function buildFullPath(c,e,a){let d=!isAbsoluteURL(e);return c&&(d||a==!1)?combineURLs(c,e):e}const headersToObject=c=>c instanceof AxiosHeaders$1?{...c}:c;function mergeConfig(c,e){e=e||{};const a={};function d(St,Tt,At,Ct){return utils$1.isPlainObject(St)&&utils$1.isPlainObject(Tt)?utils$1.merge.call({caseless:Ct},St,Tt):utils$1.isPlainObject(Tt)?utils$1.merge({},Tt):utils$1.isArray(Tt)?Tt.slice():Tt}function nt(St,Tt,At,Ct){if(utils$1.isUndefined(Tt)){if(!utils$1.isUndefined(St))return d(void 0,St,At,Ct)}else return d(St,Tt,At,Ct)}function o(St,Tt){if(!utils$1.isUndefined(Tt))return d(void 0,Tt)}function ht(St,Tt){if(utils$1.isUndefined(Tt)){if(!utils$1.isUndefined(St))return d(void 0,St)}else return d(void 0,Tt)}function vt(St,Tt,At){if(At in e)return d(St,Tt);if(At in c)return d(void 0,St)}const xt={url:o,method:o,data:o,baseURL:ht,transformRequest:ht,transformResponse:ht,paramsSerializer:ht,timeout:ht,timeoutMessage:ht,withCredentials:ht,withXSRFToken:ht,adapter:ht,responseType:ht,xsrfCookieName:ht,xsrfHeaderName:ht,onUploadProgress:ht,onDownloadProgress:ht,decompress:ht,maxContentLength:ht,maxBodyLength:ht,beforeRedirect:ht,transport:ht,httpAgent:ht,httpsAgent:ht,cancelToken:ht,socketPath:ht,responseEncoding:ht,validateStatus:vt,headers:(St,Tt,At)=>nt(headersToObject(St),headersToObject(Tt),At,!0)};return utils$1.forEach(Object.keys(Object.assign({},c,e)),function(Tt){const At=xt[Tt]||nt,Ct=At(c[Tt],e[Tt],Tt);utils$1.isUndefined(Ct)&&At!==vt||(a[Tt]=Ct)}),a}const resolveConfig=c=>{const e=mergeConfig({},c);let{data:a,withXSRFToken:d,xsrfHeaderName:nt,xsrfCookieName:o,headers:ht,auth:vt}=e;e.headers=ht=AxiosHeaders$1.from(ht),e.url=buildURL(buildFullPath(e.baseURL,e.url,e.allowAbsoluteUrls),c.params,c.paramsSerializer),vt&&ht.set("Authorization","Basic "+btoa((vt.username||"")+":"+(vt.password?unescape(encodeURIComponent(vt.password)):"")));let xt;if(utils$1.isFormData(a)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)ht.setContentType(void 0);else if((xt=ht.getContentType())!==!1){const[St,...Tt]=xt?xt.split(";").map(At=>At.trim()).filter(Boolean):[];ht.setContentType([St||"multipart/form-data",...Tt].join("; "))}}if(platform.hasStandardBrowserEnv&&(d&&utils$1.isFunction(d)&&(d=d(e)),d||d!==!1&&isURLSameOrigin(e.url))){const St=nt&&o&&cookies.read(o);St&&ht.set(nt,St)}return e},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(c){return new Promise(function(a,d){const nt=resolveConfig(c);let o=nt.data;const ht=AxiosHeaders$1.from(nt.headers).normalize();let{responseType:vt,onUploadProgress:xt,onDownloadProgress:St}=nt,Tt,At,Ct,Rt,yt;function Dt(){Rt&&Rt(),yt&&yt(),nt.cancelToken&&nt.cancelToken.unsubscribe(Tt),nt.signal&&nt.signal.removeEventListener("abort",Tt)}let Nt=new XMLHttpRequest;Nt.open(nt.method.toUpperCase(),nt.url,!0),Nt.timeout=nt.timeout;function Lt(){if(!Nt)return;const Ft=AxiosHeaders$1.from("getAllResponseHeaders"in Nt&&Nt.getAllResponseHeaders()),jt={data:!vt||vt==="text"||vt==="json"?Nt.responseText:Nt.response,status:Nt.status,statusText:Nt.statusText,headers:Ft,config:c,request:Nt};settle(function(Yt){a(Yt),Dt()},function(Yt){d(Yt),Dt()},jt),Nt=null}"onloadend"in Nt?Nt.onloadend=Lt:Nt.onreadystatechange=function(){!Nt||Nt.readyState!==4||Nt.status===0&&!(Nt.responseURL&&Nt.responseURL.indexOf("file:")===0)||setTimeout(Lt)},Nt.onabort=function(){Nt&&(d(new AxiosError("Request aborted",AxiosError.ECONNABORTED,c,Nt)),Nt=null)},Nt.onerror=function(){d(new AxiosError("Network Error",AxiosError.ERR_NETWORK,c,Nt)),Nt=null},Nt.ontimeout=function(){let Vt=nt.timeout?"timeout of "+nt.timeout+"ms exceeded":"timeout exceeded";const jt=nt.transitional||transitionalDefaults;nt.timeoutErrorMessage&&(Vt=nt.timeoutErrorMessage),d(new AxiosError(Vt,jt.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,c,Nt)),Nt=null},o===void 0&&ht.setContentType(null),"setRequestHeader"in Nt&&utils$1.forEach(ht.toJSON(),function(Vt,jt){Nt.setRequestHeader(jt,Vt)}),utils$1.isUndefined(nt.withCredentials)||(Nt.withCredentials=!!nt.withCredentials),vt&&vt!=="json"&&(Nt.responseType=nt.responseType),St&&([Ct,yt]=progressEventReducer(St,!0),Nt.addEventListener("progress",Ct)),xt&&Nt.upload&&([At,Rt]=progressEventReducer(xt),Nt.upload.addEventListener("progress",At),Nt.upload.addEventListener("loadend",Rt)),(nt.cancelToken||nt.signal)&&(Tt=Ft=>{Nt&&(d(!Ft||Ft.type?new CanceledError(null,c,Nt):Ft),Nt.abort(),Nt=null)},nt.cancelToken&&nt.cancelToken.subscribe(Tt),nt.signal&&(nt.signal.aborted?Tt():nt.signal.addEventListener("abort",Tt)));const Ot=parseProtocol(nt.url);if(Ot&&platform.protocols.indexOf(Ot)===-1){d(new AxiosError("Unsupported protocol "+Ot+":",AxiosError.ERR_BAD_REQUEST,c));return}Nt.send(o||null)})},composeSignals=(c,e)=>{const{length:a}=c=c?c.filter(Boolean):[];if(e||a){let d=new AbortController,nt;const o=function(St){if(!nt){nt=!0,vt();const Tt=St instanceof Error?St:this.reason;d.abort(Tt instanceof AxiosError?Tt:new CanceledError(Tt instanceof Error?Tt.message:Tt))}};let ht=e&&setTimeout(()=>{ht=null,o(new AxiosError(`timeout ${e} of ms exceeded`,AxiosError.ETIMEDOUT))},e);const vt=()=>{c&&(ht&&clearTimeout(ht),ht=null,c.forEach(St=>{St.unsubscribe?St.unsubscribe(o):St.removeEventListener("abort",o)}),c=null)};c.forEach(St=>St.addEventListener("abort",o));const{signal:xt}=d;return xt.unsubscribe=()=>utils$1.asap(vt),xt}},composeSignals$1=composeSignals,streamChunk=function*(c,e){let a=c.byteLength;if(!e||a<e){yield c;return}let d=0,nt;for(;d<a;)nt=d+e,yield c.slice(d,nt),d=nt},readBytes=async function*(c,e){for await(const a of readStream(c))yield*streamChunk(a,e)},readStream=async function*(c){if(c[Symbol.asyncIterator]){yield*c;return}const e=c.getReader();try{for(;;){const{done:a,value:d}=await e.read();if(a)break;yield d}}finally{await e.cancel()}},trackStream=(c,e,a,d)=>{const nt=readBytes(c,e);let o=0,ht,vt=xt=>{ht||(ht=!0,d&&d(xt))};return new ReadableStream({async pull(xt){try{const{done:St,value:Tt}=await nt.next();if(St){vt(),xt.close();return}let At=Tt.byteLength;if(a){let Ct=o+=At;a(Ct)}xt.enqueue(new Uint8Array(Tt))}catch(St){throw vt(St),St}},cancel(xt){return vt(xt),nt.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(c=>e=>c.encode(e))(new TextEncoder):async c=>new Uint8Array(await new Response(c).arrayBuffer())),test=(c,...e)=>{try{return!!c(...e)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let c=!1;const e=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return c=!0,"half"}}).headers.has("Content-Type");return c&&!e}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(c=>c.body)};isFetchSupported&&(c=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!resolvers[e]&&(resolvers[e]=utils$1.isFunction(c[e])?a=>a[e]():(a,d)=>{throw new AxiosError(`Response type '${e}' is not supported`,AxiosError.ERR_NOT_SUPPORT,d)})})})(new Response);const getBodyLength=async c=>{if(c==null)return 0;if(utils$1.isBlob(c))return c.size;if(utils$1.isSpecCompliantForm(c))return(await new Request(platform.origin,{method:"POST",body:c}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(c)||utils$1.isArrayBuffer(c))return c.byteLength;if(utils$1.isURLSearchParams(c)&&(c=c+""),utils$1.isString(c))return(await encodeText(c)).byteLength},resolveBodyLength=async(c,e)=>{const a=utils$1.toFiniteNumber(c.getContentLength());return a??getBodyLength(e)},fetchAdapter=isFetchSupported&&(async c=>{let{url:e,method:a,data:d,signal:nt,cancelToken:o,timeout:ht,onDownloadProgress:vt,onUploadProgress:xt,responseType:St,headers:Tt,withCredentials:At="same-origin",fetchOptions:Ct}=resolveConfig(c);St=St?(St+"").toLowerCase():"text";let Rt=composeSignals$1([nt,o&&o.toAbortSignal()],ht),yt;const Dt=Rt&&Rt.unsubscribe&&(()=>{Rt.unsubscribe()});let Nt;try{if(xt&&supportsRequestStream&&a!=="get"&&a!=="head"&&(Nt=await resolveBodyLength(Tt,d))!==0){let jt=new Request(e,{method:"POST",body:d,duplex:"half"}),$t;if(utils$1.isFormData(d)&&($t=jt.headers.get("content-type"))&&Tt.setContentType($t),jt.body){const[Yt,Kt]=progressEventDecorator(Nt,progressEventReducer(asyncDecorator(xt)));d=trackStream(jt.body,DEFAULT_CHUNK_SIZE,Yt,Kt)}}utils$1.isString(At)||(At=At?"include":"omit");const Lt="credentials"in Request.prototype;yt=new Request(e,{...Ct,signal:Rt,method:a.toUpperCase(),headers:Tt.normalize().toJSON(),body:d,duplex:"half",credentials:Lt?At:void 0});let Ot=await fetch(yt);const Ft=supportsResponseStream&&(St==="stream"||St==="response");if(supportsResponseStream&&(vt||Ft&&Dt)){const jt={};["status","statusText","headers"].forEach(qt=>{jt[qt]=Ot[qt]});const $t=utils$1.toFiniteNumber(Ot.headers.get("content-length")),[Yt,Kt]=vt&&progressEventDecorator($t,progressEventReducer(asyncDecorator(vt),!0))||[];Ot=new Response(trackStream(Ot.body,DEFAULT_CHUNK_SIZE,Yt,()=>{Kt&&Kt(),Dt&&Dt()}),jt)}St=St||"text";let Vt=await resolvers[utils$1.findKey(resolvers,St)||"text"](Ot,c);return!Ft&&Dt&&Dt(),await new Promise((jt,$t)=>{settle(jt,$t,{data:Vt,headers:AxiosHeaders$1.from(Ot.headers),status:Ot.status,statusText:Ot.statusText,config:c,request:yt})})}catch(Lt){throw Dt&&Dt(),Lt&&Lt.name==="TypeError"&&/Load failed|fetch/i.test(Lt.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,c,yt),{cause:Lt.cause||Lt}):AxiosError.from(Lt,Lt&&Lt.code,c,yt)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(c,e)=>{if(c){try{Object.defineProperty(c,"name",{value:e})}catch{}Object.defineProperty(c,"adapterName",{value:e})}});const renderReason=c=>`- ${c}`,isResolvedHandle=c=>utils$1.isFunction(c)||c===null||c===!1,adapters={getAdapter:c=>{c=utils$1.isArray(c)?c:[c];const{length:e}=c;let a,d;const nt={};for(let o=0;o<e;o++){a=c[o];let ht;if(d=a,!isResolvedHandle(a)&&(d=knownAdapters[(ht=String(a)).toLowerCase()],d===void 0))throw new AxiosError(`Unknown adapter '${ht}'`);if(d)break;nt[ht||"#"+o]=d}if(!d){const o=Object.entries(nt).map(([vt,xt])=>`adapter ${vt} `+(xt===!1?"is not supported by the environment":"is not available in the build"));let ht=e?o.length>1?`since :
`+o.map(renderReason).join(`
`):" "+renderReason(o[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+ht,"ERR_NOT_SUPPORT")}return d},adapters:knownAdapters};function throwIfCancellationRequested(c){if(c.cancelToken&&c.cancelToken.throwIfRequested(),c.signal&&c.signal.aborted)throw new CanceledError(null,c)}function dispatchRequest(c){return throwIfCancellationRequested(c),c.headers=AxiosHeaders$1.from(c.headers),c.data=transformData.call(c,c.transformRequest),["post","put","patch"].indexOf(c.method)!==-1&&c.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(c.adapter||defaults$1.adapter)(c).then(function(d){return throwIfCancellationRequested(c),d.data=transformData.call(c,c.transformResponse,d),d.headers=AxiosHeaders$1.from(d.headers),d},function(d){return isCancel(d)||(throwIfCancellationRequested(c),d&&d.response&&(d.response.data=transformData.call(c,c.transformResponse,d.response),d.response.headers=AxiosHeaders$1.from(d.response.headers))),Promise.reject(d)})}const VERSION="1.9.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((c,e)=>{validators$1[c]=function(d){return typeof d===c||"a"+(e<1?"n ":" ")+c}});const deprecatedWarnings={};validators$1.transitional=function(e,a,d){function nt(o,ht){return"[Axios v"+VERSION+"] Transitional option '"+o+"'"+ht+(d?". "+d:"")}return(o,ht,vt)=>{if(e===!1)throw new AxiosError(nt(ht," has been removed"+(a?" in "+a:"")),AxiosError.ERR_DEPRECATED);return a&&!deprecatedWarnings[ht]&&(deprecatedWarnings[ht]=!0,console.warn(nt(ht," has been deprecated since v"+a+" and will be removed in the near future"))),e?e(o,ht,vt):!0}};validators$1.spelling=function(e){return(a,d)=>(console.warn(`${d} is likely a misspelling of ${e}`),!0)};function assertOptions(c,e,a){if(typeof c!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const d=Object.keys(c);let nt=d.length;for(;nt-- >0;){const o=d[nt],ht=e[o];if(ht){const vt=c[o],xt=vt===void 0||ht(vt,o,c);if(xt!==!0)throw new AxiosError("option "+o+" must be "+xt,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new AxiosError("Unknown option "+o,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(e){this.defaults=e||{},this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}async request(e,a){try{return await this._request(e,a)}catch(d){if(d instanceof Error){let nt={};Error.captureStackTrace?Error.captureStackTrace(nt):nt=new Error;const o=nt.stack?nt.stack.replace(/^.+\n/,""):"";try{d.stack?o&&!String(d.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(d.stack+=`
`+o):d.stack=o}catch{}}throw d}}_request(e,a){typeof e=="string"?(a=a||{},a.url=e):a=e||{},a=mergeConfig(this.defaults,a);const{transitional:d,paramsSerializer:nt,headers:o}=a;d!==void 0&&validator.assertOptions(d,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),nt!=null&&(utils$1.isFunction(nt)?a.paramsSerializer={serialize:nt}:validator.assertOptions(nt,{encode:validators.function,serialize:validators.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),validator.assertOptions(a,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let ht=o&&utils$1.merge(o.common,o[a.method]);o&&utils$1.forEach(["delete","get","head","post","put","patch","common"],yt=>{delete o[yt]}),a.headers=AxiosHeaders$1.concat(ht,o);const vt=[];let xt=!0;this.interceptors.request.forEach(function(Dt){typeof Dt.runWhen=="function"&&Dt.runWhen(a)===!1||(xt=xt&&Dt.synchronous,vt.unshift(Dt.fulfilled,Dt.rejected))});const St=[];this.interceptors.response.forEach(function(Dt){St.push(Dt.fulfilled,Dt.rejected)});let Tt,At=0,Ct;if(!xt){const yt=[dispatchRequest.bind(this),void 0];for(yt.unshift.apply(yt,vt),yt.push.apply(yt,St),Ct=yt.length,Tt=Promise.resolve(a);At<Ct;)Tt=Tt.then(yt[At++],yt[At++]);return Tt}Ct=vt.length;let Rt=a;for(At=0;At<Ct;){const yt=vt[At++],Dt=vt[At++];try{Rt=yt(Rt)}catch(Nt){Dt.call(this,Nt);break}}try{Tt=dispatchRequest.call(this,Rt)}catch(yt){return Promise.reject(yt)}for(At=0,Ct=St.length;At<Ct;)Tt=Tt.then(St[At++],St[At++]);return Tt}getUri(e){e=mergeConfig(this.defaults,e);const a=buildFullPath(e.baseURL,e.url,e.allowAbsoluteUrls);return buildURL(a,e.params,e.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function(e){Axios.prototype[e]=function(a,d){return this.request(mergeConfig(d||{},{method:e,url:a,data:(d||{}).data}))}});utils$1.forEach(["post","put","patch"],function(e){function a(d){return function(o,ht,vt){return this.request(mergeConfig(vt||{},{method:e,headers:d?{"Content-Type":"multipart/form-data"}:{},url:o,data:ht}))}}Axios.prototype[e]=a(),Axios.prototype[e+"Form"]=a(!0)});const Axios$1=Axios;class CancelToken{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(o){a=o});const d=this;this.promise.then(nt=>{if(!d._listeners)return;let o=d._listeners.length;for(;o-- >0;)d._listeners[o](nt);d._listeners=null}),this.promise.then=nt=>{let o;const ht=new Promise(vt=>{d.subscribe(vt),o=vt}).then(nt);return ht.cancel=function(){d.unsubscribe(o)},ht},e(function(o,ht,vt){d.reason||(d.reason=new CanceledError(o,ht,vt),a(d.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const a=this._listeners.indexOf(e);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const e=new AbortController,a=d=>{e.abort(d)};return this.subscribe(a),e.signal.unsubscribe=()=>this.unsubscribe(a),e.signal}static source(){let e;return{token:new CancelToken(function(nt){e=nt}),cancel:e}}}const CancelToken$1=CancelToken;function spread(c){return function(a){return c.apply(null,a)}}function isAxiosError(c){return utils$1.isObject(c)&&c.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([c,e])=>{HttpStatusCode[e]=c});const HttpStatusCode$1=HttpStatusCode;function createInstance(c){const e=new Axios$1(c),a=bind(Axios$1.prototype.request,e);return utils$1.extend(a,Axios$1.prototype,e,{allOwnKeys:!0}),utils$1.extend(a,e,null,{allOwnKeys:!0}),a.create=function(nt){return createInstance(mergeConfig(c,nt))},a}const axios=createInstance(defaults$1);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(e){return Promise.all(e)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=c=>formDataToJSON(utils$1.isHTMLForm(c)?new FormData(c):c);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const axios$1=axios,query$1=`
  *[_type == 'party']{
  _id,
  date,
  description,
  lineup,
  poster {
    asset -> {
      url
    }
  },
  ticketLink
} | order(date asc)
`,getParties=async()=>(await axios$1.get(getApiUrl(query$1))).data,useGetParties=()=>useQuery({queryKey:["partiesData"],queryFn:getParties,select:c=>c.result}),query=`
  *[_type == 'social']{
  link,
  platform,
  _id
}
`,getSocials=async()=>(await axios$1.get(getApiUrl(query))).data,useGetSocials=()=>useQuery({queryKey:["socialsData"],queryFn:getSocials,select:c=>c.result});var lib={},uaParser_min={exports:{}};(function(c,e){(function(a,d){var nt="1.0.40",o="",ht="?",vt="function",xt="undefined",St="object",Tt="string",At="major",Ct="model",Rt="name",yt="type",Dt="vendor",Nt="version",Lt="architecture",Ot="console",Ft="mobile",Vt="tablet",jt="smarttv",$t="wearable",Yt="embedded",Kt=500,qt="Amazon",Wt="Apple",Jt="ASUS",cn="BlackBerry",sn="Browser",Tn="Chrome",Cn="Edge",En="Firefox",Nn="Google",on="Huawei",hn="LG",pn="Microsoft",Pn="Motorola",jn="Opera",ar="Samsung",An="Sharp",Xn="Sony",or="Xiaomi",tr="Zebra",_r="Facebook",kr="Chromium OS",hr="Mac OS",gr=" Browser",It=function(xn,er){var Gn={};for(var dr in xn)er[dr]&&er[dr].length%2===0?Gn[dr]=er[dr].concat(xn[dr]):Gn[dr]=xn[dr];return Gn},Jn=function(xn){for(var er={},Gn=0;Gn<xn.length;Gn++)er[xn[Gn].toUpperCase()]=xn[Gn];return er},nn=function(xn,er){return typeof xn===Tt?rr(er).indexOf(rr(xn))!==-1:!1},rr=function(xn){return xn.toLowerCase()},Kn=function(xn){return typeof xn===Tt?xn.replace(/[^\d\.]/g,o).split(".")[0]:d},Qn=function(xn,er){if(typeof xn===Tt)return xn=xn.replace(/^\s\s*/,o),typeof er===xt?xn:xn.substring(0,Kt)},Fn=function(xn,er){for(var Gn=0,dr,Nr,Zn,nr,ir,Or;Gn<er.length&&!ir;){var Er=er[Gn],un=er[Gn+1];for(dr=Nr=0;dr<Er.length&&!ir&&Er[dr];)if(ir=Er[dr++].exec(xn),ir)for(Zn=0;Zn<un.length;Zn++)Or=ir[++Nr],nr=un[Zn],typeof nr===St&&nr.length>0?nr.length===2?typeof nr[1]==vt?this[nr[0]]=nr[1].call(this,Or):this[nr[0]]=nr[1]:nr.length===3?typeof nr[1]===vt&&!(nr[1].exec&&nr[1].test)?this[nr[0]]=Or?nr[1].call(this,Or,nr[2]):d:this[nr[0]]=Or?Or.replace(nr[1],nr[2]):d:nr.length===4&&(this[nr[0]]=Or?nr[3].call(this,Or.replace(nr[1],nr[2])):d):this[nr]=Or||d;Gn+=2}},vr=function(xn,er){for(var Gn in er)if(typeof er[Gn]===St&&er[Gn].length>0){for(var dr=0;dr<er[Gn].length;dr++)if(nn(er[Gn][dr],xn))return Gn===ht?d:Gn}else if(nn(er[Gn],xn))return Gn===ht?d:Gn;return er.hasOwnProperty("*")?er["*"]:xn},Yn={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},tn={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Qt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[Nt,[Rt,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[Nt,[Rt,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[Rt,Nt],[/opios[\/ ]+([\w\.]+)/i],[Nt,[Rt,jn+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[Nt,[Rt,jn+" GX"]],[/\bopr\/([\w\.]+)/i],[Nt,[Rt,jn]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[Nt,[Rt,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[Nt,[Rt,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[Rt,Nt],[/quark(?:pc)?\/([-\w\.]+)/i],[Nt,[Rt,"Quark"]],[/\bddg\/([\w\.]+)/i],[Nt,[Rt,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[Nt,[Rt,"UC"+sn]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[Nt,[Rt,"WeChat"]],[/konqueror\/([\w\.]+)/i],[Nt,[Rt,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[Nt,[Rt,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[Nt,[Rt,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[Nt,[Rt,"Smart Lenovo "+sn]],[/(avast|avg)\/([\w\.]+)/i],[[Rt,/(.+)/,"$1 Secure "+sn],Nt],[/\bfocus\/([\w\.]+)/i],[Nt,[Rt,En+" Focus"]],[/\bopt\/([\w\.]+)/i],[Nt,[Rt,jn+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[Nt,[Rt,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[Nt,[Rt,"Dolphin"]],[/coast\/([\w\.]+)/i],[Nt,[Rt,jn+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[Nt,[Rt,"MIUI"+gr]],[/fxios\/([\w\.-]+)/i],[Nt,[Rt,En]],[/\bqihoobrowser\/?([\w\.]*)/i],[Nt,[Rt,"360"]],[/\b(qq)\/([\w\.]+)/i],[[Rt,/(.+)/,"$1Browser"],Nt],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[Rt,/(.+)/,"$1"+gr],Nt],[/samsungbrowser\/([\w\.]+)/i],[Nt,[Rt,ar+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[Nt,[Rt,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[Rt,"Sogou Mobile"],Nt],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[Rt,Nt],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[Rt],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[Nt,Rt],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[Rt,_r],Nt],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[Rt,Nt],[/\bgsa\/([\w\.]+) .*safari\//i],[Nt,[Rt,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[Nt,[Rt,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[Nt,[Rt,Tn+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[Rt,Tn+" WebView"],Nt],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[Nt,[Rt,"Android "+sn]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[Rt,Nt],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[Nt,[Rt,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[Nt,Rt],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[Rt,[Nt,vr,Yn]],[/(webkit|khtml)\/([\w\.]+)/i],[Rt,Nt],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[Rt,"Netscape"],Nt],[/(wolvic|librewolf)\/([\w\.]+)/i],[Rt,Nt],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[Nt,[Rt,En+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[Rt,[Nt,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[Rt,[Nt,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[Lt,"amd64"]],[/(ia32(?=;))/i],[[Lt,rr]],[/((?:i[346]|x)86)[;\)]/i],[[Lt,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[Lt,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[Lt,"armhf"]],[/windows (ce|mobile); ppc;/i],[[Lt,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[Lt,/ower/,o,rr]],[/(sun4\w)[;\)]/i],[[Lt,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[Lt,rr]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[Ct,[Dt,ar],[yt,Vt]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[Ct,[Dt,ar],[yt,Ft]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[Ct,[Dt,Wt],[yt,Ft]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[Ct,[Dt,Wt],[yt,Vt]],[/(macintosh);/i],[Ct,[Dt,Wt]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[Ct,[Dt,An],[yt,Ft]],[/(?:honor)([-\w ]+)[;\)]/i],[Ct,[Dt,"Honor"],[yt,Ft]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[Ct,[Dt,on],[yt,Vt]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[Ct,[Dt,on],[yt,Ft]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[Ct,/_/g," "],[Dt,or],[yt,Ft]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[Ct,/_/g," "],[Dt,or],[yt,Vt]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[Ct,[Dt,"OPPO"],[yt,Ft]],[/\b(opd2\d{3}a?) bui/i],[Ct,[Dt,"OPPO"],[yt,Vt]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[Ct,[Dt,"Vivo"],[yt,Ft]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[Ct,[Dt,"Realme"],[yt,Ft]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[Ct,[Dt,Pn],[yt,Ft]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[Ct,[Dt,Pn],[yt,Vt]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[Ct,[Dt,hn],[yt,Vt]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[Ct,[Dt,hn],[yt,Ft]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[Ct,[Dt,"Lenovo"],[yt,Vt]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[Ct,/_/g," "],[Dt,"Nokia"],[yt,Ft]],[/(pixel c)\b/i],[Ct,[Dt,Nn],[yt,Vt]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[Ct,[Dt,Nn],[yt,Ft]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[Ct,[Dt,Xn],[yt,Ft]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[Ct,"Xperia Tablet"],[Dt,Xn],[yt,Vt]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[Ct,[Dt,"OnePlus"],[yt,Ft]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[Ct,[Dt,qt],[yt,Vt]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[Ct,/(.+)/g,"Fire Phone $1"],[Dt,qt],[yt,Ft]],[/(playbook);[-\w\),; ]+(rim)/i],[Ct,Dt,[yt,Vt]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[Ct,[Dt,cn],[yt,Ft]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[Ct,[Dt,Jt],[yt,Vt]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[Ct,[Dt,Jt],[yt,Ft]],[/(nexus 9)/i],[Ct,[Dt,"HTC"],[yt,Vt]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[Dt,[Ct,/_/g," "],[yt,Ft]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[Ct,[Dt,"TCL"],[yt,Vt]],[/(itel) ((\w+))/i],[[Dt,rr],Ct,[yt,vr,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[Ct,[Dt,"Acer"],[yt,Vt]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[Ct,[Dt,"Meizu"],[yt,Ft]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[Ct,[Dt,"Ulefone"],[yt,Ft]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[Ct,[Dt,"Energizer"],[yt,Ft]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[Ct,[Dt,"Cat"],[yt,Ft]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[Ct,[Dt,"Smartfren"],[yt,Ft]],[/droid.+; (a(?:015|06[35]|142p?))/i],[Ct,[Dt,"Nothing"],[yt,Ft]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[Dt,Ct,[yt,Ft]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[Dt,Ct,[yt,Vt]],[/(surface duo)/i],[Ct,[Dt,pn],[yt,Vt]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[Ct,[Dt,"Fairphone"],[yt,Ft]],[/(u304aa)/i],[Ct,[Dt,"AT&T"],[yt,Ft]],[/\bsie-(\w*)/i],[Ct,[Dt,"Siemens"],[yt,Ft]],[/\b(rct\w+) b/i],[Ct,[Dt,"RCA"],[yt,Vt]],[/\b(venue[\d ]{2,7}) b/i],[Ct,[Dt,"Dell"],[yt,Vt]],[/\b(q(?:mv|ta)\w+) b/i],[Ct,[Dt,"Verizon"],[yt,Vt]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[Ct,[Dt,"Barnes & Noble"],[yt,Vt]],[/\b(tm\d{3}\w+) b/i],[Ct,[Dt,"NuVision"],[yt,Vt]],[/\b(k88) b/i],[Ct,[Dt,"ZTE"],[yt,Vt]],[/\b(nx\d{3}j) b/i],[Ct,[Dt,"ZTE"],[yt,Ft]],[/\b(gen\d{3}) b.+49h/i],[Ct,[Dt,"Swiss"],[yt,Ft]],[/\b(zur\d{3}) b/i],[Ct,[Dt,"Swiss"],[yt,Vt]],[/\b((zeki)?tb.*\b) b/i],[Ct,[Dt,"Zeki"],[yt,Vt]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[Dt,"Dragon Touch"],Ct,[yt,Vt]],[/\b(ns-?\w{0,9}) b/i],[Ct,[Dt,"Insignia"],[yt,Vt]],[/\b((nxa|next)-?\w{0,9}) b/i],[Ct,[Dt,"NextBook"],[yt,Vt]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[Dt,"Voice"],Ct,[yt,Ft]],[/\b(lvtel\-)?(v1[12]) b/i],[[Dt,"LvTel"],Ct,[yt,Ft]],[/\b(ph-1) /i],[Ct,[Dt,"Essential"],[yt,Ft]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[Ct,[Dt,"Envizen"],[yt,Vt]],[/\b(trio[-\w\. ]+) b/i],[Ct,[Dt,"MachSpeed"],[yt,Vt]],[/\btu_(1491) b/i],[Ct,[Dt,"Rotor"],[yt,Vt]],[/(shield[\w ]+) b/i],[Ct,[Dt,"Nvidia"],[yt,Vt]],[/(sprint) (\w+)/i],[Dt,Ct,[yt,Ft]],[/(kin\.[onetw]{3})/i],[[Ct,/\./g," "],[Dt,pn],[yt,Ft]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[Ct,[Dt,tr],[yt,Vt]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[Ct,[Dt,tr],[yt,Ft]],[/smart-tv.+(samsung)/i],[Dt,[yt,jt]],[/hbbtv.+maple;(\d+)/i],[[Ct,/^/,"SmartTV"],[Dt,ar],[yt,jt]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[Dt,hn],[yt,jt]],[/(apple) ?tv/i],[Dt,[Ct,Wt+" TV"],[yt,jt]],[/crkey/i],[[Ct,Tn+"cast"],[Dt,Nn],[yt,jt]],[/droid.+aft(\w+)( bui|\))/i],[Ct,[Dt,qt],[yt,jt]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[Ct,[Dt,An],[yt,jt]],[/(bravia[\w ]+)( bui|\))/i],[Ct,[Dt,Xn],[yt,jt]],[/(mitv-\w{5}) bui/i],[Ct,[Dt,or],[yt,jt]],[/Hbbtv.*(technisat) (.*);/i],[Dt,Ct,[yt,jt]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[Dt,Qn],[Ct,Qn],[yt,jt]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[yt,jt]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[Dt,Ct,[yt,Ot]],[/droid.+; (shield) bui/i],[Ct,[Dt,"Nvidia"],[yt,Ot]],[/(playstation [345portablevi]+)/i],[Ct,[Dt,Xn],[yt,Ot]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[Ct,[Dt,pn],[yt,Ot]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[Ct,[Dt,ar],[yt,$t]],[/((pebble))app/i],[Dt,Ct,[yt,$t]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[Ct,[Dt,Wt],[yt,$t]],[/droid.+; (glass) \d/i],[Ct,[Dt,Nn],[yt,$t]],[/droid.+; (wt63?0{2,3})\)/i],[Ct,[Dt,tr],[yt,$t]],[/droid.+; (glass) \d/i],[Ct,[Dt,Nn],[yt,$t]],[/(pico) (4|neo3(?: link|pro)?)/i],[Dt,Ct,[yt,$t]],[/; (quest( \d| pro)?)/i],[Ct,[Dt,_r],[yt,$t]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[Dt,[yt,Yt]],[/(aeobc)\b/i],[Ct,[Dt,qt],[yt,Yt]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[Ct,[yt,Ft]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[Ct,[yt,Vt]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[yt,Vt]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[yt,Ft]],[/(android[-\w\. ]{0,9});.+buil/i],[Ct,[Dt,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[Nt,[Rt,Cn+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[Rt,Nt],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[Nt,[Rt,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[Rt,Nt],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[Nt,Rt]],os:[[/microsoft (windows) (vista|xp)/i],[Rt,Nt],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[Rt,[Nt,vr,tn]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[Nt,vr,tn],[Rt,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[Nt,/_/g,"."],[Rt,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[Rt,hr],[Nt,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[Nt,Rt],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[Rt,Nt],[/\(bb(10);/i],[Nt,[Rt,cn]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[Nt,[Rt,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[Nt,[Rt,En+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[Nt,[Rt,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[Nt,[Rt,"watchOS"]],[/crkey\/([\d\.]+)/i],[Nt,[Rt,Tn+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[Rt,kr],Nt],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[Rt,Nt],[/(sunos) ?([\w\.\d]*)/i],[[Rt,"Solaris"],Nt],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[Rt,Nt]]},dn=function(xn,er){if(typeof xn===St&&(er=xn,xn=d),!(this instanceof dn))return new dn(xn,er).getResult();var Gn=typeof a!==xt&&a.navigator?a.navigator:d,dr=xn||(Gn&&Gn.userAgent?Gn.userAgent:o),Nr=Gn&&Gn.userAgentData?Gn.userAgentData:d,Zn=er?It(Qt,er):Qt,nr=Gn&&Gn.userAgent==dr;return this.getBrowser=function(){var ir={};return ir[Rt]=d,ir[Nt]=d,Fn.call(ir,dr,Zn.browser),ir[At]=Kn(ir[Nt]),nr&&Gn&&Gn.brave&&typeof Gn.brave.isBrave==vt&&(ir[Rt]="Brave"),ir},this.getCPU=function(){var ir={};return ir[Lt]=d,Fn.call(ir,dr,Zn.cpu),ir},this.getDevice=function(){var ir={};return ir[Dt]=d,ir[Ct]=d,ir[yt]=d,Fn.call(ir,dr,Zn.device),nr&&!ir[yt]&&Nr&&Nr.mobile&&(ir[yt]=Ft),nr&&ir[Ct]=="Macintosh"&&Gn&&typeof Gn.standalone!==xt&&Gn.maxTouchPoints&&Gn.maxTouchPoints>2&&(ir[Ct]="iPad",ir[yt]=Vt),ir},this.getEngine=function(){var ir={};return ir[Rt]=d,ir[Nt]=d,Fn.call(ir,dr,Zn.engine),ir},this.getOS=function(){var ir={};return ir[Rt]=d,ir[Nt]=d,Fn.call(ir,dr,Zn.os),nr&&!ir[Rt]&&Nr&&Nr.platform&&Nr.platform!="Unknown"&&(ir[Rt]=Nr.platform.replace(/chrome os/i,kr).replace(/macos/i,hr)),ir},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return dr},this.setUA=function(ir){return dr=typeof ir===Tt&&ir.length>Kt?Qn(ir,Kt):ir,this},this.setUA(dr),this};dn.VERSION=nt,dn.BROWSER=Jn([Rt,Nt,At]),dn.CPU=Jn([Lt]),dn.DEVICE=Jn([Ct,Dt,yt,Ot,Ft,jt,Vt,$t,Yt]),dn.ENGINE=dn.OS=Jn([Rt,Nt]),c.exports&&(e=c.exports=dn),e.UAParser=dn;var In=typeof a!==xt&&(a.jQuery||a.Zepto);if(In&&!In.ua){var Hn=new dn;In.ua=Hn.getResult(),In.ua.get=function(){return Hn.getUA()},In.ua.set=function(xn){Hn.setUA(xn);var er=Hn.getResult();for(var Gn in er)In.ua[Gn]=er[Gn]}}})(typeof window=="object"?window:commonjsGlobal)})(uaParser_min,uaParser_min.exports);var uaParser_minExports=uaParser_min.exports;Object.defineProperty(lib,"__esModule",{value:!0});function _interopDefault(c){return c&&typeof c=="object"&&"default"in c?c.default:c}var React=reactExports,React__default=_interopDefault(React),UAParser=uaParser_minExports,ClientUAInstance=new UAParser,browser=ClientUAInstance.getBrowser(),cpu=ClientUAInstance.getCPU(),device=ClientUAInstance.getDevice(),engine=ClientUAInstance.getEngine(),os=ClientUAInstance.getOS(),ua=ClientUAInstance.getUA(),setUa=function(e){return ClientUAInstance.setUA(e)},parseUserAgent=function(e){if(!e){console.error("No userAgent string was provided");return}var a=new UAParser(e);return{UA:a,browser:a.getBrowser(),cpu:a.getCPU(),device:a.getDevice(),engine:a.getEngine(),os:a.getOS(),ua:a.getUA(),setUserAgent:function(nt){return a.setUA(nt)}}},UAHelper=Object.freeze({ClientUAInstance,browser,cpu,device,engine,os,ua,setUa,parseUserAgent});function ownKeys(c,e){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(c);e&&(d=d.filter(function(nt){return Object.getOwnPropertyDescriptor(c,nt).enumerable})),a.push.apply(a,d)}return a}function _objectSpread2(c){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(a),!0).forEach(function(d){_defineProperty$1(c,d,a[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(d){Object.defineProperty(c,d,Object.getOwnPropertyDescriptor(a,d))})}return c}function _typeof(c){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(e){return typeof e}:_typeof=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(c)}function _classCallCheck$1(c,e){if(!(c instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(c,e){for(var a=0;a<e.length;a++){var d=e[a];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}function _createClass$1(c,e,a){return e&&_defineProperties(c.prototype,e),a&&_defineProperties(c,a),c}function _defineProperty$1(c,e,a){return e in c?Object.defineProperty(c,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):c[e]=a,c}function _extends$1(){return _extends$1=Object.assign||function(c){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d])}return c},_extends$1.apply(this,arguments)}function _inherits(c,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),e&&_setPrototypeOf(c,e)}function _getPrototypeOf(c){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(c)}function _setPrototypeOf(c,e){return _setPrototypeOf=Object.setPrototypeOf||function(d,nt){return d.__proto__=nt,d},_setPrototypeOf(c,e)}function _objectWithoutPropertiesLoose(c,e){if(c==null)return{};var a={},d=Object.keys(c),nt,o;for(o=0;o<d.length;o++)nt=d[o],!(e.indexOf(nt)>=0)&&(a[nt]=c[nt]);return a}function _objectWithoutProperties(c,e){if(c==null)return{};var a=_objectWithoutPropertiesLoose(c,e),d,nt;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(c);for(nt=0;nt<o.length;nt++)d=o[nt],!(e.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(c,d)&&(a[d]=c[d])}return a}function _assertThisInitialized(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function _possibleConstructorReturn(c,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(c)}function _slicedToArray(c,e){return _arrayWithHoles(c)||_iterableToArrayLimit(c,e)||_unsupportedIterableToArray(c,e)||_nonIterableRest()}function _arrayWithHoles(c){if(Array.isArray(c))return c}function _iterableToArrayLimit(c,e){var a=c==null?null:typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(a!=null){var d=[],nt=!0,o=!1,ht,vt;try{for(a=a.call(c);!(nt=(ht=a.next()).done)&&(d.push(ht.value),!(e&&d.length===e));nt=!0);}catch(xt){o=!0,vt=xt}finally{try{!nt&&a.return!=null&&a.return()}finally{if(o)throw vt}}return d}}function _unsupportedIterableToArray(c,e){if(c){if(typeof c=="string")return _arrayLikeToArray(c,e);var a=Object.prototype.toString.call(c).slice(8,-1);if(a==="Object"&&c.constructor&&(a=c.constructor.name),a==="Map"||a==="Set")return Array.from(c);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(c,e)}}function _arrayLikeToArray(c,e){(e==null||e>c.length)&&(e=c.length);for(var a=0,d=new Array(e);a<e;a++)d[a]=c[a];return d}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var DeviceTypes={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},BrowserTypes={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},OsTypes={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},InitialDeviceTypes={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},checkDeviceType=function(e){switch(e){case DeviceTypes.Mobile:return{isMobile:!0};case DeviceTypes.Tablet:return{isTablet:!0};case DeviceTypes.SmartTv:return{isSmartTV:!0};case DeviceTypes.Console:return{isConsole:!0};case DeviceTypes.Wearable:return{isWearable:!0};case DeviceTypes.Browser:return{isBrowser:!0};case DeviceTypes.Embedded:return{isEmbedded:!0};default:return InitialDeviceTypes}},setUserAgent=function(e){return setUa(e)},setDefaults=function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return e||a},getNavigatorInstance=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},isIOS13Check=function(e){var a=getNavigatorInstance();return a&&a.platform&&(a.platform.indexOf(e)!==-1||a.platform==="MacIntel"&&a.maxTouchPoints>1&&!window.MSStream)},browserPayload=function(e,a,d,nt,o){return{isBrowser:e,browserMajorVersion:setDefaults(a.major),browserFullVersion:setDefaults(a.version),browserName:setDefaults(a.name),engineName:setDefaults(d.name),engineVersion:setDefaults(d.version),osName:setDefaults(nt.name),osVersion:setDefaults(nt.version),userAgent:setDefaults(o)}},mobilePayload=function(e,a,d,nt){return _objectSpread2({},e,{vendor:setDefaults(a.vendor),model:setDefaults(a.model),os:setDefaults(d.name),osVersion:setDefaults(d.version),ua:setDefaults(nt)})},smartTvPayload=function(e,a,d,nt){return{isSmartTV:e,engineName:setDefaults(a.name),engineVersion:setDefaults(a.version),osName:setDefaults(d.name),osVersion:setDefaults(d.version),userAgent:setDefaults(nt)}},consolePayload=function(e,a,d,nt){return{isConsole:e,engineName:setDefaults(a.name),engineVersion:setDefaults(a.version),osName:setDefaults(d.name),osVersion:setDefaults(d.version),userAgent:setDefaults(nt)}},wearablePayload=function(e,a,d,nt){return{isWearable:e,engineName:setDefaults(a.name),engineVersion:setDefaults(a.version),osName:setDefaults(d.name),osVersion:setDefaults(d.version),userAgent:setDefaults(nt)}},embeddedPayload=function(e,a,d,nt,o){return{isEmbedded:e,vendor:setDefaults(a.vendor),model:setDefaults(a.model),engineName:setDefaults(d.name),engineVersion:setDefaults(d.version),osName:setDefaults(nt.name),osVersion:setDefaults(nt.version),userAgent:setDefaults(o)}};function deviceDetect(c){var e=c?parseUserAgent(c):UAHelper,a=e.device,d=e.browser,nt=e.engine,o=e.os,ht=e.ua,vt=checkDeviceType(a.type),xt=vt.isBrowser,St=vt.isMobile,Tt=vt.isTablet,At=vt.isSmartTV,Ct=vt.isConsole,Rt=vt.isWearable,yt=vt.isEmbedded;if(xt)return browserPayload(xt,d,nt,o,ht);if(At)return smartTvPayload(At,nt,o,ht);if(Ct)return consolePayload(Ct,nt,o,ht);if(St||Tt)return mobilePayload(vt,a,o,ht);if(Rt)return wearablePayload(Rt,nt,o,ht);if(yt)return embeddedPayload(yt,a,nt,o,ht)}var isMobileType=function(e){var a=e.type;return a===DeviceTypes.Mobile},isTabletType=function(e){var a=e.type;return a===DeviceTypes.Tablet},isMobileAndTabletType=function(e){var a=e.type;return a===DeviceTypes.Mobile||a===DeviceTypes.Tablet},isSmartTVType=function(e){var a=e.type;return a===DeviceTypes.SmartTv},isBrowserType=function(e){var a=e.type;return a===DeviceTypes.Browser},isWearableType=function(e){var a=e.type;return a===DeviceTypes.Wearable},isConsoleType=function(e){var a=e.type;return a===DeviceTypes.Console},isEmbeddedType=function(e){var a=e.type;return a===DeviceTypes.Embedded},getMobileVendor=function(e){var a=e.vendor;return setDefaults(a)},getMobileModel=function(e){var a=e.model;return setDefaults(a)},getDeviceType=function(e){var a=e.type;return setDefaults(a,"browser")},isAndroidType=function(e){var a=e.name;return a===OsTypes.Android},isWindowsType=function(e){var a=e.name;return a===OsTypes.Windows},isMacOsType=function(e){var a=e.name;return a===OsTypes.MAC_OS},isWinPhoneType=function(e){var a=e.name;return a===OsTypes.WindowsPhone},isIOSType=function(e){var a=e.name;return a===OsTypes.IOS},getOsVersion=function(e){var a=e.version;return setDefaults(a)},getOsName=function(e){var a=e.name;return setDefaults(a)},isChromeType=function(e){var a=e.name;return a===BrowserTypes.Chrome},isFirefoxType=function(e){var a=e.name;return a===BrowserTypes.Firefox},isChromiumType=function(e){var a=e.name;return a===BrowserTypes.Chromium},isEdgeType=function(e){var a=e.name;return a===BrowserTypes.Edge},isYandexType=function(e){var a=e.name;return a===BrowserTypes.Yandex},isSafariType=function(e){var a=e.name;return a===BrowserTypes.Safari||a===BrowserTypes.MobileSafari},isMobileSafariType=function(e){var a=e.name;return a===BrowserTypes.MobileSafari},isOperaType=function(e){var a=e.name;return a===BrowserTypes.Opera},isIEType=function(e){var a=e.name;return a===BrowserTypes.InternetExplorer||a===BrowserTypes.Ie},isMIUIType=function(e){var a=e.name;return a===BrowserTypes.MIUI},isSamsungBrowserType=function(e){var a=e.name;return a===BrowserTypes.SamsungBrowser},getBrowserFullVersion=function(e){var a=e.version;return setDefaults(a)},getBrowserVersion=function(e){var a=e.major;return setDefaults(a)},getBrowserName=function(e){var a=e.name;return setDefaults(a)},getEngineName=function(e){var a=e.name;return setDefaults(a)},getEngineVersion=function(e){var a=e.version;return setDefaults(a)},isElectronType=function(){var e=getNavigatorInstance(),a=e&&e.userAgent&&e.userAgent.toLowerCase();return typeof a=="string"?/electron/.test(a):!1},isEdgeChromiumType=function(e){return typeof e=="string"&&e.indexOf("Edg/")!==-1},getIOS13=function(){var e=getNavigatorInstance();return e&&(/iPad|iPhone|iPod/.test(e.platform)||e.platform==="MacIntel"&&e.maxTouchPoints>1)&&!window.MSStream},getIPad13=function(){return isIOS13Check("iPad")},getIphone13=function(){return isIOS13Check("iPhone")},getIPod13=function(){return isIOS13Check("iPod")},getUseragent=function(e){return setDefaults(e)};function buildSelectorsObject(c){var e=c||UAHelper,a=e.device,d=e.browser,nt=e.os,o=e.engine,ht=e.ua;return{isSmartTV:isSmartTVType(a),isConsole:isConsoleType(a),isWearable:isWearableType(a),isEmbedded:isEmbeddedType(a),isMobileSafari:isMobileSafariType(d)||getIPad13(),isChromium:isChromiumType(d),isMobile:isMobileAndTabletType(a)||getIPad13(),isMobileOnly:isMobileType(a),isTablet:isTabletType(a)||getIPad13(),isBrowser:isBrowserType(a),isDesktop:isBrowserType(a),isAndroid:isAndroidType(nt),isWinPhone:isWinPhoneType(nt),isIOS:isIOSType(nt)||getIPad13(),isChrome:isChromeType(d),isFirefox:isFirefoxType(d),isSafari:isSafariType(d),isOpera:isOperaType(d),isIE:isIEType(d),osVersion:getOsVersion(nt),osName:getOsName(nt),fullBrowserVersion:getBrowserFullVersion(d),browserVersion:getBrowserVersion(d),browserName:getBrowserName(d),mobileVendor:getMobileVendor(a),mobileModel:getMobileModel(a),engineName:getEngineName(o),engineVersion:getEngineVersion(o),getUA:getUseragent(ht),isEdge:isEdgeType(d)||isEdgeChromiumType(ht),isYandex:isYandexType(d),deviceType:getDeviceType(a),isIOS13:getIOS13(),isIPad13:getIPad13(),isIPhone13:getIphone13(),isIPod13:getIPod13(),isElectron:isElectronType(),isEdgeChromium:isEdgeChromiumType(ht),isLegacyEdge:isEdgeType(d)&&!isEdgeChromiumType(ht),isWindows:isWindowsType(nt),isMacOs:isMacOsType(nt),isMIUI:isMIUIType(d),isSamsungBrowser:isSamsungBrowserType(d)}}var isSmartTV=isSmartTVType(device),isConsole=isConsoleType(device),isWearable=isWearableType(device),isEmbedded=isEmbeddedType(device),isMobileSafari=isMobileSafariType(browser)||getIPad13(),isChromium=isChromiumType(browser),isMobile=isMobileAndTabletType(device)||getIPad13(),isMobileOnly=isMobileType(device),isTablet=isTabletType(device)||getIPad13(),isBrowser=isBrowserType(device),isDesktop=isBrowserType(device),isAndroid=isAndroidType(os),isWinPhone=isWinPhoneType(os),isIOS=isIOSType(os)||getIPad13(),isChrome=isChromeType(browser),isFirefox=isFirefoxType(browser),isSafari=isSafariType(browser),isOpera=isOperaType(browser),isIE=isIEType(browser),osVersion=getOsVersion(os),osName=getOsName(os),fullBrowserVersion=getBrowserFullVersion(browser),browserVersion=getBrowserVersion(browser),browserName=getBrowserName(browser),mobileVendor=getMobileVendor(device),mobileModel=getMobileModel(device),engineName=getEngineName(engine),engineVersion=getEngineVersion(engine),getUA=getUseragent(ua),isEdge=isEdgeType(browser)||isEdgeChromiumType(ua),isYandex=isYandexType(browser),deviceType=getDeviceType(device),isIOS13=getIOS13(),isIPad13=getIPad13(),isIPhone13=getIphone13(),isIPod13=getIPod13(),isElectron=isElectronType(),isEdgeChromium=isEdgeChromiumType(ua),isLegacyEdge=isEdgeType(browser)&&!isEdgeChromiumType(ua),isWindows=isWindowsType(os),isMacOs=isMacOsType(os),isMIUI=isMIUIType(browser),isSamsungBrowser=isSamsungBrowserType(browser),getSelectorsByUserAgent=function(e){if(!e||typeof e!="string"){console.error("No valid user agent string was provided");return}var a=parseUserAgent(e),d=a.device,nt=a.browser,o=a.os,ht=a.engine,vt=a.ua;return buildSelectorsObject({device:d,browser:nt,os:o,engine:ht,ua:vt})},AndroidView=function(e){var a=e.renderWithFragment,d=e.children,nt=_objectWithoutProperties(e,["renderWithFragment","children"]);return isAndroid?a?React__default.createElement(React.Fragment,null,d):React__default.createElement("div",nt,d):null},BrowserView=function(e){var a=e.renderWithFragment,d=e.children,nt=_objectWithoutProperties(e,["renderWithFragment","children"]);return isBrowser?a?React__default.createElement(React.Fragment,null,d):React__default.createElement("div",nt,d):null},IEView=function(e){var a=e.renderWithFragment,d=e.children,nt=_objectWithoutProperties(e,["renderWithFragment","children"]);return isIE?a?React__default.createElement(React.Fragment,null,d):React__default.createElement("div",nt,d):null},IOSView=function(e){var a=e.renderWithFragment,d=e.children,nt=_objectWithoutProperties(e,["renderWithFragment","children"]);return isIOS?a?React__default.createElement(React.Fragment,null,d):React__default.createElement("div",nt,d):null},MobileView=function(e){var a=e.renderWithFragment,d=e.children,nt=_objectWithoutProperties(e,["renderWithFragment","children"]);return isMobile?a?React__default.createElement(React.Fragment,null,d):React__default.createElement("div",nt,d):null},TabletView=function(e){var a=e.renderWithFragment,d=e.children,nt=_objectWithoutProperties(e,["renderWithFragment","children"]);return isTablet?a?React__default.createElement(React.Fragment,null,d):React__default.createElement("div",nt,d):null},WinPhoneView=function(e){var a=e.renderWithFragment,d=e.children,nt=_objectWithoutProperties(e,["renderWithFragment","children"]);return isWinPhone?a?React__default.createElement(React.Fragment,null,d):React__default.createElement("div",nt,d):null},MobileOnlyView=function(e){var a=e.renderWithFragment,d=e.children;e.viewClassName,e.style;var nt=_objectWithoutProperties(e,["renderWithFragment","children","viewClassName","style"]);return isMobileOnly?a?React__default.createElement(React.Fragment,null,d):React__default.createElement("div",nt,d):null},SmartTVView=function(e){var a=e.renderWithFragment,d=e.children,nt=_objectWithoutProperties(e,["renderWithFragment","children"]);return isSmartTV?a?React__default.createElement(React.Fragment,null,d):React__default.createElement("div",nt,d):null},ConsoleView=function(e){var a=e.renderWithFragment,d=e.children,nt=_objectWithoutProperties(e,["renderWithFragment","children"]);return isConsole?a?React__default.createElement(React.Fragment,null,d):React__default.createElement("div",nt,d):null},WearableView=function(e){var a=e.renderWithFragment,d=e.children,nt=_objectWithoutProperties(e,["renderWithFragment","children"]);return isWearable?a?React__default.createElement(React.Fragment,null,d):React__default.createElement("div",nt,d):null},CustomView=function(e){var a=e.renderWithFragment,d=e.children;e.viewClassName,e.style;var nt=e.condition,o=_objectWithoutProperties(e,["renderWithFragment","children","viewClassName","style","condition"]);return nt?a?React__default.createElement(React.Fragment,null,d):React__default.createElement("div",o,d):null};function withOrientationChange(c){return function(e){_inherits(a,e);function a(d){var nt;return _classCallCheck$1(this,a),nt=_possibleConstructorReturn(this,_getPrototypeOf(a).call(this,d)),nt.isEventListenerAdded=!1,nt.handleOrientationChange=nt.handleOrientationChange.bind(_assertThisInitialized(nt)),nt.onOrientationChange=nt.onOrientationChange.bind(_assertThisInitialized(nt)),nt.onPageLoad=nt.onPageLoad.bind(_assertThisInitialized(nt)),nt.state={isLandscape:!1,isPortrait:!1},nt}return _createClass$1(a,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var nt=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:nt===0,isLandscape:nt===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return React__default.createElement(c,_extends$1({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),a}(React__default.Component)}function useMobileOrientation(){var c=React.useState(function(){var o=window.innerWidth>window.innerHeight?90:0;return{isPortrait:o===0,isLandscape:o===90,orientation:o===0?"portrait":"landscape"}}),e=_slicedToArray(c,2),a=e[0],d=e[1],nt=React.useCallback(function(){var o=window.innerWidth>window.innerHeight?90:0,ht={isPortrait:o===0,isLandscape:o===90,orientation:o===0?"portrait":"landscape"};a.orientation!==ht.orientation&&d(ht)},[a.orientation]);return React.useEffect(function(){return(typeof window>"u"?"undefined":_typeof(window))!==void 0&&isMobile&&(nt(),window.addEventListener("load",nt,!1),window.addEventListener("resize",nt,!1)),function(){window.removeEventListener("resize",nt,!1),window.removeEventListener("load",nt,!1)}},[nt]),a}function useDeviceData(c){var e=c||window.navigator.userAgent;return parseUserAgent(e)}function useDeviceSelectors(c){var e=c||window.navigator.userAgent,a=useDeviceData(e),d=buildSelectorsObject(a);return[d,a]}lib.AndroidView=AndroidView;lib.BrowserTypes=BrowserTypes;lib.BrowserView=BrowserView;lib.ConsoleView=ConsoleView;lib.CustomView=CustomView;lib.IEView=IEView;lib.IOSView=IOSView;lib.MobileOnlyView=MobileOnlyView;lib.MobileView=MobileView;lib.OsTypes=OsTypes;lib.SmartTVView=SmartTVView;lib.TabletView=TabletView;lib.WearableView=WearableView;lib.WinPhoneView=WinPhoneView;lib.browserName=browserName;lib.browserVersion=browserVersion;lib.deviceDetect=deviceDetect;lib.deviceType=deviceType;lib.engineName=engineName;lib.engineVersion=engineVersion;lib.fullBrowserVersion=fullBrowserVersion;lib.getSelectorsByUserAgent=getSelectorsByUserAgent;lib.getUA=getUA;lib.isAndroid=isAndroid;lib.isBrowser=isBrowser;lib.isChrome=isChrome;lib.isChromium=isChromium;lib.isConsole=isConsole;lib.isDesktop=isDesktop;lib.isEdge=isEdge;lib.isEdgeChromium=isEdgeChromium;lib.isElectron=isElectron;lib.isEmbedded=isEmbedded;lib.isFirefox=isFirefox;lib.isIE=isIE;lib.isIOS=isIOS;lib.isIOS13=isIOS13;lib.isIPad13=isIPad13;lib.isIPhone13=isIPhone13;lib.isIPod13=isIPod13;lib.isLegacyEdge=isLegacyEdge;lib.isMIUI=isMIUI;lib.isMacOs=isMacOs;var isMobile_1=lib.isMobile=isMobile;lib.isMobileOnly=isMobileOnly;lib.isMobileSafari=isMobileSafari;lib.isOpera=isOpera;lib.isSafari=isSafari;lib.isSamsungBrowser=isSamsungBrowser;lib.isSmartTV=isSmartTV;lib.isTablet=isTablet;lib.isWearable=isWearable;lib.isWinPhone=isWinPhone;lib.isWindows=isWindows;lib.isYandex=isYandex;lib.mobileModel=mobileModel;lib.mobileVendor=mobileVendor;lib.osName=osName;lib.osVersion=osVersion;lib.parseUserAgent=parseUserAgent;lib.setUserAgent=setUserAgent;lib.useDeviceData=useDeviceData;lib.useDeviceSelectors=useDeviceSelectors;lib.useMobileOrientation=useMobileOrientation;lib.withOrientationChange=withOrientationChange;const pages={splash:{id:"splash",camera:{lookAt:new Vector3(0,0,0),position:isMobile_1?new Vector3(30,18,0):new Vector3(15,15,0)}},initial:{id:"initial",camera:{lookAt:new Vector3(0,0,0),position:isMobile_1?new Vector3(18,16,0):new Vector3(12,8,0)}},nextParty:{id:"nextParty",camera:{lookAt:new Vector3(-3.6,0,8.5),position:new Vector3(-1.4,0,7.5)}},partyHistory:{id:"partyHistory",camera:{lookAt:new Vector3(-3,10,6),position:new Vector3(-2,10,4)}},partyDetails:{id:"partyDetails",camera:{lookAt:isMobile_1?new Vector3(3,10,5.2):new Vector3(3,10,5),position:new Vector3(3,10,3.4)}},socials:{id:"socials",camera:{lookAt:new Vector3(-1,0,10.5),position:new Vector3(-1,0,8)}}},NavBar=({currentPage:c,moveTo:e})=>{const a=c.id==="socials"||c.id==="nextParty"?"white":"black";return jsxs(Footer,{children:[jsx(NavButton,{$color:a,onClick:()=>e(pages.nextParty),children:"Next party"}),jsx(NavButton,{$color:a,onClick:()=>e(pages.socials),children:"Socials"})]})},Archive=({moveTo:c})=>jsx(ArchiveButton,{onClick:()=>c(pages.partyHistory),children:"[archive]"}),Back=({goBack:c})=>jsx(BackButton,{onClick:()=>c(),children:"<- back"}),Close=({moveTo:c})=>jsx(CloseButton,{onClick:()=>c(pages.initial),children:"close x"}),TARGET=isMobile_1?new Vector3(pages.partyDetails.camera.lookAt.x,pages.partyDetails.camera.lookAt.y+.5,pages.partyDetails.camera.lookAt.z+.5):new Vector3(pages.partyDetails.camera.lookAt.x+1,pages.partyDetails.camera.lookAt.y,pages.partyDetails.camera.lookAt.z+.5),NextPartyPoster=({currentPage:c,moveTo:e,nextParty:a})=>{const[d,nt]=reactExports.useState(!1),[o,ht]=reactExports.useState(!1),[vt,xt]=reactExports.useState(!1),[St]=reactExports.useState(TARGET),[Tt,At]=reactExports.useState(!1),Ct=reactExports.useRef(new Vector3(...pages.nextParty.camera.lookAt));reactExports.useEffect(()=>{c.id!=="partyDetails"&&Tt?(xt(!0),At(!1)):c.id==="partyDetails"&&!Tt&&ht(!0)},[c]);const Rt=reactExports.useRef(null);reactExports.useEffect(()=>{document.body.style.cursor=d?"pointer":"auto"},[d]);const yt=useLoader(TextureLoader,a.poster.asset.url);useFrame((Nt,Lt)=>{const Ot=Rt.current;if(Ot){if(Ot.rotation.y+=Lt*.5,o){const Ft=Ot.position;Ft.lerp(St,Lt*3),Ft.distanceTo(St)<.01&&(Ot.position.copy(St),ht(!1),At(!0))}if(vt){const Ft=Ot.position,Vt=Ct.current;Ft.lerp(Vt,Lt*3),Ft.distanceTo(Vt)<.01&&(Ot.position.copy(Vt),xt(!1))}}});const Dt=()=>{!vt&&Rt.current&&ht(!0),e(pages.partyDetails)};return jsxs("mesh",{ref:Rt,position:Ct.current,onPointerEnter:()=>nt(!0),onPointerLeave:()=>nt(!1),onClick:Dt,children:[jsx("planeGeometry",{args:[.8,1.2]}),jsx("meshBasicMaterial",{map:yt,side:DoubleSide})]})},Container$1=dt.div`
  height: 100svh;
  width: 100vw;
  position: absolute;
  top: 0;
  display: flex;
  position: relative;
  overflow-y: scroll;
  flex-direction: ${isMobile_1?"column":"row"};
`,Drawer=dt.div`
  height: 100%;
  flex: ${c=>c.$isOpen?5:1};
  box-sizing: border-box;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  border: 1px solid black;
  transition: all 0.3s ease-in-out;
  opacity: 0;
  cursor: pointer;
  background-color: white;

  animation: ${fadeIn} 0.5s ease-in-out forwards;
  animation-delay: ${c=>c.$delay??0}s;

  &:hover,
  &:focus,
  &:active {
    color: black;
    outline: none;
    background-color: white;
  }

  ${c=>c.$isOpen&&lt`
      &:hover,
      &:focus {
        outline: none;
      }
    `}
`,Content=dt.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding: 30px;
  overflow: hidden;
  box-sizing: border-box;
`,PartyImage=dt.img`
  animation: ${fadeIn} 0.5s ease-in-out forwards;
  width: 50%;
  max-width: 250px;
  align-self: center;
  margin-top: 64px;
  margin-bottom: 12px;
`,Description=dt.p`
  font-size: 16px;
  animation: ${fadeIn} 0.5s ease-in-out forwards;
`,DateText=dt.p`
  font-size: 14px;
  animation: ${fadeIn} 0.5s ease-in-out forwards;
  writing-mode: ${({$vertical:c})=>c?"vertical-rl":"auto"};
`,Lineup=dt.p`
  font-style: italic;
  font-size: 20px;
  animation: ${fadeIn} 0.5s ease-in-out forwards;
`;dt(Canvas)`
  animation: ${fadeIn} 0.5s ease-in-out forwards;
  max-height: 50%;
`;const TicketLink=dt.a`
  cursor: pointer;
  color: black;
  text-decoration: underline;
  font-size: 16px;
  animation: ${fadeIn} 0.5s ease-in-out forwards;
  justify-self: flex-end;
  margin: 16px 0px;
`,Wrapper$1=dt.div`
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: flex-end;
  align-items: center;
  flex-direction: ${isMobile_1?"column":"row"};
`,Container=dt.div`
  width: ${isMobile_1?"100%":"50%"};
  height: ${isMobile_1?"45%":"100%"};
  display: flex;
  justify-content: ${isMobile_1?"auto":"center"};
  flex-direction: column;
  padding: ${isMobile_1?"0px 30px":"0px"};
  box-sizing: border-box;

  & > p {
    width: ${isMobile_1?"100%":"50%"};
  }
`,PartyDetails=({party:c})=>jsx(Html,{fullscreen:!0,zIndexRange:[0,0],children:jsx(Wrapper$1,{children:jsxs(Container,{children:[jsx(DateText,{children:c.date}),jsx(Lineup,{children:c.lineup}),jsx(Description,{children:c.description}),c.ticketLink&&jsx(TicketLink,{href:c.ticketLink,target:"_blank",rel:"noreferrer",children:"Buy tickets →"})]})})}),Party=({index:c,party:e,onOpen:a,openParty:d})=>{const[nt,o]=reactExports.useState((d==null?void 0:d._id)===e._id),[ht,vt]=reactExports.useState((d==null?void 0:d._id)===e._id);return reactExports.useEffect(()=>{!d&&nt&&(vt(!1),o(!1)),d&&d._id!==e._id&&nt&&(vt(!1),o(!1))},[d]),jsxs(Drawer,{$delay:c*.1,$isOpen:nt,onClick:()=>{a(nt?null:e);const xt=!nt;return xt?setTimeout(()=>{vt(!0)},300):vt(!1),o(xt)},children:[!ht&&jsx(DateText,{$vertical:!isMobile_1,children:e.date}),ht&&jsxs(Content,{children:[jsx(PartyImage,{src:e.poster.asset.url,alt:"Party poster"}),jsx(DateText,{children:e.date}),jsx(Lineup,{children:e.lineup}),jsx(Description,{children:e.description}),e.ticketLink&&jsx(TicketLink,{onClick:xt=>xt.stopPropagation(),href:e.ticketLink,target:"_blank",rel:"noreferrer",children:"Buy tickets →"})]})]})},PartyHistoryContent=({parties:c})=>{const[e,a]=reactExports.useState(c[c.length-1]),d=nt=>{a(nt)};return jsx(Html,{fullscreen:!0,position:pages.partyHistory.camera.lookAt,zIndexRange:[10,10],children:jsx(Container$1,{children:c.map((nt,o)=>jsx(Party,{index:o,party:nt,openParty:e,onOpen:d},o))})})},PartyHistory=({doneTransitioning:c})=>{const{isLoading:e,isError:a,data:d}=useGetParties();return e?jsx(Html,{fullscreen:!0,position:pages.partyHistory.camera.lookAt,zIndexRange:[10,10],children:jsx("p",{children:"Loading..."})}):a||!d?jsx(Html,{fullscreen:!0,position:pages.partyHistory.camera.lookAt,zIndexRange:[10,10],children:jsx("p",{children:"Something went wrong!"})}):c?jsx(PartyHistoryContent,{parties:d}):null};var CONSTANTS$1={ALIGN_COUNT:8,ALIGN_AUTO:0,ALIGN_FLEX_START:1,ALIGN_CENTER:2,ALIGN_FLEX_END:3,ALIGN_STRETCH:4,ALIGN_BASELINE:5,ALIGN_SPACE_BETWEEN:6,ALIGN_SPACE_AROUND:7,DIMENSION_COUNT:2,DIMENSION_WIDTH:0,DIMENSION_HEIGHT:1,DIRECTION_COUNT:3,DIRECTION_INHERIT:0,DIRECTION_LTR:1,DIRECTION_RTL:2,DISPLAY_COUNT:2,DISPLAY_FLEX:0,DISPLAY_NONE:1,EDGE_COUNT:9,EDGE_LEFT:0,EDGE_TOP:1,EDGE_RIGHT:2,EDGE_BOTTOM:3,EDGE_START:4,EDGE_END:5,EDGE_HORIZONTAL:6,EDGE_VERTICAL:7,EDGE_ALL:8,EXPERIMENTAL_FEATURE_COUNT:1,EXPERIMENTAL_FEATURE_WEB_FLEX_BASIS:0,FLEX_DIRECTION_COUNT:4,FLEX_DIRECTION_COLUMN:0,FLEX_DIRECTION_COLUMN_REVERSE:1,FLEX_DIRECTION_ROW:2,FLEX_DIRECTION_ROW_REVERSE:3,JUSTIFY_COUNT:6,JUSTIFY_FLEX_START:0,JUSTIFY_CENTER:1,JUSTIFY_FLEX_END:2,JUSTIFY_SPACE_BETWEEN:3,JUSTIFY_SPACE_AROUND:4,JUSTIFY_SPACE_EVENLY:5,LOG_LEVEL_COUNT:6,LOG_LEVEL_ERROR:0,LOG_LEVEL_WARN:1,LOG_LEVEL_INFO:2,LOG_LEVEL_DEBUG:3,LOG_LEVEL_VERBOSE:4,LOG_LEVEL_FATAL:5,MEASURE_MODE_COUNT:3,MEASURE_MODE_UNDEFINED:0,MEASURE_MODE_EXACTLY:1,MEASURE_MODE_AT_MOST:2,NODE_TYPE_COUNT:2,NODE_TYPE_DEFAULT:0,NODE_TYPE_TEXT:1,OVERFLOW_COUNT:3,OVERFLOW_VISIBLE:0,OVERFLOW_HIDDEN:1,OVERFLOW_SCROLL:2,POSITION_TYPE_COUNT:2,POSITION_TYPE_RELATIVE:0,POSITION_TYPE_ABSOLUTE:1,PRINT_OPTIONS_COUNT:3,PRINT_OPTIONS_LAYOUT:1,PRINT_OPTIONS_STYLE:2,PRINT_OPTIONS_CHILDREN:4,UNIT_COUNT:4,UNIT_UNDEFINED:0,UNIT_POINT:1,UNIT_PERCENT:2,UNIT_AUTO:3,WRAP_COUNT:3,WRAP_NO_WRAP:0,WRAP_WRAP:1,WRAP_WRAP_REVERSE:2},YGEnums=CONSTANTS$1,_extends=Object.assign||function(c){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d])}return c},_createClass=function(){function c(e,a){for(var d=0;d<a.length;d++){var nt=a[d];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(e,nt.key,nt)}}return function(e,a,d){return a&&c(e.prototype,a),d&&c(e,d),e}}();function _defineProperty(c,e,a){return e in c?Object.defineProperty(c,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):c[e]=a,c}function _classCallCheck(c,e){if(!(c instanceof e))throw new TypeError("Cannot call a class as a function")}var CONSTANTS=YGEnums,Layout=function(){function c(e,a,d,nt,o,ht){_classCallCheck(this,c),this.left=e,this.right=a,this.top=d,this.bottom=nt,this.width=o,this.height=ht}return _createClass(c,[{key:"fromJS",value:function(a){a(this.left,this.right,this.top,this.bottom,this.width,this.height)}},{key:"toString",value:function(){return"<Layout#"+this.left+":"+this.right+";"+this.top+":"+this.bottom+";"+this.width+":"+this.height+">"}}]),c}(),Size=function(){_createClass(c,null,[{key:"fromJS",value:function(a){var d=a.width,nt=a.height;return new c(d,nt)}}]);function c(e,a){_classCallCheck(this,c),this.width=e,this.height=a}return _createClass(c,[{key:"fromJS",value:function(a){a(this.width,this.height)}},{key:"toString",value:function(){return"<Size#"+this.width+"x"+this.height+">"}}]),c}(),Value=function(){function c(e,a){_classCallCheck(this,c),this.unit=e,this.value=a}return _createClass(c,[{key:"fromJS",value:function(a){a(this.unit,this.value)}},{key:"toString",value:function(){switch(this.unit){case CONSTANTS.UNIT_POINT:return String(this.value);case CONSTANTS.UNIT_PERCENT:return this.value+"%";case CONSTANTS.UNIT_AUTO:return"auto";default:return this.value+"?"}}},{key:"valueOf",value:function(){return this.value}}]),c}(),entryCommon=function(c,e){function a(ht,vt,xt){var St=ht[vt];ht[vt]=function(){for(var Tt=arguments.length,At=Array(Tt),Ct=0;Ct<Tt;Ct++)At[Ct]=arguments[Ct];return xt.call.apply(xt,[this,St].concat(At))}}for(var d=["setPosition","setMargin","setFlexBasis","setWidth","setHeight","setMinWidth","setMinHeight","setMaxWidth","setMaxHeight","setPadding"],nt=function(){var vt,xt=d[o],St=(vt={},_defineProperty(vt,CONSTANTS.UNIT_POINT,e.Node.prototype[xt]),_defineProperty(vt,CONSTANTS.UNIT_PERCENT,e.Node.prototype[xt+"Percent"]),_defineProperty(vt,CONSTANTS.UNIT_AUTO,e.Node.prototype[xt+"Auto"]),vt);a(e.Node.prototype,xt,function(Tt){for(var At=arguments.length,Ct=Array(At>1?At-1:0),Rt=1;Rt<At;Rt++)Ct[Rt-1]=arguments[Rt];var yt=Ct.pop(),Dt=void 0,Nt=void 0;if(yt==="auto")Dt=CONSTANTS.UNIT_AUTO,Nt=void 0;else if(yt instanceof Value)Dt=yt.unit,Nt=yt.valueOf();else if(Dt=typeof yt=="string"&&yt.endsWith("%")?CONSTANTS.UNIT_PERCENT:CONSTANTS.UNIT_POINT,Nt=parseFloat(yt),!Number.isNaN(yt)&&Number.isNaN(Nt))throw new Error("Invalid value "+yt+" for "+xt);if(!St[Dt])throw new Error('Failed to execute "'+xt+`": Unsupported unit '`+yt+"'");if(Nt!==void 0){var Lt;return(Lt=St[Dt]).call.apply(Lt,[this].concat(Ct,[Nt]))}else{var Ot;return(Ot=St[Dt]).call.apply(Ot,[this].concat(Ct))}})},o=0;o<d.length;o++)nt();return a(e.Config.prototype,"free",function(){e.Config.destroy(this)}),a(e.Node,"create",function(ht,vt){return vt?e.Node.createWithConfig(vt):e.Node.createDefault()}),a(e.Node.prototype,"free",function(){e.Node.destroy(this)}),a(e.Node.prototype,"freeRecursive",function(){for(var ht=0,vt=this.getChildCount();ht<vt;++ht)this.getChild(0).freeRecursive();this.free()}),a(e.Node.prototype,"setMeasureFunc",function(ht,vt){return vt?ht.call(this,function(){return Size.fromJS(vt.apply(void 0,arguments))}):this.unsetMeasureFunc()}),a(e.Node.prototype,"calculateLayout",function(ht){var vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN,xt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN,St=arguments.length>3&&arguments[3]!==void 0?arguments[3]:CONSTANTS.DIRECTION_LTR;return ht.call(this,vt,xt,St)}),_extends({Config:e.Config,Node:e.Node,Layout:c("Layout",Layout),Size:c("Size",Size),Value:c("Value",Value),getInstanceCount:function(){return e.getInstanceCount.apply(e,arguments)}},CONSTANTS)};function commonjsRequire(c){throw new Error('Could not dynamically require "'+c+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var nbind$1={exports:{}};(function(module){(function(c,e){module.exports?module.exports=e:(c.nbind=c.nbind||{}).init=e})(commonjsGlobal,function(Module,cb){typeof Module=="function"&&(cb=Module,Module={}),Module.onRuntimeInitialized=function(c,e){return function(){c&&c.apply(this,arguments);try{Module.ccall("nbind_init")}catch(a){e(a);return}e(null,{bind:Module._nbind_value,reflect:Module.NBind.reflect,queryType:Module.NBind.queryType,toggleLightGC:Module.toggleLightGC,lib:Module})}}(Module.onRuntimeInitialized,cb);var Module;Module||(Module=(typeof Module<"u"?Module:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_WEB=!1,ENVIRONMENT_IS_WORKER=!1,ENVIRONMENT_IS_NODE=!1,ENVIRONMENT_IS_SHELL=!1;if(Module.ENVIRONMENT)if(Module.ENVIRONMENT==="WEB")ENVIRONMENT_IS_WEB=!0;else if(Module.ENVIRONMENT==="WORKER")ENVIRONMENT_IS_WORKER=!0;else if(Module.ENVIRONMENT==="NODE")ENVIRONMENT_IS_NODE=!0;else if(Module.ENVIRONMENT==="SHELL")ENVIRONMENT_IS_SHELL=!0;else throw new Error("The provided Module['ENVIRONMENT'] value is not valid. It must be one of: WEB|WORKER|NODE|SHELL.");else ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof commonjsRequire=="function"&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){Module.print||(Module.print=console.log),Module.printErr||(Module.printErr=console.warn);var nodeFS,nodePath;Module.read=function(e,a){nodeFS||(nodeFS={}("")),nodePath||(nodePath={}("")),e=nodePath.normalize(e);var d=nodeFS.readFileSync(e);return a?d:d.toString()},Module.readBinary=function(e){var a=Module.read(e,!0);return a.buffer||(a=new Uint8Array(a)),assert(a.buffer),a},Module.load=function(e){globalEval(read(e))},Module.thisProgram||(process.argv.length>1?Module.thisProgram=process.argv[1].replace(/\\/g,"/"):Module.thisProgram="unknown-program"),Module.arguments=process.argv.slice(2),module.exports=Module,process.on("uncaughtException",function(c){if(!(c instanceof ExitStatus))throw c}),Module.inspect=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL)Module.print||(Module.print=print),typeof printErr<"u"&&(Module.printErr=printErr),typeof read<"u"?Module.read=read:Module.read=function(){throw"no read() available"},Module.readBinary=function(e){if(typeof readbuffer=="function")return new Uint8Array(readbuffer(e));var a=read(e,"binary");return assert(typeof a=="object"),a},typeof scriptArgs<"u"?Module.arguments=scriptArgs:typeof arguments<"u"&&(Module.arguments=arguments),typeof quit=="function"&&(Module.quit=function(c,e){quit(c)});else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(Module.read=function(e){var a=new XMLHttpRequest;return a.open("GET",e,!1),a.send(null),a.responseText},ENVIRONMENT_IS_WORKER&&(Module.readBinary=function(e){var a=new XMLHttpRequest;return a.open("GET",e,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)}),Module.readAsync=function(e,a,d){var nt=new XMLHttpRequest;nt.open("GET",e,!0),nt.responseType="arraybuffer",nt.onload=function(){nt.status==200||nt.status==0&&nt.response?a(nt.response):d()},nt.onerror=d,nt.send(null)},typeof arguments<"u"&&(Module.arguments=arguments),typeof console<"u")Module.print||(Module.print=function(e){console.log(e)}),Module.printErr||(Module.printErr=function(e){console.warn(e)});else{var TRY_USE_DUMP=!1;Module.print||(Module.print=TRY_USE_DUMP&&typeof dump<"u"?function(c){dump(c)}:function(c){})}ENVIRONMENT_IS_WORKER&&(Module.load=importScripts),typeof Module.setWindowTitle>"u"&&(Module.setWindowTitle=function(c){document.title=c})}else throw"Unknown runtime environment. Where are we?";function globalEval(c){eval.call(null,c)}!Module.load&&Module.read&&(Module.load=function(e){globalEval(Module.read(e))}),Module.print||(Module.print=function(){}),Module.printErr||(Module.printErr=Module.print),Module.arguments||(Module.arguments=[]),Module.thisProgram||(Module.thisProgram="./this.program"),Module.quit||(Module.quit=function(c,e){throw e}),Module.print=Module.print,Module.printErr=Module.printErr,Module.preRun=[],Module.postRun=[];for(var key in moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);moduleOverrides=void 0;var Runtime={setTempRet0:function(c){return tempRet0=c,c},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(c){STACKTOP=c},getNativeTypeSize:function(c){switch(c){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:{if(c[c.length-1]==="*")return Runtime.QUANTUM_SIZE;if(c[0]==="i"){var e=parseInt(c.substr(1));return assert(e%8===0),e/8}else return 0}}},getNativeFieldSize:function(c){return Math.max(Runtime.getNativeTypeSize(c),Runtime.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(c,e){return e==="double"||e==="i64"?c&7&&(assert((c&7)===4),c+=4):assert((c&3)===0),c},getAlignSize:function(c,e,a){return!a&&(c=="i64"||c=="double")?8:c?Math.min(e||(c?Runtime.getNativeFieldSize(c):0),Runtime.QUANTUM_SIZE):Math.min(e,8)},dynCall:function(c,e,a){return a&&a.length?Module["dynCall_"+c].apply(null,[e].concat(a)):Module["dynCall_"+c].call(null,e)},functionPointers:[],addFunction:function(c){for(var e=0;e<Runtime.functionPointers.length;e++)if(!Runtime.functionPointers[e])return Runtime.functionPointers[e]=c,2*(1+e);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(c){Runtime.functionPointers[(c-2)/2]=null},warnOnce:function(c){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[c]||(Runtime.warnOnce.shown[c]=1,Module.printErr(c))},funcWrappers:{},getFuncWrapper:function(c,e){if(c){assert(e),Runtime.funcWrappers[e]||(Runtime.funcWrappers[e]={});var a=Runtime.funcWrappers[e];return a[c]||(e.length===1?a[c]=function(){return Runtime.dynCall(e,c)}:e.length===2?a[c]=function(nt){return Runtime.dynCall(e,c,[nt])}:a[c]=function(){return Runtime.dynCall(e,c,Array.prototype.slice.call(arguments))}),a[c]}},getCompilerSetting:function(c){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(c){var e=STACKTOP;return STACKTOP=STACKTOP+c|0,STACKTOP=STACKTOP+15&-16,e},staticAlloc:function(c){var e=STATICTOP;return STATICTOP=STATICTOP+c|0,STATICTOP=STATICTOP+15&-16,e},dynamicAlloc:function(c){var e=HEAP32[DYNAMICTOP_PTR>>2],a=(e+c+15|0)&-16;if(HEAP32[DYNAMICTOP_PTR>>2]=a,a>=TOTAL_MEMORY){var d=enlargeMemory();if(!d)return HEAP32[DYNAMICTOP_PTR>>2]=e,0}return e},alignMemory:function(c,e){var a=c=Math.ceil(c/(e||16))*(e||16);return a},makeBigInt:function(c,e,a){var d=a?+(c>>>0)+ +(e>>>0)*4294967296:+(c>>>0)+ +(e|0)*4294967296;return d},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module.Runtime=Runtime;var ABORT=0;function assert(c,e){c||abort("Assertion failed: "+e)}function getCFunc(ident){var func=Module["_"+ident];if(!func)try{func=eval("_"+ident)}catch(c){}return assert(func,"Cannot call unknown function "+ident+" (perhaps LLVM optimizations or closure removed it?)"),func}var cwrap,ccall;(function(){var JSfuncs={stackSave:function(){Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore()},arrayToC:function(c){var e=Runtime.stackAlloc(c.length);return writeArrayToMemory(c,e),e},stringToC:function(c){var e=0;if(c!=null&&c!==0){var a=(c.length<<2)+1;e=Runtime.stackAlloc(a),stringToUTF8(c,e,a)}return e}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};ccall=function(e,a,d,nt,o){var ht=getCFunc(e),vt=[],xt=0;if(nt)for(var St=0;St<nt.length;St++){var Tt=toC[d[St]];Tt?(xt===0&&(xt=Runtime.stackSave()),vt[St]=Tt(nt[St])):vt[St]=nt[St]}var At=ht.apply(null,vt);if(a==="string"&&(At=Pointer_stringify(At)),xt!==0){if(o&&o.async){EmterpreterAsync.asyncFinalizers.push(function(){Runtime.stackRestore(xt)});return}Runtime.stackRestore(xt)}return At};var sourceRegex=/^function\s*[a-zA-Z$_0-9]*\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/;function parseJSFunc(c){var e=c.toString().match(sourceRegex).slice(1);return{arguments:e[0],body:e[1],returnValue:e[2]}}var JSsource=null;function ensureJSsource(){if(!JSsource){JSsource={};for(var c in JSfuncs)JSfuncs.hasOwnProperty(c)&&(JSsource[c]=parseJSFunc(JSfuncs[c]))}}cwrap=function cwrap(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident),numericArgs=argTypes.every(function(c){return c==="number"}),numericRet=returnType!=="string";if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map(function(c,e){return"$"+e}),funcstr="(function("+argNames.join(",")+") {",nargs=argTypes.length;if(!numericArgs){ensureJSsource(),funcstr+="var stack = "+JSsource.stackSave.body+";";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if(type!=="number"){var convertCode=JSsource[type+"ToC"];funcstr+="var "+convertCode.arguments+" = "+arg+";",funcstr+=convertCode.body+";",funcstr+=arg+"=("+convertCode.returnValue+");"}}}var cfuncname=parseJSFunc(function(){return cfunc}).returnValue;if(funcstr+="var ret = "+cfuncname+"("+argNames.join(",")+");",!numericRet){var strgfy=parseJSFunc(function(){return Pointer_stringify}).returnValue;funcstr+="ret = "+strgfy+"(ret);"}return numericArgs||(ensureJSsource(),funcstr+=JSsource.stackRestore.body.replace("()","(stack)")+";"),funcstr+="return ret})",eval(funcstr)}})(),Module.ccall=ccall,Module.cwrap=cwrap;function setValue(c,e,a,d){switch(a=a||"i8",a.charAt(a.length-1)==="*"&&(a="i32"),a){case"i1":HEAP8[c>>0]=e;break;case"i8":HEAP8[c>>0]=e;break;case"i16":HEAP16[c>>1]=e;break;case"i32":HEAP32[c>>2]=e;break;case"i64":tempI64=[e>>>0,(tempDouble=e,+Math_abs(tempDouble)>=1?tempDouble>0?(Math_min(+Math_floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c>>2]=tempI64[0],HEAP32[c+4>>2]=tempI64[1];break;case"float":HEAPF32[c>>2]=e;break;case"double":HEAPF64[c>>3]=e;break;default:abort("invalid type for setValue: "+a)}}Module.setValue=setValue;function getValue(c,e,a){switch(e=e||"i8",e.charAt(e.length-1)==="*"&&(e="i32"),e){case"i1":return HEAP8[c>>0];case"i8":return HEAP8[c>>0];case"i16":return HEAP16[c>>1];case"i32":return HEAP32[c>>2];case"i64":return HEAP32[c>>2];case"float":return HEAPF32[c>>2];case"double":return HEAPF64[c>>3];default:abort("invalid type for setValue: "+e)}return null}Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;Module.ALLOC_NORMAL=ALLOC_NORMAL,Module.ALLOC_STACK=ALLOC_STACK,Module.ALLOC_STATIC=ALLOC_STATIC,Module.ALLOC_DYNAMIC=ALLOC_DYNAMIC,Module.ALLOC_NONE=ALLOC_NONE;function allocate(c,e,a,d){var nt,o;typeof c=="number"?(nt=!0,o=c):(nt=!1,o=c.length);var ht=typeof e=="string"?e:null,vt;if(a==ALLOC_NONE?vt=d:vt=[typeof _malloc=="function"?_malloc:Runtime.staticAlloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][a===void 0?ALLOC_STATIC:a](Math.max(o,ht?1:e.length)),nt){var d=vt,xt;for(assert((vt&3)==0),xt=vt+(o&-4);d<xt;d+=4)HEAP32[d>>2]=0;for(xt=vt+o;d<xt;)HEAP8[d++>>0]=0;return vt}if(ht==="i8")return c.subarray||c.slice?HEAPU8.set(c,vt):HEAPU8.set(new Uint8Array(c),vt),vt;for(var St=0,Tt,At,Ct;St<o;){var Rt=c[St];if(typeof Rt=="function"&&(Rt=Runtime.getFunctionIndex(Rt)),Tt=ht||e[St],Tt===0){St++;continue}Tt=="i64"&&(Tt="i32"),setValue(vt+St,Rt,Tt),Ct!==Tt&&(At=Runtime.getNativeTypeSize(Tt),Ct=Tt),St+=At}return vt}Module.allocate=allocate;function getMemory(c){return staticSealed?runtimeInitialized?_malloc(c):Runtime.dynamicAlloc(c):Runtime.staticAlloc(c)}Module.getMemory=getMemory;function Pointer_stringify(c,e){if(e===0||!c)return"";for(var a=0,d,nt=0;d=HEAPU8[c+nt>>0],a|=d,!(d==0&&!e||(nt++,e&&nt==e)););e||(e=nt);var o="";if(a<128){for(var ht=1024,vt;e>0;)vt=String.fromCharCode.apply(String,HEAPU8.subarray(c,c+Math.min(e,ht))),o=o?o+vt:vt,c+=ht,e-=ht;return o}return Module.UTF8ToString(c)}Module.Pointer_stringify=Pointer_stringify;function AsciiToString(c){for(var e="";;){var a=HEAP8[c++>>0];if(!a)return e;e+=String.fromCharCode(a)}}Module.AsciiToString=AsciiToString;function stringToAscii(c,e){return writeAsciiToMemory(c,e,!1)}Module.stringToAscii=stringToAscii;var UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function UTF8ArrayToString(c,e){for(var a=e;c[a];)++a;if(a-e>16&&c.subarray&&UTF8Decoder)return UTF8Decoder.decode(c.subarray(e,a));for(var d,nt,o,ht,vt,xt,St="";;){if(d=c[e++],!d)return St;if(!(d&128)){St+=String.fromCharCode(d);continue}if(nt=c[e++]&63,(d&224)==192){St+=String.fromCharCode((d&31)<<6|nt);continue}if(o=c[e++]&63,(d&240)==224?d=(d&15)<<12|nt<<6|o:(ht=c[e++]&63,(d&248)==240?d=(d&7)<<18|nt<<12|o<<6|ht:(vt=c[e++]&63,(d&252)==248?d=(d&3)<<24|nt<<18|o<<12|ht<<6|vt:(xt=c[e++]&63,d=(d&1)<<30|nt<<24|o<<18|ht<<12|vt<<6|xt))),d<65536)St+=String.fromCharCode(d);else{var Tt=d-65536;St+=String.fromCharCode(55296|Tt>>10,56320|Tt&1023)}}}Module.UTF8ArrayToString=UTF8ArrayToString;function UTF8ToString(c){return UTF8ArrayToString(HEAPU8,c)}Module.UTF8ToString=UTF8ToString;function stringToUTF8Array(c,e,a,d){if(!(d>0))return 0;for(var nt=a,o=a+d-1,ht=0;ht<c.length;++ht){var vt=c.charCodeAt(ht);if(vt>=55296&&vt<=57343&&(vt=65536+((vt&1023)<<10)|c.charCodeAt(++ht)&1023),vt<=127){if(a>=o)break;e[a++]=vt}else if(vt<=2047){if(a+1>=o)break;e[a++]=192|vt>>6,e[a++]=128|vt&63}else if(vt<=65535){if(a+2>=o)break;e[a++]=224|vt>>12,e[a++]=128|vt>>6&63,e[a++]=128|vt&63}else if(vt<=2097151){if(a+3>=o)break;e[a++]=240|vt>>18,e[a++]=128|vt>>12&63,e[a++]=128|vt>>6&63,e[a++]=128|vt&63}else if(vt<=67108863){if(a+4>=o)break;e[a++]=248|vt>>24,e[a++]=128|vt>>18&63,e[a++]=128|vt>>12&63,e[a++]=128|vt>>6&63,e[a++]=128|vt&63}else{if(a+5>=o)break;e[a++]=252|vt>>30,e[a++]=128|vt>>24&63,e[a++]=128|vt>>18&63,e[a++]=128|vt>>12&63,e[a++]=128|vt>>6&63,e[a++]=128|vt&63}}return e[a]=0,a-nt}Module.stringToUTF8Array=stringToUTF8Array;function stringToUTF8(c,e,a){return stringToUTF8Array(c,HEAPU8,e,a)}Module.stringToUTF8=stringToUTF8;function lengthBytesUTF8(c){for(var e=0,a=0;a<c.length;++a){var d=c.charCodeAt(a);d>=55296&&d<=57343&&(d=65536+((d&1023)<<10)|c.charCodeAt(++a)&1023),d<=127?++e:d<=2047?e+=2:d<=65535?e+=3:d<=2097151?e+=4:d<=67108863?e+=5:e+=6}return e}Module.lengthBytesUTF8=lengthBytesUTF8,typeof TextDecoder<"u"&&new TextDecoder("utf-16le");function demangle(c){var e=Module.___cxa_demangle||Module.__cxa_demangle;if(e){try{var a=c.substr(1),d=lengthBytesUTF8(a)+1,nt=_malloc(d);stringToUTF8(a,nt,d);var o=_malloc(4),ht=e(nt,0,0,o);if(getValue(o,"i32")===0&&ht)return Pointer_stringify(ht)}catch{}finally{nt&&_free(nt),o&&_free(o),ht&&_free(ht)}return c}return Runtime.warnOnce("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),c}function demangleAll(c){var e=/__Z[\w\d_]+/g;return c.replace(e,function(a){var d=demangle(a);return a===d?a:a+" ["+d+"]"})}function jsStackTrace(){var c=new Error;if(!c.stack){try{throw new Error(0)}catch(e){c=e}if(!c.stack)return"(no stack trace available)"}return c.stack.toString()}function stackTrace(){var c=jsStackTrace();return Module.extraStackTrace&&(c+=`
`+Module.extraStackTrace()),demangleAll(c)}Module.stackTrace=stackTrace;var HEAP,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferViews(){Module.HEAP8=HEAP8=new Int8Array(buffer),Module.HEAP16=HEAP16=new Int16Array(buffer),Module.HEAP32=HEAP32=new Int32Array(buffer),Module.HEAPU8=HEAPU8=new Uint8Array(buffer),Module.HEAPU16=HEAPU16=new Uint16Array(buffer),Module.HEAPU32=HEAPU32=new Uint32Array(buffer),Module.HEAPF32=HEAPF32=new Float32Array(buffer),Module.HEAPF64=HEAPF64=new Float64Array(buffer)}var STATIC_BASE,STATICTOP,staticSealed,STACK_BASE,STACKTOP,STACK_MAX,DYNAMIC_BASE,DYNAMICTOP_PTR;STATIC_BASE=STATICTOP=STACK_BASE=STACKTOP=STACK_MAX=DYNAMIC_BASE=DYNAMICTOP_PTR=0,staticSealed=!1;function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+TOTAL_MEMORY+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or (4) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function enlargeMemory(){abortOnCannotGrowMemory()}var TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||268435456;TOTAL_MEMORY<TOTAL_STACK&&Module.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+TOTAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")"),Module.buffer?buffer=Module.buffer:buffer=new ArrayBuffer(TOTAL_MEMORY),updateGlobalBufferViews();function getTotalMemory(){return TOTAL_MEMORY}if(HEAP32[0]=1668509029,HEAP16[1]=25459,HEAPU8[2]!==115||HEAPU8[3]!==99)throw"Runtime error: expected the system to be little-endian!";Module.HEAP=HEAP,Module.buffer=buffer,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;function callRuntimeCallbacks(c){for(;c.length>0;){var e=c.shift();if(typeof e=="function"){e();continue}var a=e.func;typeof a=="number"?e.arg===void 0?Module.dynCall_v(a):Module.dynCall_vi(a,e.arg):a(e.arg===void 0?null:e.arg)}}var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1;function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__)}function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(c){__ATPRERUN__.unshift(c)}Module.addOnPreRun=addOnPreRun;function addOnInit(c){__ATINIT__.unshift(c)}Module.addOnInit=addOnInit;function addOnPreMain(c){__ATMAIN__.unshift(c)}Module.addOnPreMain=addOnPreMain;function addOnExit(c){__ATEXIT__.unshift(c)}Module.addOnExit=addOnExit;function addOnPostRun(c){__ATPOSTRUN__.unshift(c)}Module.addOnPostRun=addOnPostRun;function intArrayFromString(c,e,a){var d=a>0?a:lengthBytesUTF8(c)+1,nt=new Array(d),o=stringToUTF8Array(c,nt,0,nt.length);return e&&(nt.length=o),nt}Module.intArrayFromString=intArrayFromString;function intArrayToString(c){for(var e=[],a=0;a<c.length;a++){var d=c[a];d>255&&(d&=255),e.push(String.fromCharCode(d))}return e.join("")}Module.intArrayToString=intArrayToString;function writeStringToMemory(c,e,a){Runtime.warnOnce("writeStringToMemory is deprecated and should not be called! Use stringToUTF8() instead!");var d,nt;a&&(nt=e+lengthBytesUTF8(c),d=HEAP8[nt]),stringToUTF8(c,e,1/0),a&&(HEAP8[nt]=d)}Module.writeStringToMemory=writeStringToMemory;function writeArrayToMemory(c,e){HEAP8.set(c,e)}Module.writeArrayToMemory=writeArrayToMemory;function writeAsciiToMemory(c,e,a){for(var d=0;d<c.length;++d)HEAP8[e++>>0]=c.charCodeAt(d);a||(HEAP8[e>>0]=0)}if(Module.writeAsciiToMemory=writeAsciiToMemory,(!Math.imul||Math.imul(4294967295,5)!==-5)&&(Math.imul=function c(e,a){var d=e>>>16,nt=e&65535,o=a>>>16,ht=a&65535;return nt*ht+(d*ht+nt*o<<16)|0}),Math.imul=Math.imul,!Math.fround){var froundBuffer=new Float32Array(1);Math.fround=function(c){return froundBuffer[0]=c,froundBuffer[0]}}Math.fround=Math.fround,Math.clz32||(Math.clz32=function(c){c=c>>>0;for(var e=0;e<32;e++)if(c&1<<31-e)return e;return 32}),Math.clz32=Math.clz32,Math.trunc||(Math.trunc=function(c){return c<0?Math.ceil(c):Math.floor(c)}),Math.trunc=Math.trunc;var Math_abs=Math.abs,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_min=Math.min,runDependencies=0,dependenciesFulfilled=null;function getUniqueRunDependency(c){return c}function addRunDependency(c){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}Module.addRunDependency=addRunDependency;function removeRunDependency(c){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&dependenciesFulfilled){var e=dependenciesFulfilled;dependenciesFulfilled=null,e()}}Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={};var ASM_CONSTS=[function(c,e,a,d,nt,o,ht,vt){return _nbind.callbackSignatureList[c].apply(this,arguments)}];function _emscripten_asm_const_iiiiiiii(c,e,a,d,nt,o,ht,vt){return ASM_CONSTS[c](e,a,d,nt,o,ht,vt)}function _emscripten_asm_const_iiiii(c,e,a,d,nt){return ASM_CONSTS[c](e,a,d,nt)}function _emscripten_asm_const_iiidddddd(c,e,a,d,nt,o,ht,vt,xt){return ASM_CONSTS[c](e,a,d,nt,o,ht,vt,xt)}function _emscripten_asm_const_iiididi(c,e,a,d,nt,o,ht){return ASM_CONSTS[c](e,a,d,nt,o,ht)}function _emscripten_asm_const_iiii(c,e,a,d){return ASM_CONSTS[c](e,a,d)}function _emscripten_asm_const_iiiid(c,e,a,d,nt){return ASM_CONSTS[c](e,a,d,nt)}function _emscripten_asm_const_iiiiii(c,e,a,d,nt,o){return ASM_CONSTS[c](e,a,d,nt,o)}STATIC_BASE=Runtime.GLOBAL_BASE,STATICTOP=STATIC_BASE+12800,__ATINIT__.push({func:function(){__GLOBAL__sub_I_Yoga_cpp()}},{func:function(){__GLOBAL__sub_I_nbind_cc()}},{func:function(){__GLOBAL__sub_I_common_cc()}},{func:function(){__GLOBAL__sub_I_Binding_cc()}}),allocate([0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,192,127,0,0,192,127,0,0,192,127,3,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,3,0,0,0,0,0,192,127,3,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,192,127,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,0,0,0,0,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,192,127,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,0,0,128,191,0,0,128,191,0,0,192,127,0,0,0,0,0,0,0,0,0,0,128,63,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,3,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,190,12,0,0,200,12,0,0,208,12,0,0,216,12,0,0,230,12,0,0,242,12,0,0,1,0,0,0,3,0,0,0,0,0,0,0,2,0,0,0,0,0,192,127,3,0,0,0,180,45,0,0,181,45,0,0,182,45,0,0,181,45,0,0,182,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,1,0,0,0,4,0,0,0,183,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,184,45,0,0,185,45,0,0,181,45,0,0,181,45,0,0,182,45,0,0,186,45,0,0,185,45,0,0,148,4,0,0,3,0,0,0,187,45,0,0,164,4,0,0,188,45,0,0,2,0,0,0,189,45,0,0,164,4,0,0,188,45,0,0,185,45,0,0,164,4,0,0,185,45,0,0,164,4,0,0,188,45,0,0,181,45,0,0,182,45,0,0,181,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,5,0,0,0,6,0,0,0,1,0,0,0,7,0,0,0,183,45,0,0,182,45,0,0,181,45,0,0,190,45,0,0,190,45,0,0,182,45,0,0,182,45,0,0,185,45,0,0,181,45,0,0,185,45,0,0,182,45,0,0,181,45,0,0,185,45,0,0,182,45,0,0,185,45,0,0,48,5,0,0,3,0,0,0,56,5,0,0,1,0,0,0,189,45,0,0,185,45,0,0,164,4,0,0,76,5,0,0,2,0,0,0,191,45,0,0,186,45,0,0,182,45,0,0,185,45,0,0,192,45,0,0,185,45,0,0,182,45,0,0,186,45,0,0,185,45,0,0,76,5,0,0,76,5,0,0,136,5,0,0,182,45,0,0,181,45,0,0,2,0,0,0,190,45,0,0,136,5,0,0,56,19,0,0,156,5,0,0,2,0,0,0,184,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,8,0,0,0,9,0,0,0,1,0,0,0,10,0,0,0,204,5,0,0,181,45,0,0,181,45,0,0,2,0,0,0,180,45,0,0,204,5,0,0,2,0,0,0,195,45,0,0,236,5,0,0,97,19,0,0,198,45,0,0,211,45,0,0,212,45,0,0,213,45,0,0,214,45,0,0,215,45,0,0,188,45,0,0,182,45,0,0,216,45,0,0,217,45,0,0,218,45,0,0,219,45,0,0,192,45,0,0,181,45,0,0,0,0,0,0,185,45,0,0,110,19,0,0,186,45,0,0,115,19,0,0,221,45,0,0,120,19,0,0,148,4,0,0,132,19,0,0,96,6,0,0,145,19,0,0,222,45,0,0,164,19,0,0,223,45,0,0,173,19,0,0,0,0,0,0,3,0,0,0,104,6,0,0,1,0,0,0,187,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,12,0,0,0,1,0,0,0,13,0,0,0,185,45,0,0,224,45,0,0,164,6,0,0,188,45,0,0,172,6,0,0,180,6,0,0,2,0,0,0,188,6,0,0,7,0,0,0,224,45,0,0,7,0,0,0,164,6,0,0,1,0,0,0,213,45,0,0,185,45,0,0,224,45,0,0,172,6,0,0,185,45,0,0,224,45,0,0,164,6,0,0,185,45,0,0,224,45,0,0,211,45,0,0,211,45,0,0,222,45,0,0,211,45,0,0,224,45,0,0,222,45,0,0,211,45,0,0,224,45,0,0,172,6,0,0,222,45,0,0,211,45,0,0,224,45,0,0,188,45,0,0,222,45,0,0,211,45,0,0,40,7,0,0,188,45,0,0,2,0,0,0,224,45,0,0,185,45,0,0,188,45,0,0,188,45,0,0,188,45,0,0,188,45,0,0,222,45,0,0,224,45,0,0,148,4,0,0,185,45,0,0,148,4,0,0,148,4,0,0,148,4,0,0,148,4,0,0,148,4,0,0,185,45,0,0,164,6,0,0,148,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,14,0,0,0,15,0,0,0,1,0,0,0,16,0,0,0,148,7,0,0,2,0,0,0,225,45,0,0,183,45,0,0,188,45,0,0,168,7,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,234,45,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,148,45,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,9,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,242,45,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,67,111,117,108,100,32,110,111,116,32,97,108,108,111,99,97,116,101,32,109,101,109,111,114,121,32,102,111,114,32,110,111,100,101,0,67,97,110,110,111,116,32,114,101,115,101,116,32,97,32,110,111,100,101,32,119,104,105,99,104,32,115,116,105,108,108,32,104,97,115,32,99,104,105,108,100,114,101,110,32,97,116,116,97,99,104,101,100,0,67,97,110,110,111,116,32,114,101,115,101,116,32,97,32,110,111,100,101,32,115,116,105,108,108,32,97,116,116,97,99,104,101,100,32,116,111,32,97,32,112,97,114,101,110,116,0,67,111,117,108,100,32,110,111,116,32,97,108,108,111,99,97,116,101,32,109,101,109,111,114,121,32,102,111,114,32,99,111,110,102,105,103,0,67,97,110,110,111,116,32,115,101,116,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,58,32,78,111,100,101,115,32,119,105,116,104,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,115,32,99,97,110,110,111,116,32,104,97,118,101,32,99,104,105,108,100,114,101,110,46,0,67,104,105,108,100,32,97,108,114,101,97,100,121,32,104,97,115,32,97,32,112,97,114,101,110,116,44,32,105,116,32,109,117,115,116,32,98,101,32,114,101,109,111,118,101,100,32,102,105,114,115,116,46,0,67,97,110,110,111,116,32,97,100,100,32,99,104,105,108,100,58,32,78,111,100,101,115,32,119,105,116,104,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,115,32,99,97,110,110,111,116,32,104,97,118,101,32,99,104,105,108,100,114,101,110,46,0,79,110,108,121,32,108,101,97,102,32,110,111,100,101,115,32,119,105,116,104,32,99,117,115,116,111,109,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,115,115,104,111,117,108,100,32,109,97,110,117,97,108,108,121,32,109,97,114,107,32,116,104,101,109,115,101,108,118,101,115,32,97,115,32,100,105,114,116,121,0,67,97,110,110,111,116,32,103,101,116,32,108,97,121,111,117,116,32,112,114,111,112,101,114,116,105,101,115,32,111,102,32,109,117,108,116,105,45,101,100,103,101,32,115,104,111,114,116,104,97,110,100,115,0,37,115,37,100,46,123,91,115,107,105,112,112,101,100,93,32,0,119,109,58,32,37,115,44,32,104,109,58,32,37,115,44,32,97,119,58,32,37,102,32,97,104,58,32,37,102,32,61,62,32,100,58,32,40,37,102,44,32,37,102,41,32,37,115,10,0,37,115,37,100,46,123,37,115,0,42,0,119,109,58,32,37,115,44,32,104,109,58,32,37,115,44,32,97,119,58,32,37,102,32,97,104,58,32,37,102,32,37,115,10,0,37,115,37,100,46,125,37,115,0,119,109,58,32,37,115,44,32,104,109,58,32,37,115,44,32,100,58,32,40,37,102,44,32,37,102,41,32,37,115,10,0,79,117,116,32,111,102,32,99,97,99,104,101,32,101,110,116,114,105,101,115,33,10,0,83,99,97,108,101,32,102,97,99,116,111,114,32,115,104,111,117,108,100,32,110,111,116,32,98,101,32,108,101,115,115,32,116,104,97,110,32,122,101,114,111,0,105,110,105,116,105,97,108,0,37,115,10,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,85,78,68,69,70,73,78,69,68,0,69,88,65,67,84,76,89,0,65,84,95,77,79,83,84,0,76,65,89,95,85,78,68,69,70,73,78,69,68,0,76,65,89,95,69,88,65,67,84,76,89,0,76,65,89,95,65,84,95,77,79,83,84,0,97,118,97,105,108,97,98,108,101,87,105,100,116,104,32,105,115,32,105,110,100,101,102,105,110,105,116,101,32,115,111,32,119,105,100,116,104,77,101,97,115,117,114,101,77,111,100,101,32,109,117,115,116,32,98,101,32,89,71,77,101,97,115,117,114,101,77,111,100,101,85,110,100,101,102,105,110,101,100,0,97,118,97,105,108,97,98,108,101,72,101,105,103,104,116,32,105,115,32,105,110,100,101,102,105,110,105,116,101,32,115,111,32,104,101,105,103,104,116,77,101,97,115,117,114,101,77,111,100,101,32,109,117,115,116,32,98,101,32,89,71,77,101,97,115,117,114,101,77,111,100,101,85,110,100,101,102,105,110,101,100,0,102,108,101,120,0,115,116,114,101,116,99,104,0,109,117,108,116,105,108,105,110,101,45,115,116,114,101,116,99,104,0,69,120,112,101,99,116,101,100,32,110,111,100,101,32,116,111,32,104,97,118,101,32,99,117,115,116,111,109,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,0,109,101,97,115,117,114,101,0,69,120,112,101,99,116,32,99,117,115,116,111,109,32,98,97,115,101,108,105,110,101,32,102,117,110,99,116,105,111,110,32,116,111,32,110,111,116,32,114,101,116,117,114,110,32,78,97,78,0,97,98,115,45,109,101,97,115,117,114,101,0,97,98,115,45,108,97,121,111,117,116,0,78,111,100,101,0,99,114,101,97,116,101,68,101,102,97,117,108,116,0,99,114,101,97,116,101,87,105,116,104,67,111,110,102,105,103,0,100,101,115,116,114,111,121,0,114,101,115,101,116,0,99,111,112,121,83,116,121,108,101,0,115,101,116,80,111,115,105,116,105,111,110,84,121,112,101,0,115,101,116,80,111,115,105,116,105,111,110,0,115,101,116,80,111,115,105,116,105,111,110,80,101,114,99,101,110,116,0,115,101,116,65,108,105,103,110,67,111,110,116,101,110,116,0,115,101,116,65,108,105,103,110,73,116,101,109,115,0,115,101,116,65,108,105,103,110,83,101,108,102,0,115,101,116,70,108,101,120,68,105,114,101,99,116,105,111,110,0,115,101,116,70,108,101,120,87,114,97,112,0,115,101,116,74,117,115,116,105,102,121,67,111,110,116,101,110,116,0,115,101,116,77,97,114,103,105,110,0,115,101,116,77,97,114,103,105,110,80,101,114,99,101,110,116,0,115,101,116,77,97,114,103,105,110,65,117,116,111,0,115,101,116,79,118,101,114,102,108,111,119,0,115,101,116,68,105,115,112,108,97,121,0,115,101,116,70,108,101,120,0,115,101,116,70,108,101,120,66,97,115,105,115,0,115,101,116,70,108,101,120,66,97,115,105,115,80,101,114,99,101,110,116,0,115,101,116,70,108,101,120,71,114,111,119,0,115,101,116,70,108,101,120,83,104,114,105,110,107,0,115,101,116,87,105,100,116,104,0,115,101,116,87,105,100,116,104,80,101,114,99,101,110,116,0,115,101,116,87,105,100,116,104,65,117,116,111,0,115,101,116,72,101,105,103,104,116,0,115,101,116,72,101,105,103,104,116,80,101,114,99,101,110,116,0,115,101,116,72,101,105,103,104,116,65,117,116,111,0,115,101,116,77,105,110,87,105,100,116,104,0,115,101,116,77,105,110,87,105,100,116,104,80,101,114,99,101,110,116,0,115,101,116,77,105,110,72,101,105,103,104,116,0,115,101,116,77,105,110,72,101,105,103,104,116,80,101,114,99,101,110,116,0,115,101,116,77,97,120,87,105,100,116,104,0,115,101,116,77,97,120,87,105,100,116,104,80,101,114,99,101,110,116,0,115,101,116,77,97,120,72,101,105,103,104,116,0,115,101,116,77,97,120,72,101,105,103,104,116,80,101,114,99,101,110,116,0,115,101,116,65,115,112,101,99,116,82,97,116,105,111,0,115,101,116,66,111,114,100,101,114,0,115,101,116,80,97,100,100,105,110,103,0,115,101,116,80,97,100,100,105,110,103,80,101,114,99,101,110,116,0,103,101,116,80,111,115,105,116,105,111,110,84,121,112,101,0,103,101,116,80,111,115,105,116,105,111,110,0,103,101,116,65,108,105,103,110,67,111,110,116,101,110,116,0,103,101,116,65,108,105,103,110,73,116,101,109,115,0,103,101,116,65,108,105,103,110,83,101,108,102,0,103,101,116,70,108,101,120,68,105,114,101,99,116,105,111,110,0,103,101,116,70,108,101,120,87,114,97,112,0,103,101,116,74,117,115,116,105,102,121,67,111,110,116,101,110,116,0,103,101,116,77,97,114,103,105,110,0,103,101,116,70,108,101,120,66,97,115,105,115,0,103,101,116,70,108,101,120,71,114,111,119,0,103,101,116,70,108,101,120,83,104,114,105,110,107,0,103,101,116,87,105,100,116,104,0,103,101,116,72,101,105,103,104,116,0,103,101,116,77,105,110,87,105,100,116,104,0,103,101,116,77,105,110,72,101,105,103,104,116,0,103,101,116,77,97,120,87,105,100,116,104,0,103,101,116,77,97,120,72,101,105,103,104,116,0,103,101,116,65,115,112,101,99,116,82,97,116,105,111,0,103,101,116,66,111,114,100,101,114,0,103,101,116,79,118,101,114,102,108,111,119,0,103,101,116,68,105,115,112,108,97,121,0,103,101,116,80,97,100,100,105,110,103,0,105,110,115,101,114,116,67,104,105,108,100,0,114,101,109,111,118,101,67,104,105,108,100,0,103,101,116,67,104,105,108,100,67,111,117,110,116,0,103,101,116,80,97,114,101,110,116,0,103,101,116,67,104,105,108,100,0,115,101,116,77,101,97,115,117,114,101,70,117,110,99,0,117,110,115,101,116,77,101,97,115,117,114,101,70,117,110,99,0,109,97,114,107,68,105,114,116,121,0,105,115,68,105,114,116,121,0,99,97,108,99,117,108,97,116,101,76,97,121,111,117,116,0,103,101,116,67,111,109,112,117,116,101,100,76,101,102,116,0,103,101,116,67,111,109,112,117,116,101,100,82,105,103,104,116,0,103,101,116,67,111,109,112,117,116,101,100,84,111,112,0,103,101,116,67,111,109,112,117,116,101,100,66,111,116,116,111,109,0,103,101,116,67,111,109,112,117,116,101,100,87,105,100,116,104,0,103,101,116,67,111,109,112,117,116,101,100,72,101,105,103,104,116,0,103,101,116,67,111,109,112,117,116,101,100,76,97,121,111,117,116,0,103,101,116,67,111,109,112,117,116,101,100,77,97,114,103,105,110,0,103,101,116,67,111,109,112,117,116,101,100,66,111,114,100,101,114,0,103,101,116,67,111,109,112,117,116,101,100,80,97,100,100,105,110,103,0,67,111,110,102,105,103,0,99,114,101,97,116,101,0,115,101,116,69,120,112,101,114,105,109,101,110,116,97,108,70,101,97,116,117,114,101,69,110,97,98,108,101,100,0,115,101,116,80,111,105,110,116,83,99,97,108,101,70,97,99,116,111,114,0,105,115,69,120,112,101,114,105,109,101,110,116,97,108,70,101,97,116,117,114,101,69,110,97,98,108,101,100,0,86,97,108,117,101,0,76,97,121,111,117,116,0,83,105,122,101,0,103,101,116,73,110,115,116,97,110,99,101,67,111,117,110,116,0,73,110,116,54,52,0,1,1,1,2,2,4,4,4,4,8,8,4,8,118,111,105,100,0,98,111,111,108,0,115,116,100,58,58,115,116,114,105,110,103,0,99,98,70,117,110,99,116,105,111,110,32,38,0,99,111,110,115,116,32,99,98,70,117,110,99,116,105,111,110,32,38,0,69,120,116,101,114,110,97,108,0,66,117,102,102,101,114,0,78,66,105,110,100,73,68,0,78,66,105,110,100,0,98,105,110,100,95,118,97,108,117,101,0,114,101,102,108,101,99,116,0,113,117,101,114,121,84,121,112,101,0,108,97,108,108,111,99,0,108,114,101,115,101,116,0,123,114,101,116,117,114,110,40,95,110,98,105,110,100,46,99,97,108,108,98,97,99,107,83,105,103,110,97,116,117,114,101,76,105,115,116,91,36,48,93,46,97,112,112,108,121,40,116,104,105,115,44,97,114,103,117,109,101,110,116,115,41,41,59,125,0,95,110,98,105,110,100,95,110,101,119,0,17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,45,43,32,32,32,48,88,48,120,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,110,97,110,0,78,65,78,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,46,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116,32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE);var tempDoublePtr=STATICTOP;STATICTOP+=16;function _atexit(c,e){__ATEXIT__.unshift({func:c,arg:e})}function ___cxa_atexit(){return _atexit.apply(null,arguments)}function _abort(){Module.abort()}function __ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj(){Module.printErr("missing function: _ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj"),abort(-1)}function __decorate(c,e,a,d){var nt=arguments.length,o=nt<3?e:d===null?d=Object.getOwnPropertyDescriptor(e,a):d,ht;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(c,e,a,d);else for(var vt=c.length-1;vt>=0;vt--)(ht=c[vt])&&(o=(nt<3?ht(o):nt>3?ht(e,a,o):ht(e,a))||o);return nt>3&&o&&Object.defineProperty(e,a,o),o}function _defineHidden(c){return function(e,a){Object.defineProperty(e,a,{configurable:!1,enumerable:!1,value:c,writable:!0})}}var _nbind={};function __nbind_free_external(c){_nbind.externalList[c].dereference(c)}function __nbind_reference_external(c){_nbind.externalList[c].reference()}function _llvm_stackrestore(c){var e=_llvm_stacksave,a=e.LLVM_SAVEDSTACKS[c];e.LLVM_SAVEDSTACKS.splice(c,1),Runtime.stackRestore(a)}function __nbind_register_pool(c,e,a,d){_nbind.Pool.pageSize=c,_nbind.Pool.usedPtr=e/4,_nbind.Pool.rootPtr=a,_nbind.Pool.pagePtr=d/4,HEAP32[e/4]=16909060,HEAP8[e]==1&&(_nbind.bigEndian=!0),HEAP32[e/4]=0,_nbind.makeTypeKindTbl=(o={},o[1024]=_nbind.PrimitiveType,o[64]=_nbind.Int64Type,o[2048]=_nbind.BindClass,o[3072]=_nbind.BindClassPtr,o[4096]=_nbind.SharedClassPtr,o[5120]=_nbind.ArrayType,o[6144]=_nbind.ArrayType,o[7168]=_nbind.CStringType,o[9216]=_nbind.CallbackType,o[10240]=_nbind.BindType,o),_nbind.makeTypeNameTbl={Buffer:_nbind.BufferType,External:_nbind.ExternalType,Int64:_nbind.Int64Type,_nbind_new:_nbind.CreateValueType,bool:_nbind.BooleanType,"cbFunction &":_nbind.CallbackType,"const cbFunction &":_nbind.CallbackType,"const std::string &":_nbind.StringType,"std::string":_nbind.StringType},Module.toggleLightGC=_nbind.toggleLightGC,_nbind.callUpcast=Module.dynCall_ii;var nt=_nbind.makeType(_nbind.constructType,{flags:2048,id:0,name:""});nt.proto=Module,_nbind.BindClass.list.push(nt);var o}function _emscripten_set_main_loop_timing(c,e){if(Browser.mainLoop.timingMode=c,Browser.mainLoop.timingValue=e,!Browser.mainLoop.func)return 1;if(c==0)Browser.mainLoop.scheduler=function(){var o=Math.max(0,Browser.mainLoop.tickStartTime+e-_emscripten_get_now())|0;setTimeout(Browser.mainLoop.runner,o)},Browser.mainLoop.method="timeout";else if(c==1)Browser.mainLoop.scheduler=function(){Browser.requestAnimationFrame(Browser.mainLoop.runner)},Browser.mainLoop.method="rAF";else if(c==2){if(!window.setImmediate){let nt=function(o){o.source===window&&o.data===d&&(o.stopPropagation(),a.shift()())};var a=[],d="setimmediate";window.addEventListener("message",nt,!0),window.setImmediate=function(ht){a.push(ht),ENVIRONMENT_IS_WORKER?(Module.setImmediates===void 0&&(Module.setImmediates=[]),Module.setImmediates.push(ht),window.postMessage({target:d})):window.postMessage(d,"*")}}Browser.mainLoop.scheduler=function(){window.setImmediate(Browser.mainLoop.runner)},Browser.mainLoop.method="immediate"}return 0}function _emscripten_get_now(){abort()}function _emscripten_set_main_loop(c,e,a,d,nt){Module.noExitRuntime=!0,assert(!Browser.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),Browser.mainLoop.func=c,Browser.mainLoop.arg=d;var o;typeof d<"u"?o=function(){Module.dynCall_vi(c,d)}:o=function(){Module.dynCall_v(c)};var ht=Browser.mainLoop.currentlyRunningMainloop;if(Browser.mainLoop.runner=function(){if(!ABORT){if(Browser.mainLoop.queue.length>0){var xt=Date.now(),St=Browser.mainLoop.queue.shift();if(St.func(St.arg),Browser.mainLoop.remainingBlockers){var Tt=Browser.mainLoop.remainingBlockers,At=Tt%1==0?Tt-1:Math.floor(Tt);St.counted?Browser.mainLoop.remainingBlockers=At:(At=At+.5,Browser.mainLoop.remainingBlockers=(8*Tt+At)/9)}if(console.log('main loop blocker "'+St.name+'" took '+(Date.now()-xt)+" ms"),Browser.mainLoop.updateStatus(),ht<Browser.mainLoop.currentlyRunningMainloop)return;setTimeout(Browser.mainLoop.runner,0);return}if(!(ht<Browser.mainLoop.currentlyRunningMainloop)){if(Browser.mainLoop.currentFrameNumber=Browser.mainLoop.currentFrameNumber+1|0,Browser.mainLoop.timingMode==1&&Browser.mainLoop.timingValue>1&&Browser.mainLoop.currentFrameNumber%Browser.mainLoop.timingValue!=0){Browser.mainLoop.scheduler();return}else Browser.mainLoop.timingMode==0&&(Browser.mainLoop.tickStartTime=_emscripten_get_now());Browser.mainLoop.method==="timeout"&&Module.ctx&&(Module.printErr("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),Browser.mainLoop.method=""),Browser.mainLoop.runIter(o),!(ht<Browser.mainLoop.currentlyRunningMainloop)&&(typeof SDL=="object"&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),Browser.mainLoop.scheduler())}}},nt||(e&&e>0?_emscripten_set_main_loop_timing(0,1e3/e):_emscripten_set_main_loop_timing(1,1),Browser.mainLoop.scheduler()),a)throw"SimulateInfiniteLoop"}var Browser={mainLoop:{scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Browser.mainLoop.scheduler=null,Browser.mainLoop.currentlyRunningMainloop++},resume:function(){Browser.mainLoop.currentlyRunningMainloop++;var c=Browser.mainLoop.timingMode,e=Browser.mainLoop.timingValue,a=Browser.mainLoop.func;Browser.mainLoop.func=null,_emscripten_set_main_loop(a,0,!1,Browser.mainLoop.arg,!0),_emscripten_set_main_loop_timing(c,e),Browser.mainLoop.scheduler()},updateStatus:function(){if(Module.setStatus){var c=Module.statusMessage||"Please wait...",e=Browser.mainLoop.remainingBlockers,a=Browser.mainLoop.expectedBlockers;e?e<a?Module.setStatus(c+" ("+(a-e)+"/"+a+")"):Module.setStatus(c):Module.setStatus("")}},runIter:function(c){if(!ABORT){if(Module.preMainLoop){var e=Module.preMainLoop();if(e===!1)return}try{c()}catch(a){if(a instanceof ExitStatus)return;throw a&&typeof a=="object"&&a.stack&&Module.printErr("exception thrown: "+[a,a.stack]),a}Module.postMainLoop&&Module.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(Module.preloadPlugins||(Module.preloadPlugins=[]),Browser.initted)return;Browser.initted=!0;try{new Blob,Browser.hasBlobConstructor=!0}catch{Browser.hasBlobConstructor=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Browser.BlobBuilder=typeof MozBlobBuilder<"u"?MozBlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:Browser.hasBlobConstructor?null:console.log("warning: no BlobBuilder"),Browser.URLObject=typeof window<"u"?window.URL?window.URL:window.webkitURL:void 0,!Module.noImageDecoding&&typeof Browser.URLObject>"u"&&(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),Module.noImageDecoding=!0);var c={};c.canHandle=function(o){return!Module.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(o)},c.handle=function(o,ht,vt,xt){var St=null;if(Browser.hasBlobConstructor)try{St=new Blob([o],{type:Browser.getMimetype(ht)}),St.size!==o.length&&(St=new Blob([new Uint8Array(o).buffer],{type:Browser.getMimetype(ht)}))}catch(Rt){Runtime.warnOnce("Blob constructor present but fails: "+Rt+"; falling back to blob builder")}if(!St){var Tt=new Browser.BlobBuilder;Tt.append(new Uint8Array(o).buffer),St=Tt.getBlob()}var At=Browser.URLObject.createObjectURL(St),Ct=new Image;Ct.onload=function(){assert(Ct.complete,"Image "+ht+" could not be decoded");var yt=document.createElement("canvas");yt.width=Ct.width,yt.height=Ct.height;var Dt=yt.getContext("2d");Dt.drawImage(Ct,0,0),Module.preloadedImages[ht]=yt,Browser.URLObject.revokeObjectURL(At),vt&&vt(o)},Ct.onerror=function(yt){console.log("Image "+At+" could not be decoded"),xt&&xt()},Ct.src=At},Module.preloadPlugins.push(c);var e={};e.canHandle=function(o){return!Module.noAudioDecoding&&o.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},e.handle=function(o,ht,vt,xt){var St=!1;function Tt(Dt){St||(St=!0,Module.preloadedAudios[ht]=Dt,vt&&vt(o))}function At(){St||(St=!0,Module.preloadedAudios[ht]=new Audio,xt&&xt())}if(Browser.hasBlobConstructor){try{var Ct=new Blob([o],{type:Browser.getMimetype(ht)})}catch{return At()}var Rt=Browser.URLObject.createObjectURL(Ct),yt=new Audio;yt.addEventListener("canplaythrough",function(){Tt(yt)},!1),yt.onerror=function(Nt){if(St)return;console.log("warning: browser could not fully decode audio "+ht+", trying slower base64 approach");function Lt(Ot){for(var Ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vt="=",jt="",$t=0,Yt=0,Kt=0;Kt<Ot.length;Kt++)for($t=$t<<8|Ot[Kt],Yt+=8;Yt>=6;){var qt=$t>>Yt-6&63;Yt-=6,jt+=Ft[qt]}return Yt==2?(jt+=Ft[($t&3)<<4],jt+=Vt+Vt):Yt==4&&(jt+=Ft[($t&15)<<2],jt+=Vt),jt}yt.src="data:audio/x-"+ht.substr(-3)+";base64,"+Lt(o),Tt(yt)},yt.src=Rt,Browser.safeSetTimeout(function(){Tt(yt)},1e4)}else return At()},Module.preloadPlugins.push(e);function a(){Browser.pointerLock=document.pointerLockElement===Module.canvas||document.mozPointerLockElement===Module.canvas||document.webkitPointerLockElement===Module.canvas||document.msPointerLockElement===Module.canvas}var d=Module.canvas;d&&(d.requestPointerLock=d.requestPointerLock||d.mozRequestPointerLock||d.webkitRequestPointerLock||d.msRequestPointerLock||function(){},d.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},d.exitPointerLock=d.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",a,!1),document.addEventListener("mozpointerlockchange",a,!1),document.addEventListener("webkitpointerlockchange",a,!1),document.addEventListener("mspointerlockchange",a,!1),Module.elementPointerLock&&d.addEventListener("click",function(nt){!Browser.pointerLock&&Module.canvas.requestPointerLock&&(Module.canvas.requestPointerLock(),nt.preventDefault())},!1))},createContext:function(c,e,a,d){if(e&&Module.ctx&&c==Module.canvas)return Module.ctx;var nt,o;if(e){var ht={antialias:!1,alpha:!1};if(d)for(var vt in d)ht[vt]=d[vt];o=GL.createContext(c,ht),o&&(nt=GL.getContext(o).GLctx)}else nt=c.getContext("2d");return nt?(a&&(e||assert(typeof GLctx>"u","cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),Module.ctx=nt,e&&GL.makeContextCurrent(o),Module.useWebGL=e,Browser.moduleContextCreatedCallbacks.forEach(function(xt){xt()}),Browser.init()),nt):null},destroyContext:function(c,e,a){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(c,e,a){Browser.lockPointer=c,Browser.resizeCanvas=e,Browser.vrDevice=a,typeof Browser.lockPointer>"u"&&(Browser.lockPointer=!0),typeof Browser.resizeCanvas>"u"&&(Browser.resizeCanvas=!1),typeof Browser.vrDevice>"u"&&(Browser.vrDevice=null);var d=Module.canvas;function nt(){Browser.isFullscreen=!1;var ht=d.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===ht?(d.exitFullscreen=document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){},d.exitFullscreen=d.exitFullscreen.bind(document),Browser.lockPointer&&d.requestPointerLock(),Browser.isFullscreen=!0,Browser.resizeCanvas&&Browser.setFullscreenCanvasSize()):(ht.parentNode.insertBefore(d,ht),ht.parentNode.removeChild(ht),Browser.resizeCanvas&&Browser.setWindowedCanvasSize()),Module.onFullScreen&&Module.onFullScreen(Browser.isFullscreen),Module.onFullscreen&&Module.onFullscreen(Browser.isFullscreen),Browser.updateCanvasDimensions(d)}Browser.fullscreenHandlersInstalled||(Browser.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",nt,!1),document.addEventListener("mozfullscreenchange",nt,!1),document.addEventListener("webkitfullscreenchange",nt,!1),document.addEventListener("MSFullscreenChange",nt,!1));var o=document.createElement("div");d.parentNode.insertBefore(o,d),o.appendChild(d),o.requestFullscreen=o.requestFullscreen||o.mozRequestFullScreen||o.msRequestFullscreen||(o.webkitRequestFullscreen?function(){o.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(o.webkitRequestFullScreen?function(){o.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),a?o.requestFullscreen({vrDisplay:a}):o.requestFullscreen()},requestFullScreen:function(c,e,a){return Module.printErr("Browser.requestFullScreen() is deprecated. Please call Browser.requestFullscreen instead."),Browser.requestFullScreen=function(d,nt,o){return Browser.requestFullscreen(d,nt,o)},Browser.requestFullscreen(c,e,a)},nextRAF:0,fakeRequestAnimationFrame:function(c){var e=Date.now();if(Browser.nextRAF===0)Browser.nextRAF=e+1e3/60;else for(;e+2>=Browser.nextRAF;)Browser.nextRAF+=1e3/60;var a=Math.max(Browser.nextRAF-e,0);setTimeout(c,a)},requestAnimationFrame:function c(e){typeof window>"u"?Browser.fakeRequestAnimationFrame(e):(window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||Browser.fakeRequestAnimationFrame),window.requestAnimationFrame(e))},safeCallback:function(c){return function(){if(!ABORT)return c.apply(null,arguments)}},allowAsyncCallbacks:!0,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){Browser.allowAsyncCallbacks=!1},resumeAsyncCallbacks:function(){if(Browser.allowAsyncCallbacks=!0,Browser.queuedAsyncCallbacks.length>0){var c=Browser.queuedAsyncCallbacks;Browser.queuedAsyncCallbacks=[],c.forEach(function(e){e()})}},safeRequestAnimationFrame:function(c){return Browser.requestAnimationFrame(function(){ABORT||(Browser.allowAsyncCallbacks?c():Browser.queuedAsyncCallbacks.push(c))})},safeSetTimeout:function(c,e){return Module.noExitRuntime=!0,setTimeout(function(){ABORT||(Browser.allowAsyncCallbacks?c():Browser.queuedAsyncCallbacks.push(c))},e)},safeSetInterval:function(c,e){return Module.noExitRuntime=!0,setInterval(function(){ABORT||Browser.allowAsyncCallbacks&&c()},e)},getMimetype:function(c){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[c.substr(c.lastIndexOf(".")+1)]},getUserMedia:function(c){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(c)},getMovementX:function(c){return c.movementX||c.mozMovementX||c.webkitMovementX||0},getMovementY:function(c){return c.movementY||c.mozMovementY||c.webkitMovementY||0},getMouseWheelDelta:function(c){var e=0;switch(c.type){case"DOMMouseScroll":e=c.detail;break;case"mousewheel":e=c.wheelDelta;break;case"wheel":e=c.deltaY;break;default:throw"unrecognized mouse wheel event: "+c.type}return e},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(c){if(Browser.pointerLock)c.type!="mousemove"&&"mozMovementX"in c?Browser.mouseMovementX=Browser.mouseMovementY=0:(Browser.mouseMovementX=Browser.getMovementX(c),Browser.mouseMovementY=Browser.getMovementY(c)),typeof SDL<"u"?(Browser.mouseX=SDL.mouseX+Browser.mouseMovementX,Browser.mouseY=SDL.mouseY+Browser.mouseMovementY):(Browser.mouseX+=Browser.mouseMovementX,Browser.mouseY+=Browser.mouseMovementY);else{var e=Module.canvas.getBoundingClientRect(),a=Module.canvas.width,d=Module.canvas.height,nt=typeof window.scrollX<"u"?window.scrollX:window.pageXOffset,o=typeof window.scrollY<"u"?window.scrollY:window.pageYOffset;if(c.type==="touchstart"||c.type==="touchend"||c.type==="touchmove"){var ht=c.touch;if(ht===void 0)return;var vt=ht.pageX-(nt+e.left),xt=ht.pageY-(o+e.top);vt=vt*(a/e.width),xt=xt*(d/e.height);var St={x:vt,y:xt};if(c.type==="touchstart")Browser.lastTouches[ht.identifier]=St,Browser.touches[ht.identifier]=St;else if(c.type==="touchend"||c.type==="touchmove"){var Tt=Browser.touches[ht.identifier];Tt||(Tt=St),Browser.lastTouches[ht.identifier]=Tt,Browser.touches[ht.identifier]=St}return}var At=c.pageX-(nt+e.left),Ct=c.pageY-(o+e.top);At=At*(a/e.width),Ct=Ct*(d/e.height),Browser.mouseMovementX=At-Browser.mouseX,Browser.mouseMovementY=Ct-Browser.mouseY,Browser.mouseX=At,Browser.mouseY=Ct}},asyncLoad:function(c,e,a,d){var nt=d?"":"al "+c;Module.readAsync(c,function(o){assert(o,'Loading data file "'+c+'" failed (no arrayBuffer).'),e(new Uint8Array(o)),nt&&removeRunDependency()},function(o){if(a)a();else throw'Loading data file "'+c+'" failed.'}),nt&&addRunDependency()},resizeListeners:[],updateResizeListeners:function(){var c=Module.canvas;Browser.resizeListeners.forEach(function(e){e(c.width,c.height)})},setCanvasSize:function(c,e,a){var d=Module.canvas;Browser.updateCanvasDimensions(d,c,e),a||Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if(typeof SDL<"u"){var c=HEAPU32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2];c=c|8388608,HEAP32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2]=c}Browser.updateResizeListeners()},setWindowedCanvasSize:function(){if(typeof SDL<"u"){var c=HEAPU32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2];c=c&-8388609,HEAP32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2]=c}Browser.updateResizeListeners()},updateCanvasDimensions:function(c,e,a){e&&a?(c.widthNative=e,c.heightNative=a):(e=c.widthNative,a=c.heightNative);var d=e,nt=a;if(Module.forcedAspectRatio&&Module.forcedAspectRatio>0&&(d/nt<Module.forcedAspectRatio?d=Math.round(nt*Module.forcedAspectRatio):nt=Math.round(d/Module.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===c.parentNode&&typeof screen<"u"){var o=Math.min(screen.width/d,screen.height/nt);d=Math.round(d*o),nt=Math.round(nt*o)}Browser.resizeCanvas?(c.width!=d&&(c.width=d),c.height!=nt&&(c.height=nt),typeof c.style<"u"&&(c.style.removeProperty("width"),c.style.removeProperty("height"))):(c.width!=e&&(c.width=e),c.height!=a&&(c.height=a),typeof c.style<"u"&&(d!=e||nt!=a?(c.style.setProperty("width",d+"px","important"),c.style.setProperty("height",nt+"px","important")):(c.style.removeProperty("width"),c.style.removeProperty("height"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var c=Browser.nextWgetRequestHandle;return Browser.nextWgetRequestHandle++,c}},SYSCALLS={varargs:0,get:function(c){SYSCALLS.varargs+=4;var e=HEAP32[SYSCALLS.varargs-4>>2];return e},getStr:function(){var c=Pointer_stringify(SYSCALLS.get());return c},get64:function(){var c=SYSCALLS.get(),e=SYSCALLS.get();return c>=0?assert(e===0):assert(e===-1),c},getZero:function(){assert(SYSCALLS.get()===0)}};function ___syscall6(c,e){SYSCALLS.varargs=e;try{var a=SYSCALLS.getStreamFromFD();return FS.close(a),0}catch(d){return(typeof FS>"u"||!(d instanceof FS.ErrnoError))&&abort(d),-d.errno}}function ___syscall54(c,e){SYSCALLS.varargs=e;try{return 0}catch(a){return(typeof FS>"u"||!(a instanceof FS.ErrnoError))&&abort(a),-a.errno}}function _typeModule(c){var e=[[0,1,"X"],[1,1,"const X"],[128,1,"X *"],[256,1,"X &"],[384,1,"X &&"],[512,1,"std::shared_ptr<X>"],[640,1,"std::unique_ptr<X>"],[5120,1,"std::vector<X>"],[6144,2,"std::array<X, Y>"],[9216,-1,"std::function<X (Y)>"]];function a(xt,St,Tt,At,Ct,Rt){if(St==1){var yt=At&896;(yt==128||yt==256||yt==384)&&(xt="X const")}var Dt;return Rt?Dt=Tt.replace("X",xt).replace("Y",Ct):Dt=xt.replace("X",Tt).replace("Y",Ct),Dt.replace(/([*&]) (?=[*&])/g,"$1")}function d(xt,St,Tt,At,Ct){throw new Error(xt+" type "+Tt.replace("X",St+"?")+(At?" with flag "+At:"")+" in "+Ct)}function nt(xt,St,Tt,At,Ct,Rt,yt,Dt){Rt===void 0&&(Rt="X"),Dt===void 0&&(Dt=1);var Nt=Tt(xt);if(Nt)return Nt;var Lt=At(xt),Ot=Lt.placeholderFlag,Ft=e[Ot];yt&&Ft&&(Rt=a(yt[2],yt[0],Rt,Ft[0],"?",!0));var Vt;Ot==0&&(Vt="Unbound"),Ot>=10&&(Vt="Corrupt"),Dt>20&&(Vt="Deeply nested"),Vt&&d(Vt,xt,Rt,Ot,Ct||"?");var jt=Lt.paramList[0],$t=nt(jt,St,Tt,At,Ct,Rt,Ft,Dt+1),Yt,Kt={flags:Ft[0],id:xt,name:"",paramList:[$t]},qt=[],Wt="?";switch(Lt.placeholderFlag){case 1:Yt=$t.spec;break;case 2:if(($t.flags&15360)==1024&&$t.spec.ptrSize==1){Kt.flags=7168;break}case 3:case 6:case 5:Yt=$t.spec,$t.flags&15360;break;case 8:Wt=""+Lt.paramList[1],Kt.paramList.push(Lt.paramList[1]);break;case 9:for(var Jt=0,cn=Lt.paramList[1];Jt<cn.length;Jt++){var sn=cn[Jt],Tn=nt(sn,St,Tt,At,Ct,Rt,Ft,Dt+1);qt.push(Tn.name),Kt.paramList.push(Tn)}Wt=qt.join(", ");break}if(Kt.name=a(Ft[2],Ft[0],$t.name,$t.flags,Wt),Yt){for(var Cn=0,En=Object.keys(Yt);Cn<En.length;Cn++){var Nn=En[Cn];Kt[Nn]=Kt[Nn]||Yt[Nn]}Kt.flags|=Yt.flags}return o(St,Kt)}function o(xt,St){var Tt=St.flags,At=Tt&896,Ct=Tt&15360;return!St.name&&Ct==1024&&(St.ptrSize==1?St.name=(Tt&16?"":(Tt&8?"un":"")+"signed ")+"char":St.name=(Tt&8?"u":"")+(Tt&32?"float":"int")+(St.ptrSize*8+"_t")),St.ptrSize==8&&!(Tt&32)&&(Ct=64),Ct==2048&&(At==512||At==640?Ct=4096:At&&(Ct=3072)),xt(Ct,St)}var ht=function(){function xt(St){this.id=St.id,this.name=St.name,this.flags=St.flags,this.spec=St}return xt.prototype.toString=function(){return this.name},xt}(),vt={Type:ht,getComplexType:nt,makeType:o,structureList:e};return c.output=vt,c.output||vt}function __nbind_register_type(c,e){var a=_nbind.readAsciiString(e),d={flags:10240,id:c,name:a};_nbind.makeType(_nbind.constructType,d)}function __nbind_register_callback_signature(c,e){var a=_nbind.readTypeIdList(c,e),d=_nbind.callbackSignatureList.length;return _nbind.callbackSignatureList[d]=_nbind.makeJSCaller(a),d}function __extends(c,e){for(var a in e)e.hasOwnProperty(a)&&(c[a]=e[a]);function d(){this.constructor=c}d.prototype=e.prototype,c.prototype=new d}function __nbind_register_class(c,e,a,d,nt,o,ht){var vt=_nbind.readAsciiString(ht),xt=_nbind.readPolicyList(e),St=HEAPU32.subarray(c/4,c/4+2),Tt={flags:2048|(xt.Value?2:0),id:St[0],name:vt},At=_nbind.makeType(_nbind.constructType,Tt);At.ptrType=_nbind.getComplexType(St[1],_nbind.constructType,_nbind.getType,_nbind.queryType),At.destroy=_nbind.makeMethodCaller(At.ptrType,{boundID:Tt.id,flags:0,name:"destroy",num:0,ptr:o,title:At.name+".free",typeList:["void","uint32_t","uint32_t"]}),nt&&(At.superIdList=Array.prototype.slice.call(HEAPU32.subarray(a/4,a/4+nt)),At.upcastList=Array.prototype.slice.call(HEAPU32.subarray(d/4,d/4+nt))),Module[At.name]=At.makeBound(xt),_nbind.BindClass.list.push(At)}function _removeAccessorPrefix(c){var e=/^[Gg]et_?([A-Z]?([A-Z]?))/;return c.replace(e,function(a,d,nt){return nt?d:d.toLowerCase()})}function __nbind_register_function(c,e,a,d,nt,o,ht,vt,xt,St){var Tt=_nbind.getType(c),At=_nbind.readPolicyList(e),Ct=_nbind.readTypeIdList(a,d),Rt;if(ht==5)Rt=[{direct:nt,name:"__nbindConstructor",ptr:0,title:Tt.name+" constructor",typeList:["uint32_t"].concat(Ct.slice(1))},{direct:o,name:"__nbindValueConstructor",ptr:0,title:Tt.name+" value constructor",typeList:["void","uint32_t"].concat(Ct.slice(1))}];else{var yt=_nbind.readAsciiString(vt),Dt=(Tt.name&&Tt.name+".")+yt;(ht==3||ht==4)&&(yt=_removeAccessorPrefix(yt)),Rt=[{boundID:c,direct:o,name:yt,ptr:nt,title:Dt,typeList:Ct}]}for(var Nt=0,Lt=Rt;Nt<Lt.length;Nt++){var Ot=Lt[Nt];Ot.signatureType=ht,Ot.policyTbl=At,Ot.num=xt,Ot.flags=St,Tt.addMethod(Ot)}}function _nbind_value(c,e){_nbind.typeNameTbl[c]||_nbind.throwError("Unknown value type "+c),Module.NBind.bind_value(c,e),_defineHidden(_nbind.typeNameTbl[c].proto.prototype.__nbindValueConstructor)(e.prototype,"__nbindValueConstructor")}Module._nbind_value=_nbind_value;function __nbind_get_value_object(c,e){var a=_nbind.popValue(c);if(!a.fromJS)throw new Error("Object "+a+" has no fromJS function");a.fromJS(function(){a.__nbindValueConstructor.apply(this,Array.prototype.concat.apply([e],arguments))})}function _emscripten_memcpy_big(c,e,a){return HEAPU8.set(HEAPU8.subarray(e,e+a),c),c}function __nbind_register_primitive(c,e,a){var d={flags:1024|a,id:c,ptrSize:e};_nbind.makeType(_nbind.constructType,d)}var cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",ALLOC_STATIC);function ___setErrNo(c){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=c),c}function _llvm_stacksave(){var c=_llvm_stacksave;return c.LLVM_SAVEDSTACKS||(c.LLVM_SAVEDSTACKS=[]),c.LLVM_SAVEDSTACKS.push(Runtime.stackSave()),c.LLVM_SAVEDSTACKS.length-1}function ___syscall140(c,e){SYSCALLS.varargs=e;try{var a=SYSCALLS.getStreamFromFD(),d=SYSCALLS.get(),nt=SYSCALLS.get(),o=SYSCALLS.get(),ht=SYSCALLS.get(),vt=nt;return FS.llseek(a,vt,ht),HEAP32[o>>2]=a.position,a.getdents&&vt===0&&ht===0&&(a.getdents=null),0}catch(xt){return(typeof FS>"u"||!(xt instanceof FS.ErrnoError))&&abort(xt),-xt.errno}}function ___syscall146(c,e){SYSCALLS.varargs=e;try{var a=SYSCALLS.get(),d=SYSCALLS.get(),nt=SYSCALLS.get(),o=0;___syscall146.buffer||(___syscall146.buffers=[null,[],[]],___syscall146.printChar=function(Tt,At){var Ct=___syscall146.buffers[Tt];assert(Ct),At===0||At===10?((Tt===1?Module.print:Module.printErr)(UTF8ArrayToString(Ct,0)),Ct.length=0):Ct.push(At)});for(var ht=0;ht<nt;ht++){for(var vt=HEAP32[d+ht*8>>2],xt=HEAP32[d+(ht*8+4)>>2],St=0;St<xt;St++)___syscall146.printChar(a,HEAPU8[vt+St]);o+=xt}return o}catch(Tt){return(typeof FS>"u"||!(Tt instanceof FS.ErrnoError))&&abort(Tt),-Tt.errno}}function __nbind_finish(){for(var c=0,e=_nbind.BindClass.list;c<e.length;c++){var a=e[c];a.finish()}}var ___dso_handle=STATICTOP;STATICTOP+=16,function(_nbind){var typeIdTbl={};_nbind.typeNameTbl={};var Pool=function(){function c(){}return c.lalloc=function(e){e=e+7&-8;var a=HEAPU32[c.usedPtr];if(e>c.pageSize/2||e>c.pageSize-a){var d=_nbind.typeNameTbl.NBind.proto;return d.lalloc(e)}else return HEAPU32[c.usedPtr]=a+e,c.rootPtr+a},c.lreset=function(e,a){var d=HEAPU32[c.pagePtr];if(d){var nt=_nbind.typeNameTbl.NBind.proto;nt.lreset(e,a)}else HEAPU32[c.usedPtr]=e},c}();_nbind.Pool=Pool;function constructType(c,e){var a=c==10240?_nbind.makeTypeNameTbl[e.name]||_nbind.BindType:_nbind.makeTypeKindTbl[c],d=new a(e);return typeIdTbl[e.id]=d,_nbind.typeNameTbl[e.name]=d,d}_nbind.constructType=constructType;function getType(c){return typeIdTbl[c]}_nbind.getType=getType;function queryType(c){var e=HEAPU8[c],a=_nbind.structureList[e][1];c/=4,a<0&&(++c,a=HEAPU32[c]+1);var d=Array.prototype.slice.call(HEAPU32.subarray(c+1,c+1+a));return e==9&&(d=[d[0],d.slice(1)]),{paramList:d,placeholderFlag:e}}_nbind.queryType=queryType;function getTypes(c,e){return c.map(function(a){return typeof a=="number"?_nbind.getComplexType(a,constructType,getType,queryType,e):_nbind.typeNameTbl[a]})}_nbind.getTypes=getTypes;function readTypeIdList(c,e){return Array.prototype.slice.call(HEAPU32,c/4,c/4+e)}_nbind.readTypeIdList=readTypeIdList;function readAsciiString(c){for(var e=c;HEAPU8[e++];);return String.fromCharCode.apply("",HEAPU8.subarray(c,e-1))}_nbind.readAsciiString=readAsciiString;function readPolicyList(c){var e={};if(c)for(;;){var a=HEAPU32[c/4];if(!a)break;e[readAsciiString(a)]=!0,c+=4}return e}_nbind.readPolicyList=readPolicyList;function getDynCall(c,e){var a={float32_t:"d",float64_t:"d",int64_t:"d",uint64_t:"d",void:"v"},d=c.map(function(o){return a[o.name]||"i"}).join(""),nt=Module["dynCall_"+d];if(!nt)throw new Error("dynCall_"+d+" not found for "+e+"("+c.map(function(o){return o.name}).join(", ")+")");return nt}_nbind.getDynCall=getDynCall;function addMethod(c,e,a,d){var nt=c[e];c.hasOwnProperty(e)&&nt?((nt.arity||nt.arity===0)&&(nt=_nbind.makeOverloader(nt,nt.arity),c[e]=nt),nt.addMethod(a,d)):(a.arity=d,c[e]=a)}_nbind.addMethod=addMethod;function throwError(c){throw new Error(c)}_nbind.throwError=throwError,_nbind.bigEndian=!1;var _a=_typeModule(_typeModule);_nbind.Type=_a.Type,_nbind.makeType=_a.makeType,_nbind.getComplexType=_a.getComplexType,_nbind.structureList=_a.structureList;var BindType=function(c){__extends(e,c);function e(){var a=c!==null&&c.apply(this,arguments)||this;return a.heap=HEAPU32,a.ptrSize=4,a}return e.prototype.needsWireRead=function(a){return!!this.wireRead||!!this.makeWireRead},e.prototype.needsWireWrite=function(a){return!!this.wireWrite||!!this.makeWireWrite},e}(_nbind.Type);_nbind.BindType=BindType;var PrimitiveType=function(c){__extends(e,c);function e(a){var d=c.call(this,a)||this,nt=a.flags&32?{32:HEAPF32,64:HEAPF64}:a.flags&8?{8:HEAPU8,16:HEAPU16,32:HEAPU32}:{8:HEAP8,16:HEAP16,32:HEAP32};return d.heap=nt[a.ptrSize*8],d.ptrSize=a.ptrSize,d}return e.prototype.needsWireWrite=function(a){return!!a&&!!a.Strict},e.prototype.makeWireWrite=function(a,d){return d&&d.Strict&&function(nt){if(typeof nt=="number")return nt;throw new Error("Type mismatch")}},e}(BindType);_nbind.PrimitiveType=PrimitiveType;function pushCString(c,e){if(c==null){if(e&&e.Nullable)return 0;throw new Error("Type mismatch")}if(e&&e.Strict){if(typeof c!="string")throw new Error("Type mismatch")}else c=c.toString();var a=Module.lengthBytesUTF8(c)+1,d=_nbind.Pool.lalloc(a);return Module.stringToUTF8Array(c,HEAPU8,d,a),d}_nbind.pushCString=pushCString;function popCString(c){return c===0?null:Module.Pointer_stringify(c)}_nbind.popCString=popCString;var CStringType=function(c){__extends(e,c);function e(){var a=c!==null&&c.apply(this,arguments)||this;return a.wireRead=popCString,a.wireWrite=pushCString,a.readResources=[_nbind.resources.pool],a.writeResources=[_nbind.resources.pool],a}return e.prototype.makeWireWrite=function(a,d){return function(nt){return pushCString(nt,d)}},e}(BindType);_nbind.CStringType=CStringType;var BooleanType=function(c){__extends(e,c);function e(){var a=c!==null&&c.apply(this,arguments)||this;return a.wireRead=function(d){return!!d},a}return e.prototype.needsWireWrite=function(a){return!!a&&!!a.Strict},e.prototype.makeWireRead=function(a){return"!!("+a+")"},e.prototype.makeWireWrite=function(a,d){return d&&d.Strict&&function(nt){if(typeof nt=="boolean")return nt;throw new Error("Type mismatch")}||a},e}(BindType);_nbind.BooleanType=BooleanType;var Wrapper=function(){function c(){}return c.prototype.persist=function(){this.__nbindState|=1},c}();_nbind.Wrapper=Wrapper;function makeBound(c,e){var a=function(d){__extends(nt,d);function nt(o,ht,vt,xt){var St=d.call(this)||this;if(!(St instanceof nt))return new(Function.prototype.bind.apply(nt,Array.prototype.concat.apply([null],arguments)));var Tt=ht,At=vt,Ct=xt;if(o!==_nbind.ptrMarker){var Rt=St.__nbindConstructor.apply(St,arguments);Tt=4608,Ct=HEAPU32[Rt/4],At=HEAPU32[Rt/4+1]}var yt={configurable:!0,enumerable:!1,value:null,writable:!1},Dt={__nbindFlags:Tt,__nbindPtr:At};Ct&&(Dt.__nbindShared=Ct,_nbind.mark(St));for(var Nt=0,Lt=Object.keys(Dt);Nt<Lt.length;Nt++){var Ot=Lt[Nt];yt.value=Dt[Ot],Object.defineProperty(St,Ot,yt)}return _defineHidden(0)(St,"__nbindState"),St}return nt.prototype.free=function(){e.destroy.call(this,this.__nbindShared,this.__nbindFlags),this.__nbindState|=2,disableMember(this,"__nbindShared"),disableMember(this,"__nbindPtr")},nt}(Wrapper);return __decorate([_defineHidden()],a.prototype,"__nbindConstructor",void 0),__decorate([_defineHidden()],a.prototype,"__nbindValueConstructor",void 0),__decorate([_defineHidden(c)],a.prototype,"__nbindPolicies",void 0),a}_nbind.makeBound=makeBound;function disableMember(c,e){function a(){throw new Error("Accessing deleted object")}Object.defineProperty(c,e,{configurable:!1,enumerable:!1,get:a,set:a})}_nbind.ptrMarker={};var BindClass=function(c){__extends(e,c);function e(a){var d=c.call(this,a)||this;return d.wireRead=function(nt){return _nbind.popValue(nt,d.ptrType)},d.wireWrite=function(nt){return pushPointer(nt,d.ptrType,!0)},d.pendingSuperCount=0,d.ready=!1,d.methodTbl={},a.paramList?(d.classType=a.paramList[0].classType,d.proto=d.classType.proto):d.classType=d,d}return e.prototype.makeBound=function(a){var d=_nbind.makeBound(a,this);return this.proto=d,this.ptrType.proto=d,d},e.prototype.addMethod=function(a){var d=this.methodTbl[a.name]||[];d.push(a),this.methodTbl[a.name]=d},e.prototype.registerMethods=function(a,d){for(var nt,o=0,ht=Object.keys(a.methodTbl);o<ht.length;o++)for(var vt=ht[o],xt=a.methodTbl[vt],St=0,Tt=xt;St<Tt.length;St++){var At=Tt[St],Ct=void 0,Rt=void 0;if(Ct=this.proto.prototype,!(d&&At.signatureType!=1))switch(At.signatureType){case 1:Ct=this.proto;case 5:Rt=_nbind.makeCaller(At),_nbind.addMethod(Ct,At.name,Rt,At.typeList.length-1);break;case 4:nt=_nbind.makeMethodCaller(a.ptrType,At);break;case 3:Object.defineProperty(Ct,At.name,{configurable:!0,enumerable:!1,get:_nbind.makeMethodCaller(a.ptrType,At),set:nt});break;case 2:Rt=_nbind.makeMethodCaller(a.ptrType,At),_nbind.addMethod(Ct,At.name,Rt,At.typeList.length-1);break}}},e.prototype.registerSuperMethods=function(a,d,nt){if(!nt[a.name]){nt[a.name]=!0;for(var o=0,ht,vt=0,xt=a.superIdList||[];vt<xt.length;vt++){var St=xt[vt],Tt=_nbind.getType(St);o++<d||d<0?ht=-1:ht=0,this.registerSuperMethods(Tt,ht,nt)}this.registerMethods(a,d<0)}},e.prototype.finish=function(){if(this.ready)return this;this.ready=!0,this.superList=(this.superIdList||[]).map(function(nt){return _nbind.getType(nt).finish()});var a=this.proto;if(this.superList.length){var d=function(){this.constructor=a};d.prototype=this.superList[0].proto.prototype,a.prototype=new d}return a!=Module&&(a.prototype.__nbindType=this),this.registerSuperMethods(this,1,{}),this},e.prototype.upcastStep=function(a,d){if(a==this)return d;for(var nt=0;nt<this.superList.length;++nt){var o=this.superList[nt].upcastStep(a,_nbind.callUpcast(this.upcastList[nt],d));if(o)return o}return 0},e}(_nbind.BindType);BindClass.list=[],_nbind.BindClass=BindClass;function popPointer(c,e){return c?new e.proto(_nbind.ptrMarker,e.flags,c):null}_nbind.popPointer=popPointer;function pushPointer(c,e,a){if(!(c instanceof _nbind.Wrapper)){if(a)return _nbind.pushValue(c);throw new Error("Type mismatch")}var d=c.__nbindPtr,nt=c.__nbindType.classType,o=e.classType;if(c instanceof e.proto)for(;nt!=o;)d=_nbind.callUpcast(nt.upcastList[0],d),nt=nt.superList[0];else if(d=nt.upcastStep(o,d),!d)throw new Error("Type mismatch");return d}_nbind.pushPointer=pushPointer;function pushMutablePointer(c,e){var a=pushPointer(c,e);if(c.__nbindFlags&1)throw new Error("Passing a const value as a non-const argument");return a}var BindClassPtr=function(c){__extends(e,c);function e(a){var d=c.call(this,a)||this;d.classType=a.paramList[0].classType,d.proto=d.classType.proto;var nt=a.flags&1,o=(d.flags&896)==256&&a.flags&2,ht=nt?pushPointer:pushMutablePointer,vt=o?_nbind.popValue:popPointer;return d.makeWireWrite=function(xt,St){return St.Nullable?function(Tt){return Tt?ht(Tt,d):0}:function(Tt){return ht(Tt,d)}},d.wireRead=function(xt){return vt(xt,d)},d.wireWrite=function(xt){return ht(xt,d)},d}return e}(_nbind.BindType);_nbind.BindClassPtr=BindClassPtr;function popShared(c,e){var a=HEAPU32[c/4],d=HEAPU32[c/4+1];return d?new e.proto(_nbind.ptrMarker,e.flags,d,a):null}_nbind.popShared=popShared;function pushShared(c,e){if(!(c instanceof e.proto))throw new Error("Type mismatch");return c.__nbindShared}function pushMutableShared(c,e){if(!(c instanceof e.proto))throw new Error("Type mismatch");if(c.__nbindFlags&1)throw new Error("Passing a const value as a non-const argument");return c.__nbindShared}var SharedClassPtr=function(c){__extends(e,c);function e(a){var d=c.call(this,a)||this;d.readResources=[_nbind.resources.pool],d.classType=a.paramList[0].classType,d.proto=d.classType.proto;var nt=a.flags&1,o=nt?pushShared:pushMutableShared;return d.wireRead=function(ht){return popShared(ht,d)},d.wireWrite=function(ht){return o(ht,d)},d}return e}(_nbind.BindType);_nbind.SharedClassPtr=SharedClassPtr,_nbind.externalList=[0];var firstFreeExternal=0,External=function(){function c(e){this.refCount=1,this.data=e}return c.prototype.register=function(){var e=firstFreeExternal;return e?firstFreeExternal=_nbind.externalList[e]:e=_nbind.externalList.length,_nbind.externalList[e]=this,e},c.prototype.reference=function(){++this.refCount},c.prototype.dereference=function(e){--this.refCount==0&&(this.free&&this.free(),_nbind.externalList[e]=firstFreeExternal,firstFreeExternal=e)},c}();_nbind.External=External;function popExternal(c){var e=_nbind.externalList[c];return e.dereference(c),e.data}function pushExternal(c){var e=new External(c);return e.reference(),e.register()}var ExternalType=function(c){__extends(e,c);function e(){var a=c!==null&&c.apply(this,arguments)||this;return a.wireRead=popExternal,a.wireWrite=pushExternal,a}return e}(_nbind.BindType);_nbind.ExternalType=ExternalType,_nbind.callbackSignatureList=[];var CallbackType=function(c){__extends(e,c);function e(){var a=c!==null&&c.apply(this,arguments)||this;return a.wireWrite=function(d){return typeof d!="function"&&_nbind.throwError("Type mismatch"),new _nbind.External(d).register()},a}return e}(_nbind.BindType);_nbind.CallbackType=CallbackType,_nbind.valueList=[0];var firstFreeValue=0;function pushValue(c){var e=firstFreeValue;return e?firstFreeValue=_nbind.valueList[e]:e=_nbind.valueList.length,_nbind.valueList[e]=c,e*2+1}_nbind.pushValue=pushValue;function popValue(c,e){if(c||_nbind.throwError("Value type JavaScript class is missing or not registered"),c&1){c>>=1;var a=_nbind.valueList[c];return _nbind.valueList[c]=firstFreeValue,firstFreeValue=c,a}else{if(e)return _nbind.popShared(c,e);throw new Error("Invalid value slot "+c)}}_nbind.popValue=popValue;var valueBase=18446744073709552e3;function push64(c){return typeof c=="number"?c:pushValue(c)*4096+valueBase}function pop64(c){return c<valueBase?c:popValue((c-valueBase)/4096)}var CreateValueType=function(c){__extends(e,c);function e(){return c!==null&&c.apply(this,arguments)||this}return e.prototype.makeWireWrite=function(a){return"(_nbind.pushValue(new "+a+"))"},e}(_nbind.BindType);_nbind.CreateValueType=CreateValueType;var Int64Type=function(c){__extends(e,c);function e(){var a=c!==null&&c.apply(this,arguments)||this;return a.wireWrite=push64,a.wireRead=pop64,a}return e}(_nbind.BindType);_nbind.Int64Type=Int64Type;function pushArray(c,e){if(!c)return 0;var a=c.length;if((e.size||e.size===0)&&a<e.size)throw new Error("Type mismatch");var d=e.memberType.ptrSize,nt=_nbind.Pool.lalloc(4+a*d);HEAPU32[nt/4]=a;var o=e.memberType.heap,ht=(nt+4)/d,vt=e.memberType.wireWrite,xt=0;if(vt)for(;xt<a;)o[ht++]=vt(c[xt++]);else for(;xt<a;)o[ht++]=c[xt++];return nt}_nbind.pushArray=pushArray;function popArray(c,e){if(c===0)return null;var a=HEAPU32[c/4],d=new Array(a),nt=e.memberType.heap;c=(c+4)/e.memberType.ptrSize;var o=e.memberType.wireRead,ht=0;if(o)for(;ht<a;)d[ht++]=o(nt[c++]);else for(;ht<a;)d[ht++]=nt[c++];return d}_nbind.popArray=popArray;var ArrayType=function(c){__extends(e,c);function e(a){var d=c.call(this,a)||this;return d.wireRead=function(nt){return popArray(nt,d)},d.wireWrite=function(nt){return pushArray(nt,d)},d.readResources=[_nbind.resources.pool],d.writeResources=[_nbind.resources.pool],d.memberType=a.paramList[0],a.paramList[1]&&(d.size=a.paramList[1]),d}return e}(_nbind.BindType);_nbind.ArrayType=ArrayType;function pushString(c,e){if(c==null)if(e&&e.Nullable)c="";else throw new Error("Type mismatch");if(e&&e.Strict){if(typeof c!="string")throw new Error("Type mismatch")}else c=c.toString();var a=Module.lengthBytesUTF8(c),d=_nbind.Pool.lalloc(4+a+1);return HEAPU32[d/4]=a,Module.stringToUTF8Array(c,HEAPU8,d+4,a+1),d}_nbind.pushString=pushString;function popString(c){if(c===0)return null;var e=HEAPU32[c/4];return Module.Pointer_stringify(c+4,e)}_nbind.popString=popString;var StringType=function(c){__extends(e,c);function e(){var a=c!==null&&c.apply(this,arguments)||this;return a.wireRead=popString,a.wireWrite=pushString,a.readResources=[_nbind.resources.pool],a.writeResources=[_nbind.resources.pool],a}return e.prototype.makeWireWrite=function(a,d){return function(nt){return pushString(nt,d)}},e}(_nbind.BindType);_nbind.StringType=StringType;function makeArgList(c){return Array.apply(null,Array(c)).map(function(e,a){return"a"+(a+1)})}function anyNeedsWireWrite(c,e){return c.reduce(function(a,d){return a||d.needsWireWrite(e)},!1)}function anyNeedsWireRead(c,e){return c.reduce(function(a,d){return a||!!d.needsWireRead(e)},!1)}function makeWireRead(c,e,a,d){var nt=c.length;return a.makeWireRead?a.makeWireRead(d,c,nt):a.wireRead?(c[nt]=a.wireRead,"(convertParamList["+nt+"]("+d+"))"):d}function makeWireWrite(c,e,a,d){var nt,o=c.length;return a.makeWireWrite?nt=a.makeWireWrite(d,e,c,o):nt=a.wireWrite,nt?typeof nt=="string"?nt:(c[o]=nt,"(convertParamList["+o+"]("+d+"))"):d}function buildCallerFunction(dynCall,ptrType,ptr,num,policyTbl,needsWireWrite,prefix,returnType,argTypeList,mask,err){var argList=makeArgList(argTypeList.length),convertParamList=[],callExpression=makeWireRead(convertParamList,policyTbl,returnType,"dynCall("+[prefix].concat(argList.map(function(c,e){return makeWireWrite(convertParamList,policyTbl,argTypeList[e],c)})).join(",")+")"),resourceSet=_nbind.listResources([returnType],argTypeList),sourceCode="function("+argList.join(",")+"){"+(mask?"this.__nbindFlags&mask&&err();":"")+resourceSet.makeOpen()+"var r="+callExpression+";"+resourceSet.makeClose()+"return r;}";return eval("("+sourceCode+")")}function buildJSCallerFunction(returnType,argTypeList){var argList=makeArgList(argTypeList.length),convertParamList=[],callExpression=makeWireWrite(convertParamList,null,returnType,"_nbind.externalList[num].data("+argList.map(function(c,e){return makeWireRead(convertParamList,null,argTypeList[e],c)}).join(",")+")"),resourceSet=_nbind.listResources(argTypeList,[returnType]);resourceSet.remove(_nbind.resources.pool);var sourceCode="function("+["dummy","num"].concat(argList).join(",")+"){"+resourceSet.makeOpen()+"var r="+callExpression+";"+resourceSet.makeClose()+"return r;}";return eval("("+sourceCode+")")}_nbind.buildJSCallerFunction=buildJSCallerFunction;function makeJSCaller(c){var e=c.length-1,a=_nbind.getTypes(c,"callback"),d=a[0],nt=a.slice(1),o=anyNeedsWireRead(nt,null),ht=d.needsWireWrite(null);if(!ht&&!o)switch(e){case 0:return function(vt,xt){return _nbind.externalList[xt].data()};case 1:return function(vt,xt,St){return _nbind.externalList[xt].data(St)};case 2:return function(vt,xt,St,Tt){return _nbind.externalList[xt].data(St,Tt)};case 3:return function(vt,xt,St,Tt,At){return _nbind.externalList[xt].data(St,Tt,At)}}return buildJSCallerFunction(d,nt)}_nbind.makeJSCaller=makeJSCaller;function makeMethodCaller(c,e){var a=e.typeList.length-1,d=e.typeList.slice(0);d.splice(1,0,"uint32_t",e.boundID);var nt=_nbind.getTypes(d,e.title),o=nt[0],ht=nt.slice(3),vt=o.needsWireRead(e.policyTbl),xt=anyNeedsWireWrite(ht,e.policyTbl),St=e.ptr,Tt=e.num,At=_nbind.getDynCall(nt,e.title),Ct=~e.flags&1;function Rt(){throw new Error("Calling a non-const method on a const object")}if(!vt&&!xt)switch(a){case 0:return function(){return this.__nbindFlags&Ct?Rt():At(St,Tt,_nbind.pushPointer(this,c))};case 1:return function(yt){return this.__nbindFlags&Ct?Rt():At(St,Tt,_nbind.pushPointer(this,c),yt)};case 2:return function(yt,Dt){return this.__nbindFlags&Ct?Rt():At(St,Tt,_nbind.pushPointer(this,c),yt,Dt)};case 3:return function(yt,Dt,Nt){return this.__nbindFlags&Ct?Rt():At(St,Tt,_nbind.pushPointer(this,c),yt,Dt,Nt)}}return buildCallerFunction(At,c,St,Tt,e.policyTbl,xt,"ptr,num,pushPointer(this,ptrType)",o,ht,Ct)}_nbind.makeMethodCaller=makeMethodCaller;function makeCaller(c){var e=c.typeList.length-1,a=_nbind.getTypes(c.typeList,c.title),d=a[0],nt=a.slice(1),o=d.needsWireRead(c.policyTbl),ht=anyNeedsWireWrite(nt,c.policyTbl),vt=c.direct,xt=c.ptr;if(c.direct&&!o&&!ht){var St=_nbind.getDynCall(a,c.title);switch(e){case 0:return function(){return St(vt)};case 1:return function(Rt){return St(vt,Rt)};case 2:return function(Rt,yt){return St(vt,Rt,yt)};case 3:return function(Rt,yt,Dt){return St(vt,Rt,yt,Dt)}}xt=0}var Tt;if(xt){var At=c.typeList.slice(0);At.splice(1,0,"uint32_t"),a=_nbind.getTypes(At,c.title),Tt="ptr,num"}else xt=vt,Tt="ptr";var Ct=_nbind.getDynCall(a,c.title);return buildCallerFunction(Ct,null,xt,c.num,c.policyTbl,ht,Tt,d,nt)}_nbind.makeCaller=makeCaller;function makeOverloader(c,e){var a=[];function d(){return a[arguments.length].apply(this,arguments)}return d.addMethod=function(nt,o){a[o]=nt},d.addMethod(c,e),d}_nbind.makeOverloader=makeOverloader;var Resource=function(){function c(e,a){var d=this;this.makeOpen=function(){return Object.keys(d.openTbl).join("")},this.makeClose=function(){return Object.keys(d.closeTbl).join("")},this.openTbl={},this.closeTbl={},e&&(this.openTbl[e]=!0),a&&(this.closeTbl[a]=!0)}return c.prototype.add=function(e){for(var a=0,d=Object.keys(e.openTbl);a<d.length;a++){var nt=d[a];this.openTbl[nt]=!0}for(var o=0,ht=Object.keys(e.closeTbl);o<ht.length;o++){var nt=ht[o];this.closeTbl[nt]=!0}},c.prototype.remove=function(e){for(var a=0,d=Object.keys(e.openTbl);a<d.length;a++){var nt=d[a];delete this.openTbl[nt]}for(var o=0,ht=Object.keys(e.closeTbl);o<ht.length;o++){var nt=ht[o];delete this.closeTbl[nt]}},c}();_nbind.Resource=Resource;function listResources(c,e){for(var a=new Resource,d=0,nt=c;d<nt.length;d++)for(var o=nt[d],ht=0,vt=o.readResources||[];ht<vt.length;ht++){var xt=vt[ht];a.add(xt)}for(var St=0,Tt=e;St<Tt.length;St++)for(var o=Tt[St],At=0,Ct=o.writeResources||[];At<Ct.length;At++){var xt=Ct[At];a.add(xt)}return a}_nbind.listResources=listResources,_nbind.resources={pool:new Resource("var used=HEAPU32[_nbind.Pool.usedPtr],page=HEAPU32[_nbind.Pool.pagePtr];","_nbind.Pool.lreset(used,page);")};var ExternalBuffer=function(c){__extends(e,c);function e(a,d){var nt=c.call(this,a)||this;return nt.ptr=d,nt}return e.prototype.free=function(){_free(this.ptr)},e}(_nbind.External);function getBuffer(c){return c instanceof ArrayBuffer?new Uint8Array(c):c instanceof DataView?new Uint8Array(c.buffer,c.byteOffset,c.byteLength):c}function pushBuffer(c,e){if(c==null&&e&&e.Nullable&&(c=[]),typeof c!="object")throw new Error("Type mismatch");var a=c,d=a.byteLength||a.length;if(!d&&d!==0&&a.byteLength!==0)throw new Error("Type mismatch");var nt=_nbind.Pool.lalloc(8),o=_malloc(d),ht=nt/4;return HEAPU32[ht++]=d,HEAPU32[ht++]=o,HEAPU32[ht++]=new ExternalBuffer(c,o).register(),HEAPU8.set(getBuffer(c),o),nt}var BufferType=function(c){__extends(e,c);function e(){var a=c!==null&&c.apply(this,arguments)||this;return a.wireWrite=pushBuffer,a.readResources=[_nbind.resources.pool],a.writeResources=[_nbind.resources.pool],a}return e.prototype.makeWireWrite=function(a,d){return function(nt){return pushBuffer(nt,d)}},e}(_nbind.BindType);_nbind.BufferType=BufferType;function commitBuffer(c,e,a){var d=_nbind.externalList[c].data,nt=Buffer;if(typeof Buffer!="function"&&(nt=function(){}),!(d instanceof Array)){var o=HEAPU8.subarray(e,e+a);if(d instanceof nt){var ht=void 0;typeof Buffer.from=="function"&&Buffer.from.length>=3,ht=Buffer.from(o),ht.copy(d)}else getBuffer(d).set(o)}}_nbind.commitBuffer=commitBuffer;var dirtyList=[],gcTimer=0;function sweep(){for(var c=0,e=dirtyList;c<e.length;c++){var a=e[c];a.__nbindState&3||a.free()}dirtyList=[],gcTimer=0}_nbind.mark=function(c){};function toggleLightGC(c){c?_nbind.mark=function(e){dirtyList.push(e),gcTimer||(gcTimer=setTimeout(sweep,0))}:_nbind.mark=function(e){}}_nbind.toggleLightGC=toggleLightGC}(_nbind),Module.requestFullScreen=function c(e,a,d){Module.printErr("Module.requestFullScreen is deprecated. Please call Module.requestFullscreen instead."),Module.requestFullScreen=Module.requestFullscreen,Browser.requestFullScreen(e,a,d)},Module.requestFullscreen=function c(e,a,d){Browser.requestFullscreen(e,a,d)},Module.requestAnimationFrame=function c(e){Browser.requestAnimationFrame(e)},Module.setCanvasSize=function c(e,a,d){Browser.setCanvasSize(e,a,d)},Module.pauseMainLoop=function c(){Browser.mainLoop.pause()},Module.resumeMainLoop=function c(){Browser.mainLoop.resume()},Module.getUserMedia=function c(){Browser.getUserMedia()},Module.createContext=function c(e,a,d,nt){return Browser.createContext(e,a,d,nt)},ENVIRONMENT_IS_NODE?_emscripten_get_now=function(){var e=process.hrtime();return e[0]*1e3+e[1]/1e6}:typeof dateNow<"u"?_emscripten_get_now=dateNow:typeof self=="object"&&self.performance&&typeof self.performance.now=="function"?_emscripten_get_now=function(){return self.performance.now()}:typeof performance=="object"&&typeof performance.now=="function"?_emscripten_get_now=function(){return performance.now()}:_emscripten_get_now=Date.now,__ATEXIT__.push(function(){var c=Module._fflush;c&&c(0);var e=___syscall146.printChar;if(e){var a=___syscall146.buffers;a[1].length&&e(1,10),a[2].length&&e(2,10)}}),DYNAMICTOP_PTR=allocate(1,"i32",ALLOC_STATIC),STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=Runtime.alignMemory(STACK_MAX),HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE,staticSealed=!0;function invoke_viiiii(c,e,a,d,nt,o){try{Module.dynCall_viiiii(c,e,a,d,nt,o)}catch(ht){if(typeof ht!="number"&&ht!=="longjmp")throw ht;Module.setThrew(1,0)}}function invoke_vif(c,e,a){try{Module.dynCall_vif(c,e,a)}catch(d){if(typeof d!="number"&&d!=="longjmp")throw d;Module.setThrew(1,0)}}function invoke_vid(c,e,a){try{Module.dynCall_vid(c,e,a)}catch(d){if(typeof d!="number"&&d!=="longjmp")throw d;Module.setThrew(1,0)}}function invoke_fiff(c,e,a,d){try{return Module.dynCall_fiff(c,e,a,d)}catch(nt){if(typeof nt!="number"&&nt!=="longjmp")throw nt;Module.setThrew(1,0)}}function invoke_vi(c,e){try{Module.dynCall_vi(c,e)}catch(a){if(typeof a!="number"&&a!=="longjmp")throw a;Module.setThrew(1,0)}}function invoke_vii(c,e,a){try{Module.dynCall_vii(c,e,a)}catch(d){if(typeof d!="number"&&d!=="longjmp")throw d;Module.setThrew(1,0)}}function invoke_ii(c,e){try{return Module.dynCall_ii(c,e)}catch(a){if(typeof a!="number"&&a!=="longjmp")throw a;Module.setThrew(1,0)}}function invoke_viddi(c,e,a,d,nt){try{Module.dynCall_viddi(c,e,a,d,nt)}catch(o){if(typeof o!="number"&&o!=="longjmp")throw o;Module.setThrew(1,0)}}function invoke_vidd(c,e,a,d){try{Module.dynCall_vidd(c,e,a,d)}catch(nt){if(typeof nt!="number"&&nt!=="longjmp")throw nt;Module.setThrew(1,0)}}function invoke_iiii(c,e,a,d){try{return Module.dynCall_iiii(c,e,a,d)}catch(nt){if(typeof nt!="number"&&nt!=="longjmp")throw nt;Module.setThrew(1,0)}}function invoke_diii(c,e,a,d){try{return Module.dynCall_diii(c,e,a,d)}catch(nt){if(typeof nt!="number"&&nt!=="longjmp")throw nt;Module.setThrew(1,0)}}function invoke_di(c,e){try{return Module.dynCall_di(c,e)}catch(a){if(typeof a!="number"&&a!=="longjmp")throw a;Module.setThrew(1,0)}}function invoke_iid(c,e,a){try{return Module.dynCall_iid(c,e,a)}catch(d){if(typeof d!="number"&&d!=="longjmp")throw d;Module.setThrew(1,0)}}function invoke_iii(c,e,a){try{return Module.dynCall_iii(c,e,a)}catch(d){if(typeof d!="number"&&d!=="longjmp")throw d;Module.setThrew(1,0)}}function invoke_viiddi(c,e,a,d,nt,o){try{Module.dynCall_viiddi(c,e,a,d,nt,o)}catch(ht){if(typeof ht!="number"&&ht!=="longjmp")throw ht;Module.setThrew(1,0)}}function invoke_viiiiii(c,e,a,d,nt,o,ht){try{Module.dynCall_viiiiii(c,e,a,d,nt,o,ht)}catch(vt){if(typeof vt!="number"&&vt!=="longjmp")throw vt;Module.setThrew(1,0)}}function invoke_dii(c,e,a){try{return Module.dynCall_dii(c,e,a)}catch(d){if(typeof d!="number"&&d!=="longjmp")throw d;Module.setThrew(1,0)}}function invoke_i(c){try{return Module.dynCall_i(c)}catch(e){if(typeof e!="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_iiiiii(c,e,a,d,nt,o){try{return Module.dynCall_iiiiii(c,e,a,d,nt,o)}catch(ht){if(typeof ht!="number"&&ht!=="longjmp")throw ht;Module.setThrew(1,0)}}function invoke_viiid(c,e,a,d,nt){try{Module.dynCall_viiid(c,e,a,d,nt)}catch(o){if(typeof o!="number"&&o!=="longjmp")throw o;Module.setThrew(1,0)}}function invoke_viififi(c,e,a,d,nt,o,ht){try{Module.dynCall_viififi(c,e,a,d,nt,o,ht)}catch(vt){if(typeof vt!="number"&&vt!=="longjmp")throw vt;Module.setThrew(1,0)}}function invoke_viii(c,e,a,d){try{Module.dynCall_viii(c,e,a,d)}catch(nt){if(typeof nt!="number"&&nt!=="longjmp")throw nt;Module.setThrew(1,0)}}function invoke_v(c){try{Module.dynCall_v(c)}catch(e){if(typeof e!="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_viid(c,e,a,d){try{Module.dynCall_viid(c,e,a,d)}catch(nt){if(typeof nt!="number"&&nt!=="longjmp")throw nt;Module.setThrew(1,0)}}function invoke_idd(c,e,a){try{return Module.dynCall_idd(c,e,a)}catch(d){if(typeof d!="number"&&d!=="longjmp")throw d;Module.setThrew(1,0)}}function invoke_viiii(c,e,a,d,nt){try{Module.dynCall_viiii(c,e,a,d,nt)}catch(o){if(typeof o!="number"&&o!=="longjmp")throw o;Module.setThrew(1,0)}}Module.asmGlobalArg={Math,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Float32Array,Float64Array,NaN:NaN,Infinity:1/0},Module.asmLibraryArg={abort,assert,enlargeMemory,getTotalMemory,abortOnCannotGrowMemory,invoke_viiiii,invoke_vif,invoke_vid,invoke_fiff,invoke_vi,invoke_vii,invoke_ii,invoke_viddi,invoke_vidd,invoke_iiii,invoke_diii,invoke_di,invoke_iid,invoke_iii,invoke_viiddi,invoke_viiiiii,invoke_dii,invoke_i,invoke_iiiiii,invoke_viiid,invoke_viififi,invoke_viii,invoke_v,invoke_viid,invoke_idd,invoke_viiii,_emscripten_asm_const_iiiii,_emscripten_asm_const_iiidddddd,_emscripten_asm_const_iiiid,__nbind_reference_external,_emscripten_asm_const_iiiiiiii,_removeAccessorPrefix,_typeModule,__nbind_register_pool,__decorate,_llvm_stackrestore,___cxa_atexit,__extends,__nbind_get_value_object,__ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj,_emscripten_set_main_loop_timing,__nbind_register_primitive,__nbind_register_type,_emscripten_memcpy_big,__nbind_register_function,___setErrNo,__nbind_register_class,__nbind_finish,_abort,_nbind_value,_llvm_stacksave,___syscall54,_defineHidden,_emscripten_set_main_loop,_emscripten_get_now,__nbind_register_callback_signature,_emscripten_asm_const_iiiiii,__nbind_free_external,_emscripten_asm_const_iiii,_emscripten_asm_const_iiididi,___syscall6,_atexit,___syscall140,___syscall146,DYNAMICTOP_PTR,tempDoublePtr,ABORT,STACKTOP,STACK_MAX,cttz_i8,___dso_handle};var asm=function(c,e,a){var d=new c.Int8Array(a),nt=new c.Int16Array(a),o=new c.Int32Array(a),ht=new c.Uint8Array(a),vt=new c.Uint16Array(a),xt=new c.Uint32Array(a),St=new c.Float32Array(a),Tt=new c.Float64Array(a),At=e.DYNAMICTOP_PTR|0,Ct=e.tempDoublePtr|0,Rt=e.ABORT|0,yt=e.STACKTOP|0,Dt=e.STACK_MAX|0,Nt=e.cttz_i8|0,Lt=e.___dso_handle|0,Ot=0,Ft=0,Vt=0,jt=0,$t=c.NaN,Yt=c.Infinity,Kt=0,qt=0,Wt=0,Jt=0,cn=0,sn=0,Tn=c.Math.floor,Cn=c.Math.abs,En=c.Math.sqrt,Nn=c.Math.pow,on=c.Math.cos,hn=c.Math.sin,pn=c.Math.tan,Pn=c.Math.acos,jn=c.Math.asin,ar=c.Math.atan,An=c.Math.atan2,Xn=c.Math.exp,or=c.Math.log,tr=c.Math.ceil,_r=c.Math.imul,kr=c.Math.min,hr=c.Math.max,gr=c.Math.clz32,It=c.Math.fround,Jn=e.abort,nn=e.assert,rr=e.enlargeMemory,Kn=e.getTotalMemory,Qn=e.abortOnCannotGrowMemory,Fn=e.invoke_viiiii,vr=e.invoke_vif,Yn=e.invoke_vid,tn=e.invoke_fiff,Qt=e.invoke_vi,dn=e.invoke_vii,In=e.invoke_ii,Hn=e.invoke_viddi,xn=e.invoke_vidd,er=e.invoke_iiii,Gn=e.invoke_diii,dr=e.invoke_di,Nr=e.invoke_iid,Zn=e.invoke_iii,nr=e.invoke_viiddi,ir=e.invoke_viiiiii,Or=e.invoke_dii,Er=e.invoke_i,un=e.invoke_iiiiii,$n=e.invoke_viiid,ur=e.invoke_viififi,an=e.invoke_viii,sr=e.invoke_v,kn=e.invoke_viid,Wn=e.invoke_idd,xr=e.invoke_viiii,pr=e._emscripten_asm_const_iiiii,Hr=e._emscripten_asm_const_iiidddddd,ao=e._emscripten_asm_const_iiiid,So=e.__nbind_reference_external,to=e._emscripten_asm_const_iiiiiiii,Lo=e._removeAccessorPrefix,Io=e._typeModule,js=e.__nbind_register_pool,$u=e.__decorate,Es=e._llvm_stackrestore,Ur=e.___cxa_atexit,nu=e.__extends,gs=e.__nbind_get_value_object,Dl=e.__ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj,Wu=e._emscripten_set_main_loop_timing,xu=e.__nbind_register_primitive,Su=e.__nbind_register_type,Jp=e._emscripten_memcpy_big,R0=e.__nbind_register_function,em=e.___setErrNo,tm=e.__nbind_register_class,a1=e.__nbind_finish,ro=e._abort,C2=e._nbind_value,en=e._llvm_stacksave,wn=e.___syscall54,Dn=e._defineHidden,On=e._emscripten_set_main_loop,Mn=e._emscripten_get_now,lr=e.__nbind_register_callback_signature,yr=e._emscripten_asm_const_iiiiii,Ir=e.__nbind_free_external,br=e._emscripten_asm_const_iiii,Kr=e._emscripten_asm_const_iiididi,Xr=e.___syscall6,Sr=e._atexit,Vr=e.___syscall140,fo=e.___syscall146,yo=It(0);const Un=It(0);function ho(s){s=s|0;var tt=0;return tt=yt,yt=yt+s|0,yt=yt+15&-16,tt|0}function $r(){return yt|0}function To(s){s=s|0,yt=s}function wo(s,tt){s=s|0,tt=tt|0,yt=s,Dt=tt}function Ts(s,tt){s=s|0,tt=tt|0,Ot||(Ot=s,Ft=tt)}function ru(s){s=s|0,sn=s}function Ko(){return sn|0}function wu(){var s=0,tt=0;Zr(8104,8,400)|0,Zr(8504,408,540)|0,s=9044,tt=s+44|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));d[9088]=0,d[9089]=1,o[2273]=0,o[2274]=948,o[2275]=948,Ur(17,8104,Lt|0)|0}function xo(s){s=s|0,Z_(s+948|0)}function fr(s){return s=It(s),((Y2(s)|0)&2147483647)>>>0>2139095040|0}function bo(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;e:do if(o[s+(tt<<3)+4>>2]|0)s=s+(tt<<3)|0;else{if((tt|2|0)==3&&o[s+60>>2]|0){s=s+56|0;break}switch(tt|0){case 0:case 2:case 4:case 5:{if(o[s+52>>2]|0){s=s+48|0;break e}break}default:}if(o[s+68>>2]|0){s=s+64|0;break}else{s=(tt|1|0)==5?948:ot;break}}while(0);return s|0}function Qo(s){s=s|0;var tt=0;return tt=B_(1e3)|0,Vo(s,(tt|0)!=0,2456),o[2276]=(o[2276]|0)+1,Zr(tt|0,8104,1e3)|0,d[s+2>>0]|0&&(o[tt+4>>2]=2,o[tt+12>>2]=4),o[tt+976>>2]=s,tt|0}function Vo(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0;gt=yt,yt=yt+16|0,ft=gt,tt||(o[ft>>2]=ot,T1(s,5,3197,ft)),yt=gt}function Mu(){return Qo(956)|0}function As(s){s=s|0;var tt=0;return tt=Cr(1e3)|0,nm(tt,s),Vo(o[s+976>>2]|0,1,2456),o[2276]=(o[2276]|0)+1,o[tt+944>>2]=0,tt|0}function nm(s,tt){s=s|0,tt=tt|0;var ot=0;Zr(s|0,tt|0,948)|0,lu(s+948|0,tt+948|0),ot=s+960|0,s=tt+960|0,tt=ot+40|0;do o[ot>>2]=o[s>>2],ot=ot+4|0,s=s+4|0;while((ot|0)<(tt|0))}function q_(s){s=s|0;var tt=0,ot=0,ft=0,gt=0;if(tt=s+944|0,ot=o[tt>>2]|0,ot|0&&(R2(ot+948|0,s)|0,o[tt>>2]=0),ot=xl(s)|0,ot|0){tt=0;do o[(Sl(s,tt)|0)+944>>2]=0,tt=tt+1|0;while((tt|0)!=(ot|0))}ot=s+948|0,ft=o[ot>>2]|0,gt=s+952|0,tt=o[gt>>2]|0,(tt|0)!=(ft|0)&&(o[gt>>2]=tt+(~((tt+-4-ft|0)>>>2)<<2)),P0(ot),U_(s),o[2276]=(o[2276]|0)+-1}function R2(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=o[s>>2]|0,Pt=s+4|0,ot=o[Pt>>2]|0,_t=ot;e:do if((ft|0)==(ot|0))gt=ft,Mt=4;else for(s=ft;;){if((o[s>>2]|0)==(tt|0)){gt=s,Mt=4;break e}if(s=s+4|0,(s|0)==(ot|0)){s=0;break}}while(0);return(Mt|0)==4&&((gt|0)!=(ot|0)?(ft=gt+4|0,s=_t-ft|0,tt=s>>2,tt&&(c2(gt|0,ft|0,s|0)|0,ot=o[Pt>>2]|0),s=gt+(tt<<2)|0,(ot|0)==(s|0)||(o[Pt>>2]=ot+(~((ot+-4-s|0)>>>2)<<2)),s=1):s=0),s|0}function xl(s){return s=s|0,(o[s+952>>2]|0)-(o[s+948>>2]|0)>>2|0}function Sl(s,tt){s=s|0,tt=tt|0;var ot=0;return ot=o[s+948>>2]|0,(o[s+952>>2]|0)-ot>>2>>>0>tt>>>0?s=o[ot+(tt<<2)>>2]|0:s=0,s|0}function P0(s){s=s|0;var tt=0,ot=0,ft=0,gt=0;ft=yt,yt=yt+32|0,tt=ft,gt=o[s>>2]|0,ot=(o[s+4>>2]|0)-gt|0,((o[s+8>>2]|0)-gt|0)>>>0>ot>>>0&&(gt=ot>>2,t0(tt,gt,gt,s+8|0),Ap(s,tt),H0(tt)),yt=ft}function Y_(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0;zt=xl(s)|0;do if(zt|0){if((o[(Sl(s,0)|0)+944>>2]|0)==(s|0)){if(!(R2(s+948|0,tt)|0))break;Zr(tt+400|0,8504,540)|0,o[tt+944>>2]=0,oo(s);break}Mt=o[(o[s+976>>2]|0)+12>>2]|0,Pt=s+948|0,kt=(Mt|0)==0,ot=0,_t=0;do ft=o[(o[Pt>>2]|0)+(_t<<2)>>2]|0,(ft|0)==(tt|0)?oo(s):(gt=As(ft)|0,o[(o[Pt>>2]|0)+(ot<<2)>>2]=gt,o[gt+944>>2]=s,kt||Ny[Mt&15](ft,gt,s,ot),ot=ot+1|0),_t=_t+1|0;while((_t|0)!=(zt|0));if(ot>>>0<zt>>>0){kt=s+948|0,Pt=s+952|0,Mt=ot,ot=o[Pt>>2]|0;do _t=(o[kt>>2]|0)+(Mt<<2)|0,ft=_t+4|0,gt=ot-ft|0,tt=gt>>2,tt&&(c2(_t|0,ft|0,gt|0)|0,ot=o[Pt>>2]|0),gt=ot,ft=_t+(tt<<2)|0,(gt|0)!=(ft|0)&&(ot=gt+(~((gt+-4-ft|0)>>>2)<<2)|0,o[Pt>>2]=ot),Mt=Mt+1|0;while((Mt|0)!=(zt|0))}}while(0)}function l1(s){s=s|0;var tt=0,ot=0,ft=0,gt=0;io(s,(xl(s)|0)==0,2491),io(s,(o[s+944>>2]|0)==0,2545),tt=s+948|0,ot=o[tt>>2]|0,ft=s+952|0,gt=o[ft>>2]|0,(gt|0)!=(ot|0)&&(o[ft>>2]=gt+(~((gt+-4-ot|0)>>>2)<<2)),P0(tt),tt=s+976|0,ot=o[tt>>2]|0,Zr(s|0,8104,1e3)|0,d[ot+2>>0]|0&&(o[s+4>>2]=2,o[s+12>>2]=4),o[tt>>2]=ot}function io(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0;gt=yt,yt=yt+16|0,ft=gt,tt||(o[ft>>2]=ot,Zs(s,5,3197,ft)),yt=gt}function P2(){return o[2276]|0}function u1(){var s=0;return s=B_(20)|0,L2((s|0)!=0,2592),o[2277]=(o[2277]|0)+1,o[s>>2]=o[239],o[s+4>>2]=o[240],o[s+8>>2]=o[241],o[s+12>>2]=o[242],o[s+16>>2]=o[243],s|0}function L2(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;ft=yt,yt=yt+16|0,ot=ft,s||(o[ot>>2]=tt,Zs(0,5,3197,ot)),yt=ft}function K_(s){s=s|0,U_(s),o[2277]=(o[2277]|0)+-1}function I2(s,tt){s=s|0,tt=tt|0;var ot=0;tt?(io(s,(xl(s)|0)==0,2629),ot=1):(ot=0,tt=0),o[s+964>>2]=tt,o[s+988>>2]=ot}function Zo(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;ft=yt,yt=yt+16|0,_t=ft+8|0,gt=ft+4|0,Mt=ft,o[gt>>2]=tt,io(s,(o[tt+944>>2]|0)==0,2709),io(s,(o[s+964>>2]|0)==0,2763),_p(s),tt=s+948|0,o[Mt>>2]=(o[tt>>2]|0)+(ot<<2),o[_t>>2]=o[Mt>>2],Q_(tt,_t,gt)|0,o[(o[gt>>2]|0)+944>>2]=s,oo(s),yt=ft}function _p(s){s=s|0;var tt=0,ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0;if(ot=xl(s)|0,ot|0&&(o[(Sl(s,0)|0)+944>>2]|0)!=(s|0)){ft=o[(o[s+976>>2]|0)+12>>2]|0,gt=s+948|0,_t=(ft|0)==0,tt=0;do Mt=o[(o[gt>>2]|0)+(tt<<2)>>2]|0,Pt=As(Mt)|0,o[(o[gt>>2]|0)+(tt<<2)>>2]=Pt,o[Pt+944>>2]=s,_t||Ny[ft&15](Mt,Pt,s,tt),tt=tt+1|0;while((tt|0)!=(ot|0))}}function Q_(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0,yn=0,fn=0,ln=0,bn=0,Rn=0;bn=yt,yt=yt+64|0,Ht=bn+52|0,Pt=bn+48|0,Zt=bn+28|0,yn=bn+24|0,fn=bn+20|0,ln=bn,ft=o[s>>2]|0,_t=ft,tt=ft+((o[tt>>2]|0)-_t>>2<<2)|0,ft=s+4|0,gt=o[ft>>2]|0,Mt=s+8|0;do if(gt>>>0<(o[Mt>>2]|0)>>>0){if((tt|0)==(gt|0)){o[tt>>2]=o[ot>>2],o[ft>>2]=(o[ft>>2]|0)+4;break}Sm(s,tt,gt,tt+4|0),tt>>>0<=ot>>>0&&(ot=(o[ft>>2]|0)>>>0>ot>>>0?ot+4|0:ot),o[tt>>2]=o[ot>>2]}else{ft=(gt-_t>>2)+1|0,gt=wp(s)|0,gt>>>0<ft>>>0&&_o(s),Ut=o[s>>2]|0,zt=(o[Mt>>2]|0)-Ut|0,_t=zt>>1,t0(ln,zt>>2>>>0<gt>>>1>>>0?_t>>>0<ft>>>0?ft:_t:gt,tt-Ut>>2,s+8|0),Ut=ln+8|0,ft=o[Ut>>2]|0,_t=ln+12|0,zt=o[_t>>2]|0,Mt=zt,kt=ft;do if((ft|0)==(zt|0)){if(zt=ln+4|0,ft=o[zt>>2]|0,Rn=o[ln>>2]|0,gt=Rn,ft>>>0<=Rn>>>0){ft=Mt-gt>>1,ft=ft|0?ft:1,t0(Zt,ft,ft>>>2,o[ln+16>>2]|0),o[yn>>2]=o[zt>>2],o[fn>>2]=o[Ut>>2],o[Pt>>2]=o[yn>>2],o[Ht>>2]=o[fn>>2],Cp(Zt,Pt,Ht),ft=o[ln>>2]|0,o[ln>>2]=o[Zt>>2],o[Zt>>2]=ft,ft=Zt+4|0,Rn=o[zt>>2]|0,o[zt>>2]=o[ft>>2],o[ft>>2]=Rn,ft=Zt+8|0,Rn=o[Ut>>2]|0,o[Ut>>2]=o[ft>>2],o[ft>>2]=Rn,ft=Zt+12|0,Rn=o[_t>>2]|0,o[_t>>2]=o[ft>>2],o[ft>>2]=Rn,H0(Zt),ft=o[Ut>>2]|0;break}_t=ft,Mt=((_t-gt>>2)+1|0)/-2|0,Pt=ft+(Mt<<2)|0,gt=kt-_t|0,_t=gt>>2,_t&&(c2(Pt|0,ft|0,gt|0)|0,ft=o[zt>>2]|0),Rn=Pt+(_t<<2)|0,o[Ut>>2]=Rn,o[zt>>2]=ft+(Mt<<2),ft=Rn}while(0);o[ft>>2]=o[ot>>2],o[Ut>>2]=(o[Ut>>2]|0)+4,tt=K2(s,ln,tt)|0,H0(ln)}while(0);return yt=bn,tt|0}function oo(s){s=s|0;var tt=0;do{if(tt=s+984|0,d[tt>>0]|0)break;d[tt>>0]=1,St[s+504>>2]=It($t),s=o[s+944>>2]|0}while(s|0)}function Z_(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~((tt+-4-ft|0)>>>2)<<2)),qn(ot))}function rm(s){return s=s|0,o[s+944>>2]|0}function Ol(s){s=s|0,io(s,(o[s+964>>2]|0)!=0,2832),oo(s)}function J_(s){return s=s|0,(d[s+984>>0]|0)!=0|0}function ev(s,tt){s=s|0,tt=tt|0,YF(s,tt,400)|0&&(Zr(s|0,tt|0,400)|0,oo(s))}function Fl(s){s=s|0;var tt=Un;return tt=It(St[s+44>>2]),s=fr(tt)|0,It(s?It(0):tt)}function iu(s){s=s|0;var tt=Un;return tt=It(St[s+48>>2]),fr(tt)|0&&(tt=d[(o[s+976>>2]|0)+2>>0]|0?It(1):It(0)),It(tt)}function im(s,tt){s=s|0,tt=tt|0,o[s+980>>2]=tt}function om(s){return s=s|0,o[s+980>>2]|0}function b2(s,tt){s=s|0,tt=tt|0;var ot=0;ot=s+4|0,(o[ot>>2]|0)!=(tt|0)&&(o[ot>>2]=tt,oo(s))}function tv(s){return s=s|0,o[s+4>>2]|0}function Bl(s,tt){s=s|0,tt=tt|0;var ot=0;ot=s+8|0,(o[ot>>2]|0)!=(tt|0)&&(o[ot>>2]=tt,oo(s))}function nv(s){return s=s|0,o[s+8>>2]|0}function sm(s,tt){s=s|0,tt=tt|0;var ot=0;ot=s+12|0,(o[ot>>2]|0)!=(tt|0)&&(o[ot>>2]=tt,oo(s))}function rv(s){return s=s|0,o[s+12>>2]|0}function wl(s,tt){s=s|0,tt=tt|0;var ot=0;ot=s+16|0,(o[ot>>2]|0)!=(tt|0)&&(o[ot>>2]=tt,oo(s))}function am(s){return s=s|0,o[s+16>>2]|0}function lm(s,tt){s=s|0,tt=tt|0;var ot=0;ot=s+20|0,(o[ot>>2]|0)!=(tt|0)&&(o[ot>>2]=tt,oo(s))}function L0(s){return s=s|0,o[s+20>>2]|0}function c1(s,tt){s=s|0,tt=tt|0;var ot=0;ot=s+24|0,(o[ot>>2]|0)!=(tt|0)&&(o[ot>>2]=tt,oo(s))}function f1(s){return s=s|0,o[s+24>>2]|0}function k2(s,tt){s=s|0,tt=tt|0;var ot=0;ot=s+28|0,(o[ot>>2]|0)!=(tt|0)&&(o[ot>>2]=tt,oo(s))}function d1(s){return s=s|0,o[s+28>>2]|0}function h1(s,tt){s=s|0,tt=tt|0;var ot=0;ot=s+32|0,(o[ot>>2]|0)!=(tt|0)&&(o[ot>>2]=tt,oo(s))}function I0(s){return s=s|0,o[s+32>>2]|0}function Xs(s,tt){s=s|0,tt=tt|0;var ot=0;ot=s+36|0,(o[ot>>2]|0)!=(tt|0)&&(o[ot>>2]=tt,oo(s))}function Ul(s){return s=s|0,o[s+36>>2]|0}function Eu(s,tt){s=s|0,tt=It(tt);var ot=0;ot=s+40|0,It(St[ot>>2])!=tt&&(St[ot>>2]=tt,oo(s))}function p1(s,tt){s=s|0,tt=It(tt);var ot=0;ot=s+44|0,It(St[ot>>2])!=tt&&(St[ot>>2]=tt,oo(s))}function N2(s,tt){s=s|0,tt=It(tt);var ot=0;ot=s+48|0,It(St[ot>>2])!=tt&&(St[ot>>2]=tt,oo(s))}function ou(s,tt){s=s|0,tt=It(tt);var ot=0,ft=0,gt=0,_t=0;_t=fr(tt)|0,ot=(_t^1)&1,ft=s+52|0,gt=s+56|0,_t|It(St[ft>>2])==tt&&(o[gt>>2]|0)==(ot|0)||(St[ft>>2]=tt,o[gt>>2]=ot,oo(s))}function Tu(s,tt){s=s|0,tt=It(tt);var ot=0,ft=0;ft=s+52|0,ot=s+56|0,It(St[ft>>2])==tt&&(o[ot>>2]|0)==2||(St[ft>>2]=tt,ft=fr(tt)|0,o[ot>>2]=ft?3:2,oo(s))}function um(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;ft=tt+52|0,ot=o[ft+4>>2]|0,tt=s,o[tt>>2]=o[ft>>2],o[tt+4>>2]=ot}function D2(s,tt,ot){s=s|0,tt=tt|0,ot=It(ot);var ft=0,gt=0,_t=0;_t=fr(ot)|0,ft=(_t^1)&1,gt=s+132+(tt<<3)|0,tt=s+132+(tt<<3)+4|0,_t|It(St[gt>>2])==ot&&(o[tt>>2]|0)==(ft|0)||(St[gt>>2]=ot,o[tt>>2]=ft,oo(s))}function cm(s,tt,ot){s=s|0,tt=tt|0,ot=It(ot);var ft=0,gt=0,_t=0;_t=fr(ot)|0,ft=_t?0:2,gt=s+132+(tt<<3)|0,tt=s+132+(tt<<3)+4|0,_t|It(St[gt>>2])==ot&&(o[tt>>2]|0)==(ft|0)||(St[gt>>2]=ot,o[tt>>2]=ft,oo(s))}function O2(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=tt+132+(ot<<3)|0,tt=o[ft+4>>2]|0,ot=s,o[ot>>2]=o[ft>>2],o[ot+4>>2]=tt}function F2(s,tt,ot){s=s|0,tt=tt|0,ot=It(ot);var ft=0,gt=0,_t=0;_t=fr(ot)|0,ft=(_t^1)&1,gt=s+60+(tt<<3)|0,tt=s+60+(tt<<3)+4|0,_t|It(St[gt>>2])==ot&&(o[tt>>2]|0)==(ft|0)||(St[gt>>2]=ot,o[tt>>2]=ft,oo(s))}function m1(s,tt,ot){s=s|0,tt=tt|0,ot=It(ot);var ft=0,gt=0,_t=0;_t=fr(ot)|0,ft=_t?0:2,gt=s+60+(tt<<3)|0,tt=s+60+(tt<<3)+4|0,_t|It(St[gt>>2])==ot&&(o[tt>>2]|0)==(ft|0)||(St[gt>>2]=ot,o[tt>>2]=ft,oo(s))}function fm(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=tt+60+(ot<<3)|0,tt=o[ft+4>>2]|0,ot=s,o[ot>>2]=o[ft>>2],o[ot+4>>2]=tt}function B2(s,tt){s=s|0,tt=tt|0;var ot=0;ot=s+60+(tt<<3)+4|0,(o[ot>>2]|0)!=3&&(St[s+60+(tt<<3)>>2]=It($t),o[ot>>2]=3,oo(s))}function U2(s,tt,ot){s=s|0,tt=tt|0,ot=It(ot);var ft=0,gt=0,_t=0;_t=fr(ot)|0,ft=(_t^1)&1,gt=s+204+(tt<<3)|0,tt=s+204+(tt<<3)+4|0,_t|It(St[gt>>2])==ot&&(o[tt>>2]|0)==(ft|0)||(St[gt>>2]=ot,o[tt>>2]=ft,oo(s))}function z2(s,tt,ot){s=s|0,tt=tt|0,ot=It(ot);var ft=0,gt=0,_t=0;_t=fr(ot)|0,ft=_t?0:2,gt=s+204+(tt<<3)|0,tt=s+204+(tt<<3)+4|0,_t|It(St[gt>>2])==ot&&(o[tt>>2]|0)==(ft|0)||(St[gt>>2]=ot,o[tt>>2]=ft,oo(s))}function g1(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=tt+204+(ot<<3)|0,tt=o[ft+4>>2]|0,ot=s,o[ot>>2]=o[ft>>2],o[ot+4>>2]=tt}function b0(s,tt,ot){s=s|0,tt=tt|0,ot=It(ot);var ft=0,gt=0,_t=0;_t=fr(ot)|0,ft=(_t^1)&1,gt=s+276+(tt<<3)|0,tt=s+276+(tt<<3)+4|0,_t|It(St[gt>>2])==ot&&(o[tt>>2]|0)==(ft|0)||(St[gt>>2]=ot,o[tt>>2]=ft,oo(s))}function k0(s,tt){return s=s|0,tt=tt|0,It(St[s+276+(tt<<3)>>2])}function dm(s,tt){s=s|0,tt=It(tt);var ot=0,ft=0,gt=0,_t=0;_t=fr(tt)|0,ot=(_t^1)&1,ft=s+348|0,gt=s+352|0,_t|It(St[ft>>2])==tt&&(o[gt>>2]|0)==(ot|0)||(St[ft>>2]=tt,o[gt>>2]=ot,oo(s))}function hm(s,tt){s=s|0,tt=It(tt);var ot=0,ft=0;ft=s+348|0,ot=s+352|0,It(St[ft>>2])==tt&&(o[ot>>2]|0)==2||(St[ft>>2]=tt,ft=fr(tt)|0,o[ot>>2]=ft?3:2,oo(s))}function qs(s){s=s|0;var tt=0;tt=s+352|0,(o[tt>>2]|0)!=3&&(St[s+348>>2]=It($t),o[tt>>2]=3,oo(s))}function Ys(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;ft=tt+348|0,ot=o[ft+4>>2]|0,tt=s,o[tt>>2]=o[ft>>2],o[tt+4>>2]=ot}function ju(s,tt){s=s|0,tt=It(tt);var ot=0,ft=0,gt=0,_t=0;_t=fr(tt)|0,ot=(_t^1)&1,ft=s+356|0,gt=s+360|0,_t|It(St[ft>>2])==tt&&(o[gt>>2]|0)==(ot|0)||(St[ft>>2]=tt,o[gt>>2]=ot,oo(s))}function su(s,tt){s=s|0,tt=It(tt);var ot=0,ft=0;ft=s+356|0,ot=s+360|0,It(St[ft>>2])==tt&&(o[ot>>2]|0)==2||(St[ft>>2]=tt,ft=fr(tt)|0,o[ot>>2]=ft?3:2,oo(s))}function au(s){s=s|0;var tt=0;tt=s+360|0,(o[tt>>2]|0)!=3&&(St[s+356>>2]=It($t),o[tt>>2]=3,oo(s))}function Xu(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;ft=tt+356|0,ot=o[ft+4>>2]|0,tt=s,o[tt>>2]=o[ft>>2],o[tt+4>>2]=ot}function V2(s,tt){s=s|0,tt=It(tt);var ot=0,ft=0,gt=0,_t=0;_t=fr(tt)|0,ot=(_t^1)&1,ft=s+364|0,gt=s+368|0,_t|It(St[ft>>2])==tt&&(o[gt>>2]|0)==(ot|0)||(St[ft>>2]=tt,o[gt>>2]=ot,oo(s))}function _1(s,tt){s=s|0,tt=It(tt);var ot=0,ft=0,gt=0,_t=0;_t=fr(tt)|0,ot=_t?0:2,ft=s+364|0,gt=s+368|0,_t|It(St[ft>>2])==tt&&(o[gt>>2]|0)==(ot|0)||(St[ft>>2]=tt,o[gt>>2]=ot,oo(s))}function y1(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;ft=tt+364|0,ot=o[ft+4>>2]|0,tt=s,o[tt>>2]=o[ft>>2],o[tt+4>>2]=ot}function Fs(s,tt){s=s|0,tt=It(tt);var ot=0,ft=0,gt=0,_t=0;_t=fr(tt)|0,ot=(_t^1)&1,ft=s+372|0,gt=s+376|0,_t|It(St[ft>>2])==tt&&(o[gt>>2]|0)==(ot|0)||(St[ft>>2]=tt,o[gt>>2]=ot,oo(s))}function Bs(s,tt){s=s|0,tt=It(tt);var ot=0,ft=0,gt=0,_t=0;_t=fr(tt)|0,ot=_t?0:2,ft=s+372|0,gt=s+376|0,_t|It(St[ft>>2])==tt&&(o[gt>>2]|0)==(ot|0)||(St[ft>>2]=tt,o[gt>>2]=ot,oo(s))}function Oo(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;ft=tt+372|0,ot=o[ft+4>>2]|0,tt=s,o[tt>>2]=o[ft>>2],o[tt+4>>2]=ot}function vp(s,tt){s=s|0,tt=It(tt);var ot=0,ft=0,gt=0,_t=0;_t=fr(tt)|0,ot=(_t^1)&1,ft=s+380|0,gt=s+384|0,_t|It(St[ft>>2])==tt&&(o[gt>>2]|0)==(ot|0)||(St[ft>>2]=tt,o[gt>>2]=ot,oo(s))}function Ml(s,tt){s=s|0,tt=It(tt);var ot=0,ft=0,gt=0,_t=0;_t=fr(tt)|0,ot=_t?0:2,ft=s+380|0,gt=s+384|0,_t|It(St[ft>>2])==tt&&(o[gt>>2]|0)==(ot|0)||(St[ft>>2]=tt,o[gt>>2]=ot,oo(s))}function G2(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;ft=tt+380|0,ot=o[ft+4>>2]|0,tt=s,o[tt>>2]=o[ft>>2],o[tt+4>>2]=ot}function H2(s,tt){s=s|0,tt=It(tt);var ot=0,ft=0,gt=0,_t=0;_t=fr(tt)|0,ot=(_t^1)&1,ft=s+388|0,gt=s+392|0,_t|It(St[ft>>2])==tt&&(o[gt>>2]|0)==(ot|0)||(St[ft>>2]=tt,o[gt>>2]=ot,oo(s))}function x1(s,tt){s=s|0,tt=It(tt);var ot=0,ft=0,gt=0,_t=0;_t=fr(tt)|0,ot=_t?0:2,ft=s+388|0,gt=s+392|0,_t|It(St[ft>>2])==tt&&(o[gt>>2]|0)==(ot|0)||(St[ft>>2]=tt,o[gt>>2]=ot,oo(s))}function S1(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;ft=tt+388|0,ot=o[ft+4>>2]|0,tt=s,o[tt>>2]=o[ft>>2],o[tt+4>>2]=ot}function $2(s,tt){s=s|0,tt=It(tt);var ot=0;ot=s+396|0,It(St[ot>>2])!=tt&&(St[ot>>2]=tt,oo(s))}function yp(s){return s=s|0,It(St[s+396>>2])}function qu(s){return s=s|0,It(St[s+400>>2])}function pm(s){return s=s|0,It(St[s+404>>2])}function N0(s){return s=s|0,It(St[s+408>>2])}function xp(s){return s=s|0,It(St[s+412>>2])}function w1(s){return s=s|0,It(St[s+416>>2])}function M1(s){return s=s|0,It(St[s+420>>2])}function D0(s,tt){switch(s=s|0,tt=tt|0,io(s,(tt|0)<6,2918),tt|0){case 0:{tt=(o[s+496>>2]|0)==2?5:4;break}case 2:{tt=(o[s+496>>2]|0)==2?4:5;break}default:}return It(St[s+424+(tt<<2)>>2])}function W2(s,tt){switch(s=s|0,tt=tt|0,io(s,(tt|0)<6,2918),tt|0){case 0:{tt=(o[s+496>>2]|0)==2?5:4;break}case 2:{tt=(o[s+496>>2]|0)==2?4:5;break}default:}return It(St[s+448+(tt<<2)>>2])}function Sp(s,tt){switch(s=s|0,tt=tt|0,io(s,(tt|0)<6,2918),tt|0){case 0:{tt=(o[s+496>>2]|0)==2?5:4;break}case 2:{tt=(o[s+496>>2]|0)==2?4:5;break}default:}return It(St[s+472+(tt<<2)>>2])}function Ks(s,tt){s=s|0,tt=tt|0;var ot=0,ft=Un;return ot=o[s+4>>2]|0,(ot|0)==(o[tt+4>>2]|0)?ot?(ft=It(St[s>>2]),s=It(Cn(It(ft-It(St[tt>>2]))))<It(999999974e-13)):s=1:s=0,s|0}function Uo(s,tt){s=It(s),tt=It(tt);var ot=0;return fr(s)|0?ot=fr(tt)|0:ot=It(Cn(It(s-tt)))<It(999999974e-13),ot|0}function O0(s,tt){s=s|0,tt=tt|0,zl(s,tt)}function zl(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;ot=yt,yt=yt+16|0,ft=ot+4|0,o[ft>>2]=0,o[ft+4>>2]=0,o[ft+8>>2]=0,Dl(ft|0,s|0,tt|0,0),Zs(s,3,(d[ft+11>>0]|0)<0?o[ft>>2]|0:ft,ot),v8(ft),yt=ot}function Qs(s,tt,ot,ft){s=It(s),tt=It(tt),ot=ot|0,ft=ft|0;var gt=Un;s=It(s*tt),gt=It(Ry(s,It(1)));do if(Uo(gt,It(0))|0)s=It(s-gt);else{if(s=It(s-gt),Uo(gt,It(1))|0){s=It(s+It(1));break}if(ot){s=It(s+It(1));break}ft||(gt>It(.5)?gt=It(1):(ft=Uo(gt,It(.5))|0,gt=It(ft?1:0)),s=It(s+gt))}while(0);return It(s/tt)}function Yu(s,tt,ot,ft,gt,_t,Mt,Pt,kt,zt,Ut,Ht,Zt){s=s|0,tt=It(tt),ot=ot|0,ft=It(ft),gt=gt|0,_t=It(_t),Mt=Mt|0,Pt=It(Pt),kt=It(kt),zt=It(zt),Ut=It(Ut),Ht=It(Ht),Zt=Zt|0;var yn=0,fn=Un,ln=Un,bn=Un,Rn=Un,zn=Un,mn=Un;return kt<It(0)|zt<It(0)?Zt=0:(Zt|0&&(fn=It(St[Zt+4>>2]),fn!=It(0))?(bn=It(Qs(tt,fn,0,0)),Rn=It(Qs(ft,fn,0,0)),ln=It(Qs(_t,fn,0,0)),fn=It(Qs(Pt,fn,0,0))):(ln=_t,bn=tt,fn=Pt,Rn=ft),(gt|0)==(s|0)?yn=Uo(ln,bn)|0:yn=0,(Mt|0)==(ot|0)?Zt=Uo(fn,Rn)|0:Zt=0,!yn&&(zn=It(tt-Ut),!(E1(s,zn,kt)|0))&&!(mm(s,zn,gt,kt)|0)?yn=Fo(s,zn,gt,_t,kt)|0:yn=1,!Zt&&(mn=It(ft-Ht),!(E1(ot,mn,zt)|0))&&!(mm(ot,mn,Mt,zt)|0)?Zt=Fo(ot,mn,Mt,Pt,zt)|0:Zt=1,Zt=yn&Zt),Zt|0}function E1(s,tt,ot){return s=s|0,tt=It(tt),ot=It(ot),(s|0)==1?s=Uo(tt,ot)|0:s=0,s|0}function mm(s,tt,ot,ft){return s=s|0,tt=It(tt),ot=ot|0,ft=It(ft),(s|0)==2&(ot|0)==0?tt>=ft?s=1:s=Uo(tt,ft)|0:s=0,s|0}function Fo(s,tt,ot,ft,gt){return s=s|0,tt=It(tt),ot=ot|0,ft=It(ft),gt=It(gt),(s|0)==2&(ot|0)==2&ft>tt?gt<=tt?s=1:s=Uo(tt,gt)|0:s=0,s|0}function Vl(s,tt,ot,ft,gt,_t,Mt,Pt,kt,zt,Ut){s=s|0,tt=It(tt),ot=It(ot),ft=ft|0,gt=gt|0,_t=_t|0,Mt=It(Mt),Pt=It(Pt),kt=kt|0,zt=zt|0,Ut=Ut|0;var Ht=0,Zt=0,yn=0,fn=0,ln=Un,bn=Un,Rn=0,zn=0,mn=0,vn=0,mr=0,uo=0,zr=0,Lr=0,Jr=0,so=0,Fr=0,Ro=Un,Ls=Un,Is=Un,bs=0,_l=0;Fr=yt,yt=yt+160|0,Lr=Fr+152|0,zr=Fr+120|0,uo=Fr+104|0,mn=Fr+72|0,fn=Fr+56|0,mr=Fr+8|0,zn=Fr,vn=(o[2279]|0)+1|0,o[2279]=vn,Jr=s+984|0,d[Jr>>0]|0&&(o[s+512>>2]|0)!=(o[2278]|0)?Rn=4:(o[s+516>>2]|0)==(ft|0)?so=0:Rn=4,(Rn|0)==4&&(o[s+520>>2]=0,o[s+924>>2]=-1,o[s+928>>2]=-1,St[s+932>>2]=It(-1),St[s+936>>2]=It(-1),so=1);e:do if(o[s+964>>2]|0)if(ln=It(Ao(s,2,Mt)),bn=It(Ao(s,0,Mt)),Ht=s+916|0,Is=It(St[Ht>>2]),Ls=It(St[s+920>>2]),Ro=It(St[s+932>>2]),Yu(gt,tt,_t,ot,o[s+924>>2]|0,Is,o[s+928>>2]|0,Ls,Ro,It(St[s+936>>2]),ln,bn,Ut)|0)Rn=22;else if(yn=o[s+520>>2]|0,!yn)Rn=21;else for(Zt=0;;){if(Ht=s+524+(Zt*24|0)|0,Ro=It(St[Ht>>2]),Ls=It(St[s+524+(Zt*24|0)+4>>2]),Is=It(St[s+524+(Zt*24|0)+16>>2]),Yu(gt,tt,_t,ot,o[s+524+(Zt*24|0)+8>>2]|0,Ro,o[s+524+(Zt*24|0)+12>>2]|0,Ls,Is,It(St[s+524+(Zt*24|0)+20>>2]),ln,bn,Ut)|0){Rn=22;break e}if(Zt=Zt+1|0,Zt>>>0>=yn>>>0){Rn=21;break}}else{if(kt){if(Ht=s+916|0,!(Uo(It(St[Ht>>2]),tt)|0)){Rn=21;break}if(!(Uo(It(St[s+920>>2]),ot)|0)){Rn=21;break}if((o[s+924>>2]|0)!=(gt|0)){Rn=21;break}Ht=(o[s+928>>2]|0)==(_t|0)?Ht:0,Rn=22;break}if(yn=o[s+520>>2]|0,!yn)Rn=21;else for(Zt=0;;){if(Ht=s+524+(Zt*24|0)|0,Uo(It(St[Ht>>2]),tt)|0&&Uo(It(St[s+524+(Zt*24|0)+4>>2]),ot)|0&&(o[s+524+(Zt*24|0)+8>>2]|0)==(gt|0)&&(o[s+524+(Zt*24|0)+12>>2]|0)==(_t|0)){Rn=22;break e}if(Zt=Zt+1|0,Zt>>>0>=yn>>>0){Rn=21;break}}}while(0);do if((Rn|0)==21)d[11697]|0?(Ht=0,Rn=28):(Ht=0,Rn=31);else if((Rn|0)==22){if(Zt=(d[11697]|0)!=0,!((Ht|0)!=0&(so^1)))if(Zt){Rn=28;break}else{Rn=31;break}fn=Ht+16|0,o[s+908>>2]=o[fn>>2],yn=Ht+20|0,o[s+912>>2]=o[yn>>2],(d[11698]|0)==0|Zt^1||(o[zn>>2]=F0(vn)|0,o[zn+4>>2]=vn,Zs(s,4,2972,zn),Zt=o[s+972>>2]|0,Zt|0&&h0[Zt&127](s),gt=es(gt,kt)|0,_t=es(_t,kt)|0,_l=+It(St[fn>>2]),bs=+It(St[yn>>2]),o[mr>>2]=gt,o[mr+4>>2]=_t,Tt[mr+8>>3]=+tt,Tt[mr+16>>3]=+ot,Tt[mr+24>>3]=_l,Tt[mr+32>>3]=bs,o[mr+40>>2]=zt,Zs(s,4,2989,mr))}while(0);return(Rn|0)==28&&(Zt=F0(vn)|0,o[fn>>2]=Zt,o[fn+4>>2]=vn,o[fn+8>>2]=so?3047:11699,Zs(s,4,3038,fn),Zt=o[s+972>>2]|0,Zt|0&&h0[Zt&127](s),mr=es(gt,kt)|0,Rn=es(_t,kt)|0,o[mn>>2]=mr,o[mn+4>>2]=Rn,Tt[mn+8>>3]=+tt,Tt[mn+16>>3]=+ot,o[mn+24>>2]=zt,Zs(s,4,3049,mn),Rn=31),(Rn|0)==31&&(B0(s,tt,ot,ft,gt,_t,Mt,Pt,kt,Ut),d[11697]|0&&(Zt=o[2279]|0,mr=F0(Zt)|0,o[uo>>2]=mr,o[uo+4>>2]=Zt,o[uo+8>>2]=so?3047:11699,Zs(s,4,3083,uo),Zt=o[s+972>>2]|0,Zt|0&&h0[Zt&127](s),mr=es(gt,kt)|0,uo=es(_t,kt)|0,bs=+It(St[s+908>>2]),_l=+It(St[s+912>>2]),o[zr>>2]=mr,o[zr+4>>2]=uo,Tt[zr+8>>3]=bs,Tt[zr+16>>3]=_l,o[zr+24>>2]=zt,Zs(s,4,3092,zr)),o[s+516>>2]=ft,Ht||(Zt=s+520|0,Ht=o[Zt>>2]|0,(Ht|0)==16&&(d[11697]|0&&Zs(s,4,3124,Lr),o[Zt>>2]=0,Ht=0),kt?Ht=s+916|0:(o[Zt>>2]=Ht+1,Ht=s+524+(Ht*24|0)|0),St[Ht>>2]=tt,St[Ht+4>>2]=ot,o[Ht+8>>2]=gt,o[Ht+12>>2]=_t,o[Ht+16>>2]=o[s+908>>2],o[Ht+20>>2]=o[s+912>>2],Ht=0)),kt&&(o[s+416>>2]=o[s+908>>2],o[s+420>>2]=o[s+912>>2],d[s+985>>0]=1,d[Jr>>0]=0),o[2279]=(o[2279]|0)+-1,o[s+512>>2]=o[2278],yt=Fr,so|(Ht|0)==0|0}function Ao(s,tt,ot){s=s|0,tt=tt|0,ot=It(ot);var ft=Un;return ft=It(_s(s,tt,ot)),It(ft+It(Hl(s,tt,ot)))}function Zs(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0;_t=yt,yt=yt+16|0,gt=_t,o[gt>>2]=ft,s?ft=o[s+976>>2]|0:ft=0,gm(ft,s,tt,ot,gt),yt=_t}function F0(s){return s=s|0,(s>>>0>60?3201:3201+(60-s)|0)|0}function es(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0;return gt=yt,yt=yt+32|0,ot=gt+12|0,ft=gt,o[ot>>2]=o[254],o[ot+4>>2]=o[255],o[ot+8>>2]=o[256],o[ft>>2]=o[257],o[ft+4>>2]=o[258],o[ft+8>>2]=o[259],(s|0)>2?s=11699:s=o[(tt?ft:ot)+(s<<2)>>2]|0,yt=gt,s|0}function B0(s,tt,ot,ft,gt,_t,Mt,Pt,kt,zt){s=s|0,tt=It(tt),ot=It(ot),ft=ft|0,gt=gt|0,_t=_t|0,Mt=It(Mt),Pt=It(Pt),kt=kt|0,zt=zt|0;var Ut=0,Ht=0,Zt=0,yn=0,fn=Un,ln=Un,bn=Un,Rn=Un,zn=Un,mn=Un,vn=Un,mr=0,uo=0,zr=0,Lr=Un,Jr=Un,so=0,Fr=Un,Ro=0,Ls=0,Is=0,bs=0,_l=0,_h=0,ep=0,Yl=0,tp=0,Ou=0,Fu=0,np=0,rp=0,ip=0,vo=0,Kl=0,op=0,hu=0,sp=Un,ap=Un,Bu=Un,Uu=Un,pu=Un,xs=0,Nl=0,Hs=0,Ql=0,m0=0,g0=Un,zu=Un,_0=Un,v0=Un,Ss=Un,ps=Un,Zl=0,Po=Un,y0=Un,ks=Un,mu=Un,Ns=Un,gu=Un,x0=0,S0=0,_u=Un,ws=Un,Jl=0,w0=0,M0=0,E0=0,_i=Un,Do=0,ms=0,Ds=0,Ms=0,no=0,Gr=0,eu=0,Rr=Un,T0=0,Bo=0;eu=yt,yt=yt+16|0,xs=eu+12|0,Nl=eu+8|0,Hs=eu+4|0,Ql=eu,io(s,(gt|0)==0|(fr(tt)|0)^1,3326),io(s,(_t|0)==0|(fr(ot)|0)^1,3406),ms=R1(s,ft)|0,o[s+496>>2]=ms,no=Au(2,ms)|0,Gr=Au(0,ms)|0,St[s+440>>2]=It(_s(s,no,Mt)),St[s+444>>2]=It(Hl(s,no,Mt)),St[s+428>>2]=It(_s(s,Gr,Mt)),St[s+436>>2]=It(Hl(s,Gr,Mt)),St[s+464>>2]=It($l(s,no)),St[s+468>>2]=It(uu(s,no)),St[s+452>>2]=It($l(s,Gr)),St[s+460>>2]=It(uu(s,Gr)),St[s+488>>2]=It(Qu(s,no,Mt)),St[s+492>>2]=It(_m(s,no,Mt)),St[s+476>>2]=It(Qu(s,Gr,Mt)),St[s+484>>2]=It(_m(s,Gr,Mt));do if(o[s+964>>2]|0)vm(s,tt,ot,gt,_t,Mt,Pt);else{if(Ds=s+948|0,Ms=(o[s+952>>2]|0)-(o[Ds>>2]|0)>>2,!Ms){ym(s,tt,ot,gt,_t,Mt,Pt);break}if(!kt&&P1(s,tt,ot,gt,_t,Mt,Pt)|0)break;_p(s),Kl=s+508|0,d[Kl>>0]=0,no=Au(o[s+4>>2]|0,ms)|0,Gr=Zu(no,ms)|0,Do=ts(no)|0,op=o[s+8>>2]|0,w0=s+28|0,hu=(o[w0>>2]|0)!=0,Ns=Do?Mt:Pt,_u=Do?Pt:Mt,sp=It(xm(s,no,Mt)),ap=It(L1(s,no,Mt)),fn=It(xm(s,Gr,Mt)),gu=It(Js(s,no,Mt)),ws=It(Js(s,Gr,Mt)),zr=Do?gt:_t,Jl=Do?_t:gt,_i=Do?gu:ws,zn=Do?ws:gu,mu=It(Ao(s,2,Mt)),Rn=It(Ao(s,0,Mt)),ln=It(It(go(s+364|0,Mt))-_i),bn=It(It(go(s+380|0,Mt))-_i),mn=It(It(go(s+372|0,Pt))-zn),vn=It(It(go(s+388|0,Pt))-zn),Bu=Do?ln:mn,Uu=Do?bn:vn,mu=It(tt-mu),tt=It(mu-_i),fr(tt)|0?_i=tt:_i=It(No(It(Vp(tt,bn)),ln)),y0=It(ot-Rn),tt=It(y0-zn),fr(tt)|0?ks=tt:ks=It(No(It(Vp(tt,vn)),mn)),ln=Do?_i:ks,Po=Do?ks:_i;e:do if((zr|0)==1)for(ft=0,Ht=0;;){if(Ut=Sl(s,Ht)|0,!ft)It(Cu(Ut))>It(0)&&It(z0(Ut))>It(0)?ft=Ut:ft=0;else if(I1(Ut)|0){yn=0;break e}if(Ht=Ht+1|0,Ht>>>0>=Ms>>>0){yn=ft;break}}else yn=0;while(0);mr=yn+500|0,uo=yn+504|0,ft=0,Ut=0,tt=It(0),Zt=0;do{if(Ht=o[(o[Ds>>2]|0)+(Zt<<2)>>2]|0,(o[Ht+36>>2]|0)==1)b1(Ht),d[Ht+985>>0]=1,d[Ht+984>>0]=0;else{qo(Ht),kt&&U0(Ht,R1(Ht,ms)|0,ln,Po,_i);do if((o[Ht+24>>2]|0)!=1)if((Ht|0)==(yn|0)){o[mr>>2]=o[2278],St[uo>>2]=It(0);break}else{iv(s,Ht,_i,gt,ks,_i,ks,_t,ms,zt);break}else Ut|0&&(o[Ut+960>>2]=Ht),o[Ht+960>>2]=0,Ut=Ht,ft=ft|0?ft:Ht;while(0);ps=It(St[Ht+504>>2]),tt=It(tt+It(ps+It(Ao(Ht,no,_i))))}Zt=Zt+1|0}while((Zt|0)!=(Ms|0));for(Is=tt>ln,Zl=hu&((zr|0)==2&Is)?1:zr,Ro=(Jl|0)==1,_l=Ro&(kt^1),_h=(Zl|0)==1,ep=(Zl|0)==2,Yl=976+(no<<2)|0,tp=(Jl|2|0)==2,ip=Ro&(hu^1),Ou=1040+(Gr<<2)|0,Fu=1040+(no<<2)|0,np=976+(Gr<<2)|0,rp=(Jl|0)!=1,Is=hu&((zr|0)!=0&Is),Ls=s+976|0,Ro=Ro^1,tt=ln,so=0,bs=0,ps=It(0),pu=It(0);;){e:do if(so>>>0<Ms>>>0)for(uo=o[Ds>>2]|0,Zt=0,vn=It(0),mn=It(0),bn=It(0),ln=It(0),Ht=0,Ut=0,yn=so;;){if(mr=o[uo+(yn<<2)>>2]|0,(o[mr+36>>2]|0)!=1&&(o[mr+940>>2]=bs,(o[mr+24>>2]|0)!=1)){if(Rn=It(Ao(mr,no,_i)),vo=o[Yl>>2]|0,ot=It(go(mr+380+(vo<<3)|0,Ns)),zn=It(St[mr+504>>2]),ot=It(Vp(ot,zn)),ot=It(No(It(go(mr+364+(vo<<3)|0,Ns)),ot)),hu&(Zt|0)!=0&It(Rn+It(mn+ot))>tt){_t=Zt,Rn=vn,zr=yn;break e}Rn=It(Rn+ot),ot=It(mn+Rn),Rn=It(vn+Rn),I1(mr)|0&&(bn=It(bn+It(Cu(mr))),ln=It(ln-It(zn*It(z0(mr))))),Ut|0&&(o[Ut+960>>2]=mr),o[mr+960>>2]=0,Zt=Zt+1|0,Ut=mr,Ht=Ht|0?Ht:mr}else Rn=vn,ot=mn;if(yn=yn+1|0,yn>>>0<Ms>>>0)vn=Rn,mn=ot;else{_t=Zt,zr=yn;break}}else _t=0,Rn=It(0),bn=It(0),ln=It(0),Ht=0,zr=so;while(0);vo=bn>It(0)&bn<It(1),Lr=vo?It(1):bn,vo=ln>It(0)&ln<It(1),vn=vo?It(1):ln;do if(_h)vo=51;else if(Rn<Bu&((fr(Bu)|0)^1))tt=Bu,vo=51;else if(Rn>Uu&((fr(Uu)|0)^1))tt=Uu,vo=51;else if(d[(o[Ls>>2]|0)+3>>0]|0)vo=51;else{if(Lr!=It(0)&&It(Cu(s))!=It(0)){vo=53;break}tt=Rn,vo=53}while(0);if((vo|0)==51&&(vo=0,fr(tt)|0?vo=53:(Jr=It(tt-Rn),Fr=tt)),(vo|0)==53&&(vo=0,Rn<It(0)?(Jr=It(-Rn),Fr=tt):(Jr=It(0),Fr=tt)),!_l&&(m0=(Ht|0)==0,!m0)){Zt=o[Yl>>2]|0,yn=Jr<It(0),zn=It(Jr/vn),mr=Jr>It(0),mn=It(Jr/Lr),bn=It(0),Rn=It(0),tt=It(0),Ut=Ht;do ot=It(go(Ut+380+(Zt<<3)|0,Ns)),ln=It(go(Ut+364+(Zt<<3)|0,Ns)),ln=It(Vp(ot,It(No(ln,It(St[Ut+504>>2]))))),yn?(ot=It(ln*It(z0(Ut))),ot!=It(-0)&&(Rr=It(ln-It(zn*ot)),g0=It(Go(Ut,no,Rr,Fr,_i)),Rr!=g0)&&(bn=It(bn-It(g0-ln)),tt=It(tt+ot))):mr&&(zu=It(Cu(Ut)),zu!=It(0))&&(Rr=It(ln+It(mn*zu)),_0=It(Go(Ut,no,Rr,Fr,_i)),Rr!=_0)&&(bn=It(bn-It(_0-ln)),Rn=It(Rn-zu)),Ut=o[Ut+960>>2]|0;while(Ut|0);if(tt=It(vn+tt),ln=It(Jr+bn),m0)tt=It(0);else{zn=It(Lr+Rn),yn=o[Yl>>2]|0,mr=ln<It(0),uo=tt==It(0),mn=It(ln/tt),Zt=ln>It(0),zn=It(ln/zn),tt=It(0);do{Rr=It(go(Ht+380+(yn<<3)|0,Ns)),bn=It(go(Ht+364+(yn<<3)|0,Ns)),bn=It(Vp(Rr,It(No(bn,It(St[Ht+504>>2]))))),mr?(Rr=It(bn*It(z0(Ht))),ln=It(-Rr),Rr!=It(-0)?(Rr=It(mn*ln),ln=It(Go(Ht,no,It(bn+(uo?ln:Rr)),Fr,_i))):ln=bn):Zt&&(v0=It(Cu(Ht)),v0!=It(0))?ln=It(Go(Ht,no,It(bn+It(zn*v0)),Fr,_i)):ln=bn,tt=It(tt-It(ln-bn)),Rn=It(Ao(Ht,no,_i)),ot=It(Ao(Ht,Gr,_i)),ln=It(ln+Rn),St[Nl>>2]=ln,o[Ql>>2]=1,bn=It(St[Ht+396>>2]);e:do if(fr(bn)|0){Ut=fr(Po)|0;do if(!Ut){if(Is|(Cs(Ht,Gr,Po)|0|Ro)||(cu(s,Ht)|0)!=4||(o[(Ju(Ht,Gr)|0)+4>>2]|0)==3||(o[(Ru(Ht,Gr)|0)+4>>2]|0)==3)break;St[xs>>2]=Po,o[Hs>>2]=1;break e}while(0);if(Cs(Ht,Gr,Po)|0){Ut=o[Ht+992+(o[np>>2]<<2)>>2]|0,Rr=It(ot+It(go(Ut,Po))),St[xs>>2]=Rr,Ut=rp&(o[Ut+4>>2]|0)==2,o[Hs>>2]=((fr(Rr)|0|Ut)^1)&1;break}else{St[xs>>2]=Po,o[Hs>>2]=Ut?0:2;break}}else Rr=It(ln-Rn),Lr=It(Rr/bn),Rr=It(bn*Rr),o[Hs>>2]=1,St[xs>>2]=It(ot+(Do?Lr:Rr));while(0);_c(Ht,no,Fr,_i,Ql,Nl),_c(Ht,Gr,Po,_i,Hs,xs);do if(!(Cs(Ht,Gr,Po)|0)&&(cu(s,Ht)|0)==4){if((o[(Ju(Ht,Gr)|0)+4>>2]|0)==3){Ut=0;break}Ut=(o[(Ru(Ht,Gr)|0)+4>>2]|0)!=3}else Ut=0;while(0);Rr=It(St[Nl>>2]),Lr=It(St[xs>>2]),T0=o[Ql>>2]|0,Bo=o[Hs>>2]|0,Vl(Ht,Do?Rr:Lr,Do?Lr:Rr,ms,Do?T0:Bo,Do?Bo:T0,_i,ks,kt&(Ut^1),3488,zt)|0,d[Kl>>0]=d[Kl>>0]|d[Ht+508>>0],Ht=o[Ht+960>>2]|0}while(Ht|0)}}else tt=It(0);if(tt=It(Jr+tt),Bo=tt<It(0)&1,d[Kl>>0]=Bo|ht[Kl>>0],ep&tt>It(0)?(Ut=o[Yl>>2]|0,o[s+364+(Ut<<3)+4>>2]|0&&(Ss=It(go(s+364+(Ut<<3)|0,Ns)),Ss>=It(0))?ln=It(No(It(0),It(Ss-It(Fr-tt)))):ln=It(0)):ln=tt,mr=so>>>0<zr>>>0,mr){yn=o[Ds>>2]|0,Zt=so,Ut=0;do Ht=o[yn+(Zt<<2)>>2]|0,o[Ht+24>>2]|0||(Ut=((o[(Ju(Ht,no)|0)+4>>2]|0)==3&1)+Ut|0,Ut=Ut+((o[(Ru(Ht,no)|0)+4>>2]|0)==3&1)|0),Zt=Zt+1|0;while((Zt|0)!=(zr|0));Ut?(Rn=It(0),ot=It(0)):vo=101}else vo=101;e:do if((vo|0)==101)switch(vo=0,op|0){case 1:{Ut=0,Rn=It(ln*It(.5)),ot=It(0);break e}case 2:{Ut=0,Rn=ln,ot=It(0);break e}case 3:{if(_t>>>0<=1){Ut=0,Rn=It(0),ot=It(0);break e}ot=It((_t+-1|0)>>>0),Ut=0,Rn=It(0),ot=It(It(No(ln,It(0)))/ot);break e}case 5:{ot=It(ln/It((_t+1|0)>>>0)),Ut=0,Rn=ot;break e}case 4:{ot=It(ln/It(_t>>>0)),Ut=0,Rn=It(ot*It(.5));break e}default:{Ut=0,Rn=It(0),ot=It(0);break e}}while(0);if(tt=It(sp+Rn),mr){bn=It(ln/It(Ut|0)),Zt=o[Ds>>2]|0,Ht=so,ln=It(0);do{Ut=o[Zt+(Ht<<2)>>2]|0;e:do if((o[Ut+36>>2]|0)!=1){switch(o[Ut+24>>2]|0){case 1:{if(El(Ut,no)|0){if(!kt)break e;Rr=It(e0(Ut,no,Fr)),Rr=It(Rr+It($l(s,no))),Rr=It(Rr+It(_s(Ut,no,_i))),St[Ut+400+(o[Fu>>2]<<2)>>2]=Rr;break e}break}case 0:if(Bo=(o[(Ju(Ut,no)|0)+4>>2]|0)==3,Rr=It(bn+tt),tt=Bo?Rr:tt,kt&&(Bo=Ut+400+(o[Fu>>2]<<2)|0,St[Bo>>2]=It(tt+It(St[Bo>>2]))),Bo=(o[(Ru(Ut,no)|0)+4>>2]|0)==3,Rr=It(bn+tt),tt=Bo?Rr:tt,_l){Rr=It(ot+It(Ao(Ut,no,_i))),ln=Po,tt=It(tt+It(Rr+It(St[Ut+504>>2])));break e}else{tt=It(tt+It(ot+It(V0(Ut,no,_i)))),ln=It(No(ln,It(V0(Ut,Gr,_i))));break e}default:}kt&&(Rr=It(Rn+It($l(s,no))),Bo=Ut+400+(o[Fu>>2]<<2)|0,St[Bo>>2]=It(Rr+It(St[Bo>>2])))}while(0);Ht=Ht+1|0}while((Ht|0)!=(zr|0))}else ln=It(0);if(ot=It(ap+tt),tp?Rn=It(It(Go(s,Gr,It(ws+ln),_u,Mt))-ws):Rn=Po,bn=It(It(Go(s,Gr,It(ws+(ip?Po:ln)),_u,Mt))-ws),mr&kt){Ht=so;do{Zt=o[(o[Ds>>2]|0)+(Ht<<2)>>2]|0;do if((o[Zt+36>>2]|0)!=1){if((o[Zt+24>>2]|0)==1){if(El(Zt,Gr)|0){if(Rr=It(e0(Zt,Gr,Po)),Rr=It(Rr+It($l(s,Gr))),Rr=It(Rr+It(_s(Zt,Gr,_i))),Ut=o[Ou>>2]|0,St[Zt+400+(Ut<<2)>>2]=Rr,!(fr(Rr)|0))break}else Ut=o[Ou>>2]|0;Rr=It($l(s,Gr)),St[Zt+400+(Ut<<2)>>2]=It(Rr+It(_s(Zt,Gr,_i)));break}Ut=cu(s,Zt)|0;do if((Ut|0)==4){if((o[(Ju(Zt,Gr)|0)+4>>2]|0)==3){vo=139;break}if((o[(Ru(Zt,Gr)|0)+4>>2]|0)==3){vo=139;break}if(Cs(Zt,Gr,Po)|0){tt=fn;break}T0=o[Zt+908+(o[Yl>>2]<<2)>>2]|0,o[xs>>2]=T0,tt=It(St[Zt+396>>2]),Bo=fr(tt)|0,ln=(o[Ct>>2]=T0,It(St[Ct>>2])),Bo?tt=bn:(Jr=It(Ao(Zt,Gr,_i)),Rr=It(ln/tt),tt=It(tt*ln),tt=It(Jr+(Do?Rr:tt))),St[Nl>>2]=tt,St[xs>>2]=It(It(Ao(Zt,no,_i))+ln),o[Hs>>2]=1,o[Ql>>2]=1,_c(Zt,no,Fr,_i,Hs,xs),_c(Zt,Gr,Po,_i,Ql,Nl),tt=It(St[xs>>2]),Jr=It(St[Nl>>2]),Rr=Do?tt:Jr,tt=Do?Jr:tt,Bo=((fr(Rr)|0)^1)&1,Vl(Zt,Rr,tt,ms,Bo,((fr(tt)|0)^1)&1,_i,ks,1,3493,zt)|0,tt=fn}else vo=139;while(0);e:do if((vo|0)==139){vo=0,tt=It(Rn-It(V0(Zt,Gr,_i)));do if((o[(Ju(Zt,Gr)|0)+4>>2]|0)==3){if((o[(Ru(Zt,Gr)|0)+4>>2]|0)!=3)break;tt=It(fn+It(No(It(0),It(tt*It(.5)))));break e}while(0);if((o[(Ru(Zt,Gr)|0)+4>>2]|0)==3){tt=fn;break}if((o[(Ju(Zt,Gr)|0)+4>>2]|0)==3){tt=It(fn+It(No(It(0),tt)));break}switch(Ut|0){case 1:{tt=fn;break e}case 2:{tt=It(fn+It(tt*It(.5)));break e}default:{tt=It(fn+tt);break e}}}while(0);Rr=It(ps+tt),Bo=Zt+400+(o[Ou>>2]<<2)|0,St[Bo>>2]=It(Rr+It(St[Bo>>2]))}while(0);Ht=Ht+1|0}while((Ht|0)!=(zr|0))}if(ps=It(ps+bn),pu=It(No(pu,ot)),_t=bs+1|0,zr>>>0>=Ms>>>0)break;tt=Fr,so=zr,bs=_t}do if(kt){if(Ut=_t>>>0>1,!Ut&&!(ov(s)|0))break;if(!(fr(Po)|0)){tt=It(Po-ps);e:do switch(o[s+12>>2]|0){case 3:{fn=It(fn+tt),mn=It(0);break}case 2:{fn=It(fn+It(tt*It(.5))),mn=It(0);break}case 4:{Po>ps?mn=It(tt/It(_t>>>0)):mn=It(0);break}case 7:if(Po>ps){fn=It(fn+It(tt/It(_t<<1>>>0))),mn=It(tt/It(_t>>>0)),mn=Ut?mn:It(0);break e}else{fn=It(fn+It(tt*It(.5))),mn=It(0);break e}case 6:{mn=It(tt/It(bs>>>0)),mn=Po>ps&Ut?mn:It(0);break}default:mn=It(0)}while(0);if(_t|0)for(mr=1040+(Gr<<2)|0,uo=976+(Gr<<2)|0,yn=0,Ht=0;;){e:do if(Ht>>>0<Ms>>>0)for(ln=It(0),bn=It(0),tt=It(0),Zt=Ht;;){Ut=o[(o[Ds>>2]|0)+(Zt<<2)>>2]|0;do if((o[Ut+36>>2]|0)!=1&&!(o[Ut+24>>2]|0)){if((o[Ut+940>>2]|0)!=(yn|0))break e;if(sv(Ut,Gr)|0&&(Rr=It(St[Ut+908+(o[uo>>2]<<2)>>2]),tt=It(No(tt,It(Rr+It(Ao(Ut,Gr,_i)))))),(cu(s,Ut)|0)!=5)break;Ss=It(k1(Ut)),Ss=It(Ss+It(_s(Ut,0,_i))),Rr=It(St[Ut+912>>2]),Rr=It(It(Rr+It(Ao(Ut,0,_i)))-Ss),Ss=It(No(bn,Ss)),Rr=It(No(ln,Rr)),ln=Rr,bn=Ss,tt=It(No(tt,It(Ss+Rr)))}while(0);if(Ut=Zt+1|0,Ut>>>0<Ms>>>0)Zt=Ut;else{Zt=Ut;break}}else bn=It(0),tt=It(0),Zt=Ht;while(0);if(zn=It(mn+tt),ot=fn,fn=It(fn+zn),Ht>>>0<Zt>>>0){Rn=It(ot+bn),Ut=Ht;do{Ht=o[(o[Ds>>2]|0)+(Ut<<2)>>2]|0;e:do if((o[Ht+36>>2]|0)!=1&&!(o[Ht+24>>2]|0))switch(cu(s,Ht)|0){case 1:{Rr=It(ot+It(_s(Ht,Gr,_i))),St[Ht+400+(o[mr>>2]<<2)>>2]=Rr;break e}case 3:{Rr=It(It(fn-It(Hl(Ht,Gr,_i)))-It(St[Ht+908+(o[uo>>2]<<2)>>2])),St[Ht+400+(o[mr>>2]<<2)>>2]=Rr;break e}case 2:{Rr=It(ot+It(It(zn-It(St[Ht+908+(o[uo>>2]<<2)>>2]))*It(.5))),St[Ht+400+(o[mr>>2]<<2)>>2]=Rr;break e}case 4:{if(Rr=It(ot+It(_s(Ht,Gr,_i))),St[Ht+400+(o[mr>>2]<<2)>>2]=Rr,Cs(Ht,Gr,Po)|0||(Do?(ln=It(St[Ht+908>>2]),tt=It(ln+It(Ao(Ht,no,_i))),bn=zn):(bn=It(St[Ht+912>>2]),bn=It(bn+It(Ao(Ht,Gr,_i))),tt=zn,ln=It(St[Ht+908>>2])),Uo(tt,ln)|0&&Uo(bn,It(St[Ht+912>>2]))|0))break e;Vl(Ht,tt,bn,ms,1,1,_i,ks,1,3501,zt)|0;break e}case 5:{St[Ht+404>>2]=It(It(Rn-It(k1(Ht)))+It(e0(Ht,0,Po)));break e}default:break e}while(0);Ut=Ut+1|0}while((Ut|0)!=(Zt|0))}if(yn=yn+1|0,(yn|0)==(_t|0))break;Ht=Zt}}}while(0);if(St[s+908>>2]=It(Go(s,2,mu,Mt,Mt)),St[s+912>>2]=It(Go(s,0,y0,Pt,Mt)),Zl|0&&(x0=o[s+32>>2]|0,S0=(Zl|0)==2,!(S0&(x0|0)!=2))?S0&(x0|0)==2&&(tt=It(gu+Fr),tt=It(No(It(Vp(tt,It(Mp(s,no,pu,Ns)))),gu)),vo=198):(tt=It(Go(s,no,pu,Ns,Mt)),vo=198),(vo|0)==198&&(St[s+908+(o[976+(no<<2)>>2]<<2)>>2]=tt),Jl|0&&(M0=o[s+32>>2]|0,E0=(Jl|0)==2,!(E0&(M0|0)!=2))?E0&(M0|0)==2&&(tt=It(ws+Po),tt=It(No(It(Vp(tt,It(Mp(s,Gr,It(ws+ps),_u)))),ws)),vo=204):(tt=It(Go(s,Gr,It(ws+ps),_u,Mt)),vo=204),(vo|0)==204&&(St[s+908+(o[976+(Gr<<2)>>2]<<2)>>2]=tt),kt){if((o[w0>>2]|0)==2){Ht=976+(Gr<<2)|0,Zt=1040+(Gr<<2)|0,Ut=0;do yn=Sl(s,Ut)|0,o[yn+24>>2]|0||(T0=o[Ht>>2]|0,Rr=It(St[s+908+(T0<<2)>>2]),Bo=yn+400+(o[Zt>>2]<<2)|0,Rr=It(Rr-It(St[Bo>>2])),St[Bo>>2]=It(Rr-It(St[yn+908+(T0<<2)>>2]))),Ut=Ut+1|0;while((Ut|0)!=(Ms|0))}if(ft|0){Ut=Do?Zl:gt;do N1(s,ft,_i,Ut,ks,ms,zt),ft=o[ft+960>>2]|0;while(ft|0)}if(Ut=(no|2|0)==3,Ht=(Gr|2|0)==3,Ut|Ht){ft=0;do Zt=o[(o[Ds>>2]|0)+(ft<<2)>>2]|0,(o[Zt+36>>2]|0)!=1&&(Ut&&X2(s,Zt,no),Ht&&X2(s,Zt,Gr)),ft=ft+1|0;while((ft|0)!=(Ms|0))}}}while(0);yt=eu}function zo(s,tt){s=s|0,tt=It(tt);var ot=0;Vo(s,tt>=It(0),3147),ot=tt==It(0),St[s+4>>2]=ot?It(0):tt}function as(s,tt,ot,ft){s=s|0,tt=It(tt),ot=It(ot),ft=ft|0;var gt=Un,_t=Un,Mt=0,Pt=0,kt=0;o[2278]=(o[2278]|0)+1,qo(s),Cs(s,2,tt)|0?(gt=It(go(o[s+992>>2]|0,tt)),kt=1,gt=It(gt+It(Ao(s,2,tt)))):(gt=It(go(s+380|0,tt)),gt>=It(0)?kt=2:(kt=((fr(tt)|0)^1)&1,gt=tt)),Cs(s,0,ot)|0?(_t=It(go(o[s+996>>2]|0,ot)),Pt=1,_t=It(_t+It(Ao(s,0,tt)))):(_t=It(go(s+388|0,ot)),_t>=It(0)?Pt=2:(Pt=((fr(ot)|0)^1)&1,_t=ot)),Mt=s+976|0,Vl(s,gt,_t,ft,kt,Pt,tt,ot,1,3189,o[Mt>>2]|0)|0&&(U0(s,o[s+496>>2]|0,tt,ot,tt),j2(s,It(St[(o[Mt>>2]|0)+4>>2]),It(0),It(0)),d[11696]|0)&&O0(s,7)}function qo(s){s=s|0;var tt=0,ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;Pt=yt,yt=yt+32|0,Mt=Pt+24|0,_t=Pt+16|0,ft=Pt+8|0,gt=Pt,ot=0;do tt=s+380+(ot<<3)|0,o[s+380+(ot<<3)+4>>2]|0&&(kt=tt,zt=o[kt+4>>2]|0,Ut=ft,o[Ut>>2]=o[kt>>2],o[Ut+4>>2]=zt,Ut=s+364+(ot<<3)|0,zt=o[Ut+4>>2]|0,kt=gt,o[kt>>2]=o[Ut>>2],o[kt+4>>2]=zt,o[_t>>2]=o[ft>>2],o[_t+4>>2]=o[ft+4>>2],o[Mt>>2]=o[gt>>2],o[Mt+4>>2]=o[gt+4>>2],Ks(_t,Mt)|0)||(tt=s+348+(ot<<3)|0),o[s+992+(ot<<2)>>2]=tt,ot=ot+1|0;while((ot|0)!=2);yt=Pt}function Cs(s,tt,ot){s=s|0,tt=tt|0,ot=It(ot);var ft=0;switch(s=o[s+992+(o[976+(tt<<2)>>2]<<2)>>2]|0,o[s+4>>2]|0){case 0:case 3:{s=0;break}case 1:{It(St[s>>2])<It(0)?s=0:ft=5;break}case 2:{It(St[s>>2])<It(0)?s=0:s=(fr(ot)|0)^1;break}default:ft=5}return(ft|0)==5&&(s=1),s|0}function go(s,tt){switch(s=s|0,tt=It(tt),o[s+4>>2]|0){case 2:{tt=It(It(It(St[s>>2])*tt)/It(100));break}case 1:{tt=It(St[s>>2]);break}default:tt=It($t)}return It(tt)}function U0(s,tt,ot,ft,gt){s=s|0,tt=tt|0,ot=It(ot),ft=It(ft),gt=It(gt);var _t=0,Mt=Un;tt=o[s+944>>2]|0?tt:1,_t=Au(o[s+4>>2]|0,tt)|0,tt=Zu(_t,tt)|0,ot=It(Tl(s,_t,ot)),ft=It(Tl(s,tt,ft)),Mt=It(ot+It(_s(s,_t,gt))),St[s+400+(o[1040+(_t<<2)>>2]<<2)>>2]=Mt,ot=It(ot+It(Hl(s,_t,gt))),St[s+400+(o[1e3+(_t<<2)>>2]<<2)>>2]=ot,ot=It(ft+It(_s(s,tt,gt))),St[s+400+(o[1040+(tt<<2)>>2]<<2)>>2]=ot,gt=It(ft+It(Hl(s,tt,gt))),St[s+400+(o[1e3+(tt<<2)>>2]<<2)>>2]=gt}function j2(s,tt,ot,ft){s=s|0,tt=It(tt),ot=It(ot),ft=It(ft);var gt=0,_t=0,Mt=Un,Pt=Un,kt=0,zt=0,Ut=Un,Ht=0,Zt=Un,yn=Un,fn=Un,ln=Un;if(tt!=It(0)&&(gt=s+400|0,ln=It(St[gt>>2]),_t=s+404|0,fn=It(St[_t>>2]),Ht=s+416|0,yn=It(St[Ht>>2]),zt=s+420|0,Mt=It(St[zt>>2]),Zt=It(ln+ot),Ut=It(fn+ft),ft=It(Zt+yn),Pt=It(Ut+Mt),kt=(o[s+988>>2]|0)==1,St[gt>>2]=It(Qs(ln,tt,0,kt)),St[_t>>2]=It(Qs(fn,tt,0,kt)),ot=It(Ry(It(yn*tt),It(1))),Uo(ot,It(0))|0?_t=0:_t=(Uo(ot,It(1))|0)^1,ot=It(Ry(It(Mt*tt),It(1))),Uo(ot,It(0))|0?gt=0:gt=(Uo(ot,It(1))|0)^1,ln=It(Qs(ft,tt,kt&_t,kt&(_t^1))),St[Ht>>2]=It(ln-It(Qs(Zt,tt,0,kt))),ln=It(Qs(Pt,tt,kt&gt,kt&(gt^1))),St[zt>>2]=It(ln-It(Qs(Ut,tt,0,kt))),_t=(o[s+952>>2]|0)-(o[s+948>>2]|0)>>2,_t|0)){gt=0;do j2(Sl(s,gt)|0,tt,Zt,Ut),gt=gt+1|0;while((gt|0)!=(_t|0))}}function ls(s,tt,ot,ft,gt){switch(s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0,ot|0){case 5:case 0:{s=YS(o[489]|0,ft,gt)|0;break}default:s=p8(ft,gt)|0}return s|0}function T1(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0;gt=yt,yt=yt+16|0,_t=gt,o[_t>>2]=ft,gm(s,0,tt,ot,_t),yt=gt}function gm(s,tt,ot,ft,gt){if(s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0,s=s|0?s:956,gw[o[s+8>>2]&1](s,tt,ot,ft,gt)|0,(ot|0)==5)ro();else return}function A1(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,d[s+tt>>0]=ot&1}function lu(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;o[s>>2]=0,o[s+4>>2]=0,o[s+8>>2]=0,ot=tt+4|0,ft=(o[ot>>2]|0)-(o[tt>>2]|0)>>2,ft|0&&(Gl(s,ft),Ku(s,o[tt>>2]|0,o[ot>>2]|0,ft))}function Gl(s,tt){s=s|0,tt=tt|0;var ot=0;if((wp(s)|0)>>>0<tt>>>0&&_o(s),tt>>>0>1073741823)ro();else{ot=Cr(tt<<2)|0,o[s+4>>2]=ot,o[s>>2]=ot,o[s+8>>2]=ot+(tt<<2);return}}function Ku(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,ft=s+4|0,s=ot-tt|0,(s|0)>0&&(Zr(o[ft>>2]|0,tt|0,s|0)|0,o[ft>>2]=(o[ft>>2]|0)+(s>>>2<<2))}function wp(s){return s=s|0,1073741823}function _s(s,tt,ot){return s=s|0,tt=tt|0,ot=It(ot),ts(tt)|0&&o[s+96>>2]|0?s=s+92|0:s=bo(s+60|0,o[1040+(tt<<2)>>2]|0,992)|0,It(C1(s,ot))}function Hl(s,tt,ot){return s=s|0,tt=tt|0,ot=It(ot),ts(tt)|0&&o[s+104>>2]|0?s=s+100|0:s=bo(s+60|0,o[1e3+(tt<<2)>>2]|0,992)|0,It(C1(s,ot))}function ts(s){return s=s|0,(s|1|0)==3|0}function C1(s,tt){return s=s|0,tt=It(tt),(o[s+4>>2]|0)==3?tt=It(0):tt=It(go(s,tt)),It(tt)}function R1(s,tt){return s=s|0,tt=tt|0,s=o[s>>2]|0,(s|0?s:(tt|0)>1?tt:1)|0}function Au(s,tt){s=s|0,tt=tt|0;var ot=0;e:do if((tt|0)==2){switch(s|0){case 2:{s=3;break e}case 3:break;default:{ot=4;break e}}s=2}else ot=4;while(0);return s|0}function $l(s,tt){s=s|0,tt=tt|0;var ot=Un;return ts(tt)|0&&o[s+312>>2]|0&&(ot=It(St[s+308>>2]),ot>=It(0))||(ot=It(No(It(St[(bo(s+276|0,o[1040+(tt<<2)>>2]|0,992)|0)>>2]),It(0)))),It(ot)}function uu(s,tt){s=s|0,tt=tt|0;var ot=Un;return ts(tt)|0&&o[s+320>>2]|0&&(ot=It(St[s+316>>2]),ot>=It(0))||(ot=It(No(It(St[(bo(s+276|0,o[1e3+(tt<<2)>>2]|0,992)|0)>>2]),It(0)))),It(ot)}function Qu(s,tt,ot){s=s|0,tt=tt|0,ot=It(ot);var ft=Un;return ts(tt)|0&&o[s+240>>2]|0&&(ft=It(go(s+236|0,ot)),ft>=It(0))||(ft=It(No(It(go(bo(s+204|0,o[1040+(tt<<2)>>2]|0,992)|0,ot)),It(0)))),It(ft)}function _m(s,tt,ot){s=s|0,tt=tt|0,ot=It(ot);var ft=Un;return ts(tt)|0&&o[s+248>>2]|0&&(ft=It(go(s+244|0,ot)),ft>=It(0))||(ft=It(No(It(go(bo(s+204|0,o[1e3+(tt<<2)>>2]|0,992)|0,ot)),It(0)))),It(ft)}function vm(s,tt,ot,ft,gt,_t,Mt){s=s|0,tt=It(tt),ot=It(ot),ft=ft|0,gt=gt|0,_t=It(_t),Mt=It(Mt);var Pt=Un,kt=Un,zt=Un,Ut=Un,Ht=Un,Zt=Un,yn=0,fn=0,ln=0;ln=yt,yt=yt+16|0,yn=ln,fn=s+964|0,io(s,(o[fn>>2]|0)!=0,3519),Pt=It(Js(s,2,tt)),kt=It(Js(s,0,tt)),zt=It(Ao(s,2,tt)),Ut=It(Ao(s,0,tt)),fr(tt)|0?Ht=tt:Ht=It(No(It(0),It(It(tt-zt)-Pt))),fr(ot)|0?Zt=ot:Zt=It(No(It(0),It(It(ot-Ut)-kt))),(ft|0)==1&(gt|0)==1?(St[s+908>>2]=It(Go(s,2,It(tt-zt),_t,_t)),tt=It(Go(s,0,It(ot-Ut),Mt,_t))):(_w[o[fn>>2]&1](yn,s,Ht,ft,Zt,gt),Ht=It(Pt+It(St[yn>>2])),Zt=It(tt-zt),St[s+908>>2]=It(Go(s,2,(ft|2|0)==2?Ht:Zt,_t,_t)),Zt=It(kt+It(St[yn+4>>2])),tt=It(ot-Ut),tt=It(Go(s,0,(gt|2|0)==2?Zt:tt,Mt,_t))),St[s+912>>2]=tt,yt=ln}function ym(s,tt,ot,ft,gt,_t,Mt){s=s|0,tt=It(tt),ot=It(ot),ft=ft|0,gt=gt|0,_t=It(_t),Mt=It(Mt);var Pt=Un,kt=Un,zt=Un,Ut=Un;zt=It(Js(s,2,_t)),Pt=It(Js(s,0,_t)),Ut=It(Ao(s,2,_t)),kt=It(Ao(s,0,_t)),tt=It(tt-Ut),St[s+908>>2]=It(Go(s,2,(ft|2|0)==2?zt:tt,_t,_t)),ot=It(ot-kt),St[s+912>>2]=It(Go(s,0,(gt|2|0)==2?Pt:ot,Mt,_t))}function P1(s,tt,ot,ft,gt,_t,Mt){s=s|0,tt=It(tt),ot=It(ot),ft=ft|0,gt=gt|0,_t=It(_t),Mt=It(Mt);var Pt=0,kt=Un,zt=Un;return Pt=(ft|0)==2,!(tt<=It(0)&Pt)&&!(ot<=It(0)&(gt|0)==2)&&!((ft|0)==1&(gt|0)==1)?s=0:(kt=It(Ao(s,0,_t)),zt=It(Ao(s,2,_t)),Pt=tt<It(0)&Pt|(fr(tt)|0),tt=It(tt-zt),St[s+908>>2]=It(Go(s,2,Pt?It(0):tt,_t,_t)),tt=It(ot-kt),Pt=ot<It(0)&(gt|0)==2|(fr(ot)|0),St[s+912>>2]=It(Go(s,0,Pt?It(0):tt,Mt,_t)),s=1),s|0}function Zu(s,tt){return s=s|0,tt=tt|0,Ep(s)|0?s=Au(2,tt)|0:s=0,s|0}function xm(s,tt,ot){return s=s|0,tt=tt|0,ot=It(ot),ot=It(Qu(s,tt,ot)),It(ot+It($l(s,tt)))}function L1(s,tt,ot){return s=s|0,tt=tt|0,ot=It(ot),ot=It(_m(s,tt,ot)),It(ot+It(uu(s,tt)))}function Js(s,tt,ot){s=s|0,tt=tt|0,ot=It(ot);var ft=Un;return ft=It(xm(s,tt,ot)),It(ft+It(L1(s,tt,ot)))}function I1(s){return s=s|0,o[s+24>>2]|0?s=0:It(Cu(s))!=It(0)?s=1:s=It(z0(s))!=It(0),s|0}function Cu(s){s=s|0;var tt=Un;if(o[s+944>>2]|0){if(tt=It(St[s+44>>2]),fr(tt)|0)return tt=It(St[s+40>>2]),s=tt>It(0)&((fr(tt)|0)^1),It(s?tt:It(0))}else tt=It(0);return It(tt)}function z0(s){s=s|0;var tt=Un,ot=0,ft=Un;do if(o[s+944>>2]|0){if(tt=It(St[s+48>>2]),fr(tt)|0){if(ot=d[(o[s+976>>2]|0)+2>>0]|0,!(ot<<24>>24)&&(ft=It(St[s+40>>2]),ft<It(0)&((fr(ft)|0)^1))){tt=It(-ft);break}tt=ot<<24>>24?It(1):It(0)}}else tt=It(0);while(0);return It(tt)}function b1(s){s=s|0;var tt=0,ot=0;if(Wm(s+400|0,0,540)|0,d[s+985>>0]=1,_p(s),ot=xl(s)|0,ot|0){tt=s+948|0,s=0;do b1(o[(o[tt>>2]|0)+(s<<2)>>2]|0),s=s+1|0;while((s|0)!=(ot|0))}}function iv(s,tt,ot,ft,gt,_t,Mt,Pt,kt,zt){s=s|0,tt=tt|0,ot=It(ot),ft=ft|0,gt=It(gt),_t=It(_t),Mt=It(Mt),Pt=Pt|0,kt=kt|0,zt=zt|0;var Ut=0,Ht=Un,Zt=0,yn=0,fn=Un,ln=Un,bn=0,Rn=Un,zn=0,mn=Un,vn=0,mr=0,uo=0,zr=0,Lr=0,Jr=0,so=0,Fr=0,Ro=0,Ls=0;Ro=yt,yt=yt+16|0,uo=Ro+12|0,zr=Ro+8|0,Lr=Ro+4|0,Jr=Ro,Fr=Au(o[s+4>>2]|0,kt)|0,vn=ts(Fr)|0,Ht=It(go(q2(tt)|0,vn?_t:Mt)),mr=Cs(tt,2,_t)|0,so=Cs(tt,0,Mt)|0;do if(!(fr(Ht)|0)&&!(fr(vn?ot:gt)|0)){if(Ut=tt+504|0,!(fr(It(St[Ut>>2]))|0)&&(!(D1(o[tt+976>>2]|0,0)|0)||(o[tt+500>>2]|0)==(o[2278]|0)))break;St[Ut>>2]=It(No(Ht,It(Js(tt,Fr,_t))))}else Zt=7;while(0);do if((Zt|0)==7){if(zn=vn^1,!(zn|mr^1)){Mt=It(go(o[tt+992>>2]|0,_t)),St[tt+504>>2]=It(No(Mt,It(Js(tt,2,_t))));break}if(!(vn|so^1)){Mt=It(go(o[tt+996>>2]|0,Mt)),St[tt+504>>2]=It(No(Mt,It(Js(tt,0,_t))));break}St[uo>>2]=It($t),St[zr>>2]=It($t),o[Lr>>2]=0,o[Jr>>2]=0,Rn=It(Ao(tt,2,_t)),mn=It(Ao(tt,0,_t)),mr?(fn=It(Rn+It(go(o[tt+992>>2]|0,_t))),St[uo>>2]=fn,o[Lr>>2]=1,yn=1):(yn=0,fn=It($t)),so?(Ht=It(mn+It(go(o[tt+996>>2]|0,Mt))),St[zr>>2]=Ht,o[Jr>>2]=1,Ut=1):(Ut=0,Ht=It($t)),Zt=o[s+32>>2]|0,vn&(Zt|0)==2?Zt=2:fr(fn)|0&&!(fr(ot)|0)&&(St[uo>>2]=ot,o[Lr>>2]=2,yn=2,fn=ot),!((Zt|0)==2&zn)&&fr(Ht)|0&&!(fr(gt)|0)&&(St[zr>>2]=gt,o[Jr>>2]=2,Ut=2,Ht=gt),ln=It(St[tt+396>>2]),bn=fr(ln)|0;do if(bn)Zt=yn;else{if((yn|0)==1&zn){St[zr>>2]=It(It(fn-Rn)/ln),o[Jr>>2]=1,Ut=1,Zt=1;break}vn&(Ut|0)==1?(St[uo>>2]=It(ln*It(Ht-mn)),o[Lr>>2]=1,Ut=1,Zt=1):Zt=yn}while(0);Ls=fr(ot)|0,yn=(cu(s,tt)|0)!=4,!(vn|mr|((ft|0)!=1|Ls)|(yn|(Zt|0)==1))&&(St[uo>>2]=ot,o[Lr>>2]=1,!bn)&&(St[zr>>2]=It(It(ot-Rn)/ln),o[Jr>>2]=1,Ut=1),!(so|zn|((Pt|0)!=1|(fr(gt)|0))|(yn|(Ut|0)==1))&&(St[zr>>2]=gt,o[Jr>>2]=1,!bn)&&(St[uo>>2]=It(ln*It(gt-mn)),o[Lr>>2]=1),_c(tt,2,_t,_t,Lr,uo),_c(tt,0,Mt,_t,Jr,zr),ot=It(St[uo>>2]),gt=It(St[zr>>2]),Vl(tt,ot,gt,kt,o[Lr>>2]|0,o[Jr>>2]|0,_t,Mt,0,3565,zt)|0,Mt=It(St[tt+908+(o[976+(Fr<<2)>>2]<<2)>>2]),St[tt+504>>2]=It(No(Mt,It(Js(tt,Fr,_t))))}while(0);o[tt+500>>2]=o[2278],yt=Ro}function Go(s,tt,ot,ft,gt){return s=s|0,tt=tt|0,ot=It(ot),ft=It(ft),gt=It(gt),ft=It(Mp(s,tt,ot,ft)),It(No(ft,It(Js(s,tt,gt))))}function cu(s,tt){return s=s|0,tt=tt|0,tt=tt+20|0,tt=o[(o[tt>>2]|0?tt:s+16|0)>>2]|0,(tt|0)==5&&Ep(o[s+4>>2]|0)|0&&(tt=1),tt|0}function Ju(s,tt){return s=s|0,tt=tt|0,ts(tt)|0&&o[s+96>>2]|0?tt=4:tt=o[1040+(tt<<2)>>2]|0,s+60+(tt<<3)|0}function Ru(s,tt){return s=s|0,tt=tt|0,ts(tt)|0&&o[s+104>>2]|0?tt=5:tt=o[1e3+(tt<<2)>>2]|0,s+60+(tt<<3)|0}function _c(s,tt,ot,ft,gt,_t){switch(s=s|0,tt=tt|0,ot=It(ot),ft=It(ft),gt=gt|0,_t=_t|0,ot=It(go(s+380+(o[976+(tt<<2)>>2]<<3)|0,ot)),ot=It(ot+It(Ao(s,tt,ft))),o[gt>>2]|0){case 2:case 1:{gt=fr(ot)|0,ft=It(St[_t>>2]),St[_t>>2]=gt|ft<ot?ft:ot;break}case 0:{fr(ot)|0||(o[gt>>2]=2,St[_t>>2]=ot);break}default:}}function El(s,tt){return s=s|0,tt=tt|0,s=s+132|0,ts(tt)|0&&o[(bo(s,4,948)|0)+4>>2]|0?s=1:s=(o[(bo(s,o[1040+(tt<<2)>>2]|0,948)|0)+4>>2]|0)!=0,s|0}function e0(s,tt,ot){s=s|0,tt=tt|0,ot=It(ot);var ft=0,gt=0;return s=s+132|0,ts(tt)|0&&(ft=bo(s,4,948)|0,(o[ft+4>>2]|0)!=0)?gt=4:(ft=bo(s,o[1040+(tt<<2)>>2]|0,948)|0,o[ft+4>>2]|0?gt=4:ot=It(0)),(gt|0)==4&&(ot=It(go(ft,ot))),It(ot)}function V0(s,tt,ot){s=s|0,tt=tt|0,ot=It(ot);var ft=Un;return ft=It(St[s+908+(o[976+(tt<<2)>>2]<<2)>>2]),ft=It(ft+It(_s(s,tt,ot))),It(ft+It(Hl(s,tt,ot)))}function ov(s){s=s|0;var tt=0,ot=0,ft=0;e:do if(Ep(o[s+4>>2]|0)|0)tt=0;else if((o[s+16>>2]|0)!=5)if(ot=xl(s)|0,!ot)tt=0;else for(tt=0;;){if(ft=Sl(s,tt)|0,!(o[ft+24>>2]|0)&&(o[ft+20>>2]|0)==5){tt=1;break e}if(tt=tt+1|0,tt>>>0>=ot>>>0){tt=0;break}}else tt=1;while(0);return tt|0}function sv(s,tt){s=s|0,tt=tt|0;var ot=Un;return ot=It(St[s+908+(o[976+(tt<<2)>>2]<<2)>>2]),ot>=It(0)&((fr(ot)|0)^1)|0}function k1(s){s=s|0;var tt=Un,ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=Un;if(ot=o[s+968>>2]|0,ot)kt=It(St[s+908>>2]),tt=It(St[s+912>>2]),tt=It(dw[ot&0](s,kt,tt)),io(s,(fr(tt)|0)^1,3573);else{_t=xl(s)|0;do if(_t|0){for(ot=0,gt=0;;){if(ft=Sl(s,gt)|0,o[ft+940>>2]|0){Mt=8;break}if((o[ft+24>>2]|0)!=1)if(Pt=(cu(s,ft)|0)==5,Pt){ot=ft;break}else ot=ot|0?ot:ft;if(gt=gt+1|0,gt>>>0>=_t>>>0){Mt=8;break}}if((Mt|0)==8&&!ot)break;return tt=It(k1(ot)),It(tt+It(St[ot+404>>2]))}while(0);tt=It(St[s+912>>2])}return It(tt)}function Mp(s,tt,ot,ft){s=s|0,tt=tt|0,ot=It(ot),ft=It(ft);var gt=Un,_t=0;return Ep(tt)|0?(tt=1,_t=3):ts(tt)|0?(tt=0,_t=3):(ft=It($t),gt=It($t)),(_t|0)==3&&(gt=It(go(s+364+(tt<<3)|0,ft)),ft=It(go(s+380+(tt<<3)|0,ft))),_t=ft<ot&(ft>=It(0)&((fr(ft)|0)^1)),ot=_t?ft:ot,_t=gt>=It(0)&((fr(gt)|0)^1)&ot<gt,It(_t?gt:ot)}function N1(s,tt,ot,ft,gt,_t,Mt){s=s|0,tt=tt|0,ot=It(ot),ft=ft|0,gt=It(gt),_t=_t|0,Mt=Mt|0;var Pt=Un,kt=Un,zt=0,Ut=0,Ht=Un,Zt=Un,yn=Un,fn=0,ln=0,bn=0,Rn=0,zn=Un,mn=0;bn=Au(o[s+4>>2]|0,_t)|0,fn=Zu(bn,_t)|0,ln=ts(bn)|0,Ht=It(Ao(tt,2,ot)),Zt=It(Ao(tt,0,ot)),Cs(tt,2,ot)|0?Pt=It(Ht+It(go(o[tt+992>>2]|0,ot))):El(tt,2)|0&&Tp(tt,2)|0?(Pt=It(St[s+908>>2]),kt=It($l(s,2)),kt=It(Pt-It(kt+It(uu(s,2)))),Pt=It(e0(tt,2,ot)),Pt=It(Go(tt,2,It(kt-It(Pt+It(G0(tt,2,ot)))),ot,ot))):Pt=It($t),Cs(tt,0,gt)|0?kt=It(Zt+It(go(o[tt+996>>2]|0,gt))):El(tt,0)|0&&Tp(tt,0)|0?(kt=It(St[s+912>>2]),zn=It($l(s,0)),zn=It(kt-It(zn+It(uu(s,0)))),kt=It(e0(tt,0,gt)),kt=It(Go(tt,0,It(zn-It(kt+It(G0(tt,0,gt)))),gt,ot))):kt=It($t),zt=fr(Pt)|0,Ut=fr(kt)|0;do if(zt^Ut&&(yn=It(St[tt+396>>2]),!(fr(yn)|0)))if(zt){Pt=It(Ht+It(It(kt-Zt)*yn));break}else{zn=It(Zt+It(It(Pt-Ht)/yn)),kt=Ut?zn:kt;break}while(0);Ut=fr(Pt)|0,zt=fr(kt)|0,Ut|zt&&(mn=(Ut^1)&1,ft=ot>It(0)&((ft|0)!=0&Ut),Pt=ln?Pt:ft?ot:Pt,Vl(tt,Pt,kt,_t,ln?mn:ft?2:mn,Ut&(zt^1)&1,Pt,kt,0,3623,Mt)|0,Pt=It(St[tt+908>>2]),Pt=It(Pt+It(Ao(tt,2,ot))),kt=It(St[tt+912>>2]),kt=It(kt+It(Ao(tt,0,ot)))),Vl(tt,Pt,kt,_t,1,1,Pt,kt,1,3635,Mt)|0,Tp(tt,bn)|0&&!(El(tt,bn)|0)?(mn=o[976+(bn<<2)>>2]|0,zn=It(St[s+908+(mn<<2)>>2]),zn=It(zn-It(St[tt+908+(mn<<2)>>2])),zn=It(zn-It(uu(s,bn))),zn=It(zn-It(Hl(tt,bn,ot))),zn=It(zn-It(G0(tt,bn,ln?ot:gt))),St[tt+400+(o[1040+(bn<<2)>>2]<<2)>>2]=zn):Rn=21;do if((Rn|0)==21){if(!(El(tt,bn)|0)&&(o[s+8>>2]|0)==1){mn=o[976+(bn<<2)>>2]|0,zn=It(St[s+908+(mn<<2)>>2]),zn=It(It(zn-It(St[tt+908+(mn<<2)>>2]))*It(.5)),St[tt+400+(o[1040+(bn<<2)>>2]<<2)>>2]=zn;break}!(El(tt,bn)|0)&&(o[s+8>>2]|0)==2&&(mn=o[976+(bn<<2)>>2]|0,zn=It(St[s+908+(mn<<2)>>2]),zn=It(zn-It(St[tt+908+(mn<<2)>>2])),St[tt+400+(o[1040+(bn<<2)>>2]<<2)>>2]=zn)}while(0);Tp(tt,fn)|0&&!(El(tt,fn)|0)?(mn=o[976+(fn<<2)>>2]|0,zn=It(St[s+908+(mn<<2)>>2]),zn=It(zn-It(St[tt+908+(mn<<2)>>2])),zn=It(zn-It(uu(s,fn))),zn=It(zn-It(Hl(tt,fn,ot))),zn=It(zn-It(G0(tt,fn,ln?gt:ot))),St[tt+400+(o[1040+(fn<<2)>>2]<<2)>>2]=zn):Rn=30;do if((Rn|0)==30&&!(El(tt,fn)|0)){if((cu(s,tt)|0)==2){mn=o[976+(fn<<2)>>2]|0,zn=It(St[s+908+(mn<<2)>>2]),zn=It(It(zn-It(St[tt+908+(mn<<2)>>2]))*It(.5)),St[tt+400+(o[1040+(fn<<2)>>2]<<2)>>2]=zn;break}mn=(cu(s,tt)|0)==3,mn^(o[s+28>>2]|0)==2&&(mn=o[976+(fn<<2)>>2]|0,zn=It(St[s+908+(mn<<2)>>2]),zn=It(zn-It(St[tt+908+(mn<<2)>>2])),St[tt+400+(o[1040+(fn<<2)>>2]<<2)>>2]=zn)}while(0)}function X2(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=Un,gt=0;gt=o[976+(ot<<2)>>2]|0,ft=It(St[tt+908+(gt<<2)>>2]),ft=It(It(St[s+908+(gt<<2)>>2])-ft),ft=It(ft-It(St[tt+400+(o[1040+(ot<<2)>>2]<<2)>>2])),St[tt+400+(o[1e3+(ot<<2)>>2]<<2)>>2]=ft}function Ep(s){return s=s|0,(s|1|0)==1|0}function q2(s){s=s|0;var tt=Un;switch(o[s+56>>2]|0){case 0:case 3:{tt=It(St[s+40>>2]),tt>It(0)&((fr(tt)|0)^1)?s=d[(o[s+976>>2]|0)+2>>0]|0?1056:992:s=1056;break}default:s=s+52|0}return s|0}function D1(s,tt){return s=s|0,tt=tt|0,(d[s+tt>>0]|0)!=0|0}function Tp(s,tt){return s=s|0,tt=tt|0,s=s+132|0,ts(tt)|0&&o[(bo(s,5,948)|0)+4>>2]|0?s=1:s=(o[(bo(s,o[1e3+(tt<<2)>>2]|0,948)|0)+4>>2]|0)!=0,s|0}function G0(s,tt,ot){s=s|0,tt=tt|0,ot=It(ot);var ft=0,gt=0;return s=s+132|0,ts(tt)|0&&(ft=bo(s,5,948)|0,(o[ft+4>>2]|0)!=0)?gt=4:(ft=bo(s,o[1e3+(tt<<2)>>2]|0,948)|0,o[ft+4>>2]|0?gt=4:ot=It(0)),(gt|0)==4&&(ot=It(go(ft,ot))),It(ot)}function Tl(s,tt,ot){return s=s|0,tt=tt|0,ot=It(ot),El(s,tt)|0?ot=It(e0(s,tt,ot)):ot=It(-It(G0(s,tt,ot))),It(ot)}function Y2(s){return s=It(s),St[Ct>>2]=s,o[Ct>>2]|0|0}function t0(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>1073741823)ro();else{gt=Cr(tt<<2)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot<<2)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt<<2)}function Ap(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(0-(gt>>2)<<2)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function H0(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~((ft+-4-tt|0)>>>2)<<2)),s=o[s>>2]|0,s|0&&qn(s)}function Sm(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0;if(Mt=s+4|0,Pt=o[Mt>>2]|0,gt=Pt-ft|0,_t=gt>>2,s=tt+(_t<<2)|0,s>>>0<ot>>>0){ft=Pt;do o[ft>>2]=o[s>>2],s=s+4|0,ft=(o[Mt>>2]|0)+4|0,o[Mt>>2]=ft;while(s>>>0<ot>>>0)}_t|0&&c2(Pt+(0-_t<<2)|0,tt|0,gt|0)|0}function K2(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0;return Pt=tt+4|0,kt=o[Pt>>2]|0,gt=o[s>>2]|0,Mt=ot,_t=Mt-gt|0,ft=kt+(0-(_t>>2)<<2)|0,o[Pt>>2]=ft,(_t|0)>0&&Zr(ft|0,gt|0,_t|0)|0,gt=s+4|0,_t=tt+8|0,ft=(o[gt>>2]|0)-Mt|0,(ft|0)>0&&(Zr(o[_t>>2]|0,ot|0,ft|0)|0,o[_t>>2]=(o[_t>>2]|0)+(ft>>>2<<2)),Mt=o[s>>2]|0,o[s>>2]=o[Pt>>2],o[Pt>>2]=Mt,Mt=o[gt>>2]|0,o[gt>>2]=o[_t>>2],o[_t>>2]=Mt,Mt=s+8|0,ot=tt+12|0,s=o[Mt>>2]|0,o[Mt>>2]=o[ot>>2],o[ot>>2]=s,o[tt>>2]=o[Pt>>2],kt|0}function Cp(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;if(Mt=o[tt>>2]|0,_t=o[ot>>2]|0,(Mt|0)!=(_t|0)){gt=s+8|0,ot=((_t+-4-Mt|0)>>>2)+1|0,s=Mt,ft=o[gt>>2]|0;do o[ft>>2]=o[s>>2],ft=(o[gt>>2]|0)+4|0,o[gt>>2]=ft,s=s+4|0;while((s|0)!=(_t|0));o[tt>>2]=Mt+(ot<<2)}}function us(){wu()}function av(){var s=0;return s=Cr(4)|0,lv(s),s|0}function lv(s){s=s|0,o[s>>2]=u1()|0}function Us(s){s=s|0,s|0&&(cs(s),qn(s))}function cs(s){s=s|0,K_(o[s>>2]|0)}function Q2(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,A1(o[s>>2]|0,tt,ot)}function Z2(s,tt){s=s|0,tt=It(tt),zo(o[s>>2]|0,tt)}function J2(s,tt){return s=s|0,tt=tt|0,D1(o[s>>2]|0,tt)|0}function _g(){var s=0;return s=Cr(8)|0,O1(s,0),s|0}function O1(s,tt){s=s|0,tt=tt|0,tt?tt=Qo(o[tt>>2]|0)|0:tt=Mu()|0,o[s>>2]=tt,o[s+4>>2]=0,im(tt,s)}function F1(s){s=s|0;var tt=0;return tt=Cr(8)|0,O1(tt,s),tt|0}function e_(s){s=s|0,s|0&&(wm(s),qn(s))}function wm(s){s=s|0;var tt=0;q_(o[s>>2]|0),tt=s+4|0,s=o[tt>>2]|0,o[tt>>2]=0,s|0&&(n0(s),qn(s))}function n0(s){s=s|0,r0(s)}function r0(s){s=s|0,s=o[s>>2]|0,s|0&&Ir(s|0)}function Rp(s){return s=s|0,om(s)|0}function Mm(s){s=s|0;var tt=0,ot=0;ot=s+4|0,tt=o[ot>>2]|0,o[ot>>2]=0,tt|0&&(n0(tt),qn(tt)),l1(o[s>>2]|0)}function t_(s,tt){s=s|0,tt=tt|0,ev(o[s>>2]|0,o[tt>>2]|0)}function B1(s,tt){s=s|0,tt=tt|0,c1(o[s>>2]|0,tt)}function n_(s,tt,ot){s=s|0,tt=tt|0,ot=+ot,D2(o[s>>2]|0,tt,It(ot))}function r_(s,tt,ot){s=s|0,tt=tt|0,ot=+ot,cm(o[s>>2]|0,tt,It(ot))}function Em(s,tt){s=s|0,tt=tt|0,sm(o[s>>2]|0,tt)}function i_(s,tt){s=s|0,tt=tt|0,wl(o[s>>2]|0,tt)}function U1(s,tt){s=s|0,tt=tt|0,lm(o[s>>2]|0,tt)}function o_(s,tt){s=s|0,tt=tt|0,b2(o[s>>2]|0,tt)}function fu(s,tt){s=s|0,tt=tt|0,k2(o[s>>2]|0,tt)}function uv(s,tt){s=s|0,tt=tt|0,Bl(o[s>>2]|0,tt)}function cv(s,tt,ot){s=s|0,tt=tt|0,ot=+ot,F2(o[s>>2]|0,tt,It(ot))}function Tm(s,tt,ot){s=s|0,tt=tt|0,ot=+ot,m1(o[s>>2]|0,tt,It(ot))}function i0(s,tt){s=s|0,tt=tt|0,B2(o[s>>2]|0,tt)}function fv(s,tt){s=s|0,tt=tt|0,h1(o[s>>2]|0,tt)}function Tr(s,tt){s=s|0,tt=tt|0,Xs(o[s>>2]|0,tt)}function Am(s,tt){s=s|0,tt=+tt,Eu(o[s>>2]|0,It(tt))}function z1(s,tt){s=s|0,tt=+tt,ou(o[s>>2]|0,It(tt))}function s_(s,tt){s=s|0,tt=+tt,Tu(o[s>>2]|0,It(tt))}function dv(s,tt){s=s|0,tt=+tt,p1(o[s>>2]|0,It(tt))}function o0(s,tt){s=s|0,tt=+tt,N2(o[s>>2]|0,It(tt))}function Pp(s,tt){s=s|0,tt=+tt,dm(o[s>>2]|0,It(tt))}function V1(s,tt){s=s|0,tt=+tt,hm(o[s>>2]|0,It(tt))}function a_(s){s=s|0,qs(o[s>>2]|0)}function l_(s,tt){s=s|0,tt=+tt,ju(o[s>>2]|0,It(tt))}function u_(s,tt){s=s|0,tt=+tt,su(o[s>>2]|0,It(tt))}function c_(s){s=s|0,au(o[s>>2]|0)}function f_(s,tt){s=s|0,tt=+tt,V2(o[s>>2]|0,It(tt))}function d_(s,tt){s=s|0,tt=+tt,_1(o[s>>2]|0,It(tt))}function G1(s,tt){s=s|0,tt=+tt,Fs(o[s>>2]|0,It(tt))}function H1(s,tt){s=s|0,tt=+tt,Bs(o[s>>2]|0,It(tt))}function h_(s,tt){s=s|0,tt=+tt,vp(o[s>>2]|0,It(tt))}function $1(s,tt){s=s|0,tt=+tt,Ml(o[s>>2]|0,It(tt))}function Cm(s,tt){s=s|0,tt=+tt,H2(o[s>>2]|0,It(tt))}function hv(s,tt){s=s|0,tt=+tt,x1(o[s>>2]|0,It(tt))}function pv(s,tt){s=s|0,tt=+tt,$2(o[s>>2]|0,It(tt))}function p_(s,tt,ot){s=s|0,tt=tt|0,ot=+ot,b0(o[s>>2]|0,tt,It(ot))}function m_(s,tt,ot){s=s|0,tt=tt|0,ot=+ot,U2(o[s>>2]|0,tt,It(ot))}function g_(s,tt,ot){s=s|0,tt=tt|0,ot=+ot,z2(o[s>>2]|0,tt,It(ot))}function __(s){return s=s|0,f1(o[s>>2]|0)|0}function Rm(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0;ft=yt,yt=yt+16|0,gt=ft,O2(gt,o[tt>>2]|0,ot),zs(s,gt),yt=ft}function zs(s,tt){s=s|0,tt=tt|0,$0(s,o[tt+4>>2]|0,+It(St[tt>>2]))}function $0(s,tt,ot){s=s|0,tt=tt|0,ot=+ot,o[s>>2]=tt,Tt[s+8>>3]=ot}function Pm(s){return s=s|0,rv(o[s>>2]|0)|0}function Lm(s){return s=s|0,am(o[s>>2]|0)|0}function Lp(s){return s=s|0,L0(o[s>>2]|0)|0}function W1(s){return s=s|0,tv(o[s>>2]|0)|0}function j1(s){return s=s|0,d1(o[s>>2]|0)|0}function X1(s){return s=s|0,nv(o[s>>2]|0)|0}function v_(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0;ft=yt,yt=yt+16|0,gt=ft,fm(gt,o[tt>>2]|0,ot),zs(s,gt),yt=ft}function q1(s){return s=s|0,I0(o[s>>2]|0)|0}function mv(s){return s=s|0,Ul(o[s>>2]|0)|0}function Im(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;ot=yt,yt=yt+16|0,ft=ot,um(ft,o[tt>>2]|0),zs(s,ft),yt=ot}function Y1(s){return s=s|0,+ +It(Fl(o[s>>2]|0))}function Ho(s){return s=s|0,+ +It(iu(o[s>>2]|0))}function po(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;ot=yt,yt=yt+16|0,ft=ot,Ys(ft,o[tt>>2]|0),zs(s,ft),yt=ot}function $o(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;ot=yt,yt=yt+16|0,ft=ot,Xu(ft,o[tt>>2]|0),zs(s,ft),yt=ot}function Wo(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;ot=yt,yt=yt+16|0,ft=ot,y1(ft,o[tt>>2]|0),zs(s,ft),yt=ot}function ns(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;ot=yt,yt=yt+16|0,ft=ot,Oo(ft,o[tt>>2]|0),zs(s,ft),yt=ot}function Vs(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;ot=yt,yt=yt+16|0,ft=ot,G2(ft,o[tt>>2]|0),zs(s,ft),yt=ot}function W0(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;ot=yt,yt=yt+16|0,ft=ot,S1(ft,o[tt>>2]|0),zs(s,ft),yt=ot}function Yo(s){return s=s|0,+ +It(yp(o[s>>2]|0))}function Ip(s,tt){return s=s|0,tt=tt|0,+ +It(k0(o[s>>2]|0,tt))}function j0(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0;ft=yt,yt=yt+16|0,gt=ft,g1(gt,o[tt>>2]|0,ot),zs(s,gt),yt=ft}function bm(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,Zo(o[s>>2]|0,o[tt>>2]|0,ot)}function K1(s,tt){s=s|0,tt=tt|0,Y_(o[s>>2]|0,o[tt>>2]|0)}function bp(s){return s=s|0,xl(o[s>>2]|0)|0}function Rs(s){return s=s|0,s=rm(o[s>>2]|0)|0,s?s=Rp(s)|0:s=0,s|0}function Q1(s,tt){return s=s|0,tt=tt|0,s=Sl(o[s>>2]|0,tt)|0,s?s=Rp(s)|0:s=0,s|0}function Z1(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;ft=Cr(4)|0,s0(ft,tt),ot=s+4|0,tt=o[ot>>2]|0,o[ot>>2]=ft,tt|0&&(n0(tt),qn(tt)),I2(o[s>>2]|0,1)}function s0(s,tt){s=s|0,tt=tt|0,bu(s,tt)}function km(s,tt,ot,ft,gt,_t){s=s|0,tt=tt|0,ot=It(ot),ft=ft|0,gt=It(gt),_t=_t|0;var Mt=0,Pt=0;Mt=yt,yt=yt+16|0,Pt=Mt,J1(Pt,om(tt)|0,+ot,ft,+gt,_t),St[s>>2]=It(+Tt[Pt>>3]),St[s+4>>2]=It(+Tt[Pt+8>>3]),yt=Mt}function J1(s,tt,ot,ft,gt,_t){s=s|0,tt=tt|0,ot=+ot,ft=ft|0,gt=+gt,_t=_t|0;var Mt=0,Pt=0,kt=0,zt=0,Ut=0;Mt=yt,yt=yt+32|0,Ut=Mt+8|0,zt=Mt+20|0,kt=Mt,Pt=Mt+16|0,Tt[Ut>>3]=ot,o[zt>>2]=ft,Tt[kt>>3]=gt,o[Pt>>2]=_t,Pu(s,o[tt+4>>2]|0,Ut,zt,kt,Pt),yt=Mt}function Pu(s,tt,ot,ft,gt,_t){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0,_t=_t|0;var Mt=0,Pt=0;Mt=yt,yt=yt+16|0,Pt=Mt,Pl(Pt),tt=rs(tt)|0,Lu(s,tt,+Tt[ot>>3],o[ft>>2]|0,+Tt[gt>>3],o[_t>>2]|0),Ll(Pt),yt=Mt}function rs(s){return s=s|0,o[s>>2]|0}function Lu(s,tt,ot,ft,gt,_t){s=s|0,tt=tt|0,ot=+ot,ft=ft|0,gt=+gt,_t=_t|0;var Mt=0;Mt=fs(Nm()|0)|0,ot=+Al(ot),ft=X0(ft)|0,gt=+Al(gt),Dm(s,Kr(0,Mt|0,tt|0,+ot,ft|0,+gt,X0(_t)|0)|0)}function Nm(){var s=0;return d[7608]|0||(e2(9120),s=7608,o[s>>2]=1,o[s+4>>2]=0),9120}function fs(s){return s=s|0,o[s+8>>2]|0}function Al(s){return s=+s,+ +Om(s)}function X0(s){return s=s|0,ys(s)|0}function Dm(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0;gt=yt,yt=yt+32|0,ot=gt,ft=tt,ft&1?(vs(ot,0),gs(ft|0,ot|0)|0,Iu(s,ot),na(ot)):(o[s>>2]=o[tt>>2],o[s+4>>2]=o[tt+4>>2],o[s+8>>2]=o[tt+8>>2],o[s+12>>2]=o[tt+12>>2]),yt=gt}function vs(s,tt){s=s|0,tt=tt|0,kp(s,tt),o[s+8>>2]=0,d[s+24>>0]=0}function Iu(s,tt){s=s|0,tt=tt|0,tt=tt+8|0,o[s>>2]=o[tt>>2],o[s+4>>2]=o[tt+4>>2],o[s+8>>2]=o[tt+8>>2],o[s+12>>2]=o[tt+12>>2]}function na(s){s=s|0,d[s+24>>0]=0}function kp(s,tt){s=s|0,tt=tt|0,o[s>>2]=tt}function ys(s){return s=s|0,s|0}function Om(s){return s=+s,+s}function e2(s){s=s|0,ga(s,t2()|0,4)}function t2(){return 1064}function ga(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,o[s>>2]=tt,o[s+4>>2]=ot,o[s+8>>2]=lr(tt|0,ot+1|0)|0}function bu(s,tt){s=s|0,tt=tt|0,tt=o[tt>>2]|0,o[s>>2]=tt,So(tt|0)}function y_(s){s=s|0;var tt=0,ot=0;ot=s+4|0,tt=o[ot>>2]|0,o[ot>>2]=0,tt|0&&(n0(tt),qn(tt)),I2(o[s>>2]|0,0)}function x_(s){s=s|0,Ol(o[s>>2]|0)}function n2(s){return s=s|0,J_(o[s>>2]|0)|0}function a0(s,tt,ot,ft){s=s|0,tt=+tt,ot=+ot,ft=ft|0,as(o[s>>2]|0,It(tt),It(ot),ft)}function S_(s){return s=s|0,+ +It(qu(o[s>>2]|0))}function w_(s){return s=s|0,+ +It(N0(o[s>>2]|0))}function r2(s){return s=s|0,+ +It(pm(o[s>>2]|0))}function Fm(s){return s=s|0,+ +It(xp(o[s>>2]|0))}function gv(s){return s=s|0,+ +It(w1(o[s>>2]|0))}function _v(s){return s=s|0,+ +It(M1(o[s>>2]|0))}function M_(s,tt){s=s|0,tt=tt|0,Tt[s>>3]=+It(qu(o[tt>>2]|0)),Tt[s+8>>3]=+It(N0(o[tt>>2]|0)),Tt[s+16>>3]=+It(pm(o[tt>>2]|0)),Tt[s+24>>3]=+It(xp(o[tt>>2]|0)),Tt[s+32>>3]=+It(w1(o[tt>>2]|0)),Tt[s+40>>3]=+It(M1(o[tt>>2]|0))}function E_(s,tt){return s=s|0,tt=tt|0,+ +It(D0(o[s>>2]|0,tt))}function l0(s,tt){return s=s|0,tt=tt|0,+ +It(W2(o[s>>2]|0,tt))}function vv(s,tt){return s=s|0,tt=tt|0,+ +It(Sp(o[s>>2]|0,tt))}function u0(){return P2()|0}function T_(){Ps(),yv(),A_(),xv(),Sv(),C_()}function Ps(){tI(11713,4938,1)}function yv(){yL(10448)}function A_(){eL(10408)}function xv(){MP(10324)}function Sv(){IC(10096)}function C_(){R_(9132)}function R_(s){s=s|0;var tt=0,ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0,yn=0,fn=0,ln=0,bn=0,Rn=0,zn=0,mn=0,vn=0,mr=0,uo=0,zr=0,Lr=0,Jr=0,so=0,Fr=0,Ro=0,Ls=0,Is=0,bs=0,_l=0,_h=0,ep=0,Yl=0,tp=0,Ou=0,Fu=0,np=0,rp=0,ip=0,vo=0,Kl=0,op=0,hu=0,sp=0,ap=0,Bu=0,Uu=0,pu=0,xs=0,Nl=0,Hs=0,Ql=0,m0=0,g0=0,zu=0,_0=0,v0=0,Ss=0,ps=0,Zl=0,Po=0,y0=0,ks=0,mu=0,Ns=0,gu=0,x0=0,S0=0,_u=0,ws=0,Jl=0,w0=0,M0=0,E0=0,_i=0,Do=0,ms=0,Ds=0,Ms=0,no=0,Gr=0,eu=0;tt=yt,yt=yt+672|0,ot=tt+656|0,eu=tt+648|0,Gr=tt+640|0,no=tt+632|0,Ms=tt+624|0,Ds=tt+616|0,ms=tt+608|0,Do=tt+600|0,_i=tt+592|0,E0=tt+584|0,M0=tt+576|0,w0=tt+568|0,Jl=tt+560|0,ws=tt+552|0,_u=tt+544|0,S0=tt+536|0,x0=tt+528|0,gu=tt+520|0,Ns=tt+512|0,mu=tt+504|0,ks=tt+496|0,y0=tt+488|0,Po=tt+480|0,Zl=tt+472|0,ps=tt+464|0,Ss=tt+456|0,v0=tt+448|0,_0=tt+440|0,zu=tt+432|0,g0=tt+424|0,m0=tt+416|0,Ql=tt+408|0,Hs=tt+400|0,Nl=tt+392|0,xs=tt+384|0,pu=tt+376|0,Uu=tt+368|0,Bu=tt+360|0,ap=tt+352|0,sp=tt+344|0,hu=tt+336|0,op=tt+328|0,Kl=tt+320|0,vo=tt+312|0,ip=tt+304|0,rp=tt+296|0,np=tt+288|0,Fu=tt+280|0,Ou=tt+272|0,tp=tt+264|0,Yl=tt+256|0,ep=tt+248|0,_h=tt+240|0,_l=tt+232|0,bs=tt+224|0,Is=tt+216|0,Ls=tt+208|0,Ro=tt+200|0,Fr=tt+192|0,so=tt+184|0,Jr=tt+176|0,Lr=tt+168|0,zr=tt+160|0,uo=tt+152|0,mr=tt+144|0,vn=tt+136|0,mn=tt+128|0,zn=tt+120|0,Rn=tt+112|0,bn=tt+104|0,ln=tt+96|0,fn=tt+88|0,yn=tt+80|0,Zt=tt+72|0,Ht=tt+64|0,Ut=tt+56|0,zt=tt+48|0,kt=tt+40|0,Pt=tt+32|0,Mt=tt+24|0,_t=tt+16|0,gt=tt+8|0,ft=tt,wv(s,3646),xa(s,3651,2)|0,i2(s,3665,2)|0,Mv(s,3682,18)|0,o[eu>>2]=19,o[eu+4>>2]=0,o[ot>>2]=o[eu>>2],o[ot+4>>2]=o[eu+4>>2],ba(s,3690,ot)|0,o[Gr>>2]=1,o[Gr+4>>2]=0,o[ot>>2]=o[Gr>>2],o[ot+4>>2]=o[Gr+4>>2],Bm(s,3696,ot)|0,o[no>>2]=2,o[no+4>>2]=0,o[ot>>2]=o[no>>2],o[ot+4>>2]=o[no+4>>2],ds(s,3706,ot)|0,o[Ms>>2]=1,o[Ms+4>>2]=0,o[ot>>2]=o[Ms>>2],o[ot+4>>2]=o[Ms+4>>2],Wl(s,3722,ot)|0,o[Ds>>2]=2,o[Ds+4>>2]=0,o[ot>>2]=o[Ds>>2],o[ot+4>>2]=o[Ds+4>>2],Wl(s,3734,ot)|0,o[ms>>2]=3,o[ms+4>>2]=0,o[ot>>2]=o[ms>>2],o[ot+4>>2]=o[ms+4>>2],ds(s,3753,ot)|0,o[Do>>2]=4,o[Do+4>>2]=0,o[ot>>2]=o[Do>>2],o[ot+4>>2]=o[Do+4>>2],ds(s,3769,ot)|0,o[_i>>2]=5,o[_i+4>>2]=0,o[ot>>2]=o[_i>>2],o[ot+4>>2]=o[_i+4>>2],ds(s,3783,ot)|0,o[E0>>2]=6,o[E0+4>>2]=0,o[ot>>2]=o[E0>>2],o[ot+4>>2]=o[E0+4>>2],ds(s,3796,ot)|0,o[M0>>2]=7,o[M0+4>>2]=0,o[ot>>2]=o[M0>>2],o[ot+4>>2]=o[M0+4>>2],ds(s,3813,ot)|0,o[w0>>2]=8,o[w0+4>>2]=0,o[ot>>2]=o[w0>>2],o[ot+4>>2]=o[w0+4>>2],ds(s,3825,ot)|0,o[Jl>>2]=3,o[Jl+4>>2]=0,o[ot>>2]=o[Jl>>2],o[ot+4>>2]=o[Jl+4>>2],Wl(s,3843,ot)|0,o[ws>>2]=4,o[ws+4>>2]=0,o[ot>>2]=o[ws>>2],o[ot+4>>2]=o[ws+4>>2],Wl(s,3853,ot)|0,o[_u>>2]=9,o[_u+4>>2]=0,o[ot>>2]=o[_u>>2],o[ot+4>>2]=o[_u+4>>2],ds(s,3870,ot)|0,o[S0>>2]=10,o[S0+4>>2]=0,o[ot>>2]=o[S0>>2],o[ot+4>>2]=o[S0+4>>2],ds(s,3884,ot)|0,o[x0>>2]=11,o[x0+4>>2]=0,o[ot>>2]=o[x0>>2],o[ot+4>>2]=o[x0+4>>2],ds(s,3896,ot)|0,o[gu>>2]=1,o[gu+4>>2]=0,o[ot>>2]=o[gu>>2],o[ot+4>>2]=o[gu+4>>2],jo(s,3907,ot)|0,o[Ns>>2]=2,o[Ns+4>>2]=0,o[ot>>2]=o[Ns>>2],o[ot+4>>2]=o[Ns+4>>2],jo(s,3915,ot)|0,o[mu>>2]=3,o[mu+4>>2]=0,o[ot>>2]=o[mu>>2],o[ot+4>>2]=o[mu+4>>2],jo(s,3928,ot)|0,o[ks>>2]=4,o[ks+4>>2]=0,o[ot>>2]=o[ks>>2],o[ot+4>>2]=o[ks+4>>2],jo(s,3948,ot)|0,o[y0>>2]=5,o[y0+4>>2]=0,o[ot>>2]=o[y0>>2],o[ot+4>>2]=o[y0+4>>2],jo(s,3960,ot)|0,o[Po>>2]=6,o[Po+4>>2]=0,o[ot>>2]=o[Po>>2],o[ot+4>>2]=o[Po+4>>2],jo(s,3974,ot)|0,o[Zl>>2]=7,o[Zl+4>>2]=0,o[ot>>2]=o[Zl>>2],o[ot+4>>2]=o[Zl+4>>2],jo(s,3983,ot)|0,o[ps>>2]=20,o[ps+4>>2]=0,o[ot>>2]=o[ps>>2],o[ot+4>>2]=o[ps+4>>2],ba(s,3999,ot)|0,o[Ss>>2]=8,o[Ss+4>>2]=0,o[ot>>2]=o[Ss>>2],o[ot+4>>2]=o[Ss+4>>2],jo(s,4012,ot)|0,o[v0>>2]=9,o[v0+4>>2]=0,o[ot>>2]=o[v0>>2],o[ot+4>>2]=o[v0+4>>2],jo(s,4022,ot)|0,o[_0>>2]=21,o[_0+4>>2]=0,o[ot>>2]=o[_0>>2],o[ot+4>>2]=o[_0+4>>2],ba(s,4039,ot)|0,o[zu>>2]=10,o[zu+4>>2]=0,o[ot>>2]=o[zu>>2],o[ot+4>>2]=o[zu+4>>2],jo(s,4053,ot)|0,o[g0>>2]=11,o[g0+4>>2]=0,o[ot>>2]=o[g0>>2],o[ot+4>>2]=o[g0+4>>2],jo(s,4065,ot)|0,o[m0>>2]=12,o[m0+4>>2]=0,o[ot>>2]=o[m0>>2],o[ot+4>>2]=o[m0+4>>2],jo(s,4084,ot)|0,o[Ql>>2]=13,o[Ql+4>>2]=0,o[ot>>2]=o[Ql>>2],o[ot+4>>2]=o[Ql+4>>2],jo(s,4097,ot)|0,o[Hs>>2]=14,o[Hs+4>>2]=0,o[ot>>2]=o[Hs>>2],o[ot+4>>2]=o[Hs+4>>2],jo(s,4117,ot)|0,o[Nl>>2]=15,o[Nl+4>>2]=0,o[ot>>2]=o[Nl>>2],o[ot+4>>2]=o[Nl+4>>2],jo(s,4129,ot)|0,o[xs>>2]=16,o[xs+4>>2]=0,o[ot>>2]=o[xs>>2],o[ot+4>>2]=o[xs+4>>2],jo(s,4148,ot)|0,o[pu>>2]=17,o[pu+4>>2]=0,o[ot>>2]=o[pu>>2],o[ot+4>>2]=o[pu+4>>2],jo(s,4161,ot)|0,o[Uu>>2]=18,o[Uu+4>>2]=0,o[ot>>2]=o[Uu>>2],o[ot+4>>2]=o[Uu+4>>2],jo(s,4181,ot)|0,o[Bu>>2]=5,o[Bu+4>>2]=0,o[ot>>2]=o[Bu>>2],o[ot+4>>2]=o[Bu+4>>2],Wl(s,4196,ot)|0,o[ap>>2]=6,o[ap+4>>2]=0,o[ot>>2]=o[ap>>2],o[ot+4>>2]=o[ap+4>>2],Wl(s,4206,ot)|0,o[sp>>2]=7,o[sp+4>>2]=0,o[ot>>2]=o[sp>>2],o[ot+4>>2]=o[sp+4>>2],Wl(s,4217,ot)|0,o[hu>>2]=3,o[hu+4>>2]=0,o[ot>>2]=o[hu>>2],o[ot+4>>2]=o[hu+4>>2],Cl(s,4235,ot)|0,o[op>>2]=1,o[op+4>>2]=0,o[ot>>2]=o[op>>2],o[ot+4>>2]=o[op+4>>2],o2(s,4251,ot)|0,o[Kl>>2]=4,o[Kl+4>>2]=0,o[ot>>2]=o[Kl>>2],o[ot+4>>2]=o[Kl+4>>2],Cl(s,4263,ot)|0,o[vo>>2]=5,o[vo+4>>2]=0,o[ot>>2]=o[vo>>2],o[ot+4>>2]=o[vo+4>>2],Cl(s,4279,ot)|0,o[ip>>2]=6,o[ip+4>>2]=0,o[ot>>2]=o[ip>>2],o[ot+4>>2]=o[ip+4>>2],Cl(s,4293,ot)|0,o[rp>>2]=7,o[rp+4>>2]=0,o[ot>>2]=o[rp>>2],o[ot+4>>2]=o[rp+4>>2],Cl(s,4306,ot)|0,o[np>>2]=8,o[np+4>>2]=0,o[ot>>2]=o[np>>2],o[ot+4>>2]=o[np+4>>2],Cl(s,4323,ot)|0,o[Fu>>2]=9,o[Fu+4>>2]=0,o[ot>>2]=o[Fu>>2],o[ot+4>>2]=o[Fu+4>>2],Cl(s,4335,ot)|0,o[Ou>>2]=2,o[Ou+4>>2]=0,o[ot>>2]=o[Ou>>2],o[ot+4>>2]=o[Ou+4>>2],o2(s,4353,ot)|0,o[tp>>2]=12,o[tp+4>>2]=0,o[ot>>2]=o[tp>>2],o[ot+4>>2]=o[tp+4>>2],ku(s,4363,ot)|0,o[Yl>>2]=1,o[Yl+4>>2]=0,o[ot>>2]=o[Yl>>2],o[ot+4>>2]=o[Yl+4>>2],Xl(s,4376,ot)|0,o[ep>>2]=2,o[ep+4>>2]=0,o[ot>>2]=o[ep>>2],o[ot+4>>2]=o[ep+4>>2],Xl(s,4388,ot)|0,o[_h>>2]=13,o[_h+4>>2]=0,o[ot>>2]=o[_h>>2],o[ot+4>>2]=o[_h+4>>2],ku(s,4402,ot)|0,o[_l>>2]=14,o[_l+4>>2]=0,o[ot>>2]=o[_l>>2],o[ot+4>>2]=o[_l+4>>2],ku(s,4411,ot)|0,o[bs>>2]=15,o[bs+4>>2]=0,o[ot>>2]=o[bs>>2],o[ot+4>>2]=o[bs+4>>2],ku(s,4421,ot)|0,o[Is>>2]=16,o[Is+4>>2]=0,o[ot>>2]=o[Is>>2],o[ot+4>>2]=o[Is+4>>2],ku(s,4433,ot)|0,o[Ls>>2]=17,o[Ls+4>>2]=0,o[ot>>2]=o[Ls>>2],o[ot+4>>2]=o[Ls+4>>2],ku(s,4446,ot)|0,o[Ro>>2]=18,o[Ro+4>>2]=0,o[ot>>2]=o[Ro>>2],o[ot+4>>2]=o[Ro+4>>2],ku(s,4458,ot)|0,o[Fr>>2]=3,o[Fr+4>>2]=0,o[ot>>2]=o[Fr>>2],o[ot+4>>2]=o[Fr+4>>2],Xl(s,4471,ot)|0,o[so>>2]=1,o[so+4>>2]=0,o[ot>>2]=o[so>>2],o[ot+4>>2]=o[so+4>>2],Np(s,4486,ot)|0,o[Jr>>2]=10,o[Jr+4>>2]=0,o[ot>>2]=o[Jr>>2],o[ot+4>>2]=o[Jr+4>>2],Cl(s,4496,ot)|0,o[Lr>>2]=11,o[Lr+4>>2]=0,o[ot>>2]=o[Lr>>2],o[ot+4>>2]=o[Lr+4>>2],Cl(s,4508,ot)|0,o[zr>>2]=3,o[zr+4>>2]=0,o[ot>>2]=o[zr>>2],o[ot+4>>2]=o[zr+4>>2],o2(s,4519,ot)|0,o[uo>>2]=4,o[uo+4>>2]=0,o[ot>>2]=o[uo>>2],o[ot+4>>2]=o[uo+4>>2],P_(s,4530,ot)|0,o[mr>>2]=19,o[mr+4>>2]=0,o[ot>>2]=o[mr>>2],o[ot+4>>2]=o[mr+4>>2],s2(s,4542,ot)|0,o[vn>>2]=12,o[vn+4>>2]=0,o[ot>>2]=o[vn>>2],o[ot+4>>2]=o[vn+4>>2],Ev(s,4554,ot)|0,o[mn>>2]=13,o[mn+4>>2]=0,o[ot>>2]=o[mn>>2],o[ot+4>>2]=o[mn+4>>2],Tv(s,4568,ot)|0,o[zn>>2]=2,o[zn+4>>2]=0,o[ot>>2]=o[zn>>2],o[ot+4>>2]=o[zn+4>>2],wt(s,4578,ot)|0,o[Rn>>2]=20,o[Rn+4>>2]=0,o[ot>>2]=o[Rn>>2],o[ot+4>>2]=o[Rn+4>>2],Et(s,4587,ot)|0,o[bn>>2]=22,o[bn+4>>2]=0,o[ot>>2]=o[bn>>2],o[ot+4>>2]=o[bn+4>>2],ba(s,4602,ot)|0,o[ln>>2]=23,o[ln+4>>2]=0,o[ot>>2]=o[ln>>2],o[ot+4>>2]=o[ln+4>>2],ba(s,4619,ot)|0,o[fn>>2]=14,o[fn+4>>2]=0,o[ot>>2]=o[fn>>2],o[ot+4>>2]=o[fn+4>>2],bt(s,4629,ot)|0,o[yn>>2]=1,o[yn+4>>2]=0,o[ot>>2]=o[yn>>2],o[ot+4>>2]=o[yn+4>>2],Bt(s,4637,ot)|0,o[Zt>>2]=4,o[Zt+4>>2]=0,o[ot>>2]=o[Zt>>2],o[ot+4>>2]=o[Zt+4>>2],Xl(s,4653,ot)|0,o[Ht>>2]=5,o[Ht+4>>2]=0,o[ot>>2]=o[Ht>>2],o[ot+4>>2]=o[Ht+4>>2],Xl(s,4669,ot)|0,o[Ut>>2]=6,o[Ut+4>>2]=0,o[ot>>2]=o[Ut>>2],o[ot+4>>2]=o[Ut+4>>2],Xl(s,4686,ot)|0,o[zt>>2]=7,o[zt+4>>2]=0,o[ot>>2]=o[zt>>2],o[ot+4>>2]=o[zt+4>>2],Xl(s,4701,ot)|0,o[kt>>2]=8,o[kt+4>>2]=0,o[ot>>2]=o[kt>>2],o[ot+4>>2]=o[kt+4>>2],Xl(s,4719,ot)|0,o[Pt>>2]=9,o[Pt+4>>2]=0,o[ot>>2]=o[Pt>>2],o[ot+4>>2]=o[Pt+4>>2],Xl(s,4736,ot)|0,o[Mt>>2]=21,o[Mt+4>>2]=0,o[ot>>2]=o[Mt>>2],o[ot+4>>2]=o[Mt+4>>2],Gt(s,4754,ot)|0,o[_t>>2]=2,o[_t+4>>2]=0,o[ot>>2]=o[_t>>2],o[ot+4>>2]=o[_t+4>>2],Np(s,4772,ot)|0,o[gt>>2]=3,o[gt+4>>2]=0,o[ot>>2]=o[gt>>2],o[ot+4>>2]=o[gt+4>>2],Np(s,4790,ot)|0,o[ft>>2]=4,o[ft+4>>2]=0,o[ot>>2]=o[ft>>2],o[ot+4>>2]=o[ft+4>>2],Np(s,4808,ot)|0,yt=tt}function wv(s,tt){s=s|0,tt=tt|0;var ot=0;ot=wC()|0,o[s>>2]=ot,MC(ot,tt),J0(o[s>>2]|0)}function xa(s,tt,ot){return s=s|0,tt=tt|0,ot=ot|0,lC(s,rn(tt)|0,ot,0),s|0}function i2(s,tt,ot){return s=s|0,tt=tt|0,ot=ot|0,j3(s,rn(tt)|0,ot,0),s|0}function Mv(s,tt,ot){return s=s|0,tt=tt|0,ot=ot|0,b3(s,rn(tt)|0,ot,0),s|0}function ba(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],m3(s,tt,gt),yt=ft,s|0}function Bm(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],K4(s,tt,gt),yt=ft,s|0}function ds(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],N4(s,tt,gt),yt=ft,s|0}function Wl(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],_4(s,tt,gt),yt=ft,s|0}function jo(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],t4(s,tt,gt),yt=ft,s|0}function Cl(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],UA(s,tt,gt),yt=ft,s|0}function o2(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],MA(s,tt,gt),yt=ft,s|0}function ku(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],YT(s,tt,gt),yt=ft,s|0}function Xl(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],kT(s,tt,gt),yt=ft,s|0}function Np(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],_T(s,tt,gt),yt=ft,s|0}function P_(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],tT(s,tt,gt),yt=ft,s|0}function s2(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],UE(s,tt,gt),yt=ft,s|0}function Ev(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],EE(s,tt,gt),yt=ft,s|0}function Tv(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],uE(s,tt,gt),yt=ft,s|0}function wt(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],jM(s,tt,gt),yt=ft,s|0}function Et(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],PM(s,tt,gt),yt=ft,s|0}function bt(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],hM(s,tt,gt),yt=ft,s|0}function Bt(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],Yw(s,tt,gt),yt=ft,s|0}function Gt(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],Xt(s,tt,gt),yt=ft,s|0}function Xt(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Pt=o[ot>>2]|0,Mt=o[ot+4>>2]|0,ot=rn(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],_n(s,ot,gt,1),yt=ft}function rn(s){return s=s|0,s|0}function _n(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;gt=yt,yt=yt+32|0,_t=gt+16|0,Ut=gt+8|0,Pt=gt,zt=o[ot>>2]|0,kt=o[ot+4>>2]|0,Mt=o[s>>2]|0,s=Vn()|0,o[Ut>>2]=zt,o[Ut+4>>2]=kt,o[_t>>2]=o[Ut>>2],o[_t+4>>2]=o[Ut+4>>2],ot=cr(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=kt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Mr(Mt,tt,s,ot,Dr(_t,ft)|0,ft),yt=gt}function Vn(){var s=0,tt=0;if(d[7616]|0||(co(9136),Ur(24,9136,Lt|0)|0,tt=7616,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(9136)|0)){s=9136,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));co(9136)}return 9136}function cr(s){return s=s|0,0}function Dr(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;return Ut=yt,yt=yt+32|0,gt=Ut+24|0,Mt=Ut+16|0,Pt=Ut,kt=Ut+8|0,_t=o[s>>2]|0,ft=o[s+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ft,Ht=Vn()|0,zt=Ht+24|0,s=Ar(tt,4)|0,o[kt>>2]=s,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[Mt>>2]=_t,o[Mt+4>>2]=ft,o[gt>>2]=o[Mt>>2],o[gt+4>>2]=o[Mt+4>>2],Gs(ot,gt,s),s=(o[tt>>2]|0)+12|0,o[tt>>2]=s):(Ln(zt,Pt,kt),s=o[tt>>2]|0),yt=Ut,((s-(o[zt>>2]|0)|0)/12|0)+-1|0}function Mr(s,tt,ot,ft,gt,_t){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0,_t=_t|0;var Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0,yn=0;Mt=yt,yt=yt+32|0,Zt=Mt+24|0,Ht=Mt+20|0,kt=Mt+16|0,Ut=Mt+12|0,zt=Mt+8|0,Pt=Mt+4|0,yn=Mt,o[Ht>>2]=tt,o[kt>>2]=ot,o[Ut>>2]=ft,o[zt>>2]=gt,o[Pt>>2]=_t,_t=s+28|0,o[yn>>2]=o[_t>>2],o[Zt>>2]=o[yn>>2],Qr(s+24|0,Zt,Ht,Ut,zt,kt,Pt)|0,o[_t>>2]=o[o[_t>>2]>>2],yt=Mt}function Qr(s,tt,ot,ft,gt,_t,Mt){return s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0,_t=_t|0,Mt=Mt|0,s=ko(tt)|0,tt=Cr(24)|0,Wr(tt+4|0,o[ot>>2]|0,o[ft>>2]|0,o[gt>>2]|0,o[_t>>2]|0,o[Mt>>2]|0),o[tt>>2]=o[s>>2],o[s>>2]=tt,tt|0}function ko(s){return s=s|0,o[s>>2]|0}function Wr(s,tt,ot,ft,gt,_t){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0,_t=_t|0,o[s>>2]=tt,o[s+4>>2]=ot,o[s+8>>2]=ft,o[s+12>>2]=gt,o[s+16>>2]=_t}function Ar(s,tt){return s=s|0,tt=tt|0,tt|s|0}function Gs(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=o[tt+4>>2]|0,o[s>>2]=o[tt>>2],o[s+4>>2]=ft,o[s+8>>2]=ot}function Ln(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ft=zt+32|0,Mt=zt+24|0,Pt=zt,kt=s+4|0,gt=(((o[kt>>2]|0)-(o[s>>2]|0)|0)/12|0)+1|0,_t=Sn(s)|0,_t>>>0<gt>>>0)_o(s);else{Ut=o[s>>2]|0,Zt=((o[s+8>>2]|0)-Ut|0)/12|0,Ht=Zt<<1,Bn(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<gt>>>0?gt:Ht:_t,((o[kt>>2]|0)-Ut|0)/12|0,s+8|0),kt=Pt+8|0,_t=o[kt>>2]|0,gt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[Mt>>2]=o[tt>>2],o[Mt+4>>2]=gt,o[ft>>2]=o[Mt>>2],o[ft+4>>2]=o[Mt+4>>2],Gs(_t,ft,ot),o[kt>>2]=(o[kt>>2]|0)+12,Pr(s,Pt),jr(Pt),yt=zt;return}}function Sn(s){return s=s|0,357913941}function Bn(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>357913941)ro();else{gt=Cr(tt*12|0)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot*12|0)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt*12|0)}function Pr(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(((gt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function jr(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~(((ft+-12-tt|0)>>>0)/12|0)*12|0)),s=o[s>>2]|0,s|0&&qn(s)}function co(s){s=s|0,Co(s)}function lo(s){s=s|0,Jo(s+24|0)}function wr(s){return s=s|0,o[s>>2]|0}function Jo(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~(((tt+-12-ft|0)>>>0)/12|0)*12|0)),qn(ot))}function Co(s){s=s|0;var tt=0;tt=eo()|0,mo(s,2,3,tt,Av()|0,0),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function eo(){return 9228}function Av(){return 1140}function Lw(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0;return ot=yt,yt=yt+16|0,ft=ot+8|0,gt=ot,_t=Iw(s)|0,s=o[_t+4>>2]|0,o[gt>>2]=o[_t>>2],o[gt+4>>2]=s,o[ft>>2]=o[gt>>2],o[ft+4>>2]=o[gt+4>>2],tt=bw(tt,ft)|0,yt=ot,tt|0}function mo(s,tt,ot,ft,gt,_t){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0,_t=_t|0,o[s>>2]=tt,o[s+4>>2]=ot,o[s+8>>2]=ft,o[s+12>>2]=gt,o[s+16>>2]=_t}function Iw(s){return s=s|0,(o[(Vn()|0)+24>>2]|0)+(s*12|0)|0}function bw(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0;return gt=yt,yt=yt+48|0,ft=gt,ot=o[tt>>2]|0,tt=o[tt+4>>2]|0,s=s+(tt>>1)|0,tt&1&&(ot=o[(o[s>>2]|0)+ot>>2]|0),p0[ot&31](ft,s),ft=kw(ft)|0,yt=gt,ft|0}function kw(s){s=s|0;var tt=0,ot=0,ft=0,gt=0;return gt=yt,yt=yt+32|0,tt=gt+12|0,ot=gt,ft=Cv(Hy()|0)|0,ft?(Rv(tt,ft),Pv(ot,tt),Nw(s,ot),s=Lv(tt)|0):s=Dw(s)|0,yt=gt,s|0}function Hy(){var s=0;return d[7632]|0||(Ww(9184),Ur(25,9184,Lt|0)|0,s=7632,o[s>>2]=1,o[s+4>>2]=0),9184}function Cv(s){return s=s|0,o[s+36>>2]|0}function Rv(s,tt){s=s|0,tt=tt|0,o[s>>2]=tt,o[s+4>>2]=s,o[s+8>>2]=0}function Pv(s,tt){s=s|0,tt=tt|0,o[s>>2]=o[tt>>2],o[s+4>>2]=o[tt+4>>2],o[s+8>>2]=0}function Nw(s,tt){s=s|0,tt=tt|0,Uw(tt,s,s+8|0,s+16|0,s+24|0,s+32|0,s+40|0)|0}function Lv(s){return s=s|0,o[(o[s+4>>2]|0)+8>>2]|0}function Dw(s){s=s|0;var tt=0,ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0;kt=yt,yt=yt+16|0,ot=kt+4|0,ft=kt,gt=Rl(8)|0,_t=gt,Mt=Cr(48)|0,Pt=Mt,tt=Pt+48|0;do o[Pt>>2]=o[s>>2],Pt=Pt+4|0,s=s+4|0;while((Pt|0)<(tt|0));return tt=_t+4|0,o[tt>>2]=Mt,Pt=Cr(8)|0,Mt=o[tt>>2]|0,o[ft>>2]=0,o[ot>>2]=o[ft>>2],$y(Pt,Mt,ot),o[gt>>2]=Pt,yt=kt,_t|0}function $y(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,o[s>>2]=tt,ot=Cr(16)|0,o[ot+4>>2]=0,o[ot+8>>2]=0,o[ot>>2]=1092,o[ot+12>>2]=tt,o[s+4>>2]=ot}function Ow(s){s=s|0,$m(s),qn(s)}function Fw(s){s=s|0,s=o[s+12>>2]|0,s|0&&qn(s)}function Bw(s){s=s|0,qn(s)}function Uw(s,tt,ot,ft,gt,_t,Mt){return s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0,_t=_t|0,Mt=Mt|0,_t=zw(o[s>>2]|0,tt,ot,ft,gt,_t,Mt)|0,Mt=s+4|0,o[(o[Mt>>2]|0)+8>>2]=_t,o[(o[Mt>>2]|0)+8>>2]|0}function zw(s,tt,ot,ft,gt,_t,Mt){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0,_t=_t|0,Mt=Mt|0;var Pt=0,kt=0;return Pt=yt,yt=yt+16|0,kt=Pt,Pl(kt),s=rs(s)|0,Mt=Vw(s,+Tt[tt>>3],+Tt[ot>>3],+Tt[ft>>3],+Tt[gt>>3],+Tt[_t>>3],+Tt[Mt>>3])|0,Ll(kt),yt=Pt,Mt|0}function Vw(s,tt,ot,ft,gt,_t,Mt){s=s|0,tt=+tt,ot=+ot,ft=+ft,gt=+gt,_t=+_t,Mt=+Mt;var Pt=0;return Pt=fs(Gw()|0)|0,tt=+Al(tt),ot=+Al(ot),ft=+Al(ft),gt=+Al(gt),_t=+Al(_t),Hr(0,Pt|0,s|0,+tt,+ot,+ft,+gt,+_t,+ +Al(Mt))|0}function Gw(){var s=0;return d[7624]|0||(Hw(9172),s=7624,o[s>>2]=1,o[s+4>>2]=0),9172}function Hw(s){s=s|0,ga(s,$w()|0,6)}function $w(){return 1112}function Ww(s){s=s|0,q0(s)}function jw(s){s=s|0,Wy(s+24|0),jy(s+16|0)}function Wy(s){s=s|0,qw(s)}function jy(s){s=s|0,Xw(s)}function Xw(s){s=s|0;var tt=0,ot=0;if(tt=o[s>>2]|0,tt|0)do ot=tt,tt=o[tt>>2]|0,qn(ot);while(tt|0);o[s>>2]=0}function qw(s){s=s|0;var tt=0,ot=0;if(tt=o[s>>2]|0,tt|0)do ot=tt,tt=o[tt>>2]|0,qn(ot);while(tt|0);o[s>>2]=0}function q0(s){s=s|0;var tt=0;o[s+16>>2]=0,o[s+20>>2]=0,tt=s+24|0,o[tt>>2]=0,o[s+28>>2]=tt,o[s+36>>2]=0,d[s+40>>0]=0,d[s+41>>0]=0}function Yw(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Pt=o[ot>>2]|0,Mt=o[ot+4>>2]|0,ot=rn(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],Kw(s,ot,gt,0),yt=ft}function Kw(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;gt=yt,yt=yt+32|0,_t=gt+16|0,Ut=gt+8|0,Pt=gt,zt=o[ot>>2]|0,kt=o[ot+4>>2]|0,Mt=o[s>>2]|0,s=Iv()|0,o[Ut>>2]=zt,o[Ut+4>>2]=kt,o[_t>>2]=o[Ut>>2],o[_t+4>>2]=o[Ut+4>>2],ot=Qw(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=kt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Mr(Mt,tt,s,ot,Zw(_t,ft)|0,ft),yt=gt}function Iv(){var s=0,tt=0;if(d[7640]|0||(qy(9232),Ur(26,9232,Lt|0)|0,tt=7640,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(9232)|0)){s=9232,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));qy(9232)}return 9232}function Qw(s){return s=s|0,0}function Zw(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;return Ut=yt,yt=yt+32|0,gt=Ut+24|0,Mt=Ut+16|0,Pt=Ut,kt=Ut+8|0,_t=o[s>>2]|0,ft=o[s+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ft,Ht=Iv()|0,zt=Ht+24|0,s=Ar(tt,4)|0,o[kt>>2]=s,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[Mt>>2]=_t,o[Mt+4>>2]=ft,o[gt>>2]=o[Mt>>2],o[gt+4>>2]=o[Mt+4>>2],Xy(ot,gt,s),s=(o[tt>>2]|0)+12|0,o[tt>>2]=s):(Jw(zt,Pt,kt),s=o[tt>>2]|0),yt=Ut,((s-(o[zt>>2]|0)|0)/12|0)+-1|0}function Xy(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=o[tt+4>>2]|0,o[s>>2]=o[tt>>2],o[s+4>>2]=ft,o[s+8>>2]=ot}function Jw(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ft=zt+32|0,Mt=zt+24|0,Pt=zt,kt=s+4|0,gt=(((o[kt>>2]|0)-(o[s>>2]|0)|0)/12|0)+1|0,_t=eM(s)|0,_t>>>0<gt>>>0)_o(s);else{Ut=o[s>>2]|0,Zt=((o[s+8>>2]|0)-Ut|0)/12|0,Ht=Zt<<1,tM(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<gt>>>0?gt:Ht:_t,((o[kt>>2]|0)-Ut|0)/12|0,s+8|0),kt=Pt+8|0,_t=o[kt>>2]|0,gt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[Mt>>2]=o[tt>>2],o[Mt+4>>2]=gt,o[ft>>2]=o[Mt>>2],o[ft+4>>2]=o[Mt+4>>2],Xy(_t,ft,ot),o[kt>>2]=(o[kt>>2]|0)+12,nM(s,Pt),rM(Pt),yt=zt;return}}function eM(s){return s=s|0,357913941}function tM(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>357913941)ro();else{gt=Cr(tt*12|0)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot*12|0)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt*12|0)}function nM(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(((gt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function rM(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~(((ft+-12-tt|0)>>>0)/12|0)*12|0)),s=o[s>>2]|0,s|0&&qn(s)}function qy(s){s=s|0,sM(s)}function iM(s){s=s|0,oM(s+24|0)}function oM(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~(((tt+-12-ft|0)>>>0)/12|0)*12|0)),qn(ot))}function sM(s){s=s|0;var tt=0;tt=eo()|0,mo(s,2,1,tt,aM()|0,3),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function aM(){return 1144}function lM(s,tt,ot,ft,gt){s=s|0,tt=tt|0,ot=+ot,ft=+ft,gt=gt|0;var _t=0,Mt=0,Pt=0,kt=0;_t=yt,yt=yt+16|0,Mt=_t+8|0,Pt=_t,kt=uM(s)|0,s=o[kt+4>>2]|0,o[Pt>>2]=o[kt>>2],o[Pt+4>>2]=s,o[Mt>>2]=o[Pt>>2],o[Mt+4>>2]=o[Pt+4>>2],cM(tt,Mt,ot,ft,gt),yt=_t}function uM(s){return s=s|0,(o[(Iv()|0)+24>>2]|0)+(s*12|0)|0}function cM(s,tt,ot,ft,gt){s=s|0,tt=tt|0,ot=+ot,ft=+ft,gt=gt|0;var _t=0,Mt=0,Pt=0,kt=0,zt=0;zt=yt,yt=yt+16|0,Mt=zt+2|0,Pt=zt+1|0,kt=zt,_t=o[tt>>2]|0,tt=o[tt+4>>2]|0,s=s+(tt>>1)|0,tt&1&&(_t=o[(o[s>>2]|0)+_t>>2]|0),Nu(Mt,ot),ot=+Du(Mt,ot),Nu(Pt,ft),ft=+Du(Pt,ft),c0(kt,gt),kt=f0(kt,gt)|0,hw[_t&1](s,ot,ft,kt),yt=zt}function Nu(s,tt){s=s|0,tt=+tt}function Du(s,tt){return s=s|0,tt=+tt,+ +dM(tt)}function c0(s,tt){s=s|0,tt=tt|0}function f0(s,tt){return s=s|0,tt=tt|0,fM(tt)|0}function fM(s){return s=s|0,s|0}function dM(s){return s=+s,+s}function hM(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Pt=o[ot>>2]|0,Mt=o[ot+4>>2]|0,ot=rn(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],pM(s,ot,gt,1),yt=ft}function pM(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;gt=yt,yt=yt+32|0,_t=gt+16|0,Ut=gt+8|0,Pt=gt,zt=o[ot>>2]|0,kt=o[ot+4>>2]|0,Mt=o[s>>2]|0,s=bv()|0,o[Ut>>2]=zt,o[Ut+4>>2]=kt,o[_t>>2]=o[Ut>>2],o[_t+4>>2]=o[Ut+4>>2],ot=mM(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=kt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Mr(Mt,tt,s,ot,gM(_t,ft)|0,ft),yt=gt}function bv(){var s=0,tt=0;if(d[7648]|0||(Ky(9268),Ur(27,9268,Lt|0)|0,tt=7648,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(9268)|0)){s=9268,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));Ky(9268)}return 9268}function mM(s){return s=s|0,0}function gM(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;return Ut=yt,yt=yt+32|0,gt=Ut+24|0,Mt=Ut+16|0,Pt=Ut,kt=Ut+8|0,_t=o[s>>2]|0,ft=o[s+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ft,Ht=bv()|0,zt=Ht+24|0,s=Ar(tt,4)|0,o[kt>>2]=s,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[Mt>>2]=_t,o[Mt+4>>2]=ft,o[gt>>2]=o[Mt>>2],o[gt+4>>2]=o[Mt+4>>2],Yy(ot,gt,s),s=(o[tt>>2]|0)+12|0,o[tt>>2]=s):(_M(zt,Pt,kt),s=o[tt>>2]|0),yt=Ut,((s-(o[zt>>2]|0)|0)/12|0)+-1|0}function Yy(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=o[tt+4>>2]|0,o[s>>2]=o[tt>>2],o[s+4>>2]=ft,o[s+8>>2]=ot}function _M(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ft=zt+32|0,Mt=zt+24|0,Pt=zt,kt=s+4|0,gt=(((o[kt>>2]|0)-(o[s>>2]|0)|0)/12|0)+1|0,_t=vM(s)|0,_t>>>0<gt>>>0)_o(s);else{Ut=o[s>>2]|0,Zt=((o[s+8>>2]|0)-Ut|0)/12|0,Ht=Zt<<1,yM(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<gt>>>0?gt:Ht:_t,((o[kt>>2]|0)-Ut|0)/12|0,s+8|0),kt=Pt+8|0,_t=o[kt>>2]|0,gt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[Mt>>2]=o[tt>>2],o[Mt+4>>2]=gt,o[ft>>2]=o[Mt>>2],o[ft+4>>2]=o[Mt+4>>2],Yy(_t,ft,ot),o[kt>>2]=(o[kt>>2]|0)+12,xM(s,Pt),SM(Pt),yt=zt;return}}function vM(s){return s=s|0,357913941}function yM(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>357913941)ro();else{gt=Cr(tt*12|0)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot*12|0)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt*12|0)}function xM(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(((gt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function SM(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~(((ft+-12-tt|0)>>>0)/12|0)*12|0)),s=o[s>>2]|0,s|0&&qn(s)}function Ky(s){s=s|0,EM(s)}function wM(s){s=s|0,MM(s+24|0)}function MM(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~(((tt+-12-ft|0)>>>0)/12|0)*12|0)),qn(ot))}function EM(s){s=s|0;var tt=0;tt=eo()|0,mo(s,2,4,tt,TM()|0,0),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function TM(){return 1160}function AM(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0;return ot=yt,yt=yt+16|0,ft=ot+8|0,gt=ot,_t=CM(s)|0,s=o[_t+4>>2]|0,o[gt>>2]=o[_t>>2],o[gt+4>>2]=s,o[ft>>2]=o[gt>>2],o[ft+4>>2]=o[gt+4>>2],tt=RM(tt,ft)|0,yt=ot,tt|0}function CM(s){return s=s|0,(o[(bv()|0)+24>>2]|0)+(s*12|0)|0}function RM(s,tt){s=s|0,tt=tt|0;var ot=0;return ot=o[tt>>2]|0,tt=o[tt+4>>2]|0,s=s+(tt>>1)|0,tt&1&&(ot=o[(o[s>>2]|0)+ot>>2]|0),Qy(Hp[ot&31](s)|0)|0}function Qy(s){return s=s|0,s&1|0}function PM(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Pt=o[ot>>2]|0,Mt=o[ot+4>>2]|0,ot=rn(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],LM(s,ot,gt,0),yt=ft}function LM(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;gt=yt,yt=yt+32|0,_t=gt+16|0,Ut=gt+8|0,Pt=gt,zt=o[ot>>2]|0,kt=o[ot+4>>2]|0,Mt=o[s>>2]|0,s=kv()|0,o[Ut>>2]=zt,o[Ut+4>>2]=kt,o[_t>>2]=o[Ut>>2],o[_t+4>>2]=o[Ut+4>>2],ot=IM(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=kt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Mr(Mt,tt,s,ot,bM(_t,ft)|0,ft),yt=gt}function kv(){var s=0,tt=0;if(d[7656]|0||(Jy(9304),Ur(28,9304,Lt|0)|0,tt=7656,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(9304)|0)){s=9304,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));Jy(9304)}return 9304}function IM(s){return s=s|0,0}function bM(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;return Ut=yt,yt=yt+32|0,gt=Ut+24|0,Mt=Ut+16|0,Pt=Ut,kt=Ut+8|0,_t=o[s>>2]|0,ft=o[s+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ft,Ht=kv()|0,zt=Ht+24|0,s=Ar(tt,4)|0,o[kt>>2]=s,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[Mt>>2]=_t,o[Mt+4>>2]=ft,o[gt>>2]=o[Mt>>2],o[gt+4>>2]=o[Mt+4>>2],Zy(ot,gt,s),s=(o[tt>>2]|0)+12|0,o[tt>>2]=s):(kM(zt,Pt,kt),s=o[tt>>2]|0),yt=Ut,((s-(o[zt>>2]|0)|0)/12|0)+-1|0}function Zy(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=o[tt+4>>2]|0,o[s>>2]=o[tt>>2],o[s+4>>2]=ft,o[s+8>>2]=ot}function kM(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ft=zt+32|0,Mt=zt+24|0,Pt=zt,kt=s+4|0,gt=(((o[kt>>2]|0)-(o[s>>2]|0)|0)/12|0)+1|0,_t=NM(s)|0,_t>>>0<gt>>>0)_o(s);else{Ut=o[s>>2]|0,Zt=((o[s+8>>2]|0)-Ut|0)/12|0,Ht=Zt<<1,DM(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<gt>>>0?gt:Ht:_t,((o[kt>>2]|0)-Ut|0)/12|0,s+8|0),kt=Pt+8|0,_t=o[kt>>2]|0,gt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[Mt>>2]=o[tt>>2],o[Mt+4>>2]=gt,o[ft>>2]=o[Mt>>2],o[ft+4>>2]=o[Mt+4>>2],Zy(_t,ft,ot),o[kt>>2]=(o[kt>>2]|0)+12,OM(s,Pt),FM(Pt),yt=zt;return}}function NM(s){return s=s|0,357913941}function DM(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>357913941)ro();else{gt=Cr(tt*12|0)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot*12|0)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt*12|0)}function OM(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(((gt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function FM(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~(((ft+-12-tt|0)>>>0)/12|0)*12|0)),s=o[s>>2]|0,s|0&&qn(s)}function Jy(s){s=s|0,zM(s)}function BM(s){s=s|0,UM(s+24|0)}function UM(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~(((tt+-12-ft|0)>>>0)/12|0)*12|0)),qn(ot))}function zM(s){s=s|0;var tt=0;tt=eo()|0,mo(s,2,5,tt,VM()|0,1),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function VM(){return 1164}function GM(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=HM(s)|0,s=o[Mt+4>>2]|0,o[_t>>2]=o[Mt>>2],o[_t+4>>2]=s,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],$M(tt,gt,ot),yt=ft}function HM(s){return s=s|0,(o[(kv()|0)+24>>2]|0)+(s*12|0)|0}function $M(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0;_t=yt,yt=yt+16|0,gt=_t,ft=o[tt>>2]|0,tt=o[tt+4>>2]|0,s=s+(tt>>1)|0,tt&1&&(ft=o[(o[s>>2]|0)+ft>>2]|0),Y0(gt,ot),ot=K0(gt,ot)|0,p0[ft&31](s,ot),Q0(gt),yt=_t}function Y0(s,tt){s=s|0,tt=tt|0,WM(s,tt)}function K0(s,tt){return s=s|0,tt=tt|0,s|0}function Q0(s){s=s|0,n0(s)}function WM(s,tt){s=s|0,tt=tt|0,Nv(s,tt)}function Nv(s,tt){s=s|0,tt=tt|0,o[s>>2]=tt}function jM(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Pt=o[ot>>2]|0,Mt=o[ot+4>>2]|0,ot=rn(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],XM(s,ot,gt,0),yt=ft}function XM(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;gt=yt,yt=yt+32|0,_t=gt+16|0,Ut=gt+8|0,Pt=gt,zt=o[ot>>2]|0,kt=o[ot+4>>2]|0,Mt=o[s>>2]|0,s=Dv()|0,o[Ut>>2]=zt,o[Ut+4>>2]=kt,o[_t>>2]=o[Ut>>2],o[_t+4>>2]=o[Ut+4>>2],ot=qM(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=kt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Mr(Mt,tt,s,ot,YM(_t,ft)|0,ft),yt=gt}function Dv(){var s=0,tt=0;if(d[7664]|0||(tx(9340),Ur(29,9340,Lt|0)|0,tt=7664,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(9340)|0)){s=9340,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));tx(9340)}return 9340}function qM(s){return s=s|0,0}function YM(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;return Ut=yt,yt=yt+32|0,gt=Ut+24|0,Mt=Ut+16|0,Pt=Ut,kt=Ut+8|0,_t=o[s>>2]|0,ft=o[s+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ft,Ht=Dv()|0,zt=Ht+24|0,s=Ar(tt,4)|0,o[kt>>2]=s,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[Mt>>2]=_t,o[Mt+4>>2]=ft,o[gt>>2]=o[Mt>>2],o[gt+4>>2]=o[Mt+4>>2],ex(ot,gt,s),s=(o[tt>>2]|0)+12|0,o[tt>>2]=s):(KM(zt,Pt,kt),s=o[tt>>2]|0),yt=Ut,((s-(o[zt>>2]|0)|0)/12|0)+-1|0}function ex(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=o[tt+4>>2]|0,o[s>>2]=o[tt>>2],o[s+4>>2]=ft,o[s+8>>2]=ot}function KM(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ft=zt+32|0,Mt=zt+24|0,Pt=zt,kt=s+4|0,gt=(((o[kt>>2]|0)-(o[s>>2]|0)|0)/12|0)+1|0,_t=QM(s)|0,_t>>>0<gt>>>0)_o(s);else{Ut=o[s>>2]|0,Zt=((o[s+8>>2]|0)-Ut|0)/12|0,Ht=Zt<<1,ZM(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<gt>>>0?gt:Ht:_t,((o[kt>>2]|0)-Ut|0)/12|0,s+8|0),kt=Pt+8|0,_t=o[kt>>2]|0,gt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[Mt>>2]=o[tt>>2],o[Mt+4>>2]=gt,o[ft>>2]=o[Mt>>2],o[ft+4>>2]=o[Mt+4>>2],ex(_t,ft,ot),o[kt>>2]=(o[kt>>2]|0)+12,JM(s,Pt),eE(Pt),yt=zt;return}}function QM(s){return s=s|0,357913941}function ZM(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>357913941)ro();else{gt=Cr(tt*12|0)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot*12|0)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt*12|0)}function JM(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(((gt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function eE(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~(((ft+-12-tt|0)>>>0)/12|0)*12|0)),s=o[s>>2]|0,s|0&&qn(s)}function tx(s){s=s|0,rE(s)}function tE(s){s=s|0,nE(s+24|0)}function nE(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~(((tt+-12-ft|0)>>>0)/12|0)*12|0)),qn(ot))}function rE(s){s=s|0;var tt=0;tt=eo()|0,mo(s,2,4,tt,iE()|0,1),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function iE(){return 1180}function oE(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=sE(s)|0,s=o[Mt+4>>2]|0,o[_t>>2]=o[Mt>>2],o[_t+4>>2]=s,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],ot=aE(tt,gt,ot)|0,yt=ft,ot|0}function sE(s){return s=s|0,(o[(Dv()|0)+24>>2]|0)+(s*12|0)|0}function aE(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0;return _t=yt,yt=yt+16|0,gt=_t,ft=o[tt>>2]|0,tt=o[tt+4>>2]|0,s=s+(tt>>1)|0,tt&1&&(ft=o[(o[s>>2]|0)+ft>>2]|0),Dp(gt,ot),gt=Op(gt,ot)|0,gt=L_(ky[ft&15](s,gt)|0)|0,yt=_t,gt|0}function Dp(s,tt){s=s|0,tt=tt|0}function Op(s,tt){return s=s|0,tt=tt|0,lE(tt)|0}function L_(s){return s=s|0,s|0}function lE(s){return s=s|0,s|0}function uE(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Pt=o[ot>>2]|0,Mt=o[ot+4>>2]|0,ot=rn(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],cE(s,ot,gt,0),yt=ft}function cE(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;gt=yt,yt=yt+32|0,_t=gt+16|0,Ut=gt+8|0,Pt=gt,zt=o[ot>>2]|0,kt=o[ot+4>>2]|0,Mt=o[s>>2]|0,s=Ov()|0,o[Ut>>2]=zt,o[Ut+4>>2]=kt,o[_t>>2]=o[Ut>>2],o[_t+4>>2]=o[Ut+4>>2],ot=fE(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=kt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Mr(Mt,tt,s,ot,dE(_t,ft)|0,ft),yt=gt}function Ov(){var s=0,tt=0;if(d[7672]|0||(rx(9376),Ur(30,9376,Lt|0)|0,tt=7672,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(9376)|0)){s=9376,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));rx(9376)}return 9376}function fE(s){return s=s|0,0}function dE(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;return Ut=yt,yt=yt+32|0,gt=Ut+24|0,Mt=Ut+16|0,Pt=Ut,kt=Ut+8|0,_t=o[s>>2]|0,ft=o[s+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ft,Ht=Ov()|0,zt=Ht+24|0,s=Ar(tt,4)|0,o[kt>>2]=s,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[Mt>>2]=_t,o[Mt+4>>2]=ft,o[gt>>2]=o[Mt>>2],o[gt+4>>2]=o[Mt+4>>2],nx(ot,gt,s),s=(o[tt>>2]|0)+12|0,o[tt>>2]=s):(hE(zt,Pt,kt),s=o[tt>>2]|0),yt=Ut,((s-(o[zt>>2]|0)|0)/12|0)+-1|0}function nx(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=o[tt+4>>2]|0,o[s>>2]=o[tt>>2],o[s+4>>2]=ft,o[s+8>>2]=ot}function hE(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ft=zt+32|0,Mt=zt+24|0,Pt=zt,kt=s+4|0,gt=(((o[kt>>2]|0)-(o[s>>2]|0)|0)/12|0)+1|0,_t=pE(s)|0,_t>>>0<gt>>>0)_o(s);else{Ut=o[s>>2]|0,Zt=((o[s+8>>2]|0)-Ut|0)/12|0,Ht=Zt<<1,mE(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<gt>>>0?gt:Ht:_t,((o[kt>>2]|0)-Ut|0)/12|0,s+8|0),kt=Pt+8|0,_t=o[kt>>2]|0,gt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[Mt>>2]=o[tt>>2],o[Mt+4>>2]=gt,o[ft>>2]=o[Mt>>2],o[ft+4>>2]=o[Mt+4>>2],nx(_t,ft,ot),o[kt>>2]=(o[kt>>2]|0)+12,gE(s,Pt),_E(Pt),yt=zt;return}}function pE(s){return s=s|0,357913941}function mE(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>357913941)ro();else{gt=Cr(tt*12|0)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot*12|0)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt*12|0)}function gE(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(((gt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function _E(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~(((ft+-12-tt|0)>>>0)/12|0)*12|0)),s=o[s>>2]|0,s|0&&qn(s)}function rx(s){s=s|0,xE(s)}function vE(s){s=s|0,yE(s+24|0)}function yE(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~(((tt+-12-ft|0)>>>0)/12|0)*12|0)),qn(ot))}function xE(s){s=s|0;var tt=0;tt=eo()|0,mo(s,2,5,tt,ix()|0,0),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function ix(){return 1196}function SE(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0;return ot=yt,yt=yt+16|0,ft=ot+8|0,gt=ot,_t=wE(s)|0,s=o[_t+4>>2]|0,o[gt>>2]=o[_t>>2],o[gt+4>>2]=s,o[ft>>2]=o[gt>>2],o[ft+4>>2]=o[gt+4>>2],tt=ME(tt,ft)|0,yt=ot,tt|0}function wE(s){return s=s|0,(o[(Ov()|0)+24>>2]|0)+(s*12|0)|0}function ME(s,tt){s=s|0,tt=tt|0;var ot=0;return ot=o[tt>>2]|0,tt=o[tt+4>>2]|0,s=s+(tt>>1)|0,tt&1&&(ot=o[(o[s>>2]|0)+ot>>2]|0),L_(Hp[ot&31](s)|0)|0}function EE(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Pt=o[ot>>2]|0,Mt=o[ot+4>>2]|0,ot=rn(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],TE(s,ot,gt,1),yt=ft}function TE(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;gt=yt,yt=yt+32|0,_t=gt+16|0,Ut=gt+8|0,Pt=gt,zt=o[ot>>2]|0,kt=o[ot+4>>2]|0,Mt=o[s>>2]|0,s=Fv()|0,o[Ut>>2]=zt,o[Ut+4>>2]=kt,o[_t>>2]=o[Ut>>2],o[_t+4>>2]=o[Ut+4>>2],ot=AE(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=kt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Mr(Mt,tt,s,ot,CE(_t,ft)|0,ft),yt=gt}function Fv(){var s=0,tt=0;if(d[7680]|0||(sx(9412),Ur(31,9412,Lt|0)|0,tt=7680,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(9412)|0)){s=9412,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));sx(9412)}return 9412}function AE(s){return s=s|0,0}function CE(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;return Ut=yt,yt=yt+32|0,gt=Ut+24|0,Mt=Ut+16|0,Pt=Ut,kt=Ut+8|0,_t=o[s>>2]|0,ft=o[s+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ft,Ht=Fv()|0,zt=Ht+24|0,s=Ar(tt,4)|0,o[kt>>2]=s,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[Mt>>2]=_t,o[Mt+4>>2]=ft,o[gt>>2]=o[Mt>>2],o[gt+4>>2]=o[Mt+4>>2],ox(ot,gt,s),s=(o[tt>>2]|0)+12|0,o[tt>>2]=s):(RE(zt,Pt,kt),s=o[tt>>2]|0),yt=Ut,((s-(o[zt>>2]|0)|0)/12|0)+-1|0}function ox(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=o[tt+4>>2]|0,o[s>>2]=o[tt>>2],o[s+4>>2]=ft,o[s+8>>2]=ot}function RE(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ft=zt+32|0,Mt=zt+24|0,Pt=zt,kt=s+4|0,gt=(((o[kt>>2]|0)-(o[s>>2]|0)|0)/12|0)+1|0,_t=PE(s)|0,_t>>>0<gt>>>0)_o(s);else{Ut=o[s>>2]|0,Zt=((o[s+8>>2]|0)-Ut|0)/12|0,Ht=Zt<<1,LE(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<gt>>>0?gt:Ht:_t,((o[kt>>2]|0)-Ut|0)/12|0,s+8|0),kt=Pt+8|0,_t=o[kt>>2]|0,gt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[Mt>>2]=o[tt>>2],o[Mt+4>>2]=gt,o[ft>>2]=o[Mt>>2],o[ft+4>>2]=o[Mt+4>>2],ox(_t,ft,ot),o[kt>>2]=(o[kt>>2]|0)+12,IE(s,Pt),bE(Pt),yt=zt;return}}function PE(s){return s=s|0,357913941}function LE(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>357913941)ro();else{gt=Cr(tt*12|0)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot*12|0)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt*12|0)}function IE(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(((gt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function bE(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~(((ft+-12-tt|0)>>>0)/12|0)*12|0)),s=o[s>>2]|0,s|0&&qn(s)}function sx(s){s=s|0,DE(s)}function kE(s){s=s|0,NE(s+24|0)}function NE(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~(((tt+-12-ft|0)>>>0)/12|0)*12|0)),qn(ot))}function DE(s){s=s|0;var tt=0;tt=eo()|0,mo(s,2,6,tt,ax()|0,0),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function ax(){return 1200}function OE(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0;return ot=yt,yt=yt+16|0,ft=ot+8|0,gt=ot,_t=FE(s)|0,s=o[_t+4>>2]|0,o[gt>>2]=o[_t>>2],o[gt+4>>2]=s,o[ft>>2]=o[gt>>2],o[ft+4>>2]=o[gt+4>>2],tt=BE(tt,ft)|0,yt=ot,tt|0}function FE(s){return s=s|0,(o[(Fv()|0)+24>>2]|0)+(s*12|0)|0}function BE(s,tt){s=s|0,tt=tt|0;var ot=0;return ot=o[tt>>2]|0,tt=o[tt+4>>2]|0,s=s+(tt>>1)|0,tt&1&&(ot=o[(o[s>>2]|0)+ot>>2]|0),I_(Hp[ot&31](s)|0)|0}function I_(s){return s=s|0,s|0}function UE(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Pt=o[ot>>2]|0,Mt=o[ot+4>>2]|0,ot=rn(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],zE(s,ot,gt,0),yt=ft}function zE(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;gt=yt,yt=yt+32|0,_t=gt+16|0,Ut=gt+8|0,Pt=gt,zt=o[ot>>2]|0,kt=o[ot+4>>2]|0,Mt=o[s>>2]|0,s=Bv()|0,o[Ut>>2]=zt,o[Ut+4>>2]=kt,o[_t>>2]=o[Ut>>2],o[_t+4>>2]=o[Ut+4>>2],ot=VE(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=kt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Mr(Mt,tt,s,ot,GE(_t,ft)|0,ft),yt=gt}function Bv(){var s=0,tt=0;if(d[7688]|0||(ux(9448),Ur(32,9448,Lt|0)|0,tt=7688,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(9448)|0)){s=9448,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));ux(9448)}return 9448}function VE(s){return s=s|0,0}function GE(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;return Ut=yt,yt=yt+32|0,gt=Ut+24|0,Mt=Ut+16|0,Pt=Ut,kt=Ut+8|0,_t=o[s>>2]|0,ft=o[s+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ft,Ht=Bv()|0,zt=Ht+24|0,s=Ar(tt,4)|0,o[kt>>2]=s,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[Mt>>2]=_t,o[Mt+4>>2]=ft,o[gt>>2]=o[Mt>>2],o[gt+4>>2]=o[Mt+4>>2],lx(ot,gt,s),s=(o[tt>>2]|0)+12|0,o[tt>>2]=s):(HE(zt,Pt,kt),s=o[tt>>2]|0),yt=Ut,((s-(o[zt>>2]|0)|0)/12|0)+-1|0}function lx(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=o[tt+4>>2]|0,o[s>>2]=o[tt>>2],o[s+4>>2]=ft,o[s+8>>2]=ot}function HE(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ft=zt+32|0,Mt=zt+24|0,Pt=zt,kt=s+4|0,gt=(((o[kt>>2]|0)-(o[s>>2]|0)|0)/12|0)+1|0,_t=$E(s)|0,_t>>>0<gt>>>0)_o(s);else{Ut=o[s>>2]|0,Zt=((o[s+8>>2]|0)-Ut|0)/12|0,Ht=Zt<<1,WE(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<gt>>>0?gt:Ht:_t,((o[kt>>2]|0)-Ut|0)/12|0,s+8|0),kt=Pt+8|0,_t=o[kt>>2]|0,gt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[Mt>>2]=o[tt>>2],o[Mt+4>>2]=gt,o[ft>>2]=o[Mt>>2],o[ft+4>>2]=o[Mt+4>>2],lx(_t,ft,ot),o[kt>>2]=(o[kt>>2]|0)+12,jE(s,Pt),XE(Pt),yt=zt;return}}function $E(s){return s=s|0,357913941}function WE(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>357913941)ro();else{gt=Cr(tt*12|0)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot*12|0)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt*12|0)}function jE(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(((gt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function XE(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~(((ft+-12-tt|0)>>>0)/12|0)*12|0)),s=o[s>>2]|0,s|0&&qn(s)}function ux(s){s=s|0,KE(s)}function qE(s){s=s|0,YE(s+24|0)}function YE(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~(((tt+-12-ft|0)>>>0)/12|0)*12|0)),qn(ot))}function KE(s){s=s|0;var tt=0;tt=eo()|0,mo(s,2,6,tt,cx()|0,1),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function cx(){return 1204}function QE(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=ZE(s)|0,s=o[Mt+4>>2]|0,o[_t>>2]=o[Mt>>2],o[_t+4>>2]=s,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],JE(tt,gt,ot),yt=ft}function ZE(s){return s=s|0,(o[(Bv()|0)+24>>2]|0)+(s*12|0)|0}function JE(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0;_t=yt,yt=yt+16|0,gt=_t,ft=o[tt>>2]|0,tt=o[tt+4>>2]|0,s=s+(tt>>1)|0,tt&1&&(ft=o[(o[s>>2]|0)+ft>>2]|0),Uv(gt,ot),gt=zv(gt,ot)|0,p0[ft&31](s,gt),yt=_t}function Uv(s,tt){s=s|0,tt=tt|0}function zv(s,tt){return s=s|0,tt=tt|0,eT(tt)|0}function eT(s){return s=s|0,s|0}function tT(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Pt=o[ot>>2]|0,Mt=o[ot+4>>2]|0,ot=rn(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],nT(s,ot,gt,0),yt=ft}function nT(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;gt=yt,yt=yt+32|0,_t=gt+16|0,Ut=gt+8|0,Pt=gt,zt=o[ot>>2]|0,kt=o[ot+4>>2]|0,Mt=o[s>>2]|0,s=Vv()|0,o[Ut>>2]=zt,o[Ut+4>>2]=kt,o[_t>>2]=o[Ut>>2],o[_t+4>>2]=o[Ut+4>>2],ot=rT(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=kt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Mr(Mt,tt,s,ot,iT(_t,ft)|0,ft),yt=gt}function Vv(){var s=0,tt=0;if(d[7696]|0||(dx(9484),Ur(33,9484,Lt|0)|0,tt=7696,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(9484)|0)){s=9484,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));dx(9484)}return 9484}function rT(s){return s=s|0,0}function iT(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;return Ut=yt,yt=yt+32|0,gt=Ut+24|0,Mt=Ut+16|0,Pt=Ut,kt=Ut+8|0,_t=o[s>>2]|0,ft=o[s+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ft,Ht=Vv()|0,zt=Ht+24|0,s=Ar(tt,4)|0,o[kt>>2]=s,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[Mt>>2]=_t,o[Mt+4>>2]=ft,o[gt>>2]=o[Mt>>2],o[gt+4>>2]=o[Mt+4>>2],fx(ot,gt,s),s=(o[tt>>2]|0)+12|0,o[tt>>2]=s):(oT(zt,Pt,kt),s=o[tt>>2]|0),yt=Ut,((s-(o[zt>>2]|0)|0)/12|0)+-1|0}function fx(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=o[tt+4>>2]|0,o[s>>2]=o[tt>>2],o[s+4>>2]=ft,o[s+8>>2]=ot}function oT(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ft=zt+32|0,Mt=zt+24|0,Pt=zt,kt=s+4|0,gt=(((o[kt>>2]|0)-(o[s>>2]|0)|0)/12|0)+1|0,_t=sT(s)|0,_t>>>0<gt>>>0)_o(s);else{Ut=o[s>>2]|0,Zt=((o[s+8>>2]|0)-Ut|0)/12|0,Ht=Zt<<1,aT(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<gt>>>0?gt:Ht:_t,((o[kt>>2]|0)-Ut|0)/12|0,s+8|0),kt=Pt+8|0,_t=o[kt>>2]|0,gt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[Mt>>2]=o[tt>>2],o[Mt+4>>2]=gt,o[ft>>2]=o[Mt>>2],o[ft+4>>2]=o[Mt+4>>2],fx(_t,ft,ot),o[kt>>2]=(o[kt>>2]|0)+12,lT(s,Pt),uT(Pt),yt=zt;return}}function sT(s){return s=s|0,357913941}function aT(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>357913941)ro();else{gt=Cr(tt*12|0)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot*12|0)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt*12|0)}function lT(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(((gt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function uT(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~(((ft+-12-tt|0)>>>0)/12|0)*12|0)),s=o[s>>2]|0,s|0&&qn(s)}function dx(s){s=s|0,dT(s)}function cT(s){s=s|0,fT(s+24|0)}function fT(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~(((tt+-12-ft|0)>>>0)/12|0)*12|0)),qn(ot))}function dT(s){s=s|0;var tt=0;tt=eo()|0,mo(s,2,1,tt,hT()|0,2),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function hT(){return 1212}function pT(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0;gt=yt,yt=yt+16|0,_t=gt+8|0,Mt=gt,Pt=mT(s)|0,s=o[Pt+4>>2]|0,o[Mt>>2]=o[Pt>>2],o[Mt+4>>2]=s,o[_t>>2]=o[Mt>>2],o[_t+4>>2]=o[Mt+4>>2],gT(tt,_t,ot,ft),yt=gt}function mT(s){return s=s|0,(o[(Vv()|0)+24>>2]|0)+(s*12|0)|0}function gT(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0;Pt=yt,yt=yt+16|0,_t=Pt+1|0,Mt=Pt,gt=o[tt>>2]|0,tt=o[tt+4>>2]|0,s=s+(tt>>1)|0,tt&1&&(gt=o[(o[s>>2]|0)+gt>>2]|0),Uv(_t,ot),_t=zv(_t,ot)|0,Dp(Mt,ft),Mt=Op(Mt,ft)|0,h2[gt&15](s,_t,Mt),yt=Pt}function _T(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Pt=o[ot>>2]|0,Mt=o[ot+4>>2]|0,ot=rn(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],vT(s,ot,gt,1),yt=ft}function vT(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;gt=yt,yt=yt+32|0,_t=gt+16|0,Ut=gt+8|0,Pt=gt,zt=o[ot>>2]|0,kt=o[ot+4>>2]|0,Mt=o[s>>2]|0,s=Gv()|0,o[Ut>>2]=zt,o[Ut+4>>2]=kt,o[_t>>2]=o[Ut>>2],o[_t+4>>2]=o[Ut+4>>2],ot=yT(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=kt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Mr(Mt,tt,s,ot,xT(_t,ft)|0,ft),yt=gt}function Gv(){var s=0,tt=0;if(d[7704]|0||(mx(9520),Ur(34,9520,Lt|0)|0,tt=7704,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(9520)|0)){s=9520,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));mx(9520)}return 9520}function yT(s){return s=s|0,0}function xT(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;return Ut=yt,yt=yt+32|0,gt=Ut+24|0,Mt=Ut+16|0,Pt=Ut,kt=Ut+8|0,_t=o[s>>2]|0,ft=o[s+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ft,Ht=Gv()|0,zt=Ht+24|0,s=Ar(tt,4)|0,o[kt>>2]=s,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[Mt>>2]=_t,o[Mt+4>>2]=ft,o[gt>>2]=o[Mt>>2],o[gt+4>>2]=o[Mt+4>>2],hx(ot,gt,s),s=(o[tt>>2]|0)+12|0,o[tt>>2]=s):(ST(zt,Pt,kt),s=o[tt>>2]|0),yt=Ut,((s-(o[zt>>2]|0)|0)/12|0)+-1|0}function hx(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=o[tt+4>>2]|0,o[s>>2]=o[tt>>2],o[s+4>>2]=ft,o[s+8>>2]=ot}function ST(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ft=zt+32|0,Mt=zt+24|0,Pt=zt,kt=s+4|0,gt=(((o[kt>>2]|0)-(o[s>>2]|0)|0)/12|0)+1|0,_t=wT(s)|0,_t>>>0<gt>>>0)_o(s);else{Ut=o[s>>2]|0,Zt=((o[s+8>>2]|0)-Ut|0)/12|0,Ht=Zt<<1,MT(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<gt>>>0?gt:Ht:_t,((o[kt>>2]|0)-Ut|0)/12|0,s+8|0),kt=Pt+8|0,_t=o[kt>>2]|0,gt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[Mt>>2]=o[tt>>2],o[Mt+4>>2]=gt,o[ft>>2]=o[Mt>>2],o[ft+4>>2]=o[Mt+4>>2],hx(_t,ft,ot),o[kt>>2]=(o[kt>>2]|0)+12,ET(s,Pt),TT(Pt),yt=zt;return}}function wT(s){return s=s|0,357913941}function MT(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>357913941)ro();else{gt=Cr(tt*12|0)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot*12|0)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt*12|0)}function ET(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(((gt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function TT(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~(((ft+-12-tt|0)>>>0)/12|0)*12|0)),s=o[s>>2]|0,s|0&&qn(s)}function mx(s){s=s|0,RT(s)}function AT(s){s=s|0,CT(s+24|0)}function CT(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~(((tt+-12-ft|0)>>>0)/12|0)*12|0)),qn(ot))}function RT(s){s=s|0;var tt=0;tt=eo()|0,mo(s,2,1,tt,PT()|0,1),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function PT(){return 1224}function LT(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;return gt=yt,yt=yt+16|0,_t=gt+8|0,Mt=gt,Pt=IT(s)|0,s=o[Pt+4>>2]|0,o[Mt>>2]=o[Pt>>2],o[Mt+4>>2]=s,o[_t>>2]=o[Mt>>2],o[_t+4>>2]=o[Mt+4>>2],ft=+bT(tt,_t,ot),yt=gt,+ft}function IT(s){return s=s|0,(o[(Gv()|0)+24>>2]|0)+(s*12|0)|0}function bT(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return _t=yt,yt=yt+16|0,gt=_t,ft=o[tt>>2]|0,tt=o[tt+4>>2]|0,s=s+(tt>>1)|0,tt&1&&(ft=o[(o[s>>2]|0)+ft>>2]|0),c0(gt,ot),gt=f0(gt,ot)|0,Mt=+Om(+mw[ft&7](s,gt)),yt=_t,+Mt}function kT(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Pt=o[ot>>2]|0,Mt=o[ot+4>>2]|0,ot=rn(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],NT(s,ot,gt,1),yt=ft}function NT(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;gt=yt,yt=yt+32|0,_t=gt+16|0,Ut=gt+8|0,Pt=gt,zt=o[ot>>2]|0,kt=o[ot+4>>2]|0,Mt=o[s>>2]|0,s=Hv()|0,o[Ut>>2]=zt,o[Ut+4>>2]=kt,o[_t>>2]=o[Ut>>2],o[_t+4>>2]=o[Ut+4>>2],ot=DT(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=kt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Mr(Mt,tt,s,ot,OT(_t,ft)|0,ft),yt=gt}function Hv(){var s=0,tt=0;if(d[7712]|0||(vx(9556),Ur(35,9556,Lt|0)|0,tt=7712,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(9556)|0)){s=9556,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));vx(9556)}return 9556}function DT(s){return s=s|0,0}function OT(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;return Ut=yt,yt=yt+32|0,gt=Ut+24|0,Mt=Ut+16|0,Pt=Ut,kt=Ut+8|0,_t=o[s>>2]|0,ft=o[s+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ft,Ht=Hv()|0,zt=Ht+24|0,s=Ar(tt,4)|0,o[kt>>2]=s,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[Mt>>2]=_t,o[Mt+4>>2]=ft,o[gt>>2]=o[Mt>>2],o[gt+4>>2]=o[Mt+4>>2],gx(ot,gt,s),s=(o[tt>>2]|0)+12|0,o[tt>>2]=s):(FT(zt,Pt,kt),s=o[tt>>2]|0),yt=Ut,((s-(o[zt>>2]|0)|0)/12|0)+-1|0}function gx(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=o[tt+4>>2]|0,o[s>>2]=o[tt>>2],o[s+4>>2]=ft,o[s+8>>2]=ot}function FT(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ft=zt+32|0,Mt=zt+24|0,Pt=zt,kt=s+4|0,gt=(((o[kt>>2]|0)-(o[s>>2]|0)|0)/12|0)+1|0,_t=BT(s)|0,_t>>>0<gt>>>0)_o(s);else{Ut=o[s>>2]|0,Zt=((o[s+8>>2]|0)-Ut|0)/12|0,Ht=Zt<<1,UT(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<gt>>>0?gt:Ht:_t,((o[kt>>2]|0)-Ut|0)/12|0,s+8|0),kt=Pt+8|0,_t=o[kt>>2]|0,gt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[Mt>>2]=o[tt>>2],o[Mt+4>>2]=gt,o[ft>>2]=o[Mt>>2],o[ft+4>>2]=o[Mt+4>>2],gx(_t,ft,ot),o[kt>>2]=(o[kt>>2]|0)+12,zT(s,Pt),VT(Pt),yt=zt;return}}function BT(s){return s=s|0,357913941}function UT(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>357913941)ro();else{gt=Cr(tt*12|0)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot*12|0)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt*12|0)}function zT(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(((gt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function VT(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~(((ft+-12-tt|0)>>>0)/12|0)*12|0)),s=o[s>>2]|0,s|0&&qn(s)}function vx(s){s=s|0,$T(s)}function GT(s){s=s|0,HT(s+24|0)}function HT(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~(((tt+-12-ft|0)>>>0)/12|0)*12|0)),qn(ot))}function $T(s){s=s|0;var tt=0;tt=eo()|0,mo(s,2,5,tt,WT()|0,0),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function WT(){return 1232}function jT(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=XT(s)|0,s=o[Mt+4>>2]|0,o[_t>>2]=o[Mt>>2],o[_t+4>>2]=s,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],ot=+qT(tt,gt),yt=ft,+ot}function XT(s){return s=s|0,(o[(Hv()|0)+24>>2]|0)+(s*12|0)|0}function qT(s,tt){s=s|0,tt=tt|0;var ot=0;return ot=o[tt>>2]|0,tt=o[tt+4>>2]|0,s=s+(tt>>1)|0,tt&1&&(ot=o[(o[s>>2]|0)+ot>>2]|0),+ +Om(+pw[ot&15](s))}function YT(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Pt=o[ot>>2]|0,Mt=o[ot+4>>2]|0,ot=rn(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],KT(s,ot,gt,1),yt=ft}function KT(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;gt=yt,yt=yt+32|0,_t=gt+16|0,Ut=gt+8|0,Pt=gt,zt=o[ot>>2]|0,kt=o[ot+4>>2]|0,Mt=o[s>>2]|0,s=$v()|0,o[Ut>>2]=zt,o[Ut+4>>2]=kt,o[_t>>2]=o[Ut>>2],o[_t+4>>2]=o[Ut+4>>2],ot=QT(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=kt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Mr(Mt,tt,s,ot,ZT(_t,ft)|0,ft),yt=gt}function $v(){var s=0,tt=0;if(d[7720]|0||(xx(9592),Ur(36,9592,Lt|0)|0,tt=7720,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(9592)|0)){s=9592,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));xx(9592)}return 9592}function QT(s){return s=s|0,0}function ZT(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;return Ut=yt,yt=yt+32|0,gt=Ut+24|0,Mt=Ut+16|0,Pt=Ut,kt=Ut+8|0,_t=o[s>>2]|0,ft=o[s+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ft,Ht=$v()|0,zt=Ht+24|0,s=Ar(tt,4)|0,o[kt>>2]=s,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[Mt>>2]=_t,o[Mt+4>>2]=ft,o[gt>>2]=o[Mt>>2],o[gt+4>>2]=o[Mt+4>>2],yx(ot,gt,s),s=(o[tt>>2]|0)+12|0,o[tt>>2]=s):(JT(zt,Pt,kt),s=o[tt>>2]|0),yt=Ut,((s-(o[zt>>2]|0)|0)/12|0)+-1|0}function yx(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=o[tt+4>>2]|0,o[s>>2]=o[tt>>2],o[s+4>>2]=ft,o[s+8>>2]=ot}function JT(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ft=zt+32|0,Mt=zt+24|0,Pt=zt,kt=s+4|0,gt=(((o[kt>>2]|0)-(o[s>>2]|0)|0)/12|0)+1|0,_t=eA(s)|0,_t>>>0<gt>>>0)_o(s);else{Ut=o[s>>2]|0,Zt=((o[s+8>>2]|0)-Ut|0)/12|0,Ht=Zt<<1,tA(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<gt>>>0?gt:Ht:_t,((o[kt>>2]|0)-Ut|0)/12|0,s+8|0),kt=Pt+8|0,_t=o[kt>>2]|0,gt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[Mt>>2]=o[tt>>2],o[Mt+4>>2]=gt,o[ft>>2]=o[Mt>>2],o[ft+4>>2]=o[Mt+4>>2],yx(_t,ft,ot),o[kt>>2]=(o[kt>>2]|0)+12,nA(s,Pt),rA(Pt),yt=zt;return}}function eA(s){return s=s|0,357913941}function tA(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>357913941)ro();else{gt=Cr(tt*12|0)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot*12|0)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt*12|0)}function nA(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(((gt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function rA(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~(((ft+-12-tt|0)>>>0)/12|0)*12|0)),s=o[s>>2]|0,s|0&&qn(s)}function xx(s){s=s|0,sA(s)}function iA(s){s=s|0,oA(s+24|0)}function oA(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~(((tt+-12-ft|0)>>>0)/12|0)*12|0)),qn(ot))}function sA(s){s=s|0;var tt=0;tt=eo()|0,mo(s,2,7,tt,aA()|0,0),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function aA(){return 1276}function lA(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0;return ot=yt,yt=yt+16|0,ft=ot+8|0,gt=ot,_t=uA(s)|0,s=o[_t+4>>2]|0,o[gt>>2]=o[_t>>2],o[gt+4>>2]=s,o[ft>>2]=o[gt>>2],o[ft+4>>2]=o[gt+4>>2],tt=cA(tt,ft)|0,yt=ot,tt|0}function uA(s){return s=s|0,(o[($v()|0)+24>>2]|0)+(s*12|0)|0}function cA(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0;return gt=yt,yt=yt+16|0,ft=gt,ot=o[tt>>2]|0,tt=o[tt+4>>2]|0,s=s+(tt>>1)|0,tt&1&&(ot=o[(o[s>>2]|0)+ot>>2]|0),p0[ot&31](ft,s),ft=Sx(ft)|0,yt=gt,ft|0}function Sx(s){s=s|0;var tt=0,ot=0,ft=0,gt=0;return gt=yt,yt=yt+32|0,tt=gt+12|0,ot=gt,ft=Cv(wx()|0)|0,ft?(Rv(tt,ft),Pv(ot,tt),fA(s,ot),s=Lv(tt)|0):s=dA(s)|0,yt=gt,s|0}function wx(){var s=0;return d[7736]|0||(wA(9640),Ur(25,9640,Lt|0)|0,s=7736,o[s>>2]=1,o[s+4>>2]=0),9640}function fA(s,tt){s=s|0,tt=tt|0,gA(tt,s,s+8|0)|0}function dA(s){s=s|0;var tt=0,ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0;return ot=yt,yt=yt+16|0,gt=ot+4|0,Mt=ot,ft=Rl(8)|0,tt=ft,Pt=Cr(16)|0,o[Pt>>2]=o[s>>2],o[Pt+4>>2]=o[s+4>>2],o[Pt+8>>2]=o[s+8>>2],o[Pt+12>>2]=o[s+12>>2],_t=tt+4|0,o[_t>>2]=Pt,s=Cr(8)|0,_t=o[_t>>2]|0,o[Mt>>2]=0,o[gt>>2]=o[Mt>>2],Wv(s,_t,gt),o[ft>>2]=s,yt=ot,tt|0}function Wv(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,o[s>>2]=tt,ot=Cr(16)|0,o[ot+4>>2]=0,o[ot+8>>2]=0,o[ot>>2]=1244,o[ot+12>>2]=tt,o[s+4>>2]=ot}function hA(s){s=s|0,$m(s),qn(s)}function pA(s){s=s|0,s=o[s+12>>2]|0,s|0&&qn(s)}function mA(s){s=s|0,qn(s)}function gA(s,tt,ot){return s=s|0,tt=tt|0,ot=ot|0,tt=_A(o[s>>2]|0,tt,ot)|0,ot=s+4|0,o[(o[ot>>2]|0)+8>>2]=tt,o[(o[ot>>2]|0)+8>>2]|0}function _A(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0;return ft=yt,yt=yt+16|0,gt=ft,Pl(gt),s=rs(s)|0,ot=vA(s,o[tt>>2]|0,+Tt[ot>>3])|0,Ll(gt),yt=ft,ot|0}function vA(s,tt,ot){s=s|0,tt=tt|0,ot=+ot;var ft=0;return ft=fs(yA()|0)|0,tt=X0(tt)|0,ao(0,ft|0,s|0,tt|0,+ +Al(ot))|0}function yA(){var s=0;return d[7728]|0||(xA(9628),s=7728,o[s>>2]=1,o[s+4>>2]=0),9628}function xA(s){s=s|0,ga(s,SA()|0,2)}function SA(){return 1264}function wA(s){s=s|0,q0(s)}function MA(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Pt=o[ot>>2]|0,Mt=o[ot+4>>2]|0,ot=rn(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],EA(s,ot,gt,1),yt=ft}function EA(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;gt=yt,yt=yt+32|0,_t=gt+16|0,Ut=gt+8|0,Pt=gt,zt=o[ot>>2]|0,kt=o[ot+4>>2]|0,Mt=o[s>>2]|0,s=jv()|0,o[Ut>>2]=zt,o[Ut+4>>2]=kt,o[_t>>2]=o[Ut>>2],o[_t+4>>2]=o[Ut+4>>2],ot=TA(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=kt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Mr(Mt,tt,s,ot,AA(_t,ft)|0,ft),yt=gt}function jv(){var s=0,tt=0;if(d[7744]|0||(Ex(9684),Ur(37,9684,Lt|0)|0,tt=7744,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(9684)|0)){s=9684,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));Ex(9684)}return 9684}function TA(s){return s=s|0,0}function AA(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;return Ut=yt,yt=yt+32|0,gt=Ut+24|0,Mt=Ut+16|0,Pt=Ut,kt=Ut+8|0,_t=o[s>>2]|0,ft=o[s+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ft,Ht=jv()|0,zt=Ht+24|0,s=Ar(tt,4)|0,o[kt>>2]=s,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[Mt>>2]=_t,o[Mt+4>>2]=ft,o[gt>>2]=o[Mt>>2],o[gt+4>>2]=o[Mt+4>>2],Mx(ot,gt,s),s=(o[tt>>2]|0)+12|0,o[tt>>2]=s):(CA(zt,Pt,kt),s=o[tt>>2]|0),yt=Ut,((s-(o[zt>>2]|0)|0)/12|0)+-1|0}function Mx(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=o[tt+4>>2]|0,o[s>>2]=o[tt>>2],o[s+4>>2]=ft,o[s+8>>2]=ot}function CA(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ft=zt+32|0,Mt=zt+24|0,Pt=zt,kt=s+4|0,gt=(((o[kt>>2]|0)-(o[s>>2]|0)|0)/12|0)+1|0,_t=RA(s)|0,_t>>>0<gt>>>0)_o(s);else{Ut=o[s>>2]|0,Zt=((o[s+8>>2]|0)-Ut|0)/12|0,Ht=Zt<<1,PA(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<gt>>>0?gt:Ht:_t,((o[kt>>2]|0)-Ut|0)/12|0,s+8|0),kt=Pt+8|0,_t=o[kt>>2]|0,gt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[Mt>>2]=o[tt>>2],o[Mt+4>>2]=gt,o[ft>>2]=o[Mt>>2],o[ft+4>>2]=o[Mt+4>>2],Mx(_t,ft,ot),o[kt>>2]=(o[kt>>2]|0)+12,LA(s,Pt),IA(Pt),yt=zt;return}}function RA(s){return s=s|0,357913941}function PA(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>357913941)ro();else{gt=Cr(tt*12|0)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot*12|0)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt*12|0)}function LA(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(((gt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function IA(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~(((ft+-12-tt|0)>>>0)/12|0)*12|0)),s=o[s>>2]|0,s|0&&qn(s)}function Ex(s){s=s|0,NA(s)}function bA(s){s=s|0,kA(s+24|0)}function kA(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~(((tt+-12-ft|0)>>>0)/12|0)*12|0)),qn(ot))}function NA(s){s=s|0;var tt=0;tt=eo()|0,mo(s,2,5,tt,DA()|0,1),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function DA(){return 1280}function OA(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=FA(s)|0,s=o[Mt+4>>2]|0,o[_t>>2]=o[Mt>>2],o[_t+4>>2]=s,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],ot=BA(tt,gt,ot)|0,yt=ft,ot|0}function FA(s){return s=s|0,(o[(jv()|0)+24>>2]|0)+(s*12|0)|0}function BA(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return Mt=yt,yt=yt+32|0,gt=Mt,_t=Mt+16|0,ft=o[tt>>2]|0,tt=o[tt+4>>2]|0,s=s+(tt>>1)|0,tt&1&&(ft=o[(o[s>>2]|0)+ft>>2]|0),c0(_t,ot),_t=f0(_t,ot)|0,h2[ft&15](gt,s,_t),_t=Sx(gt)|0,yt=Mt,_t|0}function UA(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Pt=o[ot>>2]|0,Mt=o[ot+4>>2]|0,ot=rn(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],zA(s,ot,gt,1),yt=ft}function zA(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;gt=yt,yt=yt+32|0,_t=gt+16|0,Ut=gt+8|0,Pt=gt,zt=o[ot>>2]|0,kt=o[ot+4>>2]|0,Mt=o[s>>2]|0,s=Xv()|0,o[Ut>>2]=zt,o[Ut+4>>2]=kt,o[_t>>2]=o[Ut>>2],o[_t+4>>2]=o[Ut+4>>2],ot=VA(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=kt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Mr(Mt,tt,s,ot,GA(_t,ft)|0,ft),yt=gt}function Xv(){var s=0,tt=0;if(d[7752]|0||(Ax(9720),Ur(38,9720,Lt|0)|0,tt=7752,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(9720)|0)){s=9720,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));Ax(9720)}return 9720}function VA(s){return s=s|0,0}function GA(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;return Ut=yt,yt=yt+32|0,gt=Ut+24|0,Mt=Ut+16|0,Pt=Ut,kt=Ut+8|0,_t=o[s>>2]|0,ft=o[s+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ft,Ht=Xv()|0,zt=Ht+24|0,s=Ar(tt,4)|0,o[kt>>2]=s,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[Mt>>2]=_t,o[Mt+4>>2]=ft,o[gt>>2]=o[Mt>>2],o[gt+4>>2]=o[Mt+4>>2],Tx(ot,gt,s),s=(o[tt>>2]|0)+12|0,o[tt>>2]=s):(HA(zt,Pt,kt),s=o[tt>>2]|0),yt=Ut,((s-(o[zt>>2]|0)|0)/12|0)+-1|0}function Tx(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=o[tt+4>>2]|0,o[s>>2]=o[tt>>2],o[s+4>>2]=ft,o[s+8>>2]=ot}function HA(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ft=zt+32|0,Mt=zt+24|0,Pt=zt,kt=s+4|0,gt=(((o[kt>>2]|0)-(o[s>>2]|0)|0)/12|0)+1|0,_t=$A(s)|0,_t>>>0<gt>>>0)_o(s);else{Ut=o[s>>2]|0,Zt=((o[s+8>>2]|0)-Ut|0)/12|0,Ht=Zt<<1,WA(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<gt>>>0?gt:Ht:_t,((o[kt>>2]|0)-Ut|0)/12|0,s+8|0),kt=Pt+8|0,_t=o[kt>>2]|0,gt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[Mt>>2]=o[tt>>2],o[Mt+4>>2]=gt,o[ft>>2]=o[Mt>>2],o[ft+4>>2]=o[Mt+4>>2],Tx(_t,ft,ot),o[kt>>2]=(o[kt>>2]|0)+12,jA(s,Pt),XA(Pt),yt=zt;return}}function $A(s){return s=s|0,357913941}function WA(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>357913941)ro();else{gt=Cr(tt*12|0)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot*12|0)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt*12|0)}function jA(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(((gt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function XA(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~(((ft+-12-tt|0)>>>0)/12|0)*12|0)),s=o[s>>2]|0,s|0&&qn(s)}function Ax(s){s=s|0,KA(s)}function qA(s){s=s|0,YA(s+24|0)}function YA(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~(((tt+-12-ft|0)>>>0)/12|0)*12|0)),qn(ot))}function KA(s){s=s|0;var tt=0;tt=eo()|0,mo(s,2,8,tt,QA()|0,0),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function QA(){return 1288}function ZA(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0;return ot=yt,yt=yt+16|0,ft=ot+8|0,gt=ot,_t=JA(s)|0,s=o[_t+4>>2]|0,o[gt>>2]=o[_t>>2],o[gt+4>>2]=s,o[ft>>2]=o[gt>>2],o[ft+4>>2]=o[gt+4>>2],tt=e4(tt,ft)|0,yt=ot,tt|0}function JA(s){return s=s|0,(o[(Xv()|0)+24>>2]|0)+(s*12|0)|0}function e4(s,tt){s=s|0,tt=tt|0;var ot=0;return ot=o[tt>>2]|0,tt=o[tt+4>>2]|0,s=s+(tt>>1)|0,tt&1&&(ot=o[(o[s>>2]|0)+ot>>2]|0),ys(Hp[ot&31](s)|0)|0}function t4(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Pt=o[ot>>2]|0,Mt=o[ot+4>>2]|0,ot=rn(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],n4(s,ot,gt,0),yt=ft}function n4(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;gt=yt,yt=yt+32|0,_t=gt+16|0,Ut=gt+8|0,Pt=gt,zt=o[ot>>2]|0,kt=o[ot+4>>2]|0,Mt=o[s>>2]|0,s=qv()|0,o[Ut>>2]=zt,o[Ut+4>>2]=kt,o[_t>>2]=o[Ut>>2],o[_t+4>>2]=o[Ut+4>>2],ot=r4(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=kt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Mr(Mt,tt,s,ot,i4(_t,ft)|0,ft),yt=gt}function qv(){var s=0,tt=0;if(d[7760]|0||(Rx(9756),Ur(39,9756,Lt|0)|0,tt=7760,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(9756)|0)){s=9756,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));Rx(9756)}return 9756}function r4(s){return s=s|0,0}function i4(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;return Ut=yt,yt=yt+32|0,gt=Ut+24|0,Mt=Ut+16|0,Pt=Ut,kt=Ut+8|0,_t=o[s>>2]|0,ft=o[s+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ft,Ht=qv()|0,zt=Ht+24|0,s=Ar(tt,4)|0,o[kt>>2]=s,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[Mt>>2]=_t,o[Mt+4>>2]=ft,o[gt>>2]=o[Mt>>2],o[gt+4>>2]=o[Mt+4>>2],Cx(ot,gt,s),s=(o[tt>>2]|0)+12|0,o[tt>>2]=s):(o4(zt,Pt,kt),s=o[tt>>2]|0),yt=Ut,((s-(o[zt>>2]|0)|0)/12|0)+-1|0}function Cx(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=o[tt+4>>2]|0,o[s>>2]=o[tt>>2],o[s+4>>2]=ft,o[s+8>>2]=ot}function o4(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ft=zt+32|0,Mt=zt+24|0,Pt=zt,kt=s+4|0,gt=(((o[kt>>2]|0)-(o[s>>2]|0)|0)/12|0)+1|0,_t=s4(s)|0,_t>>>0<gt>>>0)_o(s);else{Ut=o[s>>2]|0,Zt=((o[s+8>>2]|0)-Ut|0)/12|0,Ht=Zt<<1,a4(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<gt>>>0?gt:Ht:_t,((o[kt>>2]|0)-Ut|0)/12|0,s+8|0),kt=Pt+8|0,_t=o[kt>>2]|0,gt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[Mt>>2]=o[tt>>2],o[Mt+4>>2]=gt,o[ft>>2]=o[Mt>>2],o[ft+4>>2]=o[Mt+4>>2],Cx(_t,ft,ot),o[kt>>2]=(o[kt>>2]|0)+12,l4(s,Pt),u4(Pt),yt=zt;return}}function s4(s){return s=s|0,357913941}function a4(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>357913941)ro();else{gt=Cr(tt*12|0)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot*12|0)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt*12|0)}function l4(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(((gt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function u4(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~(((ft+-12-tt|0)>>>0)/12|0)*12|0)),s=o[s>>2]|0,s|0&&qn(s)}function Rx(s){s=s|0,d4(s)}function c4(s){s=s|0,f4(s+24|0)}function f4(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~(((tt+-12-ft|0)>>>0)/12|0)*12|0)),qn(ot))}function d4(s){s=s|0;var tt=0;tt=eo()|0,mo(s,2,8,tt,h4()|0,1),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function h4(){return 1292}function p4(s,tt,ot){s=s|0,tt=tt|0,ot=+ot;var ft=0,gt=0,_t=0,Mt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=m4(s)|0,s=o[Mt+4>>2]|0,o[_t>>2]=o[Mt>>2],o[_t+4>>2]=s,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],g4(tt,gt,ot),yt=ft}function m4(s){return s=s|0,(o[(qv()|0)+24>>2]|0)+(s*12|0)|0}function g4(s,tt,ot){s=s|0,tt=tt|0,ot=+ot;var ft=0,gt=0,_t=0;_t=yt,yt=yt+16|0,gt=_t,ft=o[tt>>2]|0,tt=o[tt+4>>2]|0,s=s+(tt>>1)|0,tt&1&&(ft=o[(o[s>>2]|0)+ft>>2]|0),Nu(gt,ot),ot=+Du(gt,ot),fw[ft&31](s,ot),yt=_t}function _4(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Pt=o[ot>>2]|0,Mt=o[ot+4>>2]|0,ot=rn(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],y4(s,ot,gt,0),yt=ft}function y4(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;gt=yt,yt=yt+32|0,_t=gt+16|0,Ut=gt+8|0,Pt=gt,zt=o[ot>>2]|0,kt=o[ot+4>>2]|0,Mt=o[s>>2]|0,s=Yv()|0,o[Ut>>2]=zt,o[Ut+4>>2]=kt,o[_t>>2]=o[Ut>>2],o[_t+4>>2]=o[Ut+4>>2],ot=x4(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=kt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Mr(Mt,tt,s,ot,S4(_t,ft)|0,ft),yt=gt}function Yv(){var s=0,tt=0;if(d[7768]|0||(Lx(9792),Ur(40,9792,Lt|0)|0,tt=7768,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(9792)|0)){s=9792,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));Lx(9792)}return 9792}function x4(s){return s=s|0,0}function S4(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;return Ut=yt,yt=yt+32|0,gt=Ut+24|0,Mt=Ut+16|0,Pt=Ut,kt=Ut+8|0,_t=o[s>>2]|0,ft=o[s+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ft,Ht=Yv()|0,zt=Ht+24|0,s=Ar(tt,4)|0,o[kt>>2]=s,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[Mt>>2]=_t,o[Mt+4>>2]=ft,o[gt>>2]=o[Mt>>2],o[gt+4>>2]=o[Mt+4>>2],Px(ot,gt,s),s=(o[tt>>2]|0)+12|0,o[tt>>2]=s):(w4(zt,Pt,kt),s=o[tt>>2]|0),yt=Ut,((s-(o[zt>>2]|0)|0)/12|0)+-1|0}function Px(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=o[tt+4>>2]|0,o[s>>2]=o[tt>>2],o[s+4>>2]=ft,o[s+8>>2]=ot}function w4(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ft=zt+32|0,Mt=zt+24|0,Pt=zt,kt=s+4|0,gt=(((o[kt>>2]|0)-(o[s>>2]|0)|0)/12|0)+1|0,_t=M4(s)|0,_t>>>0<gt>>>0)_o(s);else{Ut=o[s>>2]|0,Zt=((o[s+8>>2]|0)-Ut|0)/12|0,Ht=Zt<<1,E4(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<gt>>>0?gt:Ht:_t,((o[kt>>2]|0)-Ut|0)/12|0,s+8|0),kt=Pt+8|0,_t=o[kt>>2]|0,gt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[Mt>>2]=o[tt>>2],o[Mt+4>>2]=gt,o[ft>>2]=o[Mt>>2],o[ft+4>>2]=o[Mt+4>>2],Px(_t,ft,ot),o[kt>>2]=(o[kt>>2]|0)+12,T4(s,Pt),A4(Pt),yt=zt;return}}function M4(s){return s=s|0,357913941}function E4(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>357913941)ro();else{gt=Cr(tt*12|0)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot*12|0)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt*12|0)}function T4(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(((gt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function A4(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~(((ft+-12-tt|0)>>>0)/12|0)*12|0)),s=o[s>>2]|0,s|0&&qn(s)}function Lx(s){s=s|0,P4(s)}function C4(s){s=s|0,R4(s+24|0)}function R4(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~(((tt+-12-ft|0)>>>0)/12|0)*12|0)),qn(ot))}function P4(s){s=s|0;var tt=0;tt=eo()|0,mo(s,2,1,tt,L4()|0,2),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function L4(){return 1300}function I4(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=+ft;var gt=0,_t=0,Mt=0,Pt=0;gt=yt,yt=yt+16|0,_t=gt+8|0,Mt=gt,Pt=b4(s)|0,s=o[Pt+4>>2]|0,o[Mt>>2]=o[Pt>>2],o[Mt+4>>2]=s,o[_t>>2]=o[Mt>>2],o[_t+4>>2]=o[Mt+4>>2],k4(tt,_t,ot,ft),yt=gt}function b4(s){return s=s|0,(o[(Yv()|0)+24>>2]|0)+(s*12|0)|0}function k4(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=+ft;var gt=0,_t=0,Mt=0,Pt=0;Pt=yt,yt=yt+16|0,_t=Pt+1|0,Mt=Pt,gt=o[tt>>2]|0,tt=o[tt+4>>2]|0,s=s+(tt>>1)|0,tt&1&&(gt=o[(o[s>>2]|0)+gt>>2]|0),c0(_t,ot),_t=f0(_t,ot)|0,Nu(Mt,ft),ft=+Du(Mt,ft),yw[gt&15](s,_t,ft),yt=Pt}function N4(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Pt=o[ot>>2]|0,Mt=o[ot+4>>2]|0,ot=rn(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],D4(s,ot,gt,0),yt=ft}function D4(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;gt=yt,yt=yt+32|0,_t=gt+16|0,Ut=gt+8|0,Pt=gt,zt=o[ot>>2]|0,kt=o[ot+4>>2]|0,Mt=o[s>>2]|0,s=Kv()|0,o[Ut>>2]=zt,o[Ut+4>>2]=kt,o[_t>>2]=o[Ut>>2],o[_t+4>>2]=o[Ut+4>>2],ot=O4(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=kt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Mr(Mt,tt,s,ot,F4(_t,ft)|0,ft),yt=gt}function Kv(){var s=0,tt=0;if(d[7776]|0||(bx(9828),Ur(41,9828,Lt|0)|0,tt=7776,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(9828)|0)){s=9828,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));bx(9828)}return 9828}function O4(s){return s=s|0,0}function F4(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;return Ut=yt,yt=yt+32|0,gt=Ut+24|0,Mt=Ut+16|0,Pt=Ut,kt=Ut+8|0,_t=o[s>>2]|0,ft=o[s+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ft,Ht=Kv()|0,zt=Ht+24|0,s=Ar(tt,4)|0,o[kt>>2]=s,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[Mt>>2]=_t,o[Mt+4>>2]=ft,o[gt>>2]=o[Mt>>2],o[gt+4>>2]=o[Mt+4>>2],Ix(ot,gt,s),s=(o[tt>>2]|0)+12|0,o[tt>>2]=s):(B4(zt,Pt,kt),s=o[tt>>2]|0),yt=Ut,((s-(o[zt>>2]|0)|0)/12|0)+-1|0}function Ix(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=o[tt+4>>2]|0,o[s>>2]=o[tt>>2],o[s+4>>2]=ft,o[s+8>>2]=ot}function B4(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ft=zt+32|0,Mt=zt+24|0,Pt=zt,kt=s+4|0,gt=(((o[kt>>2]|0)-(o[s>>2]|0)|0)/12|0)+1|0,_t=U4(s)|0,_t>>>0<gt>>>0)_o(s);else{Ut=o[s>>2]|0,Zt=((o[s+8>>2]|0)-Ut|0)/12|0,Ht=Zt<<1,z4(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<gt>>>0?gt:Ht:_t,((o[kt>>2]|0)-Ut|0)/12|0,s+8|0),kt=Pt+8|0,_t=o[kt>>2]|0,gt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[Mt>>2]=o[tt>>2],o[Mt+4>>2]=gt,o[ft>>2]=o[Mt>>2],o[ft+4>>2]=o[Mt+4>>2],Ix(_t,ft,ot),o[kt>>2]=(o[kt>>2]|0)+12,V4(s,Pt),G4(Pt),yt=zt;return}}function U4(s){return s=s|0,357913941}function z4(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>357913941)ro();else{gt=Cr(tt*12|0)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot*12|0)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt*12|0)}function V4(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(((gt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function G4(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~(((ft+-12-tt|0)>>>0)/12|0)*12|0)),s=o[s>>2]|0,s|0&&qn(s)}function bx(s){s=s|0,W4(s)}function H4(s){s=s|0,$4(s+24|0)}function $4(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~(((tt+-12-ft|0)>>>0)/12|0)*12|0)),qn(ot))}function W4(s){s=s|0;var tt=0;tt=eo()|0,mo(s,2,7,tt,j4()|0,1),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function j4(){return 1312}function X4(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=q4(s)|0,s=o[Mt+4>>2]|0,o[_t>>2]=o[Mt>>2],o[_t+4>>2]=s,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],Y4(tt,gt,ot),yt=ft}function q4(s){return s=s|0,(o[(Kv()|0)+24>>2]|0)+(s*12|0)|0}function Y4(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0;_t=yt,yt=yt+16|0,gt=_t,ft=o[tt>>2]|0,tt=o[tt+4>>2]|0,s=s+(tt>>1)|0,tt&1&&(ft=o[(o[s>>2]|0)+ft>>2]|0),c0(gt,ot),gt=f0(gt,ot)|0,p0[ft&31](s,gt),yt=_t}function K4(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Pt=o[ot>>2]|0,Mt=o[ot+4>>2]|0,ot=rn(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],Q4(s,ot,gt,0),yt=ft}function Q4(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;gt=yt,yt=yt+32|0,_t=gt+16|0,Ut=gt+8|0,Pt=gt,zt=o[ot>>2]|0,kt=o[ot+4>>2]|0,Mt=o[s>>2]|0,s=Qv()|0,o[Ut>>2]=zt,o[Ut+4>>2]=kt,o[_t>>2]=o[Ut>>2],o[_t+4>>2]=o[Ut+4>>2],ot=Z4(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=kt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Mr(Mt,tt,s,ot,J4(_t,ft)|0,ft),yt=gt}function Qv(){var s=0,tt=0;if(d[7784]|0||(Nx(9864),Ur(42,9864,Lt|0)|0,tt=7784,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(9864)|0)){s=9864,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));Nx(9864)}return 9864}function Z4(s){return s=s|0,0}function J4(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;return Ut=yt,yt=yt+32|0,gt=Ut+24|0,Mt=Ut+16|0,Pt=Ut,kt=Ut+8|0,_t=o[s>>2]|0,ft=o[s+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ft,Ht=Qv()|0,zt=Ht+24|0,s=Ar(tt,4)|0,o[kt>>2]=s,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[Mt>>2]=_t,o[Mt+4>>2]=ft,o[gt>>2]=o[Mt>>2],o[gt+4>>2]=o[Mt+4>>2],kx(ot,gt,s),s=(o[tt>>2]|0)+12|0,o[tt>>2]=s):(e3(zt,Pt,kt),s=o[tt>>2]|0),yt=Ut,((s-(o[zt>>2]|0)|0)/12|0)+-1|0}function kx(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=o[tt+4>>2]|0,o[s>>2]=o[tt>>2],o[s+4>>2]=ft,o[s+8>>2]=ot}function e3(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ft=zt+32|0,Mt=zt+24|0,Pt=zt,kt=s+4|0,gt=(((o[kt>>2]|0)-(o[s>>2]|0)|0)/12|0)+1|0,_t=t3(s)|0,_t>>>0<gt>>>0)_o(s);else{Ut=o[s>>2]|0,Zt=((o[s+8>>2]|0)-Ut|0)/12|0,Ht=Zt<<1,n3(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<gt>>>0?gt:Ht:_t,((o[kt>>2]|0)-Ut|0)/12|0,s+8|0),kt=Pt+8|0,_t=o[kt>>2]|0,gt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[Mt>>2]=o[tt>>2],o[Mt+4>>2]=gt,o[ft>>2]=o[Mt>>2],o[ft+4>>2]=o[Mt+4>>2],kx(_t,ft,ot),o[kt>>2]=(o[kt>>2]|0)+12,r3(s,Pt),i3(Pt),yt=zt;return}}function t3(s){return s=s|0,357913941}function n3(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>357913941)ro();else{gt=Cr(tt*12|0)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot*12|0)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt*12|0)}function r3(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(((gt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function i3(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~(((ft+-12-tt|0)>>>0)/12|0)*12|0)),s=o[s>>2]|0,s|0&&qn(s)}function Nx(s){s=s|0,a3(s)}function o3(s){s=s|0,s3(s+24|0)}function s3(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~(((tt+-12-ft|0)>>>0)/12|0)*12|0)),qn(ot))}function a3(s){s=s|0;var tt=0;tt=eo()|0,mo(s,2,8,tt,l3()|0,1),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function l3(){return 1320}function u3(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=c3(s)|0,s=o[Mt+4>>2]|0,o[_t>>2]=o[Mt>>2],o[_t+4>>2]=s,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],f3(tt,gt,ot),yt=ft}function c3(s){return s=s|0,(o[(Qv()|0)+24>>2]|0)+(s*12|0)|0}function f3(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0;_t=yt,yt=yt+16|0,gt=_t,ft=o[tt>>2]|0,tt=o[tt+4>>2]|0,s=s+(tt>>1)|0,tt&1&&(ft=o[(o[s>>2]|0)+ft>>2]|0),d3(gt,ot),gt=h3(gt,ot)|0,p0[ft&31](s,gt),yt=_t}function d3(s,tt){s=s|0,tt=tt|0}function h3(s,tt){return s=s|0,tt=tt|0,p3(tt)|0}function p3(s){return s=s|0,s|0}function m3(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Pt=o[ot>>2]|0,Mt=o[ot+4>>2]|0,ot=rn(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],g3(s,ot,gt,0),yt=ft}function g3(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;gt=yt,yt=yt+32|0,_t=gt+16|0,Ut=gt+8|0,Pt=gt,zt=o[ot>>2]|0,kt=o[ot+4>>2]|0,Mt=o[s>>2]|0,s=Zv()|0,o[Ut>>2]=zt,o[Ut+4>>2]=kt,o[_t>>2]=o[Ut>>2],o[_t+4>>2]=o[Ut+4>>2],ot=_3(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=kt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Mr(Mt,tt,s,ot,y3(_t,ft)|0,ft),yt=gt}function Zv(){var s=0,tt=0;if(d[7792]|0||(Ox(9900),Ur(43,9900,Lt|0)|0,tt=7792,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(9900)|0)){s=9900,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));Ox(9900)}return 9900}function _3(s){return s=s|0,0}function y3(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;return Ut=yt,yt=yt+32|0,gt=Ut+24|0,Mt=Ut+16|0,Pt=Ut,kt=Ut+8|0,_t=o[s>>2]|0,ft=o[s+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ft,Ht=Zv()|0,zt=Ht+24|0,s=Ar(tt,4)|0,o[kt>>2]=s,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[Mt>>2]=_t,o[Mt+4>>2]=ft,o[gt>>2]=o[Mt>>2],o[gt+4>>2]=o[Mt+4>>2],Dx(ot,gt,s),s=(o[tt>>2]|0)+12|0,o[tt>>2]=s):(x3(zt,Pt,kt),s=o[tt>>2]|0),yt=Ut,((s-(o[zt>>2]|0)|0)/12|0)+-1|0}function Dx(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=o[tt+4>>2]|0,o[s>>2]=o[tt>>2],o[s+4>>2]=ft,o[s+8>>2]=ot}function x3(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ft=zt+32|0,Mt=zt+24|0,Pt=zt,kt=s+4|0,gt=(((o[kt>>2]|0)-(o[s>>2]|0)|0)/12|0)+1|0,_t=S3(s)|0,_t>>>0<gt>>>0)_o(s);else{Ut=o[s>>2]|0,Zt=((o[s+8>>2]|0)-Ut|0)/12|0,Ht=Zt<<1,w3(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<gt>>>0?gt:Ht:_t,((o[kt>>2]|0)-Ut|0)/12|0,s+8|0),kt=Pt+8|0,_t=o[kt>>2]|0,gt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[Mt>>2]=o[tt>>2],o[Mt+4>>2]=gt,o[ft>>2]=o[Mt>>2],o[ft+4>>2]=o[Mt+4>>2],Dx(_t,ft,ot),o[kt>>2]=(o[kt>>2]|0)+12,M3(s,Pt),E3(Pt),yt=zt;return}}function S3(s){return s=s|0,357913941}function w3(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>357913941)ro();else{gt=Cr(tt*12|0)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot*12|0)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt*12|0)}function M3(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(((gt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function E3(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~(((ft+-12-tt|0)>>>0)/12|0)*12|0)),s=o[s>>2]|0,s|0&&qn(s)}function Ox(s){s=s|0,C3(s)}function T3(s){s=s|0,A3(s+24|0)}function A3(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~(((tt+-12-ft|0)>>>0)/12|0)*12|0)),qn(ot))}function C3(s){s=s|0;var tt=0;tt=eo()|0,mo(s,2,22,tt,R3()|0,0),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function R3(){return 1344}function P3(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0;ot=yt,yt=yt+16|0,ft=ot+8|0,gt=ot,_t=L3(s)|0,s=o[_t+4>>2]|0,o[gt>>2]=o[_t>>2],o[gt+4>>2]=s,o[ft>>2]=o[gt>>2],o[ft+4>>2]=o[gt+4>>2],I3(tt,ft),yt=ot}function L3(s){return s=s|0,(o[(Zv()|0)+24>>2]|0)+(s*12|0)|0}function I3(s,tt){s=s|0,tt=tt|0;var ot=0;ot=o[tt>>2]|0,tt=o[tt+4>>2]|0,s=s+(tt>>1)|0,tt&1&&(ot=o[(o[s>>2]|0)+ot>>2]|0),h0[ot&127](s)}function b3(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0;_t=o[s>>2]|0,gt=Jv()|0,s=k3(ot)|0,Mr(_t,tt,gt,s,N3(ot,ft)|0,ft)}function Jv(){var s=0,tt=0;if(d[7800]|0||(Bx(9936),Ur(44,9936,Lt|0)|0,tt=7800,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(9936)|0)){s=9936,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));Bx(9936)}return 9936}function k3(s){return s=s|0,s|0}function N3(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0;return Pt=yt,yt=yt+16|0,gt=Pt,_t=Pt+4|0,o[gt>>2]=s,kt=Jv()|0,Mt=kt+24|0,tt=Ar(tt,4)|0,o[_t>>2]=tt,ot=kt+28|0,ft=o[ot>>2]|0,ft>>>0<(o[kt+32>>2]|0)>>>0?(Fx(ft,s,tt),tt=(o[ot>>2]|0)+8|0,o[ot>>2]=tt):(D3(Mt,gt,_t),tt=o[ot>>2]|0),yt=Pt,(tt-(o[Mt>>2]|0)>>3)+-1|0}function Fx(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,o[s>>2]=tt,o[s+4>>2]=ot}function D3(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;if(Pt=yt,yt=yt+32|0,gt=Pt,_t=s+4|0,Mt=((o[_t>>2]|0)-(o[s>>2]|0)>>3)+1|0,ft=O3(s)|0,ft>>>0<Mt>>>0)_o(s);else{kt=o[s>>2]|0,Ut=(o[s+8>>2]|0)-kt|0,zt=Ut>>2,F3(gt,Ut>>3>>>0<ft>>>1>>>0?zt>>>0<Mt>>>0?Mt:zt:ft,(o[_t>>2]|0)-kt>>3,s+8|0),Mt=gt+8|0,Fx(o[Mt>>2]|0,o[tt>>2]|0,o[ot>>2]|0),o[Mt>>2]=(o[Mt>>2]|0)+8,B3(s,gt),U3(gt),yt=Pt;return}}function O3(s){return s=s|0,536870911}function F3(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>536870911)ro();else{gt=Cr(tt<<3)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot<<3)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt<<3)}function B3(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(0-(gt>>3)<<3)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function U3(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~((ft+-8-tt|0)>>>3)<<3)),s=o[s>>2]|0,s|0&&qn(s)}function Bx(s){s=s|0,G3(s)}function z3(s){s=s|0,V3(s+24|0)}function V3(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~((tt+-8-ft|0)>>>3)<<3)),qn(ot))}function G3(s){s=s|0;var tt=0;tt=eo()|0,mo(s,1,23,tt,cx()|0,1),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function H3(s,tt){s=s|0,tt=tt|0,W3(o[($3(s)|0)>>2]|0,tt)}function $3(s){return s=s|0,(o[(Jv()|0)+24>>2]|0)+(s<<3)|0}function W3(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;ot=yt,yt=yt+16|0,ft=ot,Uv(ft,tt),tt=zv(ft,tt)|0,h0[s&127](tt),yt=ot}function j3(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0;_t=o[s>>2]|0,gt=ey()|0,s=X3(ot)|0,Mr(_t,tt,gt,s,q3(ot,ft)|0,ft)}function ey(){var s=0,tt=0;if(d[7808]|0||(zx(9972),Ur(45,9972,Lt|0)|0,tt=7808,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(9972)|0)){s=9972,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));zx(9972)}return 9972}function X3(s){return s=s|0,s|0}function q3(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0;return Pt=yt,yt=yt+16|0,gt=Pt,_t=Pt+4|0,o[gt>>2]=s,kt=ey()|0,Mt=kt+24|0,tt=Ar(tt,4)|0,o[_t>>2]=tt,ot=kt+28|0,ft=o[ot>>2]|0,ft>>>0<(o[kt+32>>2]|0)>>>0?(Ux(ft,s,tt),tt=(o[ot>>2]|0)+8|0,o[ot>>2]=tt):(Y3(Mt,gt,_t),tt=o[ot>>2]|0),yt=Pt,(tt-(o[Mt>>2]|0)>>3)+-1|0}function Ux(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,o[s>>2]=tt,o[s+4>>2]=ot}function Y3(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;if(Pt=yt,yt=yt+32|0,gt=Pt,_t=s+4|0,Mt=((o[_t>>2]|0)-(o[s>>2]|0)>>3)+1|0,ft=K3(s)|0,ft>>>0<Mt>>>0)_o(s);else{kt=o[s>>2]|0,Ut=(o[s+8>>2]|0)-kt|0,zt=Ut>>2,Q3(gt,Ut>>3>>>0<ft>>>1>>>0?zt>>>0<Mt>>>0?Mt:zt:ft,(o[_t>>2]|0)-kt>>3,s+8|0),Mt=gt+8|0,Ux(o[Mt>>2]|0,o[tt>>2]|0,o[ot>>2]|0),o[Mt>>2]=(o[Mt>>2]|0)+8,Z3(s,gt),J3(gt),yt=Pt;return}}function K3(s){return s=s|0,536870911}function Q3(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>536870911)ro();else{gt=Cr(tt<<3)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot<<3)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt<<3)}function Z3(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(0-(gt>>3)<<3)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function J3(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~((ft+-8-tt|0)>>>3)<<3)),s=o[s>>2]|0,s|0&&qn(s)}function zx(s){s=s|0,nC(s)}function eC(s){s=s|0,tC(s+24|0)}function tC(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~((tt+-8-ft|0)>>>3)<<3)),qn(ot))}function nC(s){s=s|0;var tt=0;tt=eo()|0,mo(s,1,9,tt,rC()|0,1),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function rC(){return 1348}function iC(s,tt){return s=s|0,tt=tt|0,sC(o[(oC(s)|0)>>2]|0,tt)|0}function oC(s){return s=s|0,(o[(ey()|0)+24>>2]|0)+(s<<3)|0}function sC(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;return ot=yt,yt=yt+16|0,ft=ot,Vx(ft,tt),tt=Gx(ft,tt)|0,tt=L_(Hp[s&31](tt)|0)|0,yt=ot,tt|0}function Vx(s,tt){s=s|0,tt=tt|0}function Gx(s,tt){return s=s|0,tt=tt|0,aC(tt)|0}function aC(s){return s=s|0,s|0}function lC(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0;_t=o[s>>2]|0,gt=ty()|0,s=uC(ot)|0,Mr(_t,tt,gt,s,cC(ot,ft)|0,ft)}function ty(){var s=0,tt=0;if(d[7816]|0||($x(10008),Ur(46,10008,Lt|0)|0,tt=7816,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(10008)|0)){s=10008,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));$x(10008)}return 10008}function uC(s){return s=s|0,s|0}function cC(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0;return Pt=yt,yt=yt+16|0,gt=Pt,_t=Pt+4|0,o[gt>>2]=s,kt=ty()|0,Mt=kt+24|0,tt=Ar(tt,4)|0,o[_t>>2]=tt,ot=kt+28|0,ft=o[ot>>2]|0,ft>>>0<(o[kt+32>>2]|0)>>>0?(Hx(ft,s,tt),tt=(o[ot>>2]|0)+8|0,o[ot>>2]=tt):(fC(Mt,gt,_t),tt=o[ot>>2]|0),yt=Pt,(tt-(o[Mt>>2]|0)>>3)+-1|0}function Hx(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,o[s>>2]=tt,o[s+4>>2]=ot}function fC(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;if(Pt=yt,yt=yt+32|0,gt=Pt,_t=s+4|0,Mt=((o[_t>>2]|0)-(o[s>>2]|0)>>3)+1|0,ft=dC(s)|0,ft>>>0<Mt>>>0)_o(s);else{kt=o[s>>2]|0,Ut=(o[s+8>>2]|0)-kt|0,zt=Ut>>2,hC(gt,Ut>>3>>>0<ft>>>1>>>0?zt>>>0<Mt>>>0?Mt:zt:ft,(o[_t>>2]|0)-kt>>3,s+8|0),Mt=gt+8|0,Hx(o[Mt>>2]|0,o[tt>>2]|0,o[ot>>2]|0),o[Mt>>2]=(o[Mt>>2]|0)+8,pC(s,gt),mC(gt),yt=Pt;return}}function dC(s){return s=s|0,536870911}function hC(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>536870911)ro();else{gt=Cr(tt<<3)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot<<3)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt<<3)}function pC(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(0-(gt>>3)<<3)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function mC(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~((ft+-8-tt|0)>>>3)<<3)),s=o[s>>2]|0,s|0&&qn(s)}function $x(s){s=s|0,vC(s)}function gC(s){s=s|0,_C(s+24|0)}function _C(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~((tt+-8-ft|0)>>>3)<<3)),qn(ot))}function vC(s){s=s|0;var tt=0;tt=eo()|0,mo(s,1,15,tt,ix()|0,0),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function yC(s){return s=s|0,SC(o[(xC(s)|0)>>2]|0)|0}function xC(s){return s=s|0,(o[(ty()|0)+24>>2]|0)+(s<<3)|0}function SC(s){return s=s|0,L_(W_[s&7]()|0)|0}function wC(){var s=0;return d[7832]|0||(LC(10052),Ur(25,10052,Lt|0)|0,s=7832,o[s>>2]=1,o[s+4>>2]=0),10052}function MC(s,tt){s=s|0,tt=tt|0,o[s>>2]=EC()|0,o[s+4>>2]=TC()|0,o[s+12>>2]=tt,o[s+8>>2]=AC()|0,o[s+32>>2]=2}function EC(){return 11709}function TC(){return 1188}function AC(){return b_()|0}function CC(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,(Z0(ft,896)|0)==512?ot|0&&(RC(ot),qn(ot)):tt|0&&(wm(tt),qn(tt))}function Z0(s,tt){return s=s|0,tt=tt|0,tt&s|0}function RC(s){s=s|0,s=o[s+4>>2]|0,s|0&&_f(s)}function b_(){var s=0;return d[7824]|0||(o[2511]=PC()|0,o[2512]=0,s=7824,o[s>>2]=1,o[s+4>>2]=0),10044}function PC(){return 0}function LC(s){s=s|0,q0(s)}function IC(s){s=s|0;var tt=0,ot=0,ft=0,gt=0,_t=0;tt=yt,yt=yt+32|0,ot=tt+24|0,_t=tt+16|0,gt=tt+8|0,ft=tt,bC(s,4827),kC(s,4834,3)|0,NC(s,3682,47)|0,o[_t>>2]=9,o[_t+4>>2]=0,o[ot>>2]=o[_t>>2],o[ot+4>>2]=o[_t+4>>2],DC(s,4841,ot)|0,o[gt>>2]=1,o[gt+4>>2]=0,o[ot>>2]=o[gt>>2],o[ot+4>>2]=o[gt+4>>2],OC(s,4871,ot)|0,o[ft>>2]=10,o[ft+4>>2]=0,o[ot>>2]=o[ft>>2],o[ot+4>>2]=o[ft+4>>2],FC(s,4891,ot)|0,yt=tt}function bC(s,tt){s=s|0,tt=tt|0;var ot=0;ot=mP()|0,o[s>>2]=ot,gP(ot,tt),J0(o[s>>2]|0)}function kC(s,tt,ot){return s=s|0,tt=tt|0,ot=ot|0,JR(s,rn(tt)|0,ot,0),s|0}function NC(s,tt,ot){return s=s|0,tt=tt|0,ot=ot|0,BR(s,rn(tt)|0,ot,0),s|0}function DC(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],yR(s,tt,gt),yt=ft,s|0}function OC(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],eR(s,tt,gt),yt=ft,s|0}function FC(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=o[ot+4>>2]|0,o[_t>>2]=o[ot>>2],o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],BC(s,tt,gt),yt=ft,s|0}function BC(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Pt=o[ot>>2]|0,Mt=o[ot+4>>2]|0,ot=rn(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],UC(s,ot,gt,1),yt=ft}function UC(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;gt=yt,yt=yt+32|0,_t=gt+16|0,Ut=gt+8|0,Pt=gt,zt=o[ot>>2]|0,kt=o[ot+4>>2]|0,Mt=o[s>>2]|0,s=ny()|0,o[Ut>>2]=zt,o[Ut+4>>2]=kt,o[_t>>2]=o[Ut>>2],o[_t+4>>2]=o[Ut+4>>2],ot=zC(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=kt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Mr(Mt,tt,s,ot,VC(_t,ft)|0,ft),yt=gt}function ny(){var s=0,tt=0;if(d[7840]|0||(jx(10100),Ur(48,10100,Lt|0)|0,tt=7840,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(10100)|0)){s=10100,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));jx(10100)}return 10100}function zC(s){return s=s|0,0}function VC(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;return Ut=yt,yt=yt+32|0,gt=Ut+24|0,Mt=Ut+16|0,Pt=Ut,kt=Ut+8|0,_t=o[s>>2]|0,ft=o[s+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ft,Ht=ny()|0,zt=Ht+24|0,s=Ar(tt,4)|0,o[kt>>2]=s,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[Mt>>2]=_t,o[Mt+4>>2]=ft,o[gt>>2]=o[Mt>>2],o[gt+4>>2]=o[Mt+4>>2],Wx(ot,gt,s),s=(o[tt>>2]|0)+12|0,o[tt>>2]=s):(GC(zt,Pt,kt),s=o[tt>>2]|0),yt=Ut,((s-(o[zt>>2]|0)|0)/12|0)+-1|0}function Wx(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=o[tt+4>>2]|0,o[s>>2]=o[tt>>2],o[s+4>>2]=ft,o[s+8>>2]=ot}function GC(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ft=zt+32|0,Mt=zt+24|0,Pt=zt,kt=s+4|0,gt=(((o[kt>>2]|0)-(o[s>>2]|0)|0)/12|0)+1|0,_t=HC(s)|0,_t>>>0<gt>>>0)_o(s);else{Ut=o[s>>2]|0,Zt=((o[s+8>>2]|0)-Ut|0)/12|0,Ht=Zt<<1,$C(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<gt>>>0?gt:Ht:_t,((o[kt>>2]|0)-Ut|0)/12|0,s+8|0),kt=Pt+8|0,_t=o[kt>>2]|0,gt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[Mt>>2]=o[tt>>2],o[Mt+4>>2]=gt,o[ft>>2]=o[Mt>>2],o[ft+4>>2]=o[Mt+4>>2],Wx(_t,ft,ot),o[kt>>2]=(o[kt>>2]|0)+12,WC(s,Pt),jC(Pt),yt=zt;return}}function HC(s){return s=s|0,357913941}function $C(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>357913941)ro();else{gt=Cr(tt*12|0)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot*12|0)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt*12|0)}function WC(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(((gt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function jC(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~(((ft+-12-tt|0)>>>0)/12|0)*12|0)),s=o[s>>2]|0,s|0&&qn(s)}function jx(s){s=s|0,YC(s)}function XC(s){s=s|0,qC(s+24|0)}function qC(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~(((tt+-12-ft|0)>>>0)/12|0)*12|0)),qn(ot))}function YC(s){s=s|0;var tt=0;tt=eo()|0,mo(s,2,6,tt,KC()|0,1),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function KC(){return 1364}function QC(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;return ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=ZC(s)|0,s=o[Mt+4>>2]|0,o[_t>>2]=o[Mt>>2],o[_t+4>>2]=s,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],ot=JC(tt,gt,ot)|0,yt=ft,ot|0}function ZC(s){return s=s|0,(o[(ny()|0)+24>>2]|0)+(s*12|0)|0}function JC(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0;return _t=yt,yt=yt+16|0,gt=_t,ft=o[tt>>2]|0,tt=o[tt+4>>2]|0,s=s+(tt>>1)|0,tt&1&&(ft=o[(o[s>>2]|0)+ft>>2]|0),c0(gt,ot),gt=f0(gt,ot)|0,gt=Qy(ky[ft&15](s,gt)|0)|0,yt=_t,gt|0}function eR(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Pt=o[ot>>2]|0,Mt=o[ot+4>>2]|0,ot=rn(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],tR(s,ot,gt,0),yt=ft}function tR(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;gt=yt,yt=yt+32|0,_t=gt+16|0,Ut=gt+8|0,Pt=gt,zt=o[ot>>2]|0,kt=o[ot+4>>2]|0,Mt=o[s>>2]|0,s=ry()|0,o[Ut>>2]=zt,o[Ut+4>>2]=kt,o[_t>>2]=o[Ut>>2],o[_t+4>>2]=o[Ut+4>>2],ot=nR(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=kt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Mr(Mt,tt,s,ot,rR(_t,ft)|0,ft),yt=gt}function ry(){var s=0,tt=0;if(d[7848]|0||(qx(10136),Ur(49,10136,Lt|0)|0,tt=7848,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(10136)|0)){s=10136,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));qx(10136)}return 10136}function nR(s){return s=s|0,0}function rR(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;return Ut=yt,yt=yt+32|0,gt=Ut+24|0,Mt=Ut+16|0,Pt=Ut,kt=Ut+8|0,_t=o[s>>2]|0,ft=o[s+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ft,Ht=ry()|0,zt=Ht+24|0,s=Ar(tt,4)|0,o[kt>>2]=s,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[Mt>>2]=_t,o[Mt+4>>2]=ft,o[gt>>2]=o[Mt>>2],o[gt+4>>2]=o[Mt+4>>2],Xx(ot,gt,s),s=(o[tt>>2]|0)+12|0,o[tt>>2]=s):(iR(zt,Pt,kt),s=o[tt>>2]|0),yt=Ut,((s-(o[zt>>2]|0)|0)/12|0)+-1|0}function Xx(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=o[tt+4>>2]|0,o[s>>2]=o[tt>>2],o[s+4>>2]=ft,o[s+8>>2]=ot}function iR(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ft=zt+32|0,Mt=zt+24|0,Pt=zt,kt=s+4|0,gt=(((o[kt>>2]|0)-(o[s>>2]|0)|0)/12|0)+1|0,_t=oR(s)|0,_t>>>0<gt>>>0)_o(s);else{Ut=o[s>>2]|0,Zt=((o[s+8>>2]|0)-Ut|0)/12|0,Ht=Zt<<1,sR(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<gt>>>0?gt:Ht:_t,((o[kt>>2]|0)-Ut|0)/12|0,s+8|0),kt=Pt+8|0,_t=o[kt>>2]|0,gt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[Mt>>2]=o[tt>>2],o[Mt+4>>2]=gt,o[ft>>2]=o[Mt>>2],o[ft+4>>2]=o[Mt+4>>2],Xx(_t,ft,ot),o[kt>>2]=(o[kt>>2]|0)+12,aR(s,Pt),lR(Pt),yt=zt;return}}function oR(s){return s=s|0,357913941}function sR(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>357913941)ro();else{gt=Cr(tt*12|0)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot*12|0)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt*12|0)}function aR(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(((gt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function lR(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~(((ft+-12-tt|0)>>>0)/12|0)*12|0)),s=o[s>>2]|0,s|0&&qn(s)}function qx(s){s=s|0,fR(s)}function uR(s){s=s|0,cR(s+24|0)}function cR(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~(((tt+-12-ft|0)>>>0)/12|0)*12|0)),qn(ot))}function fR(s){s=s|0;var tt=0;tt=eo()|0,mo(s,2,9,tt,dR()|0,1),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function dR(){return 1372}function hR(s,tt,ot){s=s|0,tt=tt|0,ot=+ot;var ft=0,gt=0,_t=0,Mt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Mt=pR(s)|0,s=o[Mt+4>>2]|0,o[_t>>2]=o[Mt>>2],o[_t+4>>2]=s,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],mR(tt,gt,ot),yt=ft}function pR(s){return s=s|0,(o[(ry()|0)+24>>2]|0)+(s*12|0)|0}function mR(s,tt,ot){s=s|0,tt=tt|0,ot=+ot;var ft=0,gt=0,_t=0,Mt=Un;_t=yt,yt=yt+16|0,gt=_t,ft=o[tt>>2]|0,tt=o[tt+4>>2]|0,s=s+(tt>>1)|0,tt&1&&(ft=o[(o[s>>2]|0)+ft>>2]|0),gR(gt,ot),Mt=It(_R(gt,ot)),cw[ft&1](s,Mt),yt=_t}function gR(s,tt){s=s|0,tt=+tt}function _R(s,tt){return s=s|0,tt=+tt,It(vR(tt))}function vR(s){return s=+s,It(s)}function yR(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+16|0,gt=ft+8|0,_t=ft,Pt=o[ot>>2]|0,Mt=o[ot+4>>2]|0,ot=rn(tt)|0,o[_t>>2]=Pt,o[_t+4>>2]=Mt,o[gt>>2]=o[_t>>2],o[gt+4>>2]=o[_t+4>>2],xR(s,ot,gt,0),yt=ft}function xR(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;gt=yt,yt=yt+32|0,_t=gt+16|0,Ut=gt+8|0,Pt=gt,zt=o[ot>>2]|0,kt=o[ot+4>>2]|0,Mt=o[s>>2]|0,s=iy()|0,o[Ut>>2]=zt,o[Ut+4>>2]=kt,o[_t>>2]=o[Ut>>2],o[_t+4>>2]=o[Ut+4>>2],ot=SR(_t)|0,o[Pt>>2]=zt,o[Pt+4>>2]=kt,o[_t>>2]=o[Pt>>2],o[_t+4>>2]=o[Pt+4>>2],Mr(Mt,tt,s,ot,wR(_t,ft)|0,ft),yt=gt}function iy(){var s=0,tt=0;if(d[7856]|0||(Kx(10172),Ur(50,10172,Lt|0)|0,tt=7856,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(10172)|0)){s=10172,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));Kx(10172)}return 10172}function SR(s){return s=s|0,0}function wR(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;return Ut=yt,yt=yt+32|0,gt=Ut+24|0,Mt=Ut+16|0,Pt=Ut,kt=Ut+8|0,_t=o[s>>2]|0,ft=o[s+4>>2]|0,o[Pt>>2]=_t,o[Pt+4>>2]=ft,Ht=iy()|0,zt=Ht+24|0,s=Ar(tt,4)|0,o[kt>>2]=s,tt=Ht+28|0,ot=o[tt>>2]|0,ot>>>0<(o[Ht+32>>2]|0)>>>0?(o[Mt>>2]=_t,o[Mt+4>>2]=ft,o[gt>>2]=o[Mt>>2],o[gt+4>>2]=o[Mt+4>>2],Yx(ot,gt,s),s=(o[tt>>2]|0)+12|0,o[tt>>2]=s):(MR(zt,Pt,kt),s=o[tt>>2]|0),yt=Ut,((s-(o[zt>>2]|0)|0)/12|0)+-1|0}function Yx(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=o[tt+4>>2]|0,o[s>>2]=o[tt>>2],o[s+4>>2]=ft,o[s+8>>2]=ot}function MR(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0;if(zt=yt,yt=yt+48|0,ft=zt+32|0,Mt=zt+24|0,Pt=zt,kt=s+4|0,gt=(((o[kt>>2]|0)-(o[s>>2]|0)|0)/12|0)+1|0,_t=ER(s)|0,_t>>>0<gt>>>0)_o(s);else{Ut=o[s>>2]|0,Zt=((o[s+8>>2]|0)-Ut|0)/12|0,Ht=Zt<<1,TR(Pt,Zt>>>0<_t>>>1>>>0?Ht>>>0<gt>>>0?gt:Ht:_t,((o[kt>>2]|0)-Ut|0)/12|0,s+8|0),kt=Pt+8|0,_t=o[kt>>2]|0,gt=o[tt+4>>2]|0,ot=o[ot>>2]|0,o[Mt>>2]=o[tt>>2],o[Mt+4>>2]=gt,o[ft>>2]=o[Mt>>2],o[ft+4>>2]=o[Mt+4>>2],Yx(_t,ft,ot),o[kt>>2]=(o[kt>>2]|0)+12,AR(s,Pt),CR(Pt),yt=zt;return}}function ER(s){return s=s|0,357913941}function TR(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>357913941)ro();else{gt=Cr(tt*12|0)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot*12|0)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt*12|0)}function AR(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(((gt|0)/-12|0)*12|0)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function CR(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~(((ft+-12-tt|0)>>>0)/12|0)*12|0)),s=o[s>>2]|0,s|0&&qn(s)}function Kx(s){s=s|0,LR(s)}function RR(s){s=s|0,PR(s+24|0)}function PR(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~(((tt+-12-ft|0)>>>0)/12|0)*12|0)),qn(ot))}function LR(s){s=s|0;var tt=0;tt=eo()|0,mo(s,2,3,tt,IR()|0,2),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function IR(){return 1380}function bR(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0;gt=yt,yt=yt+16|0,_t=gt+8|0,Mt=gt,Pt=kR(s)|0,s=o[Pt+4>>2]|0,o[Mt>>2]=o[Pt>>2],o[Mt+4>>2]=s,o[_t>>2]=o[Mt>>2],o[_t+4>>2]=o[Mt+4>>2],NR(tt,_t,ot,ft),yt=gt}function kR(s){return s=s|0,(o[(iy()|0)+24>>2]|0)+(s*12|0)|0}function NR(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0;Pt=yt,yt=yt+16|0,_t=Pt+1|0,Mt=Pt,gt=o[tt>>2]|0,tt=o[tt+4>>2]|0,s=s+(tt>>1)|0,tt&1&&(gt=o[(o[s>>2]|0)+gt>>2]|0),c0(_t,ot),_t=f0(_t,ot)|0,DR(Mt,ft),Mt=OR(Mt,ft)|0,h2[gt&15](s,_t,Mt),yt=Pt}function DR(s,tt){s=s|0,tt=tt|0}function OR(s,tt){return s=s|0,tt=tt|0,FR(tt)|0}function FR(s){return s=s|0,(s|0)!=0|0}function BR(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0;_t=o[s>>2]|0,gt=oy()|0,s=UR(ot)|0,Mr(_t,tt,gt,s,zR(ot,ft)|0,ft)}function oy(){var s=0,tt=0;if(d[7864]|0||(Zx(10208),Ur(51,10208,Lt|0)|0,tt=7864,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(10208)|0)){s=10208,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));Zx(10208)}return 10208}function UR(s){return s=s|0,s|0}function zR(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0;return Pt=yt,yt=yt+16|0,gt=Pt,_t=Pt+4|0,o[gt>>2]=s,kt=oy()|0,Mt=kt+24|0,tt=Ar(tt,4)|0,o[_t>>2]=tt,ot=kt+28|0,ft=o[ot>>2]|0,ft>>>0<(o[kt+32>>2]|0)>>>0?(Qx(ft,s,tt),tt=(o[ot>>2]|0)+8|0,o[ot>>2]=tt):(VR(Mt,gt,_t),tt=o[ot>>2]|0),yt=Pt,(tt-(o[Mt>>2]|0)>>3)+-1|0}function Qx(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,o[s>>2]=tt,o[s+4>>2]=ot}function VR(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;if(Pt=yt,yt=yt+32|0,gt=Pt,_t=s+4|0,Mt=((o[_t>>2]|0)-(o[s>>2]|0)>>3)+1|0,ft=GR(s)|0,ft>>>0<Mt>>>0)_o(s);else{kt=o[s>>2]|0,Ut=(o[s+8>>2]|0)-kt|0,zt=Ut>>2,HR(gt,Ut>>3>>>0<ft>>>1>>>0?zt>>>0<Mt>>>0?Mt:zt:ft,(o[_t>>2]|0)-kt>>3,s+8|0),Mt=gt+8|0,Qx(o[Mt>>2]|0,o[tt>>2]|0,o[ot>>2]|0),o[Mt>>2]=(o[Mt>>2]|0)+8,$R(s,gt),WR(gt),yt=Pt;return}}function GR(s){return s=s|0,536870911}function HR(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>536870911)ro();else{gt=Cr(tt<<3)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot<<3)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt<<3)}function $R(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(0-(gt>>3)<<3)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function WR(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~((ft+-8-tt|0)>>>3)<<3)),s=o[s>>2]|0,s|0&&qn(s)}function Zx(s){s=s|0,qR(s)}function jR(s){s=s|0,XR(s+24|0)}function XR(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~((tt+-8-ft|0)>>>3)<<3)),qn(ot))}function qR(s){s=s|0;var tt=0;tt=eo()|0,mo(s,1,24,tt,YR()|0,1),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function YR(){return 1392}function KR(s,tt){s=s|0,tt=tt|0,ZR(o[(QR(s)|0)>>2]|0,tt)}function QR(s){return s=s|0,(o[(oy()|0)+24>>2]|0)+(s<<3)|0}function ZR(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;ot=yt,yt=yt+16|0,ft=ot,Vx(ft,tt),tt=Gx(ft,tt)|0,h0[s&127](tt),yt=ot}function JR(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0;_t=o[s>>2]|0,gt=sy()|0,s=eP(ot)|0,Mr(_t,tt,gt,s,tP(ot,ft)|0,ft)}function sy(){var s=0,tt=0;if(d[7872]|0||(eS(10244),Ur(52,10244,Lt|0)|0,tt=7872,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(10244)|0)){s=10244,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));eS(10244)}return 10244}function eP(s){return s=s|0,s|0}function tP(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0;return Pt=yt,yt=yt+16|0,gt=Pt,_t=Pt+4|0,o[gt>>2]=s,kt=sy()|0,Mt=kt+24|0,tt=Ar(tt,4)|0,o[_t>>2]=tt,ot=kt+28|0,ft=o[ot>>2]|0,ft>>>0<(o[kt+32>>2]|0)>>>0?(Jx(ft,s,tt),tt=(o[ot>>2]|0)+8|0,o[ot>>2]=tt):(nP(Mt,gt,_t),tt=o[ot>>2]|0),yt=Pt,(tt-(o[Mt>>2]|0)>>3)+-1|0}function Jx(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,o[s>>2]=tt,o[s+4>>2]=ot}function nP(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;if(Pt=yt,yt=yt+32|0,gt=Pt,_t=s+4|0,Mt=((o[_t>>2]|0)-(o[s>>2]|0)>>3)+1|0,ft=rP(s)|0,ft>>>0<Mt>>>0)_o(s);else{kt=o[s>>2]|0,Ut=(o[s+8>>2]|0)-kt|0,zt=Ut>>2,iP(gt,Ut>>3>>>0<ft>>>1>>>0?zt>>>0<Mt>>>0?Mt:zt:ft,(o[_t>>2]|0)-kt>>3,s+8|0),Mt=gt+8|0,Jx(o[Mt>>2]|0,o[tt>>2]|0,o[ot>>2]|0),o[Mt>>2]=(o[Mt>>2]|0)+8,oP(s,gt),sP(gt),yt=Pt;return}}function rP(s){return s=s|0,536870911}function iP(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>536870911)ro();else{gt=Cr(tt<<3)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot<<3)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt<<3)}function oP(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(0-(gt>>3)<<3)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function sP(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~((ft+-8-tt|0)>>>3)<<3)),s=o[s>>2]|0,s|0&&qn(s)}function eS(s){s=s|0,uP(s)}function aP(s){s=s|0,lP(s+24|0)}function lP(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~((tt+-8-ft|0)>>>3)<<3)),qn(ot))}function uP(s){s=s|0;var tt=0;tt=eo()|0,mo(s,1,16,tt,cP()|0,0),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function cP(){return 1400}function fP(s){return s=s|0,hP(o[(dP(s)|0)>>2]|0)|0}function dP(s){return s=s|0,(o[(sy()|0)+24>>2]|0)+(s<<3)|0}function hP(s){return s=s|0,pP(W_[s&7]()|0)|0}function pP(s){return s=s|0,s|0}function mP(){var s=0;return d[7880]|0||(wP(10280),Ur(25,10280,Lt|0)|0,s=7880,o[s>>2]=1,o[s+4>>2]=0),10280}function gP(s,tt){s=s|0,tt=tt|0,o[s>>2]=_P()|0,o[s+4>>2]=vP()|0,o[s+12>>2]=tt,o[s+8>>2]=yP()|0,o[s+32>>2]=4}function _P(){return 11711}function vP(){return 1356}function yP(){return b_()|0}function xP(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,(Z0(ft,896)|0)==512?ot|0&&(SP(ot),qn(ot)):tt|0&&(cs(tt),qn(tt))}function SP(s){s=s|0,s=o[s+4>>2]|0,s|0&&_f(s)}function wP(s){s=s|0,q0(s)}function MP(s){s=s|0,EP(s,4920),TP(s)|0,AP(s)|0}function EP(s,tt){s=s|0,tt=tt|0;var ot=0;ot=wx()|0,o[s>>2]=ot,XP(ot,tt),J0(o[s>>2]|0)}function TP(s){s=s|0;var tt=0;return tt=o[s>>2]|0,Fp(tt,FP()|0),s|0}function AP(s){s=s|0;var tt=0;return tt=o[s>>2]|0,Fp(tt,CP()|0),s|0}function CP(){var s=0;return d[7888]|0||(tS(10328),Ur(53,10328,Lt|0)|0,s=7888,o[s>>2]=1,o[s+4>>2]=0),wr(10328)|0||tS(10328),10328}function Fp(s,tt){s=s|0,tt=tt|0,Mr(s,0,tt,0,0,0)}function tS(s){s=s|0,LP(s),Bp(s,10)}function RP(s){s=s|0,PP(s+24|0)}function PP(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~((tt+-8-ft|0)>>>3)<<3)),qn(ot))}function LP(s){s=s|0;var tt=0;tt=eo()|0,mo(s,5,1,tt,NP()|0,2),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function IP(s,tt,ot){s=s|0,tt=tt|0,ot=+ot,bP(s,tt,ot)}function Bp(s,tt){s=s|0,tt=tt|0,o[s+20>>2]=tt}function bP(s,tt,ot){s=s|0,tt=tt|0,ot=+ot;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+16|0,_t=ft+8|0,Pt=ft+13|0,gt=ft,Mt=ft+12|0,c0(Pt,tt),o[_t>>2]=f0(Pt,tt)|0,Nu(Mt,ot),Tt[gt>>3]=+Du(Mt,ot),kP(s,_t,gt),yt=ft}function kP(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,$0(s+8|0,o[tt>>2]|0,+Tt[ot>>3]),d[s+24>>0]=1}function NP(){return 1404}function DP(s,tt){return s=s|0,tt=+tt,OP(s,tt)|0}function OP(s,tt){s=s|0,tt=+tt;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0;return ft=yt,yt=yt+16|0,_t=ft+4|0,Mt=ft+8|0,Pt=ft,gt=Rl(8)|0,ot=gt,kt=Cr(16)|0,c0(_t,s),s=f0(_t,s)|0,Nu(Mt,tt),$0(kt,s,+Du(Mt,tt)),Mt=ot+4|0,o[Mt>>2]=kt,s=Cr(8)|0,Mt=o[Mt>>2]|0,o[Pt>>2]=0,o[_t>>2]=o[Pt>>2],Wv(s,Mt,_t),o[gt>>2]=s,yt=ft,ot|0}function FP(){var s=0;return d[7896]|0||(nS(10364),Ur(54,10364,Lt|0)|0,s=7896,o[s>>2]=1,o[s+4>>2]=0),wr(10364)|0||nS(10364),10364}function nS(s){s=s|0,zP(s),Bp(s,55)}function BP(s){s=s|0,UP(s+24|0)}function UP(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~((tt+-8-ft|0)>>>3)<<3)),qn(ot))}function zP(s){s=s|0;var tt=0;tt=eo()|0,mo(s,5,4,tt,$P()|0,0),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function VP(s){s=s|0,GP(s)}function GP(s){s=s|0,HP(s)}function HP(s){s=s|0,rS(s+8|0),d[s+24>>0]=1}function rS(s){s=s|0,o[s>>2]=0,Tt[s+8>>3]=0}function $P(){return 1424}function WP(){return jP()|0}function jP(){var s=0,tt=0,ot=0,ft=0,gt=0,_t=0,Mt=0;return tt=yt,yt=yt+16|0,gt=tt+4|0,Mt=tt,ot=Rl(8)|0,s=ot,ft=Cr(16)|0,rS(ft),_t=s+4|0,o[_t>>2]=ft,ft=Cr(8)|0,_t=o[_t>>2]|0,o[Mt>>2]=0,o[gt>>2]=o[Mt>>2],Wv(ft,_t,gt),o[ot>>2]=ft,yt=tt,s|0}function XP(s,tt){s=s|0,tt=tt|0,o[s>>2]=qP()|0,o[s+4>>2]=YP()|0,o[s+12>>2]=tt,o[s+8>>2]=KP()|0,o[s+32>>2]=5}function qP(){return 11710}function YP(){return 1416}function KP(){return k_()|0}function QP(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,(Z0(ft,896)|0)==512?ot|0&&(ZP(ot),qn(ot)):tt|0&&qn(tt)}function ZP(s){s=s|0,s=o[s+4>>2]|0,s|0&&_f(s)}function k_(){var s=0;return d[7904]|0||(o[2600]=JP()|0,o[2601]=0,s=7904,o[s>>2]=1,o[s+4>>2]=0),10400}function JP(){return o[357]|0}function eL(s){s=s|0,tL(s,4926),nL(s)|0}function tL(s,tt){s=s|0,tt=tt|0;var ot=0;ot=Hy()|0,o[s>>2]=ot,hL(ot,tt),J0(o[s>>2]|0)}function nL(s){s=s|0;var tt=0;return tt=o[s>>2]|0,Fp(tt,rL()|0),s|0}function rL(){var s=0;return d[7912]|0||(iS(10412),Ur(56,10412,Lt|0)|0,s=7912,o[s>>2]=1,o[s+4>>2]=0),wr(10412)|0||iS(10412),10412}function iS(s){s=s|0,sL(s),Bp(s,57)}function iL(s){s=s|0,oL(s+24|0)}function oL(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~((tt+-8-ft|0)>>>3)<<3)),qn(ot))}function sL(s){s=s|0;var tt=0;tt=eo()|0,mo(s,5,5,tt,cL()|0,0),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function aL(s){s=s|0,lL(s)}function lL(s){s=s|0,uL(s)}function uL(s){s=s|0;var tt=0,ot=0;tt=s+8|0,ot=tt+48|0;do o[tt>>2]=0,tt=tt+4|0;while((tt|0)<(ot|0));d[s+56>>0]=1}function cL(){return 1432}function fL(){return dL()|0}function dL(){var s=0,tt=0,ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0;Mt=yt,yt=yt+16|0,s=Mt+4|0,tt=Mt,ot=Rl(8)|0,ft=ot,gt=Cr(48)|0,_t=gt,Pt=_t+48|0;do o[_t>>2]=0,_t=_t+4|0;while((_t|0)<(Pt|0));return _t=ft+4|0,o[_t>>2]=gt,Pt=Cr(8)|0,_t=o[_t>>2]|0,o[tt>>2]=0,o[s>>2]=o[tt>>2],$y(Pt,_t,s),o[ot>>2]=Pt,yt=Mt,ft|0}function hL(s,tt){s=s|0,tt=tt|0,o[s>>2]=pL()|0,o[s+4>>2]=mL()|0,o[s+12>>2]=tt,o[s+8>>2]=gL()|0,o[s+32>>2]=6}function pL(){return 11704}function mL(){return 1436}function gL(){return k_()|0}function _L(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,(Z0(ft,896)|0)==512?ot|0&&(vL(ot),qn(ot)):tt|0&&qn(tt)}function vL(s){s=s|0,s=o[s+4>>2]|0,s|0&&_f(s)}function yL(s){s=s|0,xL(s,4933),SL(s)|0,wL(s)|0}function xL(s,tt){s=s|0,tt=tt|0;var ot=0;ot=XL()|0,o[s>>2]=ot,qL(ot,tt),J0(o[s>>2]|0)}function SL(s){s=s|0;var tt=0;return tt=o[s>>2]|0,Fp(tt,OL()|0),s|0}function wL(s){s=s|0;var tt=0;return tt=o[s>>2]|0,Fp(tt,ML()|0),s|0}function ML(){var s=0;return d[7920]|0||(oS(10452),Ur(58,10452,Lt|0)|0,s=7920,o[s>>2]=1,o[s+4>>2]=0),wr(10452)|0||oS(10452),10452}function oS(s){s=s|0,AL(s),Bp(s,1)}function EL(s){s=s|0,TL(s+24|0)}function TL(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~((tt+-8-ft|0)>>>3)<<3)),qn(ot))}function AL(s){s=s|0;var tt=0;tt=eo()|0,mo(s,5,1,tt,LL()|0,2),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function CL(s,tt,ot){s=s|0,tt=+tt,ot=+ot,RL(s,tt,ot)}function RL(s,tt,ot){s=s|0,tt=+tt,ot=+ot;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+32|0,_t=ft+8|0,Pt=ft+17|0,gt=ft,Mt=ft+16|0,Nu(Pt,tt),Tt[_t>>3]=+Du(Pt,tt),Nu(Mt,ot),Tt[gt>>3]=+Du(Mt,ot),PL(s,_t,gt),yt=ft}function PL(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,sS(s+8|0,+Tt[tt>>3],+Tt[ot>>3]),d[s+24>>0]=1}function sS(s,tt,ot){s=s|0,tt=+tt,ot=+ot,Tt[s>>3]=tt,Tt[s+8>>3]=ot}function LL(){return 1472}function IL(s,tt){return s=+s,tt=+tt,bL(s,tt)|0}function bL(s,tt){s=+s,tt=+tt;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0;return ft=yt,yt=yt+16|0,Mt=ft+4|0,Pt=ft+8|0,kt=ft,gt=Rl(8)|0,ot=gt,_t=Cr(16)|0,Nu(Mt,s),s=+Du(Mt,s),Nu(Pt,tt),sS(_t,s,+Du(Pt,tt)),Pt=ot+4|0,o[Pt>>2]=_t,_t=Cr(8)|0,Pt=o[Pt>>2]|0,o[kt>>2]=0,o[Mt>>2]=o[kt>>2],aS(_t,Pt,Mt),o[gt>>2]=_t,yt=ft,ot|0}function aS(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,o[s>>2]=tt,ot=Cr(16)|0,o[ot+4>>2]=0,o[ot+8>>2]=0,o[ot>>2]=1452,o[ot+12>>2]=tt,o[s+4>>2]=ot}function kL(s){s=s|0,$m(s),qn(s)}function NL(s){s=s|0,s=o[s+12>>2]|0,s|0&&qn(s)}function DL(s){s=s|0,qn(s)}function OL(){var s=0;return d[7928]|0||(lS(10488),Ur(59,10488,Lt|0)|0,s=7928,o[s>>2]=1,o[s+4>>2]=0),wr(10488)|0||lS(10488),10488}function lS(s){s=s|0,UL(s),Bp(s,60)}function FL(s){s=s|0,BL(s+24|0)}function BL(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~((tt+-8-ft|0)>>>3)<<3)),qn(ot))}function UL(s){s=s|0;var tt=0;tt=eo()|0,mo(s,5,6,tt,$L()|0,0),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function zL(s){s=s|0,VL(s)}function VL(s){s=s|0,HL(s)}function HL(s){s=s|0,uS(s+8|0),d[s+24>>0]=1}function uS(s){s=s|0,o[s>>2]=0,o[s+4>>2]=0,o[s+8>>2]=0,o[s+12>>2]=0}function $L(){return 1492}function WL(){return jL()|0}function jL(){var s=0,tt=0,ot=0,ft=0,gt=0,_t=0,Mt=0;return tt=yt,yt=yt+16|0,gt=tt+4|0,Mt=tt,ot=Rl(8)|0,s=ot,ft=Cr(16)|0,uS(ft),_t=s+4|0,o[_t>>2]=ft,ft=Cr(8)|0,_t=o[_t>>2]|0,o[Mt>>2]=0,o[gt>>2]=o[Mt>>2],aS(ft,_t,gt),o[ot>>2]=ft,yt=tt,s|0}function XL(){var s=0;return d[7936]|0||(eI(10524),Ur(25,10524,Lt|0)|0,s=7936,o[s>>2]=1,o[s+4>>2]=0),10524}function qL(s,tt){s=s|0,tt=tt|0,o[s>>2]=YL()|0,o[s+4>>2]=KL()|0,o[s+12>>2]=tt,o[s+8>>2]=QL()|0,o[s+32>>2]=7}function YL(){return 11700}function KL(){return 1484}function QL(){return k_()|0}function ZL(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,(Z0(ft,896)|0)==512?ot|0&&(JL(ot),qn(ot)):tt|0&&qn(tt)}function JL(s){s=s|0,s=o[s+4>>2]|0,s|0&&_f(s)}function eI(s){s=s|0,q0(s)}function tI(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,s=rn(tt)|0,tt=nI(ot)|0,ot=rI(ot,0)|0,kI(s,tt,ot,ay()|0,0)}function nI(s){return s=s|0,s|0}function rI(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0;return Pt=yt,yt=yt+16|0,gt=Pt,_t=Pt+4|0,o[gt>>2]=s,kt=ay()|0,Mt=kt+24|0,tt=Ar(tt,4)|0,o[_t>>2]=tt,ot=kt+28|0,ft=o[ot>>2]|0,ft>>>0<(o[kt+32>>2]|0)>>>0?(fS(ft,s,tt),tt=(o[ot>>2]|0)+8|0,o[ot>>2]=tt):(cI(Mt,gt,_t),tt=o[ot>>2]|0),yt=Pt,(tt-(o[Mt>>2]|0)>>3)+-1|0}function ay(){var s=0,tt=0;if(d[7944]|0||(cS(10568),Ur(61,10568,Lt|0)|0,tt=7944,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(10568)|0)){s=10568,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));cS(10568)}return 10568}function cS(s){s=s|0,sI(s)}function iI(s){s=s|0,oI(s+24|0)}function oI(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~((tt+-8-ft|0)>>>3)<<3)),qn(ot))}function sI(s){s=s|0;var tt=0;tt=eo()|0,mo(s,1,17,tt,ax()|0,0),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function aI(s){return s=s|0,uI(o[(lI(s)|0)>>2]|0)|0}function lI(s){return s=s|0,(o[(ay()|0)+24>>2]|0)+(s<<3)|0}function uI(s){return s=s|0,I_(W_[s&7]()|0)|0}function fS(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,o[s>>2]=tt,o[s+4>>2]=ot}function cI(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;if(Pt=yt,yt=yt+32|0,gt=Pt,_t=s+4|0,Mt=((o[_t>>2]|0)-(o[s>>2]|0)>>3)+1|0,ft=fI(s)|0,ft>>>0<Mt>>>0)_o(s);else{kt=o[s>>2]|0,Ut=(o[s+8>>2]|0)-kt|0,zt=Ut>>2,dI(gt,Ut>>3>>>0<ft>>>1>>>0?zt>>>0<Mt>>>0?Mt:zt:ft,(o[_t>>2]|0)-kt>>3,s+8|0),Mt=gt+8|0,fS(o[Mt>>2]|0,o[tt>>2]|0,o[ot>>2]|0),o[Mt>>2]=(o[Mt>>2]|0)+8,hI(s,gt),pI(gt),yt=Pt;return}}function fI(s){return s=s|0,536870911}function dI(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>536870911)ro();else{gt=Cr(tt<<3)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot<<3)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt<<3)}function hI(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(0-(gt>>3)<<3)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function pI(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~((ft+-8-tt|0)>>>3)<<3)),s=o[s>>2]|0,s|0&&qn(s)}function mI(){gI()}function gI(){_I(10604)}function _I(s){s=s|0,vI(s,4955)}function vI(s,tt){s=s|0,tt=tt|0;var ot=0;ot=yI()|0,o[s>>2]=ot,xI(ot,tt),J0(o[s>>2]|0)}function yI(){var s=0;return d[7952]|0||(PI(10612),Ur(25,10612,Lt|0)|0,s=7952,o[s>>2]=1,o[s+4>>2]=0),10612}function xI(s,tt){s=s|0,tt=tt|0,o[s>>2]=EI()|0,o[s+4>>2]=TI()|0,o[s+12>>2]=tt,o[s+8>>2]=AI()|0,o[s+32>>2]=8}function J0(s){s=s|0;var tt=0,ot=0;tt=yt,yt=yt+16|0,ot=tt,Um()|0,o[ot>>2]=s,SI(10608,ot),yt=tt}function Um(){return d[11714]|0||(o[2652]=0,Ur(62,10608,Lt|0)|0,d[11714]=1),10608}function SI(s,tt){s=s|0,tt=tt|0;var ot=0;ot=Cr(8)|0,o[ot+4>>2]=o[tt>>2],o[ot>>2]=o[s>>2],o[s>>2]=ot}function wI(s){s=s|0,MI(s)}function MI(s){s=s|0;var tt=0,ot=0;if(tt=o[s>>2]|0,tt|0)do ot=tt,tt=o[tt>>2]|0,qn(ot);while(tt|0);o[s>>2]=0}function EI(){return 11715}function TI(){return 1496}function AI(){return b_()|0}function CI(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,(Z0(ft,896)|0)==512?ot|0&&(RI(ot),qn(ot)):tt|0&&qn(tt)}function RI(s){s=s|0,s=o[s+4>>2]|0,s|0&&_f(s)}function PI(s){s=s|0,q0(s)}function LI(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;Um()|0,ot=o[2652]|0;e:do if(ot|0){for(;ft=o[ot+4>>2]|0,!(ft|0&&!(qS(ly(ft)|0,s)|0));)if(ot=o[ot>>2]|0,!ot)break e;II(ft,tt)}while(0)}function ly(s){return s=s|0,o[s+12>>2]|0}function II(s,tt){s=s|0,tt=tt|0;var ot=0;s=s+36|0,ot=o[s>>2]|0,ot|0&&(n0(ot),qn(ot)),ot=Cr(4)|0,s0(ot,tt),o[s>>2]=ot}function uy(){return d[11716]|0||(o[2664]=0,Ur(63,10656,Lt|0)|0,d[11716]=1),10656}function dS(){var s=0;return d[11717]|0?s=o[2665]|0:(bI(),o[2665]=1504,d[11717]=1,s=1504),s|0}function bI(){d[11740]|0||(d[11718]=Ar(Ar(8,0)|0,0)|0,d[11719]=Ar(Ar(0,0)|0,0)|0,d[11720]=Ar(Ar(0,16)|0,0)|0,d[11721]=Ar(Ar(8,0)|0,0)|0,d[11722]=Ar(Ar(0,0)|0,0)|0,d[11723]=Ar(Ar(8,0)|0,0)|0,d[11724]=Ar(Ar(0,0)|0,0)|0,d[11725]=Ar(Ar(8,0)|0,0)|0,d[11726]=Ar(Ar(0,0)|0,0)|0,d[11727]=Ar(Ar(8,0)|0,0)|0,d[11728]=Ar(Ar(0,0)|0,0)|0,d[11729]=Ar(Ar(0,0)|0,32)|0,d[11730]=Ar(Ar(0,0)|0,32)|0,d[11740]=1)}function hS(){return 1572}function kI(s,tt,ot,ft,gt){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0;var _t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;_t=yt,yt=yt+32|0,Ut=_t+16|0,zt=_t+12|0,kt=_t+8|0,Pt=_t+4|0,Mt=_t,o[Ut>>2]=s,o[zt>>2]=tt,o[kt>>2]=ot,o[Pt>>2]=ft,o[Mt>>2]=gt,uy()|0,NI(10656,Ut,zt,kt,Pt,Mt),yt=_t}function NI(s,tt,ot,ft,gt,_t){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0,_t=_t|0;var Mt=0;Mt=Cr(24)|0,Wr(Mt+4|0,o[tt>>2]|0,o[ot>>2]|0,o[ft>>2]|0,o[gt>>2]|0,o[_t>>2]|0),o[Mt>>2]=o[s>>2],o[s>>2]=Mt}function pS(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0,yn=0,fn=0,ln=0,bn=0,Rn=0,zn=0;if(zn=yt,yt=yt+32|0,fn=zn+20|0,ln=zn+8|0,bn=zn+4|0,Rn=zn,tt=o[tt>>2]|0,tt|0){yn=fn+4|0,kt=fn+8|0,zt=ln+4|0,Ut=ln+8|0,Ht=ln+8|0,Zt=fn+8|0;do{if(Mt=tt+4|0,Pt=cy(Mt)|0,Pt|0){if(gt=a2(Pt)|0,o[fn>>2]=0,o[yn>>2]=0,o[kt>>2]=0,ft=(l2(Pt)|0)+1|0,DI(fn,ft),ft|0)for(;ft=ft+-1|0,du(ln,o[gt>>2]|0),_t=o[yn>>2]|0,_t>>>0<(o[Zt>>2]|0)>>>0?(o[_t>>2]=o[ln>>2],o[yn>>2]=(o[yn>>2]|0)+4):fy(fn,ln),ft;)gt=gt+4|0;ft=u2(Pt)|0,o[ln>>2]=0,o[zt>>2]=0,o[Ut>>2]=0;e:do if(o[ft>>2]|0)for(gt=0,_t=0;;){if((gt|0)==(_t|0)?OI(ln,ft):(o[gt>>2]=o[ft>>2],o[zt>>2]=(o[zt>>2]|0)+4),ft=ft+4|0,!(o[ft>>2]|0))break e;gt=o[zt>>2]|0,_t=o[Ht>>2]|0}while(0);o[bn>>2]=N_(Mt)|0,o[Rn>>2]=wr(Pt)|0,FI(ot,s,bn,Rn,fn,ln),dy(ln),d0(fn)}tt=o[tt>>2]|0}while(tt|0)}yt=zn}function cy(s){return s=s|0,o[s+12>>2]|0}function a2(s){return s=s|0,o[s+12>>2]|0}function l2(s){return s=s|0,o[s+16>>2]|0}function DI(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0;gt=yt,yt=yt+32|0,ot=gt,ft=o[s>>2]|0,(o[s+8>>2]|0)-ft>>2>>>0<tt>>>0&&(wS(ot,tt,(o[s+4>>2]|0)-ft>>2,s+8|0),ES(s,ot),TS(ot)),yt=gt}function fy(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0;if(Mt=yt,yt=yt+32|0,ot=Mt,ft=s+4|0,gt=((o[ft>>2]|0)-(o[s>>2]|0)>>2)+1|0,_t=SS(s)|0,_t>>>0<gt>>>0)_o(s);else{Pt=o[s>>2]|0,zt=(o[s+8>>2]|0)-Pt|0,kt=zt>>1,wS(ot,zt>>2>>>0<_t>>>1>>>0?kt>>>0<gt>>>0?gt:kt:_t,(o[ft>>2]|0)-Pt>>2,s+8|0),_t=ot+8|0,o[o[_t>>2]>>2]=o[tt>>2],o[_t>>2]=(o[_t>>2]|0)+4,ES(s,ot),TS(ot),yt=Mt;return}}function u2(s){return s=s|0,o[s+8>>2]|0}function OI(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0;if(Mt=yt,yt=yt+32|0,ot=Mt,ft=s+4|0,gt=((o[ft>>2]|0)-(o[s>>2]|0)>>2)+1|0,_t=xS(s)|0,_t>>>0<gt>>>0)_o(s);else{Pt=o[s>>2]|0,zt=(o[s+8>>2]|0)-Pt|0,kt=zt>>1,tN(ot,zt>>2>>>0<_t>>>1>>>0?kt>>>0<gt>>>0?gt:kt:_t,(o[ft>>2]|0)-Pt>>2,s+8|0),_t=ot+8|0,o[o[_t>>2]>>2]=o[tt>>2],o[_t>>2]=(o[_t>>2]|0)+4,nN(s,ot),rN(ot),yt=Mt;return}}function N_(s){return s=s|0,o[s>>2]|0}function FI(s,tt,ot,ft,gt,_t){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0,_t=_t|0,BI(s,tt,ot,ft,gt,_t)}function dy(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~((tt+-4-ft|0)>>>2)<<2)),qn(ot))}function d0(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~((tt+-4-ft|0)>>>2)<<2)),qn(ot))}function BI(s,tt,ot,ft,gt,_t){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0,_t=_t|0;var Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;Mt=yt,yt=yt+48|0,Ut=Mt+40|0,Pt=Mt+32|0,Ht=Mt+24|0,kt=Mt+12|0,zt=Mt,Pl(Pt),s=rs(s)|0,o[Ht>>2]=o[tt>>2],ot=o[ot>>2]|0,ft=o[ft>>2]|0,hy(kt,gt),UI(zt,_t),o[Ut>>2]=o[Ht>>2],zI(s,Ut,ot,ft,kt,zt),dy(zt),d0(kt),Ll(Pt),yt=Mt}function hy(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;o[s>>2]=0,o[s+4>>2]=0,o[s+8>>2]=0,ot=tt+4|0,ft=(o[ot>>2]|0)-(o[tt>>2]|0)>>2,ft|0&&(_k(s,ft),eN(s,o[tt>>2]|0,o[ot>>2]|0,ft))}function UI(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;o[s>>2]=0,o[s+4>>2]=0,o[s+8>>2]=0,ot=tt+4|0,ft=(o[ot>>2]|0)-(o[tt>>2]|0)>>2,ft|0&&(ZI(s,ft),JI(s,o[tt>>2]|0,o[ot>>2]|0,ft))}function zI(s,tt,ot,ft,gt,_t){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0,_t=_t|0;var Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;Mt=yt,yt=yt+32|0,Ut=Mt+28|0,Ht=Mt+24|0,Pt=Mt+12|0,kt=Mt,zt=fs(VI()|0)|0,o[Ht>>2]=o[tt>>2],o[Ut>>2]=o[Ht>>2],tt=Up(Ut)|0,ot=mS(ot)|0,ft=my(ft)|0,o[Pt>>2]=o[gt>>2],Ut=gt+4|0,o[Pt+4>>2]=o[Ut>>2],Ht=gt+8|0,o[Pt+8>>2]=o[Ht>>2],o[Ht>>2]=0,o[Ut>>2]=0,o[gt>>2]=0,gt=gy(Pt)|0,o[kt>>2]=o[_t>>2],Ut=_t+4|0,o[kt+4>>2]=o[Ut>>2],Ht=_t+8|0,o[kt+8>>2]=o[Ht>>2],o[Ht>>2]=0,o[Ut>>2]=0,o[_t>>2]=0,to(0,zt|0,s|0,tt|0,ot|0,ft|0,gt|0,GI(kt)|0)|0,dy(kt),d0(Pt),yt=Mt}function VI(){var s=0;return d[7968]|0||(KI(10708),s=7968,o[s>>2]=1,o[s+4>>2]=0),10708}function Up(s){return s=s|0,_S(s)|0}function mS(s){return s=s|0,gS(s)|0}function my(s){return s=s|0,I_(s)|0}function gy(s){return s=s|0,$I(s)|0}function GI(s){return s=s|0,HI(s)|0}function HI(s){s=s|0;var tt=0,ot=0,ft=0;if(ft=(o[s+4>>2]|0)-(o[s>>2]|0)|0,ot=ft>>2,ft=Rl(ft+4|0)|0,o[ft>>2]=ot,ot|0){tt=0;do o[ft+4+(tt<<2)>>2]=gS(o[(o[s>>2]|0)+(tt<<2)>>2]|0)|0,tt=tt+1|0;while((tt|0)!=(ot|0))}return ft|0}function gS(s){return s=s|0,s|0}function $I(s){s=s|0;var tt=0,ot=0,ft=0;if(ft=(o[s+4>>2]|0)-(o[s>>2]|0)|0,ot=ft>>2,ft=Rl(ft+4|0)|0,o[ft>>2]=ot,ot|0){tt=0;do o[ft+4+(tt<<2)>>2]=_S((o[s>>2]|0)+(tt<<2)|0)|0,tt=tt+1|0;while((tt|0)!=(ot|0))}return ft|0}function _S(s){s=s|0;var tt=0,ot=0,ft=0,gt=0;return gt=yt,yt=yt+32|0,tt=gt+12|0,ot=gt,ft=Cv(vS()|0)|0,ft?(Rv(tt,ft),Pv(ot,tt),TF(s,ot),s=Lv(tt)|0):s=WI(s)|0,yt=gt,s|0}function vS(){var s=0;return d[7960]|0||(YI(10664),Ur(25,10664,Lt|0)|0,s=7960,o[s>>2]=1,o[s+4>>2]=0),10664}function WI(s){s=s|0;var tt=0,ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0;return ot=yt,yt=yt+16|0,gt=ot+4|0,Mt=ot,ft=Rl(8)|0,tt=ft,Pt=Cr(4)|0,o[Pt>>2]=o[s>>2],_t=tt+4|0,o[_t>>2]=Pt,s=Cr(8)|0,_t=o[_t>>2]|0,o[Mt>>2]=0,o[gt>>2]=o[Mt>>2],yS(s,_t,gt),o[ft>>2]=s,yt=ot,tt|0}function yS(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,o[s>>2]=tt,ot=Cr(16)|0,o[ot+4>>2]=0,o[ot+8>>2]=0,o[ot>>2]=1656,o[ot+12>>2]=tt,o[s+4>>2]=ot}function jI(s){s=s|0,$m(s),qn(s)}function XI(s){s=s|0,s=o[s+12>>2]|0,s|0&&qn(s)}function qI(s){s=s|0,qn(s)}function YI(s){s=s|0,q0(s)}function KI(s){s=s|0,ga(s,QI()|0,5)}function QI(){return 1676}function ZI(s,tt){s=s|0,tt=tt|0;var ot=0;if((xS(s)|0)>>>0<tt>>>0&&_o(s),tt>>>0>1073741823)ro();else{ot=Cr(tt<<2)|0,o[s+4>>2]=ot,o[s>>2]=ot,o[s+8>>2]=ot+(tt<<2);return}}function JI(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,ft=s+4|0,s=ot-tt|0,(s|0)>0&&(Zr(o[ft>>2]|0,tt|0,s|0)|0,o[ft>>2]=(o[ft>>2]|0)+(s>>>2<<2))}function xS(s){return s=s|0,1073741823}function _k(s,tt){s=s|0,tt=tt|0;var ot=0;if((SS(s)|0)>>>0<tt>>>0&&_o(s),tt>>>0>1073741823)ro();else{ot=Cr(tt<<2)|0,o[s+4>>2]=ot,o[s>>2]=ot,o[s+8>>2]=ot+(tt<<2);return}}function eN(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,ft=s+4|0,s=ot-tt|0,(s|0)>0&&(Zr(o[ft>>2]|0,tt|0,s|0)|0,o[ft>>2]=(o[ft>>2]|0)+(s>>>2<<2))}function SS(s){return s=s|0,1073741823}function tN(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>1073741823)ro();else{gt=Cr(tt<<2)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot<<2)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt<<2)}function nN(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(0-(gt>>2)<<2)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function rN(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~((ft+-4-tt|0)>>>2)<<2)),s=o[s>>2]|0,s|0&&qn(s)}function wS(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>1073741823)ro();else{gt=Cr(tt<<2)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot<<2)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt<<2)}function ES(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(0-(gt>>2)<<2)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function TS(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~((ft+-4-tt|0)>>>2)<<2)),s=o[s>>2]|0,s|0&&qn(s)}function iN(s,tt,ot,ft,gt){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0;var _t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0,yn=0,fn=0,ln=0;if(ln=yt,yt=yt+32|0,Ut=ln+20|0,Ht=ln+12|0,zt=ln+16|0,Zt=ln+4|0,yn=ln,fn=ln+8|0,Pt=dS()|0,_t=o[Pt>>2]|0,Mt=o[_t>>2]|0,Mt|0)for(kt=o[Pt+8>>2]|0,Pt=o[Pt+4>>2]|0;du(Ut,Mt),oN(s,Ut,Pt,kt),_t=_t+4|0,Mt=o[_t>>2]|0,Mt;)kt=kt+1|0,Pt=Pt+1|0;if(_t=hS()|0,Mt=o[_t>>2]|0,Mt|0)do du(Ut,Mt),o[Ht>>2]=o[_t+4>>2],sN(tt,Ut,Ht),_t=_t+8|0,Mt=o[_t>>2]|0;while(Mt|0);if(_t=o[(Um()|0)>>2]|0,_t|0)do tt=o[_t+4>>2]|0,du(Ut,o[(zm(tt)|0)>>2]|0),o[Ht>>2]=ly(tt)|0,aN(ot,Ut,Ht),_t=o[_t>>2]|0;while(_t|0);if(du(zt,0),_t=uy()|0,o[Ut>>2]=o[zt>>2],pS(Ut,_t,gt),_t=o[(Um()|0)>>2]|0,_t|0){s=Ut+4|0,tt=Ut+8|0,ot=Ut+8|0;do{if(kt=o[_t+4>>2]|0,du(Ht,o[(zm(kt)|0)>>2]|0),lN(Zt,AS(kt)|0),Mt=o[Zt>>2]|0,Mt|0){o[Ut>>2]=0,o[s>>2]=0,o[tt>>2]=0;do du(yn,o[(zm(o[Mt+4>>2]|0)|0)>>2]|0),Pt=o[s>>2]|0,Pt>>>0<(o[ot>>2]|0)>>>0?(o[Pt>>2]=o[yn>>2],o[s>>2]=(o[s>>2]|0)+4):fy(Ut,yn),Mt=o[Mt>>2]|0;while(Mt|0);uN(ft,Ht,Ut),d0(Ut)}o[fn>>2]=o[Ht>>2],zt=CS(kt)|0,o[Ut>>2]=o[fn>>2],pS(Ut,zt,gt),jy(Zt),_t=o[_t>>2]|0}while(_t|0)}yt=ln}function oN(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,SN(s,tt,ot,ft)}function sN(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,xN(s,tt,ot)}function zm(s){return s=s|0,s|0}function aN(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,gN(s,tt,ot)}function AS(s){return s=s|0,s+16|0}function lN(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0;if(_t=yt,yt=yt+16|0,gt=_t+8|0,ot=_t,o[s>>2]=0,ft=o[tt>>2]|0,o[gt>>2]=ft,o[ot>>2]=s,ot=mN(ot)|0,ft|0){if(ft=Cr(12)|0,Mt=(RS(gt)|0)+4|0,s=o[Mt+4>>2]|0,tt=ft+4|0,o[tt>>2]=o[Mt>>2],o[tt+4>>2]=s,tt=o[o[gt>>2]>>2]|0,o[gt>>2]=tt,!tt)s=ft;else for(tt=ft;s=Cr(12)|0,kt=(RS(gt)|0)+4|0,Pt=o[kt+4>>2]|0,Mt=s+4|0,o[Mt>>2]=o[kt>>2],o[Mt+4>>2]=Pt,o[tt>>2]=s,Mt=o[o[gt>>2]>>2]|0,o[gt>>2]=Mt,Mt;)tt=s;o[s>>2]=o[ot>>2],o[ot>>2]=ft}yt=_t}function uN(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,cN(s,tt,ot)}function CS(s){return s=s|0,s+24|0}function cN(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+32|0,Mt=ft+24|0,gt=ft+16|0,Pt=ft+12|0,_t=ft,Pl(gt),s=rs(s)|0,o[Pt>>2]=o[tt>>2],hy(_t,ot),o[Mt>>2]=o[Pt>>2],fN(s,Mt,_t),d0(_t),Ll(gt),yt=ft}function fN(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=yt,yt=yt+32|0,Mt=ft+16|0,Pt=ft+12|0,gt=ft,_t=fs(dN()|0)|0,o[Pt>>2]=o[tt>>2],o[Mt>>2]=o[Pt>>2],tt=Up(Mt)|0,o[gt>>2]=o[ot>>2],Mt=ot+4|0,o[gt+4>>2]=o[Mt>>2],Pt=ot+8|0,o[gt+8>>2]=o[Pt>>2],o[Pt>>2]=0,o[Mt>>2]=0,o[ot>>2]=0,pr(0,_t|0,s|0,tt|0,gy(gt)|0)|0,d0(gt),yt=ft}function dN(){var s=0;return d[7976]|0||(hN(10720),s=7976,o[s>>2]=1,o[s+4>>2]=0),10720}function hN(s){s=s|0,ga(s,pN()|0,2)}function pN(){return 1732}function mN(s){return s=s|0,o[s>>2]|0}function RS(s){return s=s|0,o[s>>2]|0}function gN(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;ft=yt,yt=yt+32|0,_t=ft+16|0,gt=ft+8|0,Mt=ft,Pl(gt),s=rs(s)|0,o[Mt>>2]=o[tt>>2],ot=o[ot>>2]|0,o[_t>>2]=o[Mt>>2],PS(s,_t,ot),Ll(gt),yt=ft}function PS(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;ft=yt,yt=yt+16|0,_t=ft+4|0,Mt=ft,gt=fs(_N()|0)|0,o[Mt>>2]=o[tt>>2],o[_t>>2]=o[Mt>>2],tt=Up(_t)|0,pr(0,gt|0,s|0,tt|0,mS(ot)|0)|0,yt=ft}function _N(){var s=0;return d[7984]|0||(vN(10732),s=7984,o[s>>2]=1,o[s+4>>2]=0),10732}function vN(s){s=s|0,ga(s,yN()|0,2)}function yN(){return 1744}function xN(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;ft=yt,yt=yt+32|0,_t=ft+16|0,gt=ft+8|0,Mt=ft,Pl(gt),s=rs(s)|0,o[Mt>>2]=o[tt>>2],ot=o[ot>>2]|0,o[_t>>2]=o[Mt>>2],PS(s,_t,ot),Ll(gt),yt=ft}function SN(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0;gt=yt,yt=yt+32|0,Mt=gt+16|0,_t=gt+8|0,Pt=gt,Pl(_t),s=rs(s)|0,o[Pt>>2]=o[tt>>2],ot=d[ot>>0]|0,ft=d[ft>>0]|0,o[Mt>>2]=o[Pt>>2],wN(s,Mt,ot,ft),Ll(_t),yt=gt}function wN(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0;gt=yt,yt=yt+16|0,Mt=gt+4|0,Pt=gt,_t=fs(MN()|0)|0,o[Pt>>2]=o[tt>>2],o[Mt>>2]=o[Pt>>2],tt=Up(Mt)|0,ot=Vm(ot)|0,yr(0,_t|0,s|0,tt|0,ot|0,Vm(ft)|0)|0,yt=gt}function MN(){var s=0;return d[7992]|0||(TN(10744),s=7992,o[s>>2]=1,o[s+4>>2]=0),10744}function Vm(s){return s=s|0,EN(s)|0}function EN(s){return s=s|0,s&255|0}function TN(s){s=s|0,ga(s,AN()|0,3)}function AN(){return 1756}function CN(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0;switch(Zt=yt,yt=yt+32|0,Pt=Zt+8|0,kt=Zt+4|0,zt=Zt+20|0,Ut=Zt,Nv(s,0),ft=EF(tt)|0,o[Pt>>2]=0,Ht=Pt+4|0,o[Ht>>2]=0,o[Pt+8>>2]=0,ft<<24>>24){case 0:{d[zt>>0]=0,RN(kt,ot,zt),D_(s,kt)|0,r0(kt);break}case 8:{Ht=My(tt)|0,d[zt>>0]=8,du(Ut,o[Ht+4>>2]|0),PN(kt,ot,zt,Ut,Ht+8|0),D_(s,kt)|0,r0(kt);break}case 9:{if(_t=My(tt)|0,tt=o[_t+4>>2]|0,tt|0)for(Mt=Pt+8|0,gt=_t+12|0;tt=tt+-1|0,du(kt,o[gt>>2]|0),ft=o[Ht>>2]|0,ft>>>0<(o[Mt>>2]|0)>>>0?(o[ft>>2]=o[kt>>2],o[Ht>>2]=(o[Ht>>2]|0)+4):fy(Pt,kt),tt;)gt=gt+4|0;d[zt>>0]=9,du(Ut,o[_t+8>>2]|0),LN(kt,ot,zt,Ut,Pt),D_(s,kt)|0,r0(kt);break}default:Ht=My(tt)|0,d[zt>>0]=ft,du(Ut,o[Ht+4>>2]|0),IN(kt,ot,zt,Ut),D_(s,kt)|0,r0(kt)}d0(Pt),yt=Zt}function RN(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0;ft=yt,yt=yt+16|0,gt=ft,Pl(gt),tt=rs(tt)|0,$N(s,tt,d[ot>>0]|0),Ll(gt),yt=ft}function D_(s,tt){s=s|0,tt=tt|0;var ot=0;return ot=o[s>>2]|0,ot|0&&Ir(ot|0),o[s>>2]=o[tt>>2],o[tt>>2]=0,s|0}function PN(s,tt,ot,ft,gt){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0;var _t=0,Mt=0,Pt=0,kt=0;_t=yt,yt=yt+32|0,Pt=_t+16|0,Mt=_t+8|0,kt=_t,Pl(Mt),tt=rs(tt)|0,ot=d[ot>>0]|0,o[kt>>2]=o[ft>>2],gt=o[gt>>2]|0,o[Pt>>2]=o[kt>>2],zN(s,tt,ot,Pt,gt),Ll(Mt),yt=_t}function LN(s,tt,ot,ft,gt){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0;var _t=0,Mt=0,Pt=0,kt=0,zt=0;_t=yt,yt=yt+32|0,kt=_t+24|0,Mt=_t+16|0,zt=_t+12|0,Pt=_t,Pl(Mt),tt=rs(tt)|0,ot=d[ot>>0]|0,o[zt>>2]=o[ft>>2],hy(Pt,gt),o[kt>>2]=o[zt>>2],ON(s,tt,ot,kt,Pt),d0(Pt),Ll(Mt),yt=_t}function IN(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0;gt=yt,yt=yt+32|0,Mt=gt+16|0,_t=gt+8|0,Pt=gt,Pl(_t),tt=rs(tt)|0,ot=d[ot>>0]|0,o[Pt>>2]=o[ft>>2],o[Mt>>2]=o[Pt>>2],bN(s,tt,ot,Mt),Ll(_t),yt=gt}function bN(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0,Mt=0,Pt=0;gt=yt,yt=yt+16|0,_t=gt+4|0,Pt=gt,Mt=fs(kN()|0)|0,ot=Vm(ot)|0,o[Pt>>2]=o[ft>>2],o[_t>>2]=o[Pt>>2],O_(s,pr(0,Mt|0,tt|0,ot|0,Up(_t)|0)|0),yt=gt}function kN(){var s=0;return d[8e3]|0||(NN(10756),s=8e3,o[s>>2]=1,o[s+4>>2]=0),10756}function O_(s,tt){s=s|0,tt=tt|0,Nv(s,tt)}function NN(s){s=s|0,ga(s,DN()|0,2)}function DN(){return 1772}function ON(s,tt,ot,ft,gt){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0;var _t=0,Mt=0,Pt=0,kt=0,zt=0;_t=yt,yt=yt+32|0,kt=_t+16|0,zt=_t+12|0,Mt=_t,Pt=fs(FN()|0)|0,ot=Vm(ot)|0,o[zt>>2]=o[ft>>2],o[kt>>2]=o[zt>>2],ft=Up(kt)|0,o[Mt>>2]=o[gt>>2],kt=gt+4|0,o[Mt+4>>2]=o[kt>>2],zt=gt+8|0,o[Mt+8>>2]=o[zt>>2],o[zt>>2]=0,o[kt>>2]=0,o[gt>>2]=0,O_(s,yr(0,Pt|0,tt|0,ot|0,ft|0,gy(Mt)|0)|0),d0(Mt),yt=_t}function FN(){var s=0;return d[8008]|0||(BN(10768),s=8008,o[s>>2]=1,o[s+4>>2]=0),10768}function BN(s){s=s|0,ga(s,UN()|0,3)}function UN(){return 1784}function zN(s,tt,ot,ft,gt){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0;var _t=0,Mt=0,Pt=0,kt=0;_t=yt,yt=yt+16|0,Pt=_t+4|0,kt=_t,Mt=fs(VN()|0)|0,ot=Vm(ot)|0,o[kt>>2]=o[ft>>2],o[Pt>>2]=o[kt>>2],ft=Up(Pt)|0,O_(s,yr(0,Mt|0,tt|0,ot|0,ft|0,my(gt)|0)|0),yt=_t}function VN(){var s=0;return d[8016]|0||(GN(10780),s=8016,o[s>>2]=1,o[s+4>>2]=0),10780}function GN(s){s=s|0,ga(s,HN()|0,3)}function HN(){return 1800}function $N(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;ft=fs(WN()|0)|0,O_(s,br(0,ft|0,tt|0,Vm(ot)|0)|0)}function WN(){var s=0;return d[8024]|0||(jN(10792),s=8024,o[s>>2]=1,o[s+4>>2]=0),10792}function jN(s){s=s|0,ga(s,XN()|0,1)}function XN(){return 1816}function qN(){YN(),KN(),QN()}function YN(){o[2702]=iw(65536)|0}function KN(){_D(10856)}function QN(){ZN(10816)}function ZN(s){s=s|0,JN(s,5044),eD(s)|0}function JN(s,tt){s=s|0,tt=tt|0;var ot=0;ot=vS()|0,o[s>>2]=ot,fD(ot,tt),J0(o[s>>2]|0)}function eD(s){s=s|0;var tt=0;return tt=o[s>>2]|0,Fp(tt,tD()|0),s|0}function tD(){var s=0;return d[8032]|0||(LS(10820),Ur(64,10820,Lt|0)|0,s=8032,o[s>>2]=1,o[s+4>>2]=0),wr(10820)|0||LS(10820),10820}function LS(s){s=s|0,iD(s),Bp(s,25)}function nD(s){s=s|0,rD(s+24|0)}function rD(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~((tt+-8-ft|0)>>>3)<<3)),qn(ot))}function iD(s){s=s|0;var tt=0;tt=eo()|0,mo(s,5,18,tt,lD()|0,1),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function oD(s,tt){s=s|0,tt=tt|0,sD(s,tt)}function sD(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0;ot=yt,yt=yt+16|0,ft=ot,gt=ot+4|0,Dp(gt,tt),o[ft>>2]=Op(gt,tt)|0,aD(s,ft),yt=ot}function aD(s,tt){s=s|0,tt=tt|0,IS(s+4|0,o[tt>>2]|0),d[s+8>>0]=1}function IS(s,tt){s=s|0,tt=tt|0,o[s>>2]=tt}function lD(){return 1824}function uD(s){return s=s|0,cD(s)|0}function cD(s){s=s|0;var tt=0,ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0;return ot=yt,yt=yt+16|0,gt=ot+4|0,Mt=ot,ft=Rl(8)|0,tt=ft,Pt=Cr(4)|0,Dp(gt,s),IS(Pt,Op(gt,s)|0),_t=tt+4|0,o[_t>>2]=Pt,s=Cr(8)|0,_t=o[_t>>2]|0,o[Mt>>2]=0,o[gt>>2]=o[Mt>>2],yS(s,_t,gt),o[ft>>2]=s,yt=ot,tt|0}function Rl(s){s=s|0;var tt=0,ot=0;return s=s+7&-8,s>>>0<=32768&&(tt=o[2701]|0,s>>>0<=(65536-tt|0)>>>0)?(ot=(o[2702]|0)+tt|0,o[2701]=tt+s,s=ot):(s=iw(s+8|0)|0,o[s>>2]=o[2703],o[2703]=s,s=s+8|0),s|0}function fD(s,tt){s=s|0,tt=tt|0,o[s>>2]=dD()|0,o[s+4>>2]=hD()|0,o[s+12>>2]=tt,o[s+8>>2]=pD()|0,o[s+32>>2]=9}function dD(){return 11744}function hD(){return 1832}function pD(){return k_()|0}function mD(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,(Z0(ft,896)|0)==512?ot|0&&(gD(ot),qn(ot)):tt|0&&qn(tt)}function gD(s){s=s|0,s=o[s+4>>2]|0,s|0&&_f(s)}function _D(s){s=s|0,vD(s,5052),yD(s)|0,xD(s,5058,26)|0,SD(s,5069,1)|0,wD(s,5077,10)|0,MD(s,5087,19)|0,ED(s,5094,27)|0}function vD(s,tt){s=s|0,tt=tt|0;var ot=0;ot=gF()|0,o[s>>2]=ot,_F(ot,tt),J0(o[s>>2]|0)}function yD(s){s=s|0;var tt=0;return tt=o[s>>2]|0,Fp(tt,nF()|0),s|0}function xD(s,tt,ot){return s=s|0,tt=tt|0,ot=ot|0,BO(s,rn(tt)|0,ot,0),s|0}function SD(s,tt,ot){return s=s|0,tt=tt|0,ot=ot|0,MO(s,rn(tt)|0,ot,0),s|0}function wD(s,tt,ot){return s=s|0,tt=tt|0,ot=ot|0,tO(s,rn(tt)|0,ot,0),s|0}function MD(s,tt,ot){return s=s|0,tt=tt|0,ot=ot|0,zD(s,rn(tt)|0,ot,0),s|0}function bS(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;e:for(;;){for(ot=o[2703]|0;;){if((ot|0)==(tt|0))break e;if(ft=o[ot>>2]|0,o[2703]=ft,!ot)ot=ft;else break}qn(ot)}o[2701]=s}function ED(s,tt,ot){return s=s|0,tt=tt|0,ot=ot|0,TD(s,rn(tt)|0,ot,0),s|0}function TD(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0;_t=o[s>>2]|0,gt=vy()|0,s=AD(ot)|0,Mr(_t,tt,gt,s,CD(ot,ft)|0,ft)}function vy(){var s=0,tt=0;if(d[8040]|0||(NS(10860),Ur(65,10860,Lt|0)|0,tt=8040,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(10860)|0)){s=10860,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));NS(10860)}return 10860}function AD(s){return s=s|0,s|0}function CD(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0;return Pt=yt,yt=yt+16|0,gt=Pt,_t=Pt+4|0,o[gt>>2]=s,kt=vy()|0,Mt=kt+24|0,tt=Ar(tt,4)|0,o[_t>>2]=tt,ot=kt+28|0,ft=o[ot>>2]|0,ft>>>0<(o[kt+32>>2]|0)>>>0?(kS(ft,s,tt),tt=(o[ot>>2]|0)+8|0,o[ot>>2]=tt):(RD(Mt,gt,_t),tt=o[ot>>2]|0),yt=Pt,(tt-(o[Mt>>2]|0)>>3)+-1|0}function kS(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,o[s>>2]=tt,o[s+4>>2]=ot}function RD(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;if(Pt=yt,yt=yt+32|0,gt=Pt,_t=s+4|0,Mt=((o[_t>>2]|0)-(o[s>>2]|0)>>3)+1|0,ft=PD(s)|0,ft>>>0<Mt>>>0)_o(s);else{kt=o[s>>2]|0,Ut=(o[s+8>>2]|0)-kt|0,zt=Ut>>2,LD(gt,Ut>>3>>>0<ft>>>1>>>0?zt>>>0<Mt>>>0?Mt:zt:ft,(o[_t>>2]|0)-kt>>3,s+8|0),Mt=gt+8|0,kS(o[Mt>>2]|0,o[tt>>2]|0,o[ot>>2]|0),o[Mt>>2]=(o[Mt>>2]|0)+8,ID(s,gt),bD(gt),yt=Pt;return}}function PD(s){return s=s|0,536870911}function LD(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>536870911)ro();else{gt=Cr(tt<<3)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot<<3)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt<<3)}function ID(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(0-(gt>>3)<<3)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function bD(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~((ft+-8-tt|0)>>>3)<<3)),s=o[s>>2]|0,s|0&&qn(s)}function NS(s){s=s|0,DD(s)}function kD(s){s=s|0,ND(s+24|0)}function ND(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~((tt+-8-ft|0)>>>3)<<3)),qn(ot))}function DD(s){s=s|0;var tt=0;tt=eo()|0,mo(s,1,11,tt,OD()|0,2),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function OD(){return 1840}function FD(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,UD(o[(BD(s)|0)>>2]|0,tt,ot)}function BD(s){return s=s|0,(o[(vy()|0)+24>>2]|0)+(s<<3)|0}function UD(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0;ft=yt,yt=yt+16|0,_t=ft+1|0,gt=ft,Dp(_t,tt),tt=Op(_t,tt)|0,Dp(gt,ot),ot=Op(gt,ot)|0,p0[s&31](tt,ot),yt=ft}function zD(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0;_t=o[s>>2]|0,gt=yy()|0,s=VD(ot)|0,Mr(_t,tt,gt,s,GD(ot,ft)|0,ft)}function yy(){var s=0,tt=0;if(d[8048]|0||(OS(10896),Ur(66,10896,Lt|0)|0,tt=8048,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(10896)|0)){s=10896,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));OS(10896)}return 10896}function VD(s){return s=s|0,s|0}function GD(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0;return Pt=yt,yt=yt+16|0,gt=Pt,_t=Pt+4|0,o[gt>>2]=s,kt=yy()|0,Mt=kt+24|0,tt=Ar(tt,4)|0,o[_t>>2]=tt,ot=kt+28|0,ft=o[ot>>2]|0,ft>>>0<(o[kt+32>>2]|0)>>>0?(DS(ft,s,tt),tt=(o[ot>>2]|0)+8|0,o[ot>>2]=tt):(HD(Mt,gt,_t),tt=o[ot>>2]|0),yt=Pt,(tt-(o[Mt>>2]|0)>>3)+-1|0}function DS(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,o[s>>2]=tt,o[s+4>>2]=ot}function HD(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;if(Pt=yt,yt=yt+32|0,gt=Pt,_t=s+4|0,Mt=((o[_t>>2]|0)-(o[s>>2]|0)>>3)+1|0,ft=$D(s)|0,ft>>>0<Mt>>>0)_o(s);else{kt=o[s>>2]|0,Ut=(o[s+8>>2]|0)-kt|0,zt=Ut>>2,WD(gt,Ut>>3>>>0<ft>>>1>>>0?zt>>>0<Mt>>>0?Mt:zt:ft,(o[_t>>2]|0)-kt>>3,s+8|0),Mt=gt+8|0,DS(o[Mt>>2]|0,o[tt>>2]|0,o[ot>>2]|0),o[Mt>>2]=(o[Mt>>2]|0)+8,jD(s,gt),XD(gt),yt=Pt;return}}function $D(s){return s=s|0,536870911}function WD(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>536870911)ro();else{gt=Cr(tt<<3)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot<<3)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt<<3)}function jD(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(0-(gt>>3)<<3)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function XD(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~((ft+-8-tt|0)>>>3)<<3)),s=o[s>>2]|0,s|0&&qn(s)}function OS(s){s=s|0,KD(s)}function qD(s){s=s|0,YD(s+24|0)}function YD(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~((tt+-8-ft|0)>>>3)<<3)),qn(ot))}function KD(s){s=s|0;var tt=0;tt=eo()|0,mo(s,1,11,tt,QD()|0,1),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function QD(){return 1852}function ZD(s,tt){return s=s|0,tt=tt|0,eO(o[(JD(s)|0)>>2]|0,tt)|0}function JD(s){return s=s|0,(o[(yy()|0)+24>>2]|0)+(s<<3)|0}function eO(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;return ot=yt,yt=yt+16|0,ft=ot,Dp(ft,tt),tt=Op(ft,tt)|0,tt=I_(Hp[s&31](tt)|0)|0,yt=ot,tt|0}function tO(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0;_t=o[s>>2]|0,gt=xy()|0,s=nO(ot)|0,Mr(_t,tt,gt,s,rO(ot,ft)|0,ft)}function xy(){var s=0,tt=0;if(d[8056]|0||(US(10932),Ur(67,10932,Lt|0)|0,tt=8056,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(10932)|0)){s=10932,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));US(10932)}return 10932}function nO(s){return s=s|0,s|0}function rO(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0;return Pt=yt,yt=yt+16|0,gt=Pt,_t=Pt+4|0,o[gt>>2]=s,kt=xy()|0,Mt=kt+24|0,tt=Ar(tt,4)|0,o[_t>>2]=tt,ot=kt+28|0,ft=o[ot>>2]|0,ft>>>0<(o[kt+32>>2]|0)>>>0?(BS(ft,s,tt),tt=(o[ot>>2]|0)+8|0,o[ot>>2]=tt):(iO(Mt,gt,_t),tt=o[ot>>2]|0),yt=Pt,(tt-(o[Mt>>2]|0)>>3)+-1|0}function BS(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,o[s>>2]=tt,o[s+4>>2]=ot}function iO(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;if(Pt=yt,yt=yt+32|0,gt=Pt,_t=s+4|0,Mt=((o[_t>>2]|0)-(o[s>>2]|0)>>3)+1|0,ft=oO(s)|0,ft>>>0<Mt>>>0)_o(s);else{kt=o[s>>2]|0,Ut=(o[s+8>>2]|0)-kt|0,zt=Ut>>2,sO(gt,Ut>>3>>>0<ft>>>1>>>0?zt>>>0<Mt>>>0?Mt:zt:ft,(o[_t>>2]|0)-kt>>3,s+8|0),Mt=gt+8|0,BS(o[Mt>>2]|0,o[tt>>2]|0,o[ot>>2]|0),o[Mt>>2]=(o[Mt>>2]|0)+8,aO(s,gt),lO(gt),yt=Pt;return}}function oO(s){return s=s|0,536870911}function sO(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>536870911)ro();else{gt=Cr(tt<<3)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot<<3)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt<<3)}function aO(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(0-(gt>>3)<<3)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function lO(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~((ft+-8-tt|0)>>>3)<<3)),s=o[s>>2]|0,s|0&&qn(s)}function US(s){s=s|0,fO(s)}function uO(s){s=s|0,cO(s+24|0)}function cO(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~((tt+-8-ft|0)>>>3)<<3)),qn(ot))}function fO(s){s=s|0;var tt=0;tt=eo()|0,mo(s,1,7,tt,dO()|0,2),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function dO(){return 1860}function hO(s,tt,ot){return s=s|0,tt=tt|0,ot=ot|0,mO(o[(pO(s)|0)>>2]|0,tt,ot)|0}function pO(s){return s=s|0,(o[(xy()|0)+24>>2]|0)+(s<<3)|0}function mO(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0;return ft=yt,yt=yt+32|0,Mt=ft+12|0,_t=ft+8|0,Pt=ft,kt=ft+16|0,gt=ft+4|0,gO(kt,tt),_O(Pt,kt,tt),Y0(gt,ot),ot=K0(gt,ot)|0,o[Mt>>2]=o[Pt>>2],h2[s&15](_t,Mt,ot),ot=vO(_t)|0,r0(_t),Q0(gt),yt=ft,ot|0}function gO(s,tt){s=s|0,tt=tt|0}function _O(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,yO(s,ot)}function vO(s){return s=s|0,rs(s)|0}function yO(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0;gt=yt,yt=yt+16|0,ot=gt,ft=tt,ft&1?(xO(ot,0),gs(ft|0,ot|0)|0,SO(s,ot),wO(ot)):o[s>>2]=o[tt>>2],yt=gt}function xO(s,tt){s=s|0,tt=tt|0,kp(s,tt),o[s+4>>2]=0,d[s+8>>0]=0}function SO(s,tt){s=s|0,tt=tt|0,o[s>>2]=o[tt+4>>2]}function wO(s){s=s|0,d[s+8>>0]=0}function MO(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0;_t=o[s>>2]|0,gt=Sy()|0,s=EO(ot)|0,Mr(_t,tt,gt,s,TO(ot,ft)|0,ft)}function Sy(){var s=0,tt=0;if(d[8064]|0||(VS(10968),Ur(68,10968,Lt|0)|0,tt=8064,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(10968)|0)){s=10968,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));VS(10968)}return 10968}function EO(s){return s=s|0,s|0}function TO(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0;return Pt=yt,yt=yt+16|0,gt=Pt,_t=Pt+4|0,o[gt>>2]=s,kt=Sy()|0,Mt=kt+24|0,tt=Ar(tt,4)|0,o[_t>>2]=tt,ot=kt+28|0,ft=o[ot>>2]|0,ft>>>0<(o[kt+32>>2]|0)>>>0?(zS(ft,s,tt),tt=(o[ot>>2]|0)+8|0,o[ot>>2]=tt):(AO(Mt,gt,_t),tt=o[ot>>2]|0),yt=Pt,(tt-(o[Mt>>2]|0)>>3)+-1|0}function zS(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,o[s>>2]=tt,o[s+4>>2]=ot}function AO(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;if(Pt=yt,yt=yt+32|0,gt=Pt,_t=s+4|0,Mt=((o[_t>>2]|0)-(o[s>>2]|0)>>3)+1|0,ft=CO(s)|0,ft>>>0<Mt>>>0)_o(s);else{kt=o[s>>2]|0,Ut=(o[s+8>>2]|0)-kt|0,zt=Ut>>2,RO(gt,Ut>>3>>>0<ft>>>1>>>0?zt>>>0<Mt>>>0?Mt:zt:ft,(o[_t>>2]|0)-kt>>3,s+8|0),Mt=gt+8|0,zS(o[Mt>>2]|0,o[tt>>2]|0,o[ot>>2]|0),o[Mt>>2]=(o[Mt>>2]|0)+8,PO(s,gt),LO(gt),yt=Pt;return}}function CO(s){return s=s|0,536870911}function RO(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>536870911)ro();else{gt=Cr(tt<<3)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot<<3)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt<<3)}function PO(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(0-(gt>>3)<<3)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function LO(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~((ft+-8-tt|0)>>>3)<<3)),s=o[s>>2]|0,s|0&&qn(s)}function VS(s){s=s|0,kO(s)}function IO(s){s=s|0,bO(s+24|0)}function bO(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~((tt+-8-ft|0)>>>3)<<3)),qn(ot))}function kO(s){s=s|0;var tt=0;tt=eo()|0,mo(s,1,1,tt,NO()|0,5),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function NO(){return 1872}function DO(s,tt,ot,ft,gt,_t){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0,_t=_t|0,FO(o[(OO(s)|0)>>2]|0,tt,ot,ft,gt,_t)}function OO(s){return s=s|0,(o[(Sy()|0)+24>>2]|0)+(s<<3)|0}function FO(s,tt,ot,ft,gt,_t){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0,_t=_t|0;var Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0;Mt=yt,yt=yt+32|0,Pt=Mt+16|0,kt=Mt+12|0,zt=Mt+8|0,Ut=Mt+4|0,Ht=Mt,Y0(Pt,tt),tt=K0(Pt,tt)|0,Y0(kt,ot),ot=K0(kt,ot)|0,Y0(zt,ft),ft=K0(zt,ft)|0,Y0(Ut,gt),gt=K0(Ut,gt)|0,Y0(Ht,_t),_t=K0(Ht,_t)|0,uw[s&1](tt,ot,ft,gt,_t),Q0(Ht),Q0(Ut),Q0(zt),Q0(kt),Q0(Pt),yt=Mt}function BO(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0;_t=o[s>>2]|0,gt=wy()|0,s=UO(ot)|0,Mr(_t,tt,gt,s,zO(ot,ft)|0,ft)}function wy(){var s=0,tt=0;if(d[8072]|0||(HS(11004),Ur(69,11004,Lt|0)|0,tt=8072,o[tt>>2]=1,o[tt+4>>2]=0),!(wr(11004)|0)){s=11004,tt=s+36|0;do o[s>>2]=0,s=s+4|0;while((s|0)<(tt|0));HS(11004)}return 11004}function UO(s){return s=s|0,s|0}function zO(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0;return Pt=yt,yt=yt+16|0,gt=Pt,_t=Pt+4|0,o[gt>>2]=s,kt=wy()|0,Mt=kt+24|0,tt=Ar(tt,4)|0,o[_t>>2]=tt,ot=kt+28|0,ft=o[ot>>2]|0,ft>>>0<(o[kt+32>>2]|0)>>>0?(GS(ft,s,tt),tt=(o[ot>>2]|0)+8|0,o[ot>>2]=tt):(VO(Mt,gt,_t),tt=o[ot>>2]|0),yt=Pt,(tt-(o[Mt>>2]|0)>>3)+-1|0}function GS(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,o[s>>2]=tt,o[s+4>>2]=ot}function VO(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0;if(Pt=yt,yt=yt+32|0,gt=Pt,_t=s+4|0,Mt=((o[_t>>2]|0)-(o[s>>2]|0)>>3)+1|0,ft=GO(s)|0,ft>>>0<Mt>>>0)_o(s);else{kt=o[s>>2]|0,Ut=(o[s+8>>2]|0)-kt|0,zt=Ut>>2,HO(gt,Ut>>3>>>0<ft>>>1>>>0?zt>>>0<Mt>>>0?Mt:zt:ft,(o[_t>>2]|0)-kt>>3,s+8|0),Mt=gt+8|0,GS(o[Mt>>2]|0,o[tt>>2]|0,o[ot>>2]|0),o[Mt>>2]=(o[Mt>>2]|0)+8,$O(s,gt),WO(gt),yt=Pt;return}}function GO(s){return s=s|0,536870911}function HO(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0;o[s+12>>2]=0,o[s+16>>2]=ft;do if(tt)if(tt>>>0>536870911)ro();else{gt=Cr(tt<<3)|0;break}else gt=0;while(0);o[s>>2]=gt,ft=gt+(ot<<3)|0,o[s+8>>2]=ft,o[s+4>>2]=ft,o[s+12>>2]=gt+(tt<<3)}function $O(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0,gt=0,_t=0,Mt=0;ft=o[s>>2]|0,Mt=s+4|0,_t=tt+4|0,gt=(o[Mt>>2]|0)-ft|0,ot=(o[_t>>2]|0)+(0-(gt>>3)<<3)|0,o[_t>>2]=ot,(gt|0)>0?(Zr(ot|0,ft|0,gt|0)|0,ft=_t,ot=o[_t>>2]|0):ft=_t,_t=o[s>>2]|0,o[s>>2]=ot,o[ft>>2]=_t,_t=tt+8|0,gt=o[Mt>>2]|0,o[Mt>>2]=o[_t>>2],o[_t>>2]=gt,_t=s+8|0,Mt=tt+12|0,s=o[_t>>2]|0,o[_t>>2]=o[Mt>>2],o[Mt>>2]=s,o[tt>>2]=o[ft>>2]}function WO(s){s=s|0;var tt=0,ot=0,ft=0;tt=o[s+4>>2]|0,ot=s+8|0,ft=o[ot>>2]|0,(ft|0)!=(tt|0)&&(o[ot>>2]=ft+(~((ft+-8-tt|0)>>>3)<<3)),s=o[s>>2]|0,s|0&&qn(s)}function HS(s){s=s|0,qO(s)}function jO(s){s=s|0,XO(s+24|0)}function XO(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~((tt+-8-ft|0)>>>3)<<3)),qn(ot))}function qO(s){s=s|0;var tt=0;tt=eo()|0,mo(s,1,12,tt,YO()|0,2),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function YO(){return 1896}function KO(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,ZO(o[(QO(s)|0)>>2]|0,tt,ot)}function QO(s){return s=s|0,(o[(wy()|0)+24>>2]|0)+(s<<3)|0}function ZO(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0;ft=yt,yt=yt+16|0,_t=ft+4|0,gt=ft,JO(_t,tt),tt=eF(_t,tt)|0,Y0(gt,ot),ot=K0(gt,ot)|0,p0[s&31](tt,ot),Q0(gt),yt=ft}function JO(s,tt){s=s|0,tt=tt|0}function eF(s,tt){return s=s|0,tt=tt|0,tF(tt)|0}function tF(s){return s=s|0,s|0}function nF(){var s=0;return d[8080]|0||($S(11040),Ur(70,11040,Lt|0)|0,s=8080,o[s>>2]=1,o[s+4>>2]=0),wr(11040)|0||$S(11040),11040}function $S(s){s=s|0,oF(s),Bp(s,71)}function rF(s){s=s|0,iF(s+24|0)}function iF(s){s=s|0;var tt=0,ot=0,ft=0;ot=o[s>>2]|0,ft=ot,ot|0&&(s=s+4|0,tt=o[s>>2]|0,(tt|0)!=(ot|0)&&(o[s>>2]=tt+(~((tt+-8-ft|0)>>>3)<<3)),qn(ot))}function oF(s){s=s|0;var tt=0;tt=eo()|0,mo(s,5,7,tt,uF()|0,0),o[s+24>>2]=0,o[s+28>>2]=0,o[s+32>>2]=0}function sF(s){s=s|0,aF(s)}function aF(s){s=s|0,lF(s)}function lF(s){s=s|0,d[s+8>>0]=1}function uF(){return 1936}function cF(){return fF()|0}function fF(){var s=0,tt=0,ot=0,ft=0,gt=0,_t=0,Mt=0;return tt=yt,yt=yt+16|0,gt=tt+4|0,Mt=tt,ot=Rl(8)|0,s=ot,_t=s+4|0,o[_t>>2]=Cr(1)|0,ft=Cr(8)|0,_t=o[_t>>2]|0,o[Mt>>2]=0,o[gt>>2]=o[Mt>>2],dF(ft,_t,gt),o[ot>>2]=ft,yt=tt,s|0}function dF(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,o[s>>2]=tt,ot=Cr(16)|0,o[ot+4>>2]=0,o[ot+8>>2]=0,o[ot>>2]=1916,o[ot+12>>2]=tt,o[s+4>>2]=ot}function hF(s){s=s|0,$m(s),qn(s)}function pF(s){s=s|0,s=o[s+12>>2]|0,s|0&&qn(s)}function mF(s){s=s|0,qn(s)}function gF(){var s=0;return d[8088]|0||(MF(11076),Ur(25,11076,Lt|0)|0,s=8088,o[s>>2]=1,o[s+4>>2]=0),11076}function _F(s,tt){s=s|0,tt=tt|0,o[s>>2]=vF()|0,o[s+4>>2]=yF()|0,o[s+12>>2]=tt,o[s+8>>2]=xF()|0,o[s+32>>2]=10}function vF(){return 11745}function yF(){return 1940}function xF(){return b_()|0}function SF(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,(Z0(ft,896)|0)==512?ot|0&&(wF(ot),qn(ot)):tt|0&&qn(tt)}function wF(s){s=s|0,s=o[s+4>>2]|0,s|0&&_f(s)}function MF(s){s=s|0,q0(s)}function du(s,tt){s=s|0,tt=tt|0,o[s>>2]=tt}function My(s){return s=s|0,o[s>>2]|0}function EF(s){return s=s|0,d[o[s>>2]>>0]|0}function TF(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;ot=yt,yt=yt+16|0,ft=ot,o[ft>>2]=o[s>>2],AF(tt,ft)|0,yt=ot}function AF(s,tt){s=s|0,tt=tt|0;var ot=0;return ot=CF(o[s>>2]|0,tt)|0,tt=s+4|0,o[(o[tt>>2]|0)+8>>2]=ot,o[(o[tt>>2]|0)+8>>2]|0}function CF(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;return ot=yt,yt=yt+16|0,ft=ot,Pl(ft),s=rs(s)|0,tt=RF(s,o[tt>>2]|0)|0,Ll(ft),yt=ot,tt|0}function Pl(s){s=s|0,o[s>>2]=o[2701],o[s+4>>2]=o[2703]}function RF(s,tt){s=s|0,tt=tt|0;var ot=0;return ot=fs(PF()|0)|0,br(0,ot|0,s|0,my(tt)|0)|0}function Ll(s){s=s|0,bS(o[s>>2]|0,o[s+4>>2]|0)}function PF(){var s=0;return d[8096]|0||(LF(11120),s=8096,o[s>>2]=1,o[s+4>>2]=0),11120}function LF(s){s=s|0,ga(s,IF()|0,1)}function IF(){return 1948}function bF(){kF()}function kF(){var s=0,tt=0,ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0,yn=0,fn=0,ln=0;if(fn=yt,yt=yt+16|0,Ut=fn+4|0,Ht=fn,js(65536,10804,o[2702]|0,10812),ot=dS()|0,tt=o[ot>>2]|0,s=o[tt>>2]|0,s|0)for(ft=o[ot+8>>2]|0,ot=o[ot+4>>2]|0;xu(s|0,ht[ot>>0]|0|0,d[ft>>0]|0),tt=tt+4|0,s=o[tt>>2]|0,s;)ft=ft+1|0,ot=ot+1|0;if(s=hS()|0,tt=o[s>>2]|0,tt|0)do Su(tt|0,o[s+4>>2]|0),s=s+8|0,tt=o[s>>2]|0;while(tt|0);Su(NF()|0,5167),zt=Um()|0,s=o[zt>>2]|0;e:do if(s|0){do DF(o[s+4>>2]|0),s=o[s>>2]|0;while(s|0);if(s=o[zt>>2]|0,s|0){kt=zt;do{for(;gt=s,s=o[s>>2]|0,gt=o[gt+4>>2]|0,!!(OF(gt)|0);)if(o[Ht>>2]=kt,o[Ut>>2]=o[Ht>>2],FF(zt,Ut)|0,!s)break e;if(BF(gt),kt=o[kt>>2]|0,tt=WS(gt)|0,_t=en()|0,Mt=yt,yt=yt+((1*(tt<<2)|0)+15&-16)|0,Pt=yt,yt=yt+((1*(tt<<2)|0)+15&-16)|0,tt=o[(AS(gt)|0)>>2]|0,tt|0)for(ot=Mt,ft=Pt;o[ot>>2]=o[(zm(o[tt+4>>2]|0)|0)>>2],o[ft>>2]=o[tt+8>>2],tt=o[tt>>2]|0,tt;)ot=ot+4|0,ft=ft+4|0;ln=zm(gt)|0,tt=UF(gt)|0,ot=WS(gt)|0,ft=zF(gt)|0,tm(ln|0,tt|0,Mt|0,Pt|0,ot|0,ft|0,ly(gt)|0),Es(_t|0)}while(s|0)}}while(0);if(s=o[(uy()|0)>>2]|0,s|0)do ln=s+4|0,zt=cy(ln)|0,gt=u2(zt)|0,_t=a2(zt)|0,Mt=(l2(zt)|0)+1|0,Pt=F_(zt)|0,kt=jS(ln)|0,zt=wr(zt)|0,Ut=N_(ln)|0,Ht=Ey(ln)|0,R0(0,gt|0,_t|0,Mt|0,Pt|0,kt|0,zt|0,Ut|0,Ht|0,Ty(ln)|0),s=o[s>>2]|0;while(s|0);s=o[(Um()|0)>>2]|0;e:do if(s|0){t:for(;;){if(tt=o[s+4>>2]|0,tt|0&&(Zt=o[(zm(tt)|0)>>2]|0,yn=o[(CS(tt)|0)>>2]|0,yn|0)){ot=yn;do{tt=ot+4|0,ft=cy(tt)|0;n:do if(ft|0)switch(wr(ft)|0){case 0:break t;case 4:case 3:case 2:{Pt=u2(ft)|0,kt=a2(ft)|0,zt=(l2(ft)|0)+1|0,Ut=F_(ft)|0,Ht=wr(ft)|0,ln=N_(tt)|0,R0(Zt|0,Pt|0,kt|0,zt|0,Ut|0,0,Ht|0,ln|0,Ey(tt)|0,Ty(tt)|0);break n}case 1:{Mt=u2(ft)|0,Pt=a2(ft)|0,kt=(l2(ft)|0)+1|0,zt=F_(ft)|0,Ut=jS(tt)|0,Ht=wr(ft)|0,ln=N_(tt)|0,R0(Zt|0,Mt|0,Pt|0,kt|0,zt|0,Ut|0,Ht|0,ln|0,Ey(tt)|0,Ty(tt)|0);break n}case 5:{zt=u2(ft)|0,Ut=a2(ft)|0,Ht=(l2(ft)|0)+1|0,ln=F_(ft)|0,R0(Zt|0,zt|0,Ut|0,Ht|0,ln|0,VF(ft)|0,wr(ft)|0,0,0,0);break n}default:break n}while(0);ot=o[ot>>2]|0}while(ot|0)}if(s=o[s>>2]|0,!s)break e}ro()}while(0);a1(),yt=fn}function NF(){return 11703}function DF(s){s=s|0,d[s+40>>0]=0}function OF(s){return s=s|0,(d[s+40>>0]|0)!=0|0}function FF(s,tt){return s=s|0,tt=tt|0,tt=GF(tt)|0,s=o[tt>>2]|0,o[tt>>2]=o[s>>2],qn(s),o[tt>>2]|0}function BF(s){s=s|0,d[s+40>>0]=1}function WS(s){return s=s|0,o[s+20>>2]|0}function UF(s){return s=s|0,o[s+8>>2]|0}function zF(s){return s=s|0,o[s+32>>2]|0}function F_(s){return s=s|0,o[s+4>>2]|0}function jS(s){return s=s|0,o[s+4>>2]|0}function Ey(s){return s=s|0,o[s+8>>2]|0}function Ty(s){return s=s|0,o[s+16>>2]|0}function VF(s){return s=s|0,o[s+20>>2]|0}function GF(s){return s=s|0,o[s>>2]|0}function B_(s){s=s|0;var tt=0,ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0,yn=0,fn=0,ln=0,bn=0,Rn=0,zn=0,mn=0,vn=0,mr=0;mr=yt,yt=yt+16|0,Zt=mr;do if(s>>>0<245){if(zt=s>>>0<11?16:s+11&-8,s=zt>>>3,Ht=o[2783]|0,ot=Ht>>>s,ot&3|0)return tt=(ot&1^1)+s|0,s=11172+(tt<<1<<2)|0,ot=s+8|0,ft=o[ot>>2]|0,gt=ft+8|0,_t=o[gt>>2]|0,(s|0)==(_t|0)?o[2783]=Ht&~(1<<tt):(o[_t+12>>2]=s,o[ot>>2]=_t),vn=tt<<3,o[ft+4>>2]=vn|3,vn=ft+vn+4|0,o[vn>>2]=o[vn>>2]|1,vn=gt,yt=mr,vn|0;if(Ut=o[2785]|0,zt>>>0>Ut>>>0){if(ot|0)return tt=2<<s,tt=ot<<s&(tt|0-tt),tt=(tt&0-tt)+-1|0,Mt=tt>>>12&16,tt=tt>>>Mt,ot=tt>>>5&8,tt=tt>>>ot,gt=tt>>>2&4,tt=tt>>>gt,s=tt>>>1&2,tt=tt>>>s,ft=tt>>>1&1,ft=(ot|Mt|gt|s|ft)+(tt>>>ft)|0,tt=11172+(ft<<1<<2)|0,s=tt+8|0,gt=o[s>>2]|0,Mt=gt+8|0,ot=o[Mt>>2]|0,(tt|0)==(ot|0)?(s=Ht&~(1<<ft),o[2783]=s):(o[ot+12>>2]=tt,o[s>>2]=ot,s=Ht),_t=(ft<<3)-zt|0,o[gt+4>>2]=zt|3,ft=gt+zt|0,o[ft+4>>2]=_t|1,o[ft+_t>>2]=_t,Ut|0&&(gt=o[2788]|0,tt=Ut>>>3,ot=11172+(tt<<1<<2)|0,tt=1<<tt,s&tt?(s=ot+8|0,tt=o[s>>2]|0):(o[2783]=s|tt,tt=ot,s=ot+8|0),o[s>>2]=gt,o[tt+12>>2]=gt,o[gt+8>>2]=tt,o[gt+12>>2]=ot),o[2785]=_t,o[2788]=ft,vn=Mt,yt=mr,vn|0;if(Pt=o[2784]|0,Pt){if(ot=(Pt&0-Pt)+-1|0,Mt=ot>>>12&16,ot=ot>>>Mt,_t=ot>>>5&8,ot=ot>>>_t,kt=ot>>>2&4,ot=ot>>>kt,ft=ot>>>1&2,ot=ot>>>ft,s=ot>>>1&1,s=o[11436+((_t|Mt|kt|ft|s)+(ot>>>s)<<2)>>2]|0,ot=(o[s+4>>2]&-8)-zt|0,ft=o[s+16+(((o[s+16>>2]|0)==0&1)<<2)>>2]|0,!ft)kt=s,_t=ot;else{do Mt=(o[ft+4>>2]&-8)-zt|0,kt=Mt>>>0<ot>>>0,ot=kt?Mt:ot,s=kt?ft:s,ft=o[ft+16+(((o[ft+16>>2]|0)==0&1)<<2)>>2]|0;while(ft|0);kt=s,_t=ot}if(Mt=kt+zt|0,kt>>>0<Mt>>>0){gt=o[kt+24>>2]|0,tt=o[kt+12>>2]|0;do if((tt|0)==(kt|0)){if(s=kt+20|0,tt=o[s>>2]|0,!tt&&(s=kt+16|0,tt=o[s>>2]|0,!tt)){ot=0;break}for(;;){if(ot=tt+20|0,ft=o[ot>>2]|0,ft|0){tt=ft,s=ot;continue}if(ot=tt+16|0,ft=o[ot>>2]|0,ft)tt=ft,s=ot;else break}o[s>>2]=0,ot=tt}else ot=o[kt+8>>2]|0,o[ot+12>>2]=tt,o[tt+8>>2]=ot,ot=tt;while(0);do if(gt|0){if(tt=o[kt+28>>2]|0,s=11436+(tt<<2)|0,(kt|0)==(o[s>>2]|0)){if(o[s>>2]=ot,!ot){o[2784]=Pt&~(1<<tt);break}}else if(o[gt+16+(((o[gt+16>>2]|0)!=(kt|0)&1)<<2)>>2]=ot,!ot)break;o[ot+24>>2]=gt,tt=o[kt+16>>2]|0,tt|0&&(o[ot+16>>2]=tt,o[tt+24>>2]=ot),tt=o[kt+20>>2]|0,tt|0&&(o[ot+20>>2]=tt,o[tt+24>>2]=ot)}while(0);return _t>>>0<16?(vn=_t+zt|0,o[kt+4>>2]=vn|3,vn=kt+vn+4|0,o[vn>>2]=o[vn>>2]|1):(o[kt+4>>2]=zt|3,o[Mt+4>>2]=_t|1,o[Mt+_t>>2]=_t,Ut|0&&(ft=o[2788]|0,tt=Ut>>>3,ot=11172+(tt<<1<<2)|0,tt=1<<tt,Ht&tt?(s=ot+8|0,tt=o[s>>2]|0):(o[2783]=Ht|tt,tt=ot,s=ot+8|0),o[s>>2]=ft,o[tt+12>>2]=ft,o[ft+8>>2]=tt,o[ft+12>>2]=ot),o[2785]=_t,o[2788]=Mt),vn=kt+8|0,yt=mr,vn|0}else Ht=zt}else Ht=zt}else Ht=zt}else if(s>>>0<=4294967231)if(s=s+11|0,zt=s&-8,kt=o[2784]|0,kt){ft=0-zt|0,s=s>>>8,s?zt>>>0>16777215?Pt=31:(Ht=(s+1048320|0)>>>16&8,mn=s<<Ht,Ut=(mn+520192|0)>>>16&4,mn=mn<<Ut,Pt=(mn+245760|0)>>>16&2,Pt=14-(Ut|Ht|Pt)+(mn<<Pt>>>15)|0,Pt=zt>>>(Pt+7|0)&1|Pt<<1):Pt=0,ot=o[11436+(Pt<<2)>>2]|0;e:do if(!ot)ot=0,s=0,mn=57;else for(s=0,Mt=zt<<((Pt|0)==31?0:25-(Pt>>>1)|0),_t=0;;){if(gt=(o[ot+4>>2]&-8)-zt|0,gt>>>0<ft>>>0)if(gt)s=ot,ft=gt;else{s=ot,ft=0,gt=ot,mn=61;break e}if(gt=o[ot+20>>2]|0,ot=o[ot+16+(Mt>>>31<<2)>>2]|0,_t=(gt|0)==0|(gt|0)==(ot|0)?_t:gt,gt=(ot|0)==0,gt){ot=_t,mn=57;break}else Mt=Mt<<((gt^1)&1)}while(0);if((mn|0)==57){if((ot|0)==0&(s|0)==0){if(s=2<<Pt,s=kt&(s|0-s),!s){Ht=zt;break}Ht=(s&0-s)+-1|0,Mt=Ht>>>12&16,Ht=Ht>>>Mt,_t=Ht>>>5&8,Ht=Ht>>>_t,Pt=Ht>>>2&4,Ht=Ht>>>Pt,Ut=Ht>>>1&2,Ht=Ht>>>Ut,ot=Ht>>>1&1,s=0,ot=o[11436+((_t|Mt|Pt|Ut|ot)+(Ht>>>ot)<<2)>>2]|0}ot?(gt=ot,mn=61):(Pt=s,Mt=ft)}if((mn|0)==61)for(;;)if(mn=0,ot=(o[gt+4>>2]&-8)-zt|0,Ht=ot>>>0<ft>>>0,ot=Ht?ot:ft,s=Ht?gt:s,gt=o[gt+16+(((o[gt+16>>2]|0)==0&1)<<2)>>2]|0,gt)ft=ot,mn=61;else{Pt=s,Mt=ot;break}if(Pt|0&&Mt>>>0<((o[2785]|0)-zt|0)>>>0){if(_t=Pt+zt|0,Pt>>>0>=_t>>>0)return vn=0,yt=mr,vn|0;gt=o[Pt+24>>2]|0,tt=o[Pt+12>>2]|0;do if((tt|0)==(Pt|0)){if(s=Pt+20|0,tt=o[s>>2]|0,!tt&&(s=Pt+16|0,tt=o[s>>2]|0,!tt)){tt=0;break}for(;;){if(ot=tt+20|0,ft=o[ot>>2]|0,ft|0){tt=ft,s=ot;continue}if(ot=tt+16|0,ft=o[ot>>2]|0,ft)tt=ft,s=ot;else break}o[s>>2]=0}else vn=o[Pt+8>>2]|0,o[vn+12>>2]=tt,o[tt+8>>2]=vn;while(0);do if(gt){if(s=o[Pt+28>>2]|0,ot=11436+(s<<2)|0,(Pt|0)==(o[ot>>2]|0)){if(o[ot>>2]=tt,!tt){ft=kt&~(1<<s),o[2784]=ft;break}}else if(o[gt+16+(((o[gt+16>>2]|0)!=(Pt|0)&1)<<2)>>2]=tt,!tt){ft=kt;break}o[tt+24>>2]=gt,s=o[Pt+16>>2]|0,s|0&&(o[tt+16>>2]=s,o[s+24>>2]=tt),s=o[Pt+20>>2]|0,s&&(o[tt+20>>2]=s,o[s+24>>2]=tt),ft=kt}else ft=kt;while(0);do if(Mt>>>0>=16){if(o[Pt+4>>2]=zt|3,o[_t+4>>2]=Mt|1,o[_t+Mt>>2]=Mt,tt=Mt>>>3,Mt>>>0<256){ot=11172+(tt<<1<<2)|0,s=o[2783]|0,tt=1<<tt,s&tt?(s=ot+8|0,tt=o[s>>2]|0):(o[2783]=s|tt,tt=ot,s=ot+8|0),o[s>>2]=_t,o[tt+12>>2]=_t,o[_t+8>>2]=tt,o[_t+12>>2]=ot;break}if(tt=Mt>>>8,tt?Mt>>>0>16777215?tt=31:(mn=(tt+1048320|0)>>>16&8,vn=tt<<mn,zn=(vn+520192|0)>>>16&4,vn=vn<<zn,tt=(vn+245760|0)>>>16&2,tt=14-(zn|mn|tt)+(vn<<tt>>>15)|0,tt=Mt>>>(tt+7|0)&1|tt<<1):tt=0,ot=11436+(tt<<2)|0,o[_t+28>>2]=tt,s=_t+16|0,o[s+4>>2]=0,o[s>>2]=0,s=1<<tt,!(ft&s)){o[2784]=ft|s,o[ot>>2]=_t,o[_t+24>>2]=ot,o[_t+12>>2]=_t,o[_t+8>>2]=_t;break}for(s=Mt<<((tt|0)==31?0:25-(tt>>>1)|0),ot=o[ot>>2]|0;;){if((o[ot+4>>2]&-8|0)==(Mt|0)){mn=97;break}if(ft=ot+16+(s>>>31<<2)|0,tt=o[ft>>2]|0,tt)s=s<<1,ot=tt;else{mn=96;break}}if((mn|0)==96){o[ft>>2]=_t,o[_t+24>>2]=ot,o[_t+12>>2]=_t,o[_t+8>>2]=_t;break}else if((mn|0)==97){mn=ot+8|0,vn=o[mn>>2]|0,o[vn+12>>2]=_t,o[mn>>2]=_t,o[_t+8>>2]=vn,o[_t+12>>2]=ot,o[_t+24>>2]=0;break}}else vn=Mt+zt|0,o[Pt+4>>2]=vn|3,vn=Pt+vn+4|0,o[vn>>2]=o[vn>>2]|1;while(0);return vn=Pt+8|0,yt=mr,vn|0}else Ht=zt}else Ht=zt;else Ht=-1;while(0);if(ot=o[2785]|0,ot>>>0>=Ht>>>0)return tt=ot-Ht|0,s=o[2788]|0,tt>>>0>15?(vn=s+Ht|0,o[2788]=vn,o[2785]=tt,o[vn+4>>2]=tt|1,o[vn+tt>>2]=tt,o[s+4>>2]=Ht|3):(o[2785]=0,o[2788]=0,o[s+4>>2]=ot|3,vn=s+ot+4|0,o[vn>>2]=o[vn>>2]|1),vn=s+8|0,yt=mr,vn|0;if(Mt=o[2786]|0,Mt>>>0>Ht>>>0)return zn=Mt-Ht|0,o[2786]=zn,vn=o[2789]|0,mn=vn+Ht|0,o[2789]=mn,o[mn+4>>2]=zn|1,o[vn+4>>2]=Ht|3,vn=vn+8|0,yt=mr,vn|0;if(o[2901]|0?s=o[2903]|0:(o[2903]=4096,o[2902]=4096,o[2904]=-1,o[2905]=-1,o[2906]=0,o[2894]=0,s=Zt&-16^1431655768,o[Zt>>2]=s,o[2901]=s,s=4096),Pt=Ht+48|0,kt=Ht+47|0,_t=s+kt|0,gt=0-s|0,zt=_t&gt,zt>>>0<=Ht>>>0||(s=o[2893]|0,s|0&&(Ut=o[2891]|0,Zt=Ut+zt|0,Zt>>>0<=Ut>>>0|Zt>>>0>s>>>0)))return vn=0,yt=mr,vn|0;e:do if(o[2894]&4)tt=0,mn=133;else{ot=o[2789]|0;t:do if(ot){for(ft=11580;s=o[ft>>2]|0,!(s>>>0<=ot>>>0&&(ln=ft+4|0,(s+(o[ln>>2]|0)|0)>>>0>ot>>>0));)if(s=o[ft+8>>2]|0,s)ft=s;else{mn=118;break t}if(tt=_t-Mt&gt,tt>>>0<2147483647)if(s=_d(tt|0)|0,(s|0)==((o[ft>>2]|0)+(o[ln>>2]|0)|0)){if((s|0)!=-1){Mt=tt,_t=s,mn=135;break e}}else ft=s,mn=126;else tt=0}else mn=118;while(0);do if((mn|0)==118)if(ot=_d(0)|0,(ot|0)!=-1&&(tt=ot,yn=o[2902]|0,fn=yn+-1|0,tt=(fn&tt|0?(fn+tt&0-yn)-tt|0:0)+zt|0,yn=o[2891]|0,fn=tt+yn|0,tt>>>0>Ht>>>0&tt>>>0<2147483647)){if(ln=o[2893]|0,ln|0&&fn>>>0<=yn>>>0|fn>>>0>ln>>>0){tt=0;break}if(s=_d(tt|0)|0,(s|0)==(ot|0)){Mt=tt,_t=ot,mn=135;break e}else ft=s,mn=126}else tt=0;while(0);do if((mn|0)==126){if(ot=0-tt|0,!(Pt>>>0>tt>>>0&(tt>>>0<2147483647&(ft|0)!=-1)))if((ft|0)==-1){tt=0;break}else{Mt=tt,_t=ft,mn=135;break e}if(s=o[2903]|0,s=kt-tt+s&0-s,s>>>0>=2147483647){Mt=tt,_t=ft,mn=135;break e}if((_d(s|0)|0)==-1){_d(ot|0)|0,tt=0;break}else{Mt=s+tt|0,_t=ft,mn=135;break e}}while(0);o[2894]=o[2894]|4,mn=133}while(0);if((mn|0)==133&&zt>>>0<2147483647&&(zn=_d(zt|0)|0,ln=_d(0)|0,bn=ln-zn|0,Rn=bn>>>0>(Ht+40|0)>>>0,!((zn|0)==-1|Rn^1|zn>>>0<ln>>>0&((zn|0)!=-1&(ln|0)!=-1)^1))&&(Mt=Rn?bn:tt,_t=zn,mn=135),(mn|0)==135){tt=(o[2891]|0)+Mt|0,o[2891]=tt,tt>>>0>(o[2892]|0)>>>0&&(o[2892]=tt),kt=o[2789]|0;do if(kt){for(tt=11580;;){if(s=o[tt>>2]|0,ot=tt+4|0,ft=o[ot>>2]|0,(_t|0)==(s+ft|0)){mn=145;break}if(gt=o[tt+8>>2]|0,gt)tt=gt;else break}if((mn|0)==145&&!(o[tt+12>>2]&8|0)&&kt>>>0<_t>>>0&kt>>>0>=s>>>0){o[ot>>2]=ft+Mt,vn=kt+8|0,vn=vn&7|0?0-vn&7:0,mn=kt+vn|0,vn=(o[2786]|0)+(Mt-vn)|0,o[2789]=mn,o[2786]=vn,o[mn+4>>2]=vn|1,o[mn+vn+4>>2]=40,o[2790]=o[2905];break}for(_t>>>0<(o[2787]|0)>>>0&&(o[2787]=_t),ot=_t+Mt|0,tt=11580;;){if((o[tt>>2]|0)==(ot|0)){mn=153;break}if(s=o[tt+8>>2]|0,s)tt=s;else break}if((mn|0)==153&&!(o[tt+12>>2]&8|0)){o[tt>>2]=_t,Ut=tt+4|0,o[Ut>>2]=(o[Ut>>2]|0)+Mt,Ut=_t+8|0,Ut=_t+(Ut&7|0?0-Ut&7:0)|0,tt=ot+8|0,tt=ot+(tt&7|0?0-tt&7:0)|0,zt=Ut+Ht|0,Pt=tt-Ut-Ht|0,o[Ut+4>>2]=Ht|3;do if((tt|0)!=(kt|0)){if((tt|0)==(o[2788]|0)){vn=(o[2785]|0)+Pt|0,o[2785]=vn,o[2788]=zt,o[zt+4>>2]=vn|1,o[zt+vn>>2]=vn;break}if(s=o[tt+4>>2]|0,(s&3|0)==1){Mt=s&-8,ft=s>>>3;e:do if(s>>>0<256)if(s=o[tt+8>>2]|0,ot=o[tt+12>>2]|0,(ot|0)==(s|0)){o[2783]=o[2783]&~(1<<ft);break}else{o[s+12>>2]=ot,o[ot+8>>2]=s;break}else{_t=o[tt+24>>2]|0,s=o[tt+12>>2]|0;do if((s|0)==(tt|0)){if(ft=tt+16|0,ot=ft+4|0,s=o[ot>>2]|0,!s)if(s=o[ft>>2]|0,s)ot=ft;else{s=0;break}for(;;){if(ft=s+20|0,gt=o[ft>>2]|0,gt|0){s=gt,ot=ft;continue}if(ft=s+16|0,gt=o[ft>>2]|0,gt)s=gt,ot=ft;else break}o[ot>>2]=0}else vn=o[tt+8>>2]|0,o[vn+12>>2]=s,o[s+8>>2]=vn;while(0);if(!_t)break;ot=o[tt+28>>2]|0,ft=11436+(ot<<2)|0;do if((tt|0)!=(o[ft>>2]|0)){if(o[_t+16+(((o[_t+16>>2]|0)!=(tt|0)&1)<<2)>>2]=s,!s)break e}else{if(o[ft>>2]=s,s|0)break;o[2784]=o[2784]&~(1<<ot);break e}while(0);if(o[s+24>>2]=_t,ot=tt+16|0,ft=o[ot>>2]|0,ft|0&&(o[s+16>>2]=ft,o[ft+24>>2]=s),ot=o[ot+4>>2]|0,!ot)break;o[s+20>>2]=ot,o[ot+24>>2]=s}while(0);tt=tt+Mt|0,gt=Mt+Pt|0}else gt=Pt;if(tt=tt+4|0,o[tt>>2]=o[tt>>2]&-2,o[zt+4>>2]=gt|1,o[zt+gt>>2]=gt,tt=gt>>>3,gt>>>0<256){ot=11172+(tt<<1<<2)|0,s=o[2783]|0,tt=1<<tt,s&tt?(s=ot+8|0,tt=o[s>>2]|0):(o[2783]=s|tt,tt=ot,s=ot+8|0),o[s>>2]=zt,o[tt+12>>2]=zt,o[zt+8>>2]=tt,o[zt+12>>2]=ot;break}tt=gt>>>8;do if(!tt)tt=0;else{if(gt>>>0>16777215){tt=31;break}mn=(tt+1048320|0)>>>16&8,vn=tt<<mn,zn=(vn+520192|0)>>>16&4,vn=vn<<zn,tt=(vn+245760|0)>>>16&2,tt=14-(zn|mn|tt)+(vn<<tt>>>15)|0,tt=gt>>>(tt+7|0)&1|tt<<1}while(0);if(ft=11436+(tt<<2)|0,o[zt+28>>2]=tt,s=zt+16|0,o[s+4>>2]=0,o[s>>2]=0,s=o[2784]|0,ot=1<<tt,!(s&ot)){o[2784]=s|ot,o[ft>>2]=zt,o[zt+24>>2]=ft,o[zt+12>>2]=zt,o[zt+8>>2]=zt;break}for(s=gt<<((tt|0)==31?0:25-(tt>>>1)|0),ot=o[ft>>2]|0;;){if((o[ot+4>>2]&-8|0)==(gt|0)){mn=194;break}if(ft=ot+16+(s>>>31<<2)|0,tt=o[ft>>2]|0,tt)s=s<<1,ot=tt;else{mn=193;break}}if((mn|0)==193){o[ft>>2]=zt,o[zt+24>>2]=ot,o[zt+12>>2]=zt,o[zt+8>>2]=zt;break}else if((mn|0)==194){mn=ot+8|0,vn=o[mn>>2]|0,o[vn+12>>2]=zt,o[mn>>2]=zt,o[zt+8>>2]=vn,o[zt+12>>2]=ot,o[zt+24>>2]=0;break}}else vn=(o[2786]|0)+Pt|0,o[2786]=vn,o[2789]=zt,o[zt+4>>2]=vn|1;while(0);return vn=Ut+8|0,yt=mr,vn|0}for(tt=11580;s=o[tt>>2]|0,!(s>>>0<=kt>>>0&&(vn=s+(o[tt+4>>2]|0)|0,vn>>>0>kt>>>0));)tt=o[tt+8>>2]|0;gt=vn+-47|0,s=gt+8|0,s=gt+(s&7|0?0-s&7:0)|0,gt=kt+16|0,s=s>>>0<gt>>>0?kt:s,tt=s+8|0,ot=_t+8|0,ot=ot&7|0?0-ot&7:0,mn=_t+ot|0,ot=Mt+-40-ot|0,o[2789]=mn,o[2786]=ot,o[mn+4>>2]=ot|1,o[mn+ot+4>>2]=40,o[2790]=o[2905],ot=s+4|0,o[ot>>2]=27,o[tt>>2]=o[2895],o[tt+4>>2]=o[2896],o[tt+8>>2]=o[2897],o[tt+12>>2]=o[2898],o[2895]=_t,o[2896]=Mt,o[2898]=0,o[2897]=tt,tt=s+24|0;do mn=tt,tt=tt+4|0,o[tt>>2]=7;while((mn+8|0)>>>0<vn>>>0);if((s|0)!=(kt|0)){if(_t=s-kt|0,o[ot>>2]=o[ot>>2]&-2,o[kt+4>>2]=_t|1,o[s>>2]=_t,tt=_t>>>3,_t>>>0<256){ot=11172+(tt<<1<<2)|0,s=o[2783]|0,tt=1<<tt,s&tt?(s=ot+8|0,tt=o[s>>2]|0):(o[2783]=s|tt,tt=ot,s=ot+8|0),o[s>>2]=kt,o[tt+12>>2]=kt,o[kt+8>>2]=tt,o[kt+12>>2]=ot;break}if(tt=_t>>>8,tt?_t>>>0>16777215?ot=31:(mn=(tt+1048320|0)>>>16&8,vn=tt<<mn,zn=(vn+520192|0)>>>16&4,vn=vn<<zn,ot=(vn+245760|0)>>>16&2,ot=14-(zn|mn|ot)+(vn<<ot>>>15)|0,ot=_t>>>(ot+7|0)&1|ot<<1):ot=0,ft=11436+(ot<<2)|0,o[kt+28>>2]=ot,o[kt+20>>2]=0,o[gt>>2]=0,tt=o[2784]|0,s=1<<ot,!(tt&s)){o[2784]=tt|s,o[ft>>2]=kt,o[kt+24>>2]=ft,o[kt+12>>2]=kt,o[kt+8>>2]=kt;break}for(s=_t<<((ot|0)==31?0:25-(ot>>>1)|0),ot=o[ft>>2]|0;;){if((o[ot+4>>2]&-8|0)==(_t|0)){mn=216;break}if(ft=ot+16+(s>>>31<<2)|0,tt=o[ft>>2]|0,tt)s=s<<1,ot=tt;else{mn=215;break}}if((mn|0)==215){o[ft>>2]=kt,o[kt+24>>2]=ot,o[kt+12>>2]=kt,o[kt+8>>2]=kt;break}else if((mn|0)==216){mn=ot+8|0,vn=o[mn>>2]|0,o[vn+12>>2]=kt,o[mn>>2]=kt,o[kt+8>>2]=vn,o[kt+12>>2]=ot,o[kt+24>>2]=0;break}}}else{vn=o[2787]|0,(vn|0)==0|_t>>>0<vn>>>0&&(o[2787]=_t),o[2895]=_t,o[2896]=Mt,o[2898]=0,o[2792]=o[2901],o[2791]=-1,tt=0;do vn=11172+(tt<<1<<2)|0,o[vn+12>>2]=vn,o[vn+8>>2]=vn,tt=tt+1|0;while((tt|0)!=32);vn=_t+8|0,vn=vn&7|0?0-vn&7:0,mn=_t+vn|0,vn=Mt+-40-vn|0,o[2789]=mn,o[2786]=vn,o[mn+4>>2]=vn|1,o[mn+vn+4>>2]=40,o[2790]=o[2905]}while(0);if(tt=o[2786]|0,tt>>>0>Ht>>>0)return zn=tt-Ht|0,o[2786]=zn,vn=o[2789]|0,mn=vn+Ht|0,o[2789]=mn,o[mn+4>>2]=zn|1,o[vn+4>>2]=Ht|3,vn=vn+8|0,yt=mr,vn|0}return o[(Gm()|0)>>2]=12,vn=0,yt=mr,vn|0}function U_(s){s=s|0;var tt=0,ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0;if(s){ot=s+-8|0,gt=o[2787]|0,s=o[s+-4>>2]|0,tt=s&-8,kt=ot+tt|0;do if(s&1)Pt=ot,Mt=ot;else{if(ft=o[ot>>2]|0,!(s&3)||(Mt=ot+(0-ft)|0,_t=ft+tt|0,Mt>>>0<gt>>>0))return;if((Mt|0)==(o[2788]|0)){if(s=kt+4|0,tt=o[s>>2]|0,(tt&3|0)!=3){Pt=Mt,tt=_t;break}o[2785]=_t,o[s>>2]=tt&-2,o[Mt+4>>2]=_t|1,o[Mt+_t>>2]=_t;return}if(ot=ft>>>3,ft>>>0<256)if(s=o[Mt+8>>2]|0,tt=o[Mt+12>>2]|0,(tt|0)==(s|0)){o[2783]=o[2783]&~(1<<ot),Pt=Mt,tt=_t;break}else{o[s+12>>2]=tt,o[tt+8>>2]=s,Pt=Mt,tt=_t;break}gt=o[Mt+24>>2]|0,s=o[Mt+12>>2]|0;do if((s|0)==(Mt|0)){if(ot=Mt+16|0,tt=ot+4|0,s=o[tt>>2]|0,!s)if(s=o[ot>>2]|0,s)tt=ot;else{s=0;break}for(;;){if(ot=s+20|0,ft=o[ot>>2]|0,ft|0){s=ft,tt=ot;continue}if(ot=s+16|0,ft=o[ot>>2]|0,ft)s=ft,tt=ot;else break}o[tt>>2]=0}else Pt=o[Mt+8>>2]|0,o[Pt+12>>2]=s,o[s+8>>2]=Pt;while(0);if(gt){if(tt=o[Mt+28>>2]|0,ot=11436+(tt<<2)|0,(Mt|0)==(o[ot>>2]|0)){if(o[ot>>2]=s,!s){o[2784]=o[2784]&~(1<<tt),Pt=Mt,tt=_t;break}}else if(o[gt+16+(((o[gt+16>>2]|0)!=(Mt|0)&1)<<2)>>2]=s,!s){Pt=Mt,tt=_t;break}o[s+24>>2]=gt,tt=Mt+16|0,ot=o[tt>>2]|0,ot|0&&(o[s+16>>2]=ot,o[ot+24>>2]=s),tt=o[tt+4>>2]|0,tt?(o[s+20>>2]=tt,o[tt+24>>2]=s,Pt=Mt,tt=_t):(Pt=Mt,tt=_t)}else Pt=Mt,tt=_t}while(0);if(!(Mt>>>0>=kt>>>0)&&(s=kt+4|0,ft=o[s>>2]|0,!!(ft&1))){if(ft&2)o[s>>2]=ft&-2,o[Pt+4>>2]=tt|1,o[Mt+tt>>2]=tt,gt=tt;else{if(s=o[2788]|0,(kt|0)==(o[2789]|0)){if(kt=(o[2786]|0)+tt|0,o[2786]=kt,o[2789]=Pt,o[Pt+4>>2]=kt|1,(Pt|0)!=(s|0))return;o[2788]=0,o[2785]=0;return}if((kt|0)==(s|0)){kt=(o[2785]|0)+tt|0,o[2785]=kt,o[2788]=Mt,o[Pt+4>>2]=kt|1,o[Mt+kt>>2]=kt;return}gt=(ft&-8)+tt|0,ot=ft>>>3;do if(ft>>>0<256)if(tt=o[kt+8>>2]|0,s=o[kt+12>>2]|0,(s|0)==(tt|0)){o[2783]=o[2783]&~(1<<ot);break}else{o[tt+12>>2]=s,o[s+8>>2]=tt;break}else{_t=o[kt+24>>2]|0,s=o[kt+12>>2]|0;do if((s|0)==(kt|0)){if(ot=kt+16|0,tt=ot+4|0,s=o[tt>>2]|0,!s)if(s=o[ot>>2]|0,s)tt=ot;else{ot=0;break}for(;;){if(ot=s+20|0,ft=o[ot>>2]|0,ft|0){s=ft,tt=ot;continue}if(ot=s+16|0,ft=o[ot>>2]|0,ft)s=ft,tt=ot;else break}o[tt>>2]=0,ot=s}else ot=o[kt+8>>2]|0,o[ot+12>>2]=s,o[s+8>>2]=ot,ot=s;while(0);if(_t|0){if(s=o[kt+28>>2]|0,tt=11436+(s<<2)|0,(kt|0)==(o[tt>>2]|0)){if(o[tt>>2]=ot,!ot){o[2784]=o[2784]&~(1<<s);break}}else if(o[_t+16+(((o[_t+16>>2]|0)!=(kt|0)&1)<<2)>>2]=ot,!ot)break;o[ot+24>>2]=_t,s=kt+16|0,tt=o[s>>2]|0,tt|0&&(o[ot+16>>2]=tt,o[tt+24>>2]=ot),s=o[s+4>>2]|0,s|0&&(o[ot+20>>2]=s,o[s+24>>2]=ot)}}while(0);if(o[Pt+4>>2]=gt|1,o[Mt+gt>>2]=gt,(Pt|0)==(o[2788]|0)){o[2785]=gt;return}}if(s=gt>>>3,gt>>>0<256){ot=11172+(s<<1<<2)|0,tt=o[2783]|0,s=1<<s,tt&s?(tt=ot+8|0,s=o[tt>>2]|0):(o[2783]=tt|s,s=ot,tt=ot+8|0),o[tt>>2]=Pt,o[s+12>>2]=Pt,o[Pt+8>>2]=s,o[Pt+12>>2]=ot;return}s=gt>>>8,s?gt>>>0>16777215?s=31:(Mt=(s+1048320|0)>>>16&8,kt=s<<Mt,_t=(kt+520192|0)>>>16&4,kt=kt<<_t,s=(kt+245760|0)>>>16&2,s=14-(_t|Mt|s)+(kt<<s>>>15)|0,s=gt>>>(s+7|0)&1|s<<1):s=0,ft=11436+(s<<2)|0,o[Pt+28>>2]=s,o[Pt+20>>2]=0,o[Pt+16>>2]=0,tt=o[2784]|0,ot=1<<s;do if(tt&ot){for(tt=gt<<((s|0)==31?0:25-(s>>>1)|0),ot=o[ft>>2]|0;;){if((o[ot+4>>2]&-8|0)==(gt|0)){s=73;break}if(ft=ot+16+(tt>>>31<<2)|0,s=o[ft>>2]|0,s)tt=tt<<1,ot=s;else{s=72;break}}if((s|0)==72){o[ft>>2]=Pt,o[Pt+24>>2]=ot,o[Pt+12>>2]=Pt,o[Pt+8>>2]=Pt;break}else if((s|0)==73){Mt=ot+8|0,kt=o[Mt>>2]|0,o[kt+12>>2]=Pt,o[Mt>>2]=Pt,o[Pt+8>>2]=kt,o[Pt+12>>2]=ot,o[Pt+24>>2]=0;break}}else o[2784]=tt|ot,o[ft>>2]=Pt,o[Pt+24>>2]=ft,o[Pt+12>>2]=Pt,o[Pt+8>>2]=Pt;while(0);if(kt=(o[2791]|0)+-1|0,o[2791]=kt,!kt)s=11588;else return;for(;s=o[s>>2]|0,s;)s=s+8|0;o[2791]=-1}}}function HF(){return 11628}function $F(s){s=s|0;var tt=0,ot=0;return tt=yt,yt=yt+16|0,ot=tt,o[ot>>2]=XF(o[s+60>>2]|0)|0,s=z_(Xr(6,ot|0)|0)|0,yt=tt,s|0}function XS(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0,yn=0;Ht=yt,yt=yt+48|0,zt=Ht+16|0,_t=Ht,gt=Ht+32|0,Pt=s+28|0,ft=o[Pt>>2]|0,o[gt>>2]=ft,kt=s+20|0,ft=(o[kt>>2]|0)-ft|0,o[gt+4>>2]=ft,o[gt+8>>2]=tt,o[gt+12>>2]=ot,ft=ft+ot|0,Mt=s+60|0,o[_t>>2]=o[Mt>>2],o[_t+4>>2]=gt,o[_t+8>>2]=2,_t=z_(fo(146,_t|0)|0)|0;e:do if((ft|0)!=(_t|0)){for(tt=2;!((_t|0)<0);)if(ft=ft-_t|0,yn=o[gt+4>>2]|0,Zt=_t>>>0>yn>>>0,gt=Zt?gt+8|0:gt,tt=(Zt<<31>>31)+tt|0,yn=_t-(Zt?yn:0)|0,o[gt>>2]=(o[gt>>2]|0)+yn,Zt=gt+4|0,o[Zt>>2]=(o[Zt>>2]|0)-yn,o[zt>>2]=o[Mt>>2],o[zt+4>>2]=gt,o[zt+8>>2]=tt,_t=z_(fo(146,zt|0)|0)|0,(ft|0)==(_t|0)){Ut=3;break e}o[s+16>>2]=0,o[Pt>>2]=0,o[kt>>2]=0,o[s>>2]=o[s>>2]|32,(tt|0)==2?ot=0:ot=ot-(o[gt+4>>2]|0)|0}else Ut=3;while(0);return(Ut|0)==3&&(yn=o[s+44>>2]|0,o[s+16>>2]=yn+(o[s+48>>2]|0),o[Pt>>2]=yn,o[kt>>2]=yn),yt=Ht,ot|0}function WF(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0;return gt=yt,yt=yt+32|0,_t=gt,ft=gt+20|0,o[_t>>2]=o[s+60>>2],o[_t+4>>2]=0,o[_t+8>>2]=tt,o[_t+12>>2]=ft,o[_t+16>>2]=ot,(z_(Vr(140,_t|0)|0)|0)<0?(o[ft>>2]=-1,s=-1):s=o[ft>>2]|0,yt=gt,s|0}function z_(s){return s=s|0,s>>>0>4294963200&&(o[(Gm()|0)>>2]=0-s,s=-1),s|0}function Gm(){return(jF()|0)+64|0}function jF(){return Ay()|0}function Ay(){return 2084}function XF(s){return s=s|0,s|0}function qF(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0;return gt=yt,yt=yt+32|0,ft=gt,o[s+36>>2]=1,!(o[s>>2]&64|0)&&(o[ft>>2]=o[s+60>>2],o[ft+4>>2]=21523,o[ft+8>>2]=gt+16,wn(54,ft|0)|0)&&(d[s+75>>0]=-1),ft=XS(s,tt,ot)|0,yt=gt,ft|0}function qS(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;if(ot=d[s>>0]|0,ft=d[tt>>0]|0,!(ot<<24>>24)||ot<<24>>24!=ft<<24>>24)s=ft;else{do s=s+1|0,tt=tt+1|0,ot=d[s>>0]|0,ft=d[tt>>0]|0;while(!(!(ot<<24>>24)||ot<<24>>24!=ft<<24>>24));s=ft}return(ot&255)-(s&255)|0}function YF(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0;e:do if(!ot)s=0;else{for(;ft=d[s>>0]|0,gt=d[tt>>0]|0,ft<<24>>24==gt<<24>>24;)if(ot=ot+-1|0,ot)s=s+1|0,tt=tt+1|0;else{s=0;break e}s=(ft&255)-(gt&255)|0}while(0);return s|0}function YS(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0,yn=0,fn=0,ln=0;ln=yt,yt=yt+224|0,Ut=ln+120|0,Ht=ln+80|0,yn=ln,fn=ln+136|0,ft=Ht,gt=ft+40|0;do o[ft>>2]=0,ft=ft+4|0;while((ft|0)<(gt|0));return o[Ut>>2]=o[ot>>2],(Cy(0,tt,Ut,yn,Ht)|0)<0?ot=-1:((o[s+76>>2]|0)>-1?Zt=KF(s)|0:Zt=0,ot=o[s>>2]|0,zt=ot&32,(d[s+74>>0]|0)<1&&(o[s>>2]=ot&-33),ft=s+48|0,o[ft>>2]|0?ot=Cy(s,tt,Ut,yn,Ht)|0:(gt=s+44|0,_t=o[gt>>2]|0,o[gt>>2]=fn,Mt=s+28|0,o[Mt>>2]=fn,Pt=s+20|0,o[Pt>>2]=fn,o[ft>>2]=80,kt=s+16|0,o[kt>>2]=fn+80,ot=Cy(s,tt,Ut,yn,Ht)|0,_t&&($_[o[s+36>>2]&7](s,0,0)|0,ot=o[Pt>>2]|0?ot:-1,o[gt>>2]=_t,o[ft>>2]=0,o[kt>>2]=0,o[Mt>>2]=0,o[Pt>>2]=0)),ft=o[s>>2]|0,o[s>>2]=ft|zt,Zt|0&&QF(s),ot=ft&32|0?-1:ot),yt=ln,ot|0}function Cy(s,tt,ot,ft,gt){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0;var _t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0,yn=0,fn=0,ln=0,bn=0,Rn=0,zn=0,mn=0,vn=0,mr=0,uo=0,zr=0,Lr=0,Jr=0,so=0,Fr=0;Fr=yt,yt=yt+64|0,zr=Fr+16|0,Lr=Fr,mr=Fr+24|0,Jr=Fr+8|0,so=Fr+20|0,o[zr>>2]=tt,zn=(s|0)!=0,mn=mr+40|0,vn=mn,mr=mr+39|0,uo=Jr+4|0,Mt=0,_t=0,Ut=0;e:for(;;){do if((_t|0)>-1)if((Mt|0)>(2147483647-_t|0)){o[(Gm()|0)>>2]=75,_t=-1;break}else{_t=Mt+_t|0;break}while(0);if(Mt=d[tt>>0]|0,Mt<<24>>24)Pt=tt;else{Rn=87;break}t:for(;;){switch(Mt<<24>>24){case 37:{Mt=Pt,Rn=9;break t}case 0:{Mt=Pt;break t}default:}bn=Pt+1|0,o[zr>>2]=bn,Mt=d[bn>>0]|0,Pt=bn}t:do if((Rn|0)==9)for(;;){if(Rn=0,(d[Pt+1>>0]|0)!=37)break t;if(Mt=Mt+1|0,Pt=Pt+2|0,o[zr>>2]=Pt,(d[Pt>>0]|0)==37)Rn=9;else break}while(0);if(Mt=Mt-tt|0,zn&&ss(s,tt,Mt),Mt|0){tt=Pt;continue}kt=Pt+1|0,Mt=(d[kt>>0]|0)+-48|0,Mt>>>0<10?(bn=(d[Pt+2>>0]|0)==36,ln=bn?Mt:-1,Ut=bn?1:Ut,kt=bn?Pt+3|0:kt):ln=-1,o[zr>>2]=kt,Mt=d[kt>>0]|0,Pt=(Mt<<24>>24)+-32|0;t:do if(Pt>>>0<32)for(zt=0,Ht=Mt;;){if(Mt=1<<Pt,!(Mt&75913)){Mt=Ht;break t}if(zt=Mt|zt,kt=kt+1|0,o[zr>>2]=kt,Mt=d[kt>>0]|0,Pt=(Mt<<24>>24)+-32|0,Pt>>>0>=32)break;Ht=Mt}else zt=0;while(0);if(Mt<<24>>24==42){if(Pt=kt+1|0,Mt=(d[Pt>>0]|0)+-48|0,Mt>>>0<10&&(d[kt+2>>0]|0)==36)o[gt+(Mt<<2)>>2]=10,Mt=o[ft+((d[Pt>>0]|0)+-48<<3)>>2]|0,Ut=1,kt=kt+3|0;else{if(Ut|0){_t=-1;break}zn?(Ut=(o[ot>>2]|0)+(4-1)&~(4-1),Mt=o[Ut>>2]|0,o[ot>>2]=Ut+4,Ut=0,kt=Pt):(Mt=0,Ut=0,kt=Pt)}o[zr>>2]=kt,bn=(Mt|0)<0,Mt=bn?0-Mt|0:Mt,zt=bn?zt|8192:zt}else{if(Mt=KS(zr)|0,(Mt|0)<0){_t=-1;break}kt=o[zr>>2]|0}do if((d[kt>>0]|0)==46){if((d[kt+1>>0]|0)!=42){o[zr>>2]=kt+1,Pt=KS(zr)|0,kt=o[zr>>2]|0;break}if(Ht=kt+2|0,Pt=(d[Ht>>0]|0)+-48|0,Pt>>>0<10&&(d[kt+3>>0]|0)==36){o[gt+(Pt<<2)>>2]=10,Pt=o[ft+((d[Ht>>0]|0)+-48<<3)>>2]|0,kt=kt+4|0,o[zr>>2]=kt;break}if(Ut|0){_t=-1;break e}zn?(bn=(o[ot>>2]|0)+(4-1)&~(4-1),Pt=o[bn>>2]|0,o[ot>>2]=bn+4):Pt=0,o[zr>>2]=Ht,kt=Ht}else Pt=-1;while(0);for(fn=0;;){if(((d[kt>>0]|0)+-65|0)>>>0>57){_t=-1;break e}if(bn=kt+1|0,o[zr>>2]=bn,Ht=d[(d[kt>>0]|0)+-65+(5178+(fn*58|0))>>0]|0,Zt=Ht&255,(Zt+-1|0)>>>0<8)fn=Zt,kt=bn;else break}if(!(Ht<<24>>24)){_t=-1;break}yn=(ln|0)>-1;do if(Ht<<24>>24==19)if(yn){_t=-1;break e}else Rn=49;else{if(yn){o[gt+(ln<<2)>>2]=Zt,yn=ft+(ln<<3)|0,ln=o[yn+4>>2]|0,Rn=Lr,o[Rn>>2]=o[yn>>2],o[Rn+4>>2]=ln,Rn=49;break}if(!zn){_t=0;break e}QS(Lr,Zt,ot)}while(0);if((Rn|0)==49&&(Rn=0,!zn)){Mt=0,tt=bn;continue}kt=d[kt>>0]|0,kt=(fn|0)!=0&(kt&15|0)==3?kt&-33:kt,yn=zt&-65537,ln=zt&8192|0?yn:zt;t:do switch(kt|0){case 110:switch((fn&255)<<24>>24){case 0:{o[o[Lr>>2]>>2]=_t,Mt=0,tt=bn;continue e}case 1:{o[o[Lr>>2]>>2]=_t,Mt=0,tt=bn;continue e}case 2:{Mt=o[Lr>>2]|0,o[Mt>>2]=_t,o[Mt+4>>2]=((_t|0)<0)<<31>>31,Mt=0,tt=bn;continue e}case 3:{nt[o[Lr>>2]>>1]=_t,Mt=0,tt=bn;continue e}case 4:{d[o[Lr>>2]>>0]=_t,Mt=0,tt=bn;continue e}case 6:{o[o[Lr>>2]>>2]=_t,Mt=0,tt=bn;continue e}case 7:{Mt=o[Lr>>2]|0,o[Mt>>2]=_t,o[Mt+4>>2]=((_t|0)<0)<<31>>31,Mt=0,tt=bn;continue e}default:{Mt=0,tt=bn;continue e}}case 112:{kt=120,Pt=Pt>>>0>8?Pt:8,tt=ln|8,Rn=61;break}case 88:case 120:{tt=ln,Rn=61;break}case 111:{kt=Lr,tt=o[kt>>2]|0,kt=o[kt+4>>2]|0,Zt=JF(tt,kt,mn)|0,yn=vn-Zt|0,zt=0,Ht=5642,Pt=(ln&8|0)==0|(Pt|0)>(yn|0)?Pt:yn+1|0,yn=ln,Rn=67;break}case 105:case 100:if(kt=Lr,tt=o[kt>>2]|0,kt=o[kt+4>>2]|0,(kt|0)<0){tt=V_(0,0,tt|0,kt|0)|0,kt=sn,zt=Lr,o[zt>>2]=tt,o[zt+4>>2]=kt,zt=1,Ht=5642,Rn=66;break t}else{zt=(ln&2049|0)!=0&1,Ht=ln&2048|0?5643:ln&1|0?5644:5642,Rn=66;break t}case 117:{kt=Lr,zt=0,Ht=5642,tt=o[kt>>2]|0,kt=o[kt+4>>2]|0,Rn=66;break}case 99:{d[mr>>0]=o[Lr>>2],tt=mr,zt=0,Ht=5642,Zt=mn,kt=1,Pt=yn;break}case 109:{kt=e8(o[(Gm()|0)>>2]|0)|0,Rn=71;break}case 115:{kt=o[Lr>>2]|0,kt=kt|0?kt:5652,Rn=71;break}case 67:{o[Jr>>2]=o[Lr>>2],o[uo>>2]=0,o[Lr>>2]=Jr,Zt=-1,kt=Jr,Rn=75;break}case 83:{tt=o[Lr>>2]|0,Pt?(Zt=Pt,kt=tt,Rn=75):(hs(s,32,Mt,0,ln),tt=0,Rn=84);break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{Mt=n8(s,+Tt[Lr>>3],Mt,Pt,ln,kt)|0,tt=bn;continue e}default:zt=0,Ht=5642,Zt=mn,kt=Pt,Pt=ln}while(0);t:do if((Rn|0)==61)ln=Lr,fn=o[ln>>2]|0,ln=o[ln+4>>2]|0,Zt=ZF(fn,ln,mn,kt&32)|0,Ht=(tt&8|0)==0|(fn|0)==0&(ln|0)==0,zt=Ht?0:2,Ht=Ht?5642:5642+(kt>>4)|0,yn=tt,tt=fn,kt=ln,Rn=67;else if((Rn|0)==66)Zt=Hm(tt,kt,mn)|0,yn=ln,Rn=67;else if((Rn|0)==71)Rn=0,ln=t8(kt,0,Pt)|0,fn=(ln|0)==0,tt=kt,zt=0,Ht=5642,Zt=fn?kt+Pt|0:ln,kt=fn?Pt:ln-kt|0,Pt=yn;else if((Rn|0)==75){for(Rn=0,Ht=kt,tt=0,Pt=0;zt=o[Ht>>2]|0,!(!zt||(Pt=ZS(so,zt)|0,(Pt|0)<0|Pt>>>0>(Zt-tt|0)>>>0));)if(tt=Pt+tt|0,Zt>>>0>tt>>>0)Ht=Ht+4|0;else break;if((Pt|0)<0){_t=-1;break e}if(hs(s,32,Mt,tt,ln),!tt)tt=0,Rn=84;else for(zt=0;;){if(Pt=o[kt>>2]|0,!Pt){Rn=84;break t}if(Pt=ZS(so,Pt)|0,zt=Pt+zt|0,(zt|0)>(tt|0)){Rn=84;break t}if(ss(s,so,Pt),zt>>>0>=tt>>>0){Rn=84;break}else kt=kt+4|0}}while(0);if((Rn|0)==67)Rn=0,kt=(tt|0)!=0|(kt|0)!=0,ln=(Pt|0)!=0|kt,kt=((kt^1)&1)+(vn-Zt)|0,tt=ln?Zt:mn,Zt=mn,kt=ln?(Pt|0)>(kt|0)?Pt:kt:Pt,Pt=(Pt|0)>-1?yn&-65537:yn;else if((Rn|0)==84){Rn=0,hs(s,32,Mt,tt,ln^8192),Mt=(Mt|0)>(tt|0)?Mt:tt,tt=bn;continue}fn=Zt-tt|0,yn=(kt|0)<(fn|0)?fn:kt,ln=yn+zt|0,Mt=(Mt|0)<(ln|0)?ln:Mt,hs(s,32,Mt,ln,Pt),ss(s,Ht,zt),hs(s,48,Mt,ln,Pt^65536),hs(s,48,yn,fn,0),ss(s,tt,fn),hs(s,32,Mt,ln,Pt^8192),tt=bn}e:do if((Rn|0)==87&&!s)if(!Ut)_t=0;else{for(_t=1;tt=o[gt+(_t<<2)>>2]|0,!!tt;)if(QS(ft+(_t<<3)|0,tt,ot),_t=_t+1|0,(_t|0)>=10){_t=1;break e}for(;;){if(o[gt+(_t<<2)>>2]|0){_t=-1;break e}if(_t=_t+1|0,(_t|0)>=10){_t=1;break}}}while(0);return yt=Fr,_t|0}function KF(s){return s=s|0,0}function QF(s){s=s|0}function ss(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,o[s>>2]&32||f8(tt,ot,s)|0}function KS(s){s=s|0;var tt=0,ot=0,ft=0;if(ot=o[s>>2]|0,ft=(d[ot>>0]|0)+-48|0,ft>>>0<10){tt=0;do tt=ft+(tt*10|0)|0,ot=ot+1|0,o[s>>2]=ot,ft=(d[ot>>0]|0)+-48|0;while(ft>>>0<10)}else tt=0;return tt|0}function QS(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0;e:do if(tt>>>0<=20)do switch(tt|0){case 9:{ft=(o[ot>>2]|0)+(4-1)&~(4-1),tt=o[ft>>2]|0,o[ot>>2]=ft+4,o[s>>2]=tt;break e}case 10:{ft=(o[ot>>2]|0)+(4-1)&~(4-1),tt=o[ft>>2]|0,o[ot>>2]=ft+4,ft=s,o[ft>>2]=tt,o[ft+4>>2]=((tt|0)<0)<<31>>31;break e}case 11:{ft=(o[ot>>2]|0)+(4-1)&~(4-1),tt=o[ft>>2]|0,o[ot>>2]=ft+4,ft=s,o[ft>>2]=tt,o[ft+4>>2]=0;break e}case 12:{ft=(o[ot>>2]|0)+(8-1)&~(8-1),tt=ft,gt=o[tt>>2]|0,tt=o[tt+4>>2]|0,o[ot>>2]=ft+8,ft=s,o[ft>>2]=gt,o[ft+4>>2]=tt;break e}case 13:{gt=(o[ot>>2]|0)+(4-1)&~(4-1),ft=o[gt>>2]|0,o[ot>>2]=gt+4,ft=(ft&65535)<<16>>16,gt=s,o[gt>>2]=ft,o[gt+4>>2]=((ft|0)<0)<<31>>31;break e}case 14:{gt=(o[ot>>2]|0)+(4-1)&~(4-1),ft=o[gt>>2]|0,o[ot>>2]=gt+4,gt=s,o[gt>>2]=ft&65535,o[gt+4>>2]=0;break e}case 15:{gt=(o[ot>>2]|0)+(4-1)&~(4-1),ft=o[gt>>2]|0,o[ot>>2]=gt+4,ft=(ft&255)<<24>>24,gt=s,o[gt>>2]=ft,o[gt+4>>2]=((ft|0)<0)<<31>>31;break e}case 16:{gt=(o[ot>>2]|0)+(4-1)&~(4-1),ft=o[gt>>2]|0,o[ot>>2]=gt+4,gt=s,o[gt>>2]=ft&255,o[gt+4>>2]=0;break e}case 17:{gt=(o[ot>>2]|0)+(8-1)&~(8-1),_t=+Tt[gt>>3],o[ot>>2]=gt+8,Tt[s>>3]=_t;break e}case 18:{gt=(o[ot>>2]|0)+(8-1)&~(8-1),_t=+Tt[gt>>3],o[ot>>2]=gt+8,Tt[s>>3]=_t;break e}default:break e}while(0);while(0)}function ZF(s,tt,ot,ft){if(s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,!((s|0)==0&(tt|0)==0))do ot=ot+-1|0,d[ot>>0]=ht[5694+(s&15)>>0]|0|ft,s=G_(s|0,tt|0,4)|0,tt=sn;while(!((s|0)==0&(tt|0)==0));return ot|0}function JF(s,tt,ot){if(s=s|0,tt=tt|0,ot=ot|0,!((s|0)==0&(tt|0)==0))do ot=ot+-1|0,d[ot>>0]=s&7|48,s=G_(s|0,tt|0,3)|0,tt=sn;while(!((s|0)==0&(tt|0)==0));return ot|0}function Hm(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;if(tt>>>0>0|(tt|0)==0&s>>>0>4294967295){for(;ft=Iy(s|0,tt|0,10,0)|0,ot=ot+-1|0,d[ot>>0]=ft&255|48,ft=s,s=Ly(s|0,tt|0,10,0)|0,tt>>>0>9|(tt|0)==9&ft>>>0>4294967295;)tt=sn;tt=s}else tt=s;if(tt)for(;ot=ot+-1|0,d[ot>>0]=(tt>>>0)%10|0|48,!(tt>>>0<10);)tt=(tt>>>0)/10|0;return ot|0}function e8(s){return s=s|0,a8(s,o[(s8()|0)+188>>2]|0)|0}function t8(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;_t=tt&255,ft=(ot|0)!=0;e:do if(ft&(s&3|0)!=0)for(gt=tt&255;;){if((d[s>>0]|0)==gt<<24>>24){Mt=6;break e}if(s=s+1|0,ot=ot+-1|0,ft=(ot|0)!=0,!(ft&(s&3|0)!=0)){Mt=5;break}}else Mt=5;while(0);(Mt|0)==5&&(ft?Mt=6:ot=0);e:do if((Mt|0)==6&&(gt=tt&255,(d[s>>0]|0)!=gt<<24>>24)){ft=_r(_t,16843009)|0;t:do if(ot>>>0>3){for(;_t=o[s>>2]^ft,!((_t&-2139062144^-2139062144)&_t+-16843009|0);)if(s=s+4|0,ot=ot+-4|0,ot>>>0<=3){Mt=11;break t}}else Mt=11;while(0);if((Mt|0)==11&&!ot){ot=0;break}for(;;){if((d[s>>0]|0)==gt<<24>>24)break e;if(s=s+1|0,ot=ot+-1|0,!ot){ot=0;break}}}while(0);return(ot|0?s:0)|0}function hs(s,tt,ot,ft,gt){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0;var _t=0,Mt=0;if(Mt=yt,yt=yt+256|0,_t=Mt,(ot|0)>(ft|0)&(gt&73728|0)==0){if(gt=ot-ft|0,Wm(_t|0,tt|0,(gt>>>0<256?gt:256)|0)|0,gt>>>0>255){tt=ot-ft|0;do ss(s,_t,256),gt=gt+-256|0;while(gt>>>0>255);gt=tt&255}ss(s,_t,gt)}yt=Mt}function ZS(s,tt){return s=s|0,tt=tt|0,s?s=i8(s,tt,0)|0:s=0,s|0}function n8(s,tt,ot,ft,gt,_t){s=s|0,tt=+tt,ot=ot|0,ft=ft|0,gt=gt|0,_t=_t|0;var Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0,yn=0,fn=0,ln=0,bn=0,Rn=0,zn=0,mn=0,vn=0,mr=0,uo=0,zr=0,Lr=0,Jr=0,so=0,Fr=0,Ro=0;Ro=yt,yt=yt+560|0,kt=Ro+8|0,bn=Ro,Fr=Ro+524|0,so=Fr,zt=Ro+512|0,o[bn>>2]=0,Jr=zt+12|0,JS(tt)|0,(sn|0)<0?(tt=-tt,zr=1,uo=5659):(zr=(gt&2049|0)!=0&1,uo=gt&2048|0?5662:gt&1|0?5665:5660),JS(tt)|0,Lr=sn&2146435072;do if(Lr>>>0<2146435072|(Lr|0)==2146435072&0<0){if(yn=+r8(tt,bn)*2,Mt=yn!=0,Mt&&(o[bn>>2]=(o[bn>>2]|0)+-1),zn=_t|32,(zn|0)==97){fn=_t&32,Zt=fn|0?uo+9|0:uo,Ht=zr|2,Mt=12-ft|0;do if(ft>>>0>11|(Mt|0)==0)tt=yn;else{tt=8;do Mt=Mt+-1|0,tt=tt*16;while(Mt|0);if((d[Zt>>0]|0)==45){tt=-(tt+(-yn-tt));break}else{tt=yn+tt-tt;break}}while(0);Pt=o[bn>>2]|0,Mt=(Pt|0)<0?0-Pt|0:Pt,Mt=Hm(Mt,((Mt|0)<0)<<31>>31,Jr)|0,(Mt|0)==(Jr|0)&&(Mt=zt+11|0,d[Mt>>0]=48),d[Mt+-1>>0]=(Pt>>31&2)+43,Ut=Mt+-2|0,d[Ut>>0]=_t+15,zt=(ft|0)<1,kt=(gt&8|0)==0,Mt=Fr;do Lr=~~tt,Pt=Mt+1|0,d[Mt>>0]=ht[5694+Lr>>0]|fn,tt=(tt-+(Lr|0))*16,(Pt-so|0)==1&&!(kt&(zt&tt==0))?(d[Pt>>0]=46,Mt=Mt+2|0):Mt=Pt;while(tt!=0);Lr=Mt-so|0,so=Jr-Ut|0,Jr=(ft|0)!=0&(Lr+-2|0)<(ft|0)?ft+2|0:Lr,Mt=so+Ht+Jr|0,hs(s,32,ot,Mt,gt),ss(s,Zt,Ht),hs(s,48,ot,Mt,gt^65536),ss(s,Fr,Lr),hs(s,48,Jr-Lr|0,0,0),ss(s,Ut,so),hs(s,32,ot,Mt,gt^8192);break}Pt=(ft|0)<0?6:ft,Mt?(Mt=(o[bn>>2]|0)+-28|0,o[bn>>2]=Mt,tt=yn*268435456):(tt=yn,Mt=o[bn>>2]|0),Lr=(Mt|0)<0?kt:kt+288|0,kt=Lr;do vn=~~tt>>>0,o[kt>>2]=vn,kt=kt+4|0,tt=(tt-+(vn>>>0))*1e9;while(tt!=0);if((Mt|0)>0)for(zt=Lr,Ht=kt;;){if(Ut=(Mt|0)<29?Mt:29,Mt=Ht+-4|0,Mt>>>0>=zt>>>0){kt=0;do mn=ow(o[Mt>>2]|0,0,Ut|0)|0,mn=Py(mn|0,sn|0,kt|0,0)|0,vn=sn,Rn=Iy(mn|0,vn|0,1e9,0)|0,o[Mt>>2]=Rn,kt=Ly(mn|0,vn|0,1e9,0)|0,Mt=Mt+-4|0;while(Mt>>>0>=zt>>>0);kt&&(zt=zt+-4|0,o[zt>>2]=kt)}for(kt=Ht;!(kt>>>0<=zt>>>0);)if(Mt=kt+-4|0,!(o[Mt>>2]|0))kt=Mt;else break;if(Mt=(o[bn>>2]|0)-Ut|0,o[bn>>2]=Mt,(Mt|0)>0)Ht=kt;else break}else zt=Lr;if((Mt|0)<0){ft=((Pt+25|0)/9|0)+1|0,ln=(zn|0)==102;do{if(fn=0-Mt|0,fn=(fn|0)<9?fn:9,zt>>>0<kt>>>0){Ut=(1<<fn)+-1|0,Ht=1e9>>>fn,Zt=0,Mt=zt;do vn=o[Mt>>2]|0,o[Mt>>2]=(vn>>>fn)+Zt,Zt=_r(vn&Ut,Ht)|0,Mt=Mt+4|0;while(Mt>>>0<kt>>>0);Mt=o[zt>>2]|0?zt:zt+4|0,Zt?(o[kt>>2]=Zt,zt=Mt,Mt=kt+4|0):(zt=Mt,Mt=kt)}else zt=o[zt>>2]|0?zt:zt+4|0,Mt=kt;kt=ln?Lr:zt,kt=(Mt-kt>>2|0)>(ft|0)?kt+(ft<<2)|0:Mt,Mt=(o[bn>>2]|0)+fn|0,o[bn>>2]=Mt}while((Mt|0)<0);Mt=zt,ft=kt}else Mt=zt,ft=kt;if(vn=Lr,Mt>>>0<ft>>>0){if(kt=(vn-Mt>>2)*9|0,Ut=o[Mt>>2]|0,Ut>>>0>=10){zt=10;do zt=zt*10|0,kt=kt+1|0;while(Ut>>>0>=zt>>>0)}}else kt=0;if(ln=(zn|0)==103,Rn=(Pt|0)!=0,zt=Pt-((zn|0)!=102?kt:0)+((Rn&ln)<<31>>31)|0,(zt|0)<(((ft-vn>>2)*9|0)+-9|0)){if(zt=zt+9216|0,fn=Lr+4+(((zt|0)/9|0)+-1024<<2)|0,zt=((zt|0)%9|0)+1|0,(zt|0)<9){Ut=10;do Ut=Ut*10|0,zt=zt+1|0;while((zt|0)!=9)}else Ut=10;if(Ht=o[fn>>2]|0,Zt=(Ht>>>0)%(Ut>>>0)|0,zt=(fn+4|0)==(ft|0),zt&(Zt|0)==0)zt=fn;else if(yn=((Ht>>>0)/(Ut>>>0)|0)&1|0?9007199254740994:9007199254740992,mn=(Ut|0)/2|0,tt=Zt>>>0<mn>>>0?.5:zt&(Zt|0)==(mn|0)?1:1.5,zr&&(mn=(d[uo>>0]|0)==45,tt=mn?-tt:tt,yn=mn?-yn:yn),zt=Ht-Zt|0,o[fn>>2]=zt,yn+tt!=yn){if(mn=zt+Ut|0,o[fn>>2]=mn,mn>>>0>999999999)for(kt=fn;zt=kt+-4|0,o[kt>>2]=0,zt>>>0<Mt>>>0&&(Mt=Mt+-4|0,o[Mt>>2]=0),mn=(o[zt>>2]|0)+1|0,o[zt>>2]=mn,mn>>>0>999999999;)kt=zt;else zt=fn;if(kt=(vn-Mt>>2)*9|0,Ht=o[Mt>>2]|0,Ht>>>0>=10){Ut=10;do Ut=Ut*10|0,kt=kt+1|0;while(Ht>>>0>=Ut>>>0)}}else zt=fn;zt=zt+4|0,zt=ft>>>0>zt>>>0?zt:ft,mn=Mt}else zt=ft,mn=Mt;for(zn=zt;;){if(zn>>>0<=mn>>>0){bn=0;break}if(Mt=zn+-4|0,!(o[Mt>>2]|0))zn=Mt;else{bn=1;break}}ft=0-kt|0;do if(ln)if(Mt=((Rn^1)&1)+Pt|0,(Mt|0)>(kt|0)&(kt|0)>-5?(Ut=_t+-1|0,Pt=Mt+-1-kt|0):(Ut=_t+-2|0,Pt=Mt+-1|0),Mt=gt&8,Mt)fn=Mt;else{if(bn&&(mr=o[zn+-4>>2]|0,(mr|0)!=0))if((mr>>>0)%10|0)zt=0;else{zt=0,Mt=10;do Mt=Mt*10|0,zt=zt+1|0;while(!((mr>>>0)%(Mt>>>0)|0|0))}else zt=9;if(Mt=((zn-vn>>2)*9|0)+-9|0,(Ut|32|0)==102){fn=Mt-zt|0,fn=(fn|0)>0?fn:0,Pt=(Pt|0)<(fn|0)?Pt:fn,fn=0;break}else{fn=Mt+kt-zt|0,fn=(fn|0)>0?fn:0,Pt=(Pt|0)<(fn|0)?Pt:fn,fn=0;break}}else Ut=_t,fn=gt&8;while(0);if(ln=Pt|fn,Ht=(ln|0)!=0&1,Zt=(Ut|32|0)==102,Zt)Rn=0,Mt=(kt|0)>0?kt:0;else{if(Mt=(kt|0)<0?ft:kt,Mt=Hm(Mt,((Mt|0)<0)<<31>>31,Jr)|0,zt=Jr,(zt-Mt|0)<2)do Mt=Mt+-1|0,d[Mt>>0]=48;while((zt-Mt|0)<2);d[Mt+-1>>0]=(kt>>31&2)+43,Mt=Mt+-2|0,d[Mt>>0]=Ut,Rn=Mt,Mt=zt-Mt|0}if(Mt=zr+1+Pt+Ht+Mt|0,hs(s,32,ot,Mt,gt),ss(s,uo,zr),hs(s,48,ot,Mt,gt^65536),Zt){Ut=mn>>>0>Lr>>>0?Lr:mn,fn=Fr+9|0,Ht=fn,Zt=Fr+8|0,zt=Ut;do{if(kt=Hm(o[zt>>2]|0,0,fn)|0,(zt|0)==(Ut|0))(kt|0)==(fn|0)&&(d[Zt>>0]=48,kt=Zt);else if(kt>>>0>Fr>>>0){Wm(Fr|0,48,kt-so|0)|0;do kt=kt+-1|0;while(kt>>>0>Fr>>>0)}ss(s,kt,Ht-kt|0),zt=zt+4|0}while(zt>>>0<=Lr>>>0);if(ln|0&&ss(s,5710,1),zt>>>0<zn>>>0&(Pt|0)>0)for(;;){if(kt=Hm(o[zt>>2]|0,0,fn)|0,kt>>>0>Fr>>>0){Wm(Fr|0,48,kt-so|0)|0;do kt=kt+-1|0;while(kt>>>0>Fr>>>0)}if(ss(s,kt,(Pt|0)<9?Pt:9),zt=zt+4|0,kt=Pt+-9|0,zt>>>0<zn>>>0&(Pt|0)>9)Pt=kt;else{Pt=kt;break}}hs(s,48,Pt+9|0,9,0)}else{if(ln=bn?zn:mn+4|0,(Pt|0)>-1){bn=Fr+9|0,fn=(fn|0)==0,ft=bn,Ht=0-so|0,Zt=Fr+8|0,Ut=mn;do{kt=Hm(o[Ut>>2]|0,0,bn)|0,(kt|0)==(bn|0)&&(d[Zt>>0]=48,kt=Zt);do if((Ut|0)==(mn|0)){if(zt=kt+1|0,ss(s,kt,1),fn&(Pt|0)<1){kt=zt;break}ss(s,5710,1),kt=zt}else{if(kt>>>0<=Fr>>>0)break;Wm(Fr|0,48,kt+Ht|0)|0;do kt=kt+-1|0;while(kt>>>0>Fr>>>0)}while(0);so=ft-kt|0,ss(s,kt,(Pt|0)>(so|0)?so:Pt),Pt=Pt-so|0,Ut=Ut+4|0}while(Ut>>>0<ln>>>0&(Pt|0)>-1)}hs(s,48,Pt+18|0,18,0),ss(s,Rn,Jr-Rn|0)}hs(s,32,ot,Mt,gt^8192)}else Fr=(_t&32|0)!=0,Mt=zr+3|0,hs(s,32,ot,Mt,gt&-65537),ss(s,uo,zr),ss(s,tt!=tt|!1?Fr?5686:5690:Fr?5678:5682,3),hs(s,32,ot,Mt,gt^8192);while(0);return yt=Ro,((Mt|0)<(ot|0)?ot:Mt)|0}function JS(s){s=+s;var tt=0;return Tt[Ct>>3]=s,tt=o[Ct>>2]|0,sn=o[Ct+4>>2]|0,tt|0}function r8(s,tt){return s=+s,tt=tt|0,+ +ew(s,tt)}function ew(s,tt){s=+s,tt=tt|0;var ot=0,ft=0,gt=0;switch(Tt[Ct>>3]=s,ot=o[Ct>>2]|0,ft=o[Ct+4>>2]|0,gt=G_(ot|0,ft|0,52)|0,gt&2047){case 0:{s!=0?(s=+ew(s*18446744073709552e3,tt),ot=(o[tt>>2]|0)+-64|0):ot=0,o[tt>>2]=ot;break}case 2047:break;default:o[tt>>2]=(gt&2047)+-1022,o[Ct>>2]=ot,o[Ct+4>>2]=ft&-2146435073|1071644672,s=+Tt[Ct>>3]}return+s}function i8(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;do if(s){if(tt>>>0<128){d[s>>0]=tt,s=1;break}if(!(o[o[(o8()|0)+188>>2]>>2]|0))if((tt&-128|0)==57216){d[s>>0]=tt,s=1;break}else{o[(Gm()|0)>>2]=84,s=-1;break}if(tt>>>0<2048){d[s>>0]=tt>>>6|192,d[s+1>>0]=tt&63|128,s=2;break}if(tt>>>0<55296|(tt&-8192|0)==57344){d[s>>0]=tt>>>12|224,d[s+1>>0]=tt>>>6&63|128,d[s+2>>0]=tt&63|128,s=3;break}if((tt+-65536|0)>>>0<1048576){d[s>>0]=tt>>>18|240,d[s+1>>0]=tt>>>12&63|128,d[s+2>>0]=tt>>>6&63|128,d[s+3>>0]=tt&63|128,s=4;break}else{o[(Gm()|0)>>2]=84,s=-1;break}}else s=1;while(0);return s|0}function o8(){return Ay()|0}function s8(){return Ay()|0}function a8(s,tt){s=s|0,tt=tt|0;var ot=0,ft=0;for(ft=0;;){if((ht[5712+ft>>0]|0)==(s|0)){s=2;break}if(ot=ft+1|0,(ot|0)==87){ot=5800,ft=87,s=5;break}else ft=ot}if((s|0)==2&&(ft?(ot=5800,s=5):ot=5800),(s|0)==5)for(;;){do s=ot,ot=ot+1|0;while(d[s>>0]|0);if(ft=ft+-1|0,ft)s=5;else break}return l8(ot,o[tt+20>>2]|0)|0}function l8(s,tt){return s=s|0,tt=tt|0,u8(s,tt)|0}function u8(s,tt){return s=s|0,tt=tt|0,tt?tt=c8(o[tt>>2]|0,o[tt+4>>2]|0,s)|0:tt=0,(tt|0?tt:s)|0}function c8(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0;Zt=(o[s>>2]|0)+1794895138|0,_t=zp(o[s+8>>2]|0,Zt)|0,ft=zp(o[s+12>>2]|0,Zt)|0,gt=zp(o[s+16>>2]|0,Zt)|0;e:do if(_t>>>0<tt>>>2>>>0&&(Ht=tt-(_t<<2)|0,ft>>>0<Ht>>>0&gt>>>0<Ht>>>0)&&!((gt|ft)&3|0)){for(Ht=ft>>>2,Ut=gt>>>2,zt=0;;){if(Pt=_t>>>1,kt=zt+Pt|0,Mt=kt<<1,gt=Mt+Ht|0,ft=zp(o[s+(gt<<2)>>2]|0,Zt)|0,gt=zp(o[s+(gt+1<<2)>>2]|0,Zt)|0,!(gt>>>0<tt>>>0&ft>>>0<(tt-gt|0)>>>0)){ft=0;break e}if(d[s+(gt+ft)>>0]|0){ft=0;break e}if(ft=qS(ot,s+gt|0)|0,!ft)break;if(ft=(ft|0)<0,(_t|0)==1){ft=0;break e}else zt=ft?zt:kt,_t=ft?Pt:_t-Pt|0}ft=Mt+Ut|0,gt=zp(o[s+(ft<<2)>>2]|0,Zt)|0,ft=zp(o[s+(ft+1<<2)>>2]|0,Zt)|0,ft>>>0<tt>>>0&gt>>>0<(tt-ft|0)>>>0?ft=d[s+(ft+gt)>>0]|0?0:s+ft|0:ft=0}else ft=0;while(0);return ft|0}function zp(s,tt){s=s|0,tt=tt|0;var ot=0;return ot=lw(s|0)|0,(tt|0?ot:s)|0}function f8(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0,Pt=0;ft=ot+16|0,gt=o[ft>>2]|0,gt?_t=5:d8(ot)|0?ft=0:(gt=o[ft>>2]|0,_t=5);e:do if((_t|0)==5){if(Pt=ot+20|0,Mt=o[Pt>>2]|0,ft=Mt,(gt-Mt|0)>>>0<tt>>>0){ft=$_[o[ot+36>>2]&7](ot,s,tt)|0;break}t:do if((d[ot+75>>0]|0)>-1){for(Mt=tt;;){if(!Mt){_t=0,gt=s;break t}if(gt=Mt+-1|0,(d[s+gt>>0]|0)==10)break;Mt=gt}if(ft=$_[o[ot+36>>2]&7](ot,s,Mt)|0,ft>>>0<Mt>>>0)break e;_t=Mt,gt=s+Mt|0,tt=tt-Mt|0,ft=o[Pt>>2]|0}else _t=0,gt=s;while(0);Zr(ft|0,gt|0,tt|0)|0,o[Pt>>2]=(o[Pt>>2]|0)+tt,ft=_t+tt|0}while(0);return ft|0}function d8(s){s=s|0;var tt=0,ot=0;return tt=s+74|0,ot=d[tt>>0]|0,d[tt>>0]=ot+255|ot,tt=o[s>>2]|0,tt&8?(o[s>>2]=tt|32,s=-1):(o[s+8>>2]=0,o[s+4>>2]=0,ot=o[s+44>>2]|0,o[s+28>>2]=ot,o[s+20>>2]=ot,o[s+16>>2]=ot+(o[s+48>>2]|0),s=0),s|0}function No(s,tt){s=It(s),tt=It(tt);var ot=0,ft=0;ot=tw(s)|0;do if((ot&2147483647)>>>0<=2139095040){if(ft=tw(tt)|0,(ft&2147483647)>>>0<=2139095040)if((ft^ot|0)<0){s=(ot|0)<0?tt:s;break}else{s=s<tt?tt:s;break}}else s=tt;while(0);return It(s)}function tw(s){return s=It(s),St[Ct>>2]=s,o[Ct>>2]|0|0}function Vp(s,tt){s=It(s),tt=It(tt);var ot=0,ft=0;ot=nw(s)|0;do if((ot&2147483647)>>>0<=2139095040){if(ft=nw(tt)|0,(ft&2147483647)>>>0<=2139095040)if((ft^ot|0)<0){s=(ot|0)<0?s:tt;break}else{s=s<tt?s:tt;break}}else s=tt;while(0);return It(s)}function nw(s){return s=It(s),St[Ct>>2]=s,o[Ct>>2]|0|0}function Ry(s,tt){s=It(s),tt=It(tt);var ot=0,ft=0,gt=0,_t=0,Mt=0,Pt=0,kt=0,zt=0;_t=(St[Ct>>2]=s,o[Ct>>2]|0),Pt=(St[Ct>>2]=tt,o[Ct>>2]|0),ot=_t>>>23&255,Mt=Pt>>>23&255,kt=_t&-2147483648,gt=Pt<<1;e:do if(gt|0&&!((ot|0)==255|((h8(tt)|0)&2147483647)>>>0>2139095040)){if(ft=_t<<1,ft>>>0<=gt>>>0)return tt=It(s*It(0)),It((ft|0)==(gt|0)?tt:s);if(ot)ft=_t&8388607|8388608;else{if(ot=_t<<9,(ot|0)>-1){ft=ot,ot=0;do ot=ot+-1|0,ft=ft<<1;while((ft|0)>-1)}else ot=0;ft=_t<<1-ot}if(Mt)Pt=Pt&8388607|8388608;else{if(_t=Pt<<9,(_t|0)>-1){gt=0;do gt=gt+-1|0,_t=_t<<1;while((_t|0)>-1)}else gt=0;Mt=gt,Pt=Pt<<1-gt}gt=ft-Pt|0,_t=(gt|0)>-1;t:do if((ot|0)>(Mt|0)){for(;;){if(_t)if(gt)ft=gt;else break;if(ft=ft<<1,ot=ot+-1|0,gt=ft-Pt|0,_t=(gt|0)>-1,(ot|0)<=(Mt|0))break t}tt=It(s*It(0));break e}while(0);if(_t)if(gt)ft=gt;else{tt=It(s*It(0));break}if(ft>>>0<8388608)do ft=ft<<1,ot=ot+-1|0;while(ft>>>0<8388608);(ot|0)>0?ot=ft+-8388608|ot<<23:ot=ft>>>(1-ot|0),tt=(o[Ct>>2]=ot|kt,It(St[Ct>>2]))}else zt=3;while(0);return(zt|0)==3&&(tt=It(s*tt),tt=It(tt/tt)),It(tt)}function h8(s){return s=It(s),St[Ct>>2]=s,o[Ct>>2]|0|0}function p8(s,tt){return s=s|0,tt=tt|0,YS(o[582]|0,s,tt)|0}function _o(s){s=s|0,ro()}function $m(s){s=s|0}function m8(s,tt){return s=s|0,tt=tt|0,0}function g8(s){return s=s|0,(rw(s+4|0)|0)==-1?(h0[o[(o[s>>2]|0)+8>>2]&127](s),s=1):s=0,s|0}function rw(s){s=s|0;var tt=0;return tt=o[s>>2]|0,o[s>>2]=tt+-1,tt+-1|0}function _f(s){s=s|0,g8(s)|0&&_8(s)}function _8(s){s=s|0;var tt=0;tt=s+8|0,o[tt>>2]|0&&(rw(tt)|0)!=-1||h0[o[(o[s>>2]|0)+16>>2]&127](s)}function Cr(s){s=s|0;var tt=0;for(tt=s|0?s:1;s=B_(tt)|0,!(s|0);){if(s=y8()|0,!s){s=0;break}vw[s&0]()}return s|0}function iw(s){return s=s|0,Cr(s)|0}function qn(s){s=s|0,U_(s)}function v8(s){s=s|0,(d[s+11>>0]|0)<0&&qn(o[s>>2]|0)}function y8(){var s=0;return s=o[2923]|0,o[2923]=s+0,s|0}function x8(){}function V_(s,tt,ot,ft){return s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,ft=tt-ft-(ot>>>0>s>>>0|0)>>>0,sn=ft,s-ot>>>0|0|0}function Py(s,tt,ot,ft){return s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,ot=s+ot>>>0,sn=tt+ft+(ot>>>0<s>>>0|0)>>>0,ot|0|0}function Wm(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0,Mt=0;if(_t=s+ot|0,tt=tt&255,(ot|0)>=67){for(;s&3;)d[s>>0]=tt,s=s+1|0;for(ft=_t&-4|0,gt=ft-64|0,Mt=tt|tt<<8|tt<<16|tt<<24;(s|0)<=(gt|0);)o[s>>2]=Mt,o[s+4>>2]=Mt,o[s+8>>2]=Mt,o[s+12>>2]=Mt,o[s+16>>2]=Mt,o[s+20>>2]=Mt,o[s+24>>2]=Mt,o[s+28>>2]=Mt,o[s+32>>2]=Mt,o[s+36>>2]=Mt,o[s+40>>2]=Mt,o[s+44>>2]=Mt,o[s+48>>2]=Mt,o[s+52>>2]=Mt,o[s+56>>2]=Mt,o[s+60>>2]=Mt,s=s+64|0;for(;(s|0)<(ft|0);)o[s>>2]=Mt,s=s+4|0}for(;(s|0)<(_t|0);)d[s>>0]=tt,s=s+1|0;return _t-ot|0}function ow(s,tt,ot){return s=s|0,tt=tt|0,ot=ot|0,(ot|0)<32?(sn=tt<<ot|(s&(1<<ot)-1<<32-ot)>>>32-ot,s<<ot):(sn=s<<ot-32,0)}function G_(s,tt,ot){return s=s|0,tt=tt|0,ot=ot|0,(ot|0)<32?(sn=tt>>>ot,s>>>ot|(tt&(1<<ot)-1)<<32-ot):(sn=0,tt>>>ot-32|0)}function Zr(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0,gt=0,_t=0;if((ot|0)>=8192)return Jp(s|0,tt|0,ot|0)|0;if(_t=s|0,gt=s+ot|0,(s&3)==(tt&3)){for(;s&3;){if(!ot)return _t|0;d[s>>0]=d[tt>>0]|0,s=s+1|0,tt=tt+1|0,ot=ot-1|0}for(ot=gt&-4|0,ft=ot-64|0;(s|0)<=(ft|0);)o[s>>2]=o[tt>>2],o[s+4>>2]=o[tt+4>>2],o[s+8>>2]=o[tt+8>>2],o[s+12>>2]=o[tt+12>>2],o[s+16>>2]=o[tt+16>>2],o[s+20>>2]=o[tt+20>>2],o[s+24>>2]=o[tt+24>>2],o[s+28>>2]=o[tt+28>>2],o[s+32>>2]=o[tt+32>>2],o[s+36>>2]=o[tt+36>>2],o[s+40>>2]=o[tt+40>>2],o[s+44>>2]=o[tt+44>>2],o[s+48>>2]=o[tt+48>>2],o[s+52>>2]=o[tt+52>>2],o[s+56>>2]=o[tt+56>>2],o[s+60>>2]=o[tt+60>>2],s=s+64|0,tt=tt+64|0;for(;(s|0)<(ot|0);)o[s>>2]=o[tt>>2],s=s+4|0,tt=tt+4|0}else for(ot=gt-4|0;(s|0)<(ot|0);)d[s>>0]=d[tt>>0]|0,d[s+1>>0]=d[tt+1>>0]|0,d[s+2>>0]=d[tt+2>>0]|0,d[s+3>>0]=d[tt+3>>0]|0,s=s+4|0,tt=tt+4|0;for(;(s|0)<(gt|0);)d[s>>0]=d[tt>>0]|0,s=s+1|0,tt=tt+1|0;return _t|0}function sw(s){s=s|0;var tt=0;return tt=d[Nt+(s&255)>>0]|0,(tt|0)<8?tt|0:(tt=d[Nt+(s>>8&255)>>0]|0,(tt|0)<8?tt+8|0:(tt=d[Nt+(s>>16&255)>>0]|0,(tt|0)<8?tt+16|0:(d[Nt+(s>>>24)>>0]|0)+24|0))}function aw(s,tt,ot,ft,gt){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0;var _t=0,Mt=0,Pt=0,kt=0,zt=0,Ut=0,Ht=0,Zt=0,yn=0,fn=0;if(Ut=s,kt=tt,zt=kt,Mt=ot,Zt=ft,Pt=Zt,!zt)return _t=(gt|0)!=0,Pt?_t?(o[gt>>2]=s|0,o[gt+4>>2]=tt&0,Zt=0,gt=0,sn=Zt,gt|0):(Zt=0,gt=0,sn=Zt,gt|0):(_t&&(o[gt>>2]=(Ut>>>0)%(Mt>>>0),o[gt+4>>2]=0),Zt=0,gt=(Ut>>>0)/(Mt>>>0)>>>0,sn=Zt,gt|0);_t=(Pt|0)==0;do if(Mt){if(!_t){if(_t=(gr(Pt|0)|0)-(gr(zt|0)|0)|0,_t>>>0<=31){Ht=_t+1|0,Pt=31-_t|0,tt=_t-31>>31,Mt=Ht,s=Ut>>>(Ht>>>0)&tt|zt<<Pt,tt=zt>>>(Ht>>>0)&tt,_t=0,Pt=Ut<<Pt;break}return gt?(o[gt>>2]=s|0,o[gt+4>>2]=kt|tt&0,Zt=0,gt=0,sn=Zt,gt|0):(Zt=0,gt=0,sn=Zt,gt|0)}if(_t=Mt-1|0,_t&Mt|0){Pt=(gr(Mt|0)|0)+33-(gr(zt|0)|0)|0,fn=64-Pt|0,Ht=32-Pt|0,kt=Ht>>31,yn=Pt-32|0,tt=yn>>31,Mt=Pt,s=Ht-1>>31&zt>>>(yn>>>0)|(zt<<Ht|Ut>>>(Pt>>>0))&tt,tt=tt&zt>>>(Pt>>>0),_t=Ut<<fn&kt,Pt=(zt<<fn|Ut>>>(yn>>>0))&kt|Ut<<Ht&Pt-33>>31;break}return gt|0&&(o[gt>>2]=_t&Ut,o[gt+4>>2]=0),(Mt|0)==1?(yn=kt|tt&0,fn=s|0|0,sn=yn,fn|0):(fn=sw(Mt|0)|0,yn=zt>>>(fn>>>0)|0,fn=zt<<32-fn|Ut>>>(fn>>>0)|0,sn=yn,fn|0)}else{if(_t)return gt|0&&(o[gt>>2]=(zt>>>0)%(Mt>>>0),o[gt+4>>2]=0),yn=0,fn=(zt>>>0)/(Mt>>>0)>>>0,sn=yn,fn|0;if(!Ut)return gt|0&&(o[gt>>2]=0,o[gt+4>>2]=(zt>>>0)%(Pt>>>0)),yn=0,fn=(zt>>>0)/(Pt>>>0)>>>0,sn=yn,fn|0;if(_t=Pt-1|0,!(_t&Pt))return gt|0&&(o[gt>>2]=s|0,o[gt+4>>2]=_t&zt|tt&0),yn=0,fn=zt>>>((sw(Pt|0)|0)>>>0),sn=yn,fn|0;if(_t=(gr(Pt|0)|0)-(gr(zt|0)|0)|0,_t>>>0<=30){tt=_t+1|0,Pt=31-_t|0,Mt=tt,s=zt<<Pt|Ut>>>(tt>>>0),tt=zt>>>(tt>>>0),_t=0,Pt=Ut<<Pt;break}return gt?(o[gt>>2]=s|0,o[gt+4>>2]=kt|tt&0,yn=0,fn=0,sn=yn,fn|0):(yn=0,fn=0,sn=yn,fn|0)}while(0);if(!Mt)zt=Pt,kt=0,Pt=0;else{Ht=ot|0|0,Ut=Zt|ft&0,zt=Py(Ht|0,Ut|0,-1,-1)|0,ot=sn,kt=Pt,Pt=0;do ft=kt,kt=_t>>>31|kt<<1,_t=Pt|_t<<1,ft=s<<1|ft>>>31|0,Zt=s>>>31|tt<<1|0,V_(zt|0,ot|0,ft|0,Zt|0)|0,fn=sn,yn=fn>>31|((fn|0)<0?-1:0)<<1,Pt=yn&1,s=V_(ft|0,Zt|0,yn&Ht|0,(((fn|0)<0?-1:0)>>31|((fn|0)<0?-1:0)<<1)&Ut|0)|0,tt=sn,Mt=Mt-1|0;while(Mt|0);zt=kt,kt=0}return Mt=0,gt|0&&(o[gt>>2]=s,o[gt+4>>2]=tt),yn=(_t|0)>>>31|(zt|Mt)<<1|(Mt<<1|_t>>>31)&0|kt,fn=(_t<<1|0)&-2|Pt,sn=yn,fn|0}function Ly(s,tt,ot,ft){return s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,aw(s,tt,ot,ft,0)|0}function _d(s){s=s|0;var tt=0,ot=0;return ot=s+15&-16|0,tt=o[At>>2]|0,s=tt+ot|0,(ot|0)>0&(s|0)<(tt|0)|(s|0)<0?(Qn()|0,em(12),-1):(o[At>>2]=s,(s|0)>(Kn()|0)&&!(rr()|0)?(o[At>>2]=tt,em(12),-1):tt|0)}function c2(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0;var ft=0;if((tt|0)<(s|0)&(s|0)<(tt+ot|0)){for(ft=s,tt=tt+ot|0,s=s+ot|0;(ot|0)>0;)s=s-1|0,tt=tt-1|0,ot=ot-1|0,d[s>>0]=d[tt>>0]|0;s=ft}else Zr(s,tt,ot)|0;return s|0}function Iy(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0;var gt=0,_t=0;return _t=yt,yt=yt+16|0,gt=_t|0,aw(s,tt,ot,ft,gt)|0,yt=_t,sn=o[gt+4>>2]|0,o[gt>>2]|0|0}function lw(s){return s=s|0,(s&255)<<24|(s>>8&255)<<16|(s>>16&255)<<8|s>>>24|0}function S8(s,tt,ot,ft,gt,_t){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0,_t=_t|0,uw[s&1](tt|0,ot|0,ft|0,gt|0,_t|0)}function w8(s,tt,ot){s=s|0,tt=tt|0,ot=It(ot),cw[s&1](tt|0,It(ot))}function M8(s,tt,ot){s=s|0,tt=tt|0,ot=+ot,fw[s&31](tt|0,+ot)}function E8(s,tt,ot,ft){return s=s|0,tt=tt|0,ot=It(ot),ft=It(ft),It(dw[s&0](tt|0,It(ot),It(ft)))}function T8(s,tt){s=s|0,tt=tt|0,h0[s&127](tt|0)}function A8(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,p0[s&31](tt|0,ot|0)}function C8(s,tt){return s=s|0,tt=tt|0,Hp[s&31](tt|0)|0}function R8(s,tt,ot,ft,gt){s=s|0,tt=tt|0,ot=+ot,ft=+ft,gt=gt|0,hw[s&1](tt|0,+ot,+ft,gt|0)}function P8(s,tt,ot,ft){s=s|0,tt=tt|0,ot=+ot,ft=+ft,uB[s&1](tt|0,+ot,+ft)}function L8(s,tt,ot,ft){return s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,$_[s&7](tt|0,ot|0,ft|0)|0}function I8(s,tt,ot,ft){return s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,+cB[s&1](tt|0,ot|0,ft|0)}function b8(s,tt){return s=s|0,tt=tt|0,+pw[s&15](tt|0)}function k8(s,tt,ot){return s=s|0,tt=tt|0,ot=+ot,fB[s&1](tt|0,+ot)|0}function N8(s,tt,ot){return s=s|0,tt=tt|0,ot=ot|0,ky[s&15](tt|0,ot|0)|0}function D8(s,tt,ot,ft,gt,_t){s=s|0,tt=tt|0,ot=ot|0,ft=+ft,gt=+gt,_t=_t|0,dB[s&1](tt|0,ot|0,+ft,+gt,_t|0)}function O8(s,tt,ot,ft,gt,_t,Mt){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0,_t=_t|0,Mt=Mt|0,hB[s&1](tt|0,ot|0,ft|0,gt|0,_t|0,Mt|0)}function F8(s,tt,ot){return s=s|0,tt=tt|0,ot=ot|0,+mw[s&7](tt|0,ot|0)}function B8(s){return s=s|0,W_[s&7]()|0}function U8(s,tt,ot,ft,gt,_t){return s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0,_t=_t|0,gw[s&1](tt|0,ot|0,ft|0,gt|0,_t|0)|0}function z8(s,tt,ot,ft,gt){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=+gt,pB[s&1](tt|0,ot|0,ft|0,+gt)}function V8(s,tt,ot,ft,gt,_t,Mt){s=s|0,tt=tt|0,ot=ot|0,ft=It(ft),gt=gt|0,_t=It(_t),Mt=Mt|0,_w[s&1](tt|0,ot|0,It(ft),gt|0,It(_t),Mt|0)}function G8(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,h2[s&15](tt|0,ot|0,ft|0)}function H8(s){s=s|0,vw[s&0]()}function $8(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=+ft,yw[s&15](tt|0,ot|0,+ft)}function W8(s,tt,ot){return s=s|0,tt=+tt,ot=+ot,mB[s&1](+tt,+ot)|0}function j8(s,tt,ot,ft,gt){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0,Ny[s&15](tt|0,ot|0,ft|0,gt|0)}function X8(s,tt,ot,ft,gt){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0,Jn(0)}function q8(s,tt){s=s|0,tt=It(tt),Jn(1)}function $a(s,tt){s=s|0,tt=+tt,Jn(2)}function Y8(s,tt,ot){return s=s|0,tt=It(tt),ot=It(ot),Jn(3),Un}function qr(s){s=s|0,Jn(4)}function f2(s,tt){s=s|0,tt=tt|0,Jn(5)}function Il(s){return s=s|0,Jn(6),0}function K8(s,tt,ot,ft){s=s|0,tt=+tt,ot=+ot,ft=ft|0,Jn(7)}function Q8(s,tt,ot){s=s|0,tt=+tt,ot=+ot,Jn(8)}function Z8(s,tt,ot){return s=s|0,tt=tt|0,ot=ot|0,Jn(9),0}function J8(s,tt,ot){return s=s|0,tt=tt|0,ot=ot|0,Jn(10),0}function Gp(s){return s=s|0,Jn(11),0}function eB(s,tt){return s=s|0,tt=+tt,Jn(12),0}function d2(s,tt){return s=s|0,tt=tt|0,Jn(13),0}function tB(s,tt,ot,ft,gt){s=s|0,tt=tt|0,ot=+ot,ft=+ft,gt=gt|0,Jn(14)}function nB(s,tt,ot,ft,gt,_t){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0,_t=_t|0,Jn(15)}function by(s,tt){return s=s|0,tt=tt|0,Jn(16),0}function rB(){return Jn(17),0}function iB(s,tt,ot,ft,gt){return s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,gt=gt|0,Jn(18),0}function oB(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=+ft,Jn(19)}function sB(s,tt,ot,ft,gt,_t){s=s|0,tt=tt|0,ot=It(ot),ft=ft|0,gt=It(gt),_t=_t|0,Jn(20)}function H_(s,tt,ot){s=s|0,tt=tt|0,ot=ot|0,Jn(21)}function aB(){Jn(22)}function jm(s,tt,ot){s=s|0,tt=tt|0,ot=+ot,Jn(23)}function lB(s,tt){return s=+s,tt=+tt,Jn(24),0}function Xm(s,tt,ot,ft){s=s|0,tt=tt|0,ot=ot|0,ft=ft|0,Jn(25)}var uw=[X8,iN],cw=[q8,Z2],fw=[$a,Am,z1,s_,dv,o0,Pp,V1,l_,u_,f_,d_,G1,H1,h_,$1,Cm,hv,pv,$a,$a,$a,$a,$a,$a,$a,$a,$a,$a,$a,$a,$a],dw=[Y8],h0=[qr,$m,Ow,Fw,Bw,hA,pA,mA,kL,NL,DL,jI,XI,qI,hF,pF,mF,xo,e_,Mm,a_,c_,y_,x_,lo,jw,iM,wM,BM,tE,vE,kE,qE,cT,AT,GT,iA,bA,qA,c4,C4,H4,o3,T3,z3,eC,gC,Us,XC,uR,RR,jR,aP,RP,BP,VP,iL,aL,EL,FL,zL,iI,wI,Wy,nD,kD,qD,uO,IO,jO,rF,sF,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr,qr],p0=[f2,t_,B1,Em,i_,U1,o_,fu,uv,i0,fv,Tr,Im,po,$o,Wo,ns,Vs,W0,K1,Z1,M_,P3,H3,KR,oD,LI,bS,f2,f2,f2,f2],Hp=[Il,$F,F1,__,Pm,Lm,Lp,W1,j1,X1,q1,mv,bp,Rs,n2,yC,fP,aI,uD,Rl,Il,Il,Il,Il,Il,Il,Il,Il,Il,Il,Il,Il],hw=[K8,a0],uB=[Q8,CL],$_=[Z8,XS,WF,qF,oE,OA,QC,hO],cB=[J8,LT],pw=[Gp,Y1,Ho,Yo,S_,w_,r2,Fm,gv,_v,Gp,Gp,Gp,Gp,Gp,Gp],fB=[eB,DP],ky=[d2,m8,Q1,Lw,AM,SE,OE,lA,ZA,iC,J2,ZD,d2,d2,d2,d2],dB=[tB,lM],hB=[nB,DO],mw=[by,Ip,E_,l0,vv,jT,by,by],W_=[rB,u0,_g,av,WP,fL,WL,cF],gw=[iB,ls],pB=[oB,I4],_w=[sB,km],h2=[H_,Rm,v_,j0,bm,GM,QE,X4,u3,Q2,CN,FD,KO,H_,H_,H_],vw=[aB],yw=[jm,n_,r_,cv,Tm,p_,m_,g_,p4,hR,IP,jm,jm,jm,jm,jm],mB=[lB,IL],Ny=[Xm,pT,CC,bR,xP,QP,_L,ZL,CI,mD,SF,Xm,Xm,Xm,Xm,Xm];return{_llvm_bswap_i32:lw,dynCall_idd:W8,dynCall_i:B8,_i64Subtract:V_,___udivdi3:Ly,dynCall_vif:w8,setThrew:Ts,dynCall_viii:G8,_bitshift64Lshr:G_,_bitshift64Shl:ow,dynCall_vi:T8,dynCall_viiddi:D8,dynCall_diii:I8,dynCall_iii:N8,_memset:Wm,_sbrk:_d,_memcpy:Zr,__GLOBAL__sub_I_Yoga_cpp:us,dynCall_vii:A8,___uremdi3:Iy,dynCall_vid:M8,stackAlloc:ho,_nbind_init:bF,getTempRet0:Ko,dynCall_di:b8,dynCall_iid:k8,setTempRet0:ru,_i64Add:Py,dynCall_fiff:E8,dynCall_iiii:L8,_emscripten_get_global_libc:HF,dynCall_viid:$8,dynCall_viiid:z8,dynCall_viififi:V8,dynCall_ii:C8,__GLOBAL__sub_I_Binding_cc:qN,dynCall_viiii:j8,dynCall_iiiiii:U8,stackSave:$r,dynCall_viiiii:S8,__GLOBAL__sub_I_nbind_cc:T_,dynCall_vidd:P8,_free:U_,runPostSets:x8,dynCall_viiiiii:O8,establishStackSpace:wo,_memmove:c2,stackRestore:To,_malloc:B_,__GLOBAL__sub_I_common_cc:mI,dynCall_viddi:R8,dynCall_dii:F8,dynCall_v:H8}}(Module.asmGlobalArg,Module.asmLibraryArg,buffer);Module._llvm_bswap_i32=asm._llvm_bswap_i32,Module.getTempRet0=asm.getTempRet0,Module.___udivdi3=asm.___udivdi3,Module.setThrew=asm.setThrew,Module._bitshift64Lshr=asm._bitshift64Lshr,Module._bitshift64Shl=asm._bitshift64Shl,Module._memset=asm._memset,Module._sbrk=asm._sbrk,Module._memcpy=asm._memcpy,Module.stackAlloc=asm.stackAlloc,Module.___uremdi3=asm.___uremdi3,Module._nbind_init=asm._nbind_init,Module._i64Subtract=asm._i64Subtract,Module.setTempRet0=asm.setTempRet0,Module._i64Add=asm._i64Add,Module._emscripten_get_global_libc=asm._emscripten_get_global_libc;var __GLOBAL__sub_I_Yoga_cpp=Module.__GLOBAL__sub_I_Yoga_cpp=asm.__GLOBAL__sub_I_Yoga_cpp,__GLOBAL__sub_I_Binding_cc=Module.__GLOBAL__sub_I_Binding_cc=asm.__GLOBAL__sub_I_Binding_cc;Module.stackSave=asm.stackSave;var __GLOBAL__sub_I_nbind_cc=Module.__GLOBAL__sub_I_nbind_cc=asm.__GLOBAL__sub_I_nbind_cc,_free=Module._free=asm._free;Module.runPostSets=asm.runPostSets,Module.establishStackSpace=asm.establishStackSpace,Module._memmove=asm._memmove,Module.stackRestore=asm.stackRestore;var _malloc=Module._malloc=asm._malloc,__GLOBAL__sub_I_common_cc=Module.__GLOBAL__sub_I_common_cc=asm.__GLOBAL__sub_I_common_cc;Module.dynCall_viiiii=asm.dynCall_viiiii,Module.dynCall_vif=asm.dynCall_vif,Module.dynCall_vid=asm.dynCall_vid,Module.dynCall_fiff=asm.dynCall_fiff,Module.dynCall_vi=asm.dynCall_vi,Module.dynCall_vii=asm.dynCall_vii,Module.dynCall_ii=asm.dynCall_ii,Module.dynCall_viddi=asm.dynCall_viddi,Module.dynCall_vidd=asm.dynCall_vidd,Module.dynCall_iiii=asm.dynCall_iiii,Module.dynCall_diii=asm.dynCall_diii,Module.dynCall_di=asm.dynCall_di,Module.dynCall_iid=asm.dynCall_iid,Module.dynCall_iii=asm.dynCall_iii,Module.dynCall_viiddi=asm.dynCall_viiddi,Module.dynCall_viiiiii=asm.dynCall_viiiiii,Module.dynCall_dii=asm.dynCall_dii,Module.dynCall_i=asm.dynCall_i,Module.dynCall_iiiiii=asm.dynCall_iiiiii,Module.dynCall_viiid=asm.dynCall_viiid,Module.dynCall_viififi=asm.dynCall_viififi,Module.dynCall_viii=asm.dynCall_viii,Module.dynCall_v=asm.dynCall_v,Module.dynCall_viid=asm.dynCall_viid,Module.dynCall_idd=asm.dynCall_idd,Module.dynCall_viiii=asm.dynCall_viiii,Runtime.stackAlloc=Module.stackAlloc,Runtime.stackSave=Module.stackSave,Runtime.stackRestore=Module.stackRestore,Runtime.establishStackSpace=Module.establishStackSpace,Runtime.setTempRet0=Module.setTempRet0,Runtime.getTempRet0=Module.getTempRet0,Module.asm=asm;function ExitStatus(c){this.name="ExitStatus",this.message="Program terminated with exit("+c+")",this.status=c}ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus;var initialStackTop;dependenciesFulfilled=function c(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=c)},Module.callMain=Module.callMain=function c(e){e=e||[],ensureInitRuntime();var a=e.length+1;function d(){for(var xt=0;xt<4-1;xt++)nt.push(0)}var nt=[allocate(intArrayFromString(Module.thisProgram),"i8",ALLOC_NORMAL)];d();for(var o=0;o<a-1;o=o+1)nt.push(allocate(intArrayFromString(e[o]),"i8",ALLOC_NORMAL)),d();nt.push(0),nt=allocate(nt,"i32",ALLOC_NORMAL);try{var ht=Module._main(a,nt,0);exit(ht,!0)}catch(xt){if(xt instanceof ExitStatus)return;if(xt=="SimulateInfiniteLoop"){Module.noExitRuntime=!0;return}else{var vt=xt;xt&&typeof xt=="object"&&xt.stack&&(vt=[xt,xt.stack]),Module.printErr("exception thrown: "+vt),Module.quit(1,xt)}}finally{}};function run(c){if(c=c||Module.arguments,runDependencies>0||(preRun(),runDependencies>0)||Module.calledRun)return;function e(){Module.calledRun||(Module.calledRun=!0,!ABORT&&(ensureInitRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Module._main&&shouldRunNow&&Module.callMain(c),postRun()))}Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),e()},1)):e()}Module.run=Module.run=run;function exit(c,e){e&&Module.noExitRuntime||(Module.noExitRuntime||(ABORT=!0,STACKTOP=initialStackTop,exitRuntime(),Module.onExit&&Module.onExit(c)),ENVIRONMENT_IS_NODE&&process.exit(c),Module.quit(c,new ExitStatus(c)))}Module.exit=Module.exit=exit;var abortDecorators=[];function abort(c){Module.onAbort&&Module.onAbort(c),c!==void 0?(Module.print(c),Module.printErr(c),c=JSON.stringify(c)):c="",ABORT=!0;var e=`
If this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.`,a="abort("+c+") at "+stackTrace()+e;throw abortDecorators&&abortDecorators.forEach(function(d){a=d(a,c)}),a}if(Module.abort=Module.abort=abort,Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run()})})(nbind$1);var nbindExports=nbind$1.exports,Yoga=entryCommon,nbind=nbindExports,ran=!1,ret=null;nbind({},function(c,e){if(!ran){if(ran=!0,c)throw c;ret=e}});if(!ran)throw new Error("Failed to load the yoga module - it needed to be loaded synchronously, but didn't");var entryBrowser=Yoga(ret.bind,ret.lib);const l=getDefaultExportFromCjs(entryBrowser);function mergeRefs(c){return function(e){c.forEach(function(a){typeof a=="function"?a(e):a!=null&&(a.current=e)})}}const h=c=>c[0].toUpperCase()+c.slice(1),x=c=>c.toUpperCase().replace("-","_"),w=(c,e,a)=>Object.keys(e).forEach(d=>{const nt=e[d];if(typeof nt=="string")switch(d){case"flexDir":case"dir":case"flexDirection":return c.setFlexDirection(l[`FLEX_DIRECTION_${x(nt)}`]);case"align":return c.setAlignItems(l[`ALIGN_${x(nt)}`]),c.setAlignContent(l[`ALIGN_${x(nt)}`]);case"alignContent":return c.setAlignContent(l[`ALIGN_${x(nt)}`]);case"alignItems":return c.setAlignItems(l[`ALIGN_${x(nt)}`]);case"alignSelf":return c.setAlignSelf(l[`ALIGN_${x(nt)}`]);case"justify":case"justifyContent":return c.setJustifyContent(l[`JUSTIFY_${x(nt)}`]);case"wrap":case"flexWrap":return c.setFlexWrap(l[`WRAP_${x(nt)}`]);case"basis":case"flexBasis":return c.setFlexBasis(nt);default:return c[`set${h(d)}`](nt)}else if(typeof nt=="number"){const o=nt*a;switch(d){case"basis":case"flexBasis":return c.setFlexBasis(o);case"grow":case"flexGrow":return c.setFlexGrow(o);case"shrink":case"flexShrink":return c.setFlexShrink(o);case"align":return c.setAlignItems(nt);case"justify":return c.setJustifyContent(nt);case"flexDir":case"dir":return c.setFlexDirection(nt);case"wrap":return c.setFlexWrap(nt);case"padding":case"p":return c.setPadding(l.EDGE_ALL,o);case"paddingLeft":case"pl":return c.setPadding(l.EDGE_LEFT,o);case"paddingRight":case"pr":return c.setPadding(l.EDGE_RIGHT,o);case"paddingTop":case"pt":return c.setPadding(l.EDGE_TOP,o);case"paddingBottom":case"pb":return c.setPadding(l.EDGE_BOTTOM,o);case"margin":case"m":return c.setMargin(l.EDGE_ALL,o);case"marginLeft":case"ml":return c.setMargin(l.EDGE_LEFT,o);case"marginRight":case"mr":return c.setMargin(l.EDGE_RIGHT,o);case"marginTop":case"mt":return c.setMargin(l.EDGE_TOP,o);case"marginBottom":case"mb":return c.setMargin(l.EDGE_BOTTOM,o);default:return c[`set${h(d)}`](o)}}}),y=c=>Object.keys(c).forEach(e=>c[e]===void 0?delete c[e]:{}),E=reactExports.createContext({scaleFactor:100,requestReflow(){console.warn("Flex not initialized! Please report")},registerBox(){console.warn("Flex not initialized! Please report")},unregisterBox(){console.warn("Flex not initialized! Please report")},notInitialized:!0}),b=reactExports.createContext({node:null,size:[0,0],notInitialized:!0});function C(c){let e=reactExports.useContext(c);return e.notInitialized&&console.warn("You must place this hook/component under a <Flex/> component!"),e}function B(){const{requestReflow:c}=C(E);return c}new Vector3;function T(c,e){let{children:a,centerAnchor:d,flexDirection:nt,flexDir:o,dir:ht,alignContent:vt,alignItems:xt,alignSelf:St,align:Tt,justifyContent:At,justify:Ct,flexBasis:Rt,basis:yt,flexGrow:Dt,grow:Nt,flexShrink:Lt,shrink:Ot,flexWrap:Ft,wrap:Vt,margin:jt,m:$t,marginBottom:Yt,marginLeft:Kt,marginRight:qt,marginTop:Wt,mb:Jt,ml:cn,mr:sn,mt:Tn,padding:Cn,p:En,paddingBottom:Nn,paddingLeft:on,paddingRight:hn,paddingTop:pn,pb:Pn,pl:jn,pr:ar,pt:An,height:Xn,width:or,maxHeight:tr,maxWidth:_r,minHeight:kr,minWidth:hr,...gr}=c;const It=reactExports.useMemo(()=>{const Hn={flexDirection:nt,flexDir:o,dir:ht,alignContent:vt,alignItems:xt,alignSelf:St,align:Tt,justifyContent:At,justify:Ct,flexBasis:Rt,basis:yt,flexGrow:Dt,grow:Nt,flexShrink:Lt,shrink:Ot,flexWrap:Ft,wrap:Vt,margin:jt,m:$t,marginBottom:Yt,marginLeft:Kt,marginRight:qt,marginTop:Wt,mb:Jt,ml:cn,mr:sn,mt:Tn,padding:Cn,p:En,paddingBottom:Nn,paddingLeft:on,paddingRight:hn,paddingTop:pn,pb:Pn,pl:jn,pr:ar,pt:An,height:Xn,width:or,maxHeight:tr,maxWidth:_r,minHeight:kr,minWidth:hr};return y(Hn),Hn},[Tt,vt,xt,St,ht,Rt,yt,o,nt,Dt,Nt,Lt,Ot,Ft,Xn,Ct,At,$t,jt,Yt,Kt,qt,Wt,tr,_r,Jt,kr,hr,cn,sn,Tn,En,Cn,Nn,on,hn,pn,Pn,jn,ar,An,or,Vt]),{registerBox:Jn,unregisterBox:nn,scaleFactor:rr}=C(E),{node:Kn}=C(b),Qn=reactExports.useRef(),Fn=reactExports.useMemo(()=>l.Node.create(),[]),vr=B(),Yn=reactExports.useRef(Kn==null?void 0:Kn.getChildCount());reactExports.useLayoutEffect(()=>{w(Fn,It,rr)},[It,Fn,rr]),reactExports.useLayoutEffect(()=>{if(Qn.current&&Kn)return Yn.current=Yn.current||Kn.getChildCount(),Kn.insertChild(Fn,Yn.current),Jn(Fn,Qn.current,It,d),()=>{Kn.removeChild(Fn),nn(Fn)}},[Fn,Kn,It,d,Jn,nn]),reactExports.useLayoutEffect(()=>{vr()},[a,It,vr]);const[tn,Qt]=reactExports.useState([0,0]),dn=1/rr;useFrame(()=>{const Hn=(typeof It.width=="number"?It.width:null)||Fn.getComputedWidth().valueOf()/rr,xn=(typeof It.height=="number"?It.height:null)||Fn.getComputedHeight().valueOf()/rr;(Math.abs(Hn-tn[0])>dn||Math.abs(xn-tn[1])>dn)&&Qt([Hn,xn])});const In=reactExports.useMemo(()=>({node:Fn,size:tn,centerAnchor:d}),[Fn,tn,d]);return React$1.createElement("group",_extends$2({ref:mergeRefs([Qn,e])},gr),React$1.createElement(b.Provider,{value:In},typeof a=="function"?a(tn[0],tn[1],d):a))}const F=React$1.forwardRef(T);function A(c,e){let{size:a=[1,1,1],yogaDirection:d="ltr",plane:nt="xy",children:o,scaleFactor:ht=100,onReflow:vt,disableSizeRecalc:xt,centerAnchor:St,flexDirection:Tt,flexDir:At,dir:Ct,alignContent:Rt,alignItems:yt,alignSelf:Dt,align:Nt,justifyContent:Lt,justify:Ot,flexBasis:Ft,basis:Vt,flexGrow:jt,grow:$t,flexShrink:Yt,shrink:Kt,flexWrap:qt,wrap:Wt,margin:Jt,m:cn,marginBottom:sn,marginLeft:Tn,marginRight:Cn,marginTop:En,mb:Nn,ml:on,mr:hn,mt:pn,padding:Pn,p:jn,paddingBottom:ar,paddingLeft:An,paddingRight:Xn,paddingTop:or,pb:tr,pl:_r,pr:kr,pt:hr,height:gr,width:It,maxHeight:Jn,maxWidth:nn,minHeight:rr,minWidth:Kn,...Qn}=c;const Fn=reactExports.useMemo(()=>{const ur={flexDirection:Tt,flexDir:At,dir:Ct,alignContent:Rt,alignItems:yt,alignSelf:Dt,align:Nt,justifyContent:Lt,justify:Ot,flexBasis:Ft,basis:Vt,flexGrow:jt,grow:$t,flexShrink:Yt,shrink:Kt,flexWrap:qt,wrap:Wt,margin:Jt,m:cn,marginBottom:sn,marginLeft:Tn,marginRight:Cn,marginTop:En,mb:Nn,ml:on,mr:hn,mt:pn,padding:Pn,p:jn,paddingBottom:ar,paddingLeft:An,paddingRight:Xn,paddingTop:or,pb:tr,pl:_r,pr:kr,pt:hr,height:gr,width:It,maxHeight:Jn,maxWidth:nn,minHeight:rr,minWidth:Kn};return y(ur),ur},[Nt,Rt,yt,Dt,Ct,Ft,Vt,At,Tt,jt,$t,Yt,Kt,qt,gr,Ot,Lt,cn,Jt,sn,Tn,Cn,En,Jn,nn,Nn,rr,Kn,on,hn,pn,jn,Pn,ar,An,Xn,or,tr,_r,kr,hr,It,Wt]),vr=reactExports.useRef(),Yn=reactExports.useRef([]),tn=reactExports.useCallback(function(ur,an,sr,kn){kn===void 0&&(kn=!1);const Wn=Yn.current.findIndex(xr=>xr.node===ur);Wn!==-1&&Yn.current.splice(Wn,1),Yn.current.push({group:an,node:ur,flexProps:sr,centerAnchor:kn})},[]),Qt=reactExports.useCallback(ur=>{const an=Yn.current.findIndex(sr=>sr.node===ur);an!==-1&&Yn.current.splice(an,1)},[]),dn=reactExports.useMemo(()=>l.Node.create(),[]);reactExports.useLayoutEffect(()=>{w(dn,Fn,ht)},[dn,Fn,ht]);const{invalidate:In}=useThree(),Hn=reactExports.useRef(!0),xn=reactExports.useCallback(()=>{Hn.current=!0,In()},[In]);reactExports.useLayoutEffect(()=>{xn()},[o,Fn,xn]);const er=reactExports.useMemo(()=>new Box3,[]),Gn=reactExports.useMemo(()=>new Vector3,[]),dr=nt[0],Nr=nt[1],Zn=function(ur){switch(ur){case"xy":return"z";case"yz":return"x";case"xz":return"y"}}(nt),[nr,ir]=function(ur,an){switch(an){case"xy":return[ur[0],ur[1]];case"yz":return[ur[1],ur[2]];case"xz":return[ur[0],ur[2]]}}(a,nt),Or=d==="ltr"?l.DIRECTION_LTR:d==="rtl"?l.DIRECTION_RTL:d,Er=reactExports.useMemo(()=>({requestReflow:xn,registerBox:tn,unregisterBox:Qt,scaleFactor:ht}),[xn,tn,Qt,ht]),un=reactExports.useMemo(()=>({node:dn,size:[nr,ir],centerAnchor:St}),[dn,nr,ir,St]);function $n(){xt||Yn.current.forEach(pr=>{let{group:Hr,node:ao,flexProps:So}=pr;const to=typeof So.width=="number"?So.width*ht:So.width,Lo=typeof So.height=="number"?So.height*ht:So.height;to!==void 0&&Lo!==void 0?(ao.setWidth(to),ao.setHeight(Lo)):ao.getChildCount()===0&&(vr.current?((Io,js,$u,Es)=>{Io.updateMatrix();const Ur=Io.matrix,nu=Io.matrixAutoUpdate;js.updateMatrixWorld();const gs=new Matrix4().copy(js.matrixWorld).invert();Io.matrix=gs,Io.matrixAutoUpdate=!1,js.updateMatrixWorld(),$u.setFromObject(Io).getSize(Es),Io.matrix=Ur,Io.matrixAutoUpdate=nu,js.updateMatrixWorld()})(Hr,vr.current,er,Gn):er.setFromObject(Hr).getSize(Gn),ao.setWidth(to||Gn[dr]*ht),ao.setHeight(Lo||Gn[Nr]*ht))}),dn.calculateLayout(nr*ht,ir*ht,Or);const ur=dn.getComputedWidth(),an=dn.getComputedHeight();let sr=0,kn=0,Wn=0,xr=0;Yn.current.forEach(pr=>{let{group:Hr,node:ao,centerAnchor:So}=pr;const{left:to,top:Lo,width:Io,height:js}=ao.getComputedLayout(),[$u,Es]=((nu,gs,Dl,Wu)=>nu&&(xu=>{var Su;return!((Su=xu.getParent())!=null&&Su.getParent())})(Wu)?[-gs/2,-Dl/2]:[0,0])(St,ur,an,ao),Ur=(nu=>{let{x:gs,y:Dl,z:Wu}=nu;return new Vector3(gs,Dl,Wu)})({[dr]:($u+to+(So?Io/2:0))/ht,[Nr]:-(Es+Lo+(So?js/2:0))/ht,[Zn]:0});sr=Math.min(sr,to),Wn=Math.min(Wn,Lo),kn=Math.max(kn,to+Io),xr=Math.max(xr,Lo+js),Hr.position.copy(Ur)}),vt&&vt((kn-sr)/ht,(xr-Wn)/ht),In()}return useFrame(()=>{Hn.current&&(Hn.current=!1,$n())}),React$1.createElement("group",_extends$2({ref:mergeRefs([vr,e])},Qn),React$1.createElement(E.Provider,{value:Er},React$1.createElement(b.Provider,{value:un},o)))}F.displayName="Box";const G=React$1.forwardRef(A);G.displayName="Flex";const instagramImg=""+new URL("instagram-logo-ad466939.jpg",import.meta.url).href,spotifyImg=""+new URL("spotify-logo-193ef6f3.png",import.meta.url).href,Social=({src:c,link:e})=>{const[a,d]=reactExports.useState(!1);reactExports.useEffect(()=>{document.body.style.cursor=a?"pointer":"auto"},[a]);const nt=useLoader(TextureLoader,c),o=reactExports.useRef(null);return useFrame((ht,vt)=>{o.current&&(o.current.rotation.y+=vt*Math.random())}),jsxs("mesh",{onPointerEnter:()=>d(!0),onPointerLeave:()=>d(!1),ref:o,onClick:()=>window.open(e),children:[jsx("circleGeometry",{args:[.2,128]}),jsx("meshBasicMaterial",{map:nt,side:DoubleSide})]})},Socials=({socials:c})=>jsx("group",{position:pages.socials.camera.lookAt,children:jsx(G,{justifyContent:"center",alignItems:"center",flexDirection:"row",plane:"xy",size:[1.5,0,0],centerAnchor:!0,children:c.map(e=>jsx(F,{width:"auto",height:"auto",flexGrow:1,centerAnchor:!0,children:jsx(Social,{link:e.link,src:e.platform==="instagram"?instagramImg:spotifyImg})},e._id))})}),VerticalTitle=dt.h1`
  position: absolute;
  font-family: 'Bootzy';
  top: ${isMobile_1?"25%":"50%"};
  left: 0;
  font-size: 64px;
  margin-left: ${isMobile_1?"12px":"24px"};
  animation: ${appear} 1s ease-in-out;
  height: 40%;
  text-align: center;
  transform: translate(0, -50%);
  writing-mode: vertical-rl;
`,VerticalLocation=dt.h2`
  position: absolute;
  font-family: 'Bootzy';
  top: ${isMobile_1?"25%":"50%"};
  right: 0;
  font-size: 36px;
  margin-right: ${isMobile_1?"12px":"24px"};
  animation: ${appear} 2s ease-in-out;
  height: 40%;
  text-align: center;
  transform: translate(0, -50%) rotateX(180deg) scaleX(-1);
  writing-mode: vertical-lr;
`,EPSILON=1,Landing=({isAtSplash:c,gltf:e,nextParty:a,socials:d})=>{const[nt,o]=reactExports.useState([pages.initial]),[ht,vt]=reactExports.useState(pages.splash),xt=reactExports.useRef(pages.splash.camera.lookAt),[St,Tt]=reactExports.useState(!1);reactExports.useEffect(()=>{c||vt(pages.initial)},[c]);const At=()=>(useFrame(({camera:yt},Dt)=>{if(St&&c)return;const Nt=ht.camera.lookAt,Lt=ht.camera.position;xt.current.lerp(Nt,Dt*3),yt.lookAt(xt.current),yt.position.lerp(Lt,Dt*3);const Ot=yt.position.distanceTo(Lt)<EPSILON,Ft=xt.current.distanceTo(Nt)<EPSILON;Ot&&Ft&&!St&&Tt(!0)}),null),Ct=reactExports.useCallback(yt=>{Tt(!1),vt(yt),o(Dt=>[...Dt,yt])},[nt,ht]),Rt=reactExports.useCallback(()=>{const yt=[...nt];yt.pop(),Ct(yt[yt.length-1]||pages.initial),o(yt)},[nt]);return jsxs(Fragment,{children:[jsxs(Canvas,{camera:{position:[20,50,0]},children:[jsx(At,{}),jsx("ambientLight",{}),jsx("directionalLight",{position:[10,10,10]}),jsx(OrbitControls,{autoRotate:c,enableZoom:!1,enablePan:ht.id!=="partyHistory",enableRotate:ht.id!=="partyHistory",autoRotateSpeed:.9}),jsx("primitive",{position:[0,0,0],object:e.scene}),jsx(NextPartyPoster,{nextParty:a,moveTo:Ct,currentPage:ht}),jsx(Socials,{socials:d}),ht.id==="partyHistory"&&jsx(PartyHistory,{doneTransitioning:St}),ht.id==="partyDetails"&&jsx(PartyDetails,{party:a})]}),ht.id==="initial"&&jsx(VerticalTitle,{children:"ADR"}),ht.id==="initial"&&jsx(VerticalLocation,{children:"Garden"}),!c&&ht.id!=="partyHistory"&&jsx(NavBar,{currentPage:ht,moveTo:Ct}),ht.id!=="splash"&&jsxs(Fragment,{children:[ht.id!=="initial"&&jsx(Close,{moveTo:Ct}),ht.id!=="initial"&&jsx(Back,{goBack:Rt})]}),ht.id==="partyDetails"&&jsx(Archive,{moveTo:Ct})]})},Wrapper=dt.div`
  width: 100vw;
  height: 100svh;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
`,Blur=dt.div`
  width: 100%;
  height: 100%;
  position: absolute;
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  top: 0;
  left: 0;
  display: flex;
  justify-content: center;
  z-index: 999;
  opacity: ${({$isFadingOut:c})=>c?0:1};
  transition: opacity 1s ease-in-out;
`,Title=dt.h1`
  font-family: 'Bootzy';
  font-size: 64px;
  margin-top: 24px;
  animation: ${fadeIn} 1s ease-in-out;
  width: 80%;
  text-align: center;

  @media (max-width: 768px) {
    font-size: 48px;
  }
`,Splash=()=>{const[c,e]=reactExports.useState(!0),[a,d]=reactExports.useState(!1),nt=useLoader(GLTFLoader,"./backyard.glb"),{loaded:o,total:ht}=useProgress(),{data:vt,isLoading:xt,isError:St}=useGetParties(),{data:Tt,isLoading:At,isError:Ct}=useGetSocials(),Rt=reactExports.useMemo(()=>xt||At||o!==ht,[o,ht,xt,At]),yt=()=>{d(!0),setTimeout(()=>{e(!1)},1e3)};return Rt?jsx(Wrapper,{children:jsx("p",{children:"Loading..."})}):St||Ct||!vt||!Tt?jsx(Wrapper,{children:jsx("p",{children:"Something went wrong!"})}):jsxs(Wrapper,{children:[jsx(Landing,{isAtSplash:c,gltf:nt,nextParty:vt[vt.length-1],socials:Tt}),c&&jsxs(Blur,{$isFadingOut:a,children:[jsx(Title,{children:"AFTER DINNER RECORDS"}),jsx(Enter,{handleEnter:yt})]})]})},queryClient=new QueryClient,App=()=>jsx(QueryClientProvider,{client:queryClient,children:jsx(Splash,{})}),index="";client.createRoot(document.getElementById("root")).render(jsx(React$1.StrictMode,{children:jsx(App,{})}));
